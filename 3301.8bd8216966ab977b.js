"use strict";(self.webpackChunkangular=self.webpackChunkangular||[]).push([[3301],{12686:(Oe,F,P)=>{P.d(F,{ConfigCtrl:()=>N,zv:()=>v,uA:()=>fe,ExplorerCtrl:()=>Re,jb:()=>Ne,OptionsCtrl:()=>W,AV:()=>ne,ThemeCtrl:()=>ze,ToastCtrl:()=>Fe});var E=P(49671);Symbol();const K=Symbol();const X=Object.getPrototypeOf,q=new WeakMap,ee=e=>e&&(q.has(e)?q.get(e):X(e)===Object.prototype||X(e)===Array.prototype),ue=(e,t=!0)=>{q.set(e,t)},se=e=>"object"==typeof e&&null!==e,M=new WeakMap,B=new WeakSet,[Pe]=((e=Object.is,t=((r,f)=>new Proxy(r,f)),s=(r=>se(r)&&!B.has(r)&&(Array.isArray(r)||!(Symbol.iterator in r))&&!(r instanceof WeakMap)&&!(r instanceof WeakSet)&&!(r instanceof Error)&&!(r instanceof Number)&&!(r instanceof Date)&&!(r instanceof String)&&!(r instanceof RegExp)&&!(r instanceof ArrayBuffer)),n=(r=>{switch(r.status){case"fulfilled":return r.value;case"rejected":throw r.reason;default:throw r}}),c=new WeakMap,o=((r,f,w=n)=>{const p=c.get(r);if(p?.[0]===f)return p[1];const m=Array.isArray(r)?[]:Object.create(Object.getPrototypeOf(r));return ue(m,!0),c.set(r,[f,m]),Reflect.ownKeys(r).forEach(b=>{if(Object.getOwnPropertyDescriptor(m,b))return;const h=Reflect.get(r,b),C={value:h,enumerable:!0,configurable:!0};if(B.has(h))ue(h,!1);else if(h instanceof Promise)delete C.value,C.get=()=>w(h);else if(M.has(h)){const[O,ae]=M.get(h);C.value=o(O,ae(),w)}Object.defineProperty(m,b,C)}),Object.preventExtensions(m)}),i=new WeakMap,l=[1,1],g=(r=>{if(!se(r))throw new Error("object required");const f=i.get(r);if(f)return f;let w=l[0];const p=new Set,m=(u,d=++l[0])=>{w!==d&&(w=d,p.forEach(a=>a(u,d)))};let b=l[1];const C=u=>(d,a)=>{const _=[...d];_[1]=[u,..._[1]],m(_,a)},O=new Map,ve=u=>{var d;const a=O.get(u);a&&(O.delete(u),null==(d=a[1])||d.call(a))},ce=Array.isArray(r)?[]:Object.create(Object.getPrototypeOf(r)),Y=t(ce,{deleteProperty(u,d){const a=Reflect.get(u,d);ve(d);const _=Reflect.deleteProperty(u,d);return _&&m(["delete",[d],a]),_},set(u,d,a,_){const V=Reflect.has(u,d),z=Reflect.get(u,d,_);if(V&&(e(z,a)||i.has(a)&&e(z,i.get(a))))return!0;ve(d),se(a)&&(a=(e=>ee(e)&&e[K]||null)(a)||a);let Q=a;if(a instanceof Promise)a.then(U=>{a.status="fulfilled",a.value=U,m(["resolve",[d],U])}).catch(U=>{a.status="rejected",a.reason=U,m(["reject",[d],U])});else{!M.has(a)&&s(a)&&(Q=g(a));const U=!B.has(Q)&&M.get(Q);U&&((u,d)=>{if(O.has(u))throw new Error("prop listener already exists");if(p.size){const a=d[3](C(u));O.set(u,[d,a])}else O.set(u,[d])})(d,U)}return Reflect.set(u,d,Q,_),m(["set",[d],a,z]),!0}});i.set(r,Y);const Ge=[ce,(u=++l[1])=>(b!==u&&!p.size&&(b=u,O.forEach(([d])=>{const a=d[1](u);a>w&&(w=a)})),w),o,u=>(p.add(u),1===p.size&&O.forEach(([a,_],V)=>{if(_)throw new Error("remove already exists");const z=a[3](C(V));O.set(V,[a,z])}),()=>{p.delete(u),0===p.size&&O.forEach(([a,_],V)=>{_&&(_(),O.set(V,[a]))})})];return M.set(Y,Ge),Reflect.ownKeys(r).forEach(u=>{const d=Object.getOwnPropertyDescriptor(r,u);"value"in d&&(Y[u]=r[u],delete d.value,delete d.writable),Object.defineProperty(ce,u,d)}),Y}))=>[g,M,B,e,t,s,n,c,o,i,l])();function S(e={}){return Pe(e)}function T(e,t,s){const n=M.get(e);let c;n||console.warn("Please use proxy object");const o=[],i=n[3];let l=!1;const r=i(f=>{o.push(f),s?t(o.splice(0)):c||(c=Promise.resolve().then(()=>{c=void 0,l&&t(o.splice(0))}))});return l=!0,()=>{l=!1,r()}}const y=S({history:["ConnectWallet"],view:"ConnectWallet",data:void 0}),ne={state:y,subscribe:e=>T(y,()=>e(y)),push(e,t){e!==y.view&&(y.view=e,t&&(y.data=t),y.history.push(e))},reset(e){y.view=e,y.history=[e]},replace(e){y.history.length>1&&(y.history[y.history.length-1]=e,y.view=e)},goBack(){if(y.history.length>1){y.history.pop();const[e]=y.history.slice(-1);y.view=e}},setData(e){y.data=e}},v={WALLETCONNECT_DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",WCM_VERSION:"WCM_VERSION",RECOMMENDED_WALLET_AMOUNT:9,isMobile:()=>typeof window<"u"&&!(!window.matchMedia("(pointer:coarse)").matches&&!/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)),isAndroid:()=>v.isMobile()&&navigator.userAgent.toLowerCase().includes("android"),isIos(){const e=navigator.userAgent.toLowerCase();return v.isMobile()&&(e.includes("iphone")||e.includes("ipad"))},isHttpUrl:e=>e.startsWith("http://")||e.startsWith("https://"),isArray:e=>Array.isArray(e)&&e.length>0,isTelegram:()=>typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto),formatNativeUrl(e,t,s){if(v.isHttpUrl(e))return this.formatUniversalUrl(e,t,s);let n=e;n.includes("://")||(n=e.replaceAll("/","").replaceAll(":",""),n=`${n}://`),n.endsWith("/")||(n=`${n}/`),this.setWalletConnectDeepLink(n,s);return`${n}wc?uri=${encodeURIComponent(t)}`},formatUniversalUrl(e,t,s){if(!v.isHttpUrl(e))return this.formatNativeUrl(e,t,s);let n=e;if(n.startsWith("https://t.me")){const o=Buffer.from(t).toString("base64").replace(/[=]/g,"");n.endsWith("/")&&(n=n.slice(0,-1)),this.setWalletConnectDeepLink(n,s);const i=new URL(n);return i.searchParams.set("startapp",o),i.toString()}n.endsWith("/")||(n=`${n}/`),this.setWalletConnectDeepLink(n,s);return`${n}wc?uri=${encodeURIComponent(t)}`},wait:e=>(0,E.Z)(function*(){return new Promise(t=>{setTimeout(t,e)})})(),openHref(e,t){const s=this.isTelegram()?"_blank":t;window.open(e,s,"noreferrer noopener")},setWalletConnectDeepLink(e,t){try{localStorage.setItem(v.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:e,name:t}))}catch{console.info("Unable to set WalletConnect deep link")}},setWalletConnectAndroidDeepLink(e){try{const[t]=e.split("?");localStorage.setItem(v.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:t,name:"Android"}))}catch{console.info("Unable to set WalletConnect android deep link")}},removeWalletConnectDeepLink(){try{localStorage.removeItem(v.WALLETCONNECT_DEEPLINK_CHOICE)}catch{console.info("Unable to remove WalletConnect deep link")}},setModalVersionInStorage(){try{typeof localStorage<"u"&&localStorage.setItem(v.WCM_VERSION,"2.7.0")}catch{console.info("Unable to set Web3Modal version in storage")}},getWalletRouterData(){var e;const t=null==(e=ne.state.data)?void 0:e.Wallet;if(!t)throw new Error('Missing "Wallet" view data');return t}},I=S({enabled:typeof location<"u"&&(location.hostname.includes("localhost")||location.protocol.includes("https")),userSessionId:"",events:[],connectedWalletId:void 0}),fe={state:I,subscribe:e=>T(I.events,()=>e(function Le(e,t){const s=M.get(e);s||console.warn("Please use proxy object");const[n,c,o]=s;return o(n,c(),t)}(I.events[I.events.length-1]))),initialize(){I.enabled&&typeof(null==crypto?void 0:crypto.randomUUID)<"u"&&(I.userSessionId=crypto.randomUUID())},setConnectedWalletId(e){I.connectedWalletId=e},click(e){if(I.enabled){const t={type:"CLICK",name:e.name,userSessionId:I.userSessionId,timestamp:Date.now(),data:e};I.events.push(t)}},track(e){if(I.enabled){const t={type:"TRACK",name:e.name,userSessionId:I.userSessionId,timestamp:Date.now(),data:e};I.events.push(t)}},view(e){if(I.enabled){const t={type:"VIEW",name:e.name,userSessionId:I.userSessionId,timestamp:Date.now(),data:e};I.events.push(t)}}},j=S({chains:void 0,walletConnectUri:void 0,isAuth:!1,isCustomDesktop:!1,isCustomMobile:!1,isDataLoaded:!1,isUiLoaded:!1}),W={state:j,subscribe:e=>T(j,()=>e(j)),setChains(e){j.chains=e},setWalletConnectUri(e){j.walletConnectUri=e},setIsCustomDesktop(e){j.isCustomDesktop=e},setIsCustomMobile(e){j.isCustomMobile=e},setIsDataLoaded(e){j.isDataLoaded=e},setIsUiLoaded(e){j.isUiLoaded=e},setIsAuth(e){j.isAuth=e}},G=S({projectId:"",mobileWallets:void 0,desktopWallets:void 0,walletImages:void 0,chains:void 0,enableAuthMode:!1,enableExplorer:!0,explorerExcludedWalletIds:void 0,explorerRecommendedWalletIds:void 0,termsOfServiceUrl:void 0,privacyPolicyUrl:void 0}),N={state:G,subscribe:e=>T(G,()=>e(G)),setConfig(e){var t,s;fe.initialize(),W.setChains(e.chains),W.setIsAuth(!!e.enableAuthMode),W.setIsCustomMobile(!(null==(t=e.mobileWallets)||!t.length)),W.setIsCustomDesktop(!(null==(s=e.desktopWallets)||!s.length)),v.setModalVersionInStorage(),Object.assign(G,e)}};var je=Object.defineProperty,pe=Object.getOwnPropertySymbols,De=Object.prototype.hasOwnProperty,Me=Object.prototype.propertyIsEnumerable,ge=(e,t,s)=>t in e?je(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Se=(e,t)=>{for(var s in t||(t={}))De.call(t,s)&&ge(e,s,t[s]);if(pe)for(var s of pe(t))Me.call(t,s)&&ge(e,s,t[s]);return e};const re="https://explorer-api.walletconnect.com",oe="wcm",ie="js-2.7.0";function J(e,t){return le.apply(this,arguments)}function le(){return(le=(0,E.Z)(function*(e,t){const s=Se({sdkType:oe,sdkVersion:ie},t),n=new URL(e,re);return n.searchParams.append("projectId",N.state.projectId),Object.entries(s).forEach(([o,i])=>{i&&n.searchParams.append(o,String(i))}),(yield fetch(n)).json()})).apply(this,arguments)}const $={getDesktopListings:e=>(0,E.Z)(function*(){return J("/w3m/v1/getDesktopListings",e)})(),getMobileListings:e=>(0,E.Z)(function*(){return J("/w3m/v1/getMobileListings",e)})(),getInjectedListings:e=>(0,E.Z)(function*(){return J("/w3m/v1/getInjectedListings",e)})(),getAllListings:e=>(0,E.Z)(function*(){return J("/w3m/v1/getAllListings",e)})(),getWalletImageUrl:e=>`${re}/w3m/v1/getWalletImage/${e}?projectId=${N.state.projectId}&sdkType=${oe}&sdkVersion=${ie}`,getAssetImageUrl:e=>`${re}/w3m/v1/getAssetImage/${e}?projectId=${N.state.projectId}&sdkType=${oe}&sdkVersion=${ie}`};var Ue=Object.defineProperty,he=Object.getOwnPropertySymbols,Te=Object.prototype.hasOwnProperty,$e=Object.prototype.propertyIsEnumerable,me=(e,t,s)=>t in e?Ue(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;const ye=v.isMobile(),D=S({wallets:{listings:[],total:0,page:1},search:{listings:[],total:0,page:1},recomendedWallets:[]}),Re={state:D,getRecomendedWallets:()=>(0,E.Z)(function*(){const{explorerRecommendedWalletIds:e,explorerExcludedWalletIds:t}=N.state;if("NONE"===e||"ALL"===t&&!e)return D.recomendedWallets;if(v.isArray(e)){const n={recommendedIds:e.join(",")},{listings:c}=yield $.getAllListings(n),o=Object.values(c);o.sort((i,l)=>e.indexOf(i.id)-e.indexOf(l.id)),D.recomendedWallets=o}else{const{chains:s,isAuth:n}=W.state,c=s?.join(","),o=v.isArray(t),i={page:1,sdks:n?"auth_v1":void 0,entries:v.RECOMMENDED_WALLET_AMOUNT,chains:c,version:2,excludedIds:o?t.join(","):void 0},{listings:l}=ye?yield $.getMobileListings(i):yield $.getDesktopListings(i);D.recomendedWallets=Object.values(l)}return D.recomendedWallets})(),getWallets:e=>(0,E.Z)(function*(){const t=((e,t)=>{for(var s in t||(t={}))Te.call(t,s)&&me(e,s,t[s]);if(he)for(var s of he(t))$e.call(t,s)&&me(e,s,t[s]);return e})({},e),{explorerRecommendedWalletIds:s,explorerExcludedWalletIds:n}=N.state,{recomendedWallets:c}=D;if("ALL"===n)return D.wallets;c.length?t.excludedIds=c.map(w=>w.id).join(","):v.isArray(s)&&(t.excludedIds=s.join(",")),v.isArray(n)&&(t.excludedIds=[t.excludedIds,n].filter(Boolean).join(",")),W.state.isAuth&&(t.sdks="auth_v1");const{page:o,search:i}=e,{listings:l,total:g}=ye?yield $.getMobileListings(t):yield $.getDesktopListings(t),r=Object.values(l),f=i?"search":"wallets";return D[f]={listings:[...D[f].listings,...r],total:g,page:o??1},{listings:r,total:g}})(),getWalletImageUrl:e=>$.getWalletImageUrl(e),getAssetImageUrl:e=>$.getAssetImageUrl(e),resetSearch(){D.search={listings:[],total:0,page:1}}},x=S({open:!1}),Ne={state:x,subscribe:e=>T(x,()=>e(x)),open:e=>(0,E.Z)(function*(){return new Promise(t=>{const{isUiLoaded:s,isDataLoaded:n}=W.state;if(v.removeWalletConnectDeepLink(),W.setWalletConnectUri(e?.uri),W.setChains(e?.chains),ne.reset("ConnectWallet"),s&&n)x.open=!0,t();else{const c=setInterval(()=>{const o=W.state;o.isUiLoaded&&o.isDataLoaded&&(clearInterval(c),x.open=!0,t())},200)}})})(),close(){x.open=!1}};var xe=Object.defineProperty,we=Object.getOwnPropertySymbols,Ve=Object.prototype.hasOwnProperty,Ke=Object.prototype.propertyIsEnumerable,be=(e,t,s)=>t in e?xe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;const Z=S({themeMode:function Ze(){return typeof matchMedia<"u"&&matchMedia("(prefers-color-scheme: dark)").matches}()?"dark":"light"}),ze={state:Z,subscribe:e=>T(Z,()=>e(Z)),setThemeConfig(e){const{themeMode:t,themeVariables:s}=e;t&&(Z.themeMode=t),s&&(Z.themeVariables=((e,t)=>{for(var s in t||(t={}))Ve.call(t,s)&&be(e,s,t[s]);if(we)for(var s of we(t))Ke.call(t,s)&&be(e,s,t[s]);return e})({},s))}},k=S({open:!1,message:"",variant:"success"}),Fe={state:k,subscribe:e=>T(k,()=>e(k)),openToast(e,t){k.open=!0,k.message=e,k.variant=t},closeToast(){k.open=!1}}},93301:(Oe,F,P)=>{P.r(F),P.d(F,{WalletConnectModal:()=>K});var E=P(49671),L=P(12686);class K{constructor(A){this.openModal=L.jb.open,this.closeModal=L.jb.close,this.subscribeModal=L.jb.subscribe,this.setTheme=L.ThemeCtrl.setThemeConfig,L.ThemeCtrl.setThemeConfig(A),L.ConfigCtrl.setConfig(A),this.initUi()}initUi(){return(0,E.Z)(function*(){if(typeof window<"u"){yield P.e(2704).then(P.bind(P,22704));const A=document.createElement("wcm-modal");document.body.insertAdjacentElement("beforeend",A),L.OptionsCtrl.setIsUiLoaded(!0)}})()}}}}]);