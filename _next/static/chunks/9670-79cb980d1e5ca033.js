(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9670],{28552:function(eu,ed,eg){var em,eb=eg(34406);!function(){"use strict";var ed="input is invalid type",ew="object"==typeof window,e_=ew?window:{};e_.JS_SHA256_NO_WINDOW&&(ew=!1);var eE=!ew&&"object"==typeof self,eA=!e_.JS_SHA256_NO_NODE_JS&&"object"==typeof eb&&eb.versions&&eb.versions.node&&"renderer"!=eb.type;eA?e_=eg.g:eE&&(e_=self);var eS=!e_.JS_SHA256_NO_COMMON_JS&&eu.exports,eI=eg.amdO,eC=!e_.JS_SHA256_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,eM="0123456789abcdef".split(""),eO=[-2147483648,8388608,32768,128],eT=[24,16,8,0],eP=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],eN=["hex","array","digest","arrayBuffer"],ek=[];(e_.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(eu){return"[object Array]"===Object.prototype.toString.call(eu)}),eC&&(e_.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(eu){return"object"==typeof eu&&eu.buffer&&eu.buffer.constructor===ArrayBuffer});var eR=function(eu,ed){return function(eg){return new ej(ed,!0).update(eg)[eu]()}},eD=function(eu){var ed=eR("hex",eu);eA&&(ed=eB(ed,eu)),ed.create=function(){return new ej(eu)},ed.update=function(eu){return ed.create().update(eu)};for(var eg=0;eg<eN.length;++eg){var em=eN[eg];ed[em]=eR(em,eu)}return ed},eB=function(eu,em){var eb,ew=eg(5634),eE=eg(65992).Buffer,eA=em?"sha224":"sha256";return eb=eE.from&&!e_.JS_SHA256_NO_BUFFER_FROM?eE.from:function(eu){return new eE(eu)},function(eg){if("string"==typeof eg)return ew.createHash(eA).update(eg,"utf8").digest("hex");if(null==eg)throw Error(ed);return eg.constructor===ArrayBuffer&&(eg=new Uint8Array(eg)),Array.isArray(eg)||ArrayBuffer.isView(eg)||eg.constructor===eE?ew.createHash(eA).update(eb(eg)).digest("hex"):eu(eg)}},eU=function(eu,ed){return function(eg,em){return new eF(eg,ed,!0).update(em)[eu]()}},eL=function(eu){var ed=eU("hex",eu);ed.create=function(ed){return new eF(ed,eu)},ed.update=function(eu,eg){return ed.create(eu).update(eg)};for(var eg=0;eg<eN.length;++eg){var em=eN[eg];ed[em]=eU(em,eu)}return ed};function ej(eu,ed){ed?(ek[0]=ek[16]=ek[1]=ek[2]=ek[3]=ek[4]=ek[5]=ek[6]=ek[7]=ek[8]=ek[9]=ek[10]=ek[11]=ek[12]=ek[13]=ek[14]=ek[15]=0,this.blocks=ek):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],eu?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=eu}function eF(eu,eg,em){var eb,ew=typeof eu;if("string"===ew){var e_,eE=[],eA=eu.length,eS=0;for(eb=0;eb<eA;++eb)(e_=eu.charCodeAt(eb))<128?eE[eS++]=e_:e_<2048?(eE[eS++]=192|e_>>>6,eE[eS++]=128|63&e_):e_<55296||e_>=57344?(eE[eS++]=224|e_>>>12,eE[eS++]=128|e_>>>6&63,eE[eS++]=128|63&e_):(e_=65536+((1023&e_)<<10|1023&eu.charCodeAt(++eb)),eE[eS++]=240|e_>>>18,eE[eS++]=128|e_>>>12&63,eE[eS++]=128|e_>>>6&63,eE[eS++]=128|63&e_);eu=eE}else if("object"===ew){if(null===eu)throw Error(ed);if(eC&&eu.constructor===ArrayBuffer)eu=new Uint8Array(eu);else if(!Array.isArray(eu)&&(!eC||!ArrayBuffer.isView(eu)))throw Error(ed)}else throw Error(ed);eu.length>64&&(eu=new ej(eg,!0).update(eu).array());var eI=[],eM=[];for(eb=0;eb<64;++eb){var eO=eu[eb]||0;eI[eb]=92^eO,eM[eb]=54^eO}ej.call(this,eg,em),this.update(eM),this.oKeyPad=eI,this.inner=!0,this.sharedMemory=em}ej.prototype.update=function(eu){if(!this.finalized){var eg,em=typeof eu;if("string"!==em){if("object"===em){if(null===eu)throw Error(ed);if(eC&&eu.constructor===ArrayBuffer)eu=new Uint8Array(eu);else if(!Array.isArray(eu)&&(!eC||!ArrayBuffer.isView(eu)))throw Error(ed)}else throw Error(ed);eg=!0}for(var eb,ew,e_=0,eE=eu.length,eA=this.blocks;e_<eE;){if(this.hashed&&(this.hashed=!1,eA[0]=this.block,this.block=eA[16]=eA[1]=eA[2]=eA[3]=eA[4]=eA[5]=eA[6]=eA[7]=eA[8]=eA[9]=eA[10]=eA[11]=eA[12]=eA[13]=eA[14]=eA[15]=0),eg)for(ew=this.start;e_<eE&&ew<64;++e_)eA[ew>>>2]|=eu[e_]<<eT[3&ew++];else for(ew=this.start;e_<eE&&ew<64;++e_)(eb=eu.charCodeAt(e_))<128?eA[ew>>>2]|=eb<<eT[3&ew++]:eb<2048?(eA[ew>>>2]|=(192|eb>>>6)<<eT[3&ew++],eA[ew>>>2]|=(128|63&eb)<<eT[3&ew++]):eb<55296||eb>=57344?(eA[ew>>>2]|=(224|eb>>>12)<<eT[3&ew++],eA[ew>>>2]|=(128|eb>>>6&63)<<eT[3&ew++],eA[ew>>>2]|=(128|63&eb)<<eT[3&ew++]):(eb=65536+((1023&eb)<<10|1023&eu.charCodeAt(++e_)),eA[ew>>>2]|=(240|eb>>>18)<<eT[3&ew++],eA[ew>>>2]|=(128|eb>>>12&63)<<eT[3&ew++],eA[ew>>>2]|=(128|eb>>>6&63)<<eT[3&ew++],eA[ew>>>2]|=(128|63&eb)<<eT[3&ew++]);this.lastByteIndex=ew,this.bytes+=ew-this.start,ew>=64?(this.block=eA[16],this.start=ew-64,this.hash(),this.hashed=!0):this.start=ew}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},ej.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var eu=this.blocks,ed=this.lastByteIndex;eu[16]=this.block,eu[ed>>>2]|=eO[3&ed],this.block=eu[16],ed>=56&&(this.hashed||this.hash(),eu[0]=this.block,eu[16]=eu[1]=eu[2]=eu[3]=eu[4]=eu[5]=eu[6]=eu[7]=eu[8]=eu[9]=eu[10]=eu[11]=eu[12]=eu[13]=eu[14]=eu[15]=0),eu[14]=this.hBytes<<3|this.bytes>>>29,eu[15]=this.bytes<<3,this.hash()}},ej.prototype.hash=function(){var eu,ed,eg,em,eb,ew,e_,eE,eA,eS,eI,eC=this.h0,eM=this.h1,eO=this.h2,eT=this.h3,eN=this.h4,ek=this.h5,eR=this.h6,eD=this.h7,eB=this.blocks;for(eu=16;eu<64;++eu)ed=((eb=eB[eu-15])>>>7|eb<<25)^(eb>>>18|eb<<14)^eb>>>3,eg=((eb=eB[eu-2])>>>17|eb<<15)^(eb>>>19|eb<<13)^eb>>>10,eB[eu]=eB[eu-16]+ed+eB[eu-7]+eg<<0;for(eu=0,eI=eM&eO;eu<64;eu+=4)this.first?(this.is224?(eE=300032,eD=(eb=eB[0]-1413257819)-150054599<<0,eT=eb+24177077<<0):(eE=704751109,eD=(eb=eB[0]-210244248)-1521486534<<0,eT=eb+143694565<<0),this.first=!1):(ed=(eC>>>2|eC<<30)^(eC>>>13|eC<<19)^(eC>>>22|eC<<10),eg=(eN>>>6|eN<<26)^(eN>>>11|eN<<21)^(eN>>>25|eN<<7),em=(eE=eC&eM)^eC&eO^eI,eb=eD+eg+(e_=eN&ek^~eN&eR)+eP[eu]+eB[eu],ew=ed+em,eD=eT+eb<<0,eT=eb+ew<<0),ed=(eT>>>2|eT<<30)^(eT>>>13|eT<<19)^(eT>>>22|eT<<10),eg=(eD>>>6|eD<<26)^(eD>>>11|eD<<21)^(eD>>>25|eD<<7),em=(eA=eT&eC)^eT&eM^eE,eb=eR+eg+(e_=eD&eN^~eD&ek)+eP[eu+1]+eB[eu+1],ew=ed+em,eR=eO+eb<<0,ed=((eO=eb+ew<<0)>>>2|eO<<30)^(eO>>>13|eO<<19)^(eO>>>22|eO<<10),eg=(eR>>>6|eR<<26)^(eR>>>11|eR<<21)^(eR>>>25|eR<<7),em=(eS=eO&eT)^eO&eC^eA,eb=ek+eg+(e_=eR&eD^~eR&eN)+eP[eu+2]+eB[eu+2],ew=ed+em,ek=eM+eb<<0,ed=((eM=eb+ew<<0)>>>2|eM<<30)^(eM>>>13|eM<<19)^(eM>>>22|eM<<10),eg=(ek>>>6|ek<<26)^(ek>>>11|ek<<21)^(ek>>>25|ek<<7),em=(eI=eM&eO)^eM&eT^eS,eb=eN+eg+(e_=ek&eR^~ek&eD)+eP[eu+3]+eB[eu+3],ew=ed+em,eN=eC+eb<<0,eC=eb+ew<<0,this.chromeBugWorkAround=!0;this.h0=this.h0+eC<<0,this.h1=this.h1+eM<<0,this.h2=this.h2+eO<<0,this.h3=this.h3+eT<<0,this.h4=this.h4+eN<<0,this.h5=this.h5+ek<<0,this.h6=this.h6+eR<<0,this.h7=this.h7+eD<<0},ej.prototype.hex=function(){this.finalize();var eu=this.h0,ed=this.h1,eg=this.h2,em=this.h3,eb=this.h4,ew=this.h5,e_=this.h6,eE=this.h7,eA=eM[eu>>>28&15]+eM[eu>>>24&15]+eM[eu>>>20&15]+eM[eu>>>16&15]+eM[eu>>>12&15]+eM[eu>>>8&15]+eM[eu>>>4&15]+eM[15&eu]+eM[ed>>>28&15]+eM[ed>>>24&15]+eM[ed>>>20&15]+eM[ed>>>16&15]+eM[ed>>>12&15]+eM[ed>>>8&15]+eM[ed>>>4&15]+eM[15&ed]+eM[eg>>>28&15]+eM[eg>>>24&15]+eM[eg>>>20&15]+eM[eg>>>16&15]+eM[eg>>>12&15]+eM[eg>>>8&15]+eM[eg>>>4&15]+eM[15&eg]+eM[em>>>28&15]+eM[em>>>24&15]+eM[em>>>20&15]+eM[em>>>16&15]+eM[em>>>12&15]+eM[em>>>8&15]+eM[em>>>4&15]+eM[15&em]+eM[eb>>>28&15]+eM[eb>>>24&15]+eM[eb>>>20&15]+eM[eb>>>16&15]+eM[eb>>>12&15]+eM[eb>>>8&15]+eM[eb>>>4&15]+eM[15&eb]+eM[ew>>>28&15]+eM[ew>>>24&15]+eM[ew>>>20&15]+eM[ew>>>16&15]+eM[ew>>>12&15]+eM[ew>>>8&15]+eM[ew>>>4&15]+eM[15&ew]+eM[e_>>>28&15]+eM[e_>>>24&15]+eM[e_>>>20&15]+eM[e_>>>16&15]+eM[e_>>>12&15]+eM[e_>>>8&15]+eM[e_>>>4&15]+eM[15&e_];return this.is224||(eA+=eM[eE>>>28&15]+eM[eE>>>24&15]+eM[eE>>>20&15]+eM[eE>>>16&15]+eM[eE>>>12&15]+eM[eE>>>8&15]+eM[eE>>>4&15]+eM[15&eE]),eA},ej.prototype.toString=ej.prototype.hex,ej.prototype.digest=function(){this.finalize();var eu=this.h0,ed=this.h1,eg=this.h2,em=this.h3,eb=this.h4,ew=this.h5,e_=this.h6,eE=this.h7,eA=[eu>>>24&255,eu>>>16&255,eu>>>8&255,255&eu,ed>>>24&255,ed>>>16&255,ed>>>8&255,255&ed,eg>>>24&255,eg>>>16&255,eg>>>8&255,255&eg,em>>>24&255,em>>>16&255,em>>>8&255,255&em,eb>>>24&255,eb>>>16&255,eb>>>8&255,255&eb,ew>>>24&255,ew>>>16&255,ew>>>8&255,255&ew,e_>>>24&255,e_>>>16&255,e_>>>8&255,255&e_];return this.is224||eA.push(eE>>>24&255,eE>>>16&255,eE>>>8&255,255&eE),eA},ej.prototype.array=ej.prototype.digest,ej.prototype.arrayBuffer=function(){this.finalize();var eu=new ArrayBuffer(this.is224?28:32),ed=new DataView(eu);return ed.setUint32(0,this.h0),ed.setUint32(4,this.h1),ed.setUint32(8,this.h2),ed.setUint32(12,this.h3),ed.setUint32(16,this.h4),ed.setUint32(20,this.h5),ed.setUint32(24,this.h6),this.is224||ed.setUint32(28,this.h7),eu},eF.prototype=new ej,eF.prototype.finalize=function(){if(ej.prototype.finalize.call(this),this.inner){this.inner=!1;var eu=this.array();ej.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(eu),ej.prototype.finalize.call(this)}};var e$=eD();e$.sha256=e$,e$.sha224=eD(!0),e$.sha256.hmac=eL(),e$.sha224.hmac=eL(!0),eS?eu.exports=e$:(e_.sha256=e$.sha256,e_.sha224=e$.sha224,eI&&void 0!==(em=(function(){return e$}).call(e$,eg,e$,eu))&&(eu.exports=em))}()},9138:function(eu,ed,eg){"use strict";eg.d(ed,{Z:function(){return tI}});var em,eb,ew=eg(22699),e_=eg.n(ew);let eE={},eA={},eS=(eu,ed)=>{eA[eu]=ed},eI=eu=>{class ed extends Error{cause;constructor(eg,em,eb){if(super(eg||eu,eb),Object.setPrototypeOf(this,ed.prototype),this.name=eu,em)for(let eu in em)this[eu]=em[eu];if(eb&&eC(eb)&&"cause"in eb&&!this.cause){let eu=eb.cause;this.cause=eu,"stack"in eu&&(this.stack=this.stack+"\nCAUSE: "+eu.stack)}}}return eE[eu]=ed,ed};function eC(eu){return"object"==typeof eu}let eM=eu=>{if(eu&&"object"==typeof eu){let ed;try{if("string"==typeof eu.message){let ed=JSON.parse(eu.message);ed.message&&ed.name&&(eu=ed)}}catch(eu){}if("string"==typeof eu.name){let{name:eg}=eu,em=eA[eg];if(em)ed=em(eu);else{let em="Error"===eg?Error:eE[eg];em||(console.warn("deserializing an unknown class '"+eg+"'"),em=eI(eg)),ed=Object.create(em.prototype);try{for(let eg in eu)eu.hasOwnProperty(eg)&&(ed[eg]=eu[eg])}catch(eu){}}}else"string"==typeof eu.message&&(ed=Error(eu.message));return ed&&!ed.stack&&Error.captureStackTrace&&Error.captureStackTrace(ed,eM),ed}return Error(String(eu))};eI("AccountNameRequired"),eI("AccountNotSupported"),eI("AccountAwaitingSendPendingOperations"),eI("AmountRequired"),eI("BluetoothRequired"),eI("BtcUnmatchedApp"),eI("CantOpenDevice"),eI("CashAddrNotSupported"),eI("ClaimRewardsFeesWarning"),eI("CurrencyNotSupported"),eI("DeviceAppVerifyNotSupported"),eI("DeviceGenuineSocketEarlyClose"),eI("DeviceNotGenuine"),eI("DeviceOnDashboardExpected"),eI("DeviceOnDashboardUnexpected"),eI("DeviceInOSUExpected"),eI("DeviceHalted"),eI("DeviceNameInvalid"),eI("DeviceSocketFail"),eI("DeviceSocketNoBulkStatus"),eI("DeviceSocketNoBulkStatus"),eI("UnresponsiveDeviceError");let eO=eI("DisconnectedDevice"),eT=eI("DisconnectedDeviceDuringOperation");eI("DeviceExtractOnboardingStateError"),eI("DeviceOnboardingStatePollingError"),eI("EnpointConfig"),eI("EthAppPleaseEnableContractData"),eI("CeloAppPleaseEnableContractData"),eI("FeeEstimationFailed"),eI("FirmwareNotRecognized"),eI("HardResetFail"),eI("InvalidXRPTag"),eI("InvalidAddress"),eI("InvalidNonce"),eI("InvalidAddressBecauseDestinationIsAlsoSource"),eI("LatestMCUInstalledError"),eI("LatestFirmwareVersionRequired"),eI("UnknownMCU"),eI("LedgerAPIError"),eI("LedgerAPIErrorWithMessage"),eI("LedgerAPINotAvailable"),eI("ManagerAppAlreadyInstalled"),eI("ManagerAppRelyOnBTC"),eI("ManagerAppDepInstallRequired"),eI("ManagerAppDepUninstallRequired"),eI("ManagerDeviceLocked"),eI("ManagerFirmwareNotEnoughSpace"),eI("ManagerNotEnoughSpace"),eI("ManagerUninstallBTCDep"),eI("NetworkDown"),eI("NetworkError"),eI("NoAddressesFound"),eI("NotEnoughBalance"),eI("NotEnoughBalanceFees"),eI("NotEnoughBalanceSwap"),eI("NotEnoughBalanceToDelegate"),eI("UnstakeNotEnoughStakedBalanceLeft"),eI("RestakeNotEnoughStakedBalanceLeft"),eI("NotEnoughToRestake"),eI("NotEnoughToUnstake"),eI("NotEnoughBalanceInParentAccount"),eI("NotEnoughSpendableBalance"),eI("NotEnoughBalanceBecauseDestinationNotCreated"),eI("NotEnoughToStake"),eI("NoAccessToCamera"),eI("NotEnoughGas"),eI("NotEnoughGasSwap"),eI("TronEmptyAccount"),eI("MaybeKeepTronAccountAlive"),eI("NotSupportedLegacyAddress"),eI("GasLessThanEstimate"),eI("PriorityFeeTooLow"),eI("PriorityFeeTooHigh"),eI("PriorityFeeHigherThanMaxFee"),eI("MaxFeeTooLow"),eI("PasswordsDontMatch"),eI("PasswordIncorrect"),eI("RecommendSubAccountsToEmpty"),eI("RecommendUndelegation"),eI("TimeoutTagged"),eI("UnexpectedBootloader"),eI("MCUNotGenuineToDashboard"),eI("RecipientRequired"),eI("UnavailableTezosOriginatedAccountReceive"),eI("UnavailableTezosOriginatedAccountSend"),eI("UpdateFetchFileFail"),eI("UpdateIncorrectHash"),eI("UpdateIncorrectSig"),eI("UpdateYourApp"),eI("UserRefusedDeviceNameChange"),eI("UserRefusedAddress"),eI("UserRefusedFirmwareUpdate"),eI("UserRefusedAllowManager"),eI("UserRefusedOnDevice"),eI("PinNotSet"),eI("ExpertModeRequired");let eP=eI("TransportOpenUserCancelled");eI("TransportInterfaceNotAvailable");let eN=eI("TransportRaceCondition");eI("TransportWebUSBGestureRequired"),eI("TransactionHasBeenValidatedError"),eI("TransportExchangeTimeoutError"),eI("DeviceShouldStayInApp"),eI("WebsocketConnectionError"),eI("WebsocketConnectionFailed"),eI("WrongDeviceForAccount"),eI("WrongDeviceForAccountPayout"),eI("MissingSwapPayloadParamaters"),eI("WrongDeviceForAccountRefund"),eI("WrongAppForCurrency"),eI("ETHAddressNonEIP"),eI("CantScanQRCode"),eI("FeeNotLoaded"),eI("FeeNotLoadedSwap"),eI("FeeRequired"),eI("FeeTooHigh"),eI("PendingOperation"),eI("SyncError"),eI("PairingFailed"),eI("PeerRemovedPairing"),eI("GenuineCheckFailed"),eI("LedgerAPI4xx"),eI("LedgerAPI5xx"),eI("FirmwareOrAppUpdateRequired"),eI("ReplacementTransactionUnderpriced"),eI("OpReturnSizeLimit"),eI("DustLimit"),eI("HederaInsufficientFundsForAssociation"),eI("HederaRecipientTokenAssociationRequired"),eI("HederaRecipientTokenAssociationUnverified"),eI("LanguageNotFound"),eI("NoDBPathGiven"),eI("DBWrongPassword"),eI("DBNotReset"),eI("SequenceNumberError"),eI("DisabledTransactionBroadcastError"),function(eu){eu.Unknown="Unknown",eu.LocationServicesDisabled="LocationServicesDisabled",eu.LocationServicesUnauthorized="LocationServicesUnauthorized",eu.BluetoothScanStartFailed="BluetoothScanStartFailed"}(em||(em={}));class ek extends Error{id;constructor(eu,ed){let eg="TransportError";super(eu||eg),this.name=eg,this.message=eu,this.stack=Error(eu).stack,this.id=ed}}eS("TransportError",eu=>new ek(eu.message,eu.id));let eR={ACCESS_CONDITION_NOT_FULFILLED:38916,ALGORITHM_NOT_SUPPORTED:38020,CLA_NOT_SUPPORTED:28160,CODE_BLOCKED:38976,CODE_NOT_INITIALIZED:38914,COMMAND_INCOMPATIBLE_FILE_STRUCTURE:27009,CONDITIONS_OF_USE_NOT_SATISFIED:27013,CONTRADICTION_INVALIDATION:38928,CONTRADICTION_SECRET_CODE_STATUS:38920,DEVICE_IN_RECOVERY_MODE:26159,CUSTOM_IMAGE_EMPTY:26158,FILE_ALREADY_EXISTS:27273,FILE_NOT_FOUND:37892,GP_AUTH_FAILED:25344,HALTED:28586,INCONSISTENT_FILE:37896,INCORRECT_DATA:27264,INCORRECT_LENGTH:26368,INCORRECT_P1_P2:27392,INS_NOT_SUPPORTED:27904,DEVICE_NOT_ONBOARDED:27911,DEVICE_NOT_ONBOARDED_2:26129,INVALID_KCV:38021,INVALID_OFFSET:37890,LICENSING:28482,LOCKED_DEVICE:21781,MAX_VALUE_REACHED:38992,MEMORY_PROBLEM:37440,MISSING_CRITICAL_PARAMETER:26624,NO_EF_SELECTED:37888,NOT_ENOUGH_MEMORY_SPACE:27268,OK:36864,PIN_REMAINING_ATTEMPTS:25536,REFERENCED_DATA_NOT_FOUND:27272,SECURITY_STATUS_NOT_SATISFIED:27010,TECHNICAL_PROBLEM:28416,UNKNOWN_APDU:27906,USER_REFUSED_ON_DEVICE:21761,NOT_ENOUGH_SPACE:20738,APP_NOT_FOUND_OR_INVALID_CONTEXT:20771,INVALID_APP_NAME_LENGTH:26378,GEN_AES_KEY_FAILED:21529,INTERNAL_CRYPTO_OPERATION_FAILED:21530,INTERNAL_COMPUTE_AES_CMAC_FAILED:21531,ENCRYPT_APP_STORAGE_FAILED:21532,INVALID_BACKUP_STATE:26178,PIN_NOT_SET:21762,INVALID_BACKUP_LENGTH:26419,INVALID_RESTORE_STATE:26179,INVALID_CHUNK_LENGTH:26420,INVALID_BACKUP_HEADER:26698,TRUSTCHAIN_WRONG_SEED:45063};function eD(eu){switch(eu){case 26368:return"Incorrect length";case 26624:return"Missing critical parameter";case 27010:return"Security not satisfied (dongle locked or have invalid access rights)";case 27013:return"Condition of use not satisfied (denied by the user?)";case 27264:return"Invalid data received";case 27392:return"Invalid parameter received";case 21781:return"Locked device"}if(28416<=eu&&eu<=28671)return"Internal error, please report"}class eB extends Error{statusCode;statusText;constructor(eu,{canBeMappedToChildError:ed=!0}={}){let eg=Object.keys(eR).find(ed=>eR[ed]===eu)||"UNKNOWN_ERROR",em=eD(eu)||eg,eb=eu.toString(16),ew=`Ledger device: ${em} (0x${eb})`;if(super(ew),this.name="TransportStatusError",this.statusCode=eu,this.statusText=eg,Object.setPrototypeOf(this,eB.prototype),ed&&eu===eR.LOCKED_DEVICE)return new eU(ew)}}class eU extends eB{constructor(eu){super(eR.LOCKED_DEVICE,{canBeMappedToChildError:!1}),eu&&(this.message=eu),this.name="LockedDeviceError",Object.setPrototypeOf(this,eU.prototype)}}eS("TransportStatusError",eu=>new eB(eu.statusCode));let eL=0,ej=[],eF=(eu,ed,eg)=>{let em={type:eu,id:String(++eL),date:new Date};ed&&(em.message=ed),eg&&(em.data=eg),eV(em)},e$=({type:eu,message:ed,data:eg,context:em})=>{let eb={type:eu,id:String(++eL),date:new Date};ed&&(eb.message=ed),eg&&(eb.data=eg),em&&(eb.context=em),eV(eb)};class eK{type;context;constructor(eu,ed){this.type=eu,this.context=ed}trace(eu,ed){e$({type:this.type,message:eu,data:ed,context:this.context})}getContext(){return this.context}setContext(eu){this.context=eu}updateContext(eu){this.context={...this.context,...eu}}getType(){return this.type}setType(eu){this.type=eu}withType(eu){return new eK(eu,this.context)}withContext(eu){return new eK(this.type,eu)}withUpdatedContext(eu){return new eK(this.type,{...this.context,...eu})}}let eH=eu=>(ej.push(eu),()=>{let ed=ej.indexOf(eu);-1!==ed&&(ej[ed]=ej[ej.length-1],ej.pop())});function eV(eu){for(let ed=0;ed<ej.length;ed++)try{ej[ed](eu)}catch(eu){console.error(eu)}}"undefined"!=typeof window&&(window.__ledgerLogsListen=eH);var eG=eg(48834).Buffer;let eW="transport";class eJ{exchangeTimeout=3e4;unresponsiveTimeout=15e3;deviceModel=null;tracer;constructor({context:eu,logType:ed}={}){this.tracer=new eK(ed??eW,eu)}static isSupported;static list;static listen;static open;exchange(eu,{abortTimeoutMs:ed}={}){throw Error("exchange not implemented")}exchangeBulk(eu,ed){let eg=!1,em=()=>{eg=!0},eb=async()=>{if(!eg)for(let em of eu){let eu=await this.exchange(em);if(eg)return;let eb=eu.readUInt16BE(eu.length-2);if(eb!==eR.OK)throw new eB(eb);ed.next(eu)}};return eb().then(()=>!eg&&ed.complete(),eu=>!eg&&ed.error(eu)),{unsubscribe:em}}setScrambleKey(eu){}close(){return Promise.resolve()}_events=new(e_());on(eu,ed){this._events.on(eu,ed)}off(eu,ed){this._events.removeListener(eu,ed)}emit(eu,...ed){this._events.emit(eu,...ed)}setDebugMode(){console.warn("setDebugMode is deprecated. use @ledgerhq/logs instead. No logs are emitted in this anymore.")}setExchangeTimeout(eu){this.exchangeTimeout=eu}setExchangeUnresponsiveTimeout(eu){this.unresponsiveTimeout=eu}send=async(eu,ed,eg,em,eb=eG.alloc(0),ew=[eR.OK],{abortTimeoutMs:e_}={})=>{let eE=this.tracer.withUpdatedContext({function:"send"});if(eb.length>=256)throw eE.trace("data.length exceeded 256 bytes limit",{dataLength:eb.length}),new ek("data.length exceed 256 bytes limit. Got: "+eb.length,"DataLengthTooBig");eE.trace("Starting an exchange",{abortTimeoutMs:e_});let eA=await this.exchange(eG.concat([eG.from([eu,ed,eg,em]),eG.from([eb.length]),eb]),{abortTimeoutMs:e_});eE.trace("Received response from exchange");let eS=eA.readUInt16BE(eA.length-2);if(!ew.some(eu=>eu===eS))throw new eB(eS);return eA};static create(eu=3e3,ed){return new Promise((eg,em)=>{let eb=!1,ew=this.listen({next:ed=>{eb=!0,ew&&ew.unsubscribe(),e_&&clearTimeout(e_),this.open(ed.descriptor,eu).then(eg,em)},error:eu=>{e_&&clearTimeout(e_),em(eu)},complete:()=>{e_&&clearTimeout(e_),eb||em(new ek(this.ErrorMessage_NoDeviceFound,"NoDeviceFound"))}}),e_=ed?setTimeout(()=>{ew.unsubscribe(),em(new ek(this.ErrorMessage_ListenTimeout,"ListenTimeout"))},ed):null})}exchangeBusyPromise;async exchangeAtomicImpl(eu){let ed;let eg=this.tracer.withUpdatedContext({function:"exchangeAtomicImpl",unresponsiveTimeout:this.unresponsiveTimeout});if(this.exchangeBusyPromise)throw eg.trace("Atomic exchange is already busy"),new eN("An action was already pending on the Ledger device. Please deny or reconnect.");let em=new Promise(eu=>{ed=eu});this.exchangeBusyPromise=em;let eb=!1,ew=setTimeout(()=>{eg.trace('Timeout reached, emitting Transport event "unresponsive"',{unresponsiveTimeout:this.unresponsiveTimeout}),eb=!0,this.emit("unresponsive")},this.unresponsiveTimeout);try{let ed=await eu();return eb&&(eg.trace("Device was unresponsive, emitting responsive"),this.emit("responsive")),ed}finally{eg.trace("Finalize, clearing busy guard"),clearTimeout(ew),ed&&ed(),this.exchangeBusyPromise=null}}decorateAppAPIMethods(eu,ed,eg){for(let em of ed)eu[em]=this.decorateAppAPIMethod(em,eu[em],eu,eg)}_appAPIlock=null;decorateAppAPIMethod(eu,ed,eg,em){return async(...eb)=>{let{_appAPIlock:ew}=this;if(ew)return Promise.reject(new ek("Ledger Device is busy (lock "+ew+")","TransportLocked"));try{return this._appAPIlock=eu,this.setScrambleKey(em),await ed.apply(eg,eb)}finally{this._appAPIlock=null}}}setTraceContext(eu){this.tracer=this.tracer.withContext(eu)}updateTraceContext(eu){this.tracer.updateContext(eu)}getTraceContext(){return this.tracer.getContext()}static ErrorMessage_ListenTimeout="No Ledger device found (timeout)";static ErrorMessage_NoDeviceFound="No Ledger device found"}var eZ=eg(48834).Buffer;let eY=5;function eX(eu){let ed=eZ.alloc(2);return ed.writeUInt16BE(eu,0),ed}let eQ={data:eZ.alloc(0),dataLength:0,sequence:0},e0=(eu,ed)=>({makeBlocks(eg){let em=eZ.concat([eX(eg.length),eg]),eb=ed-5,ew=Math.ceil(em.length/eb);em=eZ.concat([em,eZ.alloc(ew*eb-em.length+1).fill(0)]);let e_=[];for(let ed=0;ed<ew;ed++){let eg=eZ.alloc(5);eg.writeUInt16BE(eu,0),eg.writeUInt8(eY,2),eg.writeUInt16BE(ed,3);let ew=em.slice(ed*eb,(ed+1)*eb);e_.push(eZ.concat([eg,ew]))}return e_},reduceResponse(ed,eg){let{data:em,dataLength:eb,sequence:ew}=ed||eQ;if(eg.readUInt16BE(0)!==eu)throw new ek("Invalid channel","InvalidChannel");if(eg.readUInt8(2)!==eY)throw new ek("Invalid tag","InvalidTag");if(eg.readUInt16BE(3)!==ew)throw new ek("Invalid sequence","InvalidSequence");ed||(eb=eg.readUInt16BE(5)),ew++;let e_=eg.slice(ed?5:7);return(em=eZ.concat([em,e_])).length>eb&&(em=em.slice(0,eb)),{data:em,dataLength:eb,sequence:ew}},getReducedResult(eu){if(eu&&eu.dataLength===eu.data.length)return eu.data}});var e6=e0,e8=eg(97699),e5=eg.n(e8);!function(eu){eu.blue="blue",eu.nanoS="nanoS",eu.nanoSP="nanoSP",eu.nanoX="nanoX",eu.stax="stax",eu.europa="europa",eu.apex="apex"}(eb||(eb={}));let e9={[eb.blue]:{id:eb.blue,productName:"Ledger\xa0Blue",productIdMM:0,legacyUsbProductId:0,usbOnly:!0,memorySize:491520,masks:[822083584,822149120],getBlockSize:eu=>4096},[eb.nanoS]:{id:eb.nanoS,productName:"Ledger\xa0Nano\xa0S",productIdMM:16,legacyUsbProductId:1,usbOnly:!0,memorySize:327680,masks:[823132160],getBlockSize:eu=>e5().lt(e5().coerce(eu)??"","2.0.0")?4096:2048},[eb.nanoX]:{id:eb.nanoX,productName:"Ledger\xa0Nano\xa0X",productIdMM:64,legacyUsbProductId:4,usbOnly:!1,memorySize:2097152,masks:[855638016],getBlockSize:eu=>4096,bluetoothSpec:[{serviceUuid:"13d63400-2c97-0004-0000-4c6564676572",notifyUuid:"13d63400-2c97-0004-0001-4c6564676572",writeUuid:"13d63400-2c97-0004-0002-4c6564676572",writeCmdUuid:"13d63400-2c97-0004-0003-4c6564676572"}]},[eb.nanoSP]:{id:eb.nanoSP,productName:"Ledger Nano S Plus",productIdMM:80,legacyUsbProductId:5,usbOnly:!0,memorySize:1569792,masks:[856686592],getBlockSize:eu=>32},[eb.apex]:{id:eb.apex,productName:"Ledger Apex",productIdMM:128,legacyUsbProductId:8,usbOnly:!1,memorySize:1569792,masks:[859832320],getBlockSize:eu=>32,bluetoothSpec:[{serviceUuid:"13d63400-2c97-8004-0000-4c6564676572",notifyUuid:"13d63400-2c97-8004-0001-4c6564676572",writeUuid:"13d63400-2c97-8004-0002-4c6564676572",writeCmdUuid:"13d63400-2c97-8004-0003-4c6564676572"}]},[eb.stax]:{id:eb.stax,productName:"Ledger\xa0Stax",productIdMM:96,legacyUsbProductId:6,usbOnly:!1,memorySize:1569792,masks:[857735168],getBlockSize:eu=>32,bluetoothSpec:[{serviceUuid:"13d63400-2c97-6004-0000-4c6564676572",notifyUuid:"13d63400-2c97-6004-0001-4c6564676572",writeUuid:"13d63400-2c97-6004-0002-4c6564676572",writeCmdUuid:"13d63400-2c97-6004-0003-4c6564676572"}]},[eb.europa]:{id:eb.europa,productName:"Ledger\xa0Flex",productIdMM:112,legacyUsbProductId:7,usbOnly:!1,memorySize:1569792,masks:[858783744],getBlockSize:eu=>32,bluetoothSpec:[{serviceUuid:"13d63400-2c97-3004-0000-4c6564676572",notifyUuid:"13d63400-2c97-3004-0001-4c6564676572",writeUuid:"13d63400-2c97-3004-0002-4c6564676572",writeCmdUuid:"13d63400-2c97-3004-0003-4c6564676572"}]}};eb.blue,eb.nanoS,eb.nanoSP,eb.nanoX,eb.stax,eb.europa;let e7=Object.values(e9),tu=11415,th=eu=>{let ed=e7.find(ed=>ed.legacyUsbProductId===eu);if(ed)return ed;let eg=eu>>8,em=e7.find(eu=>eu.productIdMM===eg);return em},td=[],tg={};for(let eu in e9){let ed=e9[eu],{bluetoothSpec:eg}=ed;if(eg)for(let eu=0;eu<eg.length;eu++){let em=eg[eu];td.push(em.serviceUuid),tg[em.serviceUuid]=tg[em.serviceUuid.replace(/-/g,"")]={deviceModel:ed,...em}}}var ty=eg(48834).Buffer;let tb=[{vendorId:tu}],tw=()=>Promise.resolve(!!(window.navigator&&window.navigator.hid)),t_=()=>{let{hid:eu}=navigator;if(!eu)throw new ek("navigator.hid is not supported","HIDNotSupported");return eu};async function tE(){let eu=await t_().requestDevice({filters:tb});return Array.isArray(eu)?eu:[eu]}async function tA(){let eu=await t_().getDevices();return eu.filter(eu=>eu.vendorId===tu)}async function tS(){let eu=await tA();if(eu.length>0)return eu[0];let ed=await tE();return ed[0]}class tI extends eJ{device;deviceModel;channel=Math.floor(65535*Math.random());packetSize=64;constructor(eu){super(),this.device=eu,this.deviceModel="number"==typeof eu.productId?th(eu.productId):void 0,eu.addEventListener("inputreport",this.onInputReport)}inputs=[];inputCallback;read=()=>this.inputs.length?Promise.resolve(this.inputs.shift()):new Promise(eu=>{this.inputCallback=eu});onInputReport=eu=>{let ed=ty.from(eu.data.buffer);this.inputCallback?(this.inputCallback(ed),this.inputCallback=null):this.inputs.push(ed)};static isSupported=tw;static list=tA;static listen=eu=>{let ed=!1;return tS().then(eg=>{if(eg){if(!ed){let ed="number"==typeof eg.productId?th(eg.productId):void 0;eu.next({type:"add",descriptor:eg,deviceModel:ed}),eu.complete()}}else eu.error(new eP("Access denied to use Ledger device"))},ed=>{eu.error(new eP(ed.message))}),{unsubscribe:function(){ed=!0}}};static async request(){let[eu]=await tE();return tI.open(eu)}static async openConnected(){let eu=await tA();return 0===eu.length?null:tI.open(eu[0])}static async open(eu){await eu.open();let ed=new tI(eu),eg=em=>{eu===em.device&&(t_().removeEventListener("disconnect",eg),ed._emitDisconnect(new eO))};return t_().addEventListener("disconnect",eg),ed}_disconnectEmitted=!1;_emitDisconnect=eu=>{this._disconnectEmitted||(this._disconnectEmitted=!0,this.emit("disconnect",eu))};async close(){await this.exchangeBusyPromise,this.device.removeEventListener("inputreport",this.onInputReport),await this.device.close()}exchange=async eu=>{let ed=await this.exchangeAtomicImpl(async()=>{let ed,eg;let{channel:em,packetSize:eb}=this;eF("apdu","=> "+eu.toString("hex"));let ew=e6(em,eb),e_=ew.makeBlocks(eu);for(let eu=0;eu<e_.length;eu++)await this.device.sendReport(0,e_[eu]);for(;!(ed=ew.getReducedResult(eg));)try{let eu=await this.read();eg=ew.reduceResponse(eg,eu)}catch(eu){if(eu instanceof ek&&"InvalidChannel"===eu.id)continue;throw eu}return eF("apdu","<= "+ed.toString("hex")),ed}).catch(eu=>{if(eu&&eu.message&&eu.message.includes("write"))throw this._emitDisconnect(eu),new eT(eu.message);throw eu});return ed};setScrambleKey(){}}},35278:function(eu,ed){"use strict";function eg(eu){if(!Number.isSafeInteger(eu)||eu<0)throw Error(`Wrong positive integer: ${eu}`)}function em(eu){if("boolean"!=typeof eu)throw Error(`Expected boolean, not ${eu}`)}function eb(eu){return eu instanceof Uint8Array||null!=eu&&"object"==typeof eu&&"Uint8Array"===eu.constructor.name}function ew(eu,...ed){if(!eb(eu))throw Error("Expected Uint8Array");if(ed.length>0&&!ed.includes(eu.length))throw Error(`Expected Uint8Array of length ${ed}, not of length=${eu.length}`)}function e_(eu){if("function"!=typeof eu||"function"!=typeof eu.create)throw Error("Hash should be wrapped by utils.wrapConstructor");eg(eu.outputLen),eg(eu.blockLen)}function eE(eu,ed=!0){if(eu.destroyed)throw Error("Hash instance has been destroyed");if(ed&&eu.finished)throw Error("Hash#digest() has already been called")}function eA(eu,ed){ew(eu);let eg=ed.outputLen;if(eu.length<eg)throw Error(`digestInto() expects output buffer of length at least ${eg}`)}Object.defineProperty(ed,"__esModule",{value:!0}),ed.output=ed.exists=ed.hash=ed.bytes=ed.bool=ed.number=void 0,ed.number=eg,ed.bool=em,ed.bytes=ew,ed.hash=e_,ed.exists=eE,ed.output=eA;let eS={number:eg,bool:em,bytes:ew,hash:e_,exists:eE,output:eA};ed.default=eS},34082:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.SHA2=void 0;let em=eg(35278),eb=eg(11060);function ew(eu,ed,eg,em){if("function"==typeof eu.setBigUint64)return eu.setBigUint64(ed,eg,em);let eb=BigInt(32),ew=BigInt(4294967295),e_=Number(eg>>eb&ew),eE=Number(eg&ew),eA=em?4:0,eS=em?0:4;eu.setUint32(ed+eA,e_,em),eu.setUint32(ed+eS,eE,em)}class e_ extends eb.Hash{constructor(eu,ed,eg,em){super(),this.blockLen=eu,this.outputLen=ed,this.padOffset=eg,this.isLE=em,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(eu),this.view=(0,eb.createView)(this.buffer)}update(eu){(0,em.exists)(this);let{view:ed,buffer:eg,blockLen:ew}=this;eu=(0,eb.toBytes)(eu);let e_=eu.length;for(let em=0;em<e_;){let eE=Math.min(ew-this.pos,e_-em);if(eE===ew){let ed=(0,eb.createView)(eu);for(;ew<=e_-em;em+=ew)this.process(ed,em);continue}eg.set(eu.subarray(em,em+eE),this.pos),this.pos+=eE,em+=eE,this.pos===ew&&(this.process(ed,0),this.pos=0)}return this.length+=eu.length,this.roundClean(),this}digestInto(eu){(0,em.exists)(this),(0,em.output)(eu,this),this.finished=!0;let{buffer:ed,view:eg,blockLen:e_,isLE:eE}=this,{pos:eA}=this;ed[eA++]=128,this.buffer.subarray(eA).fill(0),this.padOffset>e_-eA&&(this.process(eg,0),eA=0);for(let eu=eA;eu<e_;eu++)ed[eu]=0;ew(eg,e_-8,BigInt(8*this.length),eE),this.process(eg,0);let eS=(0,eb.createView)(eu),eI=this.outputLen;if(eI%4)throw Error("_sha2: outputLen should be aligned to 32bit");let eC=eI/4,eM=this.get();if(eC>eM.length)throw Error("_sha2: outputLen bigger than state");for(let eu=0;eu<eC;eu++)eS.setUint32(4*eu,eM[eu],eE)}digest(){let{buffer:eu,outputLen:ed}=this;this.digestInto(eu);let eg=eu.slice(0,ed);return this.destroy(),eg}_cloneInto(eu){eu||(eu=new this.constructor),eu.set(...this.get());let{blockLen:ed,buffer:eg,length:em,finished:eb,destroyed:ew,pos:e_}=this;return eu.length=em,eu.pos=e_,eu.finished=eb,eu.destroyed=ew,em%ed&&eu.buffer.set(eg),eu}}ed.SHA2=e_},12477:function(eu,ed){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.crypto=void 0,ed.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0},75811:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.sha224=ed.sha256=void 0;let em=eg(34082),eb=eg(11060),ew=(eu,ed,eg)=>eu&ed^~eu&eg,e_=(eu,ed,eg)=>eu&ed^eu&eg^ed&eg,eE=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),eA=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),eS=new Uint32Array(64);class eI extends em.SHA2{constructor(){super(64,32,8,!1),this.A=0|eA[0],this.B=0|eA[1],this.C=0|eA[2],this.D=0|eA[3],this.E=0|eA[4],this.F=0|eA[5],this.G=0|eA[6],this.H=0|eA[7]}get(){let{A:eu,B:ed,C:eg,D:em,E:eb,F:ew,G:e_,H:eE}=this;return[eu,ed,eg,em,eb,ew,e_,eE]}set(eu,ed,eg,em,eb,ew,e_,eE){this.A=0|eu,this.B=0|ed,this.C=0|eg,this.D=0|em,this.E=0|eb,this.F=0|ew,this.G=0|e_,this.H=0|eE}process(eu,ed){for(let eg=0;eg<16;eg++,ed+=4)eS[eg]=eu.getUint32(ed,!1);for(let eu=16;eu<64;eu++){let ed=eS[eu-15],eg=eS[eu-2],em=(0,eb.rotr)(ed,7)^(0,eb.rotr)(ed,18)^ed>>>3,ew=(0,eb.rotr)(eg,17)^(0,eb.rotr)(eg,19)^eg>>>10;eS[eu]=ew+eS[eu-7]+em+eS[eu-16]|0}let{A:eg,B:em,C:eA,D:eI,E:eC,F:eM,G:eO,H:eT}=this;for(let eu=0;eu<64;eu++){let ed=(0,eb.rotr)(eC,6)^(0,eb.rotr)(eC,11)^(0,eb.rotr)(eC,25),eP=eT+ed+ew(eC,eM,eO)+eE[eu]+eS[eu]|0,eN=(0,eb.rotr)(eg,2)^(0,eb.rotr)(eg,13)^(0,eb.rotr)(eg,22),ek=eN+e_(eg,em,eA)|0;eT=eO,eO=eM,eM=eC,eC=eI+eP|0,eI=eA,eA=em,em=eg,eg=eP+ek|0}eg=eg+this.A|0,em=em+this.B|0,eA=eA+this.C|0,eI=eI+this.D|0,eC=eC+this.E|0,eM=eM+this.F|0,eO=eO+this.G|0,eT=eT+this.H|0,this.set(eg,em,eA,eI,eC,eM,eO,eT)}roundClean(){eS.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class eC extends eI{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}ed.sha256=(0,eb.wrapConstructor)(()=>new eI),ed.sha224=(0,eb.wrapConstructor)(()=>new eC)},11060:function(eu,ed,eg){"use strict";/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(ed,"__esModule",{value:!0}),ed.randomBytes=ed.wrapXOFConstructorWithOpts=ed.wrapConstructorWithOpts=ed.wrapConstructor=ed.checkOpts=ed.Hash=ed.concatBytes=ed.toBytes=ed.utf8ToBytes=ed.asyncLoop=ed.nextTick=ed.hexToBytes=ed.bytesToHex=ed.isLE=ed.rotr=ed.createView=ed.u32=ed.u8=void 0;let em=eg(12477),eb=eu=>new Uint8Array(eu.buffer,eu.byteOffset,eu.byteLength);ed.u8=eb;let ew=eu=>new Uint32Array(eu.buffer,eu.byteOffset,Math.floor(eu.byteLength/4));function e_(eu){return eu instanceof Uint8Array||null!=eu&&"object"==typeof eu&&"Uint8Array"===eu.constructor.name}ed.u32=ew;let eE=eu=>new DataView(eu.buffer,eu.byteOffset,eu.byteLength);ed.createView=eE;let eA=(eu,ed)=>eu<<32-ed|eu>>>ed;if(ed.rotr=eA,ed.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!ed.isLE)throw Error("Non little-endian hardware is not supported");let eS=Array.from({length:256},(eu,ed)=>ed.toString(16).padStart(2,"0"));function eI(eu){if(!e_(eu))throw Error("Uint8Array expected");let ed="";for(let eg=0;eg<eu.length;eg++)ed+=eS[eu[eg]];return ed}ed.bytesToHex=eI;let eC={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function eM(eu){return eu>=eC._0&&eu<=eC._9?eu-eC._0:eu>=eC._A&&eu<=eC._F?eu-(eC._A-10):eu>=eC._a&&eu<=eC._f?eu-(eC._a-10):void 0}function eO(eu){if("string"!=typeof eu)throw Error("hex string expected, got "+typeof eu);let ed=eu.length,eg=ed/2;if(ed%2)throw Error("padded hex string expected, got unpadded hex of length "+ed);let em=new Uint8Array(eg);for(let ed=0,eb=0;ed<eg;ed++,eb+=2){let eg=eM(eu.charCodeAt(eb)),ew=eM(eu.charCodeAt(eb+1));if(void 0===eg||void 0===ew){let ed=eu[eb]+eu[eb+1];throw Error('hex string expected, got non-hex character "'+ed+'" at index '+eb)}em[ed]=16*eg+ew}return em}ed.hexToBytes=eO;let eT=async()=>{};async function eP(eu,eg,em){let eb=Date.now();for(let ew=0;ew<eu;ew++){em(ew);let eu=Date.now()-eb;eu>=0&&eu<eg||(await (0,ed.nextTick)(),eb+=eu)}}function eN(eu){if("string"!=typeof eu)throw Error(`utf8ToBytes expected string, got ${typeof eu}`);return new Uint8Array(new TextEncoder().encode(eu))}function ek(eu){if("string"==typeof eu&&(eu=eN(eu)),!e_(eu))throw Error(`expected Uint8Array, got ${typeof eu}`);return eu}function eR(...eu){let ed=0;for(let eg=0;eg<eu.length;eg++){let em=eu[eg];if(!e_(em))throw Error("Uint8Array expected");ed+=em.length}let eg=new Uint8Array(ed);for(let ed=0,em=0;ed<eu.length;ed++){let eb=eu[ed];eg.set(eb,em),em+=eb.length}return eg}ed.nextTick=eT,ed.asyncLoop=eP,ed.utf8ToBytes=eN,ed.toBytes=ek,ed.concatBytes=eR;class eD{clone(){return this._cloneInto()}}ed.Hash=eD;let eB={}.toString;function eU(eu,ed){if(void 0!==ed&&"[object Object]"!==eB.call(ed))throw Error("Options should be object or undefined");let eg=Object.assign(eu,ed);return eg}function eL(eu){let ed=ed=>eu().update(ek(ed)).digest(),eg=eu();return ed.outputLen=eg.outputLen,ed.blockLen=eg.blockLen,ed.create=()=>eu(),ed}function ej(eu){let ed=(ed,eg)=>eu(eg).update(ek(ed)).digest(),eg=eu({});return ed.outputLen=eg.outputLen,ed.blockLen=eg.blockLen,ed.create=ed=>eu(ed),ed}function eF(eu){let ed=(ed,eg)=>eu(eg).update(ek(ed)).digest(),eg=eu({});return ed.outputLen=eg.outputLen,ed.blockLen=eg.blockLen,ed.create=ed=>eu(ed),ed}function e$(eu=32){if(em.crypto&&"function"==typeof em.crypto.getRandomValues)return em.crypto.getRandomValues(new Uint8Array(eu));throw Error("crypto.getRandomValues must be defined")}ed.checkOpts=eU,ed.wrapConstructor=eL,ed.wrapConstructorWithOpts=ej,ed.wrapXOFConstructorWithOpts=eF,ed.randomBytes=e$},76388:function(eu,ed){"use strict";ed.__esModule=!0,ed.DecodeBuffer=ed.EncodeBuffer=void 0;var eg=function(){function eu(){this.offset=0,this.buffer_size=256,this.buffer=new ArrayBuffer(this.buffer_size),this.view=new DataView(this.buffer)}return eu.prototype.resize_if_necessary=function(eu){if(this.buffer_size-this.offset<eu){this.buffer_size=Math.max(2*this.buffer_size,this.buffer_size+eu);var ed=new ArrayBuffer(this.buffer_size);new Uint8Array(ed).set(new Uint8Array(this.buffer)),this.buffer=ed,this.view=new DataView(ed)}},eu.prototype.get_used_buffer=function(){return new Uint8Array(this.buffer).slice(0,this.offset)},eu.prototype.store_value=function(eu,ed){var eg=ed.substring(1),em=parseInt(eg)/8;this.resize_if_necessary(em);var eb="f"===ed[0]?"setFloat".concat(eg):"i"===ed[0]?"setInt".concat(eg):"setUint".concat(eg);this.view[eb](this.offset,eu,!0),this.offset+=em},eu.prototype.store_bytes=function(eu){this.resize_if_necessary(eu.length),new Uint8Array(this.buffer).set(new Uint8Array(eu),this.offset),this.offset+=eu.length},eu}();ed.EncodeBuffer=eg;var em=function(){function eu(eu){this.offset=0,this.buffer_size=eu.length,this.buffer=new ArrayBuffer(eu.length),new Uint8Array(this.buffer).set(eu),this.view=new DataView(this.buffer)}return eu.prototype.assert_enough_buffer=function(eu){if(this.offset+eu>this.buffer.byteLength)throw Error("Error in schema, the buffer is smaller than expected")},eu.prototype.consume_value=function(eu){var ed=eu.substring(1),eg=parseInt(ed)/8;this.assert_enough_buffer(eg);var em="f"===eu[0]?"getFloat".concat(ed):"i"===eu[0]?"getInt".concat(ed):"getUint".concat(ed),eb=this.view[em](this.offset,!0);return this.offset+=eg,eb},eu.prototype.consume_bytes=function(eu){this.assert_enough_buffer(eu);var ed=this.buffer.slice(this.offset,this.offset+eu);return this.offset+=eu,ed},eu}();ed.DecodeBuffer=em},61015:function(eu,ed,eg){"use strict";ed.__esModule=!0,ed.BorshDeserializer=void 0;var em=eg(45317),eb=eg(76388),ew=function(){function eu(eu){this.buffer=new eb.DecodeBuffer(eu)}return eu.prototype.decode=function(eu){return this.decode_value(eu)},eu.prototype.decode_value=function(eu){if("string"==typeof eu){if(em.integers.includes(eu))return this.decode_integer(eu);if("string"===eu)return this.decode_string();if("bool"===eu)return this.decode_boolean()}if("object"==typeof eu){if("option"in eu)return this.decode_option(eu);if("enum"in eu)return this.decode_enum(eu);if("array"in eu)return this.decode_array(eu);if("set"in eu)return this.decode_set(eu);if("map"in eu)return this.decode_map(eu);if("struct"in eu)return this.decode_struct(eu)}throw Error("Unsupported type: ".concat(eu))},eu.prototype.decode_integer=function(eu){var ed=parseInt(eu.substring(1));return ed<=32||"f64"==eu?this.buffer.consume_value(eu):this.decode_bigint(ed,eu.startsWith("i"))},eu.prototype.decode_bigint=function(eu,ed){void 0===ed&&(ed=!1);var eg=eu/8,em=new Uint8Array(this.buffer.consume_bytes(eg)),eb=em.reduceRight(function(eu,ed){return eu+ed.toString(16).padStart(2,"0")},"");return ed&&em[eg-1]?BigInt.asIntN(eu,BigInt("0x".concat(eb))):BigInt("0x".concat(eb))},eu.prototype.decode_string=function(){var eu=this.decode_integer("u32"),ed=new Uint8Array(this.buffer.consume_bytes(eu));return String.fromCharCode.apply(null,ed)},eu.prototype.decode_boolean=function(){return this.buffer.consume_value("u8")>0},eu.prototype.decode_option=function(eu){var ed=this.buffer.consume_value("u8");if(1===ed)return this.decode_value(eu.option);if(0!==ed)throw Error("Invalid option ".concat(ed));return null},eu.prototype.decode_enum=function(eu){var ed,eg=this.buffer.consume_value("u8");if(eg>eu.enum.length)throw Error("Enum option ".concat(eg," is not available"));var em=eu.enum[eg].struct,eb=Object.keys(em)[0];return(ed={})[eb]=this.decode_value(em[eb]),ed},eu.prototype.decode_array=function(eu){for(var ed=[],eg=eu.array.len?eu.array.len:this.decode_integer("u32"),em=0;em<eg;++em)ed.push(this.decode_value(eu.array.type));return ed},eu.prototype.decode_set=function(eu){for(var ed=this.decode_integer("u32"),eg=new Set,em=0;em<ed;++em)eg.add(this.decode_value(eu.set));return eg},eu.prototype.decode_map=function(eu){for(var ed=this.decode_integer("u32"),eg=new Map,em=0;em<ed;++em){var eb=this.decode_value(eu.map.key),ew=this.decode_value(eu.map.value);eg.set(eb,ew)}return eg},eu.prototype.decode_struct=function(eu){var ed={};for(var eg in eu.struct)ed[eg]=this.decode_value(eu.struct[eg]);return ed},eu}();ed.BorshDeserializer=ew},54543:function(eu,ed,eg){"use strict";var em=this&&this.__createBinding||(Object.create?function(eu,ed,eg,em){void 0===em&&(em=eg);var eb=Object.getOwnPropertyDescriptor(ed,eg);(!eb||("get"in eb?!ed.__esModule:eb.writable||eb.configurable))&&(eb={enumerable:!0,get:function(){return ed[eg]}}),Object.defineProperty(eu,em,eb)}:function(eu,ed,eg,em){void 0===em&&(em=eg),eu[em]=ed[eg]}),eb=this&&this.__setModuleDefault||(Object.create?function(eu,ed){Object.defineProperty(eu,"default",{enumerable:!0,value:ed})}:function(eu,ed){eu.default=ed}),ew=this&&this.__importStar||function(eu){if(eu&&eu.__esModule)return eu;var ed={};if(null!=eu)for(var eg in eu)"default"!==eg&&Object.prototype.hasOwnProperty.call(eu,eg)&&em(ed,eu,eg);return eb(ed,eu),ed};ed.__esModule=!0,ed.deserialize=ed.serialize=void 0;var e_=eg(90),eE=eg(61015),eA=ew(eg(36109));function eS(eu,ed,eg){return void 0===eg&&(eg=!0),eg&&eA.validate_schema(eu),new e_.BorshSerializer(eg).encode(ed,eu)}function eI(eu,ed,eg){return void 0===eg&&(eg=!0),eg&&eA.validate_schema(eu),new eE.BorshDeserializer(ed).decode(eu)}ed.serialize=eS,ed.deserialize=eI},90:function(eu,ed,eg){"use strict";var em=this&&this.__createBinding||(Object.create?function(eu,ed,eg,em){void 0===em&&(em=eg);var eb=Object.getOwnPropertyDescriptor(ed,eg);(!eb||("get"in eb?!ed.__esModule:eb.writable||eb.configurable))&&(eb={enumerable:!0,get:function(){return ed[eg]}}),Object.defineProperty(eu,em,eb)}:function(eu,ed,eg,em){void 0===em&&(em=eg),eu[em]=ed[eg]}),eb=this&&this.__setModuleDefault||(Object.create?function(eu,ed){Object.defineProperty(eu,"default",{enumerable:!0,value:ed})}:function(eu,ed){eu.default=ed}),ew=this&&this.__importStar||function(eu){if(eu&&eu.__esModule)return eu;var ed={};if(null!=eu)for(var eg in eu)"default"!==eg&&Object.prototype.hasOwnProperty.call(eu,eg)&&em(ed,eu,eg);return eb(ed,eu),ed};ed.__esModule=!0,ed.BorshSerializer=void 0;var e_=eg(45317),eE=eg(76388),eA=ew(eg(36109)),eS=function(){function eu(eu){this.encoded=new eE.EncodeBuffer,this.fieldPath=["value"],this.checkTypes=eu}return eu.prototype.encode=function(eu,ed){return this.encode_value(eu,ed),this.encoded.get_used_buffer()},eu.prototype.encode_value=function(eu,ed){if("string"==typeof ed){if(e_.integers.includes(ed))return this.encode_integer(eu,ed);if("string"===ed)return this.encode_string(eu);if("bool"===ed)return this.encode_boolean(eu)}if("object"==typeof ed){if("option"in ed)return this.encode_option(eu,ed);if("enum"in ed)return this.encode_enum(eu,ed);if("array"in ed)return this.encode_array(eu,ed);if("set"in ed)return this.encode_set(eu,ed);if("map"in ed)return this.encode_map(eu,ed);if("struct"in ed)return this.encode_struct(eu,ed)}},eu.prototype.encode_integer=function(eu,ed){var eg=parseInt(ed.substring(1));eg<=32||"f64"==ed?(this.checkTypes&&eA.expect_type(eu,"number",this.fieldPath),this.encoded.store_value(eu,ed)):(this.checkTypes&&eA.expect_bigint(eu,this.fieldPath),this.encode_bigint(BigInt(eu),eg))},eu.prototype.encode_bigint=function(eu,ed){for(var eg=ed/8,em=new Uint8Array(eg),eb=0;eb<eg;eb++)em[eb]=Number(eu&BigInt(255)),eu>>=BigInt(8);this.encoded.store_bytes(new Uint8Array(em))},eu.prototype.encode_string=function(eu){this.checkTypes&&eA.expect_type(eu,"string",this.fieldPath);var ed=eu;this.encoded.store_value(ed.length,"u32");for(var eg=0;eg<ed.length;eg++)this.encoded.store_value(ed.charCodeAt(eg),"u8")},eu.prototype.encode_boolean=function(eu){this.checkTypes&&eA.expect_type(eu,"boolean",this.fieldPath),this.encoded.store_value(eu?1:0,"u8")},eu.prototype.encode_option=function(eu,ed){null==eu?this.encoded.store_value(0,"u8"):(this.encoded.store_value(1,"u8"),this.encode_value(eu,ed.option))},eu.prototype.encode_enum=function(eu,ed){this.checkTypes&&eA.expect_enum(eu,this.fieldPath);for(var eg=Object.keys(eu)[0],em=0;em<ed.enum.length;em++){var eb=ed.enum[em];if(eg===Object.keys(eb.struct)[0])return this.encoded.store_value(em,"u8"),this.encode_struct(eu,eb)}throw Error("Enum key (".concat(eg,") not found in enum schema: ").concat(JSON.stringify(ed)," at ").concat(this.fieldPath.join(".")))},eu.prototype.encode_array=function(eu,ed){if(eA.isArrayLike(eu))return this.encode_arraylike(eu,ed);if(eu instanceof ArrayBuffer)return this.encode_buffer(eu,ed);throw Error("Expected Array-like not ".concat(typeof eu,"(").concat(eu,") at ").concat(this.fieldPath.join(".")))},eu.prototype.encode_arraylike=function(eu,ed){ed.array.len?eA.expect_same_size(eu.length,ed.array.len,this.fieldPath):this.encoded.store_value(eu.length,"u32");for(var eg=0;eg<eu.length;eg++)this.encode_value(eu[eg],ed.array.type)},eu.prototype.encode_buffer=function(eu,ed){ed.array.len?eA.expect_same_size(eu.byteLength,ed.array.len,this.fieldPath):this.encoded.store_value(eu.byteLength,"u32"),this.encoded.store_bytes(new Uint8Array(eu))},eu.prototype.encode_set=function(eu,ed){this.checkTypes&&eA.expect_type(eu,"object",this.fieldPath);var eg=eu instanceof Set?Array.from(eu.values()):Object.values(eu);this.encoded.store_value(eg.length,"u32");for(var em=0,eb=eg;em<eb.length;em++){var ew=eb[em];this.encode_value(ew,ed.set)}},eu.prototype.encode_map=function(eu,ed){this.checkTypes&&eA.expect_type(eu,"object",this.fieldPath);var eg=eu instanceof Map,em=eg?Array.from(eu.keys()):Object.keys(eu);this.encoded.store_value(em.length,"u32");for(var eb=0,ew=em;eb<ew.length;eb++){var e_=ew[eb];this.encode_value(e_,ed.map.key),this.encode_value(eg?eu.get(e_):eu[e_],ed.map.value)}},eu.prototype.encode_struct=function(eu,ed){this.checkTypes&&eA.expect_type(eu,"object",this.fieldPath);for(var eg=0,em=Object.keys(ed.struct);eg<em.length;eg++){var eb=em[eg];this.fieldPath.push(eb),this.encode_value(eu[eb],ed.struct[eb]),this.fieldPath.pop()}},eu}();ed.BorshSerializer=eS},45317:function(eu,ed){"use strict";ed.__esModule=!0,ed.integers=void 0,ed.integers=["u8","u16","u32","u64","u128","i8","i16","i32","i64","i128","f32","f64"]},36109:function(eu,ed,eg){"use strict";var em=this&&this.__extends||function(){var eu=function(ed,eg){return(eu=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(eu,ed){eu.__proto__=ed}||function(eu,ed){for(var eg in ed)Object.prototype.hasOwnProperty.call(ed,eg)&&(eu[eg]=ed[eg])})(ed,eg)};return function(ed,eg){if("function"!=typeof eg&&null!==eg)throw TypeError("Class extends value "+String(eg)+" is not a constructor or null");function em(){this.constructor=ed}eu(ed,eg),ed.prototype=null===eg?Object.create(eg):(em.prototype=eg.prototype,new em)}}();ed.__esModule=!0,ed.validate_schema=ed.ErrorSchema=ed.expect_enum=ed.expect_same_size=ed.expect_bigint=ed.expect_type=ed.isArrayLike=void 0;var eb=eg(45317);function ew(eu){return Array.isArray(eu)||!!eu&&"object"==typeof eu&&"length"in eu&&"number"==typeof eu.length&&(0===eu.length||eu.length>0&&eu.length-1 in eu)}function e_(eu,ed,eg){if(typeof eu!==ed)throw Error("Expected ".concat(ed," not ").concat(typeof eu,"(").concat(eu,") at ").concat(eg.join(".")))}function eE(eu,ed){var eg=["number","string","bigint","boolean"].includes(typeof eu),em="object"==typeof eu&&null!==eu&&"toString"in eu;if(!eg&&!em)throw Error("Expected bigint, number, boolean or string not ".concat(typeof eu,"(").concat(eu,") at ").concat(ed.join(".")))}function eA(eu,ed,eg){if(eu!==ed)throw Error("Array length ".concat(eu," does not match schema length ").concat(ed," at ").concat(eg.join(".")))}function eS(eu,ed){if("object"!=typeof eu||null===eu)throw Error("Expected object not ".concat(typeof eu,"(").concat(eu,") at ").concat(ed.join(".")))}ed.isArrayLike=ew,ed.expect_type=e_,ed.expect_bigint=eE,ed.expect_same_size=eA,ed.expect_enum=eS;var eI=eb.integers.concat(["bool","string"]),eC=["option","enum","array","set","map","struct"],eM=function(eu){function ed(ed,eg){var em="Invalid schema: ".concat(JSON.stringify(ed)," expected ").concat(eg);return eu.call(this,em)||this}return em(ed,eu),ed}(Error);function eO(eu){if(!("string"==typeof eu&&eI.includes(eu))){if(eu&&"object"==typeof eu){var ed=Object.keys(eu);if(1===ed.length&&eC.includes(ed[0])){var eg=ed[0];if("option"===eg)return eO(eu[eg]);if("enum"===eg)return eT(eu[eg]);if("array"===eg)return eP(eu[eg]);if("set"===eg)return eO(eu[eg]);if("map"===eg)return eN(eu[eg]);if("struct"===eg)return ek(eu[eg])}}throw new eM(eu,eC.join(", ")+" or "+eI.join(", "))}}function eT(eu){if(!Array.isArray(eu))throw new eM(eu,"Array");for(var ed=0,eg=eu;ed<eg.length;ed++){var em=eg[ed];if("object"!=typeof em||!("struct"in em))throw Error('Missing "struct" key in enum schema');if("object"!=typeof em.struct||1!==Object.keys(em.struct).length)throw Error('The "struct" in each enum must have a single key');eO({struct:em.struct})}}function eP(eu){if("object"!=typeof eu)throw new eM(eu,"{ type, len? }");if(eu.len&&"number"!=typeof eu.len)throw Error("Invalid schema: ".concat(eu));if("type"in eu)return eO(eu.type);throw new eM(eu,"{ type, len? }")}function eN(eu){if("object"==typeof eu&&"key"in eu&&"value"in eu)eO(eu.key),eO(eu.value);else throw new eM(eu,"{ key, value }")}function ek(eu){if("object"!=typeof eu)throw new eM(eu,"object");for(var ed in eu)eO(eu[ed])}ed.ErrorSchema=eM,ed.validate_schema=eO},41465:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.wNAF=eP,ed.pippenger=eN,ed.precomputeMSMUnsafe=ek,ed.validateBasic=eR;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */let em=eg(49530),eb=eg(4323),ew=BigInt(0),e_=BigInt(1);function eE(eu,ed){let eg=ed.negate();return eu?eg:ed}function eA(eu,ed){if(!Number.isSafeInteger(eu)||eu<=0||eu>ed)throw Error("invalid window size, expected [1.."+ed+"], got W="+eu)}function eS(eu,ed){eA(eu,ed);let eg=Math.ceil(ed/eu)+1,em=2**(eu-1);return{windows:eg,windowSize:em}}function eI(eu,ed){if(!Array.isArray(eu))throw Error("array expected");eu.forEach((eu,eg)=>{if(!(eu instanceof ed))throw Error("invalid point at index "+eg)})}function eC(eu,ed){if(!Array.isArray(eu))throw Error("array of scalars expected");eu.forEach((eu,eg)=>{if(!ed.isValid(eu))throw Error("invalid scalar at index "+eg)})}let eM=new WeakMap,eO=new WeakMap;function eT(eu){return eO.get(eu)||1}function eP(eu,ed){return{constTimeNegate:eE,hasPrecomputes:eu=>1!==eT(eu),unsafeLadder(ed,eg,em=eu.ZERO){let eb=ed;for(;eg>ew;)eg&e_&&(em=em.add(eb)),eb=eb.double(),eg>>=e_;return em},precomputeWindow(eu,eg){let{windows:em,windowSize:eb}=eS(eg,ed),ew=[],e_=eu,eE=e_;for(let eu=0;eu<em;eu++){eE=e_,ew.push(eE);for(let eu=1;eu<eb;eu++)eE=eE.add(e_),ew.push(eE);e_=eE.double()}return ew},wNAF(eg,em,eb){let{windows:ew,windowSize:eA}=eS(eg,ed),eI=eu.ZERO,eC=eu.BASE,eM=BigInt(2**eg-1),eO=2**eg,eT=BigInt(eg);for(let eu=0;eu<ew;eu++){let ed=eu*eA,eg=Number(eb&eM);eb>>=eT,eg>eA&&(eg-=eO,eb+=e_);let ew=ed,eS=ed+Math.abs(eg)-1,eP=eu%2!=0,eN=eg<0;0===eg?eC=eC.add(eE(eP,em[ew])):eI=eI.add(eE(eN,em[eS]))}return{p:eI,f:eC}},wNAFUnsafe(eg,em,eb,eE=eu.ZERO){let{windows:eA,windowSize:eI}=eS(eg,ed),eC=BigInt(2**eg-1),eM=2**eg,eO=BigInt(eg);for(let eu=0;eu<eA;eu++){let ed=eu*eI;if(eb===ew)break;let eg=Number(eb&eC);if(eb>>=eO,eg>eI&&(eg-=eM,eb+=e_),0===eg)continue;let eA=em[ed+Math.abs(eg)-1];eg<0&&(eA=eA.negate()),eE=eE.add(eA)}return eE},getPrecomputes(eu,ed,eg){let em=eM.get(ed);return em||(em=this.precomputeWindow(ed,eu),1!==eu&&eM.set(ed,eg(em))),em},wNAFCached(eu,ed,eg){let em=eT(eu);return this.wNAF(em,this.getPrecomputes(em,eu,eg),ed)},wNAFCachedUnsafe(eu,ed,eg,em){let eb=eT(eu);return 1===eb?this.unsafeLadder(eu,ed,em):this.wNAFUnsafe(eb,this.getPrecomputes(eb,eu,eg),ed,em)},setWindowSize(eu,eg){eA(eg,ed),eO.set(eu,eg),eM.delete(eu)}}}function eN(eu,ed,eg,em){if(eI(eg,eu),eC(em,ed),eg.length!==em.length)throw Error("arrays of points and scalars must have equal length");let ew=eu.ZERO,e_=(0,eb.bitLen)(BigInt(eg.length)),eE=e_>12?e_-3:e_>4?e_-2:e_?2:1,eA=(1<<eE)-1,eS=Array(eA+1).fill(ew),eM=Math.floor((ed.BITS-1)/eE)*eE,eO=ew;for(let eu=eM;eu>=0;eu-=eE){eS.fill(ew);for(let ed=0;ed<em.length;ed++){let eb=em[ed],ew=Number(eb>>BigInt(eu)&BigInt(eA));eS[ew]=eS[ew].add(eg[ed])}let ed=ew;for(let eu=eS.length-1,eg=ew;eu>0;eu--)eg=eg.add(eS[eu]),ed=ed.add(eg);if(eO=eO.add(ed),0!==eu)for(let eu=0;eu<eE;eu++)eO=eO.double()}return eO}function ek(eu,ed,eg,em){eA(em,ed.BITS),eI(eg,eu);let eb=eu.ZERO,ew=2**em-1,e_=Math.ceil(ed.BITS/em),eE=BigInt((1<<em)-1),eS=eg.map(eu=>{let ed=[];for(let eg=0,em=eu;eg<ew;eg++)ed.push(em),em=em.add(eu);return ed});return eu=>{if(eC(eu,ed),eu.length>eg.length)throw Error("array of scalars must be smaller than array of points");let ew=eb;for(let ed=0;ed<e_;ed++){if(ew!==eb)for(let eu=0;eu<em;eu++)ew=ew.double();let eg=BigInt(e_*em-(ed+1)*em);for(let ed=0;ed<eu.length;ed++){let em=eu[ed],eb=Number(em>>eg&eE);eb&&(ew=ew.add(eS[ed][eb-1]))}}return ew}}function eR(eu){return(0,em.validateField)(eu.Fp),(0,eb.validateObject)(eu,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,em.nLength)(eu.n,eu.nBitLength),...eu,p:eu.Fp.ORDER})}},42908:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.twistedEdwards=eO;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */let em=eg(41465),eb=eg(49530),ew=eg(4323),e_=eg(4323),eE=BigInt(0),eA=BigInt(1),eS=BigInt(2),eI=BigInt(8),eC={zip215:!0};function eM(eu){let ed=(0,em.validateBasic)(eu);return ew.validateObject(eu,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...ed})}function eO(eu){let ed=eM(eu),{Fp:eg,n:eO,prehash:eT,hash:eP,randomBytes:eN,nByteLength:ek,h:eR}=ed,eD=eS<<BigInt(8*ek)-eA,eB=eg.create,eU=(0,eb.Field)(ed.n,ed.nBitLength),eL=ed.uvRatio||((eu,ed)=>{try{return{isValid:!0,value:eg.sqrt(eu*eg.inv(ed))}}catch(eu){return{isValid:!1,value:eE}}}),ej=ed.adjustScalarBytes||(eu=>eu),eF=ed.domain||((eu,ed,eg)=>{if((0,e_.abool)("phflag",eg),ed.length||eg)throw Error("Contexts/pre-hash are not supported");return eu});function e$(eu,ed){ew.aInRange("coordinate "+eu,ed,eE,eD)}function eK(eu){if(!(eu instanceof eG))throw Error("ExtendedPoint expected")}let eH=(0,e_.memoized)((eu,ed)=>{let{ex:em,ey:eb,ez:ew}=eu,e_=eu.is0();null==ed&&(ed=e_?eI:eg.inv(ew));let eS=eB(em*ed),eC=eB(eb*ed),eM=eB(ew*ed);if(e_)return{x:eE,y:eA};if(eM!==eA)throw Error("invZ was invalid");return{x:eS,y:eC}}),eV=(0,e_.memoized)(eu=>{let{a:eg,d:em}=ed;if(eu.is0())throw Error("bad point: ZERO");let{ex:eb,ey:ew,ez:e_,et:eE}=eu,eA=eB(eb*eb),eS=eB(ew*ew),eI=eB(e_*e_),eC=eB(eI*eI),eM=eB(eA*eg),eO=eB(eI*eB(eM+eS)),eT=eB(eC+eB(em*eB(eA*eS)));if(eO!==eT)throw Error("bad point: equation left != right (1)");let eP=eB(eb*ew),eN=eB(e_*eE);if(eP!==eN)throw Error("bad point: equation left != right (2)");return!0});class eG{constructor(eu,ed,eg,em){this.ex=eu,this.ey=ed,this.ez=eg,this.et=em,e$("x",eu),e$("y",ed),e$("z",eg),e$("t",em),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(eu){if(eu instanceof eG)throw Error("extended point not allowed");let{x:ed,y:eg}=eu||{};return e$("x",ed),e$("y",eg),new eG(ed,eg,eA,eB(ed*eg))}static normalizeZ(eu){let ed=eg.invertBatch(eu.map(eu=>eu.ez));return eu.map((eu,eg)=>eu.toAffine(ed[eg])).map(eG.fromAffine)}static msm(eu,ed){return(0,em.pippenger)(eG,eU,eu,ed)}_setWindowSize(eu){eZ.setWindowSize(this,eu)}assertValidity(){eV(this)}equals(eu){eK(eu);let{ex:ed,ey:eg,ez:em}=this,{ex:eb,ey:ew,ez:e_}=eu,eE=eB(ed*e_),eA=eB(eb*em),eS=eB(eg*e_),eI=eB(ew*em);return eE===eA&&eS===eI}is0(){return this.equals(eG.ZERO)}negate(){return new eG(eB(-this.ex),this.ey,this.ez,eB(-this.et))}double(){let{a:eu}=ed,{ex:eg,ey:em,ez:eb}=this,ew=eB(eg*eg),e_=eB(em*em),eE=eB(eS*eB(eb*eb)),eA=eB(eu*ew),eI=eg+em,eC=eB(eB(eI*eI)-ew-e_),eM=eA+e_,eO=eM-eE,eT=eA-e_,eP=eB(eC*eO),eN=eB(eM*eT),ek=eB(eC*eT),eR=eB(eO*eM);return new eG(eP,eN,eR,ek)}add(eu){eK(eu);let{a:eg,d:em}=ed,{ex:eb,ey:ew,ez:e_,et:eA}=this,{ex:eI,ey:eC,ez:eM,et:eO}=eu;if(eg===BigInt(-1)){let eu=eB((ew-eb)*(eC+eI)),ed=eB((ew+eb)*(eC-eI)),eg=eB(ed-eu);if(eg===eE)return this.double();let em=eB(e_*eS*eO),eT=eB(eA*eS*eM),eP=eT+em,eN=ed+eu,ek=eT-em,eR=eB(eP*eg),eD=eB(eN*ek),eU=eB(eP*ek),eL=eB(eg*eN);return new eG(eR,eD,eL,eU)}let eT=eB(eb*eI),eP=eB(ew*eC),eN=eB(eA*em*eO),ek=eB(e_*eM),eR=eB((eb+ew)*(eI+eC)-eT-eP),eD=ek-eN,eU=ek+eN,eL=eB(eP-eg*eT),ej=eB(eR*eD),eF=eB(eU*eL),e$=eB(eR*eL),eH=eB(eD*eU);return new eG(ej,eF,eH,e$)}subtract(eu){return this.add(eu.negate())}wNAF(eu){return eZ.wNAFCached(this,eu,eG.normalizeZ)}multiply(eu){let ed=eu;ew.aInRange("scalar",ed,eA,eO);let{p:eg,f:em}=this.wNAF(ed);return eG.normalizeZ([eg,em])[0]}multiplyUnsafe(eu,ed=eG.ZERO){let eg=eu;return(ew.aInRange("scalar",eg,eE,eO),eg===eE)?eJ:this.is0()||eg===eA?this:eZ.wNAFCachedUnsafe(this,eg,eG.normalizeZ,ed)}isSmallOrder(){return this.multiplyUnsafe(eR).is0()}isTorsionFree(){return eZ.unsafeLadder(this,eO).is0()}toAffine(eu){return eH(this,eu)}clearCofactor(){let{h:eu}=ed;return eu===eA?this:this.multiplyUnsafe(eu)}static fromHex(eu,em=!1){let{d:eb,a:eS}=ed,eI=eg.BYTES;eu=(0,e_.ensureBytes)("pointHex",eu,eI),(0,e_.abool)("zip215",em);let eC=eu.slice(),eM=eu[eI-1];eC[eI-1]=-129&eM;let eO=ew.bytesToNumberLE(eC),eT=em?eD:eg.ORDER;ew.aInRange("pointHex.y",eO,eE,eT);let eP=eB(eO*eO),eN=eB(eP-eA),ek=eB(eb*eP-eS),{isValid:eR,value:eU}=eL(eN,ek);if(!eR)throw Error("Point.fromHex: invalid y coordinate");let ej=(eU&eA)===eA,eF=(128&eM)!=0;if(!em&&eU===eE&&eF)throw Error("Point.fromHex: x=0 and x_0=1");return eF!==ej&&(eU=eB(-eU)),eG.fromAffine({x:eU,y:eO})}static fromPrivateKey(eu){return eQ(eu).point}toRawBytes(){let{x:eu,y:ed}=this.toAffine(),em=ew.numberToBytesLE(ed,eg.BYTES);return em[em.length-1]|=eu&eA?128:0,em}toHex(){return ew.bytesToHex(this.toRawBytes())}}eG.BASE=new eG(ed.Gx,ed.Gy,eA,eB(ed.Gx*ed.Gy)),eG.ZERO=new eG(eE,eA,eA,eE);let{BASE:eW,ZERO:eJ}=eG,eZ=(0,em.wNAF)(eG,8*ek);function eY(eu){return(0,eb.mod)(eu,eO)}function eX(eu){return eY(ew.bytesToNumberLE(eu))}function eQ(eu){let ed=eg.BYTES;eu=(0,e_.ensureBytes)("private key",eu,ed);let em=(0,e_.ensureBytes)("hashed private key",eP(eu),2*ed),eb=ej(em.slice(0,ed)),ew=em.slice(ed,2*ed),eE=eX(eb),eA=eW.multiply(eE),eS=eA.toRawBytes();return{head:eb,prefix:ew,scalar:eE,point:eA,pointBytes:eS}}function e0(eu){return eQ(eu).pointBytes}function e6(eu=new Uint8Array,...ed){let eg=ew.concatBytes(...ed);return eX(eP(eF(eg,(0,e_.ensureBytes)("context",eu),!!eT)))}function e8(eu,ed,em={}){eu=(0,e_.ensureBytes)("message",eu),eT&&(eu=eT(eu));let{prefix:eb,scalar:eA,pointBytes:eS}=eQ(ed),eI=e6(em.context,eb,eu),eC=eW.multiply(eI).toRawBytes(),eM=e6(em.context,eC,eS,eu),eP=eY(eI+eM*eA);ew.aInRange("signature.s",eP,eE,eO);let eN=ew.concatBytes(eC,ew.numberToBytesLE(eP,eg.BYTES));return(0,e_.ensureBytes)("result",eN,2*eg.BYTES)}let e5=eC;function e9(eu,ed,em,eb=e5){let eE,eA,eS;let{context:eI,zip215:eC}=eb,eM=eg.BYTES;eu=(0,e_.ensureBytes)("signature",eu,2*eM),ed=(0,e_.ensureBytes)("message",ed),em=(0,e_.ensureBytes)("publicKey",em,eM),void 0!==eC&&(0,e_.abool)("zip215",eC),eT&&(ed=eT(ed));let eO=ew.bytesToNumberLE(eu.slice(eM,2*eM));try{eE=eG.fromHex(em,eC),eA=eG.fromHex(eu.slice(0,eM),eC),eS=eW.multiplyUnsafe(eO)}catch(eu){return!1}if(!eC&&eE.isSmallOrder())return!1;let eP=e6(eI,eA.toRawBytes(),eE.toRawBytes(),ed),eN=eA.add(eE.multiplyUnsafe(eP));return eN.subtract(eS).clearCofactor().equals(eG.ZERO)}eW._setWindowSize(8);let e7={getExtendedPublicKey:eQ,randomPrivateKey:()=>eN(eg.BYTES),precompute:(eu=8,ed=eG.BASE)=>(ed._setWindowSize(eu),ed.multiply(BigInt(3)),ed)};return{CURVE:ed,getPublicKey:e0,sign:e8,verify:e9,ExtendedPoint:eG,utils:e7}}},91322:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.expand_message_xmd=eS,ed.expand_message_xof=eI,ed.hash_to_field=eC,ed.isogenyMap=eM,ed.createHasher=eO;let em=eg(49530),eb=eg(4323),ew=eb.bytesToNumberBE;function e_(eu,ed){if(eA(eu),eA(ed),eu<0||eu>=1<<8*ed)throw Error("invalid I2OSP input: "+eu);let eg=Array.from({length:ed}).fill(0);for(let em=ed-1;em>=0;em--)eg[em]=255&eu,eu>>>=8;return new Uint8Array(eg)}function eE(eu,ed){let eg=new Uint8Array(eu.length);for(let em=0;em<eu.length;em++)eg[em]=eu[em]^ed[em];return eg}function eA(eu){if(!Number.isSafeInteger(eu))throw Error("number expected")}function eS(eu,ed,eg,em){(0,eb.abytes)(eu),(0,eb.abytes)(ed),eA(eg),ed.length>255&&(ed=em((0,eb.concatBytes)((0,eb.utf8ToBytes)("H2C-OVERSIZE-DST-"),ed)));let{outputLen:ew,blockLen:eS}=em,eI=Math.ceil(eg/ew);if(eg>65535||eI>255)throw Error("expand_message_xmd: invalid lenInBytes");let eC=(0,eb.concatBytes)(ed,e_(ed.length,1)),eM=e_(0,eS),eO=e_(eg,2),eT=Array(eI),eP=em((0,eb.concatBytes)(eM,eu,eO,e_(0,1),eC));eT[0]=em((0,eb.concatBytes)(eP,e_(1,1),eC));for(let eu=1;eu<=eI;eu++){let ed=[eE(eP,eT[eu-1]),e_(eu+1,1),eC];eT[eu]=em((0,eb.concatBytes)(...ed))}let eN=(0,eb.concatBytes)(...eT);return eN.slice(0,eg)}function eI(eu,ed,eg,em,ew){if((0,eb.abytes)(eu),(0,eb.abytes)(ed),eA(eg),ed.length>255){let eu=Math.ceil(2*em/8);ed=ew.create({dkLen:eu}).update((0,eb.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(ed).digest()}if(eg>65535||ed.length>255)throw Error("expand_message_xof: invalid lenInBytes");return ew.create({dkLen:eg}).update(eu).update(e_(eg,2)).update(ed).update(e_(ed.length,1)).digest()}function eC(eu,ed,eg){let e_;(0,eb.validateObject)(eg,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});let{p:eE,k:eC,m:eM,hash:eO,expand:eT,DST:eP}=eg;(0,eb.abytes)(eu),eA(ed);let eN="string"==typeof eP?(0,eb.utf8ToBytes)(eP):eP,ek=eE.toString(2).length,eR=Math.ceil((ek+eC)/8),eD=ed*eM*eR;if("xmd"===eT)e_=eS(eu,eN,eD,eO);else if("xof"===eT)e_=eI(eu,eN,eD,eC,eO);else if("_internal_pass"===eT)e_=eu;else throw Error('expand must be "xmd" or "xof"');let eB=Array(ed);for(let eu=0;eu<ed;eu++){let ed=Array(eM);for(let eg=0;eg<eM;eg++){let eb=eR*(eg+eu*eM),eA=e_.subarray(eb,eb+eR);ed[eg]=(0,em.mod)(ew(eA),eE)}eB[eu]=ed}return eB}function eM(eu,ed){let eg=ed.map(eu=>Array.from(eu).reverse());return(ed,em)=>{let[eb,ew,e_,eE]=eg.map(eg=>eg.reduce((eg,em)=>eu.add(eu.mul(eg,ed),em)));return{x:ed=eu.div(eb,ew),y:em=eu.mul(em,eu.div(e_,eE))}}}function eO(eu,ed,eg){if("function"!=typeof ed)throw Error("mapToCurve() must be defined");return{hashToCurve(em,eb){let ew=eC(em,2,{...eg,DST:eg.DST,...eb}),e_=eu.fromAffine(ed(ew[0])),eE=eu.fromAffine(ed(ew[1])),eA=e_.add(eE).clearCofactor();return eA.assertValidity(),eA},encodeToCurve(em,eb){let ew=eC(em,1,{...eg,DST:eg.encodeDST,...eb}),e_=eu.fromAffine(ed(ew[0])).clearCofactor();return e_.assertValidity(),e_},mapToCurve(eg){if(!Array.isArray(eg))throw Error("mapToCurve: expected array of bigints");for(let eu of eg)if("bigint"!=typeof eu)throw Error("mapToCurve: expected array of bigints");let em=eu.fromAffine(ed(eg)).clearCofactor();return em.assertValidity(),em}}}},49530:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.isNegativeLE=void 0,ed.mod=eC,ed.pow=eM,ed.pow2=eO,ed.invert=eT,ed.tonelliShanks=eP,ed.FpSqrt=eN,ed.validateField=eD,ed.FpPow=eB,ed.FpInvertBatch=eU,ed.FpDiv=eL,ed.FpLegendre=ej,ed.FpIsSquare=eF,ed.nLength=e$,ed.Field=eK,ed.FpSqrtOdd=eH,ed.FpSqrtEven=eV,ed.hashToPrivateScalar=eG,ed.getFieldBytesLength=eW,ed.getMinHashLength=eJ,ed.mapHashToField=eZ;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */let em=eg(4323),eb=BigInt(0),ew=BigInt(1),e_=BigInt(2),eE=BigInt(3),eA=BigInt(4),eS=BigInt(5),eI=BigInt(8);function eC(eu,ed){let eg=eu%ed;return eg>=eb?eg:ed+eg}function eM(eu,ed,eg){if(ed<eb)throw Error("invalid exponent, negatives unsupported");if(eg<=eb)throw Error("invalid modulus");if(eg===ew)return eb;let em=ew;for(;ed>eb;)ed&ew&&(em=em*eu%eg),eu=eu*eu%eg,ed>>=ew;return em}function eO(eu,ed,eg){let em=eu;for(;ed-- >eb;)em*=em,em%=eg;return em}function eT(eu,ed){if(eu===eb)throw Error("invert: expected non-zero number");if(ed<=eb)throw Error("invert: expected positive modulus, got "+ed);let eg=eC(eu,ed),em=ed,e_=eb,eE=ew,eA=ew,eS=eb;for(;eg!==eb;){let eu=em/eg,ed=em%eg,eb=e_-eA*eu,ew=eE-eS*eu;em=eg,eg=ed,e_=eA,eE=eS,eA=eb,eS=ew}let eI=em;if(eI!==ew)throw Error("invert: does not exist");return eC(e_,ed)}function eP(eu){let ed,eg,em;let eE=(eu-ew)/e_;for(ed=eu-ew,eg=0;ed%e_===eb;ed/=e_,eg++);for(em=e_;em<eu&&eM(em,eE,eu)!==eu-ew;em++)if(em>1e3)throw Error("Cannot find square root: likely non-prime P");if(1===eg){let ed=(eu+ew)/eA;return function(eu,eg){let em=eu.pow(eg,ed);if(!eu.eql(eu.sqr(em),eg))throw Error("Cannot find square root");return em}}let eS=(ed+ew)/e_;return function(eu,eb){if(eu.pow(eb,eE)===eu.neg(eu.ONE))throw Error("Cannot find square root");let e_=eg,eA=eu.pow(eu.mul(eu.ONE,em),ed),eI=eu.pow(eb,eS),eC=eu.pow(eb,ed);for(;!eu.eql(eC,eu.ONE);){if(eu.eql(eC,eu.ZERO))return eu.ZERO;let ed=1;for(let eg=eu.sqr(eC);ed<e_&&!eu.eql(eg,eu.ONE);ed++)eg=eu.sqr(eg);let eg=eu.pow(eA,ew<<BigInt(e_-ed-1));eA=eu.sqr(eg),eI=eu.mul(eI,eg),eC=eu.mul(eC,eA),e_=ed}return eI}}function eN(eu){if(eu%eA===eE){let ed=(eu+ew)/eA;return function(eu,eg){let em=eu.pow(eg,ed);if(!eu.eql(eu.sqr(em),eg))throw Error("Cannot find square root");return em}}if(eu%eI===eS){let ed=(eu-eS)/eI;return function(eu,eg){let em=eu.mul(eg,e_),eb=eu.pow(em,ed),ew=eu.mul(eg,eb),eE=eu.mul(eu.mul(ew,e_),eb),eA=eu.mul(ew,eu.sub(eE,eu.ONE));if(!eu.eql(eu.sqr(eA),eg))throw Error("Cannot find square root");return eA}}return eP(eu)}BigInt(9),BigInt(16);let ek=(eu,ed)=>(eC(eu,ed)&ew)===ew;ed.isNegativeLE=ek;let eR=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function eD(eu){let ed={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},eg=eR.reduce((eu,ed)=>(eu[ed]="function",eu),ed);return(0,em.validateObject)(eu,eg)}function eB(eu,ed,eg){if(eg<eb)throw Error("invalid exponent, negatives unsupported");if(eg===eb)return eu.ONE;if(eg===ew)return ed;let em=eu.ONE,e_=ed;for(;eg>eb;)eg&ew&&(em=eu.mul(em,e_)),e_=eu.sqr(e_),eg>>=ew;return em}function eU(eu,ed){let eg=Array(ed.length),em=ed.reduce((ed,em,eb)=>eu.is0(em)?ed:(eg[eb]=ed,eu.mul(ed,em)),eu.ONE),eb=eu.inv(em);return ed.reduceRight((ed,em,eb)=>eu.is0(em)?ed:(eg[eb]=eu.mul(ed,eg[eb]),eu.mul(ed,em)),eb),eg}function eL(eu,ed,eg){return eu.mul(ed,"bigint"==typeof eg?eT(eg,eu.ORDER):eu.inv(eg))}function ej(eu){let ed=(eu-ew)/e_;return(eu,eg)=>eu.pow(eg,ed)}function eF(eu){let ed=ej(eu.ORDER);return eg=>{let em=ed(eu,eg);return eu.eql(em,eu.ZERO)||eu.eql(em,eu.ONE)}}function e$(eu,ed){let eg=void 0!==ed?ed:eu.toString(2).length,em=Math.ceil(eg/8);return{nBitLength:eg,nByteLength:em}}function eK(eu,ed,eg=!1,e_={}){let eE;if(eu<=eb)throw Error("invalid field: expected ORDER > 0, got "+eu);let{nBitLength:eA,nByteLength:eS}=e$(eu,ed);if(eS>2048)throw Error("invalid field: expected ORDER of <= 2048 bytes");let eI=Object.freeze({ORDER:eu,isLE:eg,BITS:eA,BYTES:eS,MASK:(0,em.bitMask)(eA),ZERO:eb,ONE:ew,create:ed=>eC(ed,eu),isValid:ed=>{if("bigint"!=typeof ed)throw Error("invalid field element: expected bigint, got "+typeof ed);return eb<=ed&&ed<eu},is0:eu=>eu===eb,isOdd:eu=>(eu&ew)===ew,neg:ed=>eC(-ed,eu),eql:(eu,ed)=>eu===ed,sqr:ed=>eC(ed*ed,eu),add:(ed,eg)=>eC(ed+eg,eu),sub:(ed,eg)=>eC(ed-eg,eu),mul:(ed,eg)=>eC(ed*eg,eu),pow:(eu,ed)=>eB(eI,eu,ed),div:(ed,eg)=>eC(ed*eT(eg,eu),eu),sqrN:eu=>eu*eu,addN:(eu,ed)=>eu+ed,subN:(eu,ed)=>eu-ed,mulN:(eu,ed)=>eu*ed,inv:ed=>eT(ed,eu),sqrt:e_.sqrt||(ed=>(eE||(eE=eN(eu)),eE(eI,ed))),invertBatch:eu=>eU(eI,eu),cmov:(eu,ed,eg)=>eg?ed:eu,toBytes:eu=>eg?(0,em.numberToBytesLE)(eu,eS):(0,em.numberToBytesBE)(eu,eS),fromBytes:eu=>{if(eu.length!==eS)throw Error("Field.fromBytes: expected "+eS+" bytes, got "+eu.length);return eg?(0,em.bytesToNumberLE)(eu):(0,em.bytesToNumberBE)(eu)}});return Object.freeze(eI)}function eH(eu,ed){if(!eu.isOdd)throw Error("Field doesn't have isOdd");let eg=eu.sqrt(ed);return eu.isOdd(eg)?eg:eu.neg(eg)}function eV(eu,ed){if(!eu.isOdd)throw Error("Field doesn't have isOdd");let eg=eu.sqrt(ed);return eu.isOdd(eg)?eu.neg(eg):eg}function eG(eu,ed,eg=!1){eu=(0,em.ensureBytes)("privateHash",eu);let eb=eu.length,e_=e$(ed).nByteLength+8;if(e_<24||eb<e_||eb>1024)throw Error("hashToPrivateScalar: expected "+e_+"-1024 bytes of input, got "+eb);let eE=eg?(0,em.bytesToNumberLE)(eu):(0,em.bytesToNumberBE)(eu);return eC(eE,ed-ew)+ew}function eW(eu){if("bigint"!=typeof eu)throw Error("field order must be bigint");let ed=eu.toString(2).length;return Math.ceil(ed/8)}function eJ(eu){let ed=eW(eu);return ed+Math.ceil(ed/2)}function eZ(eu,ed,eg=!1){let eb=eu.length,e_=eW(ed),eE=eJ(ed);if(eb<16||eb<eE||eb>1024)throw Error("expected "+eE+"-1024 bytes of input, got "+eb);let eA=eg?(0,em.bytesToNumberLE)(eu):(0,em.bytesToNumberBE)(eu),eS=eC(eA,ed-ew)+ew;return eg?(0,em.numberToBytesLE)(eS,e_):(0,em.numberToBytesBE)(eS,e_)}},428:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.montgomery=eA;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */let em=eg(49530),eb=eg(4323),ew=BigInt(0),e_=BigInt(1);function eE(eu){return(0,eb.validateObject)(eu,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...eu})}function eA(eu){let ed=eE(eu),{P:eg}=ed,eA=eu=>(0,em.mod)(eu,eg),eS=ed.montgomeryBits,eI=Math.ceil(eS/8),eC=ed.nByteLength,eM=ed.adjustScalarBytes||(eu=>eu),eO=ed.powPminus2||(eu=>(0,em.pow)(eu,eg-BigInt(2),eg));function eT(eu,ed,eg){let em=eA(eu*(ed-eg));return[ed=eA(ed-em),eg=eA(eg+em)]}let eP=(ed.a-BigInt(2))/BigInt(4);function eN(eu,ed){let em;(0,eb.aInRange)("u",eu,ew,eg),(0,eb.aInRange)("scalar",ed,ew,eg);let eE=ed,eI=eu,eC=e_,eM=ew,eN=eu,ek=e_,eR=ew;for(let eu=BigInt(eS-1);eu>=ew;eu--){let ed=eE>>eu&e_;eR^=ed,eC=(em=eT(eR,eC,eN))[0],eN=em[1],eM=(em=eT(eR,eM,ek))[0],ek=em[1],eR=ed;let eg=eC+eM,eb=eA(eg*eg),ew=eC-eM,eS=eA(ew*ew),eO=eb-eS,eD=eN+ek,eB=eN-ek,eU=eA(eB*eg),eL=eA(eD*ew),ej=eU+eL,eF=eU-eL;eN=eA(ej*ej),ek=eA(eI*eA(eF*eF)),eC=eA(eb*eS),eM=eA(eO*(eb+eA(eP*eO)))}eC=(em=eT(eR,eC,eN))[0],eN=em[1],eM=(em=eT(eR,eM,ek))[0],ek=em[1];let eD=eO(eM);return eA(eC*eD)}function ek(eu){return(0,eb.numberToBytesLE)(eA(eu),eI)}function eR(eu){let ed=(0,eb.ensureBytes)("u coordinate",eu,eI);return 32===eC&&(ed[31]&=127),(0,eb.bytesToNumberLE)(ed)}function eD(eu){let ed=(0,eb.ensureBytes)("scalar",eu),eg=ed.length;if(eg!==eI&&eg!==eC)throw Error("invalid scalar, expected "+eI+" or "+eC+" bytes, got "+eg);return(0,eb.bytesToNumberLE)(eM(ed))}function eB(eu,ed){let eg=eR(ed),em=eD(eu),eb=eN(eg,em);if(eb===ew)throw Error("invalid private or public key received");return ek(eb)}let eU=ek(ed.Gu);function eL(eu){return eB(eu,eU)}return{scalarMult:eB,scalarMultBase:eL,getSharedSecret:(eu,ed)=>eB(eu,ed),getPublicKey:eu=>eL(eu),utils:{randomPrivateKey:()=>ed.randomBytes(ed.nByteLength)},GuBytes:eU}}},4323:function(eu,ed){"use strict";/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(ed,"__esModule",{value:!0}),ed.notImplemented=ed.bitMask=void 0,ed.isBytes=ew,ed.abytes=e_,ed.abool=eE,ed.bytesToHex=eS,ed.numberToHexUnpadded=eI,ed.hexToNumber=eC,ed.hexToBytes=eT,ed.bytesToNumberBE=eP,ed.bytesToNumberLE=eN,ed.numberToBytesBE=ek,ed.numberToBytesLE=eR,ed.numberToVarBytesBE=eD,ed.ensureBytes=eB,ed.concatBytes=eU,ed.equalBytes=eL,ed.utf8ToBytes=ej,ed.inRange=e$,ed.aInRange=eK,ed.bitLen=eH,ed.bitGet=eV,ed.bitSet=eG,ed.createHmacDrbg=eY,ed.validateObject=eQ,ed.memoized=e6;let eg=BigInt(0),em=BigInt(1),eb=BigInt(2);function ew(eu){return eu instanceof Uint8Array||ArrayBuffer.isView(eu)&&"Uint8Array"===eu.constructor.name}function e_(eu){if(!ew(eu))throw Error("Uint8Array expected")}function eE(eu,ed){if("boolean"!=typeof ed)throw Error(eu+" boolean expected, got "+ed)}let eA=Array.from({length:256},(eu,ed)=>ed.toString(16).padStart(2,"0"));function eS(eu){e_(eu);let ed="";for(let eg=0;eg<eu.length;eg++)ed+=eA[eu[eg]];return ed}function eI(eu){let ed=eu.toString(16);return 1&ed.length?"0"+ed:ed}function eC(eu){if("string"!=typeof eu)throw Error("hex string expected, got "+typeof eu);return""===eu?eg:BigInt("0x"+eu)}let eM={_0:48,_9:57,A:65,F:70,a:97,f:102};function eO(eu){return eu>=eM._0&&eu<=eM._9?eu-eM._0:eu>=eM.A&&eu<=eM.F?eu-(eM.A-10):eu>=eM.a&&eu<=eM.f?eu-(eM.a-10):void 0}function eT(eu){if("string"!=typeof eu)throw Error("hex string expected, got "+typeof eu);let ed=eu.length,eg=ed/2;if(ed%2)throw Error("hex string expected, got unpadded hex of length "+ed);let em=new Uint8Array(eg);for(let ed=0,eb=0;ed<eg;ed++,eb+=2){let eg=eO(eu.charCodeAt(eb)),ew=eO(eu.charCodeAt(eb+1));if(void 0===eg||void 0===ew){let ed=eu[eb]+eu[eb+1];throw Error('hex string expected, got non-hex character "'+ed+'" at index '+eb)}em[ed]=16*eg+ew}return em}function eP(eu){return eC(eS(eu))}function eN(eu){return e_(eu),eC(eS(Uint8Array.from(eu).reverse()))}function ek(eu,ed){return eT(eu.toString(16).padStart(2*ed,"0"))}function eR(eu,ed){return ek(eu,ed).reverse()}function eD(eu){return eT(eI(eu))}function eB(eu,ed,eg){let em;if("string"==typeof ed)try{em=eT(ed)}catch(ed){throw Error(eu+" must be hex string or Uint8Array, cause: "+ed)}else if(ew(ed))em=Uint8Array.from(ed);else throw Error(eu+" must be hex string or Uint8Array");let eb=em.length;if("number"==typeof eg&&eb!==eg)throw Error(eu+" of length "+eg+" expected, got "+eb);return em}function eU(...eu){let ed=0;for(let eg=0;eg<eu.length;eg++){let em=eu[eg];e_(em),ed+=em.length}let eg=new Uint8Array(ed);for(let ed=0,em=0;ed<eu.length;ed++){let eb=eu[ed];eg.set(eb,em),em+=eb.length}return eg}function eL(eu,ed){if(eu.length!==ed.length)return!1;let eg=0;for(let em=0;em<eu.length;em++)eg|=eu[em]^ed[em];return 0===eg}function ej(eu){if("string"!=typeof eu)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(eu))}let eF=eu=>"bigint"==typeof eu&&eg<=eu;function e$(eu,ed,eg){return eF(eu)&&eF(ed)&&eF(eg)&&ed<=eu&&eu<eg}function eK(eu,ed,eg,em){if(!e$(ed,eg,em))throw Error("expected valid "+eu+": "+eg+" <= n < "+em+", got "+ed)}function eH(eu){let ed;for(ed=0;eu>eg;eu>>=em,ed+=1);return ed}function eV(eu,ed){return eu>>BigInt(ed)&em}function eG(eu,ed,eb){return eu|(eb?em:eg)<<BigInt(ed)}let eW=eu=>(eb<<BigInt(eu-1))-em;ed.bitMask=eW;let eJ=eu=>new Uint8Array(eu),eZ=eu=>Uint8Array.from(eu);function eY(eu,ed,eg){if("number"!=typeof eu||eu<2)throw Error("hashLen must be a number");if("number"!=typeof ed||ed<2)throw Error("qByteLen must be a number");if("function"!=typeof eg)throw Error("hmacFn must be a function");let em=eJ(eu),eb=eJ(eu),ew=0,e_=()=>{em.fill(1),eb.fill(0),ew=0},eE=(...eu)=>eg(eb,em,...eu),eA=(eu=eJ())=>{eb=eE(eZ([0]),eu),em=eE(),0!==eu.length&&(eb=eE(eZ([1]),eu),em=eE())},eS=()=>{if(ew++>=1e3)throw Error("drbg: tried 1000 values");let eu=0,eg=[];for(;eu<ed;){em=eE();let ed=em.slice();eg.push(ed),eu+=em.length}return eU(...eg)},eI=(eu,ed)=>{let eg;for(e_(),eA(eu);!(eg=ed(eS()));)eA();return e_(),eg};return eI}let eX={bigint:eu=>"bigint"==typeof eu,function:eu=>"function"==typeof eu,boolean:eu=>"boolean"==typeof eu,string:eu=>"string"==typeof eu,stringOrUint8Array:eu=>"string"==typeof eu||ew(eu),isSafeInteger:eu=>Number.isSafeInteger(eu),array:eu=>Array.isArray(eu),field:(eu,ed)=>ed.Fp.isValid(eu),hash:eu=>"function"==typeof eu&&Number.isSafeInteger(eu.outputLen)};function eQ(eu,ed,eg={}){let em=(ed,eg,em)=>{let eb=eX[eg];if("function"!=typeof eb)throw Error("invalid validator function");let ew=eu[ed];if((!em||void 0!==ew)&&!eb(ew,eu))throw Error("param "+String(ed)+" is invalid. Expected "+eg+", got "+ew)};for(let[eu,eg]of Object.entries(ed))em(eu,eg,!1);for(let[eu,ed]of Object.entries(eg))em(eu,ed,!0);return eu}let e0=()=>{throw Error("not implemented")};function e6(eu){let ed=new WeakMap;return(eg,...em)=>{let eb=ed.get(eg);if(void 0!==eb)return eb;let ew=eu(eg,...em);return ed.set(eg,ew),ew}}ed.notImplemented=e0},16836:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.hash_to_ristretto255=ed.hashToRistretto255=ed.RistrettoPoint=ed.encodeToCurve=ed.hashToCurve=ed.edwardsToMontgomery=ed.x25519=ed.ed25519ph=ed.ed25519ctx=ed.ed25519=ed.ED25519_TORSION_SUBGROUP=void 0,ed.edwardsToMontgomeryPub=e$,ed.edwardsToMontgomeryPriv=eK;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */let em=eg(12540),eb=eg(70064),ew=eg(41465),e_=eg(42908),eE=eg(91322),eA=eg(49530),eS=eg(428),eI=eg(4323),eC=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),eM=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),eO=BigInt(0),eT=BigInt(1),eP=BigInt(2),eN=BigInt(3),ek=BigInt(5),eR=BigInt(8);function eD(eu){let ed=BigInt(10),eg=BigInt(20),em=BigInt(40),eb=BigInt(80),ew=eC,e_=eu*eu%ew,eE=e_*eu%ew,eS=(0,eA.pow2)(eE,eP,ew)*eE%ew,eI=(0,eA.pow2)(eS,eT,ew)*eu%ew,eM=(0,eA.pow2)(eI,ek,ew)*eI%ew,eO=(0,eA.pow2)(eM,ed,ew)*eM%ew,eN=(0,eA.pow2)(eO,eg,ew)*eO%ew,eR=(0,eA.pow2)(eN,em,ew)*eN%ew,eD=(0,eA.pow2)(eR,eb,ew)*eR%ew,eB=(0,eA.pow2)(eD,eb,ew)*eR%ew,eU=(0,eA.pow2)(eB,ed,ew)*eM%ew,eL=(0,eA.pow2)(eU,eP,ew)*eu%ew;return{pow_p_5_8:eL,b2:eE}}function eB(eu){return eu[0]&=248,eu[31]&=127,eu[31]|=64,eu}function eU(eu,ed){let eg=eC,em=(0,eA.mod)(ed*ed*ed,eg),eb=(0,eA.mod)(em*em*ed,eg),ew=eD(eu*eb).pow_p_5_8,e_=(0,eA.mod)(eu*em*ew,eg),eE=(0,eA.mod)(ed*e_*e_,eg),eS=e_,eI=(0,eA.mod)(e_*eM,eg),eO=eE===eu,eT=eE===(0,eA.mod)(-eu,eg),eP=eE===(0,eA.mod)(-eu*eM,eg);return eO&&(e_=eS),(eT||eP)&&(e_=eI),(0,eA.isNegativeLE)(e_,eg)&&(e_=(0,eA.mod)(-e_,eg)),{isValid:eO||eT,value:e_}}ed.ED25519_TORSION_SUBGROUP=["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"];let eL=(0,eA.Field)(eC,void 0,!0),ej={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:eL,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:eR,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:em.sha512,randomBytes:eb.randomBytes,adjustScalarBytes:eB,uvRatio:eU};function eF(eu,ed,eg){if(ed.length>255)throw Error("Context is too big");return(0,eb.concatBytes)((0,eb.utf8ToBytes)("SigEd25519 no Ed25519 collisions"),new Uint8Array([eg?1:0,ed.length]),ed,eu)}function e$(eu){let{y:eg}=ed.ed25519.ExtendedPoint.fromHex(eu),em=BigInt(1);return eL.toBytes(eL.create((em+eg)*eL.inv(em-eg)))}function eK(eu){let ed=ej.hash(eu.subarray(0,32));return ej.adjustScalarBytes(ed).subarray(0,32)}ed.ed25519=(0,e_.twistedEdwards)(ej),ed.ed25519ctx=(0,e_.twistedEdwards)({...ej,domain:eF}),ed.ed25519ph=(0,e_.twistedEdwards)(Object.assign({},ej,{domain:eF,prehash:em.sha512})),ed.x25519=(0,eS.montgomery)({P:eC,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:eu=>{let ed=eC,{pow_p_5_8:eg,b2:em}=eD(eu);return(0,eA.mod)((0,eA.pow2)(eg,eN,ed)*em,ed)},adjustScalarBytes:eB,randomBytes:eb.randomBytes}),ed.edwardsToMontgomery=e$;let eH=(eL.ORDER+eN)/eR,eV=eL.pow(eP,eH),eG=eL.sqrt(eL.neg(eL.ONE));function eW(eu){let ed=(eL.ORDER-ek)/eR,eg=BigInt(486662),em=eL.sqr(eu);em=eL.mul(em,eP);let eb=eL.add(em,eL.ONE),ew=eL.neg(eg),e_=eL.sqr(eb),eE=eL.mul(e_,eb),eA=eL.mul(em,eg);eA=eL.mul(eA,ew),eA=eL.add(eA,e_),eA=eL.mul(eA,ew);let eS=eL.sqr(eE);e_=eL.sqr(eS),eS=eL.mul(eS,eE),eS=eL.mul(eS,eA),e_=eL.mul(e_,eS);let eI=eL.pow(e_,ed);eI=eL.mul(eI,eS);let eC=eL.mul(eI,eG);e_=eL.sqr(eI),e_=eL.mul(e_,eE);let eM=eL.eql(e_,eA),eO=eL.cmov(eC,eI,eM),eN=eL.mul(ew,em),eD=eL.mul(eI,eu);eD=eL.mul(eD,eV);let eB=eL.mul(eD,eG),eU=eL.mul(eA,em);e_=eL.sqr(eD),e_=eL.mul(e_,eE);let ej=eL.eql(e_,eU),eF=eL.cmov(eB,eD,ej);e_=eL.sqr(eO),e_=eL.mul(e_,eE);let e$=eL.eql(e_,eA),eK=eL.cmov(eN,ew,e$),eH=eL.cmov(eF,eO,e$),eW=eL.isOdd(eH);return eH=eL.cmov(eH,eL.neg(eH),e$!==eW),{xMn:eK,xMd:eb,yMn:eH,yMd:eT}}let eJ=(0,eA.FpSqrtEven)(eL,eL.neg(BigInt(486664)));function eZ(eu){let{xMn:ed,xMd:eg,yMn:em,yMd:eb}=eW(eu),ew=eL.mul(ed,eb);ew=eL.mul(ew,eJ);let e_=eL.mul(eg,em),eE=eL.sub(ed,eg),eA=eL.add(ed,eg),eS=eL.mul(e_,eA),eI=eL.eql(eS,eL.ZERO);ew=eL.cmov(ew,eL.ZERO,eI),e_=eL.cmov(e_,eL.ONE,eI),eE=eL.cmov(eE,eL.ONE,eI),eA=eL.cmov(eA,eL.ONE,eI);let eC=eL.invertBatch([e_,eA]);return{x:eL.mul(ew,eC[0]),y:eL.mul(eE,eC[1])}}let eY=(0,eE.createHasher)(ed.ed25519.ExtendedPoint,eu=>eZ(eu[0]),{DST:"edwards25519_XMD:SHA-512_ELL2_RO_",encodeDST:"edwards25519_XMD:SHA-512_ELL2_NU_",p:eL.ORDER,m:1,k:128,expand:"xmd",hash:em.sha512});function eX(eu){if(!(eu instanceof td))throw Error("RistrettoPoint expected")}ed.hashToCurve=eY.hashToCurve,ed.encodeToCurve=eY.encodeToCurve;let eQ=eM,e0=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),e6=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),e8=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),e5=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),e9=eu=>eU(eT,eu),e7=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),tu=eu=>ed.ed25519.CURVE.Fp.create((0,eI.bytesToNumberLE)(eu)&e7);function th(eu){let{d:eg}=ed.ed25519.CURVE,em=ed.ed25519.CURVE.Fp.ORDER,eb=ed.ed25519.CURVE.Fp.create,ew=eb(eQ*eu*eu),e_=eb((ew+eT)*e8),eE=BigInt(-1),eS=eb((eE-eg*ew)*eb(ew+eg)),{isValid:eI,value:eC}=eU(e_,eS),eM=eb(eC*eu);(0,eA.isNegativeLE)(eM,em)||(eM=eb(-eM)),eI||(eC=eM),eI||(eE=ew);let eO=eb(eE*(ew-eT)*e5-eS),eP=eC*eC,eN=eb((eC+eC)*eS),ek=eb(eO*e0),eR=eb(eT-eP),eD=eb(eT+eP);return new ed.ed25519.ExtendedPoint(eb(eN*eD),eb(eR*ek),eb(ek*eD),eb(eN*eR))}class td{constructor(eu){this.ep=eu}static fromAffine(eu){return new td(ed.ed25519.ExtendedPoint.fromAffine(eu))}static hashToCurve(eu){eu=(0,eI.ensureBytes)("ristrettoHash",eu,64);let ed=tu(eu.slice(0,32)),eg=th(ed),em=tu(eu.slice(32,64)),eb=th(em);return new td(eg.add(eb))}static fromHex(eu){eu=(0,eI.ensureBytes)("ristrettoHex",eu,32);let{a:eg,d:em}=ed.ed25519.CURVE,eb=ed.ed25519.CURVE.Fp.ORDER,ew=ed.ed25519.CURVE.Fp.create,e_="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",eE=tu(eu);if(!(0,eI.equalBytes)((0,eI.numberToBytesLE)(eE,32),eu)||(0,eA.isNegativeLE)(eE,eb))throw Error(e_);let eS=ew(eE*eE),eC=ew(eT+eg*eS),eM=ew(eT-eg*eS),eP=ew(eC*eC),eN=ew(eM*eM),ek=ew(eg*em*eP-eN),{isValid:eR,value:eD}=e9(ew(ek*eN)),eB=ew(eD*eM),eU=ew(eD*eB*ek),eL=ew((eE+eE)*eB);(0,eA.isNegativeLE)(eL,eb)&&(eL=ew(-eL));let ej=ew(eC*eU),eF=ew(eL*ej);if(!eR||(0,eA.isNegativeLE)(eF,eb)||ej===eO)throw Error(e_);return new td(new ed.ed25519.ExtendedPoint(eL,ej,eT,eF))}static msm(eu,eg){let em=(0,eA.Field)(ed.ed25519.CURVE.n,ed.ed25519.CURVE.nBitLength);return(0,ew.pippenger)(td,em,eu,eg)}toRawBytes(){let eu,{ex:eg,ey:em,ez:eb,et:ew}=this.ep,e_=ed.ed25519.CURVE.Fp.ORDER,eE=ed.ed25519.CURVE.Fp.create,eS=eE(eE(eb+em)*eE(eb-em)),eC=eE(eg*em),eM=eE(eC*eC),{value:eO}=e9(eE(eS*eM)),eT=eE(eO*eS),eP=eE(eO*eC),eN=eE(eT*eP*ew);if((0,eA.isNegativeLE)(ew*eN,e_)){let ed=eE(em*eQ),eb=eE(eg*eQ);eg=ed,em=eb,eu=eE(eT*e6)}else eu=eP;(0,eA.isNegativeLE)(eg*eN,e_)&&(em=eE(-em));let ek=eE((eb-em)*eu);return(0,eA.isNegativeLE)(ek,e_)&&(ek=eE(-ek)),(0,eI.numberToBytesLE)(ek,32)}toHex(){return(0,eI.bytesToHex)(this.toRawBytes())}toString(){return this.toHex()}equals(eu){eX(eu);let{ex:eg,ey:em}=this.ep,{ex:eb,ey:ew}=eu.ep,e_=ed.ed25519.CURVE.Fp.create,eE=e_(eg*ew)===e_(em*eb),eA=e_(em*ew)===e_(eg*eb);return eE||eA}add(eu){return eX(eu),new td(this.ep.add(eu.ep))}subtract(eu){return eX(eu),new td(this.ep.subtract(eu.ep))}multiply(eu){return new td(this.ep.multiply(eu))}multiplyUnsafe(eu){return new td(this.ep.multiplyUnsafe(eu))}double(){return new td(this.ep.double())}negate(){return new td(this.ep.negate())}}ed.RistrettoPoint=(td.BASE||(td.BASE=new td(ed.ed25519.ExtendedPoint.BASE)),td.ZERO||(td.ZERO=new td(ed.ed25519.ExtendedPoint.ZERO)),td);let tg=(eu,ed)=>{let eg=ed.DST,ew="string"==typeof eg?(0,eb.utf8ToBytes)(eg):eg,e_=(0,eE.expand_message_xmd)(eu,ew,64,em.sha512),eA=td.hashToCurve(e_);return eA};ed.hashToRistretto255=tg,ed.hash_to_ristretto255=ed.hashToRistretto255},53525:function(eu,ed){"use strict";function eg(eu){if(!Number.isSafeInteger(eu)||eu<0)throw Error("positive integer expected, got "+eu)}function em(eu){return eu instanceof Uint8Array||ArrayBuffer.isView(eu)&&"Uint8Array"===eu.constructor.name}function eb(eu,...ed){if(!em(eu))throw Error("Uint8Array expected");if(ed.length>0&&!ed.includes(eu.length))throw Error("Uint8Array expected of length "+ed+", got length="+eu.length)}function ew(eu){if("function"!=typeof eu||"function"!=typeof eu.create)throw Error("Hash should be wrapped by utils.wrapConstructor");eg(eu.outputLen),eg(eu.blockLen)}function e_(eu,ed=!0){if(eu.destroyed)throw Error("Hash instance has been destroyed");if(ed&&eu.finished)throw Error("Hash#digest() has already been called")}function eE(eu,ed){eb(eu);let eg=ed.outputLen;if(eu.length<eg)throw Error("digestInto() expects output buffer of length at least "+eg)}Object.defineProperty(ed,"__esModule",{value:!0}),ed.anumber=eg,ed.abytes=eb,ed.ahash=ew,ed.aexists=e_,ed.aoutput=eE},98469:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.HashMD=void 0,ed.setBigUint64=ew,ed.Chi=e_,ed.Maj=eE;let em=eg(53525),eb=eg(70064);function ew(eu,ed,eg,em){if("function"==typeof eu.setBigUint64)return eu.setBigUint64(ed,eg,em);let eb=BigInt(32),ew=BigInt(4294967295),e_=Number(eg>>eb&ew),eE=Number(eg&ew),eA=em?4:0,eS=em?0:4;eu.setUint32(ed+eA,e_,em),eu.setUint32(ed+eS,eE,em)}function e_(eu,ed,eg){return eu&ed^~eu&eg}function eE(eu,ed,eg){return eu&ed^eu&eg^ed&eg}class eA extends eb.Hash{constructor(eu,ed,eg,em){super(),this.blockLen=eu,this.outputLen=ed,this.padOffset=eg,this.isLE=em,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(eu),this.view=(0,eb.createView)(this.buffer)}update(eu){(0,em.aexists)(this);let{view:ed,buffer:eg,blockLen:ew}=this;eu=(0,eb.toBytes)(eu);let e_=eu.length;for(let em=0;em<e_;){let eE=Math.min(ew-this.pos,e_-em);if(eE===ew){let ed=(0,eb.createView)(eu);for(;ew<=e_-em;em+=ew)this.process(ed,em);continue}eg.set(eu.subarray(em,em+eE),this.pos),this.pos+=eE,em+=eE,this.pos===ew&&(this.process(ed,0),this.pos=0)}return this.length+=eu.length,this.roundClean(),this}digestInto(eu){(0,em.aexists)(this),(0,em.aoutput)(eu,this),this.finished=!0;let{buffer:ed,view:eg,blockLen:e_,isLE:eE}=this,{pos:eA}=this;ed[eA++]=128,this.buffer.subarray(eA).fill(0),this.padOffset>e_-eA&&(this.process(eg,0),eA=0);for(let eu=eA;eu<e_;eu++)ed[eu]=0;ew(eg,e_-8,BigInt(8*this.length),eE),this.process(eg,0);let eS=(0,eb.createView)(eu),eI=this.outputLen;if(eI%4)throw Error("_sha2: outputLen should be aligned to 32bit");let eC=eI/4,eM=this.get();if(eC>eM.length)throw Error("_sha2: outputLen bigger than state");for(let eu=0;eu<eC;eu++)eS.setUint32(4*eu,eM[eu],eE)}digest(){let{buffer:eu,outputLen:ed}=this;this.digestInto(eu);let eg=eu.slice(0,ed);return this.destroy(),eg}_cloneInto(eu){eu||(eu=new this.constructor),eu.set(...this.get());let{blockLen:ed,buffer:eg,length:em,finished:eb,destroyed:ew,pos:e_}=this;return eu.length=em,eu.pos=e_,eu.finished=eb,eu.destroyed=ew,em%ed&&eu.buffer.set(eg),eu}}ed.HashMD=eA},11655:function(eu,ed){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.add5L=ed.add5H=ed.add4H=ed.add4L=ed.add3H=ed.add3L=ed.rotlBL=ed.rotlBH=ed.rotlSL=ed.rotlSH=ed.rotr32L=ed.rotr32H=ed.rotrBL=ed.rotrBH=ed.rotrSL=ed.rotrSH=ed.shrSL=ed.shrSH=ed.toBig=void 0,ed.fromBig=eb,ed.split=ew,ed.add=eD;let eg=BigInt(4294967296-1),em=BigInt(32);function eb(eu,ed=!1){return ed?{h:Number(eu&eg),l:Number(eu>>em&eg)}:{h:0|Number(eu>>em&eg),l:0|Number(eu&eg)}}function ew(eu,ed=!1){let eg=new Uint32Array(eu.length),em=new Uint32Array(eu.length);for(let ew=0;ew<eu.length;ew++){let{h:e_,l:eE}=eb(eu[ew],ed);[eg[ew],em[ew]]=[e_,eE]}return[eg,em]}let e_=(eu,ed)=>BigInt(eu>>>0)<<em|BigInt(ed>>>0);ed.toBig=e_;let eE=(eu,ed,eg)=>eu>>>eg;ed.shrSH=eE;let eA=(eu,ed,eg)=>eu<<32-eg|ed>>>eg;ed.shrSL=eA;let eS=(eu,ed,eg)=>eu>>>eg|ed<<32-eg;ed.rotrSH=eS;let eI=(eu,ed,eg)=>eu<<32-eg|ed>>>eg;ed.rotrSL=eI;let eC=(eu,ed,eg)=>eu<<64-eg|ed>>>eg-32;ed.rotrBH=eC;let eM=(eu,ed,eg)=>eu>>>eg-32|ed<<64-eg;ed.rotrBL=eM;let eO=(eu,ed)=>ed;ed.rotr32H=eO;let eT=(eu,ed)=>eu;ed.rotr32L=eT;let eP=(eu,ed,eg)=>eu<<eg|ed>>>32-eg;ed.rotlSH=eP;let eN=(eu,ed,eg)=>ed<<eg|eu>>>32-eg;ed.rotlSL=eN;let ek=(eu,ed,eg)=>ed<<eg-32|eu>>>64-eg;ed.rotlBH=ek;let eR=(eu,ed,eg)=>eu<<eg-32|ed>>>64-eg;function eD(eu,ed,eg,em){let eb=(ed>>>0)+(em>>>0);return{h:eu+eg+(eb/4294967296|0)|0,l:0|eb}}ed.rotlBL=eR;let eB=(eu,ed,eg)=>(eu>>>0)+(ed>>>0)+(eg>>>0);ed.add3L=eB;let eU=(eu,ed,eg,em)=>ed+eg+em+(eu/4294967296|0)|0;ed.add3H=eU;let eL=(eu,ed,eg,em)=>(eu>>>0)+(ed>>>0)+(eg>>>0)+(em>>>0);ed.add4L=eL;let ej=(eu,ed,eg,em,eb)=>ed+eg+em+eb+(eu/4294967296|0)|0;ed.add4H=ej;let eF=(eu,ed,eg,em,eb)=>(eu>>>0)+(ed>>>0)+(eg>>>0)+(em>>>0)+(eb>>>0);ed.add5L=eF;let e$=(eu,ed,eg,em,eb,ew)=>ed+eg+em+eb+ew+(eu/4294967296|0)|0;ed.add5H=e$;let eK={fromBig:eb,split:ew,toBig:e_,shrSH:eE,shrSL:eA,rotrSH:eS,rotrSL:eI,rotrBH:eC,rotrBL:eM,rotr32H:eO,rotr32L:eT,rotlSH:eP,rotlSL:eN,rotlBH:ek,rotlBL:eR,add:eD,add3L:eB,add3H:eU,add4L:eL,add4H:ej,add5H:e$,add5L:eF};ed.default=eK},70825:function(eu,ed){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.crypto=void 0,ed.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0},96053:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.sha224=ed.sha256=ed.SHA256=void 0;let em=eg(98469),eb=eg(70064),ew=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),e_=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),eE=new Uint32Array(64);class eA extends em.HashMD{constructor(){super(64,32,8,!1),this.A=0|e_[0],this.B=0|e_[1],this.C=0|e_[2],this.D=0|e_[3],this.E=0|e_[4],this.F=0|e_[5],this.G=0|e_[6],this.H=0|e_[7]}get(){let{A:eu,B:ed,C:eg,D:em,E:eb,F:ew,G:e_,H:eE}=this;return[eu,ed,eg,em,eb,ew,e_,eE]}set(eu,ed,eg,em,eb,ew,e_,eE){this.A=0|eu,this.B=0|ed,this.C=0|eg,this.D=0|em,this.E=0|eb,this.F=0|ew,this.G=0|e_,this.H=0|eE}process(eu,ed){for(let eg=0;eg<16;eg++,ed+=4)eE[eg]=eu.getUint32(ed,!1);for(let eu=16;eu<64;eu++){let ed=eE[eu-15],eg=eE[eu-2],em=(0,eb.rotr)(ed,7)^(0,eb.rotr)(ed,18)^ed>>>3,ew=(0,eb.rotr)(eg,17)^(0,eb.rotr)(eg,19)^eg>>>10;eE[eu]=ew+eE[eu-7]+em+eE[eu-16]|0}let{A:eg,B:e_,C:eA,D:eS,E:eI,F:eC,G:eM,H:eO}=this;for(let eu=0;eu<64;eu++){let ed=(0,eb.rotr)(eI,6)^(0,eb.rotr)(eI,11)^(0,eb.rotr)(eI,25),eT=eO+ed+(0,em.Chi)(eI,eC,eM)+ew[eu]+eE[eu]|0,eP=(0,eb.rotr)(eg,2)^(0,eb.rotr)(eg,13)^(0,eb.rotr)(eg,22),eN=eP+(0,em.Maj)(eg,e_,eA)|0;eO=eM,eM=eC,eC=eI,eI=eS+eT|0,eS=eA,eA=e_,e_=eg,eg=eT+eN|0}eg=eg+this.A|0,e_=e_+this.B|0,eA=eA+this.C|0,eS=eS+this.D|0,eI=eI+this.E|0,eC=eC+this.F|0,eM=eM+this.G|0,eO=eO+this.H|0,this.set(eg,e_,eA,eS,eI,eC,eM,eO)}roundClean(){eE.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}ed.SHA256=eA;class eS extends eA{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}ed.sha256=(0,eb.wrapConstructor)(()=>new eA),ed.sha224=(0,eb.wrapConstructor)(()=>new eS)},12540:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.sha384=ed.sha512_256=ed.sha512_224=ed.sha512=ed.SHA384=ed.SHA512_256=ed.SHA512_224=ed.SHA512=void 0;let em=eg(98469),eb=eg(11655),ew=eg(70064),[e_,eE]=eb.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(eu=>BigInt(eu))),eA=new Uint32Array(80),eS=new Uint32Array(80);class eI extends em.HashMD{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:eu,Al:ed,Bh:eg,Bl:em,Ch:eb,Cl:ew,Dh:e_,Dl:eE,Eh:eA,El:eS,Fh:eI,Fl:eC,Gh:eM,Gl:eO,Hh:eT,Hl:eP}=this;return[eu,ed,eg,em,eb,ew,e_,eE,eA,eS,eI,eC,eM,eO,eT,eP]}set(eu,ed,eg,em,eb,ew,e_,eE,eA,eS,eI,eC,eM,eO,eT,eP){this.Ah=0|eu,this.Al=0|ed,this.Bh=0|eg,this.Bl=0|em,this.Ch=0|eb,this.Cl=0|ew,this.Dh=0|e_,this.Dl=0|eE,this.Eh=0|eA,this.El=0|eS,this.Fh=0|eI,this.Fl=0|eC,this.Gh=0|eM,this.Gl=0|eO,this.Hh=0|eT,this.Hl=0|eP}process(eu,ed){for(let eg=0;eg<16;eg++,ed+=4)eA[eg]=eu.getUint32(ed),eS[eg]=eu.getUint32(ed+=4);for(let eu=16;eu<80;eu++){let ed=0|eA[eu-15],eg=0|eS[eu-15],em=eb.default.rotrSH(ed,eg,1)^eb.default.rotrSH(ed,eg,8)^eb.default.shrSH(ed,eg,7),ew=eb.default.rotrSL(ed,eg,1)^eb.default.rotrSL(ed,eg,8)^eb.default.shrSL(ed,eg,7),e_=0|eA[eu-2],eE=0|eS[eu-2],eI=eb.default.rotrSH(e_,eE,19)^eb.default.rotrBH(e_,eE,61)^eb.default.shrSH(e_,eE,6),eC=eb.default.rotrSL(e_,eE,19)^eb.default.rotrBL(e_,eE,61)^eb.default.shrSL(e_,eE,6),eM=eb.default.add4L(ew,eC,eS[eu-7],eS[eu-16]),eO=eb.default.add4H(eM,em,eI,eA[eu-7],eA[eu-16]);eA[eu]=0|eO,eS[eu]=0|eM}let{Ah:eg,Al:em,Bh:ew,Bl:eI,Ch:eC,Cl:eM,Dh:eO,Dl:eT,Eh:eP,El:eN,Fh:ek,Fl:eR,Gh:eD,Gl:eB,Hh:eU,Hl:eL}=this;for(let eu=0;eu<80;eu++){let ed=eb.default.rotrSH(eP,eN,14)^eb.default.rotrSH(eP,eN,18)^eb.default.rotrBH(eP,eN,41),ej=eb.default.rotrSL(eP,eN,14)^eb.default.rotrSL(eP,eN,18)^eb.default.rotrBL(eP,eN,41),eF=eP&ek^~eP&eD,e$=eN&eR^~eN&eB,eK=eb.default.add5L(eL,ej,e$,eE[eu],eS[eu]),eH=eb.default.add5H(eK,eU,ed,eF,e_[eu],eA[eu]),eV=0|eK,eG=eb.default.rotrSH(eg,em,28)^eb.default.rotrBH(eg,em,34)^eb.default.rotrBH(eg,em,39),eW=eb.default.rotrSL(eg,em,28)^eb.default.rotrBL(eg,em,34)^eb.default.rotrBL(eg,em,39),eJ=eg&ew^eg&eC^ew&eC,eZ=em&eI^em&eM^eI&eM;eU=0|eD,eL=0|eB,eD=0|ek,eB=0|eR,ek=0|eP,eR=0|eN,({h:eP,l:eN}=eb.default.add(0|eO,0|eT,0|eH,0|eV)),eO=0|eC,eT=0|eM,eC=0|ew,eM=0|eI,ew=0|eg,eI=0|em;let eY=eb.default.add3L(eV,eW,eZ);eg=eb.default.add3H(eY,eH,eG,eJ),em=0|eY}({h:eg,l:em}=eb.default.add(0|this.Ah,0|this.Al,0|eg,0|em)),({h:ew,l:eI}=eb.default.add(0|this.Bh,0|this.Bl,0|ew,0|eI)),({h:eC,l:eM}=eb.default.add(0|this.Ch,0|this.Cl,0|eC,0|eM)),({h:eO,l:eT}=eb.default.add(0|this.Dh,0|this.Dl,0|eO,0|eT)),({h:eP,l:eN}=eb.default.add(0|this.Eh,0|this.El,0|eP,0|eN)),({h:ek,l:eR}=eb.default.add(0|this.Fh,0|this.Fl,0|ek,0|eR)),({h:eD,l:eB}=eb.default.add(0|this.Gh,0|this.Gl,0|eD,0|eB)),({h:eU,l:eL}=eb.default.add(0|this.Hh,0|this.Hl,0|eU,0|eL)),this.set(eg,em,ew,eI,eC,eM,eO,eT,eP,eN,ek,eR,eD,eB,eU,eL)}roundClean(){eA.fill(0),eS.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}ed.SHA512=eI;class eC extends eI{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}ed.SHA512_224=eC;class eM extends eI{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}ed.SHA512_256=eM;class eO extends eI{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}ed.SHA384=eO,ed.sha512=(0,ew.wrapConstructor)(()=>new eI),ed.sha512_224=(0,ew.wrapConstructor)(()=>new eC),ed.sha512_256=(0,ew.wrapConstructor)(()=>new eM),ed.sha384=(0,ew.wrapConstructor)(()=>new eO)},70064:function(eu,ed,eg){"use strict";/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(ed,"__esModule",{value:!0}),ed.Hash=ed.nextTick=ed.byteSwapIfBE=ed.isLE=void 0,ed.isBytes=ew,ed.u8=e_,ed.u32=eE,ed.createView=eA,ed.rotr=eS,ed.rotl=eI,ed.byteSwap=eC,ed.byteSwap32=eM,ed.bytesToHex=eT,ed.hexToBytes=ek,ed.asyncLoop=eD,ed.utf8ToBytes=eB,ed.toBytes=eU,ed.concatBytes=eL,ed.checkOpts=eF,ed.wrapConstructor=e$,ed.wrapConstructorWithOpts=eK,ed.wrapXOFConstructorWithOpts=eH,ed.randomBytes=eV;let em=eg(70825),eb=eg(53525);function ew(eu){return eu instanceof Uint8Array||ArrayBuffer.isView(eu)&&"Uint8Array"===eu.constructor.name}function e_(eu){return new Uint8Array(eu.buffer,eu.byteOffset,eu.byteLength)}function eE(eu){return new Uint32Array(eu.buffer,eu.byteOffset,Math.floor(eu.byteLength/4))}function eA(eu){return new DataView(eu.buffer,eu.byteOffset,eu.byteLength)}function eS(eu,ed){return eu<<32-ed|eu>>>ed}function eI(eu,ed){return eu<<ed|eu>>>32-ed>>>0}function eC(eu){return eu<<24&4278190080|eu<<8&16711680|eu>>>8&65280|eu>>>24&255}function eM(eu){for(let ed=0;ed<eu.length;ed++)eu[ed]=eC(eu[ed])}ed.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],ed.byteSwapIfBE=ed.isLE?eu=>eu:eu=>eC(eu);let eO=Array.from({length:256},(eu,ed)=>ed.toString(16).padStart(2,"0"));function eT(eu){(0,eb.abytes)(eu);let ed="";for(let eg=0;eg<eu.length;eg++)ed+=eO[eu[eg]];return ed}let eP={_0:48,_9:57,A:65,F:70,a:97,f:102};function eN(eu){return eu>=eP._0&&eu<=eP._9?eu-eP._0:eu>=eP.A&&eu<=eP.F?eu-(eP.A-10):eu>=eP.a&&eu<=eP.f?eu-(eP.a-10):void 0}function ek(eu){if("string"!=typeof eu)throw Error("hex string expected, got "+typeof eu);let ed=eu.length,eg=ed/2;if(ed%2)throw Error("hex string expected, got unpadded hex of length "+ed);let em=new Uint8Array(eg);for(let ed=0,eb=0;ed<eg;ed++,eb+=2){let eg=eN(eu.charCodeAt(eb)),ew=eN(eu.charCodeAt(eb+1));if(void 0===eg||void 0===ew){let ed=eu[eb]+eu[eb+1];throw Error('hex string expected, got non-hex character "'+ed+'" at index '+eb)}em[ed]=16*eg+ew}return em}let eR=async()=>{};async function eD(eu,eg,em){let eb=Date.now();for(let ew=0;ew<eu;ew++){em(ew);let eu=Date.now()-eb;eu>=0&&eu<eg||(await (0,ed.nextTick)(),eb+=eu)}}function eB(eu){if("string"!=typeof eu)throw Error("utf8ToBytes expected string, got "+typeof eu);return new Uint8Array(new TextEncoder().encode(eu))}function eU(eu){return"string"==typeof eu&&(eu=eB(eu)),(0,eb.abytes)(eu),eu}function eL(...eu){let ed=0;for(let eg=0;eg<eu.length;eg++){let em=eu[eg];(0,eb.abytes)(em),ed+=em.length}let eg=new Uint8Array(ed);for(let ed=0,em=0;ed<eu.length;ed++){let eb=eu[ed];eg.set(eb,em),em+=eb.length}return eg}ed.nextTick=eR;class ej{clone(){return this._cloneInto()}}function eF(eu,ed){if(void 0!==ed&&"[object Object]"!==({}).toString.call(ed))throw Error("Options should be object or undefined");let eg=Object.assign(eu,ed);return eg}function e$(eu){let ed=ed=>eu().update(eU(ed)).digest(),eg=eu();return ed.outputLen=eg.outputLen,ed.blockLen=eg.blockLen,ed.create=()=>eu(),ed}function eK(eu){let ed=(ed,eg)=>eu(eg).update(eU(ed)).digest(),eg=eu({});return ed.outputLen=eg.outputLen,ed.blockLen=eg.blockLen,ed.create=ed=>eu(ed),ed}function eH(eu){let ed=(ed,eg)=>eu(eg).update(eU(ed)).digest(),eg=eu({});return ed.outputLen=eg.outputLen,ed.blockLen=eg.blockLen,ed.create=ed=>eu(ed),ed}function eV(eu=32){if(em.crypto&&"function"==typeof em.crypto.getRandomValues)return em.crypto.getRandomValues(new Uint8Array(eu));if(em.crypto&&"function"==typeof em.crypto.randomBytes)return em.crypto.randomBytes(eu);throw Error("crypto.getRandomValues must be defined")}ed.Hash=ej},72926:function(eu,ed,eg){"use strict";var em=eg(34406),eb=this&&this.__importDefault||function(eu){return eu&&eu.__esModule?eu:{default:eu}};Object.defineProperty(ed,"__esModule",{value:!0});let ew=eb(eg(38473)),e_=eb(eg(96278)),eE=eb(eg(5718)),eA=eb(eg(55335)),eS=eb(eg(38378)),eI={development:Object.assign(Object.assign({},eE.default),ew.default),test:Object.assign(Object.assign({},eE.default),e_.default),staging:Object.assign(Object.assign({},eE.default),eS.default),production:Object.assign(Object.assign({},eE.default),eA.default)},eC=em.env.CONFIG_ENV||"production";if(!(eC in eI))throw Error(`${eC} is not a valid env config`);let eM=eI[eC];ed.default=eM},27435:function(eu,ed,eg){"use strict";var em=eg(48834).Buffer,eb=this&&this.__importDefault||function(eu){return eu&&eu.__esModule?eu:{default:eu}};Object.defineProperty(ed,"__esModule",{value:!0}),ed.createAction=ed.parseArgs=void 0;let ew=eg(24230),e_=eb(eg(62197)),eE=eu=>{if("FullAccess"===eu)return ew.transactions.fullAccessKey();let{receiverId:ed,methodNames:eg=[]}=eu,em=eu.allowance?new e_.default(eu.allowance):void 0;return ew.transactions.functionCallAccessKey(ed,eg,em)},eA=eu=>"string"==typeof eu?em.from(eu,"base64"):eu;ed.parseArgs=eA;let eS=eu=>{switch(eu.type){case"CreateAccount":return ew.transactions.createAccount();case"DeployContract":{let{code:ed}=eu.params;return ew.transactions.deployContract(ed)}case"FunctionCall":{let{methodName:eg,args:em,gas:eb,deposit:eE}=eu.params;return ew.transactions.functionCall(eg,(0,ed.parseArgs)(em),new e_.default(eb),new e_.default(eE))}case"Transfer":{let{deposit:ed}=eu.params;return ew.transactions.transfer(new e_.default(ed))}case"Stake":{let{stake:ed,publicKey:eg}=eu.params;return ew.transactions.stake(new e_.default(ed),ew.utils.PublicKey.from(eg))}case"AddKey":{let{publicKey:ed,accessKey:eg}=eu.params;return ew.transactions.addKey(ew.utils.PublicKey.from(ed),eE(eg.permission))}case"DeleteKey":{let{publicKey:ed}=eu.params;return ew.transactions.deleteKey(ew.utils.PublicKey.from(ed))}case"DeleteAccount":{let{beneficiaryId:ed}=eu.params;return ew.transactions.deleteAccount(ed)}default:throw Error("Invalid action type")}};ed.createAction=eS},9707:function(eu,ed){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.isValidAccessKey=void 0;let eg=(eu,ed,eg,em)=>{if(ed.public_key===eg)return!0;let{permission:eb}=ed.access_key;if("FullAccess"===eb)return!0;if(em&&eb.FunctionCall){let{receiver_id:ed,method_names:eg}=eb.FunctionCall;if(ed===eu&&eg.includes("add_request_and_confirm"))return!0;if(ed===em.receiverId)return 1===em.actions.length&&em.actions.every(eu=>"FunctionCall"===eu.type&&(!eu.params.deposit||"0"===eu.params.deposit.toString())&&(0===eg.length||eg.includes(eu.params.methodName)))}return!1};ed.isValidAccessKey=eg},8792:function(eu,ed,eg){"use strict";var em=this&&this.__createBinding||(Object.create?function(eu,ed,eg,em){void 0===em&&(em=eg);var eb=Object.getOwnPropertyDescriptor(ed,eg);(!eb||("get"in eb?!ed.__esModule:eb.writable||eb.configurable))&&(eb={enumerable:!0,get:function(){return ed[eg]}}),Object.defineProperty(eu,em,eb)}:function(eu,ed,eg,em){void 0===em&&(em=eg),eu[em]=ed[eg]}),eb=this&&this.__setModuleDefault||(Object.create?function(eu,ed){Object.defineProperty(eu,"default",{enumerable:!0,value:ed})}:function(eu,ed){eu.default=ed}),ew=this&&this.__importStar||function(eu){if(eu&&eu.__esModule)return eu;var ed={};if(null!=eu)for(var eg in eu)"default"!==eg&&Object.prototype.hasOwnProperty.call(eu,eg)&&em(ed,eu,eg);return eb(ed,eu),ed},e_=this&&this.__awaiter||function(eu,ed,eg,em){function eb(eu){return eu instanceof eg?eu:new eg(function(ed){ed(eu)})}return new(eg||(eg=Promise))(function(eg,ew){function e_(eu){try{eA(em.next(eu))}catch(eu){ew(eu)}}function eE(eu){try{eA(em.throw(eu))}catch(eu){ew(eu)}}function eA(eu){eu.done?eg(eu.value):eb(eu.value).then(e_,eE)}eA((em=em.apply(eu,ed||[])).next())})};Object.defineProperty(ed,"__esModule",{value:!0});let eE=ew(eg(47275));function eA(eu,ed,eg={}){let em;let eb=!1,ew=()=>e_(this,void 0,void 0,function*(){let ew;let{delay:eA=1e3,maxIterations:eS,timeout:eI}=eg,eC=0,eM=!1;function eO(){return e_(this,void 0,void 0,function*(){eM=!1;try{return yield void 0!==eI?(0,eE.default)(eu(),eI):eu()}catch(eu){if(eu instanceof eE.TimeoutPromiseError)eM=!0;else throw eu}})}for(ew=yield eO();!eb&&(eM||ed(ew));){if(eC===eS)throw Error("Polling executed the maximum number iterations");yield new Promise(eu=>{em=setTimeout(()=>e_(this,void 0,void 0,function*(){eC++,ew=yield eO(),eu()}),eA)})}return ew}),eA=ew();return eA.abort=()=>{eb=!0,clearTimeout(em)},eA}ed.default=eA},47275:function(eu,ed){"use strict";var eg=this&&this.__awaiter||function(eu,ed,eg,em){function eb(eu){return eu instanceof eg?eu:new eg(function(ed){ed(eu)})}return new(eg||(eg=Promise))(function(eg,ew){function e_(eu){try{eA(em.next(eu))}catch(eu){ew(eu)}}function eE(eu){try{eA(em.throw(eu))}catch(eu){ew(eu)}}function eA(eu){eu.done?eg(eu.value):eb(eu.value).then(e_,eE)}eA((em=em.apply(eu,ed||[])).next())})};Object.defineProperty(ed,"__esModule",{value:!0}),ed.TimeoutPromiseError=void 0;class em extends Error{constructor(){super("Promise timeout")}}function eb(eu,ed){return eg(this,void 0,void 0,function*(){let eg;let eb=new Promise((eu,eb)=>{eg=setTimeout(()=>{eb(new em)},ed)}),ew=yield Promise.race([eu,eb]);return clearTimeout(eg),ew})}ed.TimeoutPromiseError=em,ed.default=eb},78136:function(eu,ed){"use strict";var eg;Object.defineProperty(ed,"__esModule",{value:!0}),ed.SignerRequestStatus=void 0,function(eu){eu.PENDING="pending",eu.APPROVED="approved",eu.REJECTED="rejected"}(eg||(ed.SignerRequestStatus=eg={}))},99801:function(eu,ed){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.ApiError=void 0;class eg extends Error{constructor(eu,ed,eg){super(eg),this.name="ApiError",this.url=ed.url,this.status=ed.status,this.statusText=ed.statusText,this.body=ed.body,this.request=eu}}ed.ApiError=eg},43847:function(eu,ed){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.CancelablePromise=ed.CancelError=void 0;class eg extends Error{constructor(eu){super(eu),this.name="CancelError"}get isCancelled(){return!0}}ed.CancelError=eg;class em{constructor(eu){this._isResolved=!1,this._isRejected=!1,this._isCancelled=!1,this._cancelHandlers=[],this._promise=new Promise((ed,eg)=>{this._resolve=ed,this._reject=eg;let em=eu=>{var ed;this._isResolved||this._isRejected||this._isCancelled||(this._isResolved=!0,null===(ed=this._resolve)||void 0===ed||ed.call(this,eu))},eb=eu=>{var ed;this._isResolved||this._isRejected||this._isCancelled||(this._isRejected=!0,null===(ed=this._reject)||void 0===ed||ed.call(this,eu))},ew=eu=>{this._isResolved||this._isRejected||this._isCancelled||this._cancelHandlers.push(eu)};return Object.defineProperty(ew,"isResolved",{get:()=>this._isResolved}),Object.defineProperty(ew,"isRejected",{get:()=>this._isRejected}),Object.defineProperty(ew,"isCancelled",{get:()=>this._isCancelled}),eu(em,eb,ew)})}then(eu,ed){return this._promise.then(eu,ed)}catch(eu){return this._promise.catch(eu)}finally(eu){return this._promise.finally(eu)}cancel(){var eu;if(!this._isResolved&&!this._isRejected&&!this._isCancelled){if(this._isCancelled=!0,this._cancelHandlers.length)try{for(let eu of this._cancelHandlers)eu()}catch(eu){console.warn("Cancellation threw an error",eu);return}this._cancelHandlers.length=0,null===(eu=this._reject)||void 0===eu||eu.call(this,new eg("Request aborted"))}}get isCancelled(){return this._isCancelled}}ed.CancelablePromise=em},59698:function(eu,ed,eg){"use strict";var em=this&&this.__importDefault||function(eu){return eu&&eu.__esModule?eu:{default:eu}};Object.defineProperty(ed,"__esModule",{value:!0}),ed.OpenAPI=void 0;let eb=em(eg(72926));ed.OpenAPI={BASE:eb.default.proxyUrl,VERSION:"0.0.0",WITH_CREDENTIALS:!1,CREDENTIALS:"include",TOKEN:void 0,USERNAME:void 0,PASSWORD:void 0,HEADERS:void 0,ENCODE_PATH:void 0}},11872:function(eu,ed,eg){"use strict";var em=eg(48834).Buffer,eb=this&&this.__awaiter||function(eu,ed,eg,em){function eb(eu){return eu instanceof eg?eu:new eg(function(ed){ed(eu)})}return new(eg||(eg=Promise))(function(eg,ew){function e_(eu){try{eA(em.next(eu))}catch(eu){ew(eu)}}function eE(eu){try{eA(em.throw(eu))}catch(eu){ew(eu)}}function eA(eu){eu.done?eg(eu.value):eb(eu.value).then(e_,eE)}eA((em=em.apply(eu,ed||[])).next())})};Object.defineProperty(ed,"__esModule",{value:!0}),ed.request=ed.sendRequest=void 0;let ew=eg(99801),e_=eg(43847),eE=eu=>null!=eu,eA=eu=>"string"==typeof eu,eS=eu=>eA(eu)&&""!==eu,eI=eu=>"object"==typeof eu&&"string"==typeof eu.type&&"function"==typeof eu.stream&&"function"==typeof eu.arrayBuffer&&"function"==typeof eu.constructor&&"string"==typeof eu.constructor.name&&/^(Blob|File)$/.test(eu.constructor.name)&&/^(Blob|File)$/.test(eu[Symbol.toStringTag]),eC=eu=>eu instanceof FormData,eM=eu=>{try{return btoa(eu)}catch(ed){return em.from(eu).toString("base64")}},eO=eu=>{let ed=[],eg=(eu,eg)=>{ed.push(`${encodeURIComponent(eu)}=${encodeURIComponent(String(eg))}`)},em=(eu,ed)=>{eE(ed)&&(Array.isArray(ed)?ed.forEach(ed=>{em(eu,ed)}):"object"==typeof ed?Object.entries(ed).forEach(([ed,eg])=>{em(`${eu}[${ed}]`,eg)}):eg(eu,ed))};return(Object.entries(eu).forEach(([eu,ed])=>{em(eu,ed)}),ed.length>0)?`?${ed.join("&")}`:""},eT=(eu,ed)=>{let eg=eu.ENCODE_PATH||encodeURI,em=ed.url.replace("{api-version}",eu.VERSION).replace(/{(.*?)}/g,(eu,em)=>{var eb;return(null===(eb=ed.path)||void 0===eb?void 0:eb.hasOwnProperty(em))?eg(String(ed.path[em])):eu}),eb=`${eu.BASE}${em}`;return ed.query?`${eb}${eO(ed.query)}`:eb},eP=eu=>{if(eu.formData){let ed=new FormData,eg=(eu,eg)=>{eA(eg)||eI(eg)?ed.append(eu,eg):ed.append(eu,JSON.stringify(eg))};return Object.entries(eu.formData).filter(([eu,ed])=>eE(ed)).forEach(([eu,ed])=>{Array.isArray(ed)?ed.forEach(ed=>eg(eu,ed)):eg(eu,ed)}),ed}},eN=(eu,ed)=>eb(void 0,void 0,void 0,function*(){return"function"==typeof ed?ed(eu):ed}),ek=(eu,ed)=>eb(void 0,void 0,void 0,function*(){let eg=yield eN(ed,eu.TOKEN),em=yield eN(ed,eu.USERNAME),eb=yield eN(ed,eu.PASSWORD),ew=yield eN(ed,eu.HEADERS),e_=Object.entries(Object.assign(Object.assign({Accept:"application/json"},ew),ed.headers)).filter(([eu,ed])=>eE(ed)).reduce((eu,[ed,eg])=>Object.assign(Object.assign({},eu),{[ed]:String(eg)}),{});if(eS(eg)&&(e_.Authorization=`Bearer ${eg}`),eS(em)&&eS(eb)){let eu=eM(`${em}:${eb}`);e_.Authorization=`Basic ${eu}`}return ed.body&&(ed.mediaType?e_["Content-Type"]=ed.mediaType:eI(ed.body)?e_["Content-Type"]=ed.body.type||"application/octet-stream":eA(ed.body)?e_["Content-Type"]="text/plain":eC(ed.body)||(e_["Content-Type"]="application/json")),new Headers(e_)}),eR=eu=>{var ed;if(eu.body)return(null===(ed=eu.mediaType)||void 0===ed?void 0:ed.includes("/json"))?JSON.stringify(eu.body):eA(eu.body)||eI(eu.body)||eC(eu.body)?eu.body:JSON.stringify(eu.body)},eD=(eu,ed,eg,em,ew,e_,eE)=>eb(void 0,void 0,void 0,function*(){let eb=new AbortController,eA={headers:e_,body:null!=em?em:ew,method:ed.method,signal:eb.signal};return eu.WITH_CREDENTIALS&&(eA.credentials=eu.CREDENTIALS),eE(()=>eb.abort()),yield fetch(eg,eA)});ed.sendRequest=eD;let eB=(eu,ed)=>{if(ed){let eg=eu.headers.get(ed);if(eA(eg))return eg}},eU=eu=>eb(void 0,void 0,void 0,function*(){if(204!==eu.status)try{let ed=eu.headers.get("Content-Type");if(ed){let eg=ed.toLowerCase().startsWith("application/json");if(eg)return yield eu.json();return yield eu.text()}}catch(eu){console.error(eu)}}),eL=(eu,ed)=>{let eg=Object.assign({400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",500:"Internal Server Error",502:"Bad Gateway",503:"Service Unavailable"},eu.errors),em=eg[ed.status];if(em)throw new ew.ApiError(eu,ed,em);if(!ed.ok)throw new ew.ApiError(eu,ed,"Generic Error")},ej=(eu,eg)=>new e_.CancelablePromise((em,ew,e_)=>eb(void 0,void 0,void 0,function*(){try{let eb=eT(eu,eg),ew=eP(eg),eE=eR(eg),eA=yield ek(eu,eg);if(!e_.isCancelled){let eS=yield(0,ed.sendRequest)(eu,eg,eb,eE,ew,eA,e_),eI=yield eU(eS),eC=eB(eS,eg.responseHeader),eM={url:eb,ok:eS.ok,status:eS.status,statusText:eS.statusText,body:null!=eC?eC:eI};eL(eg,eM),em(eM.body)}}catch(eu){ew(eu)}}));ed.request=ej},18821:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.SignerRequestApi=ed.$SignRequest=ed.$SignMessageRequestPayload=ed.$SignMessageRequestDto=ed.$SignerTransactionDto=ed.$SignerRequestStatusDto=ed.$SignerRequestDto=ed.$DAppMetadatRequest=ed.$DAppMetadataDto=ed.$CreateSignMessageRequest=ed.$CreateSignerRequest=ed.OpenAPI=ed.CancelError=ed.CancelablePromise=ed.ApiError=void 0;var em=eg(99801);Object.defineProperty(ed,"ApiError",{enumerable:!0,get:function(){return em.ApiError}});var eb=eg(43847);Object.defineProperty(ed,"CancelablePromise",{enumerable:!0,get:function(){return eb.CancelablePromise}}),Object.defineProperty(ed,"CancelError",{enumerable:!0,get:function(){return eb.CancelError}});var ew=eg(59698);Object.defineProperty(ed,"OpenAPI",{enumerable:!0,get:function(){return ew.OpenAPI}});var e_=eg(20189);Object.defineProperty(ed,"$CreateSignerRequest",{enumerable:!0,get:function(){return e_.$CreateSignerRequest}});var eE=eg(21644);Object.defineProperty(ed,"$CreateSignMessageRequest",{enumerable:!0,get:function(){return eE.$CreateSignMessageRequest}});var eA=eg(80713);Object.defineProperty(ed,"$DAppMetadataDto",{enumerable:!0,get:function(){return eA.$DAppMetadataDto}});var eS=eg(38487);Object.defineProperty(ed,"$DAppMetadatRequest",{enumerable:!0,get:function(){return eS.$DAppMetadatRequest}});var eI=eg(42614);Object.defineProperty(ed,"$SignerRequestDto",{enumerable:!0,get:function(){return eI.$SignerRequestDto}});var eC=eg(97185);Object.defineProperty(ed,"$SignerRequestStatusDto",{enumerable:!0,get:function(){return eC.$SignerRequestStatusDto}});var eM=eg(49365);Object.defineProperty(ed,"$SignerTransactionDto",{enumerable:!0,get:function(){return eM.$SignerTransactionDto}});var eO=eg(31334);Object.defineProperty(ed,"$SignMessageRequestDto",{enumerable:!0,get:function(){return eO.$SignMessageRequestDto}});var eT=eg(82479);Object.defineProperty(ed,"$SignMessageRequestPayload",{enumerable:!0,get:function(){return eT.$SignMessageRequestPayload}});var eP=eg(31634);Object.defineProperty(ed,"$SignRequest",{enumerable:!0,get:function(){return eP.$SignRequest}});var eN=eg(19700);Object.defineProperty(ed,"SignerRequestApi",{enumerable:!0,get:function(){return eN.SignerRequestApi}})},21644:function(eu,ed){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.$CreateSignMessageRequest=void 0,ed.$CreateSignMessageRequest={properties:{network:{type:"Enum",isRequired:!0},message:{type:"string",isRequired:!0},receiver:{type:"string",isRequired:!0},nonce:{type:"array",contains:{type:"number"},isRequired:!0},callbackUrl:{type:"string"},receiverMetadata:{type:"DAppMetadatRequest"}}}},20189:function(eu,ed){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.$CreateSignerRequest=void 0,ed.$CreateSignerRequest={properties:{network:{type:"Enum",isRequired:!0},transactions:{type:"array",contains:{type:"one-of",contains:[{type:"SignerTransactionDto"}]},isRequired:!0},dAppMetadata:{type:"DAppMetadatRequest"}}}},38487:function(eu,ed){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.$DAppMetadatRequest=void 0,ed.$DAppMetadatRequest={properties:{}}},80713:function(eu,ed){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.$DAppMetadataDto=void 0,ed.$DAppMetadataDto={properties:{name:{type:"string",isRequired:!0},logoUrl:{type:"string",isRequired:!0},url:{type:"string"}}}},31334:function(eu,ed){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.$SignMessageRequestDto=void 0,ed.$SignMessageRequestDto={properties:{id:{type:"string",isRequired:!0},message:{type:"string",isRequired:!0},receiver:{type:"string",isRequired:!0},nonce:{type:"array",contains:{type:"number"},isRequired:!0},callbackUrl:{type:"string"},network:{type:"Enum",isRequired:!0},response:{properties:{},isRequired:!0},receiverMetadata:{type:"DAppMetadataDto"},status:{type:"Enum",isRequired:!0}}}},82479:function(eu,ed){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.$SignMessageRequestPayload=void 0,ed.$SignMessageRequestPayload={properties:{accountId:{type:"string",isRequired:!0},signature:{type:"string",isRequired:!0},publicKey:{type:"string",isRequired:!0}}}},31634:function(eu,ed){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.$SignRequest=void 0,ed.$SignRequest={properties:{signerAccountId:{type:"string",isRequired:!0},txHash:{type:"array",contains:{type:"string"},isRequired:!0}}}},42614:function(eu,ed){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.$SignerRequestDto=void 0,ed.$SignerRequestDto={properties:{id:{type:"string",isRequired:!0},status:{type:"Enum",isRequired:!0},network:{type:"Enum",isRequired:!0},signerAccountId:{type:"string",isRequired:!0},requests:{type:"array",contains:{properties:{}},isRequired:!0},dAppMetadata:{type:"DAppMetadataDto"},txHash:{type:"array",contains:{type:"string"}},createdAt:{type:"string",isRequired:!0,format:"date-time"},updatedAt:{type:"string",isRequired:!0,format:"date-time"}}}},97185:function(eu,ed){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.$SignerRequestStatusDto=void 0,ed.$SignerRequestStatusDto={properties:{id:{type:"string",isRequired:!0},status:{type:"Enum",isRequired:!0}}}},49365:function(eu,ed){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.$SignerTransactionDto=void 0,ed.$SignerTransactionDto={properties:{signerId:{type:"string"},receiverId:{type:"string"},actions:{type:"array",contains:{properties:{}},isRequired:!0}}}},19700:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.SignerRequestApi=void 0;let em=eg(59698),eb=eg(11872);class ew{static createSignerRequest(eu){return(0,eb.request)(em.OpenAPI,{method:"POST",url:"/api/signer-request",body:eu,mediaType:"application/json"})}static getSignerRequestStatus(eu){return(0,eb.request)(em.OpenAPI,{method:"GET",url:"/api/signer-request/{id}/status",path:{id:eu}})}static approveSignerRequest(eu,ed){return(0,eb.request)(em.OpenAPI,{method:"POST",url:"/api/signer-request/{id}/approve",path:{id:eu},body:ed,mediaType:"application/json"})}static rejectSignerRequest(eu){return(0,eb.request)(em.OpenAPI,{method:"POST",url:"/api/signer-request/{id}/reject",path:{id:eu}})}static getSignerRequest(eu){return(0,eb.request)(em.OpenAPI,{method:"GET",url:"/api/signer-request/{id}",path:{id:eu}})}static createSignMessageRequest(eu){return(0,eb.request)(em.OpenAPI,{method:"POST",url:"/api/signer-request/message",body:eu,mediaType:"application/json"})}static getSignMessageRequest(eu){return(0,eb.request)(em.OpenAPI,{method:"GET",url:"/api/signer-request/message/{id}",path:{id:eu}})}static signMessageRequest(eu,ed){return(0,eb.request)(em.OpenAPI,{method:"POST",url:"/api/signer-request/message/{id}/sign",path:{id:eu},body:ed,mediaType:"application/json"})}static rejectMessageRequest(eu){return(0,eb.request)(em.OpenAPI,{method:"POST",url:"/api/signer-request/message/{id}/reject",path:{id:eu}})}}ed.SignerRequestApi=ew},5936:function(eu,ed){"use strict";var eg;Object.defineProperty(ed,"__esModule",{value:!0}),ed.RepositoryErrorCodes=ed.SessionRepositoryErrorCodes=void 0,function(eu){eu.INVALID_ACCOUNT_ID="INVALID_ACCOUNT_ID",eu.ACCOUNT_KEY_NOT_FOUND="ACCOUNT_KEY_NOT_FOUND"}(eg||(ed.SessionRepositoryErrorCodes=eg={})),ed.RepositoryErrorCodes=eg},91063:function(eu,ed,eg){"use strict";var em=this&&this.__createBinding||(Object.create?function(eu,ed,eg,em){void 0===em&&(em=eg);var eb=Object.getOwnPropertyDescriptor(ed,eg);(!eb||("get"in eb?!ed.__esModule:eb.writable||eb.configurable))&&(eb={enumerable:!0,get:function(){return ed[eg]}}),Object.defineProperty(eu,em,eb)}:function(eu,ed,eg,em){void 0===em&&(em=eg),eu[em]=ed[eg]}),eb=this&&this.__exportStar||function(eu,ed){for(var eg in eu)"default"===eg||Object.prototype.hasOwnProperty.call(ed,eg)||em(ed,eu,eg)};Object.defineProperty(ed,"__esModule",{value:!0}),eb(eg(21728),ed)},86690:function(eu,ed,eg){"use strict";var em=this&&this.__awaiter||function(eu,ed,eg,em){function eb(eu){return eu instanceof eg?eu:new eg(function(ed){ed(eu)})}return new(eg||(eg=Promise))(function(eg,ew){function e_(eu){try{eA(em.next(eu))}catch(eu){ew(eu)}}function eE(eu){try{eA(em.throw(eu))}catch(eu){ew(eu)}}function eA(eu){eu.done?eg(eu.value):eb(eu.value).then(e_,eE)}eA((em=em.apply(eu,ed||[])).next())})};Object.defineProperty(ed,"__esModule",{value:!0}),ed.SessionRepository=void 0;let eb=eg(20216),ew=eg(5936),e_=eg(24230);class eE extends eb.WindowLocalStorageRepository{constructor(){super("session"),this.loadSessionState()}loadSessionState(){return em(this,void 0,void 0,function*(){let eu=yield this.get();eu||(yield this.set({mainnet:{activeAccount:null,accounts:{}},testnet:{activeAccount:null,accounts:{}}}))})}getKey(eu,ed){var eg;return em(this,void 0,void 0,function*(){let em=yield this.get(),eb=null===(eg=em[eu])||void 0===eg?void 0:eg.accounts[ed];if(!eb)throw Error(ew.RepositoryErrorCodes.ACCOUNT_KEY_NOT_FOUND);return e_.KeyPair.fromString(eb)})}setKey(eu,ed,eg){return em(this,void 0,void 0,function*(){let em=yield this.get();em[eu].accounts[ed]=eg.toString(),yield this.set(em)})}removeKey(eu,ed){return em(this,void 0,void 0,function*(){let eg=yield this.get();eg[eu].activeAccount===ed&&(eg[eu].activeAccount=null),delete eg[eu].accounts[ed],yield this.set(eg)})}getActiveAccount(eu){return em(this,void 0,void 0,function*(){let ed=yield this.get();return ed[eu].activeAccount})}setActiveAccount(eu,ed){return em(this,void 0,void 0,function*(){let eg=yield this.get(),em=Object.keys(eg[eu].accounts).includes(ed);if(!em)throw Error(ew.RepositoryErrorCodes.INVALID_ACCOUNT_ID);eg[eu].activeAccount=ed,yield this.set(eg)})}getAccounts(eu){return em(this,void 0,void 0,function*(){let ed=yield this.get(),eg=ed[eu].accounts;return Object.keys(eg)})}getNetworks(){return em(this,void 0,void 0,function*(){let eu=yield this.get();return Object.keys(eu)})}clear(){return em(this,void 0,void 0,function*(){yield this.clear()})}}ed.SessionRepository=eE},1505:function(eu,ed,eg){"use strict";var em=this&&this.__createBinding||(Object.create?function(eu,ed,eg,em){void 0===em&&(em=eg);var eb=Object.getOwnPropertyDescriptor(ed,eg);(!eb||("get"in eb?!ed.__esModule:eb.writable||eb.configurable))&&(eb={enumerable:!0,get:function(){return ed[eg]}}),Object.defineProperty(eu,em,eb)}:function(eu,ed,eg,em){void 0===em&&(em=eg),eu[em]=ed[eg]}),eb=this&&this.__exportStar||function(eu,ed){for(var eg in eu)"default"===eg||Object.prototype.hasOwnProperty.call(ed,eg)||em(ed,eu,eg)};Object.defineProperty(ed,"__esModule",{value:!0}),eb(eg(86690),ed)},15409:function(eu,ed){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.Repository=void 0;class eg{constructor(eu){this.projectName="near-mobile-signer",this.key=`${this.projectName}:${eu}`}}ed.Repository=eg},20216:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.WindowLocalStorageRepository=void 0;let em=eg(15409);class eb extends em.Repository{set(eu){return Promise.resolve(window.localStorage.setItem(this.key,JSON.stringify(eu)))}get(){let eu=window.localStorage.getItem(this.key);return Promise.resolve(eu?JSON.parse(eu):void 0)}clear(){return Promise.resolve(window.localStorage.removeItem(this.key))}}ed.WindowLocalStorageRepository=eb},3401:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.WindowLocalStorageRepository=ed.Repository=void 0;var em=eg(15409);Object.defineProperty(ed,"Repository",{enumerable:!0,get:function(){return em.Repository}});var eb=eg(20216);Object.defineProperty(ed,"WindowLocalStorageRepository",{enumerable:!0,get:function(){return eb.WindowLocalStorageRepository}})},21728:function(eu,ed,eg){"use strict";var em=this&&this.__createBinding||(Object.create?function(eu,ed,eg,em){void 0===em&&(em=eg);var eb=Object.getOwnPropertyDescriptor(ed,eg);(!eb||("get"in eb?!ed.__esModule:eb.writable||eb.configurable))&&(eb={enumerable:!0,get:function(){return ed[eg]}}),Object.defineProperty(eu,em,eb)}:function(eu,ed,eg,em){void 0===em&&(em=eg),eu[em]=ed[eg]}),eb=this&&this.__exportStar||function(eu,ed){for(var eg in eu)"default"===eg||Object.prototype.hasOwnProperty.call(ed,eg)||em(ed,eu,eg)};Object.defineProperty(ed,"__esModule",{value:!0}),eb(eg(1505),ed),eb(eg(3401),ed)},63792:function(eu,ed,eg){"use strict";var em=eg(48834).Buffer,eb=this&&this.__awaiter||function(eu,ed,eg,em){function eb(eu){return eu instanceof eg?eu:new eg(function(ed){ed(eu)})}return new(eg||(eg=Promise))(function(eg,ew){function e_(eu){try{eA(em.next(eu))}catch(eu){ew(eu)}}function eE(eu){try{eA(em.throw(eu))}catch(eu){ew(eu)}}function eA(eu){eu.done?eg(eu.value):eb(eu.value).then(e_,eE)}eA((em=em.apply(eu,ed||[])).next())})};Object.defineProperty(ed,"__esModule",{value:!0}),ed.NearMobileWallet=void 0;let ew=eg(24230),e_=eg(84379),eE=eg(29670),eA=eg(63158),eS=eg(78136),eI=eg(9707),eC=eg(27435),eM=eg(25069),eO=eg(91063),eT=eg(73635),eP=eg(5936);class eN{handleRequestStatus(eu){var ed,eg,em,eb;eu===eS.SignerRequestStatus.APPROVED?null===(eg=(ed=this.defaultStrategy).onApproved)||void 0===eg||eg.call(ed):eu===eS.SignerRequestStatus.REJECTED&&(null===(eb=(em=this.defaultStrategy).onError)||void 0===eb||eb.call(em))}loadConnection(eu,ed){let eg=new ew.InMemorySigner(this.sessionRepository),em=new e_.JsonRpcProvider({url:null!=eu?eu:`https://rpc.${ed}.near.org`});this.connection=ew.Connection.fromConfig({jsvmAccountId:`jsvm.${ed}`,provider:em,network:ed,signer:eg})}retryTransaction({requests:eu}){var ed,eg,em,ew;return eb(this,void 0,void 0,function*(){try{let{id:em,network:ew,requests:e_}=yield this.defaultProvider.createRequest(this.network,eu,this.dAppMetadata),eE=()=>eb(this,void 0,void 0,function*(){return yield this.defaultProvider.rejectSignerRequest(em)});null===(eg=(ed=this.defaultStrategy).onRequested)||void 0===eg||eg.call(ed,em,{network:ew,request:e_},eE);let{status:eA}=yield this.defaultProvider.awaitActionSignatureResolution(em);this.handleRequestStatus(eA);let{signerAccountId:eS,txHash:eI}=yield this.defaultProvider.getRequest(em);if(!eS||!eI)throw Error(eM.WalletErrors.REQUEST_NOT_SIGNED);if(1===eI.length)return yield this.rpc.txStatus(eI[0],eS,"EXECUTED_OPTIMISTIC");throw Error(eM.WalletErrors.OPERATION_FAILED)}catch(eu){throw null===(ew=(em=this.defaultStrategy).onError)||void 0===ew||ew.call(em),Error(eu)}})}constructor({nodeUrl:eu,network:ed="testnet",sessionRepository:eg=new eO.SessionRepository,metadata:em}={}){this.network=ed,this.sessionRepository=eg,this.defaultStrategy=new eE.WidgetStrategy,this.defaultProvider=new eA.NearMobileSignerProxy,this.dAppMetadata=em,this.loadConnection(eu,ed)}get rpc(){return this.connection.provider}get signer(){return this.connection.signer}get networkId(){return this.connection.networkId}getAccounts(){return eb(this,void 0,void 0,function*(){return this.sessionRepository.getAccounts(this.network)})}isSignedIn(eu){return eb(this,void 0,void 0,function*(){try{let ed=yield this.sessionRepository.getActiveAccount(this.network);if(eu&&ed!==eu||null===ed)return!1;let eg=yield this.sessionRepository.getKey(this.network,ed);if(null===eg)throw Error(eP.RepositoryErrorCodes.ACCOUNT_KEY_NOT_FOUND);let em=yield this.account(ed),eb=yield em.getAccessKeys(),ew=eb.find(eu=>eu.public_key===eg.getPublicKey().toString());return void 0!==ew}catch(eu){if(eu.message===eP.RepositoryErrorCodes.ACCOUNT_KEY_NOT_FOUND)return!1;throw Error(eu)}})}signOut(){return eb(this,void 0,void 0,function*(){let eu=yield this.isSignedIn(),ed=yield this.sessionRepository.getActiveAccount(this.network);if(!eu){yield this.sessionRepository.removeKey(this.network,ed);return}let eg=yield this.sessionRepository.getKey(this.network,ed);if(null===eg)throw Error(eM.WalletErrors.NO_ACCOUNT_LOCAL_KEY);let em=eg.getPublicKey().toString();try{yield this.silentSignAndSendTransaction({signerId:ed,receiverId:ed,actions:[{type:"DeleteKey",params:{publicKey:em}}]}),yield this.sessionRepository.removeKey(this.network,ed)}catch(eu){yield this.retryTransaction({requests:[{actions:[{type:"DeleteKey",params:{publicKey:em}}],signerId:ed,receiverId:ed}]}),yield this.sessionRepository.removeKey(this.network,ed)}})}signIn({contractId:eu,allowance:ed,methodNames:eg=[]}){var em,e_;return eb(this,void 0,void 0,function*(){let eE=ew.KeyPair.fromRandom("ed25519"),eA={receiverId:eu,methodNames:eg,allowance:ed},eS=[{actions:[{type:"AddKey",params:{publicKey:eE.getPublicKey().toString(),accessKey:{permission:eA}}}]}],{id:eI,network:eC,requests:eO}=yield this.defaultProvider.createRequest(this.network,eS,this.dAppMetadata),eT=()=>eb(this,void 0,void 0,function*(){return yield this.defaultProvider.rejectSignerRequest(eI)});null===(e_=(em=this.defaultStrategy).onRequested)||void 0===e_||e_.call(em,eI,{network:eC,request:eO},eT);let{status:eP}=yield this.defaultProvider.awaitActionSignatureResolution(eI);this.handleRequestStatus(eP);let{signerAccountId:eN}=yield this.defaultProvider.getRequest(eI);if(!eN)throw Error(eM.WalletErrors.REQUEST_NOT_SIGNED);return yield this.sessionRepository.setKey(this.network,eN,eE),yield this.sessionRepository.setActiveAccount(this.network,eN),eN})}account(eu){return eb(this,void 0,void 0,function*(){let ed=null!=eu?eu:yield this.sessionRepository.getActiveAccount(this.network);if(null===ed)throw Error(eM.WalletErrors.NO_ACTIVE_ACCOUNT);return new ew.Account(this.connection,ed)})}silentSignAndSendTransaction({signerId:eu,receiverId:ed,actions:eg}){return eb(this,void 0,void 0,function*(){let em=yield this.account(eu),eb=yield this.sessionRepository.getKey(this.network,em.accountId);if(null===eb)throw Error(eM.WalletErrors.NO_ACTIVE_ACCOUNT);let ew=yield this.isSignedIn(em.accountId);if(!ew)throw Error(eM.WalletErrors.NO_ACTIVE_ACCOUNT);let e_=eb.getPublicKey().toString(),eE=yield em.getAccessKeys(),eA={receiverId:ed,actions:eg},eS=eE.some(eu=>(0,eI.isValidAccessKey)(em.accountId,eu,e_,eA));if(!eS)throw Error(eM.WalletErrors.INVALID_ACCESS_KEY);return yield em.signAndSendTransaction({actions:eg.map(eu=>(0,eC.createAction)(eu)),receiverId:null!=ed?ed:em.accountId})})}signAndSendTransaction({signerId:eu,receiverId:ed,actions:eg}){var em,ew;return eb(this,void 0,void 0,function*(){try{let eb=yield this.isSignedIn(eu);if(!eb)throw yield this.sessionRepository.removeKey(this.network,eu),Error(eM.WalletErrors.NO_ACTIVE_ACCOUNT);let e_=yield this.silentSignAndSendTransaction({signerId:eu,receiverId:ed,actions:eg});return null===(ew=(em=this.defaultStrategy).onSuccess)||void 0===ew||ew.call(em),e_}catch(em){if(em.message!==eM.WalletErrors.NO_ACTIVE_ACCOUNT)return yield this.retryTransaction({requests:[{actions:eg,receiverId:ed,signerId:eu}]});throw Error(em)}})}signAndSendTransactions({transactions:eu}){var ed,eg,em,ew;return eb(this,void 0,void 0,function*(){try{let em=yield this.isSignedIn(eu[0].signerId);if(!em)throw yield this.sessionRepository.removeKey(this.network,eu[0].signerId),Error(eM.WalletErrors.NO_ACTIVE_ACCOUNT);let{id:ew,network:e_,requests:eE}=yield this.defaultProvider.createRequest(this.network,eu,this.dAppMetadata),eA=()=>eb(this,void 0,void 0,function*(){return yield this.defaultProvider.rejectSignerRequest(ew)});null===(eg=(ed=this.defaultStrategy).onRequested)||void 0===eg||eg.call(ed,ew,{network:e_,request:eE},eA);let{status:eS}=yield this.defaultProvider.awaitActionSignatureResolution(ew);this.handleRequestStatus(eS);let{signerAccountId:eI,txHash:eC}=yield this.defaultProvider.getRequest(ew);if(!eI||!eC)throw Error(eM.WalletErrors.REQUEST_NOT_SIGNED);let eO=[];for(let eu of eC){let ed=yield this.rpc.txStatus(eu,eI,"EXECUTED_OPTIMISTIC");eO.push(ed)}return eO}catch(eu){throw null===(ew=(em=this.defaultStrategy).onError)||void 0===ew||ew.call(em),Error(eu)}})}signMessage({message:eu,receiver:ed,nonce:eg,callbackUrl:ew}){var e_,eE,eA,eI,eC,eO;return eb(this,void 0,void 0,function*(){let{id:eP}=yield this.defaultProvider.createSignMessage(this.network,eu,ed,eg,ew,this.dAppMetadata),eN=()=>eb(this,void 0,void 0,function*(){return yield this.defaultProvider.rejectMessageRequest(eP)});null===(eE=(e_=this.defaultStrategy).onRequested)||void 0===eE||eE.call(e_,eP,{network:this.network,message:eu,receiver:ed,nonce:eg,callbackUrl:ew},eN);let{response:ek,status:eR}=yield this.defaultProvider.awaitMessageSignatureResolution(eP);if(this.handleRequestStatus(eR),!ek&&eR!==eS.SignerRequestStatus.APPROVED)throw Error(eM.WalletErrors.NO_SIGNATURE);try{let{publicKey:eb,signature:e_,accountId:eE}=ek,eS=(0,eT.verifySignature)({publicKey:eb,signature:e_,message:eu,nonce:em.from(eg),recipient:ed,callbackUrl:ew});if(!eS)throw Error(eM.WalletErrors.INVALID_SIGNATURE);let eC=yield this.account(eE),eO=yield eC.getAccessKeys(),eP=eO.some(eu=>eu.public_key===eb&&"FullAccess"===eu.access_key.permission);if(!eP)throw Error(eM.WalletErrors.INVALID_ACCESS_KEY);return null===(eI=(eA=this.defaultStrategy).onSuccess)||void 0===eI||eI.call(eA),{signature:e_,publicKey:eb,message:eu,accountId:eE,receiver:ed,nonce:eg,callbackUrl:ew}}catch(eu){throw null===(eO=(eC=this.defaultStrategy).onError)||void 0===eO||eO.call(eC),Error(eu)}})}}ed.NearMobileWallet=eN},25069:function(eu,ed){"use strict";var eg;Object.defineProperty(ed,"__esModule",{value:!0}),ed.WalletErrors=void 0,function(eu){eu.NO_ACTIVE_ACCOUNT="NO_ACTIVE_ACCOUNT",eu.NO_ACCOUNT_LOCAL_KEY="NO_ACCOUNT_LOCAL_KEY",eu.INVALID_ACCESS_KEY="INVALID_ACCESS_KEY",eu.NO_SIGNER_ACCOUNT_ID="NO_SIGNER_ACCOUNT_ID",eu.REQUEST_NOT_SIGNED="REQUEST_NOT_SIGNED",eu.NO_SIGNATURE="NO_SIGNATURE",eu.INVALID_SIGNATURE="INVALID_SIGNATURE",eu.OPERATION_FAILED="OPERATION_FAILED"}(eg||(ed.WalletErrors=eg={}))},63158:function(eu,ed,eg){"use strict";var em=this&&this.__awaiter||function(eu,ed,eg,em){function eb(eu){return eu instanceof eg?eu:new eg(function(ed){ed(eu)})}return new(eg||(eg=Promise))(function(eg,ew){function e_(eu){try{eA(em.next(eu))}catch(eu){ew(eu)}}function eE(eu){try{eA(em.throw(eu))}catch(eu){ew(eu)}}function eA(eu){eu.done?eg(eu.value):eb(eu.value).then(e_,eE)}eA((em=em.apply(eu,ed||[])).next())})},eb=this&&this.__importDefault||function(eu){return eu&&eu.__esModule?eu:{default:eu}};Object.defineProperty(ed,"__esModule",{value:!0}),ed.NearMobileSignerProxy=void 0;let ew=eb(eg(72926)),e_=eg(78136),eE=eg(18821),eA=eg(99318);class eS{createRequest(eu,ed,eg){return em(this,void 0,void 0,function*(){let em=yield eE.SignerRequestApi.createSignerRequest({network:eu,transactions:ed,dAppMetadata:eg});return em})}getPollingConfig(){return{maxIterations:ew.default.polling.maxIterations,visibilityCheckTimeout:ew.default.polling.backgroundVisibilityCheckTimeout,visibilityCheckInterval:ew.default.polling.backgroundVisibilityCheckInterval,timeout:ew.default.polling.requestTimeout}}awaitActionSignatureResolution(eu){return em(this,void 0,void 0,function*(){return yield(0,eA.visibilityAwareTimeoutPolling)(()=>eE.SignerRequestApi.getSignerRequestStatus(eu),({status:eu})=>eu===e_.SignerRequestStatus.PENDING,this.getPollingConfig())})}getRequest(eu){return em(this,void 0,void 0,function*(){return yield eE.SignerRequestApi.getSignerRequest(eu)})}createSignMessage(eu,ed,eg,eb,ew,e_){return em(this,void 0,void 0,function*(){return yield eE.SignerRequestApi.createSignMessageRequest({network:eu,message:ed,receiver:eg,nonce:eb,callbackUrl:ew,receiverMetadata:e_})})}awaitMessageSignatureResolution(eu){return em(this,void 0,void 0,function*(){return yield(0,eA.visibilityAwareTimeoutPolling)(()=>eE.SignerRequestApi.getSignMessageRequest(eu),({response:eu,status:ed})=>!eu&&ed===e_.SignerRequestStatus.PENDING,this.getPollingConfig())})}rejectSignerRequest(eu){return em(this,void 0,void 0,function*(){yield eE.SignerRequestApi.rejectSignerRequest(eu)})}rejectMessageRequest(eu){return em(this,void 0,void 0,function*(){yield eE.SignerRequestApi.rejectMessageRequest(eu)})}}ed.NearMobileSignerProxy=eS},99318:function(eu,ed,eg){"use strict";var em=this&&this.__awaiter||function(eu,ed,eg,em){function eb(eu){return eu instanceof eg?eu:new eg(function(ed){ed(eu)})}return new(eg||(eg=Promise))(function(eg,ew){function e_(eu){try{eA(em.next(eu))}catch(eu){ew(eu)}}function eE(eu){try{eA(em.throw(eu))}catch(eu){ew(eu)}}function eA(eu){eu.done?eg(eu.value):eb(eu.value).then(e_,eE)}eA((em=em.apply(eu,ed||[])).next())})},eb=this&&this.__rest||function(eu,ed){var eg={};for(var em in eu)Object.prototype.hasOwnProperty.call(eu,em)&&0>ed.indexOf(em)&&(eg[em]=eu[em]);if(null!=eu&&"function"==typeof Object.getOwnPropertySymbols)for(var eb=0,em=Object.getOwnPropertySymbols(eu);eb<em.length;eb++)0>ed.indexOf(em[eb])&&Object.prototype.propertyIsEnumerable.call(eu,em[eb])&&(eg[em[eb]]=eu[em[eb]]);return eg},ew=this&&this.__importDefault||function(eu){return eu&&eu.__esModule?eu:{default:eu}};Object.defineProperty(ed,"__esModule",{value:!0}),ed.visibilityAwareTimeoutPolling=void 0;let e_=ew(eg(8792)),eE=eg(87002),eA=1e3,eS=60*eA;function eI(eu,ed,eg){var{timeout:ew=10*eS,visibilityCheckInterval:eI=eA,visibilityCheckTimeout:eC=10*eS}=eg,eM=eb(eg,["timeout","visibilityCheckInterval","visibilityCheckTimeout"]);return em(this,void 0,void 0,function*(){let eg,eb;let eA=new Promise((eu,ed)=>{eg=eu,eb=ed}),eS=!1;function eO(){eS=document.hidden}return document.addEventListener("visibilitychange",eO),(0,e_.default)(()=>em(this,void 0,void 0,function*(){return eS&&(yield(0,eE.waitUntil)({condition:()=>!eS,interval:eI,timeout:eC})),yield eu()}),ed,Object.assign({timeout:ew},eM)).then(eu=>{eg(eu)}).catch(eb).finally(()=>{document.removeEventListener("visibilitychange",eO)}),eA})}ed.visibilityAwareTimeoutPolling=eI},87002:function(eu,ed){"use strict";var eg=this&&this.__awaiter||function(eu,ed,eg,em){function eb(eu){return eu instanceof eg?eu:new eg(function(ed){ed(eu)})}return new(eg||(eg=Promise))(function(eg,ew){function e_(eu){try{eA(em.next(eu))}catch(eu){ew(eu)}}function eE(eu){try{eA(em.throw(eu))}catch(eu){ew(eu)}}function eA(eu){eu.done?eg(eu.value):eb(eu.value).then(e_,eE)}eA((em=em.apply(eu,ed||[])).next())})};function em({timeout:eu,condition:ed,interval:em=100}){return eg(this,void 0,void 0,function*(){let eg=Date.now();return new Promise((eb,ew)=>{function e_(){return ed()?eb():Date.now()-eg>=eu?ew(Error("Timeout reached")):void setTimeout(e_,em)}e_()})})}Object.defineProperty(ed,"__esModule",{value:!0}),ed.waitUntil=void 0,ed.waitUntil=em},29670:function(eu,ed,eg){"use strict";var em=this&&this.__importDefault||function(eu){return eu&&eu.__esModule?eu:{default:eu}};Object.defineProperty(ed,"__esModule",{value:!0}),ed.WidgetStrategy=void 0;let eb=em(eg(72926)),ew=eu=>{let ed=document.createElement("iframe");return ed.src=eu,ed.style.border="none",ed.style.zIndex="10000",ed.style.position="fixed",ed.style.display="none",ed.style.top="0",ed.style.left="0",ed.style.width="100%",ed.style.height="100%",document.body.appendChild(ed),ed};class e_{constructor(){this.widgetUrl=eb.default.widgetUrl,null==e_.connector&&(e_.connector=ew(this.widgetUrl),e_.connector.addEventListener("load",()=>{e_.isLoaded=!0}))}close(){this.messageHandler&&(window.removeEventListener("message",this.messageHandler),this.messageHandler=void 0),null!=e_.connector&&(e_.connector.style.display="none")}onRequested(eu,ed,eg){if(null==e_.connector)return;e_.connector.style.display="block";let em=()=>{var eg,ew;e_.connector.removeEventListener("load",em);let eE="message"in ed?"message":"request",eA=`${eb.default.nearMobileWalletUrl}/${eE}/${eu}`;null===(ew=null===(eg=e_.connector)||void 0===eg?void 0:eg.contentWindow)||void 0===ew||ew.postMessage({requestUrl:eA,isNearMobile:!!window.isNearMobile},new URL(this.widgetUrl).origin)};e_.isLoaded?em():e_.connector.addEventListener("load",em),this.messageHandler=eu=>{eu.origin===new URL(this.widgetUrl).origin&&"close"===eu.data&&(null==eg||eg(),this.close())},window.addEventListener("message",this.messageHandler)}onApproved(){this.close()}onSuccess(){this.close()}onError(){this.close()}}ed.WidgetStrategy=e_,e_.isLoaded=!1},80109:function(eu,ed){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.payloadSchema=ed.Payload=void 0;class eg{constructor(eu){this.tag=2147484061,this.message=eu.message,this.nonce=eu.nonce,this.recipient=eu.recipient,eu.callbackUrl&&(this.callbackUrl=eu.callbackUrl)}}ed.Payload=eg,ed.payloadSchema=new Map([[eg,{kind:"struct",fields:[["tag","u32"],["message","string"],["nonce",[32]],["recipient","string"],["callbackUrl",{kind:"option",type:"string"}]]}]])},73635:function(eu,ed,eg){"use strict";var em=eg(48834).Buffer;Object.defineProperty(ed,"__esModule",{value:!0}),ed.verifySignature=void 0;let eb=eg(24230),ew=eg(52626),e_=eg(91965),eE=eg(80109),eA=({publicKey:eu,signature:ed,message:eg,nonce:eA,recipient:eS,callbackUrl:eI})=>{let eC=new eE.Payload({message:eg,nonce:eA,recipient:eS,callbackUrl:eI}),eM=(0,ew.serialize)(eE.payloadSchema,eC),eO=Uint8Array.from(e_.sha256.array(eM)),eT=em.from(ed,"base64"),eP=eb.utils.PublicKey.from(eu);return eP.verify(eO,eT)};ed.verifySignature=eA},67482:function(eu,ed,eg){"use strict";var em=eg(48834).Buffer,eb=this&&this.__awaiter||function(eu,ed,eg,em){function eb(eu){return eu instanceof eg?eu:new eg(function(ed){ed(eu)})}return new(eg||(eg=Promise))(function(eg,ew){function e_(eu){try{eA(em.next(eu))}catch(eu){ew(eu)}}function eE(eu){try{eA(em.throw(eu))}catch(eu){ew(eu)}}function eA(eu){eu.done?eg(eu.value):eb(eu.value).then(e_,eE)}eA((em=em.apply(eu,ed||[])).next())})};Object.defineProperty(ed,"__esModule",{value:!0}),ed.Account=void 0;let ew=eg(34327),e_=eg(36551),eE=eg(42787),eA=eg(73795),eS=eg(56035),eI=eg(5978),{addKey:eC,createAccount:eM,deleteAccount:eO,deleteKey:eT,deployContract:eP,fullAccessKey:eN,functionCall:ek,functionCallAccessKey:eR,stake:eD,transfer:eB}=eE.actionCreators,eU=12,eL=500,ej=1.5;class eF{constructor(eu,ed){this.accessKeyByPublicKeyCache={},this.connection=eu,this.accountId=ed}getConnection(){return this.connection}state(){return eb(this,void 0,void 0,function*(){return this.connection.provider.query({request_type:"view_account",account_id:this.accountId,finality:"optimistic"})})}signTransaction(eu,ed){return eb(this,void 0,void 0,function*(){let eg=yield this.findAccessKey(eu,ed);if(!eg)throw new eA.TypedError(`Can not sign transactions for account ${this.accountId} on network ${this.connection.networkId}, no matching key pair exists for this account`,"KeyNotFound");let{accessKey:em}=eg,eb=yield this.connection.provider.block({finality:"final"}),ew=eb.header.hash,e_=em.nonce+BigInt(1);return yield(0,eE.signTransaction)(eu,e_,ed,(0,eS.baseDecode)(ew),this.connection.signer,this.accountId,this.connection.networkId)})}signAndSendTransaction({receiverId:eu,actions:ed,returnError:eg}){return eb(this,void 0,void 0,function*(){let em,ew;let eE=yield(0,e_.exponentialBackoff)(eL,eU,ej,()=>eb(this,void 0,void 0,function*(){[em,ew]=yield this.signTransaction(eu,ed);let eg=ew.transaction.publicKey;try{return yield this.connection.provider.sendTransaction(ew)}catch(ed){if("InvalidNonce"===ed.type)return eS.Logger.warn(`Retrying transaction ${eu}:${(0,eS.baseEncode)(em)} with new nonce.`),delete this.accessKeyByPublicKeyCache[eg.toString()],null;if("Expired"===ed.type)return eS.Logger.warn(`Retrying transaction ${eu}:${(0,eS.baseEncode)(em)} due to expired block hash`),null;throw ed.context=new eA.ErrorContext((0,eS.baseEncode)(em)),ed}}));if(!eE)throw new eA.TypedError("nonce retries exceeded for transaction. This usually means there are too many parallel requests with the same access key.","RetriesExceeded");if((0,eS.printTxOutcomeLogsAndFailures)({contractId:ew.transaction.receiverId,outcome:eE}),!eg&&"object"==typeof eE.status&&"object"==typeof eE.status.Failure&&null!==eE.status.Failure){if(eE.status.Failure.error_message&&eE.status.Failure.error_type)throw new eA.TypedError(`Transaction ${eE.transaction_outcome.id} failed. ${eE.status.Failure.error_message}`,eE.status.Failure.error_type);throw(0,eS.parseResultError)(eE)}return eE})}findAccessKey(eu,ed){return eb(this,void 0,void 0,function*(){let eu=yield this.connection.signer.getPublicKey(this.accountId,this.connection.networkId);if(!eu)throw new eA.TypedError(`no matching key pair found in ${this.connection.signer}`,"PublicKeyNotFound");let ed=this.accessKeyByPublicKeyCache[eu.toString()];if(void 0!==ed)return{publicKey:eu,accessKey:ed};try{let ed=yield this.connection.provider.query({request_type:"view_access_key",account_id:this.accountId,public_key:eu.toString(),finality:"optimistic"}),eg=Object.assign(Object.assign({},ed),{nonce:BigInt(ed.nonce||0)});if(this.accessKeyByPublicKeyCache[eu.toString()])return{publicKey:eu,accessKey:this.accessKeyByPublicKeyCache[eu.toString()]};return this.accessKeyByPublicKeyCache[eu.toString()]=eg,{publicKey:eu,accessKey:eg}}catch(eu){if("AccessKeyDoesNotExist"==eu.type)return null;throw eu}})}createAndDeployContract(eu,ed,eg,em){return eb(this,void 0,void 0,function*(){let eb=eN();yield this.signAndSendTransaction({receiverId:eu,actions:[eM(),eB(em),eC(ew.PublicKey.from(ed),eb),eP(eg)]});let e_=new eF(this.connection,eu);return e_})}sendMoney(eu,ed){return eb(this,void 0,void 0,function*(){return this.signAndSendTransaction({receiverId:eu,actions:[eB(ed)]})})}createAccount(eu,ed,eg){return eb(this,void 0,void 0,function*(){let em=eN();return this.signAndSendTransaction({receiverId:eu,actions:[eM(),eB(eg),eC(ew.PublicKey.from(ed),em)]})})}deleteAccount(eu){return eb(this,void 0,void 0,function*(){return eS.Logger.log("Deleting an account does not automatically transfer NFTs and FTs to the beneficiary address. Ensure to transfer assets before deleting."),this.signAndSendTransaction({receiverId:this.accountId,actions:[eO(eu)]})})}deployContract(eu){return eb(this,void 0,void 0,function*(){return this.signAndSendTransaction({receiverId:this.accountId,actions:[eP(eu)]})})}encodeJSContractArgs(eu,ed,eg){return em.concat([em.from(eu),em.from([0]),em.from(ed),em.from([0]),em.from(eg)])}functionCall({contractId:eu,methodName:ed,args:eg={},gas:em=eS.DEFAULT_FUNCTION_CALL_GAS,attachedDeposit:ew,walletMeta:e_,walletCallbackUrl:eA,stringify:eI,jsContract:eC}){return eb(this,void 0,void 0,function*(){let eb;if(this.validateArgs(eg),eC){let e_=this.encodeJSContractArgs(eu,ed,JSON.stringify(eg));eb=["call_js_contract",e_,em,ew,null,!0]}else{let eu=void 0===eI?eE.stringifyJsonOrBytes:eI;eb=[ed,eg,em,ew,eu,!1]}return this.signAndSendTransaction({receiverId:eC?this.connection.jsvmAccountId:eu,actions:[ek.apply(void 0,eb)],walletMeta:e_,walletCallbackUrl:eA})})}addKey(eu,ed,eg,em){return eb(this,void 0,void 0,function*(){let eb;return eg||(eg=[]),Array.isArray(eg)||(eg=[eg]),eb=ed?eR(ed,eg,em):eN(),this.signAndSendTransaction({receiverId:this.accountId,actions:[eC(ew.PublicKey.from(eu),eb)]})})}deleteKey(eu){return eb(this,void 0,void 0,function*(){return this.signAndSendTransaction({receiverId:this.accountId,actions:[eT(ew.PublicKey.from(eu))]})})}stake(eu,ed){return eb(this,void 0,void 0,function*(){return this.signAndSendTransaction({receiverId:this.accountId,actions:[eD(ed,ew.PublicKey.from(eu))]})})}signedDelegate({actions:eu,blockHeightTtl:ed,receiverId:eg}){return eb(this,void 0,void 0,function*(){let{provider:em,signer:ew}=this.connection,{header:e_}=yield em.block({finality:"final"}),{accessKey:eA,publicKey:eS}=yield this.findAccessKey(null,null),eI=(0,eE.buildDelegateAction)({actions:eu,maxBlockHeight:BigInt(e_.height)+BigInt(ed),nonce:BigInt(eA.nonce)+BigInt(1),publicKey:eS,receiverId:eg,senderId:this.accountId}),{signedDelegateAction:eC}=yield(0,eE.signDelegateAction)({delegateAction:eI,signer:{sign:eu=>eb(this,void 0,void 0,function*(){let{signature:ed}=yield ew.signMessage(eu,eI.senderId,this.connection.networkId);return ed})}});return eC})}validateArgs(eu){let ed=void 0!==eu.byteLength&&eu.byteLength===eu.length;if(!ed&&(Array.isArray(eu)||"object"!=typeof eu))throw new eA.PositionalArgsError}viewFunction(eu){return eb(this,void 0,void 0,function*(){return yield(0,eI.viewFunction)(this.connection,eu)})}viewState(eu,ed={finality:"optimistic"}){return eb(this,void 0,void 0,function*(){return yield(0,eI.viewState)(this.connection,this.accountId,eu,ed)})}getAccessKeys(){var eu;return eb(this,void 0,void 0,function*(){let ed=yield this.connection.provider.query({request_type:"view_access_key_list",account_id:this.accountId,finality:"optimistic"});return null===(eu=null==ed?void 0:ed.keys)||void 0===eu?void 0:eu.map(eu=>Object.assign(Object.assign({},eu),{access_key:Object.assign(Object.assign({},eu.access_key),{nonce:BigInt(eu.access_key.nonce)})}))})}getAccountDetails(){return eb(this,void 0,void 0,function*(){let eu=yield this.getAccessKeys(),ed=eu.filter(eu=>"FullAccess"!==eu.access_key.permission).map(eu=>{let ed=eu.access_key.permission;return{contractId:ed.FunctionCall.receiver_id,amount:ed.FunctionCall.allowance,publicKey:eu.public_key}});return{authorizedApps:ed}})}getAccountBalance(){return eb(this,void 0,void 0,function*(){let eu=yield this.connection.provider.experimental_protocolConfig({finality:"final"}),ed=yield this.state(),eg=BigInt(eu.runtime_config.storage_amount_per_byte),em=BigInt(ed.storage_usage)*eg,eb=BigInt(ed.locked),ew=BigInt(ed.amount)+eb,e_=ew-(eb>em?eb:em);return{total:ew.toString(),stateStaked:em.toString(),staked:eb.toString(),available:e_.toString()}})}getActiveDelegatedStakeBalance(){return eb(this,void 0,void 0,function*(){let eu=yield this.connection.provider.block({finality:"final"}),ed=eu.header.hash,eg=eu.header.epoch_id,{current_validators:em,next_validators:eb,current_proposals:ew}=yield this.connection.provider.validators(eg),e_=new Set;[...em,...eb,...ew].forEach(eu=>e_.add(eu.account_id));let eE=[...e_],eA=eE.map(eu=>this.viewFunction({contractId:eu,methodName:"get_account_total_balance",args:{account_id:this.accountId},blockQuery:{blockId:ed}})),eS=yield Promise.allSettled(eA),eI=eS.some(eu=>"rejected"===eu.status&&"TimeoutError"===eu.reason.type);if(eI)throw Error("Failed to get delegated stake balance");let eC=eS.reduce((eu,ed,eg)=>{let em=eE[eg];if("fulfilled"===ed.status){let eg=BigInt(ed.value);if(eg!==BigInt(0))return Object.assign(Object.assign({},eu),{stakedValidators:[...eu.stakedValidators,{validatorId:em,amount:eg.toString()}],total:eu.total+eg})}return"rejected"===ed.status?Object.assign(Object.assign({},eu),{failedValidators:[...eu.failedValidators,{validatorId:em,error:ed.reason}]}):eu},{stakedValidators:[],failedValidators:[],total:BigInt(0)});return Object.assign(Object.assign({},eC),{total:eC.total.toString()})})}}ed.Account=eF},857:function(eu,ed,eg){"use strict";var em=eg(48834).Buffer,eb=this&&this.__awaiter||function(eu,ed,eg,em){function eb(eu){return eu instanceof eg?eu:new eg(function(ed){ed(eu)})}return new(eg||(eg=Promise))(function(eg,ew){function e_(eu){try{eA(em.next(eu))}catch(eu){ew(eu)}}function eE(eu){try{eA(em.throw(eu))}catch(eu){ew(eu)}}function eA(eu){eu.done?eg(eu.value):eb(eu.value).then(e_,eE)}eA((em=em.apply(eu,ed||[])).next())})};Object.defineProperty(ed,"__esModule",{value:!0}),ed.Account2FA=void 0;let ew=eg(34327),e_=eg(73795),eE=eg(36551),eA=eg(42787),eS=eg(56035),eI=eg(36010),eC=eg(92762),eM=eg(66824),{addKey:eO,deleteKey:eT,deployContract:eP,fullAccessKey:eN,functionCall:ek,functionCallAccessKey:eR}=eA.actionCreators;class eD extends eI.AccountMultisig{constructor(eu,ed,eg){super(eu,ed,eg),this.helperUrl="https://helper.testnet.near.org",this.helperUrl=eg.helperUrl||this.helperUrl,this.storage=eg.storage,this.sendCode=eg.sendCode||this.sendCodeDefault,this.getCode=eg.getCode||this.getCodeDefault,this.verifyCode=eg.verifyCode||this.verifyCodeDefault,this.onConfirmResult=eg.onConfirmResult}signAndSendTransaction({receiverId:eu,actions:ed}){let eg=Object.create(null,{signAndSendTransaction:{get:()=>super.signAndSendTransaction}});return eb(this,void 0,void 0,function*(){yield eg.signAndSendTransaction.call(this,{receiverId:eu,actions:ed}),yield this.sendCode();let em=yield this.promptAndVerify();return this.onConfirmResult&&(yield this.onConfirmResult(em)),em})}deployMultisig(eu){let ed=Object.create(null,{signAndSendTransactionWithAccount:{get:()=>super.signAndSendTransactionWithAccount}});return eb(this,void 0,void 0,function*(){let{accountId:eg}=this,eb=(yield this.getRecoveryMethods()).data.filter(({kind:eu,publicKey:ed})=>("phrase"===eu||"ledger"===eu)&&null!==ed).map(eu=>eu.publicKey),ew=(yield this.getAccessKeys()).filter(({public_key:eu,access_key:{permission:ed}})=>"FullAccess"===ed&&!eb.includes(eu)).map(eu=>eu.public_key).map(eB),eE=eB((yield this.postSignedJson("/2fa/getAccessKey",{accountId:eg})).publicKey),eA=em.from(JSON.stringify({num_confirmations:2})),eI=[...ew.map(eu=>eT(eu)),...ew.map(eu=>eO(eu,eR(eg,eC.MULTISIG_CHANGE_METHODS,null))),eO(eE,eR(eg,eC.MULTISIG_CONFIRM_METHODS,null)),eP(eu)],eN=eI.concat(ek("new",eA,eC.MULTISIG_GAS,eC.MULTISIG_DEPOSIT));eS.Logger.log("deploying multisig contract for",eg);let{stateStatus:eD}=yield this.checkMultisigCodeAndStateStatus(eu);switch(eD){case eM.MultisigStateStatus.STATE_NOT_INITIALIZED:return yield ed.signAndSendTransactionWithAccount.call(this,eg,eN);case eM.MultisigStateStatus.VALID_STATE:return yield ed.signAndSendTransactionWithAccount.call(this,eg,eI);case eM.MultisigStateStatus.INVALID_STATE:throw new e_.TypedError(`Can not deploy a contract to account ${this.accountId} on network ${this.connection.networkId}, the account has existing state.`,"ContractHasExistingState");default:throw new e_.TypedError(`Can not deploy a contract to account ${this.accountId} on network ${this.connection.networkId}, the account state could not be verified.`,"ContractStateUnknown")}})}disableWithFAK({contractBytes:eu,cleanupContractBytes:ed}){return eb(this,void 0,void 0,function*(){let eg=[];ed&&(yield this.deleteAllRequests().catch(eu=>eu),eg=yield this.get2faDisableCleanupActions(ed));let em=yield this.get2faDisableKeyConversionActions(),eb=[...eg,...em,eP(eu)],ew=yield this.findAccessKey(this.accountId,eb);if(ew&&ew.accessKey&&"FullAccess"!==ew.accessKey.permission)throw new e_.TypedError("No full access key found in keystore. Unable to bypass multisig","NoFAKFound");return this.signAndSendTransactionWithAccount(this.accountId,eb)})}get2faDisableCleanupActions(eu){return eb(this,void 0,void 0,function*(){let ed=yield this.viewState("").catch(eu=>{let ed=eu.cause&&eu.cause.name;if("NO_CONTRACT_CODE"==ed)return[];throw"TOO_LARGE_CONTRACT_STATE"==ed?new e_.TypedError(`Can not deploy a contract to account ${this.accountId} on network ${this.connection.networkId}, the account has existing state.`,"ContractHasExistingState"):eu}),eg=ed.map(({key:eu})=>eu.toString("base64"));return ed.length?[eP(eu),ek("clean",{keys:eg},eC.MULTISIG_GAS,BigInt("0"))]:[]})}get2faDisableKeyConversionActions(){return eb(this,void 0,void 0,function*(){let{accountId:eu}=this,ed=yield this.getAccessKeys(),eg=ed.filter(({access_key:eu})=>"FullAccess"!==eu.permission).filter(({access_key:ed})=>{let eg=ed.permission.FunctionCall;return eg.receiver_id===eu&&4===eg.method_names.length&&eg.method_names.includes("add_request_and_confirm")}),em=ew.PublicKey.from((yield this.postSignedJson("/2fa/getAccessKey",{accountId:eu})).publicKey);return[eT(em),...eg.map(({public_key:eu})=>eT(ew.PublicKey.from(eu))),...eg.map(({public_key:eu})=>eO(ew.PublicKey.from(eu),eN()))]})}disable(eu,ed){return eb(this,void 0,void 0,function*(){let eg;let{stateStatus:em}=yield this.checkMultisigCodeAndStateStatus();if(em!==eM.MultisigStateStatus.VALID_STATE&&em!==eM.MultisigStateStatus.STATE_NOT_INITIALIZED)throw new e_.TypedError(`Can not deploy a contract to account ${this.accountId} on network ${this.connection.networkId}, the account state could not be verified.`,"ContractStateUnknown");yield this.deleteAllRequests().catch(eu=>eg=eu);let eb=yield this.get2faDisableCleanupActions(ed).catch(eu=>{if("ContractHasExistingState"===eu.type)throw eg||eu;throw eu}),ew=[...eb,...yield this.get2faDisableKeyConversionActions(),eP(eu)];return eS.Logger.log("disabling 2fa for",this.accountId),yield this.signAndSendTransaction({receiverId:this.accountId,actions:ew})})}sendCodeDefault(){return eb(this,void 0,void 0,function*(){let{accountId:eu}=this,{requestId:ed}=this.getRequest(),eg=yield this.get2faMethod();return yield this.postSignedJson("/2fa/send",{accountId:eu,method:eg,requestId:ed}),ed})}getCodeDefault(){return eb(this,void 0,void 0,function*(){throw Error('There is no getCode callback provided. Please provide your own in AccountMultisig constructor options. It has a parameter method where method.kind is "email" or "phone".')})}promptAndVerify(){return eb(this,void 0,void 0,function*(){let eu=yield this.get2faMethod(),ed=yield this.getCode(eu);try{let eu=yield this.verifyCode(ed);return eu}catch(eu){if(eS.Logger.warn("Error validating security code:",eu),eu.toString().includes("invalid 2fa code provided")||eu.toString().includes("2fa code not valid"))return yield this.promptAndVerify();throw eu}})}verifyCodeDefault(eu){return eb(this,void 0,void 0,function*(){let{accountId:ed}=this,eg=this.getRequest();if(!eg)throw Error("no request pending");let{requestId:em}=eg;return yield this.postSignedJson("/2fa/verify",{accountId:ed,securityCode:eu,requestId:em})})}getRecoveryMethods(){return eb(this,void 0,void 0,function*(){let{accountId:eu}=this;return{accountId:eu,data:yield this.postSignedJson("/account/recoveryMethods",{accountId:eu})}})}get2faMethod(){return eb(this,void 0,void 0,function*(){let{data:eu}=yield this.getRecoveryMethods();if(eu&&eu.length&&(eu=eu.find(eu=>0===eu.kind.indexOf("2fa-"))),!eu)return null;let{kind:ed,detail:eg}=eu;return{kind:ed,detail:eg}})}signatureFor(){return eb(this,void 0,void 0,function*(){let{accountId:eu}=this,ed=yield this.connection.provider.block({finality:"final"}),eg=ed.header.height.toString(),eb=yield this.connection.signer.signMessage(em.from(eg),eu,this.connection.networkId),ew=em.from(eb.signature).toString("base64");return{blockNumber:eg,blockNumberSignature:ew}})}postSignedJson(eu,ed){return eb(this,void 0,void 0,function*(){return yield(0,eE.fetchJson)(this.helperUrl+eu,JSON.stringify(Object.assign(Object.assign({},ed),(yield this.signatureFor()))))})}}ed.Account2FA=eD;let eB=eu=>ew.PublicKey.from(eu)},11691:function(eu,ed,eg){"use strict";var em=this&&this.__awaiter||function(eu,ed,eg,em){function eb(eu){return eu instanceof eg?eu:new eg(function(ed){ed(eu)})}return new(eg||(eg=Promise))(function(eg,ew){function e_(eu){try{eA(em.next(eu))}catch(eu){ew(eu)}}function eE(eu){try{eA(em.throw(eu))}catch(eu){ew(eu)}}function eA(eu){eu.done?eg(eu.value):eb(eu.value).then(e_,eE)}eA((em=em.apply(eu,ed||[])).next())})};Object.defineProperty(ed,"__esModule",{value:!0}),ed.UrlAccountCreator=ed.LocalAccountCreator=ed.AccountCreator=void 0;let eb=eg(36551);class ew{}ed.AccountCreator=ew;class e_ extends ew{constructor(eu,ed){super(),this.masterAccount=eu,this.initialBalance=ed}createAccount(eu,ed){return em(this,void 0,void 0,function*(){yield this.masterAccount.createAccount(eu,ed,this.initialBalance)})}}ed.LocalAccountCreator=e_;class eE extends ew{constructor(eu,ed){super(),this.connection=eu,this.helperUrl=ed}createAccount(eu,ed){return em(this,void 0,void 0,function*(){yield(0,eb.fetchJson)(`${this.helperUrl}/account`,JSON.stringify({newAccountId:eu,newAccountPublicKey:ed.toString()}))})}}ed.UrlAccountCreator=eE},36010:function(eu,ed,eg){"use strict";var em,eb=eg(48834).Buffer,ew=this&&this.__awaiter||function(eu,ed,eg,em){function eb(eu){return eu instanceof eg?eu:new eg(function(ed){ed(eu)})}return new(eg||(eg=Promise))(function(eg,ew){function e_(eu){try{eA(em.next(eu))}catch(eu){ew(eu)}}function eE(eu){try{eA(em.throw(eu))}catch(eu){ew(eu)}}function eA(eu){eu.done?eg(eu.value):eb(eu.value).then(e_,eE)}eA((em=em.apply(eu,ed||[])).next())})};Object.defineProperty(ed,"__esModule",{value:!0}),ed.AccountMultisig=void 0;let e_=eg(42787),eE=eg(56035),eA=eg(67482),eS=eg(92762),eI=eg(66824),{deployContract:eC,functionCall:eM}=e_.actionCreators;!function(eu){eu[eu.INVALID_CODE=0]="INVALID_CODE",eu[eu.VALID_CODE=1]="VALID_CODE",eu[eu.UNKNOWN_CODE=2]="UNKNOWN_CODE"}(em||(em={}));let eO={[eS.MULTISIG_STORAGE_KEY]:null};class eT extends eA.Account{constructor(eu,ed,eg){super(eu,ed),this.storage=eg.storage,this.onAddRequestResult=eg.onAddRequestResult}signAndSendTransactionWithAccount(eu,ed){let eg=Object.create(null,{signAndSendTransaction:{get:()=>super.signAndSendTransaction}});return ew(this,void 0,void 0,function*(){return eg.signAndSendTransaction.call(this,{receiverId:eu,actions:ed})})}signAndSendTransaction({receiverId:eu,actions:ed}){let eg=Object.create(null,{signAndSendTransaction:{get:()=>super.signAndSendTransaction}});return ew(this,void 0,void 0,function*(){let em;let{accountId:ew}=this,e_=eb.from(JSON.stringify({request:{receiver_id:eu,actions:eN(ed,ew,eu)}}));try{em=yield eg.signAndSendTransaction.call(this,{receiverId:ew,actions:[eM("add_request_and_confirm",e_,eS.MULTISIG_GAS,eS.MULTISIG_DEPOSIT)]})}catch(eg){if(eg.toString().includes("Account has too many active requests. Confirm or delete some"))return yield this.deleteUnconfirmedRequests(),yield this.signAndSendTransaction({receiverId:eu,actions:ed});throw eg}if(!em.status)throw Error("Request failed");let eE=Object.assign({},em.status);if(!eE.SuccessValue||"string"!=typeof eE.SuccessValue)throw Error("Request failed");return this.setRequest({accountId:ew,actions:ed,requestId:parseInt(eb.from(eE.SuccessValue,"base64").toString("ascii"),10)}),this.onAddRequestResult&&(yield this.onAddRequestResult(em)),this.deleteUnconfirmedRequests(),em})}checkMultisigCodeAndStateStatus(eu){let ed=Object.create(null,{signAndSendTransaction:{get:()=>super.signAndSendTransaction}});return ew(this,void 0,void 0,function*(){let eg=4294967295,eb=eu?em.UNKNOWN_CODE:em.VALID_CODE;try{return eu?yield ed.signAndSendTransaction.call(this,{receiverId:this.accountId,actions:[eC(eu),eM("delete_request",{request_id:eg},eS.MULTISIG_GAS,eS.MULTISIG_DEPOSIT)]}):yield this.deleteRequest(eg),{codeStatus:em.VALID_CODE,stateStatus:eI.MultisigStateStatus.VALID_STATE}}catch(eu){if(new RegExp(eI.MultisigDeleteRequestRejectionError.CANNOT_DESERIALIZE_STATE).test(eu&&eu.kind&&eu.kind.ExecutionError))return{codeStatus:eb,stateStatus:eI.MultisigStateStatus.INVALID_STATE};if(new RegExp(eI.MultisigDeleteRequestRejectionError.MULTISIG_NOT_INITIALIZED).test(eu&&eu.kind&&eu.kind.ExecutionError))return{codeStatus:eb,stateStatus:eI.MultisigStateStatus.STATE_NOT_INITIALIZED};if(new RegExp(eI.MultisigDeleteRequestRejectionError.NO_SUCH_REQUEST).test(eu&&eu.kind&&eu.kind.ExecutionError))return{codeStatus:eb,stateStatus:eI.MultisigStateStatus.VALID_STATE};if(new RegExp(eI.MultisigDeleteRequestRejectionError.METHOD_NOT_FOUND).test(eu&&eu.message))return{codeStatus:em.INVALID_CODE,stateStatus:eI.MultisigStateStatus.UNKNOWN_STATE};throw eu}})}deleteRequest(eu){return super.signAndSendTransaction({receiverId:this.accountId,actions:[eM("delete_request",{request_id:eu},eS.MULTISIG_GAS,eS.MULTISIG_DEPOSIT)]})}deleteAllRequests(){return ew(this,void 0,void 0,function*(){let eu=yield this.getRequestIds();eu.length&&(yield Promise.all(eu.map(eu=>this.deleteRequest(eu))))})}deleteUnconfirmedRequests(){let eu=Object.create(null,{signAndSendTransaction:{get:()=>super.signAndSendTransaction}});return ew(this,void 0,void 0,function*(){let ed=yield this.getRequestIds(),{requestId:eg}=this.getRequest();for(let em of ed)if(em!=eg)try{yield eu.signAndSendTransaction.call(this,{receiverId:this.accountId,actions:[eM("delete_request",{request_id:em},eS.MULTISIG_GAS,eS.MULTISIG_DEPOSIT)]})}catch(eu){eE.Logger.warn("Attempt to delete an earlier request before 15 minutes failed. Will try again.")}})}getRequestIds(){return ew(this,void 0,void 0,function*(){return this.viewFunction({contractId:this.accountId,methodName:"list_request_ids"})})}getRequest(){return this.storage?JSON.parse(this.storage.getItem(eS.MULTISIG_STORAGE_KEY)||"{}"):eO[eS.MULTISIG_STORAGE_KEY]}setRequest(eu){if(this.storage)return this.storage.setItem(eS.MULTISIG_STORAGE_KEY,JSON.stringify(eu));eO[eS.MULTISIG_STORAGE_KEY]=eu}}ed.AccountMultisig=eT;let eP=eu=>eu.toString().replace("ed25519:",""),eN=(eu,ed,eg)=>eu.map(eu=>{let em=eu.enum,{gas:ew,publicKey:e_,methodName:eE,args:eA,deposit:eI,accessKey:eC,code:eM}=eu[em],eO={type:em[0].toUpperCase()+em.substr(1),gas:ew&&ew.toString()||void 0,public_key:e_&&eP(e_)||void 0,method_name:eE,args:eA&&eb.from(eA).toString("base64")||void 0,code:eM&&eb.from(eM).toString("base64")||void 0,amount:eI&&eI.toString()||void 0,deposit:eI&&eI.toString()||"0",permission:void 0};if(eC&&(eg===ed&&"fullAccess"!==eC.permission.enum&&(eO.permission={receiver_id:ed,allowance:eS.MULTISIG_ALLOWANCE.toString(),method_names:eS.MULTISIG_CHANGE_METHODS}),"functionCall"===eC.permission.enum)){let{receiverId:eu,methodNames:ed,allowance:eg}=eC.permission.functionCall;eO.permission={receiver_id:eu,allowance:eg&&eg.toString()||void 0,method_names:ed}}return eO})},5726:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.Connection=void 0;let em=eg(43575),eb=eg(36551);function ew(eu){switch(eu.type){case void 0:return eu;case"JsonRpcProvider":return new eb.JsonRpcProvider(Object.assign({},eu.args));case"FailoverRpcProvider":{let ed=((null==eu?void 0:eu.args)||[]).map(eu=>new eb.JsonRpcProvider(eu));return new eb.FailoverRpcProvider(ed)}default:throw Error(`Unknown provider type ${eu.type}`)}}function e_(eu){switch(eu.type){case void 0:return eu;case"InMemorySigner":return new em.InMemorySigner(eu.keyStore);default:throw Error(`Unknown signer type ${eu.type}`)}}class eE{constructor(eu,ed,eg,em){this.networkId=eu,this.provider=ed,this.signer=eg,this.jsvmAccountId=em}getConnection(){return this}static fromConfig(eu){let ed=ew(eu.provider),eg=e_(eu.signer);return new eE(eu.networkId,ed,eg,eu.jsvmAccountId)}}ed.Connection=eE},92762:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.MULTISIG_CONFIRM_METHODS=ed.MULTISIG_CHANGE_METHODS=ed.MULTISIG_DEPOSIT=ed.MULTISIG_GAS=ed.MULTISIG_ALLOWANCE=ed.MULTISIG_STORAGE_KEY=void 0;let em=eg(56035);ed.MULTISIG_STORAGE_KEY="__multisigRequest",ed.MULTISIG_ALLOWANCE=BigInt((0,em.parseNearAmount)("1")),ed.MULTISIG_GAS=BigInt("100000000000000"),ed.MULTISIG_DEPOSIT=BigInt("0"),ed.MULTISIG_CHANGE_METHODS=["add_request","add_request_and_confirm","delete_request","confirm"],ed.MULTISIG_CONFIRM_METHODS=["confirm"]},30556:function(eu,ed,eg){"use strict";var em=this&&this.__awaiter||function(eu,ed,eg,em){function eb(eu){return eu instanceof eg?eu:new eg(function(ed){ed(eu)})}return new(eg||(eg=Promise))(function(eg,ew){function e_(eu){try{eA(em.next(eu))}catch(eu){ew(eu)}}function eE(eu){try{eA(em.throw(eu))}catch(eu){ew(eu)}}function eA(eu){eu.done?eg(eu.value):eb(eu.value).then(e_,eE)}eA((em=em.apply(eu,ed||[])).next())})},eb=this&&this.__importDefault||function(eu){return eu&&eu.__esModule?eu:{default:eu}};Object.defineProperty(ed,"__esModule",{value:!0}),ed.Contract=void 0;let ew=eg(56035),e_=eg(73795),eE=eg(24567),eA=eb(eg(60772)),eS=eb(eg(64410)),eI=eg(37389),eC=eg(67482),eM=eg(24494),eO=eg(5978);function eT(eu,ed){return({[eu]:(...eu)=>ed(...eu)})[eu]}function eP(eu,ed,eg){var em;if(!ek(eu))return;if(ed.params&&ed.params.serialization_type!==eI.AbiSerializationType.Json)throw new eM.UnsupportedSerializationError(ed.name,ed.params.serialization_type);if(ed.result&&ed.result.serialization_type!==eI.AbiSerializationType.Json)throw new eM.UnsupportedSerializationError(ed.name,ed.result.serialization_type);let eb=(null===(em=ed.params)||void 0===em?void 0:em.args)||[];for(let ed of eb){let em=eu[ed.name],eb=ed.type_schema;eb.definitions=eg.body.root_schema.definitions;let ew=(0,eA.default)(eb),e_=ew(em);if(!e_)throw new eM.ArgumentSchemaError(ed.name,ew.errors)}for(let ed of Object.keys(eu)){let eu=eb.find(eu=>eu.name===ed);if(!eu)throw new eM.UnknownArgumentError(ed,eb.map(eu=>eu.name))}}let eN=eu=>eu&&void 0!==eu.byteLength&&eu.byteLength===eu.length,ek=eu=>"[object Object]"===Object.prototype.toString.call(eu);class eR{constructor(eu,ed,eg){if(this.connection=eu.getConnection(),eu instanceof eC.Account){let ed=(0,eS.default)("new Contract(account, contractId, options)");ed("use `new Contract(connection, contractId, options)` instead"),this.account=eu}this.contractId=ed,this.lve=new eE.LocalViewExecution(eu);let{viewMethods:eb=[],changeMethods:eA=[],abi:eR,useLocalViewExecution:eD}=eg,eB=eb.map(eu=>({name:eu,abi:null})),eU=eA.map(eu=>({name:eu,abi:null}));if(eR){if(eB.length>0||eU.length>0)throw new eM.ConflictingOptions;eB=eR.body.functions.filter(eu=>eu.kind===eI.AbiFunctionKind.View).map(eu=>({name:eu.name,abi:eu})),eU=eR.body.functions.filter(eu=>eu.kind===eI.AbiFunctionKind.Call).map(eu=>({name:eu.name,abi:eu}))}eB.forEach(({name:eu,abi:ed})=>{Object.defineProperty(this,eu,{writable:!1,enumerable:!0,value:eT(eu,(eg={},eb={},...eE)=>em(this,void 0,void 0,function*(){if(eE.length||!(ek(eg)||eN(eg))||!ek(eb))throw new e_.PositionalArgsError;if(ed&&eP(eg,ed,eR),eD)try{return yield this.lve.viewFunction(Object.assign({contractId:this.contractId,methodName:eu,args:eg},eb))}catch(eu){ew.Logger.warn(`Local view execution failed with: "${eu.message}"`),ew.Logger.warn("Fallback to normal RPC call")}return this.account?this.account.viewFunction(Object.assign({contractId:this.contractId,methodName:eu,args:eg},eb)):(0,eO.viewFunction)(this.connection,Object.assign({contractId:this.contractId,methodName:eu,args:eg},eb))}))})}),eU.forEach(({name:eu,abi:ed})=>{Object.defineProperty(this,eu,{writable:!1,enumerable:!0,value:eT(eu,(...eg)=>em(this,void 0,void 0,function*(){if(eg.length&&(eg.length>3||!(ek(eg[0])||eN(eg[0]))))throw new e_.PositionalArgsError;if(eg.length>1||!(eg[0]&&eg[0].args)){let eu=(0,eS.default)("contract.methodName(args, gas, amount)");eu("use `contract.methodName({ signerAccount, args, gas?, amount?, callbackUrl?, meta? })` instead"),eg[0]={args:eg[0],gas:eg[1],amount:eg[2]}}return ed&&eP(eg[0].args,ed,eR),this._changeMethod(Object.assign({methodName:eu},eg[0]))}))})})}_changeMethod({signerAccount:eu,args:ed,methodName:eg,gas:eb,amount:e_,meta:eE,callbackUrl:eA}){return em(this,void 0,void 0,function*(){eD({gas:eb,amount:e_});let em=this.account||eu;if(!em)throw Error("signerAccount must be specified");let eS=yield em.functionCall({contractId:this.contractId,methodName:eg,args:ed,gas:eb,attachedDeposit:e_,walletMeta:eE,walletCallbackUrl:eA});return(0,ew.getTransactionLastResult)(eS)})}}function eD(eu){let ed="number, decimal string or BigInt";for(let eg of Object.keys(eu)){let em=eu[eg];if(em&&"bigint"!=typeof em&&isNaN(em))throw new e_.ArgumentTypeError(eg,ed,em)}}ed.Contract=eR},24494:function(eu,ed){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.ConflictingOptions=ed.ArgumentSchemaError=ed.UnknownArgumentError=ed.UnsupportedSerializationError=void 0;class eg extends Error{constructor(eu,ed){super(`Contract method '${eu}' is using an unsupported serialization type ${ed}`)}}ed.UnsupportedSerializationError=eg;class em extends Error{constructor(eu,ed){super(`Unrecognized argument '${eu}', expected '${JSON.stringify(ed)}'`)}}ed.UnknownArgumentError=em;class eb extends Error{constructor(eu,ed){super(`Argument '${eu}' does not conform to the specified ABI schema: '${JSON.stringify(ed)}'`)}}ed.ArgumentSchemaError=eb;class ew extends Error{constructor(){super("Conflicting contract method options have been passed. You can either specify ABI or a list of view/call methods.")}}ed.ConflictingOptions=ew},54285:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.MultisigStateStatus=ed.MultisigDeleteRequestRejectionError=ed.UnsupportedSerializationError=ed.UnknownArgumentError=ed.ConflictingOptions=ed.ArgumentSchemaError=ed.Contract=ed.MULTISIG_CONFIRM_METHODS=ed.MULTISIG_CHANGE_METHODS=ed.MULTISIG_DEPOSIT=ed.MULTISIG_GAS=ed.MULTISIG_ALLOWANCE=ed.MULTISIG_STORAGE_KEY=ed.Connection=ed.AccountMultisig=ed.UrlAccountCreator=ed.LocalAccountCreator=ed.AccountCreator=ed.Account2FA=ed.Account=void 0;var em=eg(67482);Object.defineProperty(ed,"Account",{enumerable:!0,get:function(){return em.Account}});var eb=eg(857);Object.defineProperty(ed,"Account2FA",{enumerable:!0,get:function(){return eb.Account2FA}});var ew=eg(11691);Object.defineProperty(ed,"AccountCreator",{enumerable:!0,get:function(){return ew.AccountCreator}}),Object.defineProperty(ed,"LocalAccountCreator",{enumerable:!0,get:function(){return ew.LocalAccountCreator}}),Object.defineProperty(ed,"UrlAccountCreator",{enumerable:!0,get:function(){return ew.UrlAccountCreator}});var e_=eg(36010);Object.defineProperty(ed,"AccountMultisig",{enumerable:!0,get:function(){return e_.AccountMultisig}});var eE=eg(5726);Object.defineProperty(ed,"Connection",{enumerable:!0,get:function(){return eE.Connection}});var eA=eg(92762);Object.defineProperty(ed,"MULTISIG_STORAGE_KEY",{enumerable:!0,get:function(){return eA.MULTISIG_STORAGE_KEY}}),Object.defineProperty(ed,"MULTISIG_ALLOWANCE",{enumerable:!0,get:function(){return eA.MULTISIG_ALLOWANCE}}),Object.defineProperty(ed,"MULTISIG_GAS",{enumerable:!0,get:function(){return eA.MULTISIG_GAS}}),Object.defineProperty(ed,"MULTISIG_DEPOSIT",{enumerable:!0,get:function(){return eA.MULTISIG_DEPOSIT}}),Object.defineProperty(ed,"MULTISIG_CHANGE_METHODS",{enumerable:!0,get:function(){return eA.MULTISIG_CHANGE_METHODS}}),Object.defineProperty(ed,"MULTISIG_CONFIRM_METHODS",{enumerable:!0,get:function(){return eA.MULTISIG_CONFIRM_METHODS}});var eS=eg(30556);Object.defineProperty(ed,"Contract",{enumerable:!0,get:function(){return eS.Contract}});var eI=eg(24494);Object.defineProperty(ed,"ArgumentSchemaError",{enumerable:!0,get:function(){return eI.ArgumentSchemaError}}),Object.defineProperty(ed,"ConflictingOptions",{enumerable:!0,get:function(){return eI.ConflictingOptions}}),Object.defineProperty(ed,"UnknownArgumentError",{enumerable:!0,get:function(){return eI.UnknownArgumentError}}),Object.defineProperty(ed,"UnsupportedSerializationError",{enumerable:!0,get:function(){return eI.UnsupportedSerializationError}});var eC=eg(66824);Object.defineProperty(ed,"MultisigDeleteRequestRejectionError",{enumerable:!0,get:function(){return eC.MultisigDeleteRequestRejectionError}}),Object.defineProperty(ed,"MultisigStateStatus",{enumerable:!0,get:function(){return eC.MultisigStateStatus}})},24567:function(eu,ed,eg){"use strict";var em=eg(48834).Buffer,eb=this&&this.__awaiter||function(eu,ed,eg,em){function eb(eu){return eu instanceof eg?eu:new eg(function(ed){ed(eu)})}return new(eg||(eg=Promise))(function(eg,ew){function e_(eu){try{eA(em.next(eu))}catch(eu){ew(eu)}}function eE(eu){try{eA(em.throw(eu))}catch(eu){ew(eu)}}function eA(eu){eu.done?eg(eu.value):eb(eu.value).then(e_,eE)}eA((em=em.apply(eu,ed||[])).next())})},ew=this&&this.__rest||function(eu,ed){var eg={};for(var em in eu)Object.prototype.hasOwnProperty.call(eu,em)&&0>ed.indexOf(em)&&(eg[em]=eu[em]);if(null!=eu&&"function"==typeof Object.getOwnPropertySymbols)for(var eb=0,em=Object.getOwnPropertySymbols(eu);eb<em.length;eb++)0>ed.indexOf(em[eb])&&Object.prototype.propertyIsEnumerable.call(eu,em[eb])&&(eg[em[eb]]=eu[em[eb]]);return eg};Object.defineProperty(ed,"__esModule",{value:!0}),ed.LocalViewExecution=void 0;let e_=eg(56035),eE=eg(34685),eA=eg(67026),eS=eg(5978);class eI{constructor(eu){this.connection=eu.getConnection(),this.storage=new eE.Storage}fetchContractCode(eu,ed){return eb(this,void 0,void 0,function*(){let eg=yield this.connection.provider.query(Object.assign({request_type:"view_code",account_id:eu},ed));return eg.code_base64})}fetchContractState(eu,ed){return eb(this,void 0,void 0,function*(){return(0,eS.viewState)(this.connection,eu,"",ed)})}fetch(eu,ed){return eb(this,void 0,void 0,function*(){let eg=yield this.connection.provider.block(ed),em=eg.header.hash,eb=eg.header.height,ew=eg.header.timestamp,e_=yield this.fetchContractCode(eu,ed),eE=yield this.fetchContractState(eu,ed);return{blockHash:em,blockHeight:eb,blockTimestamp:ew,contractCode:e_,contractState:eE}})}loadOrFetch(eu,ed){return eb(this,void 0,void 0,function*(){let eg=this.storage.load(ed);if(eg)return eg;let em=yield this.fetch(eu,ed),{blockHash:eb}=em,e_=ew(em,["blockHash"]);return this.storage.save(eb,e_),e_})}viewFunction(eu){var{contractId:ed,methodName:eg,args:eE={},blockQuery:eS={finality:"optimistic"}}=eu;return ew(eu,["contractId","methodName","args","blockQuery"]),eb(this,void 0,void 0,function*(){let eu=JSON.stringify(eE),{contractCode:eb,contractState:ew,blockHeight:eI,blockTimestamp:eC}=yield this.loadOrFetch(ed,eS),eM=new eA.Runtime({contractId:ed,contractCode:eb,contractState:ew,blockHeight:eI,blockTimestamp:eC,methodArgs:eu}),{result:eO,logs:eT}=yield eM.execute(eg);return eT&&(0,e_.printTxOutcomeLogs)({contractId:ed,logs:eT}),JSON.parse(em.from(eO).toString())})}}ed.LocalViewExecution=eI},67026:function(eu,ed,eg){"use strict";var em=eg(48834).Buffer,eb=this&&this.__awaiter||function(eu,ed,eg,em){function eb(eu){return eu instanceof eg?eu:new eg(function(ed){ed(eu)})}return new(eg||(eg=Promise))(function(eg,ew){function e_(eu){try{eA(em.next(eu))}catch(eu){ew(eu)}}function eE(eu){try{eA(em.throw(eu))}catch(eu){ew(eu)}}function eA(eu){eu.done?eg(eu.value):eb(eu.value).then(e_,eE)}eA((em=em.apply(eu,ed||[])).next())})},ew=this&&this.__rest||function(eu,ed){var eg={};for(var em in eu)Object.prototype.hasOwnProperty.call(eu,em)&&0>ed.indexOf(em)&&(eg[em]=eu[em]);if(null!=eu&&"function"==typeof Object.getOwnPropertySymbols)for(var eb=0,em=Object.getOwnPropertySymbols(eu);eb<em.length;eb++)0>ed.indexOf(em[eb])&&Object.prototype.propertyIsEnumerable.call(eu,em[eb])&&(eg[em[eb]]=eu[em[eb]]);return eg};Object.defineProperty(ed,"__esModule",{value:!0}),ed.Runtime=void 0;let e_=eg(5634),eE=eu=>()=>{throw Error("method not implemented: "+eu)},eA=eu=>()=>{throw Error("method not available for view calls: "+eu)};class eS{constructor(eu){var{contractCode:ed}=eu,eg=ew(eu,["contractCode"]);this.context=eg,this.wasm=this.prepareWASM(em.from(ed,"base64")),this.memory=new WebAssembly.Memory({initial:1024,maximum:2048}),this.registers={},this.logs=[],this.result=em.from([])}readUTF16CStr(eu){let ed=[],eg=new Uint16Array(this.memory.buffer),eb=Number(eu)/2;for(;0!=eg[eb];)ed.push(eg[eb]),eb++;return em.from(Uint16Array.from(ed).buffer).toString("ucs2")}readUTF8CStr(eu,ed){let eg=[],eb=new Uint8Array(this.memory.buffer),ew=Number(ed);for(let ed=0;ed<eu&&0!=eb[ew];ed++)eg.push(eb[ew]),ew++;return em.from(eg).toString("utf8")}storageRead(eu,ed){let eg=em.from(new Uint8Array(this.memory.buffer,Number(ed),Number(eu))),eb=this.context.contractState.filter(eu=>0===em.compare(eu.key,eg)).map(eu=>eu.value);return 0===eb.length?null:eb.length>1?eb:eb[0]}prepareWASM(eu){let ed=[],eg=eu.subarray(0,4);if("\x00asm"!==eg.toString("utf8"))throw Error("Invalid magic number");let eb=eu.readUInt32LE(4);if(1!=eb)throw Error("Invalid version: "+eb);let ew=8;function e_(){let ed,eg=0,em=0;do eg|=(127&(ed=eu[ew++]))<<em,em+=7;while(128&ed);return eg}function eE(){let ed=eu[ew++],eg=1&ed,em=e_(),eb=eg?e_():null;return{initial:em,max:eb}}function eA(){let ed=e_(),eg=eu.subarray(ew,ew+ed);return ew+=ed,eg.toString("utf8")}function eS(eu){let ed=[];do{let eg=127&eu;0!=(eu>>=7)&&(eg|=128),ed.push(eg)}while(0!==eu);return em.from(ed)}function eI(eu){let ed=em.from(eu,"utf8");return em.concat([eS(ed.length),ed])}ed.push(eu.subarray(0,ew));do{let eg=ew,eb=eu.readUInt8(ew);ew++;let eC=e_(),eM=ew+eC;if(5==eb)ed.push(em.from([5,1,0]));else if(2==eb){let eg=[],eb=e_();for(let ed=0;ed<eb;ed++){let ed=ew;eA(),eA();let em=eu.readUInt8(ew);ew++;let eb=!1;switch(em){case 0:e_();break;case 1:ew++,eE();break;case 2:eE(),eb=!0;break;case 3:ew++,ew++;break;default:throw Error("Invalid import kind: "+em)}eb||eg.push(eu.subarray(ed,ew))}let eC=em.concat([eI("env"),eI("memory"),em.from([2]),em.from([0]),eS(1)]);eg.push(eC);let eM=em.concat([eS(eg.length),...eg]);ed.push(em.concat([em.from([2]),eS(eM.length),eM]))}else if(7==eb){let eg=[],eb=e_();for(let ed=0;ed<eb;ed++){let ed=ew;eA();let em=eu.readUInt8(ew);ew++,e_(),2!==em&&eg.push(eu.subarray(ed,ew))}let eE=em.concat([eS(eg.length),...eg]);ed.push(em.concat([em.from([7]),eS(eE.length),eE]))}else ed.push(eu.subarray(eg,eM));ew=eM}while(ew<eu.length);return em.concat(ed)}getRegisterLength(eu){return BigInt(this.registers[eu.toString()]?this.registers[eu.toString()].length:Number.MAX_SAFE_INTEGER)}readFromRegister(eu,ed){let eg=new Uint8Array(this.memory.buffer);eg.set(this.registers[eu.toString()]||em.from([]),Number(ed))}getCurrentAccountId(eu){this.registers[eu.toString()]=em.from(this.context.contractId)}inputMethodArgs(eu){this.registers[eu.toString()]=em.from(this.context.methodArgs)}getBlockHeight(){return BigInt(this.context.blockHeight)}getBlockTimestamp(){return BigInt(this.context.blockTimestamp)}sha256(eu,ed,eg){let em=new Uint8Array(this.memory.buffer,Number(ed),Number(eu)),eb=(0,e_.createHash)("sha256");eb.update(em),this.registers[eg.toString()]=eb.digest()}returnValue(eu,ed){this.result=em.from(new Uint8Array(this.memory.buffer,Number(ed),Number(eu)))}panic(eu){throw Error("panic: "+eu)}abort(eu,ed,eg,em){let eb=this.readUTF16CStr(eu),ew=this.readUTF16CStr(ed),e_=`${eb} ${ew}:${eg}:${em}`;if(!eb||!ew)throw Error("abort: String encoding is bad UTF-16 sequence.");throw Error("abort: "+e_)}appendToLog(eu,ed){this.logs.push(this.readUTF8CStr(eu,ed))}readStorage(eu,ed,eg){let em=this.storageRead(eu,ed);return null==em?BigInt(0):(this.registers[eg]=em,BigInt(1))}hasStorageKey(eu,ed){let eg=this.storageRead(eu,ed);return null==eg?BigInt(0):BigInt(1)}getHostImports(){return{register_len:this.getRegisterLength.bind(this),read_register:this.readFromRegister.bind(this),current_account_id:this.getCurrentAccountId.bind(this),input:this.inputMethodArgs.bind(this),block_index:this.getBlockHeight.bind(this),block_timestamp:this.getBlockTimestamp.bind(this),sha256:this.sha256.bind(this),value_return:this.returnValue.bind(this),abort:this.abort.bind(this),log_utf8:this.appendToLog.bind(this),log_utf16:this.appendToLog.bind(this),storage_read:this.readStorage.bind(this),storage_has_key:this.hasStorageKey.bind(this),panic:()=>this.panic("explicit guest panic"),panic_utf8:(eu,ed)=>this.panic(this.readUTF8CStr(eu,ed)),epoch_height:eE("epoch_height"),storage_usage:eE("storage_usage"),account_balance:eE("account_balance"),account_locked_balance:eE("account_locked_balance"),random_seed:eE("random_seed"),ripemd160:eE("ripemd160"),keccak256:eE("keccak256"),keccak512:eE("keccak512"),ecrecover:eE("ecrecover"),validator_stake:eE("validator_stake"),validator_total_stake:eE("validator_total_stake"),write_register:eA("write_register"),signer_account_id:eA("signer_account_id"),signer_account_pk:eA("signer_account_pk"),predecessor_account_id:eA("predecessor_account_id"),attached_deposit:eA("attached_deposit"),prepaid_gas:eA("prepaid_gas"),used_gas:eA("used_gas"),promise_create:eA("promise_create"),promise_then:eA("promise_then"),promise_and:eA("promise_and"),promise_batch_create:eA("promise_batch_create"),promise_batch_then:eA("promise_batch_then"),promise_batch_action_create_account:eA("promise_batch_action_create_account"),promise_batch_action_deploy_contract:eA("promise_batch_action_deploy_contract"),promise_batch_action_function_call:eA("promise_batch_action_function_call"),promise_batch_action_function_call_weight:eA("promise_batch_action_function_call_weight"),promise_batch_action_transfer:eA("promise_batch_action_transfer"),promise_batch_action_stake:eA("promise_batch_action_stake"),promise_batch_action_add_key_with_full_access:eA("promise_batch_action_add_key_with_full_access"),promise_batch_action_add_key_with_function_call:eA("promise_batch_action_add_key_with_function_call"),promise_batch_action_delete_key:eA("promise_batch_action_delete_key"),promise_batch_action_delete_account:eA("promise_batch_action_delete_account"),promise_results_count:eA("promise_results_count"),promise_result:eA("promise_result"),promise_return:eA("promise_return"),storage_write:eA("storage_write"),storage_remove:eA("storage_remove")}}execute(eu){return eb(this,void 0,void 0,function*(){let ed=yield WebAssembly.compile(this.wasm),eg=yield WebAssembly.instantiate(ed,{env:Object.assign(Object.assign({},this.getHostImports()),{memory:this.memory})}),em=eg.exports[eu];if(void 0==em)throw Error(`Contract method '${eu}' does not exists in contract ${this.context.contractId} for block id ${this.context.blockHeight}`);return em(),{result:this.result,logs:this.logs}})}}ed.Runtime=eS},34685:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.Storage=void 0;let em=eg(41427);class eb{constructor(eu={max:eb.MAX_ELEMENTS}){this.cache=new em.LRUMap(eu.max),this.blockHeights=new Map}load(eu){let ed=!("blockId"in eu);if(ed)return;let eg=eu.blockId;return 44==eg.toString().length&&(eg=this.blockHeights.get(eg.toString())),this.cache.get(eg)}save(eu,{blockHeight:ed,blockTimestamp:eg,contractCode:em,contractState:eb}){this.blockHeights.set(eu,ed),this.cache.set(ed,{blockHeight:ed,blockTimestamp:eg,contractCode:em,contractState:eb})}}ed.Storage=eb,eb.MAX_ELEMENTS=100},66824:function(eu,ed){"use strict";var eg,em;Object.defineProperty(ed,"__esModule",{value:!0}),ed.MultisigStateStatus=ed.MultisigDeleteRequestRejectionError=void 0,function(eu){eu.CANNOT_DESERIALIZE_STATE="Cannot deserialize the contract state",eu.MULTISIG_NOT_INITIALIZED="Smart contract panicked: Multisig contract should be initialized before usage",eu.NO_SUCH_REQUEST="Smart contract panicked: panicked at 'No such request: either wrong number or already confirmed'",eu.REQUEST_COOLDOWN_ERROR="Request cannot be deleted immediately after creation.",eu.METHOD_NOT_FOUND="Contract method is not found"}(eg=ed.MultisigDeleteRequestRejectionError||(ed.MultisigDeleteRequestRejectionError={})),function(eu){eu[eu.INVALID_STATE=0]="INVALID_STATE",eu[eu.STATE_NOT_INITIALIZED=1]="STATE_NOT_INITIALIZED",eu[eu.VALID_STATE=2]="VALID_STATE",eu[eu.UNKNOWN_STATE=3]="UNKNOWN_STATE"}(em=ed.MultisigStateStatus||(ed.MultisigStateStatus={}))},5978:function(eu,ed,eg){"use strict";var em=eg(48834).Buffer,eb=this&&this.__awaiter||function(eu,ed,eg,em){function eb(eu){return eu instanceof eg?eu:new eg(function(ed){ed(eu)})}return new(eg||(eg=Promise))(function(eg,ew){function e_(eu){try{eA(em.next(eu))}catch(eu){ew(eu)}}function eE(eu){try{eA(em.throw(eu))}catch(eu){ew(eu)}}function eA(eu){eu.done?eg(eu.value):eb(eu.value).then(e_,eE)}eA((em=em.apply(eu,ed||[])).next())})};Object.defineProperty(ed,"__esModule",{value:!0}),ed.viewFunction=ed.viewState=ed.encodeJSContractArgs=ed.validateArgs=void 0;let ew=eg(73795),e_=eg(56035);function eE(eu){return JSON.parse(em.from(eu).toString())}function eA(eu){return em.from(JSON.stringify(eu))}function eS(eu){let ed=void 0!==eu.byteLength&&eu.byteLength===eu.length;if(!ed&&(Array.isArray(eu)||"object"!=typeof eu))throw new ew.PositionalArgsError}function eI(eu,ed,eg){return em.concat([em.from(eu),em.from([0]),em.from(ed),em.from([0]),em.from(eg)])}function eC(eu,ed,eg,ew={finality:"optimistic"}){return eb(this,void 0,void 0,function*(){let{values:eb}=yield eu.provider.query(Object.assign(Object.assign({request_type:"view_state"},ew),{account_id:ed,prefix_base64:em.from(eg).toString("base64")}));return eb.map(({key:eu,value:ed})=>({key:em.from(eu,"base64"),value:em.from(ed,"base64")}))})}function eM(eu,{contractId:ed,methodName:eg,args:ew={},parse:eC=eE,stringify:eM=eA,jsContract:eO=!1,blockQuery:eT={finality:"optimistic"}}){return eb(this,void 0,void 0,function*(){let eb;eS(ew),eb=eO?eI(ed,eg,Object.keys(ew).length>0?JSON.stringify(ew):""):eM(ew);let eE=yield eu.provider.query(Object.assign(Object.assign({request_type:"call_function"},eT),{account_id:eO?eu.jsvmAccountId:ed,method_name:eO?"view_js_contract":eg,args_base64:eb.toString("base64")}));return eE.logs&&(0,e_.printTxOutcomeLogs)({contractId:ed,logs:eE.logs}),eE.result&&eE.result.length>0&&eC(em.from(eE.result))})}ed.validateArgs=eS,ed.encodeJSContractArgs=eI,ed.viewState=eC,ed.viewFunction=eM},22269:function(eu,ed){"use strict";var eg,em;Object.defineProperty(ed,"__esModule",{value:!0}),ed.KeySize=ed.KeyType=void 0,function(eu){eu[eu.ED25519=0]="ED25519",eu[eu.SECP256K1=1]="SECP256K1"}(eg=ed.KeyType||(ed.KeyType={})),function(eu){eu[eu.SECRET_KEY=32]="SECRET_KEY",eu[eu.ED25519_PUBLIC_KEY=32]="ED25519_PUBLIC_KEY",eu[eu.SECP256k1_PUBLIC_KEY=64]="SECP256k1_PUBLIC_KEY"}(em=ed.KeySize||(ed.KeySize={}))},34327:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.PublicKey=ed.KeyPairSecp256k1=ed.KeyPairEd25519=ed.KeyPair=ed.KeyType=void 0;var em=eg(22269);Object.defineProperty(ed,"KeyType",{enumerable:!0,get:function(){return em.KeyType}});var eb=eg(92772);Object.defineProperty(ed,"KeyPair",{enumerable:!0,get:function(){return eb.KeyPair}});var ew=eg(32391);Object.defineProperty(ed,"KeyPairEd25519",{enumerable:!0,get:function(){return ew.KeyPairEd25519}});var e_=eg(69126);Object.defineProperty(ed,"KeyPairSecp256k1",{enumerable:!0,get:function(){return e_.KeyPairSecp256k1}});var eE=eg(86291);Object.defineProperty(ed,"PublicKey",{enumerable:!0,get:function(){return eE.PublicKey}})},92772:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.KeyPair=void 0;let em=eg(14992),eb=eg(32391),ew=eg(69126);class e_ extends em.KeyPairBase{static fromRandom(eu){switch(eu.toUpperCase()){case"ED25519":return eb.KeyPairEd25519.fromRandom();case"SECP256K1":return ew.KeyPairSecp256k1.fromRandom();default:throw Error(`Unknown curve ${eu}`)}}static fromString(eu){let ed=eu.split(":");if(2===ed.length)switch(ed[0].toUpperCase()){case"ED25519":return new eb.KeyPairEd25519(ed[1]);case"SECP256K1":return new ew.KeyPairSecp256k1(ed[1]);default:throw Error(`Unknown curve: ${ed[0]}`)}else throw Error("Invalid encoded key format, must be <curve>:<encoded key>")}}ed.KeyPair=e_},14992:function(eu,ed){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.KeyPairBase=void 0;class eg{}ed.KeyPairBase=eg},32391:function(eu,ed,eg){"use strict";var em=this&&this.__importDefault||function(eu){return eu&&eu.__esModule?eu:{default:eu}};Object.defineProperty(ed,"__esModule",{value:!0}),ed.KeyPairEd25519=void 0;let eb=eg(56035),ew=eg(97227),e_=em(eg(95003)),eE=eg(22269),eA=eg(14992),eS=eg(86291);class eI extends eA.KeyPairBase{constructor(eu){super();let ed=(0,eb.baseDecode)(eu),eg=new Uint8Array(ed.slice(0,eE.KeySize.SECRET_KEY)),em=ew.ed25519.getPublicKey(new Uint8Array(eg));this.publicKey=new eS.PublicKey({keyType:eE.KeyType.ED25519,data:em}),this.secretKey=(0,eb.baseEncode)(eg),this.extendedSecretKey=eu}static fromRandom(){let eu=(0,e_.default)(eE.KeySize.SECRET_KEY),ed=ew.ed25519.getPublicKey(new Uint8Array(eu)),eg=new Uint8Array([...eu,...ed]);return new eI((0,eb.baseEncode)(eg))}sign(eu){let ed=ew.ed25519.sign(eu,(0,eb.baseDecode)(this.secretKey));return{signature:ed,publicKey:this.publicKey}}verify(eu,ed){return this.publicKey.verify(eu,ed)}toString(){return`ed25519:${this.extendedSecretKey}`}getPublicKey(){return this.publicKey}}ed.KeyPairEd25519=eI},69126:function(eu,ed,eg){"use strict";var em=this&&this.__importDefault||function(eu){return eu&&eu.__esModule?eu:{default:eu}};Object.defineProperty(ed,"__esModule",{value:!0}),ed.KeyPairSecp256k1=void 0;let eb=eg(22269),ew=eg(14992),e_=eg(86291),eE=em(eg(62709)),eA=em(eg(95003)),eS=eg(56035);class eI extends ew.KeyPairBase{constructor(eu){super();let ed=(0,eS.baseDecode)(eu),eg=new Uint8Array(ed.slice(0,eb.KeySize.SECRET_KEY)),em=eE.default.publicKeyCreate(new Uint8Array(eg),!1),ew=em.subarray(1,em.length);this.publicKey=new e_.PublicKey({keyType:eb.KeyType.SECP256K1,data:ew}),this.secretKey=(0,eS.baseEncode)(eg),this.extendedSecretKey=eu}static fromRandom(){let eu=(0,eA.default)(eb.KeySize.SECRET_KEY),ed=eE.default.publicKeyCreate(new Uint8Array(eu),!1),eg=ed.subarray(1,ed.length),em=new Uint8Array([...eu,...eg]);return new eI((0,eS.baseEncode)(em))}sign(eu){let{signature:ed,recid:eg}=eE.default.ecdsaSign(eu,(0,eS.baseDecode)(this.secretKey));return{signature:new Uint8Array([...ed,eg]),publicKey:this.publicKey}}verify(eu,ed){return this.publicKey.verify(eu,ed)}toString(){return`secp256k1:${this.extendedSecretKey}`}getPublicKey(){return this.publicKey}}ed.KeyPairSecp256k1=eI},86291:function(eu,ed,eg){"use strict";var em=this&&this.__importDefault||function(eu){return eu&&eu.__esModule?eu:{default:eu}};Object.defineProperty(ed,"__esModule",{value:!0}),ed.PublicKey=void 0;let eb=eg(56035),ew=eg(97227),e_=em(eg(62709)),eE=eg(22269),eA=eg(73795);function eS(eu){switch(eu){case eE.KeyType.ED25519:return"ed25519";case eE.KeyType.SECP256K1:return"secp256k1";default:throw Error(`Unknown key type ${eu}`)}}function eI(eu){switch(eu.toLowerCase()){case"ed25519":return eE.KeyType.ED25519;case"secp256k1":return eE.KeyType.SECP256K1;default:throw Error(`Unknown key type ${eu}`)}}class eC extends eA.Assignable{constructor({keyType:eu,data:ed}){super({}),eu===eE.KeyType.ED25519?this.ed25519Key={keyType:eu,data:ed}:eu===eE.KeyType.SECP256K1&&(this.secp256k1Key={keyType:eu,data:ed})}static from(eu){return"string"==typeof eu?eC.fromString(eu):eu}static fromString(eu){let ed,eg;let em=eu.split(":");if(1===em.length)ed=em[0];else if(2===em.length)ed=em[1],eg=eI(em[0]);else throw Error("Invalid encoded key format, must be <curve>:<encoded key>");let ew=(0,eb.baseDecode)(ed);eg||(eg=ew.length===eE.KeySize.SECP256k1_PUBLIC_KEY?eE.KeyType.SECP256K1:eE.KeyType.ED25519);let e_=eg===eE.KeyType.ED25519?eE.KeySize.ED25519_PUBLIC_KEY:eE.KeySize.SECP256k1_PUBLIC_KEY;if(ew.length!==e_)throw Error(`Invalid public key size (${ew.length}), must be ${e_}`);return new eC({keyType:eg,data:ew})}toString(){let eu=(0,eb.baseEncode)(this.data);return`${eS(this.keyType)}:${eu}`}verify(eu,ed){let eg=this.keyType,em=this.data;switch(eg){case eE.KeyType.ED25519:return ew.ed25519.verify(ed,eu,em);case eE.KeyType.SECP256K1:return e_.default.ecdsaVerify(ed.subarray(0,64),eu,new Uint8Array([4,...em]));default:throw Error(`Unknown key type: ${eg}`)}}get keyPair(){return this.ed25519Key||this.secp256k1Key}get keyType(){return this.keyPair.keyType}get data(){return this.keyPair.data}}ed.PublicKey=eC},44313:function(eu,ed,eg){"use strict";var em=this&&this.__awaiter||function(eu,ed,eg,em){function eb(eu){return eu instanceof eg?eu:new eg(function(ed){ed(eu)})}return new(eg||(eg=Promise))(function(eg,ew){function e_(eu){try{eA(em.next(eu))}catch(eu){ew(eu)}}function eE(eu){try{eA(em.throw(eu))}catch(eu){ew(eu)}}function eA(eu){eu.done?eg(eu.value):eb(eu.value).then(e_,eE)}eA((em=em.apply(eu,ed||[])).next())})};Object.defineProperty(ed,"__esModule",{value:!0}),ed.BrowserLocalStorageKeyStore=void 0;let eb=eg(34327),ew=eg(56806),e_="near-api-js:keystore:";class eE extends ew.KeyStore{constructor(eu=window.localStorage,ed=e_){super(),this.localStorage=eu,this.prefix=ed}setKey(eu,ed,eg){return em(this,void 0,void 0,function*(){this.localStorage.setItem(this.storageKeyForSecretKey(eu,ed),eg.toString())})}getKey(eu,ed){return em(this,void 0,void 0,function*(){let eg=this.localStorage.getItem(this.storageKeyForSecretKey(eu,ed));return eg?eb.KeyPair.fromString(eg):null})}removeKey(eu,ed){return em(this,void 0,void 0,function*(){this.localStorage.removeItem(this.storageKeyForSecretKey(eu,ed))})}clear(){return em(this,void 0,void 0,function*(){for(let eu of this.storageKeys())eu.startsWith(this.prefix)&&this.localStorage.removeItem(eu)})}getNetworks(){return em(this,void 0,void 0,function*(){let eu=new Set;for(let ed of this.storageKeys())if(ed.startsWith(this.prefix)){let eg=ed.substring(this.prefix.length).split(":");eu.add(eg[1])}return Array.from(eu.values())})}getAccounts(eu){return em(this,void 0,void 0,function*(){let ed=[];for(let eg of this.storageKeys())if(eg.startsWith(this.prefix)){let em=eg.substring(this.prefix.length).split(":");em[1]===eu&&ed.push(em[0])}return ed})}storageKeyForSecretKey(eu,ed){return`${this.prefix}${ed}:${eu}`}*storageKeys(){for(let eu=0;eu<this.localStorage.length;eu++)yield this.localStorage.key(eu)}}ed.BrowserLocalStorageKeyStore=eE},88052:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.MultiContractBrowserLocalStorageKeyStore=ed.BrowserLocalStorageKeyStore=void 0;var em=eg(44313);Object.defineProperty(ed,"BrowserLocalStorageKeyStore",{enumerable:!0,get:function(){return em.BrowserLocalStorageKeyStore}});var eb=eg(20037);Object.defineProperty(ed,"MultiContractBrowserLocalStorageKeyStore",{enumerable:!0,get:function(){return eb.MultiContractBrowserLocalStorageKeyStore}})},20037:function(eu,ed,eg){"use strict";var em=this&&this.__awaiter||function(eu,ed,eg,em){function eb(eu){return eu instanceof eg?eu:new eg(function(ed){ed(eu)})}return new(eg||(eg=Promise))(function(eg,ew){function e_(eu){try{eA(em.next(eu))}catch(eu){ew(eu)}}function eE(eu){try{eA(em.throw(eu))}catch(eu){ew(eu)}}function eA(eu){eu.done?eg(eu.value):eb(eu.value).then(e_,eE)}eA((em=em.apply(eu,ed||[])).next())})};Object.defineProperty(ed,"__esModule",{value:!0}),ed.MultiContractBrowserLocalStorageKeyStore=void 0;let eb=eg(34327),ew=eg(56806),e_="near-api-js:keystore:";class eE extends ew.MultiContractKeyStore{constructor(eu=window.localStorage,ed=e_){super(),this.localStorage=eu,this.prefix=ed||e_}setKey(eu,ed,eg,eb){return em(this,void 0,void 0,function*(){this.localStorage.setItem(this.storageKeyForSecretKey(eu,ed,eb),eg.toString())})}getKey(eu,ed,eg){return em(this,void 0,void 0,function*(){let em=this.localStorage.getItem(this.storageKeyForSecretKey(eu,ed,eg));return em?eb.KeyPair.fromString(em):null})}removeKey(eu,ed,eg){return em(this,void 0,void 0,function*(){this.localStorage.removeItem(this.storageKeyForSecretKey(eu,ed,eg))})}clear(){return em(this,void 0,void 0,function*(){for(let eu of this.storageKeys())eu.startsWith(this.prefix)&&this.localStorage.removeItem(eu)})}getNetworks(){return em(this,void 0,void 0,function*(){let eu=new Set;for(let ed of this.storageKeys())if(ed.startsWith(this.prefix)){let eg=ed.substring(this.prefix.length).split(":");eu.add(eg[1])}return Array.from(eu.values())})}getAccounts(eu){return em(this,void 0,void 0,function*(){let ed=[];for(let eg of this.storageKeys())if(eg.startsWith(this.prefix)){let em=eg.substring(this.prefix.length).split(":");em[1]===eu&&ed.push(em[0])}return ed})}getContracts(eu,ed){return em(this,void 0,void 0,function*(){let eg=[];for(let em of this.storageKeys())if(em.startsWith(this.prefix)){let eb=em.substring(this.prefix.length).split(":");eb[1]===eu&&eb[0]===ed&&eg.push(eb[2])}return eg})}storageKeyForSecretKey(eu,ed,eg){return`${this.prefix}${ed}:${eu}:${eg}`}*storageKeys(){for(let eu=0;eu<this.localStorage.length;eu++)yield this.localStorage.key(eu)}}ed.MultiContractBrowserLocalStorageKeyStore=eE},60700:function(eu,ed,eg){"use strict";var em=this&&this.__awaiter||function(eu,ed,eg,em){function eb(eu){return eu instanceof eg?eu:new eg(function(ed){ed(eu)})}return new(eg||(eg=Promise))(function(eg,ew){function e_(eu){try{eA(em.next(eu))}catch(eu){ew(eu)}}function eE(eu){try{eA(em.throw(eu))}catch(eu){ew(eu)}}function eA(eu){eu.done?eg(eu.value):eb(eu.value).then(e_,eE)}eA((em=em.apply(eu,ed||[])).next())})};Object.defineProperty(ed,"__esModule",{value:!0}),ed.InMemoryKeyStore=void 0;let eb=eg(34327),ew=eg(32700);class e_ extends ew.KeyStore{constructor(){super(),this.keys={}}setKey(eu,ed,eg){return em(this,void 0,void 0,function*(){this.keys[`${ed}:${eu}`]=eg.toString()})}getKey(eu,ed){return em(this,void 0,void 0,function*(){let eg=this.keys[`${ed}:${eu}`];return eg?eb.KeyPair.fromString(eg):null})}removeKey(eu,ed){return em(this,void 0,void 0,function*(){delete this.keys[`${ed}:${eu}`]})}clear(){return em(this,void 0,void 0,function*(){this.keys={}})}getNetworks(){return em(this,void 0,void 0,function*(){let eu=new Set;return Object.keys(this.keys).forEach(ed=>{let eg=ed.split(":");eu.add(eg[1])}),Array.from(eu.values())})}getAccounts(eu){return em(this,void 0,void 0,function*(){let ed=[];return Object.keys(this.keys).forEach(eg=>{let em=eg.split(":");em[em.length-1]===eu&&ed.push(em.slice(0,em.length-1).join(":"))}),ed})}toString(){return"InMemoryKeyStore"}}ed.InMemoryKeyStore=e_},56806:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.MultiContractKeyStore=ed.MergeKeyStore=ed.KeyStore=ed.InMemoryKeyStore=void 0;var em=eg(60700);Object.defineProperty(ed,"InMemoryKeyStore",{enumerable:!0,get:function(){return em.InMemoryKeyStore}});var eb=eg(32700);Object.defineProperty(ed,"KeyStore",{enumerable:!0,get:function(){return eb.KeyStore}});var ew=eg(77050);Object.defineProperty(ed,"MergeKeyStore",{enumerable:!0,get:function(){return ew.MergeKeyStore}});var e_=eg(8657);Object.defineProperty(ed,"MultiContractKeyStore",{enumerable:!0,get:function(){return e_.MultiContractKeyStore}})},32700:function(eu,ed){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.KeyStore=void 0;class eg{}ed.KeyStore=eg},77050:function(eu,ed,eg){"use strict";var em=this&&this.__awaiter||function(eu,ed,eg,em){function eb(eu){return eu instanceof eg?eu:new eg(function(ed){ed(eu)})}return new(eg||(eg=Promise))(function(eg,ew){function e_(eu){try{eA(em.next(eu))}catch(eu){ew(eu)}}function eE(eu){try{eA(em.throw(eu))}catch(eu){ew(eu)}}function eA(eu){eu.done?eg(eu.value):eb(eu.value).then(e_,eE)}eA((em=em.apply(eu,ed||[])).next())})};Object.defineProperty(ed,"__esModule",{value:!0}),ed.MergeKeyStore=void 0;let eb=eg(32700);class ew extends eb.KeyStore{constructor(eu,ed={writeKeyStoreIndex:0}){super(),this.options=ed,this.keyStores=eu}setKey(eu,ed,eg){return em(this,void 0,void 0,function*(){yield this.keyStores[this.options.writeKeyStoreIndex].setKey(eu,ed,eg)})}getKey(eu,ed){return em(this,void 0,void 0,function*(){for(let eg of this.keyStores){let em=yield eg.getKey(eu,ed);if(em)return em}return null})}removeKey(eu,ed){return em(this,void 0,void 0,function*(){for(let eg of this.keyStores)yield eg.removeKey(eu,ed)})}clear(){return em(this,void 0,void 0,function*(){for(let eu of this.keyStores)yield eu.clear()})}getNetworks(){return em(this,void 0,void 0,function*(){let eu=new Set;for(let ed of this.keyStores)for(let eg of yield ed.getNetworks())eu.add(eg);return Array.from(eu)})}getAccounts(eu){return em(this,void 0,void 0,function*(){let ed=new Set;for(let eg of this.keyStores)for(let em of yield eg.getAccounts(eu))ed.add(em);return Array.from(ed)})}toString(){return`MergeKeyStore(${this.keyStores.join(", ")})`}}ed.MergeKeyStore=ew},8657:function(eu,ed){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.MultiContractKeyStore=void 0;class eg{}ed.MultiContractKeyStore=eg},42518:function(eu,ed){"use strict";var eg=this&&this.__awaiter||function(eu,ed,eg,em){function eb(eu){return eu instanceof eg?eu:new eg(function(ed){ed(eu)})}return new(eg||(eg=Promise))(function(eg,ew){function e_(eu){try{eA(em.next(eu))}catch(eu){ew(eu)}}function eE(eu){try{eA(em.throw(eu))}catch(eu){ew(eu)}}function eA(eu){eu.done?eg(eu.value):eb(eu.value).then(e_,eE)}eA((em=em.apply(eu,ed||[])).next())})};function em(eu,ed,em,ew){return eg(this,void 0,void 0,function*(){let eg=eu;for(let eu=0;eu<ed;eu++){let eu=yield ew();if(eu)return eu;yield eb(eg),eg*=em}return null})}function eb(eu){return new Promise(ed=>setTimeout(ed,eu))}Object.defineProperty(ed,"__esModule",{value:!0}),ed.exponentialBackoff=void 0,ed.exponentialBackoff=em},6912:function(eu,ed,eg){"use strict";var em=this&&this.__awaiter||function(eu,ed,eg,em){function eb(eu){return eu instanceof eg?eu:new eg(function(ed){ed(eu)})}return new(eg||(eg=Promise))(function(eg,ew){function e_(eu){try{eA(em.next(eu))}catch(eu){ew(eu)}}function eE(eu){try{eA(em.throw(eu))}catch(eu){ew(eu)}}function eA(eu){eu.done?eg(eu.value):eb(eu.value).then(e_,eE)}eA((em=em.apply(eu,ed||[])).next())})};Object.defineProperty(ed,"__esModule",{value:!0}),ed.FailoverRpcProvider=void 0;let eb=eg(56035),ew=eg(73795),e_=eg(19175);class eE extends e_.Provider{constructor(eu){if(super(),0===eu.length)throw Error("At least one provider must be specified");this.providers=eu,this.currentProviderIndex=0}switchToNextProvider(){1!==this.providers.length&&(this.providers.length-1<=this.currentProviderIndex?this.currentProviderIndex=0:this.currentProviderIndex+=1,eb.Logger.debug(`Switched to provider at the index ${this.currentProviderIndex}`))}get currentProvider(){let eu=this.providers[this.currentProviderIndex];if(!eu)throw Error(`Provider wasn't found at index ${this.currentProviderIndex}`);return eu}withBackoff(eu){return em(this,void 0,void 0,function*(){for(let ed=0;ed<this.providers.length;ed++)try{let ed=yield eu(this.currentProvider);if(ed)return ed}catch(eu){this.switchToNextProvider()}throw new ew.TypedError(`Exceeded ${this.providers.length} providers to execute request`,"RetriesExceeded")})}status(){return em(this,void 0,void 0,function*(){return this.withBackoff(eu=>eu.status())})}sendTransactionUntil(eu,ed){return em(this,void 0,void 0,function*(){return this.withBackoff(eg=>eg.sendTransactionUntil(eu,ed))})}sendTransaction(eu){return em(this,void 0,void 0,function*(){return this.withBackoff(ed=>ed.sendTransaction(eu))})}sendTransactionAsync(eu){return em(this,void 0,void 0,function*(){return this.withBackoff(ed=>ed.sendTransactionAsync(eu))})}txStatus(eu,ed,eg){return em(this,void 0,void 0,function*(){return this.withBackoff(em=>em.txStatus(eu,ed,eg))})}txStatusReceipts(eu,ed,eg){return em(this,void 0,void 0,function*(){return this.withBackoff(em=>em.txStatusReceipts(eu,ed,eg))})}query(eu,ed){return em(this,void 0,void 0,function*(){return ed?this.withBackoff(eg=>eg.query(eu,ed)):this.withBackoff(ed=>ed.query(eu))})}block(eu){return em(this,void 0,void 0,function*(){return this.withBackoff(ed=>ed.block(eu))})}blockChanges(eu){return em(this,void 0,void 0,function*(){return this.withBackoff(ed=>ed.blockChanges(eu))})}chunk(eu){return em(this,void 0,void 0,function*(){return this.withBackoff(ed=>ed.chunk(eu))})}validators(eu){return em(this,void 0,void 0,function*(){return this.withBackoff(ed=>ed.validators(eu))})}experimental_protocolConfig(eu){return em(this,void 0,void 0,function*(){return this.withBackoff(ed=>ed.experimental_protocolConfig(eu))})}lightClientProof(eu){return em(this,void 0,void 0,function*(){return this.withBackoff(ed=>ed.lightClientProof(eu))})}nextLightClientBlock(eu){return em(this,void 0,void 0,function*(){return this.withBackoff(ed=>ed.nextLightClientBlock(eu))})}accessKeyChanges(eu,ed){return em(this,void 0,void 0,function*(){return this.withBackoff(eg=>eg.accessKeyChanges(eu,ed))})}singleAccessKeyChanges(eu,ed){return em(this,void 0,void 0,function*(){return this.withBackoff(eg=>eg.singleAccessKeyChanges(eu,ed))})}accountChanges(eu,ed){return em(this,void 0,void 0,function*(){return this.withBackoff(eg=>eg.accountChanges(eu,ed))})}contractStateChanges(eu,ed,eg=""){return em(this,void 0,void 0,function*(){return this.withBackoff(em=>em.contractStateChanges(eu,ed,eg))})}contractCodeChanges(eu,ed){return em(this,void 0,void 0,function*(){return this.withBackoff(eg=>eg.contractCodeChanges(eu,ed))})}gasPrice(eu){return em(this,void 0,void 0,function*(){return this.withBackoff(ed=>ed.gasPrice(eu))})}}ed.FailoverRpcProvider=eE},14596:function(eu,ed,eg){"use strict";var em=this&&this.__importDefault||function(eu){return eu&&eu.__esModule?eu:{default:eu}};Object.defineProperty(ed,"__esModule",{value:!0});let eb=em(eg(34911)),ew=em(eg(23439)),e_=em(eg(62621)),eE=new ew.default.Agent({keepAlive:!0}),eA=new e_.default.Agent({keepAlive:!0});function eS(eu){return"http:"===eu.protocol?eE:eA}function eI(eu,ed){return(0,eb.default)(eu,Object.assign({agent:eS(new URL(eu.toString()))},ed))}ed.default=eI},26973:function(eu,ed,eg){"use strict";var em=this&&this.__createBinding||(Object.create?function(eu,ed,eg,em){void 0===em&&(em=eg);var eb=Object.getOwnPropertyDescriptor(ed,eg);(!eb||("get"in eb?!ed.__esModule:eb.writable||eb.configurable))&&(eb={enumerable:!0,get:function(){return ed[eg]}}),Object.defineProperty(eu,em,eb)}:function(eu,ed,eg,em){void 0===em&&(em=eg),eu[em]=ed[eg]}),eb=this&&this.__setModuleDefault||(Object.create?function(eu,ed){Object.defineProperty(eu,"default",{enumerable:!0,value:ed})}:function(eu,ed){eu.default=ed}),ew=this&&this.__importStar||function(eu){if(eu&&eu.__esModule)return eu;var ed={};if(null!=eu)for(var eg in eu)"default"!==eg&&Object.prototype.hasOwnProperty.call(eu,eg)&&em(ed,eu,eg);return eb(ed,eu),ed},e_=this&&this.__awaiter||function(eu,ed,eg,em){function eb(eu){return eu instanceof eg?eu:new eg(function(ed){ed(eu)})}return new(eg||(eg=Promise))(function(eg,ew){function e_(eu){try{eA(em.next(eu))}catch(eu){ew(eu)}}function eE(eu){try{eA(em.throw(eu))}catch(eu){ew(eu)}}function eA(eu){eu.done?eg(eu.value):eb(eu.value).then(e_,eE)}eA((em=em.apply(eu,ed||[])).next())})},eE=this&&this.__importDefault||function(eu){return eu&&eu.__esModule?eu:{default:eu}};Object.defineProperty(ed,"__esModule",{value:!0}),ed.fetchJson=void 0;let eA=eg(73795),eS=eg(56035),eI=eE(eg(58701)),eC=eg(42518),eM=1e3,eO=1.5,eT=10;function eP(eu,ed){return e_(this,void 0,void 0,function*(){let em={url:null};"string"==typeof eu?em.url=eu:em=eu;let eb=yield(0,eC.exponentialBackoff)(eM,eT,eO,()=>e_(this,void 0,void 0,function*(){var eu;try{let eb=yield(null!==(eu=eg.g.fetch)&&void 0!==eu?eu:(yield Promise.resolve().then(()=>ew(eg(14596)))).default)(em.url,{method:ed?"POST":"GET",body:ed||void 0,headers:Object.assign(Object.assign({},em.headers),{"Content-Type":"application/json"})});if(!eb.ok){if(503===eb.status)return eS.Logger.warn(`Retrying HTTP request for ${em.url} as it's not available now`),null;if(408===eb.status)return eS.Logger.warn(`Retrying HTTP request for ${em.url} as the previous connection was unused for some time`),null;throw(0,eI.default)(eb.status,(yield eb.text()))}return eb}catch(eu){if(eu.toString().includes("FetchError")||eu.toString().includes("Failed to fetch"))return eS.Logger.warn(`Retrying HTTP request for ${em.url} because of error: ${eu}`),null;throw eu}}));if(!eb)throw new eA.TypedError(`Exceeded ${eT} attempts for ${em.url}.`,"RetriesExceeded");return yield eb.json()})}ed.fetchJson=eP},36551:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.fetchJson=ed.Provider=ed.FailoverRpcProvider=ed.JsonRpcProvider=ed.exponentialBackoff=void 0;var em=eg(42518);Object.defineProperty(ed,"exponentialBackoff",{enumerable:!0,get:function(){return em.exponentialBackoff}});var eb=eg(37569);Object.defineProperty(ed,"JsonRpcProvider",{enumerable:!0,get:function(){return eb.JsonRpcProvider}});var ew=eg(6912);Object.defineProperty(ed,"FailoverRpcProvider",{enumerable:!0,get:function(){return ew.FailoverRpcProvider}});var e_=eg(19175);Object.defineProperty(ed,"Provider",{enumerable:!0,get:function(){return e_.Provider}});var eE=eg(26973);Object.defineProperty(ed,"fetchJson",{enumerable:!0,get:function(){return eE.fetchJson}})},37569:function(eu,ed,eg){"use strict";var em=eg(48834).Buffer,eb=this&&this.__awaiter||function(eu,ed,eg,em){function eb(eu){return eu instanceof eg?eu:new eg(function(ed){ed(eu)})}return new(eg||(eg=Promise))(function(eg,ew){function e_(eu){try{eA(em.next(eu))}catch(eu){ew(eu)}}function eE(eu){try{eA(em.throw(eu))}catch(eu){ew(eu)}}function eA(eu){eu.done?eg(eu.value):eb(eu.value).then(e_,eE)}eA((em=em.apply(eu,ed||[])).next())})},ew=this&&this.__rest||function(eu,ed){var eg={};for(var em in eu)Object.prototype.hasOwnProperty.call(eu,em)&&0>ed.indexOf(em)&&(eg[em]=eu[em]);if(null!=eu&&"function"==typeof Object.getOwnPropertySymbols)for(var eb=0,em=Object.getOwnPropertySymbols(eu);eb<em.length;eb++)0>ed.indexOf(em[eb])&&Object.prototype.propertyIsEnumerable.call(eu,em[eb])&&(eg[em[eb]]=eu[em[eb]]);return eg};Object.defineProperty(ed,"__esModule",{value:!0}),ed.JsonRpcProvider=void 0;let e_=eg(56035),eE=eg(73795),eA=eg(42787),eS=eg(42518),eI=eg(19175),eC=eg(26973),eM=12,eO=500,eT=1.5,eP=123;class eN extends eI.Provider{constructor(eu,ed){super(),this.connection=eu||{url:""};let eg={retries:eM,wait:eO,backoff:eT};this.options=Object.assign({},eg,ed)}status(){return eb(this,void 0,void 0,function*(){return this.sendJsonRpc("status",[])})}sendTransactionUntil(eu,ed){return eb(this,void 0,void 0,function*(){let eg=(0,eA.encodeTransaction)(eu);return this.sendJsonRpc("send_tx",{signed_tx_base64:em.from(eg).toString("base64"),wait_until:ed})})}sendTransaction(eu){return eb(this,void 0,void 0,function*(){return this.sendTransactionUntil(eu,"EXECUTED_OPTIMISTIC")})}sendTransactionAsync(eu){return eb(this,void 0,void 0,function*(){return this.sendTransactionUntil(eu,"NONE")})}txStatus(eu,ed,eg="EXECUTED_OPTIMISTIC"){return eb(this,void 0,void 0,function*(){return"string"==typeof eu?this.txStatusString(eu,ed,eg):this.txStatusUint8Array(eu,ed,eg)})}txStatusUint8Array(eu,ed,eg){return eb(this,void 0,void 0,function*(){return this.sendJsonRpc("tx",{tx_hash:(0,e_.baseEncode)(eu),sender_account_id:ed,wait_until:eg})})}txStatusString(eu,ed,eg){return eb(this,void 0,void 0,function*(){return this.sendJsonRpc("tx",{tx_hash:eu,sender_account_id:ed,wait_until:eg})})}txStatusReceipts(eu,ed,eg="EXECUTED_OPTIMISTIC"){return eb(this,void 0,void 0,function*(){return"string"==typeof eu?this.sendJsonRpc("EXPERIMENTAL_tx_status",{tx_hash:eu,sender_account_id:ed,wait_until:eg}):this.sendJsonRpc("EXPERIMENTAL_tx_status",{tx_hash:(0,e_.baseEncode)(eu),sender_account_id:ed,wait_until:eg})})}query(...eu){return eb(this,void 0,void 0,function*(){let ed;if(1===eu.length){let eg=eu[0],{block_id:em,blockId:eb}=eg,e_=ew(eg,["block_id","blockId"]);ed=yield this.sendJsonRpc("query",Object.assign(Object.assign({},e_),{block_id:em||eb}))}else{let[eg,em]=eu;ed=yield this.sendJsonRpc("query",[eg,em])}if(ed&&ed.error)throw new eE.TypedError(`Querying failed: ${ed.error}.
${JSON.stringify(ed,null,2)}`,(0,e_.getErrorTypeFromErrorMessage)(ed.error,ed.error.name));return ed})}block(eu){return eb(this,void 0,void 0,function*(){let{finality:ed}=eu,{blockId:eg}=eu;return this.sendJsonRpc("block",{block_id:eg,finality:ed})})}blockChanges(eu){return eb(this,void 0,void 0,function*(){let{finality:ed}=eu,{blockId:eg}=eu;return this.sendJsonRpc("EXPERIMENTAL_changes_in_block",{block_id:eg,finality:ed})})}chunk(eu){return eb(this,void 0,void 0,function*(){return this.sendJsonRpc("chunk",[eu])})}validators(eu){return eb(this,void 0,void 0,function*(){return this.sendJsonRpc("validators",[eu])})}experimental_protocolConfig(eu){return eb(this,void 0,void 0,function*(){let ed=eu,{blockId:eg}=ed,em=ew(ed,["blockId"]);return yield this.sendJsonRpc("EXPERIMENTAL_protocol_config",Object.assign(Object.assign({},em),{block_id:eg}))})}lightClientProof(eu){return eb(this,void 0,void 0,function*(){return yield this.sendJsonRpc("EXPERIMENTAL_light_client_proof",eu)})}nextLightClientBlock(eu){return eb(this,void 0,void 0,function*(){return yield this.sendJsonRpc("next_light_client_block",eu)})}accessKeyChanges(eu,ed){return eb(this,void 0,void 0,function*(){let{finality:eg}=ed,{blockId:em}=ed;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"all_access_key_changes",account_ids:eu,block_id:em,finality:eg})})}singleAccessKeyChanges(eu,ed){return eb(this,void 0,void 0,function*(){let{finality:eg}=ed,{blockId:em}=ed;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"single_access_key_changes",keys:eu,block_id:em,finality:eg})})}accountChanges(eu,ed){return eb(this,void 0,void 0,function*(){let{finality:eg}=ed,{blockId:em}=ed;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"account_changes",account_ids:eu,block_id:em,finality:eg})})}contractStateChanges(eu,ed,eg=""){return eb(this,void 0,void 0,function*(){let{finality:em}=ed,{blockId:eb}=ed;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"data_changes",account_ids:eu,key_prefix_base64:eg,block_id:eb,finality:em})})}contractCodeChanges(eu,ed){return eb(this,void 0,void 0,function*(){let{finality:eg}=ed,{blockId:em}=ed;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"contract_code_changes",account_ids:eu,block_id:em,finality:eg})})}gasPrice(eu){return eb(this,void 0,void 0,function*(){return yield this.sendJsonRpc("gas_price",[eu])})}sendJsonRpc(eu,ed){return eb(this,void 0,void 0,function*(){let eg=yield(0,eS.exponentialBackoff)(this.options.wait,this.options.retries,this.options.backoff,()=>eb(this,void 0,void 0,function*(){var eg;try{let em={method:eu,params:ed,id:eP++,jsonrpc:"2.0"},eb=yield(0,eC.fetchJson)(this.connection,JSON.stringify(em));if(eb.error){if("object"==typeof eb.error.data){if("string"==typeof eb.error.data.error_message&&"string"==typeof eb.error.data.error_type)throw new eE.TypedError(eb.error.data.error_message,eb.error.data.error_type);throw(0,e_.parseRpcError)(eb.error.data)}{let eu=`[${eb.error.code}] ${eb.error.message}: ${eb.error.data}`;if("Timeout"===eb.error.data||eu.includes("Timeout error")||eu.includes("query has timed out"))throw new eE.TypedError(eu,"TimeoutError");let eg=(0,e_.getErrorTypeFromErrorMessage)(eb.error.data,"");if(eg)throw new eE.TypedError((0,e_.formatError)(eg,ed),eg);throw new eE.TypedError(eu,eb.error.name)}}if("string"==typeof(null===(eg=eb.result)||void 0===eg?void 0:eg.error)){let eu=(0,e_.getErrorTypeFromErrorMessage)(eb.result.error,"");if(eu)throw new e_.ServerError((0,e_.formatError)(eu,ed),eu)}return eb}catch(eg){if("TimeoutError"===eg.type)return e_.Logger.warn(`Retrying request to ${eu} as it has timed out`,ed),null;throw eg}})),{result:em}=eg;if(void 0===em)throw new eE.TypedError(`Exceeded ${this.options.retries} attempts for request to ${eu}.`,"RetriesExceeded");return em})}}ed.JsonRpcProvider=eN},19175:function(eu,ed){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.Provider=void 0;class eg{}ed.Provider=eg},14805:function(eu,ed,eg){"use strict";var em=this&&this.__awaiter||function(eu,ed,eg,em){function eb(eu){return eu instanceof eg?eu:new eg(function(ed){ed(eu)})}return new(eg||(eg=Promise))(function(eg,ew){function e_(eu){try{eA(em.next(eu))}catch(eu){ew(eu)}}function eE(eu){try{eA(em.throw(eu))}catch(eu){ew(eu)}}function eA(eu){eu.done?eg(eu.value):eb(eu.value).then(e_,eE)}eA((em=em.apply(eu,ed||[])).next())})};Object.defineProperty(ed,"__esModule",{value:!0}),ed.InMemorySigner=void 0;let eb=eg(34327),ew=eg(56806),e_=eg(71881),eE=eg(48129);class eA extends eE.Signer{constructor(eu){super(),this.keyStore=eu}static fromKeyPair(eu,ed,eg){return em(this,void 0,void 0,function*(){let em=new ew.InMemoryKeyStore;return yield em.setKey(eu,ed,eg),new eA(em)})}createKey(eu,ed,eg){return em(this,void 0,void 0,function*(){let em=eg===eb.KeyType.SECP256K1?eb.KeyPair.fromRandom("secp256k1"):eb.KeyPair.fromRandom("ed25519");return yield this.keyStore.setKey(ed,eu,em),em.getPublicKey()})}getPublicKey(eu,ed){return em(this,void 0,void 0,function*(){let eg=yield this.keyStore.getKey(ed,eu);return null===eg?null:eg.getPublicKey()})}signMessage(eu,ed,eg){return em(this,void 0,void 0,function*(){let em=new Uint8Array((0,e_.sha256)(eu));if(!ed)throw Error("InMemorySigner requires provided account id");let eb=yield this.keyStore.getKey(eg,ed);if(null===eb)throw Error(`Key for ${ed} not found in ${eg}`);return eb.sign(em)})}toString(){return`InMemorySigner(${this.keyStore})`}}ed.InMemorySigner=eA},43575:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.Signer=ed.InMemorySigner=void 0;var em=eg(14805);Object.defineProperty(ed,"InMemorySigner",{enumerable:!0,get:function(){return em.InMemorySigner}});var eb=eg(48129);Object.defineProperty(ed,"Signer",{enumerable:!0,get:function(){return eb.Signer}})},48129:function(eu,ed){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.Signer=void 0;class eg{}ed.Signer=eg},89589:function(eu,ed,eg){"use strict";var em=eg(48834).Buffer;Object.defineProperty(ed,"__esModule",{value:!0}),ed.actionCreators=ed.stringifyJsonOrBytes=void 0;let eb=eg(17529);function ew(){return new eb.AccessKey({nonce:0,permission:new eb.AccessKeyPermission({fullAccess:new eb.FullAccessPermission({})})})}function e_(eu,ed,eg){return new eb.AccessKey({nonce:0,permission:new eb.AccessKeyPermission({functionCall:new eb.FunctionCallPermission({receiverId:eu,allowance:eg,methodNames:ed})})})}function eE(){return new eb.Action({createAccount:new eb.CreateAccount({})})}function eA(eu){return new eb.Action({deployContract:new eb.DeployContract({code:eu})})}function eS(eu){let ed=void 0!==eu.byteLength&&eu.byteLength===eu.length;return ed?eu:em.from(JSON.stringify(eu))}function eI(eu,ed,eg=BigInt(0),em=BigInt(0),ew=eS,e_=!1){return new eb.Action(e_?{functionCall:new eb.FunctionCall({methodName:eu,args:ed,gas:eg,deposit:em})}:{functionCall:new eb.FunctionCall({methodName:eu,args:ew(ed),gas:eg,deposit:em})})}function eC(eu=BigInt(0)){return new eb.Action({transfer:new eb.Transfer({deposit:eu})})}function eM(eu=BigInt(0),ed){return new eb.Action({stake:new eb.Stake({stake:eu,publicKey:ed})})}function eO(eu,ed){return new eb.Action({addKey:new eb.AddKey({publicKey:eu,accessKey:ed})})}function eT(eu){return new eb.Action({deleteKey:new eb.DeleteKey({publicKey:eu})})}function eP(eu){return new eb.Action({deleteAccount:new eb.DeleteAccount({beneficiaryId:eu})})}function eN({delegateAction:eu,signature:ed}){return new eb.Action({signedDelegate:new eb.SignedDelegate({delegateAction:eu,signature:ed})})}ed.stringifyJsonOrBytes=eS,ed.actionCreators={addKey:eO,createAccount:eE,deleteAccount:eP,deleteKey:eT,deployContract:eA,fullAccessKey:ew,functionCall:eI,functionCallAccessKey:e_,signedDelegate:eN,stake:eM,transfer:eC}},17529:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.Action=ed.SignedDelegate=ed.DeleteAccount=ed.DeleteKey=ed.AddKey=ed.Stake=ed.Transfer=ed.FunctionCall=ed.DeployContract=ed.CreateAccount=ed.IAction=ed.AccessKey=ed.AccessKeyPermission=ed.FullAccessPermission=ed.FunctionCallPermission=void 0;let em=eg(73795);class eb{constructor(eu){if(1!==Object.keys(eu).length)throw Error("Enum can only take single value");Object.keys(eu).map(ed=>{this[ed]=eu[ed],this.enum=ed})}}class ew extends em.Assignable{}ed.FunctionCallPermission=ew;class e_ extends em.Assignable{}ed.FullAccessPermission=e_;class eE extends eb{}ed.AccessKeyPermission=eE;class eA extends em.Assignable{}ed.AccessKey=eA;class eS extends em.Assignable{}ed.IAction=eS;class eI extends eS{}ed.CreateAccount=eI;class eC extends eS{}ed.DeployContract=eC;class eM extends eS{}ed.FunctionCall=eM;class eO extends eS{}ed.Transfer=eO;class eT extends eS{}ed.Stake=eT;class eP extends eS{}ed.AddKey=eP;class eN extends eS{}ed.DeleteKey=eN;class ek extends eS{}ed.DeleteAccount=ek;class eR extends eS{}ed.SignedDelegate=eR;class eD extends eb{}ed.Action=eD},10582:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.createTransaction=void 0;let em=eg(26514);function eb(eu,ed,eg,eb,ew,e_){let eE="bigint"==typeof eb?eb:BigInt(eb);return new em.Transaction({signerId:eu,publicKey:ed,nonce:eE,receiverId:eg,actions:ew,blockHash:e_})}ed.createTransaction=eb},59739:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.buildDelegateAction=ed.DelegateAction=void 0;let em=eg(73795),eb=eg(89589),{addKey:ew,createAccount:e_,deleteAccount:eE,deleteKey:eA,deployContract:eS,functionCall:eI,stake:eC,transfer:eM}=eb.actionCreators;class eO extends em.Assignable{}function eT({actions:eu,maxBlockHeight:ed,nonce:eg,publicKey:em,receiverId:eb,senderId:eT}){return new eO({senderId:eT,receiverId:eb,actions:eu.map(eu=>{if(!eu.type&&!eu.params)return eu;switch(eu.type){case"AddKey":{let{publicKey:ed,accessKey:eg}=eu.params;return ew(ed,eg)}case"CreateAccount":return e_(eu.params.createAccount);case"DeleteAccount":return eE(eu.params.deleteAccount);case"DeleteKey":return eA(eu.params.publicKey);case"DeployContract":return eS(eu.params.code);case"FunctionCall":{let{methodName:ed,args:eg,gas:em,deposit:eb}=eu.params;return eI(ed,eg,em,eb)}case"Stake":return eC(eu.params.stake,eu.params.publicKey);case"Transfer":{let{deposit:ed}=eu.params;return eM(ed)}}throw Error("Unrecognized action")}),nonce:eg,maxBlockHeight:ed,publicKey:em})}ed.DelegateAction=eO,ed.buildDelegateAction=eT},42787:function(eu,ed,eg){"use strict";var em=this&&this.__createBinding||(Object.create?function(eu,ed,eg,em){void 0===em&&(em=eg);var eb=Object.getOwnPropertyDescriptor(ed,eg);(!eb||("get"in eb?!ed.__esModule:eb.writable||eb.configurable))&&(eb={enumerable:!0,get:function(){return ed[eg]}}),Object.defineProperty(eu,em,eb)}:function(eu,ed,eg,em){void 0===em&&(em=eg),eu[em]=ed[eg]}),eb=this&&this.__exportStar||function(eu,ed){for(var eg in eu)"default"===eg||Object.prototype.hasOwnProperty.call(ed,eg)||em(ed,eu,eg)};Object.defineProperty(ed,"__esModule",{value:!0}),eb(eg(89589),ed),eb(eg(17529),ed),eb(eg(10582),ed),eb(eg(59739),ed),eb(eg(26514),ed),eb(eg(84403),ed),eb(eg(3175),ed)},77698:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.DelegateActionPrefix=void 0;let em=eg(73795),eb=1073741824,ew={MetaTransactions:366};class e_ extends em.Assignable{}class eE extends e_{constructor(eu){super({prefix:eb+eu})}}class eA extends eE{constructor(){super(ew.MetaTransactions)}}ed.DelegateActionPrefix=eA},26514:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.SCHEMA=ed.SignedTransaction=ed.Transaction=ed.decodeSignedTransaction=ed.decodeTransaction=ed.encodeTransaction=ed.encodeSignedDelegate=ed.encodeDelegateAction=void 0;let em=eg(73795),eb=eg(37243),ew=eg(77698);function e_(eu){return new Uint8Array([...(0,eb.serialize)(ed.SCHEMA.DelegateActionPrefix,new ew.DelegateActionPrefix),...(0,eb.serialize)(ed.SCHEMA.DelegateAction,eu)])}function eE(eu){return(0,eb.serialize)(ed.SCHEMA.SignedDelegate,eu)}function eA(eu){let eg=eu instanceof eM?ed.SCHEMA.SignedTransaction:ed.SCHEMA.Transaction;return(0,eb.serialize)(eg,eu)}function eS(eu){return new eC((0,eb.deserialize)(ed.SCHEMA.Transaction,eu))}function eI(eu){return new eM((0,eb.deserialize)(ed.SCHEMA.SignedTransaction,eu))}ed.encodeDelegateAction=e_,ed.encodeSignedDelegate=eE,ed.encodeTransaction=eA,ed.decodeTransaction=eS,ed.decodeSignedTransaction=eI;class eC extends em.Assignable{encode(){return eA(this)}static decode(eu){return eS(eu)}}ed.Transaction=eC;class eM extends em.Assignable{encode(){return eA(this)}static decode(eu){return eI(eu)}}ed.SignedTransaction=eM,ed.SCHEMA=new class{constructor(){this.Ed25519Signature={struct:{data:{array:{type:"u8",len:64}}}},this.Secp256k1Signature={struct:{data:{array:{type:"u8",len:65}}}},this.Signature={enum:[{struct:{ed25519Signature:this.Ed25519Signature}},{struct:{secp256k1Signature:this.Secp256k1Signature}}]},this.Ed25519Data={struct:{data:{array:{type:"u8",len:32}}}},this.Secp256k1Data={struct:{data:{array:{type:"u8",len:64}}}},this.PublicKey={enum:[{struct:{ed25519Key:this.Ed25519Data}},{struct:{secp256k1Key:this.Secp256k1Data}}]},this.FunctionCallPermission={struct:{allowance:{option:"u128"},receiverId:"string",methodNames:{array:{type:"string"}}}},this.FullAccessPermission={struct:{}},this.AccessKeyPermission={enum:[{struct:{functionCall:this.FunctionCallPermission}},{struct:{fullAccess:this.FullAccessPermission}}]},this.AccessKey={struct:{nonce:"u64",permission:this.AccessKeyPermission}},this.CreateAccount={struct:{}},this.DeployContract={struct:{code:{array:{type:"u8"}}}},this.FunctionCall={struct:{methodName:"string",args:{array:{type:"u8"}},gas:"u64",deposit:"u128"}},this.Transfer={struct:{deposit:"u128"}},this.Stake={struct:{stake:"u128",publicKey:this.PublicKey}},this.AddKey={struct:{publicKey:this.PublicKey,accessKey:this.AccessKey}},this.DeleteKey={struct:{publicKey:this.PublicKey}},this.DeleteAccount={struct:{beneficiaryId:"string"}},this.DelegateActionPrefix={struct:{prefix:"u32"}},this.ClassicActions={enum:[{struct:{createAccount:this.CreateAccount}},{struct:{deployContract:this.DeployContract}},{struct:{functionCall:this.FunctionCall}},{struct:{transfer:this.Transfer}},{struct:{stake:this.Stake}},{struct:{addKey:this.AddKey}},{struct:{deleteKey:this.DeleteKey}},{struct:{deleteAccount:this.DeleteAccount}}]},this.DelegateAction={struct:{senderId:"string",receiverId:"string",actions:{array:{type:this.ClassicActions}},nonce:"u64",maxBlockHeight:"u64",publicKey:this.PublicKey}},this.SignedDelegate={struct:{delegateAction:this.DelegateAction,signature:this.Signature}},this.Action={enum:[{struct:{createAccount:this.CreateAccount}},{struct:{deployContract:this.DeployContract}},{struct:{functionCall:this.FunctionCall}},{struct:{transfer:this.Transfer}},{struct:{stake:this.Stake}},{struct:{addKey:this.AddKey}},{struct:{deleteKey:this.DeleteKey}},{struct:{deleteAccount:this.DeleteAccount}},{struct:{signedDelegate:this.SignedDelegate}}]},this.Transaction={struct:{signerId:"string",publicKey:this.PublicKey,nonce:"u64",receiverId:"string",blockHash:{array:{type:"u8",len:32}},actions:{array:{type:this.Action}}}},this.SignedTransaction={struct:{transaction:this.Transaction,signature:this.Signature}}}}},84403:function(eu,ed,eg){"use strict";var em=this&&this.__awaiter||function(eu,ed,eg,em){function eb(eu){return eu instanceof eg?eu:new eg(function(ed){ed(eu)})}return new(eg||(eg=Promise))(function(eg,ew){function e_(eu){try{eA(em.next(eu))}catch(eu){ew(eu)}}function eE(eu){try{eA(em.throw(eu))}catch(eu){ew(eu)}}function eA(eu){eu.done?eg(eu.value):eb(eu.value).then(e_,eE)}eA((em=em.apply(eu,ed||[])).next())})};Object.defineProperty(ed,"__esModule",{value:!0}),ed.signDelegateAction=ed.signTransaction=void 0;let eb=eg(71881),ew=eg(17529),e_=eg(10582),eE=eg(26514),eA=eg(3175),eS=eg(34327);function eI(eu,ed,eg,ew){return em(this,void 0,void 0,function*(){let em=(0,eE.encodeTransaction)(eu),e_=new Uint8Array((0,eb.sha256)(em)),eI=yield ed.signMessage(em,eg,ew),eC=eu.publicKey.ed25519Key?eS.KeyType.ED25519:eS.KeyType.SECP256K1,eM=new eE.SignedTransaction({transaction:eu,signature:new eA.Signature({keyType:eC,data:eI.signature})});return[e_,eM]})}function eC(...eu){return em(this,void 0,void 0,function*(){if(eu[0].constructor===eE.Transaction){let[ed,eg,em,eb]=eu;return eI(ed,eg,em,eb)}{let[ed,eg,em,eb,ew,eE,eA]=eu,eS=yield ew.getPublicKey(eE,eA),eC=(0,e_.createTransaction)(eE,eS,ed,eg,em,eb);return eI(eC,ew,eE,eA)}})}function eM({delegateAction:eu,signer:ed}){return em(this,void 0,void 0,function*(){let eg=(0,eE.encodeDelegateAction)(eu),em=yield ed.sign(eg),e_=eu.publicKey.ed25519Key?eS.KeyType.ED25519:eS.KeyType.SECP256K1,eI=new ew.SignedDelegate({delegateAction:eu,signature:new eA.Signature({keyType:e_,data:em})});return{hash:new Uint8Array((0,eb.sha256)(eg)),signedDelegateAction:eI}})}ed.signTransaction=eC,ed.signDelegateAction=eM},3175:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.Signature=void 0;let em=eg(34327),eb=eg(73795);class ew extends eb.Assignable{constructor({keyType:eu,data:ed}){super({}),eu===em.KeyType.ED25519?this.ed25519Signature={keyType:eu,data:ed}:eu===em.KeyType.SECP256K1&&(this.secp256k1Signature={keyType:eu,data:ed})}get signature(){return this.ed25519Signature||this.secp256k1Signature}get signatureType(){return this.signature.keyType}get data(){return this.signature.data}}ed.Signature=ew},3953:function(eu,ed){"use strict";ed.__esModule=!0,ed.DecodeBuffer=ed.EncodeBuffer=void 0;var eg=function(){function eu(){this.offset=0,this.buffer_size=256,this.buffer=new ArrayBuffer(this.buffer_size),this.view=new DataView(this.buffer)}return eu.prototype.resize_if_necessary=function(eu){if(this.buffer_size-this.offset<eu){this.buffer_size=Math.max(2*this.buffer_size,this.buffer_size+eu);var ed=new ArrayBuffer(this.buffer_size);new Uint8Array(ed).set(new Uint8Array(this.buffer)),this.buffer=ed,this.view=new DataView(ed)}},eu.prototype.get_used_buffer=function(){return new Uint8Array(this.buffer).slice(0,this.offset)},eu.prototype.store_value=function(eu,ed){var eg=ed.substring(1),em=parseInt(eg)/8;this.resize_if_necessary(em);var eb="f"===ed[0]?"setFloat".concat(eg):"i"===ed[0]?"setInt".concat(eg):"setUint".concat(eg);this.view[eb](this.offset,eu,!0),this.offset+=em},eu.prototype.store_bytes=function(eu){this.resize_if_necessary(eu.length),new Uint8Array(this.buffer).set(new Uint8Array(eu),this.offset),this.offset+=eu.length},eu}();ed.EncodeBuffer=eg;var em=function(){function eu(eu){this.offset=0,this.buffer_size=eu.length,this.buffer=new ArrayBuffer(eu.length),new Uint8Array(this.buffer).set(eu),this.view=new DataView(this.buffer)}return eu.prototype.assert_enough_buffer=function(eu){if(this.offset+eu>this.buffer.byteLength)throw Error("Error in schema, the buffer is smaller than expected")},eu.prototype.consume_value=function(eu){var ed=eu.substring(1),eg=parseInt(ed)/8;this.assert_enough_buffer(eg);var em="f"===eu[0]?"getFloat".concat(ed):"i"===eu[0]?"getInt".concat(ed):"getUint".concat(ed),eb=this.view[em](this.offset,!0);return this.offset+=eg,eb},eu.prototype.consume_bytes=function(eu){this.assert_enough_buffer(eu);var ed=this.buffer.slice(this.offset,this.offset+eu);return this.offset+=eu,ed},eu}();ed.DecodeBuffer=em},41299:function(eu,ed,eg){"use strict";ed.__esModule=!0,ed.BorshDeserializer=void 0;var em=eg(41128),eb=eg(3953),ew=function(){function eu(eu){this.buffer=new eb.DecodeBuffer(eu)}return eu.prototype.decode=function(eu){return this.decode_value(eu)},eu.prototype.decode_value=function(eu){if("string"==typeof eu){if(em.integers.includes(eu))return this.decode_integer(eu);if("string"===eu)return this.decode_string();if("bool"===eu)return this.decode_boolean()}if("object"==typeof eu){if("option"in eu)return this.decode_option(eu);if("enum"in eu)return this.decode_enum(eu);if("array"in eu)return this.decode_array(eu);if("set"in eu)return this.decode_set(eu);if("map"in eu)return this.decode_map(eu);if("struct"in eu)return this.decode_struct(eu)}throw Error("Unsupported type: ".concat(eu))},eu.prototype.decode_integer=function(eu){var ed=parseInt(eu.substring(1));return ed<=32||"f64"==eu?this.buffer.consume_value(eu):this.decode_bigint(ed,eu.startsWith("i"))},eu.prototype.decode_bigint=function(eu,ed){void 0===ed&&(ed=!1);var eg=eu/8,em=new Uint8Array(this.buffer.consume_bytes(eg)),eb=em.reduceRight(function(eu,ed){return eu+ed.toString(16).padStart(2,"0")},"");return ed&&em[eg-1]?BigInt.asIntN(eu,BigInt("0x".concat(eb))):BigInt("0x".concat(eb))},eu.prototype.decode_string=function(){var eu=this.decode_integer("u32"),ed=new Uint8Array(this.buffer.consume_bytes(eu));return String.fromCharCode.apply(null,ed)},eu.prototype.decode_boolean=function(){return this.buffer.consume_value("u8")>0},eu.prototype.decode_option=function(eu){var ed=this.buffer.consume_value("u8");if(1===ed)return this.decode_value(eu.option);if(0!==ed)throw Error("Invalid option ".concat(ed));return null},eu.prototype.decode_enum=function(eu){var ed,eg=this.buffer.consume_value("u8");if(eg>eu.enum.length)throw Error("Enum option ".concat(eg," is not available"));var em=eu.enum[eg].struct,eb=Object.keys(em)[0];return(ed={})[eb]=this.decode_value(em[eb]),ed},eu.prototype.decode_array=function(eu){for(var ed=[],eg=eu.array.len?eu.array.len:this.decode_integer("u32"),em=0;em<eg;++em)ed.push(this.decode_value(eu.array.type));return ed},eu.prototype.decode_set=function(eu){for(var ed=this.decode_integer("u32"),eg=new Set,em=0;em<ed;++em)eg.add(this.decode_value(eu.set));return eg},eu.prototype.decode_map=function(eu){for(var ed=this.decode_integer("u32"),eg=new Map,em=0;em<ed;++em){var eb=this.decode_value(eu.map.key),ew=this.decode_value(eu.map.value);eg.set(eb,ew)}return eg},eu.prototype.decode_struct=function(eu){var ed={};for(var eg in eu.struct)ed[eg]=this.decode_value(eu.struct[eg]);return ed},eu}();ed.BorshDeserializer=ew},37243:function(eu,ed,eg){"use strict";var em=this&&this.__createBinding||(Object.create?function(eu,ed,eg,em){void 0===em&&(em=eg);var eb=Object.getOwnPropertyDescriptor(ed,eg);(!eb||("get"in eb?!ed.__esModule:eb.writable||eb.configurable))&&(eb={enumerable:!0,get:function(){return ed[eg]}}),Object.defineProperty(eu,em,eb)}:function(eu,ed,eg,em){void 0===em&&(em=eg),eu[em]=ed[eg]}),eb=this&&this.__setModuleDefault||(Object.create?function(eu,ed){Object.defineProperty(eu,"default",{enumerable:!0,value:ed})}:function(eu,ed){eu.default=ed}),ew=this&&this.__importStar||function(eu){if(eu&&eu.__esModule)return eu;var ed={};if(null!=eu)for(var eg in eu)"default"!==eg&&Object.prototype.hasOwnProperty.call(eu,eg)&&em(ed,eu,eg);return eb(ed,eu),ed};ed.__esModule=!0,ed.deserialize=ed.serialize=void 0;var e_=eg(61396),eE=eg(41299),eA=ew(eg(55921));function eS(eu,ed,eg){return void 0===eg&&(eg=!0),eg&&eA.validate_schema(eu),new e_.BorshSerializer(eg).encode(ed,eu)}function eI(eu,ed,eg){return void 0===eg&&(eg=!0),eg&&eA.validate_schema(eu),new eE.BorshDeserializer(ed).decode(eu)}ed.serialize=eS,ed.deserialize=eI},61396:function(eu,ed,eg){"use strict";var em=this&&this.__createBinding||(Object.create?function(eu,ed,eg,em){void 0===em&&(em=eg);var eb=Object.getOwnPropertyDescriptor(ed,eg);(!eb||("get"in eb?!ed.__esModule:eb.writable||eb.configurable))&&(eb={enumerable:!0,get:function(){return ed[eg]}}),Object.defineProperty(eu,em,eb)}:function(eu,ed,eg,em){void 0===em&&(em=eg),eu[em]=ed[eg]}),eb=this&&this.__setModuleDefault||(Object.create?function(eu,ed){Object.defineProperty(eu,"default",{enumerable:!0,value:ed})}:function(eu,ed){eu.default=ed}),ew=this&&this.__importStar||function(eu){if(eu&&eu.__esModule)return eu;var ed={};if(null!=eu)for(var eg in eu)"default"!==eg&&Object.prototype.hasOwnProperty.call(eu,eg)&&em(ed,eu,eg);return eb(ed,eu),ed};ed.__esModule=!0,ed.BorshSerializer=void 0;var e_=eg(41128),eE=eg(3953),eA=ew(eg(55921)),eS=function(){function eu(eu){this.encoded=new eE.EncodeBuffer,this.fieldPath=["value"],this.checkTypes=eu}return eu.prototype.encode=function(eu,ed){return this.encode_value(eu,ed),this.encoded.get_used_buffer()},eu.prototype.encode_value=function(eu,ed){if("string"==typeof ed){if(e_.integers.includes(ed))return this.encode_integer(eu,ed);if("string"===ed)return this.encode_string(eu);if("bool"===ed)return this.encode_boolean(eu)}if("object"==typeof ed){if("option"in ed)return this.encode_option(eu,ed);if("enum"in ed)return this.encode_enum(eu,ed);if("array"in ed)return this.encode_array(eu,ed);if("set"in ed)return this.encode_set(eu,ed);if("map"in ed)return this.encode_map(eu,ed);if("struct"in ed)return this.encode_struct(eu,ed)}},eu.prototype.encode_integer=function(eu,ed){var eg=parseInt(ed.substring(1));eg<=32||"f64"==ed?(this.checkTypes&&eA.expect_type(eu,"number",this.fieldPath),this.encoded.store_value(eu,ed)):(this.checkTypes&&eA.expect_bigint(eu,this.fieldPath),this.encode_bigint(BigInt(eu),eg))},eu.prototype.encode_bigint=function(eu,ed){for(var eg=ed/8,em=new Uint8Array(eg),eb=0;eb<eg;eb++)em[eb]=Number(eu&BigInt(255)),eu>>=BigInt(8);this.encoded.store_bytes(new Uint8Array(em))},eu.prototype.encode_string=function(eu){this.checkTypes&&eA.expect_type(eu,"string",this.fieldPath);var ed=eu;this.encoded.store_value(ed.length,"u32");for(var eg=0;eg<ed.length;eg++)this.encoded.store_value(ed.charCodeAt(eg),"u8")},eu.prototype.encode_boolean=function(eu){this.checkTypes&&eA.expect_type(eu,"boolean",this.fieldPath),this.encoded.store_value(eu?1:0,"u8")},eu.prototype.encode_option=function(eu,ed){null==eu?this.encoded.store_value(0,"u8"):(this.encoded.store_value(1,"u8"),this.encode_value(eu,ed.option))},eu.prototype.encode_enum=function(eu,ed){this.checkTypes&&eA.expect_enum(eu,this.fieldPath);for(var eg=Object.keys(eu)[0],em=0;em<ed.enum.length;em++){var eb=ed.enum[em];if(eg===Object.keys(eb.struct)[0])return this.encoded.store_value(em,"u8"),this.encode_struct(eu,eb)}throw Error("Enum key (".concat(eg,") not found in enum schema: ").concat(JSON.stringify(ed)," at ").concat(this.fieldPath.join(".")))},eu.prototype.encode_array=function(eu,ed){if(eA.isArrayLike(eu))return this.encode_arraylike(eu,ed);if(eu instanceof ArrayBuffer)return this.encode_buffer(eu,ed);throw Error("Expected Array-like not ".concat(typeof eu,"(").concat(eu,") at ").concat(this.fieldPath.join(".")))},eu.prototype.encode_arraylike=function(eu,ed){ed.array.len?eA.expect_same_size(eu.length,ed.array.len,this.fieldPath):this.encoded.store_value(eu.length,"u32");for(var eg=0;eg<eu.length;eg++)this.encode_value(eu[eg],ed.array.type)},eu.prototype.encode_buffer=function(eu,ed){ed.array.len?eA.expect_same_size(eu.byteLength,ed.array.len,this.fieldPath):this.encoded.store_value(eu.byteLength,"u32"),this.encoded.store_bytes(new Uint8Array(eu))},eu.prototype.encode_set=function(eu,ed){this.checkTypes&&eA.expect_type(eu,"object",this.fieldPath);var eg=eu instanceof Set?Array.from(eu.values()):Object.values(eu);this.encoded.store_value(eg.length,"u32");for(var em=0,eb=eg;em<eb.length;em++){var ew=eb[em];this.encode_value(ew,ed.set)}},eu.prototype.encode_map=function(eu,ed){this.checkTypes&&eA.expect_type(eu,"object",this.fieldPath);var eg=eu instanceof Map,em=eg?Array.from(eu.keys()):Object.keys(eu);this.encoded.store_value(em.length,"u32");for(var eb=0,ew=em;eb<ew.length;eb++){var e_=ew[eb];this.encode_value(e_,ed.map.key),this.encode_value(eg?eu.get(e_):eu[e_],ed.map.value)}},eu.prototype.encode_struct=function(eu,ed){this.checkTypes&&eA.expect_type(eu,"object",this.fieldPath);for(var eg=0,em=Object.keys(ed.struct);eg<em.length;eg++){var eb=em[eg];this.fieldPath.push(eb),this.encode_value(eu[eb],ed.struct[eb]),this.fieldPath.pop()}},eu}();ed.BorshSerializer=eS},41128:function(eu,ed){"use strict";ed.__esModule=!0,ed.integers=void 0,ed.integers=["u8","u16","u32","u64","u128","i8","i16","i32","i64","i128","f32","f64"]},55921:function(eu,ed,eg){"use strict";var em=this&&this.__extends||function(){var eu=function(ed,eg){return(eu=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(eu,ed){eu.__proto__=ed}||function(eu,ed){for(var eg in ed)Object.prototype.hasOwnProperty.call(ed,eg)&&(eu[eg]=ed[eg])})(ed,eg)};return function(ed,eg){if("function"!=typeof eg&&null!==eg)throw TypeError("Class extends value "+String(eg)+" is not a constructor or null");function em(){this.constructor=ed}eu(ed,eg),ed.prototype=null===eg?Object.create(eg):(em.prototype=eg.prototype,new em)}}();ed.__esModule=!0,ed.validate_schema=ed.ErrorSchema=ed.expect_enum=ed.expect_same_size=ed.expect_bigint=ed.expect_type=ed.isArrayLike=void 0;var eb=eg(41128);function ew(eu){return Array.isArray(eu)||!!eu&&"object"==typeof eu&&"length"in eu&&"number"==typeof eu.length&&(0===eu.length||eu.length>0&&eu.length-1 in eu)}function e_(eu,ed,eg){if(typeof eu!==ed)throw Error("Expected ".concat(ed," not ").concat(typeof eu,"(").concat(eu,") at ").concat(eg.join(".")))}function eE(eu,ed){var eg=["number","string","bigint","boolean"].includes(typeof eu),em="object"==typeof eu&&null!==eu&&"toString"in eu;if(!eg&&!em)throw Error("Expected bigint, number, boolean or string not ".concat(typeof eu,"(").concat(eu,") at ").concat(ed.join(".")))}function eA(eu,ed,eg){if(eu!==ed)throw Error("Array length ".concat(eu," does not match schema length ").concat(ed," at ").concat(eg.join(".")))}function eS(eu,ed){if("object"!=typeof eu||null===eu)throw Error("Expected object not ".concat(typeof eu,"(").concat(eu,") at ").concat(ed.join(".")))}ed.isArrayLike=ew,ed.expect_type=e_,ed.expect_bigint=eE,ed.expect_same_size=eA,ed.expect_enum=eS;var eI=eb.integers.concat(["bool","string"]),eC=["option","enum","array","set","map","struct"],eM=function(eu){function ed(ed,eg){var em="Invalid schema: ".concat(JSON.stringify(ed)," expected ").concat(eg);return eu.call(this,em)||this}return em(ed,eu),ed}(Error);function eO(eu){if(!("string"==typeof eu&&eI.includes(eu))){if(eu&&"object"==typeof eu){var ed=Object.keys(eu);if(1===ed.length&&eC.includes(ed[0])){var eg=ed[0];if("option"===eg)return eO(eu[eg]);if("enum"===eg)return eT(eu[eg]);if("array"===eg)return eP(eu[eg]);if("set"===eg)return eO(eu[eg]);if("map"===eg)return eN(eu[eg]);if("struct"===eg)return ek(eu[eg])}}throw new eM(eu,eC.join(", ")+" or "+eI.join(", "))}}function eT(eu){if(!Array.isArray(eu))throw new eM(eu,"Array");for(var ed=0,eg=eu;ed<eg.length;ed++){var em=eg[ed];if("object"!=typeof em||!("struct"in em))throw Error('Missing "struct" key in enum schema');if("object"!=typeof em.struct||1!==Object.keys(em.struct).length)throw Error('The "struct" in each enum must have a single key');eO({struct:em.struct})}}function eP(eu){if("object"!=typeof eu)throw new eM(eu,"{ type, len? }");if(eu.len&&"number"!=typeof eu.len)throw Error("Invalid schema: ".concat(eu));if("type"in eu)return eO(eu.type);throw new eM(eu,"{ type, len? }")}function eN(eu){if("object"==typeof eu&&"key"in eu&&"value"in eu)eO(eu.key),eO(eu.value);else throw new eM(eu,"{ key, value }")}function ek(eu){if("object"!=typeof eu)throw new eM(eu,"object");for(var ed in eu)eO(eu[ed])}ed.ErrorSchema=eM,ed.validate_schema=eO},70202:function(eu,ed){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.Assignable=void 0;class eg{constructor(eu){Object.keys(eu).map(ed=>{this[ed]=eu[ed]})}}ed.Assignable=eg},94236:function(eu,ed){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.ErrorContext=ed.TypedError=ed.ArgumentTypeError=ed.PositionalArgsError=void 0;class eg extends Error{constructor(){super("Contract method calls expect named arguments wrapped in object, e.g. { argName1: argValue1, argName2: argValue2 }")}}ed.PositionalArgsError=eg;class em extends Error{constructor(eu,ed,eg){super(`Expected ${ed} for '${eu}' argument, but got '${JSON.stringify(eg)}'`)}}ed.ArgumentTypeError=em;class eb extends Error{constructor(eu,ed,eg){super(eu),this.type=ed||"UntypedError",this.context=eg}}ed.TypedError=eb;class ew{constructor(eu){this.transactionHash=eu}}ed.ErrorContext=ew},73795:function(eu,ed,eg){"use strict";var em=this&&this.__createBinding||(Object.create?function(eu,ed,eg,em){void 0===em&&(em=eg);var eb=Object.getOwnPropertyDescriptor(ed,eg);(!eb||("get"in eb?!ed.__esModule:eb.writable||eb.configurable))&&(eb={enumerable:!0,get:function(){return ed[eg]}}),Object.defineProperty(eu,em,eb)}:function(eu,ed,eg,em){void 0===em&&(em=eg),eu[em]=ed[eg]}),eb=this&&this.__exportStar||function(eu,ed){for(var eg in eu)"default"===eg||Object.prototype.hasOwnProperty.call(ed,eg)||em(ed,eu,eg)};Object.defineProperty(ed,"__esModule",{value:!0}),eb(eg(70202),ed),eb(eg(94236),ed),eb(eg(59457),ed)},59457:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.FinalExecutionStatusBasic=ed.ExecutionStatusBasic=ed.IdType=void 0;var em=eg(66022);Object.defineProperty(ed,"IdType",{enumerable:!0,get:function(){return em.IdType}});var eb=eg(30659);Object.defineProperty(ed,"ExecutionStatusBasic",{enumerable:!0,get:function(){return eb.ExecutionStatusBasic}}),Object.defineProperty(ed,"FinalExecutionStatusBasic",{enumerable:!0,get:function(){return eb.FinalExecutionStatusBasic}})},66022:function(eu,ed){"use strict";var eg;Object.defineProperty(ed,"__esModule",{value:!0}),ed.IdType=void 0,function(eu){eu.Transaction="transaction",eu.Receipt="receipt"}(eg=ed.IdType||(ed.IdType={}))},30659:function(eu,ed){"use strict";var eg,em;Object.defineProperty(ed,"__esModule",{value:!0}),ed.FinalExecutionStatusBasic=ed.ExecutionStatusBasic=void 0,function(eu){eu.Unknown="Unknown",eu.Pending="Pending",eu.Failure="Failure"}(eg=ed.ExecutionStatusBasic||(ed.ExecutionStatusBasic={})),function(eu){eu.NotStarted="NotStarted",eu.Started="Started",eu.Failure="Failure"}(em=ed.FinalExecutionStatusBasic||(ed.FinalExecutionStatusBasic={}))},93296:function(eu,ed){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.DEFAULT_FUNCTION_CALL_GAS=void 0,ed.DEFAULT_FUNCTION_CALL_GAS=BigInt("30000000000000")},9743:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.logWarning=void 0;let em=eg(1081);function eb(...eu){let[ed,...eg]=eu;em.Logger.warn(ed,...eg)}ed.logWarning=eb},79639:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.parseRpcError=ed.parseResultError=ed.getErrorTypeFromErrorMessage=ed.formatError=ed.ServerError=ed.logWarning=void 0;var em=eg(9743);Object.defineProperty(ed,"logWarning",{enumerable:!0,get:function(){return em.logWarning}});var eb=eg(72666);Object.defineProperty(ed,"ServerError",{enumerable:!0,get:function(){return eb.ServerError}}),Object.defineProperty(ed,"formatError",{enumerable:!0,get:function(){return eb.formatError}}),Object.defineProperty(ed,"getErrorTypeFromErrorMessage",{enumerable:!0,get:function(){return eb.getErrorTypeFromErrorMessage}}),Object.defineProperty(ed,"parseResultError",{enumerable:!0,get:function(){return eb.parseResultError}}),Object.defineProperty(ed,"parseRpcError",{enumerable:!0,get:function(){return eb.parseRpcError}})},72666:function(eu,ed,eg){"use strict";var em=this&&this.__importDefault||function(eu){return eu&&eu.__esModule?eu:{default:eu}};Object.defineProperty(ed,"__esModule",{value:!0}),ed.getErrorTypeFromErrorMessage=ed.formatError=ed.parseResultError=ed.parseRpcError=ed.ServerError=void 0;let eb=eg(73795),ew=em(eg(16599)),e_=eg(99928),eE=em(eg(3807)),eA=em(eg(31342)),eS={formatNear:()=>(eu,ed)=>(0,e_.formatNearAmount)(ed(eu))};class eI extends eb.TypedError{}ed.ServerError=eI;class eC extends eI{}function eM(eu){let ed={},eg=eP(eu,eA.default.schema,ed,""),em=new eI(eT(eg,ed),eg);return Object.assign(em,ed),em}function eO(eu){let ed=eM(eu.status.Failure),eg=new eC;return Object.assign(eg,ed),eg.type=ed.type,eg.message=ed.message,eg.transaction_outcome=eu.transaction_outcome,eg}function eT(eu,ed){return"string"==typeof eE.default[eu]?ew.default.render(eE.default[eu],Object.assign(Object.assign({},ed),eS)):JSON.stringify(ed)}function eP(eu,ed,eg,em){let eb,ew,e_;for(let eg in ed){if(eR(eu[eg]))return eu[eg];if(ek(eu[eg]))eb=eu[eg],ew=ed[eg],e_=eg;else{if(!(ek(eu.kind)&&ek(eu.kind[eg])))continue;eb=eu.kind[eg],ew=ed[eg],e_=eg}}if(!eb||!ew)return eg.kind=eu,em;for(let eu of Object.keys(ew.props))eg[eu]=eb[eu];return eP(eb,ed,eg,e_)}function eN(eu,ed){switch(!0){case/^account .*? does not exist while viewing$/.test(eu):case/^Account .*? doesn't exist$/.test(eu):return"AccountDoesNotExist";case/^access key .*? does not exist while viewing$/.test(eu):return"AccessKeyDoesNotExist";case/wasm execution failed with error: FunctionCallError\(CompilationError\(CodeDoesNotExist/.test(eu):case/wasm execution failed with error: CompilationError\(CodeDoesNotExist/.test(eu):return"CodeDoesNotExist";case/wasm execution failed with error: FunctionCallError\(MethodResolveError\(MethodNotFound/.test(eu):case/wasm execution failed with error: MethodResolveError\(MethodNotFound/.test(eu):return"MethodNotFound";case/Transaction nonce \d+ must be larger than nonce of the used access key \d+/.test(eu):return"InvalidNonce";default:return ed}}function ek(eu){return"[object Object]"===Object.prototype.toString.call(eu)}function eR(eu){return"[object String]"===Object.prototype.toString.call(eu)}ed.parseRpcError=eM,ed.parseResultError=eO,ed.formatError=eT,ed.getErrorTypeFromErrorMessage=eN},99928:function(eu,ed,eg){"use strict";var em=this&&this.__importDefault||function(eu){return eu&&eu.__esModule?eu:{default:eu}};Object.defineProperty(ed,"__esModule",{value:!0}),ed.baseDecode=ed.baseEncode=ed.parseNearAmount=ed.formatNearAmount=ed.NEAR_NOMINATION=ed.NEAR_NOMINATION_EXP=void 0;let eb=em(eg(35302));ed.NEAR_NOMINATION_EXP=24,ed.NEAR_NOMINATION=BigInt(10)**BigInt(ed.NEAR_NOMINATION_EXP);let ew=[],e_=BigInt(10);for(let eu=0,eg=BigInt(5);eu<ed.NEAR_NOMINATION_EXP;eu++,eg*=e_)ew[eu]=eg;function eE(eu,eg=ed.NEAR_NOMINATION_EXP){let em=BigInt(eu);if(eg!==ed.NEAR_NOMINATION_EXP){let eu=ed.NEAR_NOMINATION_EXP-eg-1;eu>0&&(em+=ew[eu])}eu=em.toString();let eb=eu.substring(0,eu.length-ed.NEAR_NOMINATION_EXP)||"0",e_=eu.substring(eu.length-ed.NEAR_NOMINATION_EXP).padStart(ed.NEAR_NOMINATION_EXP,"0").substring(0,eg);return eI(`${eM(eb)}.${e_}`)}function eA(eu){if(!eu)return null;eu=eS(eu);let eg=eu.split("."),em=eg[0],eb=eg[1]||"";if(eg.length>2||eb.length>ed.NEAR_NOMINATION_EXP)throw Error(`Cannot parse '${eu}' as NEAR amount`);return eC(em+eb.padEnd(ed.NEAR_NOMINATION_EXP,"0"))}function eS(eu){return eu.replace(/,/g,"").trim()}function eI(eu){return eu.replace(/\.?0*$/,"")}function eC(eu){return""===(eu=eu.replace(/^0+/,""))?"0":eu}function eM(eu){let ed=/(-?\d+)(\d{3})/;for(;ed.test(eu);)eu=eu.replace(ed,"$1,$2");return eu}function eO(eu){if("string"==typeof eu){let ed=[];for(let eg=0;eg<eu.length;eg++)ed.push(eu.charCodeAt(eg));eu=new Uint8Array(ed)}return eb.default.encode(eu)}function eT(eu){return new Uint8Array(eb.default.decode(eu))}ed.formatNearAmount=eE,ed.parseNearAmount=eA,ed.baseEncode=eO,ed.baseDecode=eT},56035:function(eu,ed,eg){"use strict";var em=this&&this.__createBinding||(Object.create?function(eu,ed,eg,em){void 0===em&&(em=eg);var eb=Object.getOwnPropertyDescriptor(ed,eg);(!eb||("get"in eb?!ed.__esModule:eb.writable||eb.configurable))&&(eb={enumerable:!0,get:function(){return ed[eg]}}),Object.defineProperty(eu,em,eb)}:function(eu,ed,eg,em){void 0===em&&(em=eg),eu[em]=ed[eg]}),eb=this&&this.__exportStar||function(eu,ed){for(var eg in eu)"default"===eg||Object.prototype.hasOwnProperty.call(ed,eg)||em(ed,eu,eg)};Object.defineProperty(ed,"__esModule",{value:!0}),eb(eg(93296),ed),eb(eg(79639),ed),eb(eg(99928),ed),eb(eg(67260),ed),eb(eg(44554),ed),eb(eg(58728),ed),eb(eg(1081),ed),eb(eg(9175),ed)},25216:function(eu,ed){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.ConsoleLogger=void 0;class eg{constructor(eu){this.logLevels=eu,this.isLevelEnabled=eu=>this.logLevels.includes(eu)}print(eu,ed,...eg){switch(eu){case"error":case"fatal":return console.error(ed,...eg);case"warn":return console.warn(ed,...eg);case"log":return console.log(ed,...eg);case"debug":case"verbose":return console.debug(ed,...eg)}}verbose(eu,...ed){this.isLevelEnabled("verbose")&&this.print("verbose",eu,...ed)}debug(eu,...ed){this.isLevelEnabled("debug")&&this.print("debug",eu,...ed)}log(eu,...ed){this.isLevelEnabled("log")&&this.print("log",eu,...ed)}warn(eu,...ed){this.isLevelEnabled("warn")&&this.print("warn",eu,...ed)}error(eu,...ed){this.isLevelEnabled("error")&&this.print("error",eu,...ed)}fatal(eu,...ed){this.isLevelEnabled("fatal")&&this.print("fatal",eu,...ed)}}ed.ConsoleLogger=eg},1081:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.Logger=void 0;var em=eg(87069);Object.defineProperty(ed,"Logger",{enumerable:!0,get:function(){return em.Logger}})},87069:function(eu,ed,eg){"use strict";var em,eb=eg(34406);Object.defineProperty(ed,"__esModule",{value:!0}),ed.Logger=void 0;let ew=eg(25216),e_=["verbose","debug","log","warn","error","fatal"],eE="object"==typeof eb&&eb.env.NEAR_NO_LOGS?void 0:new ew.ConsoleLogger(e_);class eA{static error(eu,...ed){var eg;null===(eg=this.instanceRef)||void 0===eg||eg.error(eu,...ed)}static log(eu,...ed){var eg;null===(eg=this.instanceRef)||void 0===eg||eg.log(eu,...ed)}static warn(eu,...ed){var eg;null===(eg=this.instanceRef)||void 0===eg||eg.warn(eu,...ed)}static debug(eu,...ed){var eg,em;null===(em=null===(eg=this.instanceRef)||void 0===eg?void 0:eg.debug)||void 0===em||em.call(eg,eu,...ed)}static verbose(eu,...ed){var eg,em;null===(em=null===(eg=this.instanceRef)||void 0===eg?void 0:eg.verbose)||void 0===em||em.call(eg,eu,...ed)}static fatal(eu,...ed){var eg,em;null===(em=null===(eg=this.instanceRef)||void 0===eg?void 0:eg.fatal)||void 0===em||em.call(eg,eu,...ed)}}ed.Logger=eA,em=eA,eA.instanceRef=eE,eA.overrideLogger=eu=>{em.instanceRef=eu}},67260:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.printTxOutcomeLogs=ed.printTxOutcomeLogsAndFailures=void 0;let em=eg(79639),eb=eg(1081);function ew({contractId:eu,outcome:ed}){let eg=[ed.transaction_outcome,...ed.receipts_outcome].reduce((eu,ed)=>{let eg="object"==typeof ed.outcome.status&&"object"==typeof ed.outcome.status.Failure;return ed.outcome.logs.length||eg?eu.concat({receiptIds:ed.outcome.receipt_ids,logs:ed.outcome.logs,failure:"object"==typeof ed.outcome.status&&void 0!==ed.outcome.status.Failure?(0,em.parseRpcError)(ed.outcome.status.Failure):null}):eu},[]);for(let ed of eg)eb.Logger.log(`Receipt${ed.receiptIds.length>1?"s":""}: ${ed.receiptIds.join(", ")}`),e_({contractId:eu,logs:ed.logs,prefix:"	"}),ed.failure&&eb.Logger.warn(`	Failure [${eu}]: ${ed.failure}`)}function e_({contractId:eu,logs:ed,prefix:eg=""}){for(let em of ed)eb.Logger.log(`${eg}Log [${eu}]: ${em}`)}ed.printTxOutcomeLogsAndFailures=ew,ed.printTxOutcomeLogs=e_},44554:function(eu,ed,eg){"use strict";var em=eg(48834).Buffer;function eb(eu){if("object"==typeof eu.status&&"string"==typeof eu.status.SuccessValue){let ed=em.from(eu.status.SuccessValue,"base64").toString();try{return JSON.parse(ed)}catch(eu){return ed}}return null}Object.defineProperty(ed,"__esModule",{value:!0}),ed.getTransactionLastResult=void 0,ed.getTransactionLastResult=eb},9175:function(eu,ed){"use strict";function eg(eu,ed){return eu<ed?-1:eu>ed?1:0}Object.defineProperty(ed,"__esModule",{value:!0}),ed.sortBigIntAsc=void 0,ed.sortBigIntAsc=eg},58728:function(eu,ed,eg){"use strict";var em=this&&this.__importDefault||function(eu){return eu&&eu.__esModule?eu:{default:eu}};Object.defineProperty(ed,"__esModule",{value:!0}),ed.diffEpochValidators=ed.findSeatPrice=void 0;let eb=em(eg(64410)),ew=eg(9175);function e_(eu,ed,eg,em){if(em&&em<49)return eE(eu,ed);if(!eg){let eu=(0,eb.default)("findSeatPrice(validators, maxNumberOfSeats)");eu("`use `findSeatPrice(validators, maxNumberOfSeats, minimumStakeRatio)` instead"),eg=[1,6250]}return eA(eu,ed,eg)}function eE(eu,ed){let eg=eu.map(eu=>BigInt(eu.stake)).sort(ew.sortBigIntAsc),em=BigInt(ed),eb=eg.reduce((eu,ed)=>eu+ed);if(eb<em)throw Error("Stakes are below seats");let e_=BigInt(1),eE=eb+BigInt(1);for(;e_!==eE-BigInt(1);){let eu=(e_+eE)/BigInt(2),ed=!1,eb=BigInt(0);for(let ew=0;ew<eg.length;++ew)if((eb+=eg[ew]/eu)>=em){e_=eu,ed=!0;break}ed||(eE=eu)}return e_}function eA(eu,ed,eg){if(2!=eg.length)throw Error("minimumStakeRatio should have 2 elements");let em=eu.map(eu=>BigInt(eu.stake)).sort(ew.sortBigIntAsc),eb=em.reduce((eu,ed)=>eu+ed);return eu.length<ed?eb*BigInt(eg[0])/BigInt(eg[1]):em[0]+BigInt(1)}function eS(eu,ed){let eg=new Map;eu.forEach(eu=>eg.set(eu.account_id,eu));let em=new Set(ed.map(eu=>eu.account_id));return{newValidators:ed.filter(eu=>!eg.has(eu.account_id)),removedValidators:eu.filter(eu=>!em.has(eu.account_id)),changedValidators:ed.filter(eu=>eg.has(eu.account_id)&&eg.get(eu.account_id).stake!=eu.stake).map(eu=>({current:eg.get(eu.account_id),next:eu}))}}ed.findSeatPrice=e_,ed.diffEpochValidators=eS},79824:function(eu,ed,eg){var em=eg(77834).Buffer;eu.exports=function(eu){for(var ed={},eg=eu.length,eb=eu.charAt(0),ew=0;ew<eu.length;ew++){var e_=eu.charAt(ew);if(void 0!==ed[e_])throw TypeError(e_+" is ambiguous");ed[e_]=ew}function eE(eu){if(0===eu.length)return em.allocUnsafe(0);for(var ew=[0],e_=0;e_<eu.length;e_++){var eE=ed[eu[e_]];if(void 0===eE)return;for(var eA=0,eS=eE;eA<ew.length;++eA)eS+=ew[eA]*eg,ew[eA]=255&eS,eS>>=8;for(;eS>0;)ew.push(255&eS),eS>>=8}for(var eI=0;eu[eI]===eb&&eI<eu.length-1;++eI)ew.push(0);return em.from(ew.reverse())}function eA(eu){var ed=eE(eu);if(ed)return ed;throw Error("Non-base"+eg+" character")}return{encode:function(ed){if(0===ed.length)return"";for(var em=[0],eb=0;eb<ed.length;++eb){for(var ew=0,e_=ed[eb];ew<em.length;++ew)e_+=em[ew]<<8,em[ew]=e_%eg,e_=e_/eg|0;for(;e_>0;)em.push(e_%eg),e_=e_/eg|0}for(var eE="",eA=0;0===ed[eA]&&eA<ed.length-1;++eA)eE+=eu[0];for(var eS=em.length-1;eS>=0;--eS)eE+=eu[em[eS]];return eE},decodeUnsafe:eE,decode:eA}}},35302:function(eu,ed,eg){var em=eg(79824),eb="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";eu.exports=em(eb)},60465:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.WalletConnection=ed.ConnectedWalletAccount=ed.Near=void 0;var em=eg(95356);Object.defineProperty(ed,"Near",{enumerable:!0,get:function(){return em.Near}});var eb=eg(14860);Object.defineProperty(ed,"ConnectedWalletAccount",{enumerable:!0,get:function(){return eb.ConnectedWalletAccount}}),Object.defineProperty(ed,"WalletConnection",{enumerable:!0,get:function(){return eb.WalletConnection}})},95356:function(eu,ed,eg){"use strict";var em=this&&this.__awaiter||function(eu,ed,eg,em){function eb(eu){return eu instanceof eg?eu:new eg(function(ed){ed(eu)})}return new(eg||(eg=Promise))(function(eg,ew){function e_(eu){try{eA(em.next(eu))}catch(eu){ew(eu)}}function eE(eu){try{eA(em.throw(eu))}catch(eu){ew(eu)}}function eA(eu){eu.done?eg(eu.value):eb(eu.value).then(e_,eE)}eA((em=em.apply(eu,ed||[])).next())})};Object.defineProperty(ed,"__esModule",{value:!0}),ed.Near=void 0;let eb=eg(54285);class ew{constructor(eu){var ed;if(this.config=eu,this.connection=eb.Connection.fromConfig({networkId:eu.networkId,provider:eu.provider||{type:"JsonRpcProvider",args:{url:eu.nodeUrl,headers:eu.headers}},signer:eu.signer||{type:"InMemorySigner",keyStore:eu.keyStore||(null===(ed=eu.deps)||void 0===ed?void 0:ed.keyStore)},jsvmAccountId:eu.jsvmAccountId||`jsvm.${eu.networkId}`}),eu.masterAccount){let ed=eu.initialBalance?BigInt(eu.initialBalance):BigInt("500000000000000000000000000");this.accountCreator=new eb.LocalAccountCreator(new eb.Account(this.connection,eu.masterAccount),ed)}else eu.helperUrl?this.accountCreator=new eb.UrlAccountCreator(this.connection,eu.helperUrl):this.accountCreator=null}account(eu){return em(this,void 0,void 0,function*(){let ed=new eb.Account(this.connection,eu);return ed})}createAccount(eu,ed){return em(this,void 0,void 0,function*(){if(!this.accountCreator)throw Error("Must specify account creator, either via masterAccount or helperUrl configuration settings.");return yield this.accountCreator.createAccount(eu,ed),new eb.Account(this.connection,eu)})}}ed.Near=ew},14860:function(eu,ed,eg){"use strict";var em=eg(48834).Buffer,eb=this&&this.__awaiter||function(eu,ed,eg,em){function eb(eu){return eu instanceof eg?eu:new eg(function(ed){ed(eu)})}return new(eg||(eg=Promise))(function(eg,ew){function e_(eu){try{eA(em.next(eu))}catch(eu){ew(eu)}}function eE(eu){try{eA(em.throw(eu))}catch(eu){ew(eu)}}function eA(eu){eu.done?eg(eu.value):eb(eu.value).then(e_,eE)}eA((em=em.apply(eu,ed||[])).next())})};Object.defineProperty(ed,"__esModule",{value:!0}),ed.ConnectedWalletAccount=ed.WalletConnection=void 0;let ew=eg(54285),e_=eg(34327),eE=eg(56035),eA=eg(42787),eS=eg(53736),eI="/login/",eC="add_request_and_confirm",eM="_wallet_auth_key",eO="pending_key";class eT{constructor(eu,ed){if("string"!=typeof ed)throw Error("Please define a clear appKeyPrefix for this WalletConnection instance as the second argument to the constructor");if("undefined"==typeof window)return new Proxy(this,{get:(eu,ed)=>"isSignedIn"===ed?()=>!1:"getAccountId"===ed?()=>"":eu[ed]&&"function"==typeof eu[ed]?()=>{throw Error("No window found in context, please ensure you are using WalletConnection on the browser")}:eu[ed]});this._near=eu;let eg=ed+eM,em=JSON.parse(window.localStorage.getItem(eg));this._networkId=eu.config.networkId,this._walletBaseUrl=eu.config.walletUrl,ed=ed||eu.config.contractName||"default",this._keyStore=eu.connection.signer.keyStore,this._authData=em||{allKeys:[]},this._authDataKey=eg,this.isSignedIn()||(this._completeSignInPromise=this._completeSignInWithAccessKey())}isSignedIn(){return!!this._authData.accountId}isSignedInAsync(){return eb(this,void 0,void 0,function*(){return this._completeSignInPromise&&(yield this._completeSignInPromise),this.isSignedIn()})}getAccountId(){return this._authData.accountId||""}requestSignInUrl({contractId:eu,methodNames:ed,successUrl:eg,failureUrl:em,keyType:ew="ed25519"}){return eb(this,void 0,void 0,function*(){let eb=new URL(window.location.href),eE=new URL(this._walletBaseUrl+eI);if(eE.searchParams.set("success_url",eg||eb.href),eE.searchParams.set("failure_url",em||eb.href),eu){let ed=yield this._near.account(eu);yield ed.state(),eE.searchParams.set("contract_id",eu);let eg=e_.KeyPair.fromRandom(ew);eE.searchParams.set("public_key",eg.getPublicKey().toString()),yield this._keyStore.setKey(this._networkId,eO+eg.getPublicKey(),eg)}return ed&&ed.forEach(eu=>{eE.searchParams.append("methodNames",eu)}),eE.toString()})}requestSignIn(eu){return eb(this,void 0,void 0,function*(){let ed=yield this.requestSignInUrl(eu);window.location.assign(ed)})}requestSignTransactionsUrl({transactions:eu,meta:ed,callbackUrl:eg}){let eb=new URL(window.location.href),ew=new URL("sign",this._walletBaseUrl);return ew.searchParams.set("transactions",eu.map(eu=>(0,eS.serialize)(eA.SCHEMA.Transaction,eu)).map(eu=>em.from(eu).toString("base64")).join(",")),ew.searchParams.set("callbackUrl",eg||eb.href),ed&&ew.searchParams.set("meta",ed),ew.toString()}requestSignTransactions(eu){let ed=this.requestSignTransactionsUrl(eu);window.location.assign(ed)}_completeSignInWithAccessKey(){return eb(this,void 0,void 0,function*(){let eu=new URL(window.location.href),ed=eu.searchParams.get("public_key")||"",eg=(eu.searchParams.get("all_keys")||"").split(","),em=eu.searchParams.get("account_id")||"";if(em){let eu={accountId:em,allKeys:eg};window.localStorage.setItem(this._authDataKey,JSON.stringify(eu)),ed&&(yield this._moveKeyFromTempToPermanent(em,ed)),this._authData=eu}eu.searchParams.delete("public_key"),eu.searchParams.delete("all_keys"),eu.searchParams.delete("account_id"),eu.searchParams.delete("meta"),eu.searchParams.delete("transactionHashes"),window.history.replaceState({},document.title,eu.toString())})}_moveKeyFromTempToPermanent(eu,ed){return eb(this,void 0,void 0,function*(){let eg=yield this._keyStore.getKey(this._networkId,eO+ed);yield this._keyStore.setKey(this._networkId,eu,eg),yield this._keyStore.removeKey(this._networkId,eO+ed)})}signOut(){this._authData={},window.localStorage.removeItem(this._authDataKey)}account(){return this._connectedAccount||(this._connectedAccount=new eP(this,this._near.connection,this._authData.accountId)),this._connectedAccount}}ed.WalletConnection=eT;class eP extends ew.Account{constructor(eu,ed,eg){super(ed,eg),this.walletConnection=eu}signAndSendTransaction({receiverId:eu,actions:ed,walletMeta:eg,walletCallbackUrl:em=window.location.href}){let ew=Object.create(null,{signAndSendTransaction:{get:()=>super.signAndSendTransaction}});return eb(this,void 0,void 0,function*(){let eb=yield this.connection.signer.getPublicKey(this.accountId,this.connection.networkId),eS=yield this.accessKeyForTransaction(eu,ed,eb);if(!eS)throw Error(`Cannot find matching key for transaction sent to ${eu}`);if(eb&&eb.toString()===eS.public_key)try{return yield ew.signAndSendTransaction.call(this,{receiverId:eu,actions:ed})}catch(eg){if("NotEnoughAllowance"===eg.type)eS=yield this.accessKeyForTransaction(eu,ed);else throw eg}let eI=yield this.connection.provider.block({finality:"final"}),eC=(0,eE.baseDecode)(eI.header.hash),eM=e_.PublicKey.from(eS.public_key),eO=eS.access_key.nonce+BigInt(1),eT=(0,eA.createTransaction)(this.accountId,eM,eu,eO,ed,eC);return yield this.walletConnection.requestSignTransactions({transactions:[eT],meta:eg,callbackUrl:em}),new Promise((eu,ed)=>{setTimeout(()=>{ed(Error("Failed to redirect to sign transaction"))},1e3)})})}accessKeyMatchesTransaction(eu,ed,eg){return eb(this,void 0,void 0,function*(){let{access_key:{permission:em}}=eu;if("FullAccess"===em)return!0;if(em.FunctionCall){let{receiver_id:eu,method_names:eb}=em.FunctionCall;if(eu===this.accountId&&eb.includes(eC))return!0;if(eu===ed){if(1!==eg.length)return!1;let[{functionCall:eu}]=eg;return eu&&(!eu.deposit||"0"===eu.deposit.toString())&&(0===eb.length||eb.includes(eu.methodName))}}return!1})}accessKeyForTransaction(eu,ed,eg){return eb(this,void 0,void 0,function*(){let em=yield this.getAccessKeys();if(eg){let eb=em.find(eu=>eu.public_key.toString()===eg.toString());if(eb&&(yield this.accessKeyMatchesTransaction(eb,eu,ed)))return eb}let eb=this.walletConnection._authData.allKeys;for(let eg of em)if(-1!==eb.indexOf(eg.public_key)&&(yield this.accessKeyMatchesTransaction(eg,eu,ed)))return eg;return null})}}ed.ConnectedWalletAccount=eP},5649:function(eu,ed){"use strict";ed.__esModule=!0,ed.DecodeBuffer=ed.EncodeBuffer=void 0;var eg=function(){function eu(){this.offset=0,this.buffer_size=256,this.buffer=new ArrayBuffer(this.buffer_size),this.view=new DataView(this.buffer)}return eu.prototype.resize_if_necessary=function(eu){if(this.buffer_size-this.offset<eu){this.buffer_size=Math.max(2*this.buffer_size,this.buffer_size+eu);var ed=new ArrayBuffer(this.buffer_size);new Uint8Array(ed).set(new Uint8Array(this.buffer)),this.buffer=ed,this.view=new DataView(ed)}},eu.prototype.get_used_buffer=function(){return new Uint8Array(this.buffer).slice(0,this.offset)},eu.prototype.store_value=function(eu,ed){var eg=ed.substring(1),em=parseInt(eg)/8;this.resize_if_necessary(em);var eb="f"===ed[0]?"setFloat".concat(eg):"i"===ed[0]?"setInt".concat(eg):"setUint".concat(eg);this.view[eb](this.offset,eu,!0),this.offset+=em},eu.prototype.store_bytes=function(eu){this.resize_if_necessary(eu.length),new Uint8Array(this.buffer).set(new Uint8Array(eu),this.offset),this.offset+=eu.length},eu}();ed.EncodeBuffer=eg;var em=function(){function eu(eu){this.offset=0,this.buffer_size=eu.length,this.buffer=new ArrayBuffer(eu.length),new Uint8Array(this.buffer).set(eu),this.view=new DataView(this.buffer)}return eu.prototype.assert_enough_buffer=function(eu){if(this.offset+eu>this.buffer.byteLength)throw Error("Error in schema, the buffer is smaller than expected")},eu.prototype.consume_value=function(eu){var ed=eu.substring(1),eg=parseInt(ed)/8;this.assert_enough_buffer(eg);var em="f"===eu[0]?"getFloat".concat(ed):"i"===eu[0]?"getInt".concat(ed):"getUint".concat(ed),eb=this.view[em](this.offset,!0);return this.offset+=eg,eb},eu.prototype.consume_bytes=function(eu){this.assert_enough_buffer(eu);var ed=this.buffer.slice(this.offset,this.offset+eu);return this.offset+=eu,ed},eu}();ed.DecodeBuffer=em},19495:function(eu,ed,eg){"use strict";ed.__esModule=!0,ed.BorshDeserializer=void 0;var em=eg(71705),eb=eg(5649),ew=function(){function eu(eu){this.buffer=new eb.DecodeBuffer(eu)}return eu.prototype.decode=function(eu){return this.decode_value(eu)},eu.prototype.decode_value=function(eu){if("string"==typeof eu){if(em.integers.includes(eu))return this.decode_integer(eu);if("string"===eu)return this.decode_string();if("bool"===eu)return this.decode_boolean()}if("object"==typeof eu){if("option"in eu)return this.decode_option(eu);if("enum"in eu)return this.decode_enum(eu);if("array"in eu)return this.decode_array(eu);if("set"in eu)return this.decode_set(eu);if("map"in eu)return this.decode_map(eu);if("struct"in eu)return this.decode_struct(eu)}throw Error("Unsupported type: ".concat(eu))},eu.prototype.decode_integer=function(eu){var ed=parseInt(eu.substring(1));return ed<=32||"f64"==eu?this.buffer.consume_value(eu):this.decode_bigint(ed,eu.startsWith("i"))},eu.prototype.decode_bigint=function(eu,ed){void 0===ed&&(ed=!1);var eg=eu/8,em=new Uint8Array(this.buffer.consume_bytes(eg)),eb=em.reduceRight(function(eu,ed){return eu+ed.toString(16).padStart(2,"0")},"");return ed&&em[eg-1]?BigInt.asIntN(eu,BigInt("0x".concat(eb))):BigInt("0x".concat(eb))},eu.prototype.decode_string=function(){var eu=this.decode_integer("u32"),ed=new Uint8Array(this.buffer.consume_bytes(eu));return String.fromCharCode.apply(null,ed)},eu.prototype.decode_boolean=function(){return this.buffer.consume_value("u8")>0},eu.prototype.decode_option=function(eu){var ed=this.buffer.consume_value("u8");if(1===ed)return this.decode_value(eu.option);if(0!==ed)throw Error("Invalid option ".concat(ed));return null},eu.prototype.decode_enum=function(eu){var ed,eg=this.buffer.consume_value("u8");if(eg>eu.enum.length)throw Error("Enum option ".concat(eg," is not available"));var em=eu.enum[eg].struct,eb=Object.keys(em)[0];return(ed={})[eb]=this.decode_value(em[eb]),ed},eu.prototype.decode_array=function(eu){for(var ed=[],eg=eu.array.len?eu.array.len:this.decode_integer("u32"),em=0;em<eg;++em)ed.push(this.decode_value(eu.array.type));return ed},eu.prototype.decode_set=function(eu){for(var ed=this.decode_integer("u32"),eg=new Set,em=0;em<ed;++em)eg.add(this.decode_value(eu.set));return eg},eu.prototype.decode_map=function(eu){for(var ed=this.decode_integer("u32"),eg=new Map,em=0;em<ed;++em){var eb=this.decode_value(eu.map.key),ew=this.decode_value(eu.map.value);eg.set(eb,ew)}return eg},eu.prototype.decode_struct=function(eu){var ed={};for(var eg in eu.struct)ed[eg]=this.decode_value(eu.struct[eg]);return ed},eu}();ed.BorshDeserializer=ew},53736:function(eu,ed,eg){"use strict";var em=this&&this.__createBinding||(Object.create?function(eu,ed,eg,em){void 0===em&&(em=eg);var eb=Object.getOwnPropertyDescriptor(ed,eg);(!eb||("get"in eb?!ed.__esModule:eb.writable||eb.configurable))&&(eb={enumerable:!0,get:function(){return ed[eg]}}),Object.defineProperty(eu,em,eb)}:function(eu,ed,eg,em){void 0===em&&(em=eg),eu[em]=ed[eg]}),eb=this&&this.__setModuleDefault||(Object.create?function(eu,ed){Object.defineProperty(eu,"default",{enumerable:!0,value:ed})}:function(eu,ed){eu.default=ed}),ew=this&&this.__importStar||function(eu){if(eu&&eu.__esModule)return eu;var ed={};if(null!=eu)for(var eg in eu)"default"!==eg&&Object.prototype.hasOwnProperty.call(eu,eg)&&em(ed,eu,eg);return eb(ed,eu),ed};ed.__esModule=!0,ed.deserialize=ed.serialize=void 0;var e_=eg(72522),eE=eg(19495),eA=ew(eg(80472));function eS(eu,ed,eg){return void 0===eg&&(eg=!0),eg&&eA.validate_schema(eu),new e_.BorshSerializer(eg).encode(ed,eu)}function eI(eu,ed,eg){return void 0===eg&&(eg=!0),eg&&eA.validate_schema(eu),new eE.BorshDeserializer(ed).decode(eu)}ed.serialize=eS,ed.deserialize=eI},72522:function(eu,ed,eg){"use strict";var em=this&&this.__createBinding||(Object.create?function(eu,ed,eg,em){void 0===em&&(em=eg);var eb=Object.getOwnPropertyDescriptor(ed,eg);(!eb||("get"in eb?!ed.__esModule:eb.writable||eb.configurable))&&(eb={enumerable:!0,get:function(){return ed[eg]}}),Object.defineProperty(eu,em,eb)}:function(eu,ed,eg,em){void 0===em&&(em=eg),eu[em]=ed[eg]}),eb=this&&this.__setModuleDefault||(Object.create?function(eu,ed){Object.defineProperty(eu,"default",{enumerable:!0,value:ed})}:function(eu,ed){eu.default=ed}),ew=this&&this.__importStar||function(eu){if(eu&&eu.__esModule)return eu;var ed={};if(null!=eu)for(var eg in eu)"default"!==eg&&Object.prototype.hasOwnProperty.call(eu,eg)&&em(ed,eu,eg);return eb(ed,eu),ed};ed.__esModule=!0,ed.BorshSerializer=void 0;var e_=eg(71705),eE=eg(5649),eA=ew(eg(80472)),eS=function(){function eu(eu){this.encoded=new eE.EncodeBuffer,this.fieldPath=["value"],this.checkTypes=eu}return eu.prototype.encode=function(eu,ed){return this.encode_value(eu,ed),this.encoded.get_used_buffer()},eu.prototype.encode_value=function(eu,ed){if("string"==typeof ed){if(e_.integers.includes(ed))return this.encode_integer(eu,ed);if("string"===ed)return this.encode_string(eu);if("bool"===ed)return this.encode_boolean(eu)}if("object"==typeof ed){if("option"in ed)return this.encode_option(eu,ed);if("enum"in ed)return this.encode_enum(eu,ed);if("array"in ed)return this.encode_array(eu,ed);if("set"in ed)return this.encode_set(eu,ed);if("map"in ed)return this.encode_map(eu,ed);if("struct"in ed)return this.encode_struct(eu,ed)}},eu.prototype.encode_integer=function(eu,ed){var eg=parseInt(ed.substring(1));eg<=32||"f64"==ed?(this.checkTypes&&eA.expect_type(eu,"number",this.fieldPath),this.encoded.store_value(eu,ed)):(this.checkTypes&&eA.expect_bigint(eu,this.fieldPath),this.encode_bigint(BigInt(eu),eg))},eu.prototype.encode_bigint=function(eu,ed){for(var eg=ed/8,em=new Uint8Array(eg),eb=0;eb<eg;eb++)em[eb]=Number(eu&BigInt(255)),eu>>=BigInt(8);this.encoded.store_bytes(new Uint8Array(em))},eu.prototype.encode_string=function(eu){this.checkTypes&&eA.expect_type(eu,"string",this.fieldPath);var ed=eu;this.encoded.store_value(ed.length,"u32");for(var eg=0;eg<ed.length;eg++)this.encoded.store_value(ed.charCodeAt(eg),"u8")},eu.prototype.encode_boolean=function(eu){this.checkTypes&&eA.expect_type(eu,"boolean",this.fieldPath),this.encoded.store_value(eu?1:0,"u8")},eu.prototype.encode_option=function(eu,ed){null==eu?this.encoded.store_value(0,"u8"):(this.encoded.store_value(1,"u8"),this.encode_value(eu,ed.option))},eu.prototype.encode_enum=function(eu,ed){this.checkTypes&&eA.expect_enum(eu,this.fieldPath);for(var eg=Object.keys(eu)[0],em=0;em<ed.enum.length;em++){var eb=ed.enum[em];if(eg===Object.keys(eb.struct)[0])return this.encoded.store_value(em,"u8"),this.encode_struct(eu,eb)}throw Error("Enum key (".concat(eg,") not found in enum schema: ").concat(JSON.stringify(ed)," at ").concat(this.fieldPath.join(".")))},eu.prototype.encode_array=function(eu,ed){if(eA.isArrayLike(eu))return this.encode_arraylike(eu,ed);if(eu instanceof ArrayBuffer)return this.encode_buffer(eu,ed);throw Error("Expected Array-like not ".concat(typeof eu,"(").concat(eu,") at ").concat(this.fieldPath.join(".")))},eu.prototype.encode_arraylike=function(eu,ed){ed.array.len?eA.expect_same_size(eu.length,ed.array.len,this.fieldPath):this.encoded.store_value(eu.length,"u32");for(var eg=0;eg<eu.length;eg++)this.encode_value(eu[eg],ed.array.type)},eu.prototype.encode_buffer=function(eu,ed){ed.array.len?eA.expect_same_size(eu.byteLength,ed.array.len,this.fieldPath):this.encoded.store_value(eu.byteLength,"u32"),this.encoded.store_bytes(new Uint8Array(eu))},eu.prototype.encode_set=function(eu,ed){this.checkTypes&&eA.expect_type(eu,"object",this.fieldPath);var eg=eu instanceof Set?Array.from(eu.values()):Object.values(eu);this.encoded.store_value(eg.length,"u32");for(var em=0,eb=eg;em<eb.length;em++){var ew=eb[em];this.encode_value(ew,ed.set)}},eu.prototype.encode_map=function(eu,ed){this.checkTypes&&eA.expect_type(eu,"object",this.fieldPath);var eg=eu instanceof Map,em=eg?Array.from(eu.keys()):Object.keys(eu);this.encoded.store_value(em.length,"u32");for(var eb=0,ew=em;eb<ew.length;eb++){var e_=ew[eb];this.encode_value(e_,ed.map.key),this.encode_value(eg?eu.get(e_):eu[e_],ed.map.value)}},eu.prototype.encode_struct=function(eu,ed){this.checkTypes&&eA.expect_type(eu,"object",this.fieldPath);for(var eg=0,em=Object.keys(ed.struct);eg<em.length;eg++){var eb=em[eg];this.fieldPath.push(eb),this.encode_value(eu[eb],ed.struct[eb]),this.fieldPath.pop()}},eu}();ed.BorshSerializer=eS},71705:function(eu,ed){"use strict";ed.__esModule=!0,ed.integers=void 0,ed.integers=["u8","u16","u32","u64","u128","i8","i16","i32","i64","i128","f32","f64"]},80472:function(eu,ed,eg){"use strict";var em=this&&this.__extends||function(){var eu=function(ed,eg){return(eu=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(eu,ed){eu.__proto__=ed}||function(eu,ed){for(var eg in ed)Object.prototype.hasOwnProperty.call(ed,eg)&&(eu[eg]=ed[eg])})(ed,eg)};return function(ed,eg){if("function"!=typeof eg&&null!==eg)throw TypeError("Class extends value "+String(eg)+" is not a constructor or null");function em(){this.constructor=ed}eu(ed,eg),ed.prototype=null===eg?Object.create(eg):(em.prototype=eg.prototype,new em)}}();ed.__esModule=!0,ed.validate_schema=ed.ErrorSchema=ed.expect_enum=ed.expect_same_size=ed.expect_bigint=ed.expect_type=ed.isArrayLike=void 0;var eb=eg(71705);function ew(eu){return Array.isArray(eu)||!!eu&&"object"==typeof eu&&"length"in eu&&"number"==typeof eu.length&&(0===eu.length||eu.length>0&&eu.length-1 in eu)}function e_(eu,ed,eg){if(typeof eu!==ed)throw Error("Expected ".concat(ed," not ").concat(typeof eu,"(").concat(eu,") at ").concat(eg.join(".")))}function eE(eu,ed){var eg=["number","string","bigint","boolean"].includes(typeof eu),em="object"==typeof eu&&null!==eu&&"toString"in eu;if(!eg&&!em)throw Error("Expected bigint, number, boolean or string not ".concat(typeof eu,"(").concat(eu,") at ").concat(ed.join(".")))}function eA(eu,ed,eg){if(eu!==ed)throw Error("Array length ".concat(eu," does not match schema length ").concat(ed," at ").concat(eg.join(".")))}function eS(eu,ed){if("object"!=typeof eu||null===eu)throw Error("Expected object not ".concat(typeof eu,"(").concat(eu,") at ").concat(ed.join(".")))}ed.isArrayLike=ew,ed.expect_type=e_,ed.expect_bigint=eE,ed.expect_same_size=eA,ed.expect_enum=eS;var eI=eb.integers.concat(["bool","string"]),eC=["option","enum","array","set","map","struct"],eM=function(eu){function ed(ed,eg){var em="Invalid schema: ".concat(JSON.stringify(ed)," expected ").concat(eg);return eu.call(this,em)||this}return em(ed,eu),ed}(Error);function eO(eu){if(!("string"==typeof eu&&eI.includes(eu))){if(eu&&"object"==typeof eu){var ed=Object.keys(eu);if(1===ed.length&&eC.includes(ed[0])){var eg=ed[0];if("option"===eg)return eO(eu[eg]);if("enum"===eg)return eT(eu[eg]);if("array"===eg)return eP(eu[eg]);if("set"===eg)return eO(eu[eg]);if("map"===eg)return eN(eu[eg]);if("struct"===eg)return ek(eu[eg])}}throw new eM(eu,eC.join(", ")+" or "+eI.join(", "))}}function eT(eu){if(!Array.isArray(eu))throw new eM(eu,"Array");for(var ed=0,eg=eu;ed<eg.length;ed++){var em=eg[ed];if("object"!=typeof em||!("struct"in em))throw Error('Missing "struct" key in enum schema');if("object"!=typeof em.struct||1!==Object.keys(em.struct).length)throw Error('The "struct" in each enum must have a single key');eO({struct:em.struct})}}function eP(eu){if("object"!=typeof eu)throw new eM(eu,"{ type, len? }");if(eu.len&&"number"!=typeof eu.len)throw Error("Invalid schema: ".concat(eu));if("type"in eu)return eO(eu.type);throw new eM(eu,"{ type, len? }")}function eN(eu){if("object"==typeof eu&&"key"in eu&&"value"in eu)eO(eu.key),eO(eu.value);else throw new eM(eu,"{ key, value }")}function ek(eu){if("object"!=typeof eu)throw new eM(eu,"object");for(var ed in eu)eO(eu[ed])}ed.ErrorSchema=eM,ed.validate_schema=eO},77472:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.validateBasic=ed.wNAF=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */let em=eg(68857),eb=eg(54837),ew=BigInt(0),e_=BigInt(1);function eE(eu,ed){let eg=(eu,ed)=>{let eg=ed.negate();return eu?eg:ed},em=eu=>{let eg=Math.ceil(ed/eu)+1,em=2**(eu-1);return{windows:eg,windowSize:em}};return{constTimeNegate:eg,unsafeLadder(ed,eg){let em=eu.ZERO,eb=ed;for(;eg>ew;)eg&e_&&(em=em.add(eb)),eb=eb.double(),eg>>=e_;return em},precomputeWindow(eu,ed){let{windows:eg,windowSize:eb}=em(ed),ew=[],e_=eu,eE=e_;for(let eu=0;eu<eg;eu++){eE=e_,ew.push(eE);for(let eu=1;eu<eb;eu++)eE=eE.add(e_),ew.push(eE);e_=eE.double()}return ew},wNAF(ed,eb,ew){let{windows:eE,windowSize:eA}=em(ed),eS=eu.ZERO,eI=eu.BASE,eC=BigInt(2**ed-1),eM=2**ed,eO=BigInt(ed);for(let eu=0;eu<eE;eu++){let ed=eu*eA,em=Number(ew&eC);ew>>=eO,em>eA&&(em-=eM,ew+=e_);let eE=ed,eT=ed+Math.abs(em)-1,eP=eu%2!=0,eN=em<0;0===em?eI=eI.add(eg(eP,eb[eE])):eS=eS.add(eg(eN,eb[eT]))}return{p:eS,f:eI}},wNAFCached(eu,ed,eg,em){let eb=eu._WINDOW_SIZE||1,ew=ed.get(eu);return ew||(ew=this.precomputeWindow(eu,eb),1!==eb&&ed.set(eu,em(ew))),this.wNAF(eb,ew,eg)}}}function eA(eu){return(0,em.validateField)(eu.Fp),(0,eb.validateObject)(eu,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,em.nLength)(eu.n,eu.nBitLength),...eu,p:eu.Fp.ORDER})}ed.wNAF=eE,ed.validateBasic=eA},77406:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.twistedEdwards=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */let em=eg(68857),eb=eg(54837),ew=eg(54837),e_=eg(77472),eE=BigInt(0),eA=BigInt(1),eS=BigInt(2),eI=BigInt(8),eC={zip215:!0};function eM(eu){let ed=(0,e_.validateBasic)(eu);return eb.validateObject(eu,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...ed})}function eO(eu){let ed=eM(eu),{Fp:eg,n:eO,prehash:eT,hash:eP,randomBytes:eN,nByteLength:ek,h:eR}=ed,eD=eS<<BigInt(8*ek)-eA,eB=eg.create,eU=ed.uvRatio||((eu,ed)=>{try{return{isValid:!0,value:eg.sqrt(eu*eg.inv(ed))}}catch(eu){return{isValid:!1,value:eE}}}),eL=ed.adjustScalarBytes||(eu=>eu),ej=ed.domain||((eu,ed,eg)=>{if(ed.length||eg)throw Error("Contexts/pre-hash are not supported");return eu}),eF=eu=>"bigint"==typeof eu&&eE<eu,e$=(eu,ed)=>eF(eu)&&eF(ed)&&eu<ed,eK=eu=>eu===eE||e$(eu,eD);function eH(eu,ed){if(e$(eu,ed))return eu;throw Error(`Expected valid scalar < ${ed}, got ${typeof eu} ${eu}`)}function eV(eu){return eu===eE?eu:eH(eu,eO)}let eG=new Map;function eW(eu){if(!(eu instanceof eJ))throw Error("ExtendedPoint expected")}class eJ{constructor(eu,ed,eg,em){if(this.ex=eu,this.ey=ed,this.ez=eg,this.et=em,!eK(eu))throw Error("x required");if(!eK(ed))throw Error("y required");if(!eK(eg))throw Error("z required");if(!eK(em))throw Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(eu){if(eu instanceof eJ)throw Error("extended point not allowed");let{x:ed,y:eg}=eu||{};if(!eK(ed)||!eK(eg))throw Error("invalid affine point");return new eJ(ed,eg,eA,eB(ed*eg))}static normalizeZ(eu){let ed=eg.invertBatch(eu.map(eu=>eu.ez));return eu.map((eu,eg)=>eu.toAffine(ed[eg])).map(eJ.fromAffine)}_setWindowSize(eu){this._WINDOW_SIZE=eu,eG.delete(this)}assertValidity(){let{a:eu,d:eg}=ed;if(this.is0())throw Error("bad point: ZERO");let{ex:em,ey:eb,ez:ew,et:e_}=this,eE=eB(em*em),eA=eB(eb*eb),eS=eB(ew*ew),eI=eB(eS*eS),eC=eB(eE*eu),eM=eB(eS*eB(eC+eA)),eO=eB(eI+eB(eg*eB(eE*eA)));if(eM!==eO)throw Error("bad point: equation left != right (1)");let eT=eB(em*eb),eP=eB(ew*e_);if(eT!==eP)throw Error("bad point: equation left != right (2)")}equals(eu){eW(eu);let{ex:ed,ey:eg,ez:em}=this,{ex:eb,ey:ew,ez:e_}=eu,eE=eB(ed*e_),eA=eB(eb*em),eS=eB(eg*e_),eI=eB(ew*em);return eE===eA&&eS===eI}is0(){return this.equals(eJ.ZERO)}negate(){return new eJ(eB(-this.ex),this.ey,this.ez,eB(-this.et))}double(){let{a:eu}=ed,{ex:eg,ey:em,ez:eb}=this,ew=eB(eg*eg),e_=eB(em*em),eE=eB(eS*eB(eb*eb)),eA=eB(eu*ew),eI=eg+em,eC=eB(eB(eI*eI)-ew-e_),eM=eA+e_,eO=eM-eE,eT=eA-e_,eP=eB(eC*eO),eN=eB(eM*eT),ek=eB(eC*eT),eR=eB(eO*eM);return new eJ(eP,eN,eR,ek)}add(eu){eW(eu);let{a:eg,d:em}=ed,{ex:eb,ey:ew,ez:e_,et:eA}=this,{ex:eI,ey:eC,ez:eM,et:eO}=eu;if(eg===BigInt(-1)){let eu=eB((ew-eb)*(eC+eI)),ed=eB((ew+eb)*(eC-eI)),eg=eB(ed-eu);if(eg===eE)return this.double();let em=eB(e_*eS*eO),eT=eB(eA*eS*eM),eP=eT+em,eN=ed+eu,ek=eT-em,eR=eB(eP*eg),eD=eB(eN*ek),eU=eB(eP*ek),eL=eB(eg*eN);return new eJ(eR,eD,eL,eU)}let eT=eB(eb*eI),eP=eB(ew*eC),eN=eB(eA*em*eO),ek=eB(e_*eM),eR=eB((eb+ew)*(eI+eC)-eT-eP),eD=ek-eN,eU=ek+eN,eL=eB(eP-eg*eT),ej=eB(eR*eD),eF=eB(eU*eL),e$=eB(eR*eL),eK=eB(eD*eU);return new eJ(ej,eF,eK,e$)}subtract(eu){return this.add(eu.negate())}wNAF(eu){return eX.wNAFCached(this,eG,eu,eJ.normalizeZ)}multiply(eu){let{p:ed,f:eg}=this.wNAF(eH(eu,eO));return eJ.normalizeZ([ed,eg])[0]}multiplyUnsafe(eu){let ed=eV(eu);return ed===eE?eY:this.equals(eY)||ed===eA?this:this.equals(eZ)?this.wNAF(ed).p:eX.unsafeLadder(this,ed)}isSmallOrder(){return this.multiplyUnsafe(eR).is0()}isTorsionFree(){return eX.unsafeLadder(this,eO).is0()}toAffine(eu){let{ex:ed,ey:em,ez:eb}=this,ew=this.is0();null==eu&&(eu=ew?eI:eg.inv(eb));let e_=eB(ed*eu),eS=eB(em*eu),eC=eB(eb*eu);if(ew)return{x:eE,y:eA};if(eC!==eA)throw Error("invZ was invalid");return{x:e_,y:eS}}clearCofactor(){let{h:eu}=ed;return eu===eA?this:this.multiplyUnsafe(eu)}static fromHex(eu,em=!1){let{d:e_,a:eS}=ed,eI=eg.BYTES;eu=(0,ew.ensureBytes)("pointHex",eu,eI);let eC=eu.slice(),eM=eu[eI-1];eC[eI-1]=-129&eM;let eO=eb.bytesToNumberLE(eC);eO===eE||(em?eH(eO,eD):eH(eO,eg.ORDER));let eT=eB(eO*eO),eP=eB(eT-eA),eN=eB(e_*eT-eS),{isValid:ek,value:eR}=eU(eP,eN);if(!ek)throw Error("Point.fromHex: invalid y coordinate");let eL=(eR&eA)===eA,ej=(128&eM)!=0;if(!em&&eR===eE&&ej)throw Error("Point.fromHex: x=0 and x_0=1");return ej!==eL&&(eR=eB(-eR)),eJ.fromAffine({x:eR,y:eO})}static fromPrivateKey(eu){return e6(eu).point}toRawBytes(){let{x:eu,y:ed}=this.toAffine(),em=eb.numberToBytesLE(ed,eg.BYTES);return em[em.length-1]|=eu&eA?128:0,em}toHex(){return eb.bytesToHex(this.toRawBytes())}}eJ.BASE=new eJ(ed.Gx,ed.Gy,eA,eB(ed.Gx*ed.Gy)),eJ.ZERO=new eJ(eE,eA,eA,eE);let{BASE:eZ,ZERO:eY}=eJ,eX=(0,e_.wNAF)(eJ,8*ek);function eQ(eu){return(0,em.mod)(eu,eO)}function e0(eu){return eQ(eb.bytesToNumberLE(eu))}function e6(eu){let ed=ek;eu=(0,ew.ensureBytes)("private key",eu,ed);let eg=(0,ew.ensureBytes)("hashed private key",eP(eu),2*ed),em=eL(eg.slice(0,ed)),eb=eg.slice(ed,2*ed),e_=e0(em),eE=eZ.multiply(e_),eA=eE.toRawBytes();return{head:em,prefix:eb,scalar:e_,point:eE,pointBytes:eA}}function e8(eu){return e6(eu).pointBytes}function e5(eu=new Uint8Array,...ed){let eg=eb.concatBytes(...ed);return e0(eP(ej(eg,(0,ew.ensureBytes)("context",eu),!!eT)))}function e9(eu,ed,em={}){eu=(0,ew.ensureBytes)("message",eu),eT&&(eu=eT(eu));let{prefix:e_,scalar:eE,pointBytes:eA}=e6(ed),eS=e5(em.context,e_,eu),eI=eZ.multiply(eS).toRawBytes(),eC=e5(em.context,eI,eA,eu),eM=eQ(eS+eC*eE);eV(eM);let eO=eb.concatBytes(eI,eb.numberToBytesLE(eM,eg.BYTES));return(0,ew.ensureBytes)("result",eO,2*ek)}let e7=eC;function tu(eu,ed,em,e_=e7){let eE,eA,eS;let{context:eI,zip215:eC}=e_,eM=eg.BYTES;eu=(0,ew.ensureBytes)("signature",eu,2*eM),ed=(0,ew.ensureBytes)("message",ed),eT&&(ed=eT(ed));let eO=eb.bytesToNumberLE(eu.slice(eM,2*eM));try{eE=eJ.fromHex(em,eC),eA=eJ.fromHex(eu.slice(0,eM),eC),eS=eZ.multiplyUnsafe(eO)}catch(eu){return!1}if(!eC&&eE.isSmallOrder())return!1;let eP=e5(eI,eA.toRawBytes(),eE.toRawBytes(),ed),eN=eA.add(eE.multiplyUnsafe(eP));return eN.subtract(eS).clearCofactor().equals(eJ.ZERO)}eZ._setWindowSize(8);let th={getExtendedPublicKey:e6,randomPrivateKey:()=>eN(eg.BYTES),precompute:(eu=8,ed=eJ.BASE)=>(ed._setWindowSize(eu),ed.multiply(BigInt(3)),ed)};return{CURVE:ed,getPublicKey:e8,sign:e9,verify:tu,ExtendedPoint:eJ,utils:th}}ed.twistedEdwards=eO},40187:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.createHasher=ed.isogenyMap=ed.hash_to_field=ed.expand_message_xof=ed.expand_message_xmd=void 0;let em=eg(68857),eb=eg(54837);function ew(eu){if(eu instanceof Uint8Array)return eu;if("string"==typeof eu)return(0,eb.utf8ToBytes)(eu);throw Error("DST must be Uint8Array or string")}let e_=eb.bytesToNumberBE;function eE(eu,ed){if(eu<0||eu>=1<<8*ed)throw Error(`bad I2OSP call: value=${eu} length=${ed}`);let eg=Array.from({length:ed}).fill(0);for(let em=ed-1;em>=0;em--)eg[em]=255&eu,eu>>>=8;return new Uint8Array(eg)}function eA(eu,ed){let eg=new Uint8Array(eu.length);for(let em=0;em<eu.length;em++)eg[em]=eu[em]^ed[em];return eg}function eS(eu){if(!(eu instanceof Uint8Array))throw Error("Uint8Array expected")}function eI(eu){if(!Number.isSafeInteger(eu))throw Error("number expected")}function eC(eu,ed,eg,em){eS(eu),eS(ed),eI(eg),ed.length>255&&(ed=em((0,eb.concatBytes)((0,eb.utf8ToBytes)("H2C-OVERSIZE-DST-"),ed)));let{outputLen:ew,blockLen:e_}=em,eC=Math.ceil(eg/ew);if(eC>255)throw Error("Invalid xmd length");let eM=(0,eb.concatBytes)(ed,eE(ed.length,1)),eO=eE(0,e_),eT=eE(eg,2),eP=Array(eC),eN=em((0,eb.concatBytes)(eO,eu,eT,eE(0,1),eM));eP[0]=em((0,eb.concatBytes)(eN,eE(1,1),eM));for(let eu=1;eu<=eC;eu++){let ed=[eA(eN,eP[eu-1]),eE(eu+1,1),eM];eP[eu]=em((0,eb.concatBytes)(...ed))}let ek=(0,eb.concatBytes)(...eP);return ek.slice(0,eg)}function eM(eu,ed,eg,em,ew){if(eS(eu),eS(ed),eI(eg),ed.length>255){let eu=Math.ceil(2*em/8);ed=ew.create({dkLen:eu}).update((0,eb.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(ed).digest()}if(eg>65535||ed.length>255)throw Error("expand_message_xof: invalid lenInBytes");return ew.create({dkLen:eg}).update(eu).update(eE(eg,2)).update(ed).update(eE(ed.length,1)).digest()}function eO(eu,ed,eg){let eE;(0,eb.validateObject)(eg,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});let{p:eA,k:eO,m:eT,hash:eP,expand:eN,DST:ek}=eg;eS(eu),eI(ed);let eR=ew(ek),eD=eA.toString(2).length,eB=Math.ceil((eD+eO)/8),eU=ed*eT*eB;if("xmd"===eN)eE=eC(eu,eR,eU,eP);else if("xof"===eN)eE=eM(eu,eR,eU,eO,eP);else if("_internal_pass"===eN)eE=eu;else throw Error('expand must be "xmd" or "xof"');let eL=Array(ed);for(let eu=0;eu<ed;eu++){let ed=Array(eT);for(let eg=0;eg<eT;eg++){let eb=eB*(eg+eu*eT),ew=eE.subarray(eb,eb+eB);ed[eg]=(0,em.mod)(e_(ew),eA)}eL[eu]=ed}return eL}function eT(eu,ed){let eg=ed.map(eu=>Array.from(eu).reverse());return(ed,em)=>{let[eb,ew,e_,eE]=eg.map(eg=>eg.reduce((eg,em)=>eu.add(eu.mul(eg,ed),em)));return{x:ed=eu.div(eb,ew),y:em=eu.mul(em,eu.div(e_,eE))}}}function eP(eu,ed,eg){if("function"!=typeof ed)throw Error("mapToCurve() must be defined");return{hashToCurve(em,eb){let ew=eO(em,2,{...eg,DST:eg.DST,...eb}),e_=eu.fromAffine(ed(ew[0])),eE=eu.fromAffine(ed(ew[1])),eA=e_.add(eE).clearCofactor();return eA.assertValidity(),eA},encodeToCurve(em,eb){let ew=eO(em,1,{...eg,DST:eg.encodeDST,...eb}),e_=eu.fromAffine(ed(ew[0])).clearCofactor();return e_.assertValidity(),e_}}}ed.expand_message_xmd=eC,ed.expand_message_xof=eM,ed.hash_to_field=eO,ed.isogenyMap=eT,ed.createHasher=eP},68857:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.mapHashToField=ed.getMinHashLength=ed.getFieldBytesLength=ed.hashToPrivateScalar=ed.FpSqrtEven=ed.FpSqrtOdd=ed.Field=ed.nLength=ed.FpIsSquare=ed.FpDiv=ed.FpInvertBatch=ed.FpPow=ed.validateField=ed.isNegativeLE=ed.FpSqrt=ed.tonelliShanks=ed.invert=ed.pow2=ed.pow=ed.mod=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */let em=eg(54837),eb=BigInt(0),ew=BigInt(1),e_=BigInt(2),eE=BigInt(3),eA=BigInt(4),eS=BigInt(5),eI=BigInt(8);function eC(eu,ed){let eg=eu%ed;return eg>=eb?eg:ed+eg}function eM(eu,ed,eg){if(eg<=eb||ed<eb)throw Error("Expected power/modulo > 0");if(eg===ew)return eb;let em=ew;for(;ed>eb;)ed&ew&&(em=em*eu%eg),eu=eu*eu%eg,ed>>=ew;return em}function eO(eu,ed,eg){let em=eu;for(;ed-- >eb;)em*=em,em%=eg;return em}function eT(eu,ed){if(eu===eb||ed<=eb)throw Error(`invert: expected positive integers, got n=${eu} mod=${ed}`);let eg=eC(eu,ed),em=ed,e_=eb,eE=ew,eA=ew,eS=eb;for(;eg!==eb;){let eu=em/eg,ed=em%eg,eb=e_-eA*eu,ew=eE-eS*eu;em=eg,eg=ed,e_=eA,eE=eS,eA=eb,eS=ew}let eI=em;if(eI!==ew)throw Error("invert: does not exist");return eC(e_,ed)}function eP(eu){let ed,eg,em;let eE=(eu-ew)/e_;for(ed=eu-ew,eg=0;ed%e_===eb;ed/=e_,eg++);for(em=e_;em<eu&&eM(em,eE,eu)!==eu-ew;em++);if(1===eg){let ed=(eu+ew)/eA;return function(eu,eg){let em=eu.pow(eg,ed);if(!eu.eql(eu.sqr(em),eg))throw Error("Cannot find square root");return em}}let eS=(ed+ew)/e_;return function(eu,eb){if(eu.pow(eb,eE)===eu.neg(eu.ONE))throw Error("Cannot find square root");let e_=eg,eA=eu.pow(eu.mul(eu.ONE,em),ed),eI=eu.pow(eb,eS),eC=eu.pow(eb,ed);for(;!eu.eql(eC,eu.ONE);){if(eu.eql(eC,eu.ZERO))return eu.ZERO;let ed=1;for(let eg=eu.sqr(eC);ed<e_&&!eu.eql(eg,eu.ONE);ed++)eg=eu.sqr(eg);let eg=eu.pow(eA,ew<<BigInt(e_-ed-1));eA=eu.sqr(eg),eI=eu.mul(eI,eg),eC=eu.mul(eC,eA),e_=ed}return eI}}function eN(eu){if(eu%eA===eE){let ed=(eu+ew)/eA;return function(eu,eg){let em=eu.pow(eg,ed);if(!eu.eql(eu.sqr(em),eg))throw Error("Cannot find square root");return em}}if(eu%eI===eS){let ed=(eu-eS)/eI;return function(eu,eg){let em=eu.mul(eg,e_),eb=eu.pow(em,ed),ew=eu.mul(eg,eb),eE=eu.mul(eu.mul(ew,e_),eb),eA=eu.mul(ew,eu.sub(eE,eu.ONE));if(!eu.eql(eu.sqr(eA),eg))throw Error("Cannot find square root");return eA}}return eP(eu)}BigInt(9),BigInt(16),ed.mod=eC,ed.pow=eM,ed.pow2=eO,ed.invert=eT,ed.tonelliShanks=eP,ed.FpSqrt=eN;let ek=(eu,ed)=>(eC(eu,ed)&ew)===ew;ed.isNegativeLE=ek;let eR=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function eD(eu){let ed={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},eg=eR.reduce((eu,ed)=>(eu[ed]="function",eu),ed);return(0,em.validateObject)(eu,eg)}function eB(eu,ed,eg){if(eg<eb)throw Error("Expected power > 0");if(eg===eb)return eu.ONE;if(eg===ew)return ed;let em=eu.ONE,e_=ed;for(;eg>eb;)eg&ew&&(em=eu.mul(em,e_)),e_=eu.sqr(e_),eg>>=ew;return em}function eU(eu,ed){let eg=Array(ed.length),em=ed.reduce((ed,em,eb)=>eu.is0(em)?ed:(eg[eb]=ed,eu.mul(ed,em)),eu.ONE),eb=eu.inv(em);return ed.reduceRight((ed,em,eb)=>eu.is0(em)?ed:(eg[eb]=eu.mul(ed,eg[eb]),eu.mul(ed,em)),eb),eg}function eL(eu,ed,eg){return eu.mul(ed,"bigint"==typeof eg?eT(eg,eu.ORDER):eu.inv(eg))}function ej(eu){let ed=(eu.ORDER-ew)/e_;return eg=>{let em=eu.pow(eg,ed);return eu.eql(em,eu.ZERO)||eu.eql(em,eu.ONE)}}function eF(eu,ed){let eg=void 0!==ed?ed:eu.toString(2).length,em=Math.ceil(eg/8);return{nBitLength:eg,nByteLength:em}}function e$(eu,ed,eg=!1,e_={}){if(eu<=eb)throw Error(`Expected Field ORDER > 0, got ${eu}`);let{nBitLength:eE,nByteLength:eA}=eF(eu,ed);if(eA>2048)throw Error("Field lengths over 2048 bytes are not supported");let eS=eN(eu),eI=Object.freeze({ORDER:eu,BITS:eE,BYTES:eA,MASK:(0,em.bitMask)(eE),ZERO:eb,ONE:ew,create:ed=>eC(ed,eu),isValid:ed=>{if("bigint"!=typeof ed)throw Error(`Invalid field element: expected bigint, got ${typeof ed}`);return eb<=ed&&ed<eu},is0:eu=>eu===eb,isOdd:eu=>(eu&ew)===ew,neg:ed=>eC(-ed,eu),eql:(eu,ed)=>eu===ed,sqr:ed=>eC(ed*ed,eu),add:(ed,eg)=>eC(ed+eg,eu),sub:(ed,eg)=>eC(ed-eg,eu),mul:(ed,eg)=>eC(ed*eg,eu),pow:(eu,ed)=>eB(eI,eu,ed),div:(ed,eg)=>eC(ed*eT(eg,eu),eu),sqrN:eu=>eu*eu,addN:(eu,ed)=>eu+ed,subN:(eu,ed)=>eu-ed,mulN:(eu,ed)=>eu*ed,inv:ed=>eT(ed,eu),sqrt:e_.sqrt||(eu=>eS(eI,eu)),invertBatch:eu=>eU(eI,eu),cmov:(eu,ed,eg)=>eg?ed:eu,toBytes:eu=>eg?(0,em.numberToBytesLE)(eu,eA):(0,em.numberToBytesBE)(eu,eA),fromBytes:eu=>{if(eu.length!==eA)throw Error(`Fp.fromBytes: expected ${eA}, got ${eu.length}`);return eg?(0,em.bytesToNumberLE)(eu):(0,em.bytesToNumberBE)(eu)}});return Object.freeze(eI)}function eK(eu,ed){if(!eu.isOdd)throw Error("Field doesn't have isOdd");let eg=eu.sqrt(ed);return eu.isOdd(eg)?eg:eu.neg(eg)}function eH(eu,ed){if(!eu.isOdd)throw Error("Field doesn't have isOdd");let eg=eu.sqrt(ed);return eu.isOdd(eg)?eu.neg(eg):eg}function eV(eu,ed,eg=!1){eu=(0,em.ensureBytes)("privateHash",eu);let eb=eu.length,e_=eF(ed).nByteLength+8;if(e_<24||eb<e_||eb>1024)throw Error(`hashToPrivateScalar: expected ${e_}-1024 bytes of input, got ${eb}`);let eE=eg?(0,em.bytesToNumberLE)(eu):(0,em.bytesToNumberBE)(eu);return eC(eE,ed-ew)+ew}function eG(eu){if("bigint"!=typeof eu)throw Error("field order must be bigint");let ed=eu.toString(2).length;return Math.ceil(ed/8)}function eW(eu){let ed=eG(eu);return ed+Math.ceil(ed/2)}function eJ(eu,ed,eg=!1){let eb=eu.length,e_=eG(ed),eE=eW(ed);if(eb<16||eb<eE||eb>1024)throw Error(`expected ${eE}-1024 bytes of input, got ${eb}`);let eA=eg?(0,em.bytesToNumberBE)(eu):(0,em.bytesToNumberLE)(eu),eS=eC(eA,ed-ew)+ew;return eg?(0,em.numberToBytesLE)(eS,e_):(0,em.numberToBytesBE)(eS,e_)}ed.validateField=eD,ed.FpPow=eB,ed.FpInvertBatch=eU,ed.FpDiv=eL,ed.FpIsSquare=ej,ed.nLength=eF,ed.Field=e$,ed.FpSqrtOdd=eK,ed.FpSqrtEven=eH,ed.hashToPrivateScalar=eV,ed.getFieldBytesLength=eG,ed.getMinHashLength=eW,ed.mapHashToField=eJ},43358:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.montgomery=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */let em=eg(68857),eb=eg(54837),ew=BigInt(0),e_=BigInt(1);function eE(eu){return(0,eb.validateObject)(eu,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...eu})}function eA(eu){let ed=eE(eu),{P:eg}=ed,eA=eu=>(0,em.mod)(eu,eg),eS=ed.montgomeryBits,eI=Math.ceil(eS/8),eC=ed.nByteLength,eM=ed.adjustScalarBytes||(eu=>eu),eO=ed.powPminus2||(eu=>(0,em.pow)(eu,eg-BigInt(2),eg));function eT(eu,ed,eg){let em=eA(eu*(ed-eg));return[ed=eA(ed-em),eg=eA(eg+em)]}function eP(eu){if("bigint"==typeof eu&&ew<=eu&&eu<eg)return eu;throw Error("Expected valid scalar 0 < scalar < CURVE.P")}let eN=(ed.a-BigInt(2))/BigInt(4);function ek(eu,ed){let eg;let em=eP(eu),eb=eP(ed),eE=em,eI=e_,eC=ew,eM=em,ek=e_,eR=ew;for(let eu=BigInt(eS-1);eu>=ew;eu--){let ed=eb>>eu&e_;eR^=ed,eI=(eg=eT(eR,eI,eM))[0],eM=eg[1],eC=(eg=eT(eR,eC,ek))[0],ek=eg[1],eR=ed;let em=eI+eC,ew=eA(em*em),eS=eI-eC,eO=eA(eS*eS),eP=ew-eO,eD=eM+ek,eB=eM-ek,eU=eA(eB*em),eL=eA(eD*eS),ej=eU+eL,eF=eU-eL;eM=eA(ej*ej),ek=eA(eE*eA(eF*eF)),eI=eA(ew*eO),eC=eA(eP*(ew+eA(eN*eP)))}eI=(eg=eT(eR,eI,eM))[0],eM=eg[1],eC=(eg=eT(eR,eC,ek))[0],ek=eg[1];let eD=eO(eC);return eA(eI*eD)}function eR(eu){return(0,eb.numberToBytesLE)(eA(eu),eI)}function eD(eu){let ed=(0,eb.ensureBytes)("u coordinate",eu,eI);return eC===eI&&(ed[eC-1]&=127),(0,eb.bytesToNumberLE)(ed)}function eB(eu){let ed=(0,eb.ensureBytes)("scalar",eu);if(ed.length!==eI&&ed.length!==eC)throw Error(`Expected ${eI} or ${eC} bytes, got ${ed.length}`);return(0,eb.bytesToNumberLE)(eM(ed))}function eU(eu,ed){let eg=eD(ed),em=eB(eu),eb=ek(eg,em);if(eb===ew)throw Error("Invalid private or public key received");return eR(eb)}let eL=eR(ed.Gu);function ej(eu){return eU(eu,eL)}return{scalarMult:eU,scalarMultBase:ej,getSharedSecret:(eu,ed)=>eU(eu,ed),getPublicKey:eu=>ej(eu),utils:{randomPrivateKey:()=>ed.randomBytes(ed.nByteLength)},GuBytes:eL}}ed.montgomery=eA},54837:function(eu,ed){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.validateObject=ed.createHmacDrbg=ed.bitMask=ed.bitSet=ed.bitGet=ed.bitLen=ed.utf8ToBytes=ed.equalBytes=ed.concatBytes=ed.ensureBytes=ed.numberToVarBytesBE=ed.numberToBytesLE=ed.numberToBytesBE=ed.bytesToNumberLE=ed.bytesToNumberBE=ed.hexToBytes=ed.hexToNumber=ed.numberToHexUnpadded=ed.bytesToHex=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */let eg=BigInt(0),em=BigInt(1),eb=BigInt(2),ew=eu=>eu instanceof Uint8Array,e_=Array.from({length:256},(eu,ed)=>ed.toString(16).padStart(2,"0"));function eE(eu){if(!ew(eu))throw Error("Uint8Array expected");let ed="";for(let eg=0;eg<eu.length;eg++)ed+=e_[eu[eg]];return ed}function eA(eu){let ed=eu.toString(16);return 1&ed.length?`0${ed}`:ed}function eS(eu){if("string"!=typeof eu)throw Error("hex string expected, got "+typeof eu);return BigInt(""===eu?"0":`0x${eu}`)}function eI(eu){if("string"!=typeof eu)throw Error("hex string expected, got "+typeof eu);let ed=eu.length;if(ed%2)throw Error("padded hex string expected, got unpadded hex of length "+ed);let eg=new Uint8Array(ed/2);for(let ed=0;ed<eg.length;ed++){let em=2*ed,eb=eu.slice(em,em+2),ew=Number.parseInt(eb,16);if(Number.isNaN(ew)||ew<0)throw Error("Invalid byte sequence");eg[ed]=ew}return eg}function eC(eu){return eS(eE(eu))}function eM(eu){if(!ew(eu))throw Error("Uint8Array expected");return eS(eE(Uint8Array.from(eu).reverse()))}function eO(eu,ed){return eI(eu.toString(16).padStart(2*ed,"0"))}function eT(eu,ed){return eO(eu,ed).reverse()}function eP(eu){return eI(eA(eu))}function eN(eu,ed,eg){let em;if("string"==typeof ed)try{em=eI(ed)}catch(eg){throw Error(`${eu} must be valid hex string, got "${ed}". Cause: ${eg}`)}else if(ew(ed))em=Uint8Array.from(ed);else throw Error(`${eu} must be hex string or Uint8Array`);let eb=em.length;if("number"==typeof eg&&eb!==eg)throw Error(`${eu} expected ${eg} bytes, got ${eb}`);return em}function ek(...eu){let ed=new Uint8Array(eu.reduce((eu,ed)=>eu+ed.length,0)),eg=0;return eu.forEach(eu=>{if(!ew(eu))throw Error("Uint8Array expected");ed.set(eu,eg),eg+=eu.length}),ed}function eR(eu,ed){if(eu.length!==ed.length)return!1;for(let eg=0;eg<eu.length;eg++)if(eu[eg]!==ed[eg])return!1;return!0}function eD(eu){if("string"!=typeof eu)throw Error(`utf8ToBytes expected string, got ${typeof eu}`);return new Uint8Array(new TextEncoder().encode(eu))}function eB(eu){let ed;for(ed=0;eu>eg;eu>>=em,ed+=1);return ed}function eU(eu,ed){return eu>>BigInt(ed)&em}ed.bytesToHex=eE,ed.numberToHexUnpadded=eA,ed.hexToNumber=eS,ed.hexToBytes=eI,ed.bytesToNumberBE=eC,ed.bytesToNumberLE=eM,ed.numberToBytesBE=eO,ed.numberToBytesLE=eT,ed.numberToVarBytesBE=eP,ed.ensureBytes=eN,ed.concatBytes=ek,ed.equalBytes=eR,ed.utf8ToBytes=eD,ed.bitLen=eB,ed.bitGet=eU;let eL=(eu,ed,eb)=>eu|(eb?em:eg)<<BigInt(ed);ed.bitSet=eL;let ej=eu=>(eb<<BigInt(eu-1))-em;ed.bitMask=ej;let eF=eu=>new Uint8Array(eu),e$=eu=>Uint8Array.from(eu);function eK(eu,ed,eg){if("number"!=typeof eu||eu<2)throw Error("hashLen must be a number");if("number"!=typeof ed||ed<2)throw Error("qByteLen must be a number");if("function"!=typeof eg)throw Error("hmacFn must be a function");let em=eF(eu),eb=eF(eu),ew=0,e_=()=>{em.fill(1),eb.fill(0),ew=0},eE=(...eu)=>eg(eb,em,...eu),eA=(eu=eF())=>{eb=eE(e$([0]),eu),em=eE(),0!==eu.length&&(eb=eE(e$([1]),eu),em=eE())},eS=()=>{if(ew++>=1e3)throw Error("drbg: tried 1000 values");let eu=0,eg=[];for(;eu<ed;){em=eE();let ed=em.slice();eg.push(ed),eu+=em.length}return ek(...eg)},eI=(eu,ed)=>{let eg;for(e_(),eA(eu);!(eg=ed(eS()));)eA();return e_(),eg};return eI}ed.createHmacDrbg=eK;let eH={bigint:eu=>"bigint"==typeof eu,function:eu=>"function"==typeof eu,boolean:eu=>"boolean"==typeof eu,string:eu=>"string"==typeof eu,stringOrUint8Array:eu=>"string"==typeof eu||eu instanceof Uint8Array,isSafeInteger:eu=>Number.isSafeInteger(eu),array:eu=>Array.isArray(eu),field:(eu,ed)=>ed.Fp.isValid(eu),hash:eu=>"function"==typeof eu&&Number.isSafeInteger(eu.outputLen)};function eV(eu,ed,eg={}){let em=(ed,eg,em)=>{let eb=eH[eg];if("function"!=typeof eb)throw Error(`Invalid validator "${eg}", expected function`);let ew=eu[ed];if((!em||void 0!==ew)&&!eb(ew,eu))throw Error(`Invalid param ${String(ed)}=${ew} (${typeof ew}), expected ${eg}`)};for(let[eu,eg]of Object.entries(ed))em(eu,eg,!1);for(let[eu,ed]of Object.entries(eg))em(eu,ed,!0);return eu}ed.validateObject=eV},97227:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.hash_to_ristretto255=ed.hashToRistretto255=ed.RistrettoPoint=ed.encodeToCurve=ed.hashToCurve=ed.edwardsToMontgomeryPriv=ed.edwardsToMontgomery=ed.edwardsToMontgomeryPub=ed.x25519=ed.ed25519ph=ed.ed25519ctx=ed.ed25519=ed.ED25519_TORSION_SUBGROUP=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */let em=eg(65473),eb=eg(19643),ew=eg(77406),e_=eg(43358),eE=eg(68857),eA=eg(54837),eS=eg(40187),eI=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),eC=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),eM=BigInt(0),eO=BigInt(1),eT=BigInt(2),eP=BigInt(5),eN=BigInt(10),ek=BigInt(20),eR=BigInt(40),eD=BigInt(80);function eB(eu){let ed=eI,eg=eu*eu%ed,em=eg*eu%ed,eb=(0,eE.pow2)(em,eT,ed)*em%ed,ew=(0,eE.pow2)(eb,eO,ed)*eu%ed,e_=(0,eE.pow2)(ew,eP,ed)*ew%ed,eA=(0,eE.pow2)(e_,eN,ed)*e_%ed,eS=(0,eE.pow2)(eA,ek,ed)*eA%ed,eC=(0,eE.pow2)(eS,eR,ed)*eS%ed,eM=(0,eE.pow2)(eC,eD,ed)*eC%ed,eB=(0,eE.pow2)(eM,eD,ed)*eC%ed,eU=(0,eE.pow2)(eB,eN,ed)*e_%ed,eL=(0,eE.pow2)(eU,eT,ed)*eu%ed;return{pow_p_5_8:eL,b2:em}}function eU(eu){return eu[0]&=248,eu[31]&=127,eu[31]|=64,eu}function eL(eu,ed){let eg=eI,em=(0,eE.mod)(ed*ed*ed,eg),eb=(0,eE.mod)(em*em*ed,eg),ew=eB(eu*eb).pow_p_5_8,e_=(0,eE.mod)(eu*em*ew,eg),eA=(0,eE.mod)(ed*e_*e_,eg),eS=e_,eM=(0,eE.mod)(e_*eC,eg),eO=eA===eu,eT=eA===(0,eE.mod)(-eu,eg),eP=eA===(0,eE.mod)(-eu*eC,eg);return eO&&(e_=eS),(eT||eP)&&(e_=eM),(0,eE.isNegativeLE)(e_,eg)&&(e_=(0,eE.mod)(-e_,eg)),{isValid:eO||eT,value:e_}}ed.ED25519_TORSION_SUBGROUP=["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"];let ej=(0,eE.Field)(eI,void 0,!0),eF={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:ej,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:em.sha512,randomBytes:eb.randomBytes,adjustScalarBytes:eU,uvRatio:eL};function e$(eu,ed,eg){if(ed.length>255)throw Error("Context is too big");return(0,eb.concatBytes)((0,eb.utf8ToBytes)("SigEd25519 no Ed25519 collisions"),new Uint8Array([eg?1:0,ed.length]),ed,eu)}function eK(eu){let{y:eg}=ed.ed25519.ExtendedPoint.fromHex(eu),em=BigInt(1);return ej.toBytes(ej.create((em+eg)*ej.inv(em-eg)))}function eH(eu){let ed=eF.hash(eu.subarray(0,32));return eF.adjustScalarBytes(ed).subarray(0,32)}ed.ed25519=(0,ew.twistedEdwards)(eF),ed.ed25519ctx=(0,ew.twistedEdwards)({...eF,domain:e$}),ed.ed25519ph=(0,ew.twistedEdwards)({...eF,domain:e$,prehash:em.sha512}),ed.x25519=(0,e_.montgomery)({P:eI,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:eu=>{let ed=eI,{pow_p_5_8:eg,b2:em}=eB(eu);return(0,eE.mod)((0,eE.pow2)(eg,BigInt(3),ed)*em,ed)},adjustScalarBytes:eU,randomBytes:eb.randomBytes}),ed.edwardsToMontgomeryPub=eK,ed.edwardsToMontgomery=eK,ed.edwardsToMontgomeryPriv=eH;let eV=(ej.ORDER+BigInt(3))/BigInt(8),eG=ej.pow(eT,eV),eW=ej.sqrt(ej.neg(ej.ONE)),eJ=(ej.ORDER-BigInt(5))/BigInt(8),eZ=BigInt(486662);function eY(eu){let ed=ej.sqr(eu);ed=ej.mul(ed,eT);let eg=ej.add(ed,ej.ONE),em=ej.neg(eZ),eb=ej.sqr(eg),ew=ej.mul(eb,eg),e_=ej.mul(ed,eZ);e_=ej.mul(e_,em),e_=ej.add(e_,eb),e_=ej.mul(e_,em);let eE=ej.sqr(ew);eb=ej.sqr(eE),eE=ej.mul(eE,ew),eE=ej.mul(eE,e_),eb=ej.mul(eb,eE);let eA=ej.pow(eb,eJ);eA=ej.mul(eA,eE);let eS=ej.mul(eA,eW);eb=ej.sqr(eA),eb=ej.mul(eb,ew);let eI=ej.eql(eb,e_),eC=ej.cmov(eS,eA,eI),eM=ej.mul(em,ed),eP=ej.mul(eA,eu);eP=ej.mul(eP,eG);let eN=ej.mul(eP,eW),ek=ej.mul(e_,ed);eb=ej.sqr(eP),eb=ej.mul(eb,ew);let eR=ej.eql(eb,ek),eD=ej.cmov(eN,eP,eR);eb=ej.sqr(eC),eb=ej.mul(eb,ew);let eB=ej.eql(eb,e_),eU=ej.cmov(eM,em,eB),eL=ej.cmov(eD,eC,eB),eF=ej.isOdd(eL);return eL=ej.cmov(eL,ej.neg(eL),eB!==eF),{xMn:eU,xMd:eg,yMn:eL,yMd:eO}}let eX=(0,eE.FpSqrtEven)(ej,ej.neg(BigInt(486664)));function eQ(eu){let{xMn:ed,xMd:eg,yMn:em,yMd:eb}=eY(eu),ew=ej.mul(ed,eb);ew=ej.mul(ew,eX);let e_=ej.mul(eg,em),eE=ej.sub(ed,eg),eA=ej.add(ed,eg),eS=ej.mul(e_,eA),eI=ej.eql(eS,ej.ZERO);ew=ej.cmov(ew,ej.ZERO,eI),e_=ej.cmov(e_,ej.ONE,eI),eE=ej.cmov(eE,ej.ONE,eI),eA=ej.cmov(eA,ej.ONE,eI);let eC=ej.invertBatch([e_,eA]);return{x:ej.mul(ew,eC[0]),y:ej.mul(eE,eC[1])}}let e0=(0,eS.createHasher)(ed.ed25519.ExtendedPoint,eu=>eQ(eu[0]),{DST:"edwards25519_XMD:SHA-512_ELL2_RO_",encodeDST:"edwards25519_XMD:SHA-512_ELL2_NU_",p:ej.ORDER,m:1,k:128,expand:"xmd",hash:em.sha512});function e6(eu){if(!(eu instanceof tb))throw Error("RistrettoPoint expected")}ed.hashToCurve=e0.hashToCurve,ed.encodeToCurve=e0.encodeToCurve;let e8=eC,e5=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),e9=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),e7=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),tu=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),th=eu=>eL(eO,eu),td=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),tg=eu=>ed.ed25519.CURVE.Fp.create((0,eA.bytesToNumberLE)(eu)&td);function ty(eu){let{d:eg}=ed.ed25519.CURVE,em=ed.ed25519.CURVE.Fp.ORDER,eb=ed.ed25519.CURVE.Fp.create,ew=eb(e8*eu*eu),e_=eb((ew+eO)*e7),eA=BigInt(-1),eS=eb((eA-eg*ew)*eb(ew+eg)),{isValid:eI,value:eC}=eL(e_,eS),eM=eb(eC*eu);(0,eE.isNegativeLE)(eM,em)||(eM=eb(-eM)),eI||(eC=eM),eI||(eA=ew);let eT=eb(eA*(ew-eO)*tu-eS),eP=eC*eC,eN=eb((eC+eC)*eS),ek=eb(eT*e5),eR=eb(eO-eP),eD=eb(eO+eP);return new ed.ed25519.ExtendedPoint(eb(eN*eD),eb(eR*ek),eb(ek*eD),eb(eN*eR))}class tb{constructor(eu){this.ep=eu}static fromAffine(eu){return new tb(ed.ed25519.ExtendedPoint.fromAffine(eu))}static hashToCurve(eu){eu=(0,eA.ensureBytes)("ristrettoHash",eu,64);let ed=tg(eu.slice(0,32)),eg=ty(ed),em=tg(eu.slice(32,64)),eb=ty(em);return new tb(eg.add(eb))}static fromHex(eu){eu=(0,eA.ensureBytes)("ristrettoHex",eu,32);let{a:eg,d:em}=ed.ed25519.CURVE,eb=ed.ed25519.CURVE.Fp.ORDER,ew=ed.ed25519.CURVE.Fp.create,e_="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",eS=tg(eu);if(!(0,eA.equalBytes)((0,eA.numberToBytesLE)(eS,32),eu)||(0,eE.isNegativeLE)(eS,eb))throw Error(e_);let eI=ew(eS*eS),eC=ew(eO+eg*eI),eT=ew(eO-eg*eI),eP=ew(eC*eC),eN=ew(eT*eT),ek=ew(eg*em*eP-eN),{isValid:eR,value:eD}=th(ew(ek*eN)),eB=ew(eD*eT),eU=ew(eD*eB*ek),eL=ew((eS+eS)*eB);(0,eE.isNegativeLE)(eL,eb)&&(eL=ew(-eL));let ej=ew(eC*eU),eF=ew(eL*ej);if(!eR||(0,eE.isNegativeLE)(eF,eb)||ej===eM)throw Error(e_);return new tb(new ed.ed25519.ExtendedPoint(eL,ej,eO,eF))}toRawBytes(){let eu,{ex:eg,ey:em,ez:eb,et:ew}=this.ep,e_=ed.ed25519.CURVE.Fp.ORDER,eS=ed.ed25519.CURVE.Fp.create,eI=eS(eS(eb+em)*eS(eb-em)),eC=eS(eg*em),eM=eS(eC*eC),{value:eO}=th(eS(eI*eM)),eT=eS(eO*eI),eP=eS(eO*eC),eN=eS(eT*eP*ew);if((0,eE.isNegativeLE)(ew*eN,e_)){let ed=eS(em*e8),eb=eS(eg*e8);eg=ed,em=eb,eu=eS(eT*e9)}else eu=eP;(0,eE.isNegativeLE)(eg*eN,e_)&&(em=eS(-em));let ek=eS((eb-em)*eu);return(0,eE.isNegativeLE)(ek,e_)&&(ek=eS(-ek)),(0,eA.numberToBytesLE)(ek,32)}toHex(){return(0,eA.bytesToHex)(this.toRawBytes())}toString(){return this.toHex()}equals(eu){e6(eu);let{ex:eg,ey:em}=this.ep,{ex:eb,ey:ew}=eu.ep,e_=ed.ed25519.CURVE.Fp.create,eE=e_(eg*ew)===e_(em*eb),eA=e_(em*ew)===e_(eg*eb);return eE||eA}add(eu){return e6(eu),new tb(this.ep.add(eu.ep))}subtract(eu){return e6(eu),new tb(this.ep.subtract(eu.ep))}multiply(eu){return new tb(this.ep.multiply(eu))}multiplyUnsafe(eu){return new tb(this.ep.multiplyUnsafe(eu))}}ed.RistrettoPoint=(tb.BASE||(tb.BASE=new tb(ed.ed25519.ExtendedPoint.BASE)),tb.ZERO||(tb.ZERO=new tb(ed.ed25519.ExtendedPoint.ZERO)),tb);let tw=(eu,ed)=>{let eg=ed.DST,ew="string"==typeof eg?(0,eb.utf8ToBytes)(eg):eg,e_=(0,eS.expand_message_xmd)(eu,ew,64,em.sha512),eE=tb.hashToCurve(e_);return eE};ed.hashToRistretto255=tw,ed.hash_to_ristretto255=ed.hashToRistretto255},85053:function(eu,ed){"use strict";function eg(eu){if(!Number.isSafeInteger(eu)||eu<0)throw Error(`Wrong positive integer: ${eu}`)}function em(eu){if("boolean"!=typeof eu)throw Error(`Expected boolean, not ${eu}`)}function eb(eu,...ed){if(!(eu instanceof Uint8Array))throw Error("Expected Uint8Array");if(ed.length>0&&!ed.includes(eu.length))throw Error(`Expected Uint8Array of length ${ed}, not of length=${eu.length}`)}function ew(eu){if("function"!=typeof eu||"function"!=typeof eu.create)throw Error("Hash should be wrapped by utils.wrapConstructor");eg(eu.outputLen),eg(eu.blockLen)}function e_(eu,ed=!0){if(eu.destroyed)throw Error("Hash instance has been destroyed");if(ed&&eu.finished)throw Error("Hash#digest() has already been called")}function eE(eu,ed){eb(eu);let eg=ed.outputLen;if(eu.length<eg)throw Error(`digestInto() expects output buffer of length at least ${eg}`)}Object.defineProperty(ed,"__esModule",{value:!0}),ed.output=ed.exists=ed.hash=ed.bytes=ed.bool=ed.number=void 0,ed.number=eg,ed.bool=em,ed.bytes=eb,ed.hash=ew,ed.exists=e_,ed.output=eE;let eA={number:eg,bool:em,bytes:eb,hash:ew,exists:e_,output:eE};ed.default=eA},72889:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.SHA2=void 0;let em=eg(85053),eb=eg(19643);function ew(eu,ed,eg,em){if("function"==typeof eu.setBigUint64)return eu.setBigUint64(ed,eg,em);let eb=BigInt(32),ew=BigInt(4294967295),e_=Number(eg>>eb&ew),eE=Number(eg&ew),eA=em?4:0,eS=em?0:4;eu.setUint32(ed+eA,e_,em),eu.setUint32(ed+eS,eE,em)}class e_ extends eb.Hash{constructor(eu,ed,eg,em){super(),this.blockLen=eu,this.outputLen=ed,this.padOffset=eg,this.isLE=em,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(eu),this.view=(0,eb.createView)(this.buffer)}update(eu){(0,em.exists)(this);let{view:ed,buffer:eg,blockLen:ew}=this;eu=(0,eb.toBytes)(eu);let e_=eu.length;for(let em=0;em<e_;){let eE=Math.min(ew-this.pos,e_-em);if(eE===ew){let ed=(0,eb.createView)(eu);for(;ew<=e_-em;em+=ew)this.process(ed,em);continue}eg.set(eu.subarray(em,em+eE),this.pos),this.pos+=eE,em+=eE,this.pos===ew&&(this.process(ed,0),this.pos=0)}return this.length+=eu.length,this.roundClean(),this}digestInto(eu){(0,em.exists)(this),(0,em.output)(eu,this),this.finished=!0;let{buffer:ed,view:eg,blockLen:e_,isLE:eE}=this,{pos:eA}=this;ed[eA++]=128,this.buffer.subarray(eA).fill(0),this.padOffset>e_-eA&&(this.process(eg,0),eA=0);for(let eu=eA;eu<e_;eu++)ed[eu]=0;ew(eg,e_-8,BigInt(8*this.length),eE),this.process(eg,0);let eS=(0,eb.createView)(eu),eI=this.outputLen;if(eI%4)throw Error("_sha2: outputLen should be aligned to 32bit");let eC=eI/4,eM=this.get();if(eC>eM.length)throw Error("_sha2: outputLen bigger than state");for(let eu=0;eu<eC;eu++)eS.setUint32(4*eu,eM[eu],eE)}digest(){let{buffer:eu,outputLen:ed}=this;this.digestInto(eu);let eg=eu.slice(0,ed);return this.destroy(),eg}_cloneInto(eu){eu||(eu=new this.constructor),eu.set(...this.get());let{blockLen:ed,buffer:eg,length:em,finished:eb,destroyed:ew,pos:e_}=this;return eu.length=em,eu.pos=e_,eu.finished=eb,eu.destroyed=ew,em%ed&&eu.buffer.set(eg),eu}}ed.SHA2=e_},92594:function(eu,ed){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.add5L=ed.add5H=ed.add4H=ed.add4L=ed.add3H=ed.add3L=ed.add=ed.rotlBL=ed.rotlBH=ed.rotlSL=ed.rotlSH=ed.rotr32L=ed.rotr32H=ed.rotrBL=ed.rotrBH=ed.rotrSL=ed.rotrSH=ed.shrSL=ed.shrSH=ed.toBig=ed.split=ed.fromBig=void 0;let eg=BigInt(4294967296-1),em=BigInt(32);function eb(eu,ed=!1){return ed?{h:Number(eu&eg),l:Number(eu>>em&eg)}:{h:0|Number(eu>>em&eg),l:0|Number(eu&eg)}}function ew(eu,ed=!1){let eg=new Uint32Array(eu.length),em=new Uint32Array(eu.length);for(let ew=0;ew<eu.length;ew++){let{h:e_,l:eE}=eb(eu[ew],ed);[eg[ew],em[ew]]=[e_,eE]}return[eg,em]}ed.fromBig=eb,ed.split=ew;let e_=(eu,ed)=>BigInt(eu>>>0)<<em|BigInt(ed>>>0);ed.toBig=e_;let eE=(eu,ed,eg)=>eu>>>eg;ed.shrSH=eE;let eA=(eu,ed,eg)=>eu<<32-eg|ed>>>eg;ed.shrSL=eA;let eS=(eu,ed,eg)=>eu>>>eg|ed<<32-eg;ed.rotrSH=eS;let eI=(eu,ed,eg)=>eu<<32-eg|ed>>>eg;ed.rotrSL=eI;let eC=(eu,ed,eg)=>eu<<64-eg|ed>>>eg-32;ed.rotrBH=eC;let eM=(eu,ed,eg)=>eu>>>eg-32|ed<<64-eg;ed.rotrBL=eM;let eO=(eu,ed)=>ed;ed.rotr32H=eO;let eT=(eu,ed)=>eu;ed.rotr32L=eT;let eP=(eu,ed,eg)=>eu<<eg|ed>>>32-eg;ed.rotlSH=eP;let eN=(eu,ed,eg)=>ed<<eg|eu>>>32-eg;ed.rotlSL=eN;let ek=(eu,ed,eg)=>ed<<eg-32|eu>>>64-eg;ed.rotlBH=ek;let eR=(eu,ed,eg)=>eu<<eg-32|ed>>>64-eg;function eD(eu,ed,eg,em){let eb=(ed>>>0)+(em>>>0);return{h:eu+eg+(eb/4294967296|0)|0,l:0|eb}}ed.rotlBL=eR,ed.add=eD;let eB=(eu,ed,eg)=>(eu>>>0)+(ed>>>0)+(eg>>>0);ed.add3L=eB;let eU=(eu,ed,eg,em)=>ed+eg+em+(eu/4294967296|0)|0;ed.add3H=eU;let eL=(eu,ed,eg,em)=>(eu>>>0)+(ed>>>0)+(eg>>>0)+(em>>>0);ed.add4L=eL;let ej=(eu,ed,eg,em,eb)=>ed+eg+em+eb+(eu/4294967296|0)|0;ed.add4H=ej;let eF=(eu,ed,eg,em,eb)=>(eu>>>0)+(ed>>>0)+(eg>>>0)+(em>>>0)+(eb>>>0);ed.add5L=eF;let e$=(eu,ed,eg,em,eb,ew)=>ed+eg+em+eb+ew+(eu/4294967296|0)|0;ed.add5H=e$;let eK={fromBig:eb,split:ew,toBig:e_,shrSH:eE,shrSL:eA,rotrSH:eS,rotrSL:eI,rotrBH:eC,rotrBL:eM,rotr32H:eO,rotr32L:eT,rotlSH:eP,rotlSL:eN,rotlBH:ek,rotlBL:eR,add:eD,add3L:eB,add3H:eU,add4L:eL,add4H:ej,add5H:e$,add5L:eF};ed.default=eK},86569:function(eu,ed){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.crypto=void 0,ed.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0},65473:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.sha384=ed.sha512_256=ed.sha512_224=ed.sha512=ed.SHA512=void 0;let em=eg(72889),eb=eg(92594),ew=eg(19643),[e_,eE]=eb.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(eu=>BigInt(eu))),eA=new Uint32Array(80),eS=new Uint32Array(80);class eI extends em.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:eu,Al:ed,Bh:eg,Bl:em,Ch:eb,Cl:ew,Dh:e_,Dl:eE,Eh:eA,El:eS,Fh:eI,Fl:eC,Gh:eM,Gl:eO,Hh:eT,Hl:eP}=this;return[eu,ed,eg,em,eb,ew,e_,eE,eA,eS,eI,eC,eM,eO,eT,eP]}set(eu,ed,eg,em,eb,ew,e_,eE,eA,eS,eI,eC,eM,eO,eT,eP){this.Ah=0|eu,this.Al=0|ed,this.Bh=0|eg,this.Bl=0|em,this.Ch=0|eb,this.Cl=0|ew,this.Dh=0|e_,this.Dl=0|eE,this.Eh=0|eA,this.El=0|eS,this.Fh=0|eI,this.Fl=0|eC,this.Gh=0|eM,this.Gl=0|eO,this.Hh=0|eT,this.Hl=0|eP}process(eu,ed){for(let eg=0;eg<16;eg++,ed+=4)eA[eg]=eu.getUint32(ed),eS[eg]=eu.getUint32(ed+=4);for(let eu=16;eu<80;eu++){let ed=0|eA[eu-15],eg=0|eS[eu-15],em=eb.default.rotrSH(ed,eg,1)^eb.default.rotrSH(ed,eg,8)^eb.default.shrSH(ed,eg,7),ew=eb.default.rotrSL(ed,eg,1)^eb.default.rotrSL(ed,eg,8)^eb.default.shrSL(ed,eg,7),e_=0|eA[eu-2],eE=0|eS[eu-2],eI=eb.default.rotrSH(e_,eE,19)^eb.default.rotrBH(e_,eE,61)^eb.default.shrSH(e_,eE,6),eC=eb.default.rotrSL(e_,eE,19)^eb.default.rotrBL(e_,eE,61)^eb.default.shrSL(e_,eE,6),eM=eb.default.add4L(ew,eC,eS[eu-7],eS[eu-16]),eO=eb.default.add4H(eM,em,eI,eA[eu-7],eA[eu-16]);eA[eu]=0|eO,eS[eu]=0|eM}let{Ah:eg,Al:em,Bh:ew,Bl:eI,Ch:eC,Cl:eM,Dh:eO,Dl:eT,Eh:eP,El:eN,Fh:ek,Fl:eR,Gh:eD,Gl:eB,Hh:eU,Hl:eL}=this;for(let eu=0;eu<80;eu++){let ed=eb.default.rotrSH(eP,eN,14)^eb.default.rotrSH(eP,eN,18)^eb.default.rotrBH(eP,eN,41),ej=eb.default.rotrSL(eP,eN,14)^eb.default.rotrSL(eP,eN,18)^eb.default.rotrBL(eP,eN,41),eF=eP&ek^~eP&eD,e$=eN&eR^~eN&eB,eK=eb.default.add5L(eL,ej,e$,eE[eu],eS[eu]),eH=eb.default.add5H(eK,eU,ed,eF,e_[eu],eA[eu]),eV=0|eK,eG=eb.default.rotrSH(eg,em,28)^eb.default.rotrBH(eg,em,34)^eb.default.rotrBH(eg,em,39),eW=eb.default.rotrSL(eg,em,28)^eb.default.rotrBL(eg,em,34)^eb.default.rotrBL(eg,em,39),eJ=eg&ew^eg&eC^ew&eC,eZ=em&eI^em&eM^eI&eM;eU=0|eD,eL=0|eB,eD=0|ek,eB=0|eR,ek=0|eP,eR=0|eN,({h:eP,l:eN}=eb.default.add(0|eO,0|eT,0|eH,0|eV)),eO=0|eC,eT=0|eM,eC=0|ew,eM=0|eI,ew=0|eg,eI=0|em;let eY=eb.default.add3L(eV,eW,eZ);eg=eb.default.add3H(eY,eH,eG,eJ),em=0|eY}({h:eg,l:em}=eb.default.add(0|this.Ah,0|this.Al,0|eg,0|em)),({h:ew,l:eI}=eb.default.add(0|this.Bh,0|this.Bl,0|ew,0|eI)),({h:eC,l:eM}=eb.default.add(0|this.Ch,0|this.Cl,0|eC,0|eM)),({h:eO,l:eT}=eb.default.add(0|this.Dh,0|this.Dl,0|eO,0|eT)),({h:eP,l:eN}=eb.default.add(0|this.Eh,0|this.El,0|eP,0|eN)),({h:ek,l:eR}=eb.default.add(0|this.Fh,0|this.Fl,0|ek,0|eR)),({h:eD,l:eB}=eb.default.add(0|this.Gh,0|this.Gl,0|eD,0|eB)),({h:eU,l:eL}=eb.default.add(0|this.Hh,0|this.Hl,0|eU,0|eL)),this.set(eg,em,ew,eI,eC,eM,eO,eT,eP,eN,ek,eR,eD,eB,eU,eL)}roundClean(){eA.fill(0),eS.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}ed.SHA512=eI;class eC extends eI{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class eM extends eI{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class eO extends eI{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}ed.sha512=(0,ew.wrapConstructor)(()=>new eI),ed.sha512_224=(0,ew.wrapConstructor)(()=>new eC),ed.sha512_256=(0,ew.wrapConstructor)(()=>new eM),ed.sha384=(0,ew.wrapConstructor)(()=>new eO)},19643:function(eu,ed,eg){"use strict";/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(ed,"__esModule",{value:!0}),ed.randomBytes=ed.wrapXOFConstructorWithOpts=ed.wrapConstructorWithOpts=ed.wrapConstructor=ed.checkOpts=ed.Hash=ed.concatBytes=ed.toBytes=ed.utf8ToBytes=ed.asyncLoop=ed.nextTick=ed.hexToBytes=ed.bytesToHex=ed.isLE=ed.rotr=ed.createView=ed.u32=ed.u8=void 0;let em=eg(86569),eb=eu=>eu instanceof Uint8Array,ew=eu=>new Uint8Array(eu.buffer,eu.byteOffset,eu.byteLength);ed.u8=ew;let e_=eu=>new Uint32Array(eu.buffer,eu.byteOffset,Math.floor(eu.byteLength/4));ed.u32=e_;let eE=eu=>new DataView(eu.buffer,eu.byteOffset,eu.byteLength);ed.createView=eE;let eA=(eu,ed)=>eu<<32-ed|eu>>>ed;if(ed.rotr=eA,ed.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!ed.isLE)throw Error("Non little-endian hardware is not supported");let eS=Array.from({length:256},(eu,ed)=>ed.toString(16).padStart(2,"0"));function eI(eu){if(!eb(eu))throw Error("Uint8Array expected");let ed="";for(let eg=0;eg<eu.length;eg++)ed+=eS[eu[eg]];return ed}function eC(eu){if("string"!=typeof eu)throw Error("hex string expected, got "+typeof eu);let ed=eu.length;if(ed%2)throw Error("padded hex string expected, got unpadded hex of length "+ed);let eg=new Uint8Array(ed/2);for(let ed=0;ed<eg.length;ed++){let em=2*ed,eb=eu.slice(em,em+2),ew=Number.parseInt(eb,16);if(Number.isNaN(ew)||ew<0)throw Error("Invalid byte sequence");eg[ed]=ew}return eg}ed.bytesToHex=eI,ed.hexToBytes=eC;let eM=async()=>{};async function eO(eu,eg,em){let eb=Date.now();for(let ew=0;ew<eu;ew++){em(ew);let eu=Date.now()-eb;eu>=0&&eu<eg||(await (0,ed.nextTick)(),eb+=eu)}}function eT(eu){if("string"!=typeof eu)throw Error(`utf8ToBytes expected string, got ${typeof eu}`);return new Uint8Array(new TextEncoder().encode(eu))}function eP(eu){if("string"==typeof eu&&(eu=eT(eu)),!eb(eu))throw Error(`expected Uint8Array, got ${typeof eu}`);return eu}function eN(...eu){let ed=new Uint8Array(eu.reduce((eu,ed)=>eu+ed.length,0)),eg=0;return eu.forEach(eu=>{if(!eb(eu))throw Error("Uint8Array expected");ed.set(eu,eg),eg+=eu.length}),ed}ed.nextTick=eM,ed.asyncLoop=eO,ed.utf8ToBytes=eT,ed.toBytes=eP,ed.concatBytes=eN;class ek{clone(){return this._cloneInto()}}ed.Hash=ek;let eR={}.toString;function eD(eu,ed){if(void 0!==ed&&"[object Object]"!==eR.call(ed))throw Error("Options should be object or undefined");let eg=Object.assign(eu,ed);return eg}function eB(eu){let ed=ed=>eu().update(eP(ed)).digest(),eg=eu();return ed.outputLen=eg.outputLen,ed.blockLen=eg.blockLen,ed.create=()=>eu(),ed}function eU(eu){let ed=(ed,eg)=>eu(eg).update(eP(ed)).digest(),eg=eu({});return ed.outputLen=eg.outputLen,ed.blockLen=eg.blockLen,ed.create=ed=>eu(ed),ed}function eL(eu){let ed=(ed,eg)=>eu(eg).update(eP(ed)).digest(),eg=eu({});return ed.outputLen=eg.outputLen,ed.blockLen=eg.blockLen,ed.create=ed=>eu(ed),ed}function ej(eu=32){if(em.crypto&&"function"==typeof em.crypto.getRandomValues)return em.crypto.getRandomValues(new Uint8Array(eu));throw Error("crypto.getRandomValues must be defined")}ed.checkOpts=eD,ed.wrapConstructor=eB,ed.wrapConstructorWithOpts=eU,ed.wrapXOFConstructorWithOpts=eL,ed.randomBytes=ej},60216:function(eu,ed){"use strict";function eg(eu){if(!Number.isSafeInteger(eu)||eu<0)throw Error(`Wrong positive integer: ${eu}`)}function em(eu){if("boolean"!=typeof eu)throw Error(`Expected boolean, not ${eu}`)}function eb(eu){return eu instanceof Uint8Array||null!=eu&&"object"==typeof eu&&"Uint8Array"===eu.constructor.name}function ew(eu,...ed){if(!eb(eu))throw Error("Expected Uint8Array");if(ed.length>0&&!ed.includes(eu.length))throw Error(`Expected Uint8Array of length ${ed}, not of length=${eu.length}`)}function e_(eu){if("function"!=typeof eu||"function"!=typeof eu.create)throw Error("Hash should be wrapped by utils.wrapConstructor");eg(eu.outputLen),eg(eu.blockLen)}function eE(eu,ed=!0){if(eu.destroyed)throw Error("Hash instance has been destroyed");if(ed&&eu.finished)throw Error("Hash#digest() has already been called")}function eA(eu,ed){ew(eu);let eg=ed.outputLen;if(eu.length<eg)throw Error(`digestInto() expects output buffer of length at least ${eg}`)}Object.defineProperty(ed,"__esModule",{value:!0}),ed.output=ed.exists=ed.hash=ed.bytes=ed.bool=ed.number=void 0,ed.number=eg,ed.bool=em,ed.bytes=ew,ed.hash=e_,ed.exists=eE,ed.output=eA;let eS={number:eg,bool:em,bytes:ew,hash:e_,exists:eE,output:eA};ed.default=eS},72534:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.SHA2=void 0;let em=eg(60216),eb=eg(54117);function ew(eu,ed,eg,em){if("function"==typeof eu.setBigUint64)return eu.setBigUint64(ed,eg,em);let eb=BigInt(32),ew=BigInt(4294967295),e_=Number(eg>>eb&ew),eE=Number(eg&ew),eA=em?4:0,eS=em?0:4;eu.setUint32(ed+eA,e_,em),eu.setUint32(ed+eS,eE,em)}class e_ extends eb.Hash{constructor(eu,ed,eg,em){super(),this.blockLen=eu,this.outputLen=ed,this.padOffset=eg,this.isLE=em,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(eu),this.view=(0,eb.createView)(this.buffer)}update(eu){(0,em.exists)(this);let{view:ed,buffer:eg,blockLen:ew}=this;eu=(0,eb.toBytes)(eu);let e_=eu.length;for(let em=0;em<e_;){let eE=Math.min(ew-this.pos,e_-em);if(eE===ew){let ed=(0,eb.createView)(eu);for(;ew<=e_-em;em+=ew)this.process(ed,em);continue}eg.set(eu.subarray(em,em+eE),this.pos),this.pos+=eE,em+=eE,this.pos===ew&&(this.process(ed,0),this.pos=0)}return this.length+=eu.length,this.roundClean(),this}digestInto(eu){(0,em.exists)(this),(0,em.output)(eu,this),this.finished=!0;let{buffer:ed,view:eg,blockLen:e_,isLE:eE}=this,{pos:eA}=this;ed[eA++]=128,this.buffer.subarray(eA).fill(0),this.padOffset>e_-eA&&(this.process(eg,0),eA=0);for(let eu=eA;eu<e_;eu++)ed[eu]=0;ew(eg,e_-8,BigInt(8*this.length),eE),this.process(eg,0);let eS=(0,eb.createView)(eu),eI=this.outputLen;if(eI%4)throw Error("_sha2: outputLen should be aligned to 32bit");let eC=eI/4,eM=this.get();if(eC>eM.length)throw Error("_sha2: outputLen bigger than state");for(let eu=0;eu<eC;eu++)eS.setUint32(4*eu,eM[eu],eE)}digest(){let{buffer:eu,outputLen:ed}=this;this.digestInto(eu);let eg=eu.slice(0,ed);return this.destroy(),eg}_cloneInto(eu){eu||(eu=new this.constructor),eu.set(...this.get());let{blockLen:ed,buffer:eg,length:em,finished:eb,destroyed:ew,pos:e_}=this;return eu.length=em,eu.pos=e_,eu.finished=eb,eu.destroyed=ew,em%ed&&eu.buffer.set(eg),eu}}ed.SHA2=e_},29401:function(eu,ed){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.crypto=void 0,ed.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0},71881:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.sha224=ed.sha256=void 0;let em=eg(72534),eb=eg(54117),ew=(eu,ed,eg)=>eu&ed^~eu&eg,e_=(eu,ed,eg)=>eu&ed^eu&eg^ed&eg,eE=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),eA=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),eS=new Uint32Array(64);class eI extends em.SHA2{constructor(){super(64,32,8,!1),this.A=0|eA[0],this.B=0|eA[1],this.C=0|eA[2],this.D=0|eA[3],this.E=0|eA[4],this.F=0|eA[5],this.G=0|eA[6],this.H=0|eA[7]}get(){let{A:eu,B:ed,C:eg,D:em,E:eb,F:ew,G:e_,H:eE}=this;return[eu,ed,eg,em,eb,ew,e_,eE]}set(eu,ed,eg,em,eb,ew,e_,eE){this.A=0|eu,this.B=0|ed,this.C=0|eg,this.D=0|em,this.E=0|eb,this.F=0|ew,this.G=0|e_,this.H=0|eE}process(eu,ed){for(let eg=0;eg<16;eg++,ed+=4)eS[eg]=eu.getUint32(ed,!1);for(let eu=16;eu<64;eu++){let ed=eS[eu-15],eg=eS[eu-2],em=(0,eb.rotr)(ed,7)^(0,eb.rotr)(ed,18)^ed>>>3,ew=(0,eb.rotr)(eg,17)^(0,eb.rotr)(eg,19)^eg>>>10;eS[eu]=ew+eS[eu-7]+em+eS[eu-16]|0}let{A:eg,B:em,C:eA,D:eI,E:eC,F:eM,G:eO,H:eT}=this;for(let eu=0;eu<64;eu++){let ed=(0,eb.rotr)(eC,6)^(0,eb.rotr)(eC,11)^(0,eb.rotr)(eC,25),eP=eT+ed+ew(eC,eM,eO)+eE[eu]+eS[eu]|0,eN=(0,eb.rotr)(eg,2)^(0,eb.rotr)(eg,13)^(0,eb.rotr)(eg,22),ek=eN+e_(eg,em,eA)|0;eT=eO,eO=eM,eM=eC,eC=eI+eP|0,eI=eA,eA=em,em=eg,eg=eP+ek|0}eg=eg+this.A|0,em=em+this.B|0,eA=eA+this.C|0,eI=eI+this.D|0,eC=eC+this.E|0,eM=eM+this.F|0,eO=eO+this.G|0,eT=eT+this.H|0,this.set(eg,em,eA,eI,eC,eM,eO,eT)}roundClean(){eS.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class eC extends eI{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}ed.sha256=(0,eb.wrapConstructor)(()=>new eI),ed.sha224=(0,eb.wrapConstructor)(()=>new eC)},54117:function(eu,ed,eg){"use strict";/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(ed,"__esModule",{value:!0}),ed.randomBytes=ed.wrapXOFConstructorWithOpts=ed.wrapConstructorWithOpts=ed.wrapConstructor=ed.checkOpts=ed.Hash=ed.concatBytes=ed.toBytes=ed.utf8ToBytes=ed.asyncLoop=ed.nextTick=ed.hexToBytes=ed.bytesToHex=ed.isLE=ed.rotr=ed.createView=ed.u32=ed.u8=void 0;let em=eg(29401),eb=eu=>new Uint8Array(eu.buffer,eu.byteOffset,eu.byteLength);ed.u8=eb;let ew=eu=>new Uint32Array(eu.buffer,eu.byteOffset,Math.floor(eu.byteLength/4));function e_(eu){return eu instanceof Uint8Array||null!=eu&&"object"==typeof eu&&"Uint8Array"===eu.constructor.name}ed.u32=ew;let eE=eu=>new DataView(eu.buffer,eu.byteOffset,eu.byteLength);ed.createView=eE;let eA=(eu,ed)=>eu<<32-ed|eu>>>ed;if(ed.rotr=eA,ed.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!ed.isLE)throw Error("Non little-endian hardware is not supported");let eS=Array.from({length:256},(eu,ed)=>ed.toString(16).padStart(2,"0"));function eI(eu){if(!e_(eu))throw Error("Uint8Array expected");let ed="";for(let eg=0;eg<eu.length;eg++)ed+=eS[eu[eg]];return ed}ed.bytesToHex=eI;let eC={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function eM(eu){return eu>=eC._0&&eu<=eC._9?eu-eC._0:eu>=eC._A&&eu<=eC._F?eu-(eC._A-10):eu>=eC._a&&eu<=eC._f?eu-(eC._a-10):void 0}function eO(eu){if("string"!=typeof eu)throw Error("hex string expected, got "+typeof eu);let ed=eu.length,eg=ed/2;if(ed%2)throw Error("padded hex string expected, got unpadded hex of length "+ed);let em=new Uint8Array(eg);for(let ed=0,eb=0;ed<eg;ed++,eb+=2){let eg=eM(eu.charCodeAt(eb)),ew=eM(eu.charCodeAt(eb+1));if(void 0===eg||void 0===ew){let ed=eu[eb]+eu[eb+1];throw Error('hex string expected, got non-hex character "'+ed+'" at index '+eb)}em[ed]=16*eg+ew}return em}ed.hexToBytes=eO;let eT=async()=>{};async function eP(eu,eg,em){let eb=Date.now();for(let ew=0;ew<eu;ew++){em(ew);let eu=Date.now()-eb;eu>=0&&eu<eg||(await (0,ed.nextTick)(),eb+=eu)}}function eN(eu){if("string"!=typeof eu)throw Error(`utf8ToBytes expected string, got ${typeof eu}`);return new Uint8Array(new TextEncoder().encode(eu))}function ek(eu){if("string"==typeof eu&&(eu=eN(eu)),!e_(eu))throw Error(`expected Uint8Array, got ${typeof eu}`);return eu}function eR(...eu){let ed=0;for(let eg=0;eg<eu.length;eg++){let em=eu[eg];if(!e_(em))throw Error("Uint8Array expected");ed+=em.length}let eg=new Uint8Array(ed);for(let ed=0,em=0;ed<eu.length;ed++){let eb=eu[ed];eg.set(eb,em),em+=eb.length}return eg}ed.nextTick=eT,ed.asyncLoop=eP,ed.utf8ToBytes=eN,ed.toBytes=ek,ed.concatBytes=eR;class eD{clone(){return this._cloneInto()}}ed.Hash=eD;let eB={}.toString;function eU(eu,ed){if(void 0!==ed&&"[object Object]"!==eB.call(ed))throw Error("Options should be object or undefined");let eg=Object.assign(eu,ed);return eg}function eL(eu){let ed=ed=>eu().update(ek(ed)).digest(),eg=eu();return ed.outputLen=eg.outputLen,ed.blockLen=eg.blockLen,ed.create=()=>eu(),ed}function ej(eu){let ed=(ed,eg)=>eu(eg).update(ek(ed)).digest(),eg=eu({});return ed.outputLen=eg.outputLen,ed.blockLen=eg.blockLen,ed.create=ed=>eu(ed),ed}function eF(eu){let ed=(ed,eg)=>eu(eg).update(ek(ed)).digest(),eg=eu({});return ed.outputLen=eg.outputLen,ed.blockLen=eg.blockLen,ed.create=ed=>eu(ed),ed}function e$(eu=32){if(em.crypto&&"function"==typeof em.crypto.getRandomValues)return em.crypto.getRandomValues(new Uint8Array(eu));throw Error("crypto.getRandomValues must be defined")}ed.checkOpts=eU,ed.wrapConstructor=eL,ed.wrapConstructorWithOpts=ej,ed.wrapXOFConstructorWithOpts=eF,ed.randomBytes=e$},52626:function(eu,ed,eg){"use strict";var em=eg(48834).Buffer,eb=this&&this.__createBinding||(Object.create?function(eu,ed,eg,em){void 0===em&&(em=eg),Object.defineProperty(eu,em,{enumerable:!0,get:function(){return ed[eg]}})}:function(eu,ed,eg,em){void 0===em&&(em=eg),eu[em]=ed[eg]}),ew=this&&this.__setModuleDefault||(Object.create?function(eu,ed){Object.defineProperty(eu,"default",{enumerable:!0,value:ed})}:function(eu,ed){eu.default=ed}),e_=this&&this.__decorate||function(eu,ed,eg,em){var eb,ew=arguments.length,e_=ew<3?ed:null===em?em=Object.getOwnPropertyDescriptor(ed,eg):em;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)e_=Reflect.decorate(eu,ed,eg,em);else for(var eE=eu.length-1;eE>=0;eE--)(eb=eu[eE])&&(e_=(ew<3?eb(e_):ew>3?eb(ed,eg,e_):eb(ed,eg))||e_);return ew>3&&e_&&Object.defineProperty(ed,eg,e_),e_},eE=this&&this.__importStar||function(eu){if(eu&&eu.__esModule)return eu;var ed={};if(null!=eu)for(var eg in eu)"default"!==eg&&Object.hasOwnProperty.call(eu,eg)&&eb(ed,eu,eg);return ew(ed,eu),ed},eA=this&&this.__importDefault||function(eu){return eu&&eu.__esModule?eu:{default:eu}};Object.defineProperty(ed,"__esModule",{value:!0}),ed.deserializeUnchecked=ed.deserialize=ed.serialize=ed.BinaryReader=ed.BinaryWriter=ed.BorshError=ed.baseDecode=ed.baseEncode=void 0;let eS=eA(eg(62197)),eI=eA(eg(50112)),eC=eE(eg(92338)),eM="function"!=typeof TextDecoder?eC.TextDecoder:TextDecoder,eO=new eM("utf-8",{fatal:!0});function eT(eu){return"string"==typeof eu&&(eu=em.from(eu,"utf8")),eI.default.encode(em.from(eu))}function eP(eu){return em.from(eI.default.decode(eu))}ed.baseEncode=eT,ed.baseDecode=eP;let eN=1024;class ek extends Error{constructor(eu){super(eu),this.fieldPath=[],this.originalMessage=eu}addToFieldPath(eu){this.fieldPath.splice(0,0,eu),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}ed.BorshError=ek;class eR{constructor(){this.buf=em.alloc(eN),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=em.concat([this.buf,em.alloc(eN)]))}writeU8(eu){this.maybeResize(),this.buf.writeUInt8(eu,this.length),this.length+=1}writeU16(eu){this.maybeResize(),this.buf.writeUInt16LE(eu,this.length),this.length+=2}writeU32(eu){this.maybeResize(),this.buf.writeUInt32LE(eu,this.length),this.length+=4}writeU64(eu){this.maybeResize(),this.writeBuffer(em.from(new eS.default(eu).toArray("le",8)))}writeU128(eu){this.maybeResize(),this.writeBuffer(em.from(new eS.default(eu).toArray("le",16)))}writeU256(eu){this.maybeResize(),this.writeBuffer(em.from(new eS.default(eu).toArray("le",32)))}writeU512(eu){this.maybeResize(),this.writeBuffer(em.from(new eS.default(eu).toArray("le",64)))}writeBuffer(eu){this.buf=em.concat([em.from(this.buf.subarray(0,this.length)),eu,em.alloc(eN)]),this.length+=eu.length}writeString(eu){this.maybeResize();let ed=em.from(eu,"utf8");this.writeU32(ed.length),this.writeBuffer(ed)}writeFixedArray(eu){this.writeBuffer(em.from(eu))}writeArray(eu,ed){for(let eg of(this.maybeResize(),this.writeU32(eu.length),eu))this.maybeResize(),ed(eg)}toArray(){return this.buf.subarray(0,this.length)}}function eD(eu,ed,eg){let em=eg.value;eg.value=function(...eu){try{return em.apply(this,eu)}catch(eu){if(eu instanceof RangeError){let ed=eu.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(ed)>=0)throw new ek("Reached the end of buffer when deserializing")}throw eu}}}ed.BinaryWriter=eR;class eB{constructor(eu){this.buf=eu,this.offset=0}readU8(){let eu=this.buf.readUInt8(this.offset);return this.offset+=1,eu}readU16(){let eu=this.buf.readUInt16LE(this.offset);return this.offset+=2,eu}readU32(){let eu=this.buf.readUInt32LE(this.offset);return this.offset+=4,eu}readU64(){let eu=this.readBuffer(8);return new eS.default(eu,"le")}readU128(){let eu=this.readBuffer(16);return new eS.default(eu,"le")}readU256(){let eu=this.readBuffer(32);return new eS.default(eu,"le")}readU512(){let eu=this.readBuffer(64);return new eS.default(eu,"le")}readBuffer(eu){if(this.offset+eu>this.buf.length)throw new ek(`Expected buffer length ${eu} isn't within bounds`);let ed=this.buf.slice(this.offset,this.offset+eu);return this.offset+=eu,ed}readString(){let eu=this.readU32(),ed=this.readBuffer(eu);try{return eO.decode(ed)}catch(eu){throw new ek(`Error decoding UTF-8 string: ${eu}`)}}readFixedArray(eu){return new Uint8Array(this.readBuffer(eu))}readArray(eu){let ed=this.readU32(),eg=[];for(let em=0;em<ed;++em)eg.push(eu());return eg}}function eU(eu){return eu.charAt(0).toUpperCase()+eu.slice(1)}function eL(eu,ed,eg,em,eb){try{if("string"==typeof em)eb[`write${eU(em)}`](eg);else if(em instanceof Array){if("number"==typeof em[0]){if(eg.length!==em[0])throw new ek(`Expecting byte array of length ${em[0]}, but got ${eg.length} bytes`);eb.writeFixedArray(eg)}else if(2===em.length&&"number"==typeof em[1]){if(eg.length!==em[1])throw new ek(`Expecting byte array of length ${em[1]}, but got ${eg.length} bytes`);for(let ed=0;ed<em[1];ed++)eL(eu,null,eg[ed],em[0],eb)}else eb.writeArray(eg,eg=>{eL(eu,ed,eg,em[0],eb)})}else if(void 0!==em.kind)switch(em.kind){case"option":null==eg?eb.writeU8(0):(eb.writeU8(1),eL(eu,ed,eg,em.type,eb));break;case"map":eb.writeU32(eg.size),eg.forEach((eg,ew)=>{eL(eu,ed,ew,em.key,eb),eL(eu,ed,eg,em.value,eb)});break;default:throw new ek(`FieldType ${em} unrecognized`)}else ej(eu,eg,eb)}catch(eu){throw eu instanceof ek&&eu.addToFieldPath(ed),eu}}function ej(eu,ed,eg){if("function"==typeof ed.borshSerialize){ed.borshSerialize(eg);return}let em=eu.get(ed.constructor);if(!em)throw new ek(`Class ${ed.constructor.name} is missing in schema`);if("struct"===em.kind)em.fields.map(([em,eb])=>{eL(eu,em,ed[em],eb,eg)});else if("enum"===em.kind){let eb=ed[em.field];for(let ew=0;ew<em.values.length;++ew){let[e_,eE]=em.values[ew];if(e_===eb){eg.writeU8(ew),eL(eu,e_,ed[e_],eE,eg);break}}}else throw new ek(`Unexpected schema kind: ${em.kind} for ${ed.constructor.name}`)}function eF(eu,ed,eg=eR){let em=new eg;return ej(eu,ed,em),em.toArray()}function e$(eu,ed,eg,em){try{if("string"==typeof eg)return em[`read${eU(eg)}`]();if(eg instanceof Array){if("number"==typeof eg[0])return em.readFixedArray(eg[0]);if("number"!=typeof eg[1])return em.readArray(()=>e$(eu,ed,eg[0],em));{let ed=[];for(let eb=0;eb<eg[1];eb++)ed.push(e$(eu,null,eg[0],em));return ed}}if("option"===eg.kind){let eb=em.readU8();if(eb)return e$(eu,ed,eg.type,em);return}if("map"===eg.kind){let eb=new Map,ew=em.readU32();for(let e_=0;e_<ew;e_++){let ew=e$(eu,ed,eg.key,em),e_=e$(eu,ed,eg.value,em);eb.set(ew,e_)}return eb}return eK(eu,eg,em)}catch(eu){throw eu instanceof ek&&eu.addToFieldPath(ed),eu}}function eK(eu,ed,eg){if("function"==typeof ed.borshDeserialize)return ed.borshDeserialize(eg);let em=eu.get(ed);if(!em)throw new ek(`Class ${ed.name} is missing in schema`);if("struct"===em.kind){let em={};for(let[eb,ew]of eu.get(ed).fields)em[eb]=e$(eu,eb,ew,eg);return new ed(em)}if("enum"===em.kind){let eb=eg.readU8();if(eb>=em.values.length)throw new ek(`Enum index: ${eb} is out of range`);let[ew,e_]=em.values[eb],eE=e$(eu,ew,e_,eg);return new ed({[ew]:eE})}throw new ek(`Unexpected schema kind: ${em.kind} for ${ed.constructor.name}`)}function eH(eu,ed,eg,em=eB){let eb=new em(eg),ew=eK(eu,ed,eb);if(eb.offset<eg.length)throw new ek(`Unexpected ${eg.length-eb.offset} bytes after deserialized data`);return ew}function eV(eu,ed,eg,em=eB){let eb=new em(eg);return eK(eu,ed,eb)}e_([eD],eB.prototype,"readU8",null),e_([eD],eB.prototype,"readU16",null),e_([eD],eB.prototype,"readU32",null),e_([eD],eB.prototype,"readU64",null),e_([eD],eB.prototype,"readU128",null),e_([eD],eB.prototype,"readU256",null),e_([eD],eB.prototype,"readU512",null),e_([eD],eB.prototype,"readString",null),e_([eD],eB.prototype,"readFixedArray",null),e_([eD],eB.prototype,"readArray",null),ed.BinaryReader=eB,ed.serialize=eF,ed.deserialize=eH,ed.deserializeUnchecked=eV},50112:function(eu,ed,eg){var em=eg(18166),eb="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";eu.exports=em(eb)},37389:function(eu,ed){"use strict";var eg,em,eb;Object.defineProperty(ed,"__esModule",{value:!0}),ed.AbiSerializationType=ed.AbiFunctionModifier=ed.AbiFunctionKind=ed.SCHEMA_VERSION=void 0,ed.SCHEMA_VERSION="0.3.0",function(eu){eu.View="view",eu.Call="call"}(eg=ed.AbiFunctionKind||(ed.AbiFunctionKind={})),function(eu){eu.Init="init",eu.Private="private",eu.Payable="payable"}(em=ed.AbiFunctionModifier||(ed.AbiFunctionModifier={})),function(eu){eu.Json="json",eu.Borsh="borsh"}(eb=ed.AbiSerializationType||(ed.AbiSerializationType={}))},33523:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.Account=void 0;var em=eg(54285);Object.defineProperty(ed,"Account",{enumerable:!0,get:function(){return em.Account}})},90541:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.UrlAccountCreator=ed.LocalAccountCreator=ed.AccountCreator=void 0;var em=eg(54285);Object.defineProperty(ed,"AccountCreator",{enumerable:!0,get:function(){return em.AccountCreator}}),Object.defineProperty(ed,"LocalAccountCreator",{enumerable:!0,get:function(){return em.LocalAccountCreator}}),Object.defineProperty(ed,"UrlAccountCreator",{enumerable:!0,get:function(){return em.UrlAccountCreator}})},42617:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.MultisigStateStatus=ed.MultisigDeleteRequestRejectionError=ed.MULTISIG_CONFIRM_METHODS=ed.MULTISIG_CHANGE_METHODS=ed.MULTISIG_DEPOSIT=ed.MULTISIG_GAS=ed.MULTISIG_ALLOWANCE=ed.MULTISIG_STORAGE_KEY=ed.AccountMultisig=ed.Account2FA=void 0;var em=eg(54285);Object.defineProperty(ed,"Account2FA",{enumerable:!0,get:function(){return em.Account2FA}}),Object.defineProperty(ed,"AccountMultisig",{enumerable:!0,get:function(){return em.AccountMultisig}}),Object.defineProperty(ed,"MULTISIG_STORAGE_KEY",{enumerable:!0,get:function(){return em.MULTISIG_STORAGE_KEY}}),Object.defineProperty(ed,"MULTISIG_ALLOWANCE",{enumerable:!0,get:function(){return em.MULTISIG_ALLOWANCE}}),Object.defineProperty(ed,"MULTISIG_GAS",{enumerable:!0,get:function(){return em.MULTISIG_GAS}}),Object.defineProperty(ed,"MULTISIG_DEPOSIT",{enumerable:!0,get:function(){return em.MULTISIG_DEPOSIT}}),Object.defineProperty(ed,"MULTISIG_CHANGE_METHODS",{enumerable:!0,get:function(){return em.MULTISIG_CHANGE_METHODS}}),Object.defineProperty(ed,"MULTISIG_CONFIRM_METHODS",{enumerable:!0,get:function(){return em.MULTISIG_CONFIRM_METHODS}}),Object.defineProperty(ed,"MultisigDeleteRequestRejectionError",{enumerable:!0,get:function(){return em.MultisigDeleteRequestRejectionError}}),Object.defineProperty(ed,"MultisigStateStatus",{enumerable:!0,get:function(){return em.MultisigStateStatus}})},90285:function(eu,ed,eg){"use strict";var em=this&&this.__awaiter||function(eu,ed,eg,em){function eb(eu){return eu instanceof eg?eu:new eg(function(ed){ed(eu)})}return new(eg||(eg=Promise))(function(eg,ew){function e_(eu){try{eA(em.next(eu))}catch(eu){ew(eu)}}function eE(eu){try{eA(em.throw(eu))}catch(eu){ew(eu)}}function eA(eu){eu.done?eg(eu.value):eb(eu.value).then(e_,eE)}eA((em=em.apply(eu,ed||[])).next())})};Object.defineProperty(ed,"__esModule",{value:!0}),ed.connect=void 0;let eb=eg(22355);function ew(eu){return em(this,void 0,void 0,function*(){return new eb.Near(eu)})}ed.connect=ew},24230:function(eu,ed,eg){"use strict";var em=this&&this.__createBinding||(Object.create?function(eu,ed,eg,em){void 0===em&&(em=eg);var eb=Object.getOwnPropertyDescriptor(ed,eg);(!eb||("get"in eb?!ed.__esModule:eb.writable||eb.configurable))&&(eb={enumerable:!0,get:function(){return ed[eg]}}),Object.defineProperty(eu,em,eb)}:function(eu,ed,eg,em){void 0===em&&(em=eg),eu[em]=ed[eg]}),eb=this&&this.__setModuleDefault||(Object.create?function(eu,ed){Object.defineProperty(eu,"default",{enumerable:!0,value:ed})}:function(eu,ed){eu.default=ed}),ew=this&&this.__importStar||function(eu){if(eu&&eu.__esModule)return eu;var ed={};if(null!=eu)for(var eg in eu)"default"!==eg&&Object.prototype.hasOwnProperty.call(eu,eg)&&em(ed,eu,eg);return eb(ed,eu),ed},e_=this&&this.__exportStar||function(eu,ed){for(var eg in eu)"default"===eg||Object.prototype.hasOwnProperty.call(ed,eg)||em(ed,eu,eg)};Object.defineProperty(ed,"__esModule",{value:!0}),ed.keyStores=void 0,ed.keyStores=ew(eg(74063)),e_(eg(10190),ed),e_(eg(90285),ed)},10190:function(eu,ed,eg){"use strict";var em=this&&this.__createBinding||(Object.create?function(eu,ed,eg,em){void 0===em&&(em=eg);var eb=Object.getOwnPropertyDescriptor(ed,eg);(!eb||("get"in eb?!ed.__esModule:eb.writable||eb.configurable))&&(eb={enumerable:!0,get:function(){return ed[eg]}}),Object.defineProperty(eu,em,eb)}:function(eu,ed,eg,em){void 0===em&&(em=eg),eu[em]=ed[eg]}),eb=this&&this.__setModuleDefault||(Object.create?function(eu,ed){Object.defineProperty(eu,"default",{enumerable:!0,value:ed})}:function(eu,ed){eu.default=ed}),ew=this&&this.__importStar||function(eu){if(eu&&eu.__esModule)return eu;var ed={};if(null!=eu)for(var eg in eu)"default"!==eg&&Object.prototype.hasOwnProperty.call(eu,eg)&&em(ed,eu,eg);return eb(ed,eu),ed};Object.defineProperty(ed,"__esModule",{value:!0}),ed.WalletConnection=ed.ConnectedWalletAccount=ed.Near=ed.KeyPair=ed.Signer=ed.InMemorySigner=ed.Contract=ed.Connection=ed.Account=ed.multisig=ed.validators=ed.transactions=ed.utils=ed.providers=ed.accountCreator=void 0;let e_=ew(eg(84379));ed.providers=e_;let eE=ew(eg(82615));ed.utils=eE;let eA=ew(eg(13178));ed.transactions=eA;let eS=ew(eg(85019));ed.validators=eS;let eI=eg(33523);Object.defineProperty(ed,"Account",{enumerable:!0,get:function(){return eI.Account}});let eC=ew(eg(42617));ed.multisig=eC;let eM=ew(eg(90541));ed.accountCreator=eM;let eO=eg(13152);Object.defineProperty(ed,"Connection",{enumerable:!0,get:function(){return eO.Connection}});let eT=eg(86923);Object.defineProperty(ed,"Signer",{enumerable:!0,get:function(){return eT.Signer}}),Object.defineProperty(ed,"InMemorySigner",{enumerable:!0,get:function(){return eT.InMemorySigner}});let eP=eg(18202);Object.defineProperty(ed,"Contract",{enumerable:!0,get:function(){return eP.Contract}});let eN=eg(66844);Object.defineProperty(ed,"KeyPair",{enumerable:!0,get:function(){return eN.KeyPair}});let ek=eg(22355);Object.defineProperty(ed,"Near",{enumerable:!0,get:function(){return ek.Near}});let eR=eg(56954);Object.defineProperty(ed,"ConnectedWalletAccount",{enumerable:!0,get:function(){return eR.ConnectedWalletAccount}}),Object.defineProperty(ed,"WalletConnection",{enumerable:!0,get:function(){return eR.WalletConnection}})},13152:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.Connection=void 0;var em=eg(54285);Object.defineProperty(ed,"Connection",{enumerable:!0,get:function(){return em.Connection}})},18202:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.Contract=void 0;var em=eg(54285);Object.defineProperty(ed,"Contract",{enumerable:!0,get:function(){return em.Contract}})},74063:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.MergeKeyStore=ed.BrowserLocalStorageKeyStore=ed.InMemoryKeyStore=ed.KeyStore=void 0;let em=eg(97105);Object.defineProperty(ed,"KeyStore",{enumerable:!0,get:function(){return em.KeyStore}});let eb=eg(70525);Object.defineProperty(ed,"InMemoryKeyStore",{enumerable:!0,get:function(){return eb.InMemoryKeyStore}});let ew=eg(69186);Object.defineProperty(ed,"BrowserLocalStorageKeyStore",{enumerable:!0,get:function(){return ew.BrowserLocalStorageKeyStore}});let e_=eg(57842);Object.defineProperty(ed,"MergeKeyStore",{enumerable:!0,get:function(){return e_.MergeKeyStore}})},69186:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.BrowserLocalStorageKeyStore=void 0;var em=eg(88052);Object.defineProperty(ed,"BrowserLocalStorageKeyStore",{enumerable:!0,get:function(){return em.BrowserLocalStorageKeyStore}})},70525:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.InMemoryKeyStore=void 0;var em=eg(56806);Object.defineProperty(ed,"InMemoryKeyStore",{enumerable:!0,get:function(){return em.InMemoryKeyStore}})},97105:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.KeyStore=void 0;var em=eg(56806);Object.defineProperty(ed,"KeyStore",{enumerable:!0,get:function(){return em.KeyStore}})},57842:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.MergeKeyStore=void 0;var em=eg(56806);Object.defineProperty(ed,"MergeKeyStore",{enumerable:!0,get:function(){return em.MergeKeyStore}})},22355:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.Near=void 0;var em=eg(60465);Object.defineProperty(ed,"Near",{enumerable:!0,get:function(){return em.Near}})},36969:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.FailoverRpcProvider=void 0;var em=eg(36551);Object.defineProperty(ed,"FailoverRpcProvider",{enumerable:!0,get:function(){return em.FailoverRpcProvider}})},84379:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.ErrorContext=ed.TypedError=ed.getTransactionLastResult=ed.FinalExecutionStatusBasic=ed.FailoverRpcProvider=ed.JsonRpcProvider=ed.Provider=void 0;let em=eg(43223);Object.defineProperty(ed,"Provider",{enumerable:!0,get:function(){return em.Provider}}),Object.defineProperty(ed,"getTransactionLastResult",{enumerable:!0,get:function(){return em.getTransactionLastResult}}),Object.defineProperty(ed,"FinalExecutionStatusBasic",{enumerable:!0,get:function(){return em.FinalExecutionStatusBasic}});let eb=eg(64111);Object.defineProperty(ed,"JsonRpcProvider",{enumerable:!0,get:function(){return eb.JsonRpcProvider}}),Object.defineProperty(ed,"TypedError",{enumerable:!0,get:function(){return eb.TypedError}}),Object.defineProperty(ed,"ErrorContext",{enumerable:!0,get:function(){return eb.ErrorContext}});let ew=eg(36969);Object.defineProperty(ed,"FailoverRpcProvider",{enumerable:!0,get:function(){return ew.FailoverRpcProvider}})},64111:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.JsonRpcProvider=ed.TypedError=ed.ErrorContext=void 0;var em=eg(73795);Object.defineProperty(ed,"ErrorContext",{enumerable:!0,get:function(){return em.ErrorContext}}),Object.defineProperty(ed,"TypedError",{enumerable:!0,get:function(){return em.TypedError}});var eb=eg(36551);Object.defineProperty(ed,"JsonRpcProvider",{enumerable:!0,get:function(){return eb.JsonRpcProvider}})},43223:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.FinalExecutionStatusBasic=ed.ExecutionStatusBasic=ed.IdType=ed.Provider=ed.getTransactionLastResult=void 0;var em=eg(56035);Object.defineProperty(ed,"getTransactionLastResult",{enumerable:!0,get:function(){return em.getTransactionLastResult}});var eb=eg(36551);Object.defineProperty(ed,"Provider",{enumerable:!0,get:function(){return eb.Provider}});var ew=eg(73795);Object.defineProperty(ed,"IdType",{enumerable:!0,get:function(){return ew.IdType}}),Object.defineProperty(ed,"ExecutionStatusBasic",{enumerable:!0,get:function(){return ew.ExecutionStatusBasic}}),Object.defineProperty(ed,"FinalExecutionStatusBasic",{enumerable:!0,get:function(){return ew.FinalExecutionStatusBasic}})},86923:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.Signer=ed.InMemorySigner=void 0;var em=eg(43575);Object.defineProperty(ed,"InMemorySigner",{enumerable:!0,get:function(){return em.InMemorySigner}}),Object.defineProperty(ed,"Signer",{enumerable:!0,get:function(){return em.Signer}})},13178:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.transfer=ed.stake=ed.functionCallAccessKey=ed.functionCall=ed.fullAccessKey=ed.deployContract=ed.deleteKey=ed.deleteAccount=ed.createAccount=ed.addKey=ed.encodeTransaction=ed.encodeDelegateAction=ed.encodeSignedDelegate=ed.Transaction=ed.SignedTransaction=ed.Signature=ed.signTransaction=ed.createTransaction=ed.SCHEMA=ed.Transfer=ed.Stake=ed.FunctionCallPermission=ed.FunctionCall=ed.FullAccessPermission=ed.DeployContract=ed.DeleteKey=ed.DeleteAccount=ed.CreateAccount=ed.AddKey=ed.AccessKeyPermission=ed.AccessKey=ed.Action=ed.stringifyJsonOrBytes=void 0;var em=eg(42787);Object.defineProperty(ed,"stringifyJsonOrBytes",{enumerable:!0,get:function(){return em.stringifyJsonOrBytes}}),Object.defineProperty(ed,"Action",{enumerable:!0,get:function(){return em.Action}}),Object.defineProperty(ed,"AccessKey",{enumerable:!0,get:function(){return em.AccessKey}}),Object.defineProperty(ed,"AccessKeyPermission",{enumerable:!0,get:function(){return em.AccessKeyPermission}}),Object.defineProperty(ed,"AddKey",{enumerable:!0,get:function(){return em.AddKey}}),Object.defineProperty(ed,"CreateAccount",{enumerable:!0,get:function(){return em.CreateAccount}}),Object.defineProperty(ed,"DeleteAccount",{enumerable:!0,get:function(){return em.DeleteAccount}}),Object.defineProperty(ed,"DeleteKey",{enumerable:!0,get:function(){return em.DeleteKey}}),Object.defineProperty(ed,"DeployContract",{enumerable:!0,get:function(){return em.DeployContract}}),Object.defineProperty(ed,"FullAccessPermission",{enumerable:!0,get:function(){return em.FullAccessPermission}}),Object.defineProperty(ed,"FunctionCall",{enumerable:!0,get:function(){return em.FunctionCall}}),Object.defineProperty(ed,"FunctionCallPermission",{enumerable:!0,get:function(){return em.FunctionCallPermission}}),Object.defineProperty(ed,"Stake",{enumerable:!0,get:function(){return em.Stake}}),Object.defineProperty(ed,"Transfer",{enumerable:!0,get:function(){return em.Transfer}}),Object.defineProperty(ed,"SCHEMA",{enumerable:!0,get:function(){return em.SCHEMA}}),Object.defineProperty(ed,"createTransaction",{enumerable:!0,get:function(){return em.createTransaction}}),Object.defineProperty(ed,"signTransaction",{enumerable:!0,get:function(){return em.signTransaction}}),Object.defineProperty(ed,"Signature",{enumerable:!0,get:function(){return em.Signature}}),Object.defineProperty(ed,"SignedTransaction",{enumerable:!0,get:function(){return em.SignedTransaction}}),Object.defineProperty(ed,"Transaction",{enumerable:!0,get:function(){return em.Transaction}}),Object.defineProperty(ed,"encodeSignedDelegate",{enumerable:!0,get:function(){return em.encodeSignedDelegate}}),Object.defineProperty(ed,"encodeDelegateAction",{enumerable:!0,get:function(){return em.encodeDelegateAction}}),Object.defineProperty(ed,"encodeTransaction",{enumerable:!0,get:function(){return em.encodeTransaction}});let eb=eg(42787),ew=(eu,ed)=>eb.actionCreators.addKey(eu,ed);ed.addKey=ew;let e_=()=>eb.actionCreators.createAccount();ed.createAccount=e_;let eE=eu=>eb.actionCreators.deleteAccount(eu);ed.deleteAccount=eE;let eA=eu=>eb.actionCreators.deleteKey(eu);ed.deleteKey=eA;let eS=eu=>eb.actionCreators.deployContract(eu);ed.deployContract=eS;let eI=()=>eb.actionCreators.fullAccessKey();ed.fullAccessKey=eI;let eC=(eu,ed,eg,em,ew,e_)=>eb.actionCreators.functionCall(eu,ed,eg,em,ew,e_);ed.functionCall=eC;let eM=(eu,ed,eg)=>eb.actionCreators.functionCallAccessKey(eu,ed,eg);ed.functionCallAccessKey=eM;let eO=(eu,ed)=>eb.actionCreators.stake(eu,ed);ed.stake=eO;let eT=eu=>eb.actionCreators.transfer(eu);ed.transfer=eT},55342:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.Enum=ed.Assignable=void 0;var em=eg(73795);Object.defineProperty(ed,"Assignable",{enumerable:!0,get:function(){return em.Assignable}});class eb{constructor(eu){if(1!==Object.keys(eu).length)throw Error("Enum can only take single value");Object.keys(eu).map(ed=>{this[ed]=eu[ed],this.enum=ed})}}ed.Enum=eb},52412:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.logWarning=ed.TypedError=ed.PositionalArgsError=ed.ErrorContext=ed.ArgumentTypeError=ed.UnsupportedSerializationError=ed.UnknownArgumentError=ed.ConflictingOptions=ed.ArgumentSchemaError=void 0;var em=eg(54285);Object.defineProperty(ed,"ArgumentSchemaError",{enumerable:!0,get:function(){return em.ArgumentSchemaError}}),Object.defineProperty(ed,"ConflictingOptions",{enumerable:!0,get:function(){return em.ConflictingOptions}}),Object.defineProperty(ed,"UnknownArgumentError",{enumerable:!0,get:function(){return em.UnknownArgumentError}}),Object.defineProperty(ed,"UnsupportedSerializationError",{enumerable:!0,get:function(){return em.UnsupportedSerializationError}});var eb=eg(73795);Object.defineProperty(ed,"ArgumentTypeError",{enumerable:!0,get:function(){return eb.ArgumentTypeError}}),Object.defineProperty(ed,"ErrorContext",{enumerable:!0,get:function(){return eb.ErrorContext}}),Object.defineProperty(ed,"PositionalArgsError",{enumerable:!0,get:function(){return eb.PositionalArgsError}}),Object.defineProperty(ed,"TypedError",{enumerable:!0,get:function(){return eb.TypedError}});var ew=eg(56035);Object.defineProperty(ed,"logWarning",{enumerable:!0,get:function(){return ew.logWarning}})},48013:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.parseNearAmount=ed.formatNearAmount=ed.NEAR_NOMINATION_EXP=ed.NEAR_NOMINATION=void 0;var em=eg(56035);Object.defineProperty(ed,"NEAR_NOMINATION",{enumerable:!0,get:function(){return em.NEAR_NOMINATION}}),Object.defineProperty(ed,"NEAR_NOMINATION_EXP",{enumerable:!0,get:function(){return em.NEAR_NOMINATION_EXP}}),Object.defineProperty(ed,"formatNearAmount",{enumerable:!0,get:function(){return em.formatNearAmount}}),Object.defineProperty(ed,"parseNearAmount",{enumerable:!0,get:function(){return em.parseNearAmount}})},82615:function(eu,ed,eg){"use strict";var em=this&&this.__createBinding||(Object.create?function(eu,ed,eg,em){void 0===em&&(em=eg);var eb=Object.getOwnPropertyDescriptor(ed,eg);(!eb||("get"in eb?!ed.__esModule:eb.writable||eb.configurable))&&(eb={enumerable:!0,get:function(){return ed[eg]}}),Object.defineProperty(eu,em,eb)}:function(eu,ed,eg,em){void 0===em&&(em=eg),eu[em]=ed[eg]}),eb=this&&this.__setModuleDefault||(Object.create?function(eu,ed){Object.defineProperty(eu,"default",{enumerable:!0,value:ed})}:function(eu,ed){eu.default=ed}),ew=this&&this.__importStar||function(eu){if(eu&&eu.__esModule)return eu;var ed={};if(null!=eu)for(var eg in eu)"default"!==eg&&Object.prototype.hasOwnProperty.call(eu,eg)&&em(ed,eu,eg);return eb(ed,eu),ed};Object.defineProperty(ed,"__esModule",{value:!0}),ed.Logger=ed.logWarning=ed.rpc_errors=ed.KeyPairEd25519=ed.KeyPair=ed.PublicKey=ed.format=ed.enums=ed.web=ed.serialize=ed.key_pair=void 0;let e_=ew(eg(66844));ed.key_pair=e_;let eE=ew(eg(4536));ed.serialize=eE;let eA=ew(eg(32046));ed.web=eA;let eS=ew(eg(55342));ed.enums=eS;let eI=ew(eg(48013));ed.format=eI;let eC=ew(eg(89078));ed.rpc_errors=eC;let eM=eg(66844);Object.defineProperty(ed,"PublicKey",{enumerable:!0,get:function(){return eM.PublicKey}}),Object.defineProperty(ed,"KeyPair",{enumerable:!0,get:function(){return eM.KeyPair}}),Object.defineProperty(ed,"KeyPairEd25519",{enumerable:!0,get:function(){return eM.KeyPairEd25519}});let eO=eg(52412);Object.defineProperty(ed,"logWarning",{enumerable:!0,get:function(){return eO.logWarning}});let eT=eg(62241);Object.defineProperty(ed,"Logger",{enumerable:!0,get:function(){return eT.Logger}})},66844:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.PublicKey=ed.KeyType=ed.KeyPairEd25519=ed.KeyPair=void 0;var em=eg(34327);Object.defineProperty(ed,"KeyPair",{enumerable:!0,get:function(){return em.KeyPair}}),Object.defineProperty(ed,"KeyPairEd25519",{enumerable:!0,get:function(){return em.KeyPairEd25519}}),Object.defineProperty(ed,"KeyType",{enumerable:!0,get:function(){return em.KeyType}}),Object.defineProperty(ed,"PublicKey",{enumerable:!0,get:function(){return em.PublicKey}})},62241:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.Logger=void 0;var em=eg(56035);Object.defineProperty(ed,"Logger",{enumerable:!0,get:function(){return em.Logger}})},89078:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.ServerError=ed.getErrorTypeFromErrorMessage=ed.formatError=ed.parseResultError=ed.parseRpcError=void 0;var em=eg(56035);Object.defineProperty(ed,"parseRpcError",{enumerable:!0,get:function(){return em.parseRpcError}}),Object.defineProperty(ed,"parseResultError",{enumerable:!0,get:function(){return em.parseResultError}}),Object.defineProperty(ed,"formatError",{enumerable:!0,get:function(){return em.formatError}}),Object.defineProperty(ed,"getErrorTypeFromErrorMessage",{enumerable:!0,get:function(){return em.getErrorTypeFromErrorMessage}}),Object.defineProperty(ed,"ServerError",{enumerable:!0,get:function(){return em.ServerError}})},4536:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.base_decode=ed.base_encode=ed.deserialize=ed.serialize=void 0;var em=eg(41977);Object.defineProperty(ed,"serialize",{enumerable:!0,get:function(){return em.serialize}}),Object.defineProperty(ed,"deserialize",{enumerable:!0,get:function(){return em.deserialize}});var eb=eg(56035);Object.defineProperty(ed,"base_encode",{enumerable:!0,get:function(){return eb.baseEncode}}),Object.defineProperty(ed,"base_decode",{enumerable:!0,get:function(){return eb.baseDecode}})},32046:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.fetchJson=void 0;var em=eg(36551);Object.defineProperty(ed,"fetchJson",{enumerable:!0,get:function(){return em.fetchJson}})},85019:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.findSeatPrice=ed.diffEpochValidators=void 0;var em=eg(56035);Object.defineProperty(ed,"diffEpochValidators",{enumerable:!0,get:function(){return em.diffEpochValidators}}),Object.defineProperty(ed,"findSeatPrice",{enumerable:!0,get:function(){return em.findSeatPrice}})},56954:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.WalletConnection=ed.ConnectedWalletAccount=void 0;var em=eg(60465);Object.defineProperty(ed,"ConnectedWalletAccount",{enumerable:!0,get:function(){return em.ConnectedWalletAccount}}),Object.defineProperty(ed,"WalletConnection",{enumerable:!0,get:function(){return em.WalletConnection}})},1705:function(eu,ed){"use strict";ed.__esModule=!0,ed.DecodeBuffer=ed.EncodeBuffer=void 0;var eg=function(){function eu(){this.offset=0,this.buffer_size=256,this.buffer=new ArrayBuffer(this.buffer_size),this.view=new DataView(this.buffer)}return eu.prototype.resize_if_necessary=function(eu){if(this.buffer_size-this.offset<eu){this.buffer_size=Math.max(2*this.buffer_size,this.buffer_size+eu);var ed=new ArrayBuffer(this.buffer_size);new Uint8Array(ed).set(new Uint8Array(this.buffer)),this.buffer=ed,this.view=new DataView(ed)}},eu.prototype.get_used_buffer=function(){return new Uint8Array(this.buffer).slice(0,this.offset)},eu.prototype.store_value=function(eu,ed){var eg=ed.substring(1),em=parseInt(eg)/8;this.resize_if_necessary(em);var eb="f"===ed[0]?"setFloat".concat(eg):"i"===ed[0]?"setInt".concat(eg):"setUint".concat(eg);this.view[eb](this.offset,eu,!0),this.offset+=em},eu.prototype.store_bytes=function(eu){this.resize_if_necessary(eu.length),new Uint8Array(this.buffer).set(new Uint8Array(eu),this.offset),this.offset+=eu.length},eu}();ed.EncodeBuffer=eg;var em=function(){function eu(eu){this.offset=0,this.buffer_size=eu.length,this.buffer=new ArrayBuffer(eu.length),new Uint8Array(this.buffer).set(eu),this.view=new DataView(this.buffer)}return eu.prototype.assert_enough_buffer=function(eu){if(this.offset+eu>this.buffer.byteLength)throw Error("Error in schema, the buffer is smaller than expected")},eu.prototype.consume_value=function(eu){var ed=eu.substring(1),eg=parseInt(ed)/8;this.assert_enough_buffer(eg);var em="f"===eu[0]?"getFloat".concat(ed):"i"===eu[0]?"getInt".concat(ed):"getUint".concat(ed),eb=this.view[em](this.offset,!0);return this.offset+=eg,eb},eu.prototype.consume_bytes=function(eu){this.assert_enough_buffer(eu);var ed=this.buffer.slice(this.offset,this.offset+eu);return this.offset+=eu,ed},eu}();ed.DecodeBuffer=em},19232:function(eu,ed,eg){"use strict";ed.__esModule=!0,ed.BorshDeserializer=void 0;var em=eg(93492),eb=eg(1705),ew=function(){function eu(eu){this.buffer=new eb.DecodeBuffer(eu)}return eu.prototype.decode=function(eu){return this.decode_value(eu)},eu.prototype.decode_value=function(eu){if("string"==typeof eu){if(em.integers.includes(eu))return this.decode_integer(eu);if("string"===eu)return this.decode_string();if("bool"===eu)return this.decode_boolean()}if("object"==typeof eu){if("option"in eu)return this.decode_option(eu);if("enum"in eu)return this.decode_enum(eu);if("array"in eu)return this.decode_array(eu);if("set"in eu)return this.decode_set(eu);if("map"in eu)return this.decode_map(eu);if("struct"in eu)return this.decode_struct(eu)}throw Error("Unsupported type: ".concat(eu))},eu.prototype.decode_integer=function(eu){var ed=parseInt(eu.substring(1));return ed<=32||"f64"==eu?this.buffer.consume_value(eu):this.decode_bigint(ed,eu.startsWith("i"))},eu.prototype.decode_bigint=function(eu,ed){void 0===ed&&(ed=!1);var eg=eu/8,em=new Uint8Array(this.buffer.consume_bytes(eg)),eb=em.reduceRight(function(eu,ed){return eu+ed.toString(16).padStart(2,"0")},"");return ed&&em[eg-1]?BigInt.asIntN(eu,BigInt("0x".concat(eb))):BigInt("0x".concat(eb))},eu.prototype.decode_string=function(){var eu=this.decode_integer("u32"),ed=new Uint8Array(this.buffer.consume_bytes(eu));return String.fromCharCode.apply(null,ed)},eu.prototype.decode_boolean=function(){return this.buffer.consume_value("u8")>0},eu.prototype.decode_option=function(eu){var ed=this.buffer.consume_value("u8");if(1===ed)return this.decode_value(eu.option);if(0!==ed)throw Error("Invalid option ".concat(ed));return null},eu.prototype.decode_enum=function(eu){var ed,eg=this.buffer.consume_value("u8");if(eg>eu.enum.length)throw Error("Enum option ".concat(eg," is not available"));var em=eu.enum[eg].struct,eb=Object.keys(em)[0];return(ed={})[eb]=this.decode_value(em[eb]),ed},eu.prototype.decode_array=function(eu){for(var ed=[],eg=eu.array.len?eu.array.len:this.decode_integer("u32"),em=0;em<eg;++em)ed.push(this.decode_value(eu.array.type));return ed},eu.prototype.decode_set=function(eu){for(var ed=this.decode_integer("u32"),eg=new Set,em=0;em<ed;++em)eg.add(this.decode_value(eu.set));return eg},eu.prototype.decode_map=function(eu){for(var ed=this.decode_integer("u32"),eg=new Map,em=0;em<ed;++em){var eb=this.decode_value(eu.map.key),ew=this.decode_value(eu.map.value);eg.set(eb,ew)}return eg},eu.prototype.decode_struct=function(eu){var ed={};for(var eg in eu.struct)ed[eg]=this.decode_value(eu.struct[eg]);return ed},eu}();ed.BorshDeserializer=ew},41977:function(eu,ed,eg){"use strict";var em=this&&this.__createBinding||(Object.create?function(eu,ed,eg,em){void 0===em&&(em=eg);var eb=Object.getOwnPropertyDescriptor(ed,eg);(!eb||("get"in eb?!ed.__esModule:eb.writable||eb.configurable))&&(eb={enumerable:!0,get:function(){return ed[eg]}}),Object.defineProperty(eu,em,eb)}:function(eu,ed,eg,em){void 0===em&&(em=eg),eu[em]=ed[eg]}),eb=this&&this.__setModuleDefault||(Object.create?function(eu,ed){Object.defineProperty(eu,"default",{enumerable:!0,value:ed})}:function(eu,ed){eu.default=ed}),ew=this&&this.__importStar||function(eu){if(eu&&eu.__esModule)return eu;var ed={};if(null!=eu)for(var eg in eu)"default"!==eg&&Object.prototype.hasOwnProperty.call(eu,eg)&&em(ed,eu,eg);return eb(ed,eu),ed};ed.__esModule=!0,ed.deserialize=ed.serialize=void 0;var e_=eg(34260),eE=eg(19232),eA=ew(eg(37651));function eS(eu,ed,eg){return void 0===eg&&(eg=!0),eg&&eA.validate_schema(eu),new e_.BorshSerializer(eg).encode(ed,eu)}function eI(eu,ed,eg){return void 0===eg&&(eg=!0),eg&&eA.validate_schema(eu),new eE.BorshDeserializer(ed).decode(eu)}ed.serialize=eS,ed.deserialize=eI},34260:function(eu,ed,eg){"use strict";var em=this&&this.__createBinding||(Object.create?function(eu,ed,eg,em){void 0===em&&(em=eg);var eb=Object.getOwnPropertyDescriptor(ed,eg);(!eb||("get"in eb?!ed.__esModule:eb.writable||eb.configurable))&&(eb={enumerable:!0,get:function(){return ed[eg]}}),Object.defineProperty(eu,em,eb)}:function(eu,ed,eg,em){void 0===em&&(em=eg),eu[em]=ed[eg]}),eb=this&&this.__setModuleDefault||(Object.create?function(eu,ed){Object.defineProperty(eu,"default",{enumerable:!0,value:ed})}:function(eu,ed){eu.default=ed}),ew=this&&this.__importStar||function(eu){if(eu&&eu.__esModule)return eu;var ed={};if(null!=eu)for(var eg in eu)"default"!==eg&&Object.prototype.hasOwnProperty.call(eu,eg)&&em(ed,eu,eg);return eb(ed,eu),ed};ed.__esModule=!0,ed.BorshSerializer=void 0;var e_=eg(93492),eE=eg(1705),eA=ew(eg(37651)),eS=function(){function eu(eu){this.encoded=new eE.EncodeBuffer,this.fieldPath=["value"],this.checkTypes=eu}return eu.prototype.encode=function(eu,ed){return this.encode_value(eu,ed),this.encoded.get_used_buffer()},eu.prototype.encode_value=function(eu,ed){if("string"==typeof ed){if(e_.integers.includes(ed))return this.encode_integer(eu,ed);if("string"===ed)return this.encode_string(eu);if("bool"===ed)return this.encode_boolean(eu)}if("object"==typeof ed){if("option"in ed)return this.encode_option(eu,ed);if("enum"in ed)return this.encode_enum(eu,ed);if("array"in ed)return this.encode_array(eu,ed);if("set"in ed)return this.encode_set(eu,ed);if("map"in ed)return this.encode_map(eu,ed);if("struct"in ed)return this.encode_struct(eu,ed)}},eu.prototype.encode_integer=function(eu,ed){var eg=parseInt(ed.substring(1));eg<=32||"f64"==ed?(this.checkTypes&&eA.expect_type(eu,"number",this.fieldPath),this.encoded.store_value(eu,ed)):(this.checkTypes&&eA.expect_bigint(eu,this.fieldPath),this.encode_bigint(BigInt(eu),eg))},eu.prototype.encode_bigint=function(eu,ed){for(var eg=ed/8,em=new Uint8Array(eg),eb=0;eb<eg;eb++)em[eb]=Number(eu&BigInt(255)),eu>>=BigInt(8);this.encoded.store_bytes(new Uint8Array(em))},eu.prototype.encode_string=function(eu){this.checkTypes&&eA.expect_type(eu,"string",this.fieldPath);var ed=eu;this.encoded.store_value(ed.length,"u32");for(var eg=0;eg<ed.length;eg++)this.encoded.store_value(ed.charCodeAt(eg),"u8")},eu.prototype.encode_boolean=function(eu){this.checkTypes&&eA.expect_type(eu,"boolean",this.fieldPath),this.encoded.store_value(eu?1:0,"u8")},eu.prototype.encode_option=function(eu,ed){null==eu?this.encoded.store_value(0,"u8"):(this.encoded.store_value(1,"u8"),this.encode_value(eu,ed.option))},eu.prototype.encode_enum=function(eu,ed){this.checkTypes&&eA.expect_enum(eu,this.fieldPath);for(var eg=Object.keys(eu)[0],em=0;em<ed.enum.length;em++){var eb=ed.enum[em];if(eg===Object.keys(eb.struct)[0])return this.encoded.store_value(em,"u8"),this.encode_struct(eu,eb)}throw Error("Enum key (".concat(eg,") not found in enum schema: ").concat(JSON.stringify(ed)," at ").concat(this.fieldPath.join(".")))},eu.prototype.encode_array=function(eu,ed){if(eA.isArrayLike(eu))return this.encode_arraylike(eu,ed);if(eu instanceof ArrayBuffer)return this.encode_buffer(eu,ed);throw Error("Expected Array-like not ".concat(typeof eu,"(").concat(eu,") at ").concat(this.fieldPath.join(".")))},eu.prototype.encode_arraylike=function(eu,ed){ed.array.len?eA.expect_same_size(eu.length,ed.array.len,this.fieldPath):this.encoded.store_value(eu.length,"u32");for(var eg=0;eg<eu.length;eg++)this.encode_value(eu[eg],ed.array.type)},eu.prototype.encode_buffer=function(eu,ed){ed.array.len?eA.expect_same_size(eu.byteLength,ed.array.len,this.fieldPath):this.encoded.store_value(eu.byteLength,"u32"),this.encoded.store_bytes(new Uint8Array(eu))},eu.prototype.encode_set=function(eu,ed){this.checkTypes&&eA.expect_type(eu,"object",this.fieldPath);var eg=eu instanceof Set?Array.from(eu.values()):Object.values(eu);this.encoded.store_value(eg.length,"u32");for(var em=0,eb=eg;em<eb.length;em++){var ew=eb[em];this.encode_value(ew,ed.set)}},eu.prototype.encode_map=function(eu,ed){this.checkTypes&&eA.expect_type(eu,"object",this.fieldPath);var eg=eu instanceof Map,em=eg?Array.from(eu.keys()):Object.keys(eu);this.encoded.store_value(em.length,"u32");for(var eb=0,ew=em;eb<ew.length;eb++){var e_=ew[eb];this.encode_value(e_,ed.map.key),this.encode_value(eg?eu.get(e_):eu[e_],ed.map.value)}},eu.prototype.encode_struct=function(eu,ed){this.checkTypes&&eA.expect_type(eu,"object",this.fieldPath);for(var eg=0,em=Object.keys(ed.struct);eg<em.length;eg++){var eb=em[eg];this.fieldPath.push(eb),this.encode_value(eu[eb],ed.struct[eb]),this.fieldPath.pop()}},eu}();ed.BorshSerializer=eS},93492:function(eu,ed){"use strict";ed.__esModule=!0,ed.integers=void 0,ed.integers=["u8","u16","u32","u64","u128","i8","i16","i32","i64","i128","f32","f64"]},37651:function(eu,ed,eg){"use strict";var em=this&&this.__extends||function(){var eu=function(ed,eg){return(eu=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(eu,ed){eu.__proto__=ed}||function(eu,ed){for(var eg in ed)Object.prototype.hasOwnProperty.call(ed,eg)&&(eu[eg]=ed[eg])})(ed,eg)};return function(ed,eg){if("function"!=typeof eg&&null!==eg)throw TypeError("Class extends value "+String(eg)+" is not a constructor or null");function em(){this.constructor=ed}eu(ed,eg),ed.prototype=null===eg?Object.create(eg):(em.prototype=eg.prototype,new em)}}();ed.__esModule=!0,ed.validate_schema=ed.ErrorSchema=ed.expect_enum=ed.expect_same_size=ed.expect_bigint=ed.expect_type=ed.isArrayLike=void 0;var eb=eg(93492);function ew(eu){return Array.isArray(eu)||!!eu&&"object"==typeof eu&&"length"in eu&&"number"==typeof eu.length&&(0===eu.length||eu.length>0&&eu.length-1 in eu)}function e_(eu,ed,eg){if(typeof eu!==ed)throw Error("Expected ".concat(ed," not ").concat(typeof eu,"(").concat(eu,") at ").concat(eg.join(".")))}function eE(eu,ed){var eg=["number","string","bigint","boolean"].includes(typeof eu),em="object"==typeof eu&&null!==eu&&"toString"in eu;if(!eg&&!em)throw Error("Expected bigint, number, boolean or string not ".concat(typeof eu,"(").concat(eu,") at ").concat(ed.join(".")))}function eA(eu,ed,eg){if(eu!==ed)throw Error("Array length ".concat(eu," does not match schema length ").concat(ed," at ").concat(eg.join(".")))}function eS(eu,ed){if("object"!=typeof eu||null===eu)throw Error("Expected object not ".concat(typeof eu,"(").concat(eu,") at ").concat(ed.join(".")))}ed.isArrayLike=ew,ed.expect_type=e_,ed.expect_bigint=eE,ed.expect_same_size=eA,ed.expect_enum=eS;var eI=eb.integers.concat(["bool","string"]),eC=["option","enum","array","set","map","struct"],eM=function(eu){function ed(ed,eg){var em="Invalid schema: ".concat(JSON.stringify(ed)," expected ").concat(eg);return eu.call(this,em)||this}return em(ed,eu),ed}(Error);function eO(eu){if(!("string"==typeof eu&&eI.includes(eu))){if(eu&&"object"==typeof eu){var ed=Object.keys(eu);if(1===ed.length&&eC.includes(ed[0])){var eg=ed[0];if("option"===eg)return eO(eu[eg]);if("enum"===eg)return eT(eu[eg]);if("array"===eg)return eP(eu[eg]);if("set"===eg)return eO(eu[eg]);if("map"===eg)return eN(eu[eg]);if("struct"===eg)return ek(eu[eg])}}throw new eM(eu,eC.join(", ")+" or "+eI.join(", "))}}function eT(eu){if(!Array.isArray(eu))throw new eM(eu,"Array");for(var ed=0,eg=eu;ed<eg.length;ed++){var em=eg[ed];if("object"!=typeof em||!("struct"in em))throw Error('Missing "struct" key in enum schema');if("object"!=typeof em.struct||1!==Object.keys(em.struct).length)throw Error('The "struct" in each enum must have a single key');eO({struct:em.struct})}}function eP(eu){if("object"!=typeof eu)throw new eM(eu,"{ type, len? }");if(eu.len&&"number"!=typeof eu.len)throw Error("Invalid schema: ".concat(eu));if("type"in eu)return eO(eu.type);throw new eM(eu,"{ type, len? }")}function eN(eu){if("object"==typeof eu&&"key"in eu&&"value"in eu)eO(eu.key),eO(eu.value);else throw new eM(eu,"{ key, value }")}function ek(eu){if("object"!=typeof eu)throw new eM(eu,"object");for(var ed in eu)eO(eu[ed])}ed.ErrorSchema=eM,ed.validate_schema=eO},62709:function(eu,ed,eg){eu.exports=eg(87620)(eg(54361))},54361:function(eu,ed,eg){let em=eg(87554).ec,eb=new em("secp256k1"),ew=eb.curve,e_=ew.n.constructor;function eE(eu,ed){let eg=new e_(ed);if(eg.cmp(ew.p)>=0)return null;let em=(eg=eg.toRed(ew.red)).redSqr().redIMul(eg).redIAdd(ew.b).redSqrt();return 3===eu!==em.isOdd()&&(em=em.redNeg()),eb.keyPair({pub:{x:eg,y:em}})}function eA(eu,ed,eg){let em=new e_(ed),eE=new e_(eg);if(em.cmp(ew.p)>=0||eE.cmp(ew.p)>=0||(em=em.toRed(ew.red),eE=eE.toRed(ew.red),(6===eu||7===eu)&&eE.isOdd()!==(7===eu)))return null;let eA=em.redSqr().redIMul(em);return eE.redSqr().redISub(eA.redIAdd(ew.b)).isZero()?eb.keyPair({pub:{x:em,y:eE}}):null}function eS(eu){let ed=eu[0];switch(ed){case 2:case 3:if(33!==eu.length)return null;return eE(ed,eu.subarray(1,33));case 4:case 6:case 7:if(65!==eu.length)return null;return eA(ed,eu.subarray(1,33),eu.subarray(33,65));default:return null}}function eI(eu,ed){let eg=ed.encode(null,33===eu.length);for(let ed=0;ed<eu.length;++ed)eu[ed]=eg[ed]}eu.exports={contextRandomize:()=>0,privateKeyVerify(eu){let ed=new e_(eu);return 0>ed.cmp(ew.n)&&!ed.isZero()?0:1},privateKeyNegate(eu){let ed=new e_(eu),eg=ew.n.sub(ed).umod(ew.n).toArrayLike(Uint8Array,"be",32);return eu.set(eg),0},privateKeyTweakAdd(eu,ed){let eg=new e_(ed);if(eg.cmp(ew.n)>=0||(eg.iadd(new e_(eu)),eg.cmp(ew.n)>=0&&eg.isub(ew.n),eg.isZero()))return 1;let em=eg.toArrayLike(Uint8Array,"be",32);return eu.set(em),0},privateKeyTweakMul(eu,ed){let eg=new e_(ed);if(eg.cmp(ew.n)>=0||eg.isZero())return 1;eg.imul(new e_(eu)),eg.cmp(ew.n)>=0&&(eg=eg.umod(ew.n));let em=eg.toArrayLike(Uint8Array,"be",32);return eu.set(em),0},publicKeyVerify(eu){let ed=eS(eu);return null===ed?1:0},publicKeyCreate(eu,ed){let eg=new e_(ed);if(eg.cmp(ew.n)>=0||eg.isZero())return 1;let em=eb.keyFromPrivate(ed).getPublic();return eI(eu,em),0},publicKeyConvert(eu,ed){let eg=eS(ed);if(null===eg)return 1;let em=eg.getPublic();return eI(eu,em),0},publicKeyNegate(eu,ed){let eg=eS(ed);if(null===eg)return 1;let em=eg.getPublic();return em.y=em.y.redNeg(),eI(eu,em),0},publicKeyCombine(eu,ed){let eg=Array(ed.length);for(let eu=0;eu<ed.length;++eu)if(eg[eu]=eS(ed[eu]),null===eg[eu])return 1;let em=eg[0].getPublic();for(let eu=1;eu<eg.length;++eu)em=em.add(eg[eu].pub);return em.isInfinity()?2:(eI(eu,em),0)},publicKeyTweakAdd(eu,ed,eg){let em=eS(ed);if(null===em)return 1;if((eg=new e_(eg)).cmp(ew.n)>=0)return 2;let eb=em.getPublic().add(ew.g.mul(eg));return eb.isInfinity()?2:(eI(eu,eb),0)},publicKeyTweakMul(eu,ed,eg){let em=eS(ed);if(null===em)return 1;if((eg=new e_(eg)).cmp(ew.n)>=0||eg.isZero())return 2;let eb=em.getPublic().mul(eg);return eI(eu,eb),0},signatureNormalize(eu){let ed=new e_(eu.subarray(0,32)),eg=new e_(eu.subarray(32,64));return ed.cmp(ew.n)>=0||eg.cmp(ew.n)>=0?1:(1===eg.cmp(eb.nh)&&eu.set(ew.n.sub(eg).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport(eu,ed){let eg=ed.subarray(0,32),em=ed.subarray(32,64);if(new e_(eg).cmp(ew.n)>=0||new e_(em).cmp(ew.n)>=0)return 1;let{output:eb}=eu,eE=eb.subarray(4,37);eE[0]=0,eE.set(eg,1);let eA=33,eS=0;for(;eA>1&&0===eE[eS]&&!(128&eE[eS+1]);--eA,++eS);if(128&(eE=eE.subarray(eS))[0]||eA>1&&0===eE[0]&&!(128&eE[1]))return 1;let eI=eb.subarray(39,72);eI[0]=0,eI.set(em,1);let eC=33,eM=0;for(;eC>1&&0===eI[eM]&&!(128&eI[eM+1]);--eC,++eM);return 128&(eI=eI.subarray(eM))[0]||eC>1&&0===eI[0]&&!(128&eI[1])?1:(eu.outputlen=6+eA+eC,eb[0]=48,eb[1]=eu.outputlen-2,eb[2]=2,eb[3]=eE.length,eb.set(eE,4),eb[4+eA]=2,eb[5+eA]=eI.length,eb.set(eI,6+eA),0)},signatureImport(eu,ed){if(ed.length<8||ed.length>72||48!==ed[0]||ed[1]!==ed.length-2||2!==ed[2])return 1;let eg=ed[3];if(0===eg||5+eg>=ed.length||2!==ed[4+eg])return 1;let em=ed[5+eg];if(0===em||6+eg+em!==ed.length||128&ed[4]||eg>1&&0===ed[4]&&!(128&ed[5])||128&ed[eg+6]||em>1&&0===ed[eg+6]&&!(128&ed[eg+7]))return 1;let eb=ed.subarray(4,4+eg);if(33===eb.length&&0===eb[0]&&(eb=eb.subarray(1)),eb.length>32)return 1;let eE=ed.subarray(6+eg);if(33===eE.length&&0===eE[0]&&(eE=eE.slice(1)),eE.length>32)throw Error("S length is too long");let eA=new e_(eb);eA.cmp(ew.n)>=0&&(eA=new e_(0));let eS=new e_(ed.subarray(6+eg));return eS.cmp(ew.n)>=0&&(eS=new e_(0)),eu.set(eA.toArrayLike(Uint8Array,"be",32),0),eu.set(eS.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign(eu,ed,eg,em,eE){let eA;if(eE){let eu=eE;eE=eb=>{let ew=eu(ed,eg,null,em,eb),eE=ew instanceof Uint8Array&&32===ew.length;if(!eE)throw Error("This is the way");return new e_(ew)}}let eS=new e_(eg);if(eS.cmp(ew.n)>=0||eS.isZero())return 1;try{eA=eb.sign(ed,eg,{canonical:!0,k:eE,pers:em})}catch(eu){return 1}return eu.signature.set(eA.r.toArrayLike(Uint8Array,"be",32),0),eu.signature.set(eA.s.toArrayLike(Uint8Array,"be",32),32),eu.recid=eA.recoveryParam,0},ecdsaVerify(eu,ed,eg){let em={r:eu.subarray(0,32),s:eu.subarray(32,64)},eE=new e_(em.r),eA=new e_(em.s);if(eE.cmp(ew.n)>=0||eA.cmp(ew.n)>=0)return 1;if(1===eA.cmp(eb.nh)||eE.isZero()||eA.isZero())return 3;let eI=eS(eg);if(null===eI)return 2;let eC=eI.getPublic(),eM=eb.verify(ed,em,eC);return eM?0:3},ecdsaRecover(eu,ed,eg,em){let eE;let eA={r:ed.slice(0,32),s:ed.slice(32,64)},eS=new e_(eA.r),eC=new e_(eA.s);if(eS.cmp(ew.n)>=0||eC.cmp(ew.n)>=0)return 1;if(eS.isZero()||eC.isZero())return 2;try{eE=eb.recoverPubKey(em,eA,eg)}catch(eu){return 2}return eI(eu,eE),0},ecdh(eu,ed,eg,em,eE,eA,eI){let eC=eS(ed);if(null===eC)return 1;let eM=new e_(eg);if(eM.cmp(ew.n)>=0||eM.isZero())return 2;let eO=eC.getPublic().mul(eM);if(void 0===eE){let ed=eO.encode(null,!0),eg=eb.hash().update(ed).digest();for(let ed=0;ed<32;++ed)eu[ed]=eg[ed]}else{eA||(eA=new Uint8Array(32));let ed=eO.getX().toArray("be",32);for(let eu=0;eu<32;++eu)eA[eu]=ed[eu];eI||(eI=new Uint8Array(32));let eg=eO.getY().toArray("be",32);for(let eu=0;eu<32;++eu)eI[eu]=eg[eu];let eb=eE(eA,eI,em),ew=eb instanceof Uint8Array&&eb.length===eu.length;if(!ew)return 2;eu.set(eb)}return 0}}},87620:function(eu){let ed={IMPOSSIBLE_CASE:"Impossible case. Please create issue.",TWEAK_ADD:"The tweak was out of range or the resulted private key is invalid",TWEAK_MUL:"The tweak was out of range or equal to zero",CONTEXT_RANDOMIZE_UNKNOW:"Unknow error on context randomization",SECKEY_INVALID:"Private Key is invalid",PUBKEY_PARSE:"Public Key could not be parsed",PUBKEY_SERIALIZE:"Public Key serialization error",PUBKEY_COMBINE:"The sum of the public keys is not valid",SIG_PARSE:"Signature could not be parsed",SIGN:"The nonce generation function failed, or the private key was invalid",RECOVER:"Public key could not be recover",ECDH:"Scalar was invalid (zero or overflow)"};function eg(eu,ed){if(!eu)throw Error(ed)}function em(eu,ed,em){if(eg(ed instanceof Uint8Array,`Expected ${eu} to be an Uint8Array`),void 0!==em){if(Array.isArray(em)){let eb=em.join(", "),ew=`Expected ${eu} to be an Uint8Array with length [${eb}]`;eg(em.includes(ed.length),ew)}else{let eb=`Expected ${eu} to be an Uint8Array with length ${em}`;eg(ed.length===em,eb)}}}function eb(eu){eg("Boolean"===e_(eu),"Expected compressed to be a Boolean")}function ew(eu=eu=>new Uint8Array(eu),ed){return"function"==typeof eu&&(eu=eu(ed)),em("output",eu,ed),eu}function e_(eu){return Object.prototype.toString.call(eu).slice(8,-1)}eu.exports=eu=>({contextRandomize(eb){if(eg(null===eb||eb instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),null!==eb&&em("seed",eb,32),1===eu.contextRandomize(eb))throw Error(ed.CONTEXT_RANDOMIZE_UNKNOW)},privateKeyVerify:ed=>(em("private key",ed,32),0===eu.privateKeyVerify(ed)),privateKeyNegate(eg){switch(em("private key",eg,32),eu.privateKeyNegate(eg)){case 0:return eg;case 1:throw Error(ed.IMPOSSIBLE_CASE)}},privateKeyTweakAdd(eg,eb){switch(em("private key",eg,32),em("tweak",eb,32),eu.privateKeyTweakAdd(eg,eb)){case 0:return eg;case 1:throw Error(ed.TWEAK_ADD)}},privateKeyTweakMul(eg,eb){switch(em("private key",eg,32),em("tweak",eb,32),eu.privateKeyTweakMul(eg,eb)){case 0:return eg;case 1:throw Error(ed.TWEAK_MUL)}},publicKeyVerify:ed=>(em("public key",ed,[33,65]),0===eu.publicKeyVerify(ed)),publicKeyCreate(eg,e_=!0,eE){switch(em("private key",eg,32),eb(e_),eE=ew(eE,e_?33:65),eu.publicKeyCreate(eE,eg)){case 0:return eE;case 1:throw Error(ed.SECKEY_INVALID);case 2:throw Error(ed.PUBKEY_SERIALIZE)}},publicKeyConvert(eg,e_=!0,eE){switch(em("public key",eg,[33,65]),eb(e_),eE=ew(eE,e_?33:65),eu.publicKeyConvert(eE,eg)){case 0:return eE;case 1:throw Error(ed.PUBKEY_PARSE);case 2:throw Error(ed.PUBKEY_SERIALIZE)}},publicKeyNegate(eg,e_=!0,eE){switch(em("public key",eg,[33,65]),eb(e_),eE=ew(eE,e_?33:65),eu.publicKeyNegate(eE,eg)){case 0:return eE;case 1:throw Error(ed.PUBKEY_PARSE);case 2:throw Error(ed.IMPOSSIBLE_CASE);case 3:throw Error(ed.PUBKEY_SERIALIZE)}},publicKeyCombine(e_,eE=!0,eA){for(let eu of(eg(Array.isArray(e_),"Expected public keys to be an Array"),eg(e_.length>0,"Expected public keys array will have more than zero items"),e_))em("public key",eu,[33,65]);switch(eb(eE),eA=ew(eA,eE?33:65),eu.publicKeyCombine(eA,e_)){case 0:return eA;case 1:throw Error(ed.PUBKEY_PARSE);case 2:throw Error(ed.PUBKEY_COMBINE);case 3:throw Error(ed.PUBKEY_SERIALIZE)}},publicKeyTweakAdd(eg,e_,eE=!0,eA){switch(em("public key",eg,[33,65]),em("tweak",e_,32),eb(eE),eA=ew(eA,eE?33:65),eu.publicKeyTweakAdd(eA,eg,e_)){case 0:return eA;case 1:throw Error(ed.PUBKEY_PARSE);case 2:throw Error(ed.TWEAK_ADD)}},publicKeyTweakMul(eg,e_,eE=!0,eA){switch(em("public key",eg,[33,65]),em("tweak",e_,32),eb(eE),eA=ew(eA,eE?33:65),eu.publicKeyTweakMul(eA,eg,e_)){case 0:return eA;case 1:throw Error(ed.PUBKEY_PARSE);case 2:throw Error(ed.TWEAK_MUL)}},signatureNormalize(eg){switch(em("signature",eg,64),eu.signatureNormalize(eg)){case 0:return eg;case 1:throw Error(ed.SIG_PARSE)}},signatureExport(eg,eb){em("signature",eg,64),eb=ew(eb,72);let e_={output:eb,outputlen:72};switch(eu.signatureExport(e_,eg)){case 0:return eb.slice(0,e_.outputlen);case 1:throw Error(ed.SIG_PARSE);case 2:throw Error(ed.IMPOSSIBLE_CASE)}},signatureImport(eg,eb){switch(em("signature",eg),eb=ew(eb,64),eu.signatureImport(eb,eg)){case 0:return eb;case 1:throw Error(ed.SIG_PARSE);case 2:throw Error(ed.IMPOSSIBLE_CASE)}},ecdsaSign(eb,eE,eA={},eS){em("message",eb,32),em("private key",eE,32),eg("Object"===e_(eA),"Expected options to be an Object"),void 0!==eA.data&&em("options.data",eA.data),void 0!==eA.noncefn&&eg("Function"===e_(eA.noncefn),"Expected options.noncefn to be a Function"),eS=ew(eS,64);let eI={signature:eS,recid:null};switch(eu.ecdsaSign(eI,eb,eE,eA.data,eA.noncefn)){case 0:return eI;case 1:throw Error(ed.SIGN);case 2:throw Error(ed.IMPOSSIBLE_CASE)}},ecdsaVerify(eg,eb,ew){switch(em("signature",eg,64),em("message",eb,32),em("public key",ew,[33,65]),eu.ecdsaVerify(eg,eb,ew)){case 0:return!0;case 3:return!1;case 1:throw Error(ed.SIG_PARSE);case 2:throw Error(ed.PUBKEY_PARSE)}},ecdsaRecover(eE,eA,eS,eI=!0,eC){switch(em("signature",eE,64),eg("Number"===e_(eA)&&eA>=0&&eA<=3,"Expected recovery id to be a Number within interval [0, 3]"),em("message",eS,32),eb(eI),eC=ew(eC,eI?33:65),eu.ecdsaRecover(eC,eE,eA,eS)){case 0:return eC;case 1:throw Error(ed.SIG_PARSE);case 2:throw Error(ed.RECOVER);case 3:throw Error(ed.IMPOSSIBLE_CASE)}},ecdh(eb,eE,eA={},eS){switch(em("public key",eb,[33,65]),em("private key",eE,32),eg("Object"===e_(eA),"Expected options to be an Object"),void 0!==eA.data&&em("options.data",eA.data),void 0!==eA.hashfn?(eg("Function"===e_(eA.hashfn),"Expected options.hashfn to be a Function"),void 0!==eA.xbuf&&em("options.xbuf",eA.xbuf,32),void 0!==eA.ybuf&&em("options.ybuf",eA.ybuf,32),em("output",eS)):eS=ew(eS,32),eu.ecdh(eS,eb,eE,eA.data,eA.hashfn,eA.xbuf,eA.ybuf)){case 0:return eS;case 1:throw Error(ed.PUBKEY_PARSE);case 2:throw Error(ed.ECDH)}}})},735:function(eu,ed,eg){"use strict";let em,eb,ew,e_;eg.d(ed,{C6:function(){return th},S1:function(){return tU},T7:function(){return tj},dy:function(){return e5},zB:function(){return tL}});var eE,eA,eS,eI=eg(48834).Buffer;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function eC(eu,ed,eg,em){function eb(eu){return eu instanceof eg?eu:new eg(function(ed){ed(eu)})}return new(eg||(eg=Promise))(function(eg,ew){function e_(eu){try{eA(em.next(eu))}catch(eu){ew(eu)}}function eE(eu){try{eA(em.throw(eu))}catch(eu){ew(eu)}}function eA(eu){eu.done?eg(eu.value):eb(eu.value).then(e_,eE)}eA((em=em.apply(eu,ed||[])).next())})}let eM=null!=(eE=({}).NEXT_PUBLIC_RAMPER_ENV)?eE:globalThis.RAMPER_ENV,eO={LOCAL:"local",PREVIEW:"preview",DEV:"dev",STAGING:"staging",PROD:"prod",VERCEL_PREVIEW_URL:null!=(eA=({}).NEXT_PUBLIC_VERCEL_URL)?eA:"",VERCEL_GIT_COMMIT_REF:null!=(eS=({}).NEXT_PUBLIC_VERCEL_GIT_COMMIT_REF)?eS:""},eT=()=>eM===eO.DEV,eP=()=>eM===eO.LOCAL,eN=()=>eM===eO.PREVIEW,ek=()=>eM===eO.PROD,eR=()=>void 0===globalThis.window,eD=()=>eM===eO.STAGING,eB=()=>!eR()&&window.location.hostname.includes("dev.ramper.xyz")?eO.DEV:!eR()&&window.location.hostname.includes("preview.ramper.xyz")?eO.PREVIEW:!eR()&&window.location.hostname.includes("staging.ramper.xyz")?eO.STAGING:ek()?eO.PROD:eD()?eO.STAGING:eT()?eO.DEV:eN()?eO.PREVIEW:eP()?eO.LOCAL:eO.PROD;var eU="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==eg.g?eg.g:"undefined"!=typeof self?self:{};function eL(eu){if(eu.__esModule)return eu;var ed=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(eu).forEach(function(eg){var em=Object.getOwnPropertyDescriptor(eu,eg);Object.defineProperty(ed,eg,em.get?em:{enumerable:!0,get:function(){return eu[eg]}})}),ed}var ej={exports:{}};!function(eu,ed){!function(eg,em){var eb="1.0.2",ew="",e_="?",eE="function",eA="undefined",eS="object",eI="string",eC="major",eM="model",eO="name",eT="type",eP="vendor",eN="version",ek="architecture",eR="console",eD="mobile",eB="tablet",eU="smarttv",eL="wearable",ej="embedded",eF=255,e$="Amazon",eK="Apple",eH="ASUS",eV="BlackBerry",eG="Browser",eW="Chrome",eJ="Firefox",eZ="Google",eY="Huawei",eX="LG",eQ="Microsoft",e0="Motorola",e6="Opera",e8="Samsung",e5="Sony",e9="Xiaomi",e7="Zebra",tu="Facebook",th=function(eu,ed){var eg={};for(var em in eu)ed[em]&&ed[em].length%2==0?eg[em]=ed[em].concat(eu[em]):eg[em]=eu[em];return eg},td=function(eu){for(var ed={},eg=0;eg<eu.length;eg++)ed[eu[eg].toUpperCase()]=eu[eg];return ed},tg=function(eu,ed){return typeof eu===eI&&-1!==ty(ed).indexOf(ty(eu))},ty=function(eu){return eu.toLowerCase()},tb=function(eu){return typeof eu===eI?eu.replace(/[^\d\.]/g,ew).split(".")[0]:em},tw=function(eu,ed){if(typeof eu===eI)return eu=eu.replace(/^\s\s*/,ew).replace(/\s\s*$/,ew),typeof ed===eA?eu:eu.substring(0,eF)},t_=function(eu,ed){for(var eg,eb,ew,e_,eA,eI,eC=0;eC<ed.length&&!eA;){var eM=ed[eC],eO=ed[eC+1];for(eg=eb=0;eg<eM.length&&!eA;)if(eA=eM[eg++].exec(eu))for(ew=0;ew<eO.length;ew++)eI=eA[++eb],typeof(e_=eO[ew])===eS&&e_.length>0?2===e_.length?typeof e_[1]==eE?this[e_[0]]=e_[1].call(this,eI):this[e_[0]]=e_[1]:3===e_.length?typeof e_[1]!==eE||e_[1].exec&&e_[1].test?this[e_[0]]=eI?eI.replace(e_[1],e_[2]):em:this[e_[0]]=eI?e_[1].call(this,eI,e_[2]):em:4===e_.length&&(this[e_[0]]=eI?e_[3].call(this,eI.replace(e_[1],e_[2])):em):this[e_]=eI||em;eC+=2}},tE=function(eu,ed){for(var eg in ed)if(typeof ed[eg]===eS&&ed[eg].length>0){for(var eb=0;eb<ed[eg].length;eb++)if(tg(ed[eg][eb],eu))return eg===e_?em:eg}else if(tg(ed[eg],eu))return eg===e_?em:eg;return eu},tA={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},tS={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[eN,[eO,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[eN,[eO,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[eO,eN],[/opios[\/ ]+([\w\.]+)/i],[eN,[eO,e6+" Mini"]],[/\bopr\/([\w\.]+)/i],[eN,[eO,e6]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[eO,eN],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[eN,[eO,"UC"+eG]],[/\bqbcore\/([\w\.]+)/i],[eN,[eO,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[eN,[eO,"WeChat"]],[/konqueror\/([\w\.]+)/i],[eN,[eO,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[eN,[eO,"IE"]],[/yabrowser\/([\w\.]+)/i],[eN,[eO,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[eO,/(.+)/,"$1 Secure "+eG],eN],[/\bfocus\/([\w\.]+)/i],[eN,[eO,eJ+" Focus"]],[/\bopt\/([\w\.]+)/i],[eN,[eO,e6+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[eN,[eO,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[eN,[eO,"Dolphin"]],[/coast\/([\w\.]+)/i],[eN,[eO,e6+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[eN,[eO,"MIUI "+eG]],[/fxios\/([-\w\.]+)/i],[eN,[eO,eJ]],[/\bqihu|(qi?ho?o?|360)browser/i],[[eO,"360 "+eG]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[eO,/(.+)/,"$1 "+eG],eN],[/(comodo_dragon)\/([\w\.]+)/i],[[eO,/_/g," "],eN],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[eO,eN],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i],[eO],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[eO,tu],eN],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[eO,eN],[/\bgsa\/([\w\.]+) .*safari\//i],[eN,[eO,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[eN,[eO,eW+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[eO,eW+" WebView"],eN],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[eN,[eO,"Android "+eG]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[eO,eN],[/version\/([\w\.]+) .*mobile\/\w+ (safari)/i],[eN,[eO,"Mobile Safari"]],[/version\/([\w\.]+) .*(mobile ?safari|safari)/i],[eN,eO],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[eO,[eN,tE,{"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[eO,eN],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[eO,"Netscape"],eN],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[eN,[eO,eJ+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[eO,eN]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[ek,"amd64"]],[/(ia32(?=;))/i],[[ek,ty]],[/((?:i[346]|x)86)[;\)]/i],[[ek,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[ek,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[ek,"armhf"]],[/windows (ce|mobile); ppc;/i],[[ek,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[ek,/ower/,ew,ty]],[/(sun4\w)[;\)]/i],[[ek,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[ek,ty]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[eM,[eP,e8],[eT,eB]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[eM,[eP,e8],[eT,eD]],[/\((ip(?:hone|od)[\w ]*);/i],[eM,[eP,eK],[eT,eD]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[eM,[eP,eK],[eT,eB]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[eM,[eP,eY],[eT,eB]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}-[atu]?[ln][01259x][012359][an]?)\b(?!.+d\/s)/i],[eM,[eP,eY],[eT,eD]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[eM,/_/g," "],[eP,e9],[eT,eD]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[eM,/_/g," "],[eP,e9],[eT,eB]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[eM,[eP,"OPPO"],[eT,eD]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[eM,[eP,"Vivo"],[eT,eD]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[eM,[eP,"Realme"],[eT,eD]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[eM,[eP,e0],[eT,eD]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[eM,[eP,e0],[eT,eB]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[eM,[eP,eX],[eT,eB]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[eM,[eP,eX],[eT,eD]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[eM,[eP,"Lenovo"],[eT,eB]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[eM,/_/g," "],[eP,"Nokia"],[eT,eD]],[/(pixel c)\b/i],[eM,[eP,eZ],[eT,eB]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[eM,[eP,eZ],[eT,eD]],[/droid.+ ([c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[eM,[eP,e5],[eT,eD]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[eM,"Xperia Tablet"],[eP,e5],[eT,eB]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[eM,[eP,"OnePlus"],[eT,eD]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[eM,[eP,e$],[eT,eB]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[eM,/(.+)/g,"Fire Phone $1"],[eP,e$],[eT,eD]],[/(playbook);[-\w\),; ]+(rim)/i],[eM,eP,[eT,eB]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[eM,[eP,eV],[eT,eD]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[eM,[eP,eH],[eT,eB]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[eM,[eP,eH],[eT,eD]],[/(nexus 9)/i],[eM,[eP,"HTC"],[eT,eB]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony)[-_ ]?([-\w]*)/i],[eP,[eM,/_/g," "],[eT,eD]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[eM,[eP,"Acer"],[eT,eB]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[eM,[eP,"Meizu"],[eT,eD]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[eM,[eP,"Sharp"],[eT,eD]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[eP,eM,[eT,eD]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[eP,eM,[eT,eB]],[/(surface duo)/i],[eM,[eP,eQ],[eT,eB]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[eM,[eP,"Fairphone"],[eT,eD]],[/(u304aa)/i],[eM,[eP,"AT&T"],[eT,eD]],[/\bsie-(\w*)/i],[eM,[eP,"Siemens"],[eT,eD]],[/\b(rct\w+) b/i],[eM,[eP,"RCA"],[eT,eB]],[/\b(venue[\d ]{2,7}) b/i],[eM,[eP,"Dell"],[eT,eB]],[/\b(q(?:mv|ta)\w+) b/i],[eM,[eP,"Verizon"],[eT,eB]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[eM,[eP,"Barnes & Noble"],[eT,eB]],[/\b(tm\d{3}\w+) b/i],[eM,[eP,"NuVision"],[eT,eB]],[/\b(k88) b/i],[eM,[eP,"ZTE"],[eT,eB]],[/\b(nx\d{3}j) b/i],[eM,[eP,"ZTE"],[eT,eD]],[/\b(gen\d{3}) b.+49h/i],[eM,[eP,"Swiss"],[eT,eD]],[/\b(zur\d{3}) b/i],[eM,[eP,"Swiss"],[eT,eB]],[/\b((zeki)?tb.*\b) b/i],[eM,[eP,"Zeki"],[eT,eB]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[eP,"Dragon Touch"],eM,[eT,eB]],[/\b(ns-?\w{0,9}) b/i],[eM,[eP,"Insignia"],[eT,eB]],[/\b((nxa|next)-?\w{0,9}) b/i],[eM,[eP,"NextBook"],[eT,eB]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[eP,"Voice"],eM,[eT,eD]],[/\b(lvtel\-)?(v1[12]) b/i],[[eP,"LvTel"],eM,[eT,eD]],[/\b(ph-1) /i],[eM,[eP,"Essential"],[eT,eD]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[eM,[eP,"Envizen"],[eT,eB]],[/\b(trio[-\w\. ]+) b/i],[eM,[eP,"MachSpeed"],[eT,eB]],[/\btu_(1491) b/i],[eM,[eP,"Rotor"],[eT,eB]],[/(shield[\w ]+) b/i],[eM,[eP,"Nvidia"],[eT,eB]],[/(sprint) (\w+)/i],[eP,eM,[eT,eD]],[/(kin\.[onetw]{3})/i],[[eM,/\./g," "],[eP,eQ],[eT,eD]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[eM,[eP,e7],[eT,eB]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[eM,[eP,e7],[eT,eD]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[eP,eM,[eT,eR]],[/droid.+; (shield) bui/i],[eM,[eP,"Nvidia"],[eT,eR]],[/(playstation [345portablevi]+)/i],[eM,[eP,e5],[eT,eR]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[eM,[eP,eQ],[eT,eR]],[/smart-tv.+(samsung)/i],[eP,[eT,eU]],[/hbbtv.+maple;(\d+)/i],[[eM,/^/,"SmartTV"],[eP,e8],[eT,eU]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[eP,eX],[eT,eU]],[/(apple) ?tv/i],[eP,[eM,eK+" TV"],[eT,eU]],[/crkey/i],[[eM,eW+"cast"],[eP,eZ],[eT,eU]],[/droid.+aft(\w)( bui|\))/i],[eM,[eP,e$],[eT,eU]],[/\(dtv[\);].+(aquos)/i],[eM,[eP,"Sharp"],[eT,eU]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[eP,tw],[eM,tw],[eT,eU]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[eT,eU]],[/((pebble))app/i],[eP,eM,[eT,eL]],[/droid.+; (glass) \d/i],[eM,[eP,eZ],[eT,eL]],[/droid.+; (wt63?0{2,3})\)/i],[eM,[eP,e7],[eT,eL]],[/(quest( 2)?)/i],[eM,[eP,tu],[eT,eL]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[eP,[eT,ej]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[eM,[eT,eD]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[eM,[eT,eB]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[eT,eB]],[/(phone|mobile(?:[;\/]| safari)|pda(?=.+windows ce))/i],[[eT,eD]],[/(android[-\w\. ]{0,9});.+buil/i],[eM,[eP,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[eN,[eO,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[eN,[eO,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[eO,eN],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[eN,eO]],os:[[/microsoft (windows) (vista|xp)/i],[eO,eN],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[eO,[eN,tE,tA]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[eO,"Windows"],[eN,tE,tA]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[eN,/_/g,"."],[eO,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[eO,"Mac OS"],[eN,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[eN,eO],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[eO,eN],[/\(bb(10);/i],[eN,[eO,eV]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[eN,[eO,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[eN,[eO,eJ+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[eN,[eO,"webOS"]],[/crkey\/([\d\.]+)/i],[eN,[eO,eW+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[eO,"Chromium OS"],eN],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[eO,eN],[/(sunos) ?([\w\.\d]*)/i],[[eO,"Solaris"],eN],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[eO,eN]]},tI=function(eu,ed){if(typeof eu===eS&&(ed=eu,eu=em),!(this instanceof tI))return new tI(eu,ed).getResult();var eb=eu||(typeof eg!==eA&&eg.navigator&&eg.navigator.userAgent?eg.navigator.userAgent:ew),e_=ed?th(tS,ed):tS;return this.getBrowser=function(){var eu={};return eu[eO]=em,eu[eN]=em,t_.call(eu,eb,e_.browser),eu.major=tb(eu.version),eu},this.getCPU=function(){var eu={};return eu[ek]=em,t_.call(eu,eb,e_.cpu),eu},this.getDevice=function(){var eu={};return eu[eP]=em,eu[eM]=em,eu[eT]=em,t_.call(eu,eb,e_.device),eu},this.getEngine=function(){var eu={};return eu[eO]=em,eu[eN]=em,t_.call(eu,eb,e_.engine),eu},this.getOS=function(){var eu={};return eu[eO]=em,eu[eN]=em,t_.call(eu,eb,e_.os),eu},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return eb},this.setUA=function(eu){return eb=typeof eu===eI&&eu.length>eF?tw(eu,eF):eu,this},this.setUA(eb),this};tI.VERSION=eb,tI.BROWSER=td([eO,eN,eC]),tI.CPU=td([ek]),tI.DEVICE=td([eM,eP,eT,eR,eD,eU,eB,eL,ej]),tI.ENGINE=tI.OS=td([eO,eN]),eu.exports&&(ed=eu.exports=tI),ed.UAParser=tI;var tC=typeof eg!==eA&&(eg.jQuery||eg.Zepto);if(tC&&!tC.ua){var tO=new tI;tC.ua=tO.getResult(),tC.ua.get=function(){return tO.getUA()},tC.ua.set=function(eu){tO.setUA(eu);var ed=tO.getResult();for(var eg in ed)tC.ua[eg]=ed[eg]}}}("object"==typeof window?window:eU)}(ej,ej.exports);let eF=()=>new ej.exports.UAParser;eF().getBrowser,function(eu,ed){!function(ed,eg,em){eu.exports=em(),eu.exports.default=em()}(0,0,function(){var eu=JSON.parse(`{"$":"dollar","%":"percent","&":"and","<":"less",">":"greater","|":"or","\xa2":"cent","\xa3":"pound","\xa4":"currency","\xa5":"yen","\xa9":"(c)","\xaa":"a","\xae":"(r)","\xba":"o","\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xc6":"AE","\xc7":"C","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xd0":"D","\xd1":"N","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xdd":"Y","\xde":"TH","\xdf":"ss","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xe6":"ae","\xe7":"c","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xf0":"d","\xf1":"n","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xfd":"y","\xfe":"th","\xff":"y","\u0100":"A","\u0101":"a","\u0102":"A","\u0103":"a","\u0104":"A","\u0105":"a","\u0106":"C","\u0107":"c","\u010C":"C","\u010D":"c","\u010E":"D","\u010F":"d","\u0110":"DJ","\u0111":"dj","\u0112":"E","\u0113":"e","\u0116":"E","\u0117":"e","\u0118":"e","\u0119":"e","\u011A":"E","\u011B":"e","\u011E":"G","\u011F":"g","\u0122":"G","\u0123":"g","\u0128":"I","\u0129":"i","\u012A":"i","\u012B":"i","\u012E":"I","\u012F":"i","\u0130":"I","\u0131":"i","\u0136":"k","\u0137":"k","\u013B":"L","\u013C":"l","\u013D":"L","\u013E":"l","\u0141":"L","\u0142":"l","\u0143":"N","\u0144":"n","\u0145":"N","\u0146":"n","\u0147":"N","\u0148":"n","\u014C":"O","\u014D":"o","\u0150":"O","\u0151":"o","\u0152":"OE","\u0153":"oe","\u0154":"R","\u0155":"r","\u0158":"R","\u0159":"r","\u015A":"S","\u015B":"s","\u015E":"S","\u015F":"s","\u0160":"S","\u0161":"s","\u0162":"T","\u0163":"t","\u0164":"T","\u0165":"t","\u0168":"U","\u0169":"u","\u016A":"u","\u016B":"u","\u016E":"U","\u016F":"u","\u0170":"U","\u0171":"u","\u0172":"U","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017A":"z","\u017B":"Z","\u017C":"z","\u017D":"Z","\u017E":"z","\u018F":"E","\u0192":"f","\u01A0":"O","\u01A1":"o","\u01AF":"U","\u01B0":"u","\u01C8":"LJ","\u01C9":"lj","\u01CB":"NJ","\u01CC":"nj","\u0218":"S","\u0219":"s","\u021A":"T","\u021B":"t","\u0259":"e","\u02DA":"o","\u0386":"A","\u0388":"E","\u0389":"H","\u038A":"I","\u038C":"O","\u038E":"Y","\u038F":"W","\u0390":"i","\u0391":"A","\u0392":"B","\u0393":"G","\u0394":"D","\u0395":"E","\u0396":"Z","\u0397":"H","\u0398":"8","\u0399":"I","\u039A":"K","\u039B":"L","\u039C":"M","\u039D":"N","\u039E":"3","\u039F":"O","\u03A0":"P","\u03A1":"R","\u03A3":"S","\u03A4":"T","\u03A5":"Y","\u03A6":"F","\u03A7":"X","\u03A8":"PS","\u03A9":"W","\u03AA":"I","\u03AB":"Y","\u03AC":"a","\u03AD":"e","\u03AE":"h","\u03AF":"i","\u03B0":"y","\u03B1":"a","\u03B2":"b","\u03B3":"g","\u03B4":"d","\u03B5":"e","\u03B6":"z","\u03B7":"h","\u03B8":"8","\u03B9":"i","\u03BA":"k","\u03BB":"l","\u03BC":"m","\u03BD":"n","\u03BE":"3","\u03BF":"o","\u03C0":"p","\u03C1":"r","\u03C2":"s","\u03C3":"s","\u03C4":"t","\u03C5":"y","\u03C6":"f","\u03C7":"x","\u03C8":"ps","\u03C9":"w","\u03CA":"i","\u03CB":"y","\u03CC":"o","\u03CD":"y","\u03CE":"w","\u0401":"Yo","\u0402":"DJ","\u0404":"Ye","\u0406":"I","\u0407":"Yi","\u0408":"J","\u0409":"LJ","\u040A":"NJ","\u040B":"C","\u040F":"DZ","\u0410":"A","\u0411":"B","\u0412":"V","\u0413":"G","\u0414":"D","\u0415":"E","\u0416":"Zh","\u0417":"Z","\u0418":"I","\u0419":"J","\u041A":"K","\u041B":"L","\u041C":"M","\u041D":"N","\u041E":"O","\u041F":"P","\u0420":"R","\u0421":"S","\u0422":"T","\u0423":"U","\u0424":"F","\u0425":"H","\u0426":"C","\u0427":"Ch","\u0428":"Sh","\u0429":"Sh","\u042A":"U","\u042B":"Y","\u042C":"","\u042D":"E","\u042E":"Yu","\u042F":"Ya","\u0430":"a","\u0431":"b","\u0432":"v","\u0433":"g","\u0434":"d","\u0435":"e","\u0436":"zh","\u0437":"z","\u0438":"i","\u0439":"j","\u043A":"k","\u043B":"l","\u043C":"m","\u043D":"n","\u043E":"o","\u043F":"p","\u0440":"r","\u0441":"s","\u0442":"t","\u0443":"u","\u0444":"f","\u0445":"h","\u0446":"c","\u0447":"ch","\u0448":"sh","\u0449":"sh","\u044A":"u","\u044B":"y","\u044C":"","\u044D":"e","\u044E":"yu","\u044F":"ya","\u0451":"yo","\u0452":"dj","\u0454":"ye","\u0456":"i","\u0457":"yi","\u0458":"j","\u0459":"lj","\u045A":"nj","\u045B":"c","\u045D":"u","\u045F":"dz","\u0490":"G","\u0491":"g","\u0492":"GH","\u0493":"gh","\u049A":"KH","\u049B":"kh","\u04A2":"NG","\u04A3":"ng","\u04AE":"UE","\u04AF":"ue","\u04B0":"U","\u04B1":"u","\u04BA":"H","\u04BB":"h","\u04D8":"AE","\u04D9":"ae","\u04E8":"OE","\u04E9":"oe","\u0531":"A","\u0532":"B","\u0533":"G","\u0534":"D","\u0535":"E","\u0536":"Z","\u0537":"E'","\u0538":"Y'","\u0539":"T'","\u053A":"JH","\u053B":"I","\u053C":"L","\u053D":"X","\u053E":"C'","\u053F":"K","\u0540":"H","\u0541":"D'","\u0542":"GH","\u0543":"TW","\u0544":"M","\u0545":"Y","\u0546":"N","\u0547":"SH","\u0549":"CH","\u054A":"P","\u054B":"J","\u054C":"R'","\u054D":"S","\u054E":"V","\u054F":"T","\u0550":"R","\u0551":"C","\u0553":"P'","\u0554":"Q'","\u0555":"O''","\u0556":"F","\u0587":"EV","\u0621":"a","\u0622":"aa","\u0623":"a","\u0624":"u","\u0625":"i","\u0626":"e","\u0627":"a","\u0628":"b","\u0629":"h","\u062A":"t","\u062B":"th","\u062C":"j","\u062D":"h","\u062E":"kh","\u062F":"d","\u0630":"th","\u0631":"r","\u0632":"z","\u0633":"s","\u0634":"sh","\u0635":"s","\u0636":"dh","\u0637":"t","\u0638":"z","\u0639":"a","\u063A":"gh","\u0641":"f","\u0642":"q","\u0643":"k","\u0644":"l","\u0645":"m","\u0646":"n","\u0647":"h","\u0648":"w","\u0649":"a","\u064A":"y","\u064B":"an","\u064C":"on","\u064D":"en","\u064E":"a","\u064F":"u","\u0650":"e","\u0652":"","\u0660":"0","\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u067E":"p","\u0686":"ch","\u0698":"zh","\u06A9":"k","\u06AF":"g","\u06CC":"y","\u06F0":"0","\u06F1":"1","\u06F2":"2","\u06F3":"3","\u06F4":"4","\u06F5":"5","\u06F6":"6","\u06F7":"7","\u06F8":"8","\u06F9":"9","\u0E3F":"baht","\u10D0":"a","\u10D1":"b","\u10D2":"g","\u10D3":"d","\u10D4":"e","\u10D5":"v","\u10D6":"z","\u10D7":"t","\u10D8":"i","\u10D9":"k","\u10DA":"l","\u10DB":"m","\u10DC":"n","\u10DD":"o","\u10DE":"p","\u10DF":"zh","\u10E0":"r","\u10E1":"s","\u10E2":"t","\u10E3":"u","\u10E4":"f","\u10E5":"k","\u10E6":"gh","\u10E7":"q","\u10E8":"sh","\u10E9":"ch","\u10EA":"ts","\u10EB":"dz","\u10EC":"ts","\u10ED":"ch","\u10EE":"kh","\u10EF":"j","\u10F0":"h","\u1E62":"S","\u1E63":"s","\u1E80":"W","\u1E81":"w","\u1E82":"W","\u1E83":"w","\u1E84":"W","\u1E85":"w","\u1E9E":"SS","\u1EA0":"A","\u1EA1":"a","\u1EA2":"A","\u1EA3":"a","\u1EA4":"A","\u1EA5":"a","\u1EA6":"A","\u1EA7":"a","\u1EA8":"A","\u1EA9":"a","\u1EAA":"A","\u1EAB":"a","\u1EAC":"A","\u1EAD":"a","\u1EAE":"A","\u1EAF":"a","\u1EB0":"A","\u1EB1":"a","\u1EB2":"A","\u1EB3":"a","\u1EB4":"A","\u1EB5":"a","\u1EB6":"A","\u1EB7":"a","\u1EB8":"E","\u1EB9":"e","\u1EBA":"E","\u1EBB":"e","\u1EBC":"E","\u1EBD":"e","\u1EBE":"E","\u1EBF":"e","\u1EC0":"E","\u1EC1":"e","\u1EC2":"E","\u1EC3":"e","\u1EC4":"E","\u1EC5":"e","\u1EC6":"E","\u1EC7":"e","\u1EC8":"I","\u1EC9":"i","\u1ECA":"I","\u1ECB":"i","\u1ECC":"O","\u1ECD":"o","\u1ECE":"O","\u1ECF":"o","\u1ED0":"O","\u1ED1":"o","\u1ED2":"O","\u1ED3":"o","\u1ED4":"O","\u1ED5":"o","\u1ED6":"O","\u1ED7":"o","\u1ED8":"O","\u1ED9":"o","\u1EDA":"O","\u1EDB":"o","\u1EDC":"O","\u1EDD":"o","\u1EDE":"O","\u1EDF":"o","\u1EE0":"O","\u1EE1":"o","\u1EE2":"O","\u1EE3":"o","\u1EE4":"U","\u1EE5":"u","\u1EE6":"U","\u1EE7":"u","\u1EE8":"U","\u1EE9":"u","\u1EEA":"U","\u1EEB":"u","\u1EEC":"U","\u1EED":"u","\u1EEE":"U","\u1EEF":"u","\u1EF0":"U","\u1EF1":"u","\u1EF2":"Y","\u1EF3":"y","\u1EF4":"Y","\u1EF5":"y","\u1EF6":"Y","\u1EF7":"y","\u1EF8":"Y","\u1EF9":"y","\u2013":"-","\u2018":"'","\u2019":"'","\u201C":"\\"","\u201D":"\\"","\u201E":"\\"","\u2020":"+","\u2022":"*","\u2026":"...","\u20A0":"ecu","\u20A2":"cruzeiro","\u20A3":"french franc","\u20A4":"lira","\u20A5":"mill","\u20A6":"naira","\u20A7":"peseta","\u20A8":"rupee","\u20A9":"won","\u20AA":"new shequel","\u20AB":"dong","\u20AC":"euro","\u20AD":"kip","\u20AE":"tugrik","\u20AF":"drachma","\u20B0":"penny","\u20B1":"peso","\u20B2":"guarani","\u20B3":"austral","\u20B4":"hryvnia","\u20B5":"cedi","\u20B8":"kazakhstani tenge","\u20B9":"indian rupee","\u20BA":"turkish lira","\u20BD":"russian ruble","\u20BF":"bitcoin","\u2120":"sm","\u2122":"tm","\u2202":"d","\u2206":"delta","\u2211":"sum","\u221E":"infinity","\u2665":"love","\u5143":"yuan","\u5186":"yen","\uFDFC":"rial","\uFEF5":"laa","\uFEF7":"laa","\uFEF9":"lai","\uFEFB":"la"}`),ed=JSON.parse('{"bg":{"":"Y","":"Ts","":"Sht","":"A","":"Y","":"y","":"ts","":"sht","":"a","":"y"},"de":{"\xc4":"AE","\xe4":"ae","\xd6":"OE","\xf6":"oe","\xdc":"UE","\xfc":"ue","\xdf":"ss","%":"prozent","&":"und","|":"oder","":"summe","":"unendlich","":"liebe"},"es":{"%":"por ciento","&":"y","<":"menor que",">":"mayor que","|":"o","\xa2":"centavos","\xa3":"libras","\xa4":"moneda","":"francos","":"suma","":"infinito","":"amor"},"fr":{"%":"pourcent","&":"et","<":"plus petit",">":"plus grand","|":"ou","\xa2":"centime","\xa3":"livre","\xa4":"devise","":"franc","":"somme","":"infini","":"amour"},"pt":{"%":"porcento","&":"e","<":"menor",">":"maior","|":"ou","\xa2":"centavo","":"soma","\xa3":"libra","":"infinito","":"amor"},"uk":{"":"Y","":"y","":"Y","":"y","":"Ts","":"ts","":"Kh","":"kh","":"Shch","":"shch","":"H","":"h"},"vi":{"":"D","":"d"},"da":{"\xd8":"OE","\xf8":"oe","\xc5":"AA","\xe5":"aa","%":"procent","&":"og","|":"eller","$":"dollar","<":"mindre end",">":"st\xf8rre end"},"nb":{"&":"og","\xc5":"AA","\xc6":"AE","\xd8":"OE","\xe5":"aa","\xe6":"ae","\xf8":"oe"},"it":{"&":"e"},"nl":{"&":"en"},"sv":{"&":"och","\xc5":"AA","\xc4":"AE","\xd6":"OE","\xe5":"aa","\xe4":"ae","\xf6":"oe"}}');function eg(eg,em){if("string"!=typeof eg)throw Error("slugify: string argument expected");var eb=ed[(em="string"==typeof em?{replacement:em}:em||{}).locale]||{},ew=void 0===em.replacement?"-":em.replacement,e_=void 0===em.trim||em.trim,eE=eg.normalize().split("").reduce(function(ed,eg){var e_=eb[eg]||eu[eg]||eg;return e_===ew&&(e_=" "),ed+e_.replace(em.remove||/[^\w\s$*_+~.()'"!\-:@]+/g,"")},"");return em.strict&&(eE=eE.replace(/[^A-Za-z0-9\s]/g,"")),e_&&(eE=eE.trim()),eE=eE.replace(/\s+/g,ew),em.lower&&(eE=eE.toLowerCase()),eE}return eg.extend=function(ed){Object.assign(eu,ed)},eg})}({exports:{}});let e$=()=>eR()?"localhost":window.location.hostname,eK={local:`http://${e$()}:3000`,preview:"https://auth.v1.preview.ramper.xyz",dev:"https://auth.v1.dev.ramper.xyz",staging:"https://auth.v1.staging.ramper.xyz",prod:"https://auth.v1.ramper.xyz"};eK[eB()];let eH={local:"https://us-central1-bright-zodiac-339920.cloudfunctions.net",preview:"https://us-central1-bright-zodiac-339920.cloudfunctions.net",dev:"https://us-central1-bright-zodiac-339920.cloudfunctions.net",staging:"https://us-central1-ramper-prod.cloudfunctions.net",prod:"https://us-central1-ramper-prod.cloudfunctions.net"};eH[eB()];let eV={local:"wss://a5wwvzpwt7.execute-api.us-west-2.amazonaws.com/dev",preview:"wss://a5wwvzpwt7.execute-api.us-west-2.amazonaws.com/dev",dev:"wss://a5wwvzpwt7.execute-api.us-west-2.amazonaws.com/dev",staging:"wss://tauokxd7fh.execute-api.us-west-2.amazonaws.com/prod",prod:"wss://tauokxd7fh.execute-api.us-west-2.amazonaws.com/prod"};eV[eB()];let eG={local:"https://q1otyh6t0j.execute-api.us-west-2.amazonaws.com/dev/v1_0",preview:"https://q1otyh6t0j.execute-api.us-west-2.amazonaws.com/dev/v1_0",dev:"https://q1otyh6t0j.execute-api.us-west-2.amazonaws.com/dev/v1_0",staging:"https://cjbz1h17i7.execute-api.us-west-2.amazonaws.com/prod/v1_0",prod:"https://cjbz1h17i7.execute-api.us-west-2.amazonaws.com/prod/v1_0"};eG[eB()];let eW={local:"G-QDW3GW421L",preview:"G-QDW3GW421L",dev:"G-QDW3GW421L",staging:"G-7NRREF51EB",prod:"G-7NRREF51EB"};eW[eB()];let eJ={local:`http://${e$()}:3001`,preview:"https://example.preview.ramper.xyz",dev:"https://example.dev.ramper.xyz",staging:"https://example.staging.ramper.xyz",prod:"https://example.ramper.xyz"};eJ[eB()];let eZ={local:`http://${e$()}:3002`,preview:"https://static.preview.ramper.xyz",dev:"https://static.dev.ramper.xyz",staging:"https://static.staging.ramper.xyz",prod:"https://static.ramper.xyz"};eZ[eB()];let eY={local:`http://${e$()}:3004`,preview:"https://docs.preview.ramper.xyz",dev:"https://docs.dev.ramper.xyz",staging:"https://docs.staging.ramper.xyz",prod:"https://docs.ramper.xyz"};eY[eB()];let eX={local:`http://${e$()}:3005`,preview:"https://js.preview.ramper.xyz",dev:"https://js.dev.ramper.xyz",staging:"https://js.staging.ramper.xyz",prod:"https://js.ramper.xyz"};eX[eB()];let eQ={local:"suyklxmori",preview:"suyklxmori",dev:"suyklxmori",staging:"dtofgevaxu",prod:"dtofgevaxu"};eQ[eB()];let e0={local:`http://${e$()}:3008`,preview:"https://developer.preview.ramper.xyz",dev:"https://developer.dev.ramper.xyz",staging:"https://developer.staging.ramper.xyz",prod:"https://developer.ramper.xyz"};e0[eB()];let e6=eu=>window[eu],e8=(eu,ed)=>{let eg=document.querySelector(`[src="${eu}"]`);if(null!=eg&&void 0!==em)return em;if(null!=eg&&void 0!==e6(ed))return Promise.resolve(e6(ed));let eb=document.createElement("script");return eb.src=eu,em=new Promise((eg,em)=>{document.head.appendChild(eb),window.addEventListener(`initialize:${ed}`,()=>{void 0!==e6(ed)?eg(e6(ed)):em(Error(`Failed to load script: [${eu}]`))})})},e5={GOOGLE:"google",FACEBOOK:"facebook",APPLE:"apple",TWITTER:"twitter",GITHUB:"github",EMAIL:"email"},e9={ETHEREUM:"ethereum",TERRA:"terra",NEAR:"near"},e7={EN:"en",KR:"kr"},tu={MAINNET:"mainnet",ROPSTEN:"ropsten",GOERLI:"goerli",MATIC:"matic",MATICMUM:"maticmum"};tu.MAINNET,tu.GOERLI,tu.MATIC,tu.MATICMUM,e9.ETHEREUM,e9.NEAR,e9.TERRA;let th={DARK:"dark",LIGHT:"light"},td={TERRA_STATION:"terra_station",WALLET_CONNECT:"wallet_connect",METAMASK:"metamask",NEAR_WALLET:"near_wallet"},tg={COIN:"COIN",NFT:"NFT"},ty={USD:"usd"};e5.GOOGLE,e5.FACEBOOK,e5.EMAIL,td.METAMASK,e7.EN,th.LIGHT,ty.USD,e9.ETHEREUM,tu.MAINNET,tg.COIN,tg.NFT;let tb={ALL:"ALL",DEBUG:"DEBUG",INFO:"INFO",WARN:"WARN",ERROR:"ERROR"},tw=tb.DEBUG,t_=(eu,...ed)=>{};class tE{constructor(eu=tw){this.debug=t_,this.info=t_,this.warn=t_,this.error=t_;let ed=Object.values(tb).includes(eu)?eu:tw;if(this.error=console.error.bind(console),ed===tb.ERROR||(this.warn=console.warn.bind(console),ed===tb.WARN)||(this.info=console.info.bind(console),ed===tb.INFO)||(this.debug=console.log.bind(console),ed===tb.DEBUG))return}}if(void 0!==globalThis.window){let eu=window.localStorage.getItem("ramper_loggingLevel")||tw;eb=new tE(eu)}let tA=async()=>(ew||(null==(ew=await e_)||ew.on("closeModal",tS),null==ew||ew.on("requestUser",async()=>{ew.call("setUser",tO())})),ew),tS=()=>{setTimeout(async()=>{let eu=window.ramper.container;if(!eu)return Error("container not found");eu.style.display="none",document.body.style.overflow="auto",window.ramper.isOpened=!1;let ed=await tA();ed.call("closeModal")},200)};function tI(eu){this.message=eu}function tC(eu){this.message=eu}tI.prototype=Error(),tI.prototype.name="InvalidCharacterError","undefined"!=typeof window&&window.atob&&window.atob.bind(window),tC.prototype=Error(),tC.prototype.name="InvalidTokenError";let tO=()=>{let eu=window.localStorage.getItem("ramper_loggedInUser");if(!eu)return null;try{let ed=JSON.parse(eu);return ed}catch{}return null};!/**
  postmate - A powerful, simple, promise-based postMessage library
  @version v1.5.2
  @link https://github.com/dollarshaveclub/postmate
  @author Jacob Kelley <jakie8@gmail.com>
  @license MIT
**/function(){try{window&&window.Promise}catch(eu){return null}}();var tT={exports:{}},tP=eL(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));!function(eu){var ed=tP,eg={HS256:"sha256",HS384:"sha384",HS512:"sha512",RS256:"RSA-SHA256"},em={HS256:"hmac",HS384:"hmac",HS512:"hmac",RS256:"sign"},eb=eu.exports;function ew(eu,ed){for(var eg in ed)ed.hasOwnProperty(eg)&&(eu[eg]=ed[eg])}function e_(eu,eg,em,eb,ew){if("hmac"===eb)return ew===eE(eu,eg,em,eb);if("sign"==eb)return ed.createVerify(em).update(eu).verify(eg,eS(ew),"base64");throw Error("Algorithm type not recognized")}function eE(eu,eg,em,eb){var ew;if("hmac"===eb)ew=ed.createHmac(em,eg).update(eu).digest("base64");else if("sign"==eb)ew=ed.createSign(em).update(eu).sign(eg,"base64");else throw Error("Algorithm type not recognized");return eM(ew)}function eA(eu){return eI.from(eS(eu),"base64").toString()}function eS(eu){return(eu+=Array(5-eu.length%4).join("=")).replace(/\-/g,"+").replace(/_/g,"/")}function eC(eu){return eM(eI.from(eu).toString("base64"))}function eM(eu){return eu.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}eb.version="0.5.6",eb.decode=function(eu,ed,eb,ew){if(!eu)throw Error("No token supplied");var eE=eu.split(".");if(3!==eE.length)throw Error("Not enough or too many segments");var eS=eE[0],eI=eE[1],eC=eE[2],eM=JSON.parse(eA(eS)),eO=JSON.parse(eA(eI));if(!eb){!ew&&/BEGIN( RSA)? PUBLIC KEY/.test(ed.toString())&&(ew="RS256");var eT=eg[ew||eM.alg],eP=em[ew||eM.alg];if(!eT||!eP)throw Error("Algorithm not supported");if(!e_([eS,eI].join("."),ed,eT,eP,eC))throw Error("Signature verification failed");if(eO.nbf&&Date.now()<1e3*eO.nbf)throw Error("Token not yet active");if(eO.exp&&Date.now()>1e3*eO.exp)throw Error("Token expired")}return eO},eb.encode=function(eu,ed,eb,e_){if(!ed)throw Error("Require key");eb||(eb="HS256");var eA=eg[eb],eS=em[eb];if(!eA||!eS)throw Error("Algorithm not supported");var eI={typ:"JWT",alg:eb};e_&&e_.header&&ew(eI,e_.header);var eM=[];return eM.push(eC(JSON.stringify(eI))),eM.push(eC(JSON.stringify(eu))),eM.push(eE(eM.join("."),ed,eA,eS)),eM.join(".")}}(tT);let tN=()=>{let eu=globalThis.RAMPER_ENV;return eu===eO.PROD?eO.PROD:eu===eO.STAGING?eO.STAGING:eu===eO.DEV?eO.DEV:eu===eO.PREVIEW?eO.PREVIEW:eu===eO.LOCAL?eO.LOCAL:eO.PROD},tR=()=>{let eu=eX[tN()];return`${eu}/v1/near`},tD=({src:eu})=>eR()?Promise.resolve({}):e8(eu,"ramper"),tB=()=>globalThis.ramper,tU=(...eu)=>eC(void 0,void 0,void 0,function*(){let ed=yield tD({src:tR()});return yield null==ed?void 0:ed.init(...eu),ed}),tL=(...eu)=>{var ed;return null===(ed=tB())||void 0===ed?void 0:ed.signIn(...eu)},tj=(...eu)=>{var ed;return null===(ed=tB())||void 0===ed?void 0:ed.sendTransaction(...eu)}},36237:function(eu,ed){"use strict";function eg(eu){return eu instanceof Uint8Array||ArrayBuffer.isView(eu)&&"Uint8Array"===eu.constructor.name}function em(eu,...ed){if(!eg(eu))throw Error("Uint8Array expected");if(ed.length>0&&!ed.includes(eu.length))throw Error("Uint8Array expected of length "+ed+", got length="+eu.length)}function eb(eu,ed){return!!Array.isArray(ed)&&(0===ed.length||(eu?ed.every(eu=>"string"==typeof eu):ed.every(eu=>Number.isSafeInteger(eu))))}function ew(eu){if("function"!=typeof eu)throw Error("function expected");return!0}function e_(eu,ed){if("string"!=typeof ed)throw Error(`${eu}: string expected`);return!0}function eE(eu){if(!Number.isSafeInteger(eu))throw Error(`invalid integer: ${eu}`)}function eA(eu){if(!Array.isArray(eu))throw Error("array expected")}function eS(eu,ed){if(!eb(!0,ed))throw Error(`${eu}: array of strings expected`)}function eI(eu,ed){if(!eb(!1,ed))throw Error(`${eu}: array of numbers expected`)}function eC(...eu){let ed=eu=>eu,eg=(eu,ed)=>eg=>eu(ed(eg)),em=eu.map(eu=>eu.encode).reduceRight(eg,ed),eb=eu.map(eu=>eu.decode).reduce(eg,ed);return{encode:em,decode:eb}}function eM(eu){let ed="string"==typeof eu?eu.split(""):eu,eg=ed.length;eS("alphabet",ed);let em=new Map(ed.map((eu,ed)=>[eu,ed]));return{encode:em=>(eA(em),em.map(em=>{if(!Number.isSafeInteger(em)||em<0||em>=eg)throw Error(`alphabet.encode: digit index outside alphabet "${em}". Allowed: ${eu}`);return ed[em]})),decode:ed=>(eA(ed),ed.map(ed=>{e_("alphabet.decode",ed);let eg=em.get(ed);if(void 0===eg)throw Error(`Unknown letter: "${ed}". Allowed: ${eu}`);return eg}))}}function eO(eu=""){return e_("join",eu),{encode:ed=>(eS("join.decode",ed),ed.join(eu)),decode:ed=>(e_("join.decode",ed),ed.split(eu))}}function eT(eu,ed="="){return eE(eu),e_("padding",ed),{encode(eg){for(eS("padding.encode",eg);eg.length*eu%8;)eg.push(ed);return eg},decode(eg){eS("padding.decode",eg);let em=eg.length;if(em*eu%8)throw Error("padding: invalid, string should have whole number of bytes");for(;em>0&&eg[em-1]===ed;em--){let ed=em-1,eg=ed*eu;if(eg%8==0)throw Error("padding: invalid, string has too much padding")}return eg.slice(0,em)}}}function eP(eu){return ew(eu),{encode:eu=>eu,decode:ed=>eu(ed)}}function eN(eu,ed,eg){if(ed<2)throw Error(`convertRadix: invalid from=${ed}, base cannot be less than 2`);if(eg<2)throw Error(`convertRadix: invalid to=${eg}, base cannot be less than 2`);if(eA(eu),!eu.length)return[];let em=0,eb=[],ew=Array.from(eu,eu=>{if(eE(eu),eu<0||eu>=ed)throw Error(`invalid integer: ${eu}`);return eu}),e_=ew.length;for(;;){let eu=0,eE=!0;for(let eb=em;eb<e_;eb++){let e_=ew[eb],eA=ed*eu,eS=eA+e_;if(!Number.isSafeInteger(eS)||eA/ed!==eu||eS-e_!==eA)throw Error("convertRadix: carry overflow");let eI=eS/eg;eu=eS%eg;let eC=Math.floor(eI);if(ew[eb]=eC,!Number.isSafeInteger(eC)||eC*eg+eu!==eS)throw Error("convertRadix: carry overflow");eE&&(eC?eE=!1:em=eb)}if(eb.push(eu),eE)break}for(let ed=0;ed<eu.length-1&&0===eu[ed];ed++)eb.push(0);return eb.reverse()}/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(ed,"__esModule",{value:!0}),ed.bytes=ed.stringToBytes=ed.str=ed.bytesToString=ed.hex=ed.utf8=ed.bech32m=ed.bech32=ed.base58check=ed.createBase58check=ed.base58xmr=ed.base58xrp=ed.base58flickr=ed.base58=ed.base64urlnopad=ed.base64url=ed.base64nopad=ed.base64=ed.base32crockford=ed.base32hexnopad=ed.base32hex=ed.base32nopad=ed.base32=ed.base16=ed.utils=void 0;let ek=(eu,ed)=>0===ed?eu:ek(ed,eu%ed),eR=(eu,ed)=>eu+(ed-ek(eu,ed)),eD=(()=>{let eu=[];for(let ed=0;ed<40;ed++)eu.push(2**ed);return eu})();function eB(eu,ed,eg,em){if(eA(eu),ed<=0||ed>32)throw Error(`convertRadix2: wrong from=${ed}`);if(eg<=0||eg>32)throw Error(`convertRadix2: wrong to=${eg}`);if(eR(ed,eg)>32)throw Error(`convertRadix2: carry overflow from=${ed} to=${eg} carryBits=${eR(ed,eg)}`);let eb=0,ew=0,e_=eD[ed],eS=eD[eg]-1,eI=[];for(let em of eu){if(eE(em),em>=e_)throw Error(`convertRadix2: invalid data word=${em} from=${ed}`);if(eb=eb<<ed|em,ew+ed>32)throw Error(`convertRadix2: carry overflow pos=${ew} from=${ed}`);for(ew+=ed;ew>=eg;ew-=eg)eI.push((eb>>ew-eg&eS)>>>0);let eu=eD[ew];if(void 0===eu)throw Error("invalid carry");eb&=eu-1}if(eb=eb<<eg-ew&eS,!em&&ew>=ed)throw Error("Excess padding");if(!em&&eb>0)throw Error(`Non-zero padding: ${eb}`);return em&&ew>0&&eI.push(eb>>>0),eI}function eU(eu){eE(eu);let ed=256;return{encode:em=>{if(!eg(em))throw Error("radix.encode input should be Uint8Array");return eN(Array.from(em),ed,eu)},decode:eg=>(eI("radix.decode",eg),Uint8Array.from(eN(eg,eu,ed)))}}function eL(eu,ed=!1){if(eE(eu),eu<=0||eu>32)throw Error("radix2: bits should be in (0..32]");if(eR(8,eu)>32||eR(eu,8)>32)throw Error("radix2: carry overflow");return{encode:em=>{if(!eg(em))throw Error("radix2.encode input should be Uint8Array");return eB(Array.from(em),8,eu,!ed)},decode:eg=>(eI("radix2.decode",eg),Uint8Array.from(eB(eg,eu,8,ed)))}}function ej(eu){return ew(eu),function(...ed){try{return eu.apply(null,ed)}catch(eu){}}}function eF(eu,ed){return eE(eu),ew(ed),{encode(em){if(!eg(em))throw Error("checksum.encode: input should be Uint8Array");let eb=ed(em).slice(0,eu),ew=new Uint8Array(em.length+eu);return ew.set(em),ew.set(eb,em.length),ew},decode(em){if(!eg(em))throw Error("checksum.decode: input should be Uint8Array");let eb=em.slice(0,-eu),ew=em.slice(-eu),e_=ed(eb).slice(0,eu);for(let ed=0;ed<eu;ed++)if(e_[ed]!==ew[ed])throw Error("Invalid checksum");return eb}}}ed.utils={alphabet:eM,chain:eC,checksum:eF,convertRadix:eN,convertRadix2:eB,radix:eU,radix2:eL,join:eO,padding:eT},ed.base16=eC(eL(4),eM("0123456789ABCDEF"),eO("")),ed.base32=eC(eL(5),eM("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),eT(5),eO("")),ed.base32nopad=eC(eL(5),eM("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),eO("")),ed.base32hex=eC(eL(5),eM("0123456789ABCDEFGHIJKLMNOPQRSTUV"),eT(5),eO("")),ed.base32hexnopad=eC(eL(5),eM("0123456789ABCDEFGHIJKLMNOPQRSTUV"),eO("")),ed.base32crockford=eC(eL(5),eM("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),eO(""),eP(eu=>eu.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")));let e$="function"==typeof Uint8Array.from([]).toBase64&&"function"==typeof Uint8Array.fromBase64,eK=(eu,ed)=>{e_("base64",eu);let eg=ed?/^[A-Za-z0-9=_-]+$/:/^[A-Za-z0-9=+/]+$/,em=ed?"base64url":"base64";if(eu.length>0&&!eg.test(eu))throw Error("invalid base64");return Uint8Array.fromBase64(eu,{alphabet:em,lastChunkHandling:"strict"})};ed.base64=e$?{encode:eu=>(em(eu),eu.toBase64()),decode:eu=>eK(eu,!1)}:eC(eL(6),eM("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),eT(6),eO("")),ed.base64nopad=eC(eL(6),eM("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),eO("")),ed.base64url=e$?{encode:eu=>(em(eu),eu.toBase64({alphabet:"base64url"})),decode:eu=>eK(eu,!0)}:eC(eL(6),eM("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),eT(6),eO("")),ed.base64urlnopad=eC(eL(6),eM("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),eO(""));let eH=eu=>eC(eU(58),eM(eu),eO(""));ed.base58=eH("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),ed.base58flickr=eH("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),ed.base58xrp=eH("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");let eV=[0,2,3,5,6,7,9,10,11];ed.base58xmr={encode(eu){let eg="";for(let em=0;em<eu.length;em+=8){let eb=eu.subarray(em,em+8);eg+=ed.base58.encode(eb).padStart(eV[eb.length],"1")}return eg},decode(eu){let eg=[];for(let em=0;em<eu.length;em+=11){let eb=eu.slice(em,em+11),ew=eV.indexOf(eb.length),e_=ed.base58.decode(eb);for(let eu=0;eu<e_.length-ew;eu++)if(0!==e_[eu])throw Error("base58xmr: wrong padding");eg=eg.concat(Array.from(e_.slice(e_.length-ew)))}return Uint8Array.from(eg)}};let eG=eu=>eC(eF(4,ed=>eu(eu(ed))),ed.base58);ed.createBase58check=eG,ed.base58check=ed.createBase58check;let eW=eC(eM("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),eO("")),eJ=[996825010,642813549,513874426,1027748829,705979059];function eZ(eu){let ed=eu>>25,eg=(33554431&eu)<<5;for(let eu=0;eu<eJ.length;eu++)(ed>>eu&1)==1&&(eg^=eJ[eu]);return eg}function eY(eu,ed,eg=1){let em=eu.length,eb=1;for(let ed=0;ed<em;ed++){let eg=eu.charCodeAt(ed);if(eg<33||eg>126)throw Error(`Invalid prefix (${eu})`);eb=eZ(eb)^eg>>5}eb=eZ(eb);for(let ed=0;ed<em;ed++)eb=eZ(eb)^31&eu.charCodeAt(ed);for(let eu of ed)eb=eZ(eb)^eu;for(let eu=0;eu<6;eu++)eb=eZ(eb);return eb^=eg,eW.encode(eB([eb%eD[30]],30,5,!1))}function eX(eu){let ed="bech32"===eu?1:734539939,em=eL(5),eb=em.decode,ew=em.encode,eE=ej(eb);function eA(eu,em,eb=90){e_("bech32.encode prefix",eu),eg(em)&&(em=Array.from(em)),eI("bech32.encode",em);let ew=eu.length;if(0===ew)throw TypeError(`Invalid prefix length ${ew}`);let eE=ew+7+em.length;if(!1!==eb&&eE>eb)throw TypeError(`Length ${eE} exceeds limit ${eb}`);let eA=eu.toLowerCase(),eS=eY(eA,em,ed);return`${eA}1${eW.encode(em)}${eS}`}function eS(eu,eg=90){e_("bech32.decode input",eu);let em=eu.length;if(em<8||!1!==eg&&em>eg)throw TypeError(`invalid string length: ${em} (${eu}). Expected (8..${eg})`);let eb=eu.toLowerCase();if(eu!==eb&&eu!==eu.toUpperCase())throw Error("String must be lowercase or uppercase");let ew=eb.lastIndexOf("1");if(0===ew||-1===ew)throw Error('Letter "1" must be present between prefix and data only');let eE=eb.slice(0,ew),eA=eb.slice(ew+1);if(eA.length<6)throw Error("Data must be at least 6 characters long");let eS=eW.decode(eA).slice(0,-6),eI=eY(eE,eS,ed);if(!eA.endsWith(eI))throw Error(`Invalid checksum in ${eu}: expected "${eI}"`);return{prefix:eE,words:eS}}let eC=ej(eS);return{encode:eA,decode:eS,encodeFromBytes:function(eu,ed){return eA(eu,ew(ed))},decodeToBytes:function(eu){let{prefix:ed,words:eg}=eS(eu,!1);return{prefix:ed,words:eg,bytes:eb(eg)}},decodeUnsafe:eC,fromWords:eb,fromWordsUnsafe:eE,toWords:ew}}ed.bech32=eX("bech32"),ed.bech32m=eX("bech32m"),ed.utf8={encode:eu=>new TextDecoder().decode(eu),decode:eu=>new TextEncoder().encode(eu)};let eQ="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,e0={encode:eu=>(em(eu),eu.toHex()),decode:eu=>(e_("hex",eu),Uint8Array.fromHex(eu))};ed.hex=eQ?e0:eC(eL(4),eM("0123456789abcdef"),eO(""),eP(eu=>{if("string"!=typeof eu||eu.length%2!=0)throw TypeError(`hex.decode: expected string, got ${typeof eu} with length ${eu.length}`);return eu.toLowerCase()}));let e6={utf8:ed.utf8,hex:ed.hex,base16:ed.base16,base32:ed.base32,base64:ed.base64,base64url:ed.base64url,base58:ed.base58,base58xmr:ed.base58xmr},e8="Invalid encoding type. Available types: utf8, hex, base16, base32, base64, base64url, base58, base58xmr",e5=(eu,ed)=>{if("string"!=typeof eu||!e6.hasOwnProperty(eu))throw TypeError(e8);if(!eg(ed))throw TypeError("bytesToString() expects Uint8Array");return e6[eu].encode(ed)};ed.bytesToString=e5,ed.str=ed.bytesToString;let e9=(eu,ed)=>{if(!e6.hasOwnProperty(eu))throw TypeError(e8);if("string"!=typeof ed)throw TypeError("stringToBytes() expects string");return e6[eu].decode(ed)};ed.stringToBytes=e9,ed.bytes=ed.stringToBytes},45086:function(eu,ed,eg){"use strict";function em(){return(null===eg.g||void 0===eg.g?void 0:eg.g.crypto)||(null===eg.g||void 0===eg.g?void 0:eg.g.msCrypto)||{}}function eb(){let eu=em();return eu.subtle||eu.webkitSubtle}function ew(){return!!em()&&!!eb()}Object.defineProperty(ed,"__esModule",{value:!0}),ed.isBrowserCryptoAvailable=ed.getSubtleCrypto=ed.getBrowerCrypto=void 0,ed.getBrowerCrypto=em,ed.getSubtleCrypto=eb,ed.isBrowserCryptoAvailable=ew},64250:function(eu,ed,eg){"use strict";var em=eg(34406);function eb(){return"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product}function ew(){return void 0!==em&&void 0!==em.versions&&void 0!==em.versions.node}function e_(){return!eb()&&!ew()}Object.defineProperty(ed,"__esModule",{value:!0}),ed.isBrowser=ed.isNode=ed.isReactNative=void 0,ed.isReactNative=eb,ed.isNode=ew,ed.isBrowser=e_},5010:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0});let em=eg(7297);em.__exportStar(eg(45086),ed),em.__exportStar(eg(64250),ed)},7297:function(eu,ed,eg){"use strict";eg.r(ed),eg.d(ed,{__assign:function(){return ew},__asyncDelegator:function(){return eB},__asyncGenerator:function(){return eD},__asyncValues:function(){return eU},__await:function(){return eR},__awaiter:function(){return eI},__classPrivateFieldGet:function(){return e$},__classPrivateFieldSet:function(){return eK},__createBinding:function(){return eM},__decorate:function(){return eE},__exportStar:function(){return eO},__extends:function(){return eb},__generator:function(){return eC},__importDefault:function(){return eF},__importStar:function(){return ej},__makeTemplateObject:function(){return eL},__metadata:function(){return eS},__param:function(){return eA},__read:function(){return eP},__rest:function(){return e_},__spread:function(){return eN},__spreadArrays:function(){return ek},__values:function(){return eT}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var em=function(eu,ed){return(em=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(eu,ed){eu.__proto__=ed}||function(eu,ed){for(var eg in ed)ed.hasOwnProperty(eg)&&(eu[eg]=ed[eg])})(eu,ed)};function eb(eu,ed){function eg(){this.constructor=eu}em(eu,ed),eu.prototype=null===ed?Object.create(ed):(eg.prototype=ed.prototype,new eg)}var ew=function(){return(ew=Object.assign||function(eu){for(var ed,eg=1,em=arguments.length;eg<em;eg++)for(var eb in ed=arguments[eg])Object.prototype.hasOwnProperty.call(ed,eb)&&(eu[eb]=ed[eb]);return eu}).apply(this,arguments)};function e_(eu,ed){var eg={};for(var em in eu)Object.prototype.hasOwnProperty.call(eu,em)&&0>ed.indexOf(em)&&(eg[em]=eu[em]);if(null!=eu&&"function"==typeof Object.getOwnPropertySymbols)for(var eb=0,em=Object.getOwnPropertySymbols(eu);eb<em.length;eb++)0>ed.indexOf(em[eb])&&Object.prototype.propertyIsEnumerable.call(eu,em[eb])&&(eg[em[eb]]=eu[em[eb]]);return eg}function eE(eu,ed,eg,em){var eb,ew=arguments.length,e_=ew<3?ed:null===em?em=Object.getOwnPropertyDescriptor(ed,eg):em;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)e_=Reflect.decorate(eu,ed,eg,em);else for(var eE=eu.length-1;eE>=0;eE--)(eb=eu[eE])&&(e_=(ew<3?eb(e_):ew>3?eb(ed,eg,e_):eb(ed,eg))||e_);return ew>3&&e_&&Object.defineProperty(ed,eg,e_),e_}function eA(eu,ed){return function(eg,em){ed(eg,em,eu)}}function eS(eu,ed){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(eu,ed)}function eI(eu,ed,eg,em){function eb(eu){return eu instanceof eg?eu:new eg(function(ed){ed(eu)})}return new(eg||(eg=Promise))(function(eg,ew){function e_(eu){try{eA(em.next(eu))}catch(eu){ew(eu)}}function eE(eu){try{eA(em.throw(eu))}catch(eu){ew(eu)}}function eA(eu){eu.done?eg(eu.value):eb(eu.value).then(e_,eE)}eA((em=em.apply(eu,ed||[])).next())})}function eC(eu,ed){var eg,em,eb,ew,e_={label:0,sent:function(){if(1&eb[0])throw eb[1];return eb[1]},trys:[],ops:[]};return ew={next:eE(0),throw:eE(1),return:eE(2)},"function"==typeof Symbol&&(ew[Symbol.iterator]=function(){return this}),ew;function eE(eu){return function(ed){return eA([eu,ed])}}function eA(ew){if(eg)throw TypeError("Generator is already executing.");for(;e_;)try{if(eg=1,em&&(eb=2&ew[0]?em.return:ew[0]?em.throw||((eb=em.return)&&eb.call(em),0):em.next)&&!(eb=eb.call(em,ew[1])).done)return eb;switch(em=0,eb&&(ew=[2&ew[0],eb.value]),ew[0]){case 0:case 1:eb=ew;break;case 4:return e_.label++,{value:ew[1],done:!1};case 5:e_.label++,em=ew[1],ew=[0];continue;case 7:ew=e_.ops.pop(),e_.trys.pop();continue;default:if(!(eb=(eb=e_.trys).length>0&&eb[eb.length-1])&&(6===ew[0]||2===ew[0])){e_=0;continue}if(3===ew[0]&&(!eb||ew[1]>eb[0]&&ew[1]<eb[3])){e_.label=ew[1];break}if(6===ew[0]&&e_.label<eb[1]){e_.label=eb[1],eb=ew;break}if(eb&&e_.label<eb[2]){e_.label=eb[2],e_.ops.push(ew);break}eb[2]&&e_.ops.pop(),e_.trys.pop();continue}ew=ed.call(eu,e_)}catch(eu){ew=[6,eu],em=0}finally{eg=eb=0}if(5&ew[0])throw ew[1];return{value:ew[0]?ew[1]:void 0,done:!0}}}function eM(eu,ed,eg,em){void 0===em&&(em=eg),eu[em]=ed[eg]}function eO(eu,ed){for(var eg in eu)"default"===eg||ed.hasOwnProperty(eg)||(ed[eg]=eu[eg])}function eT(eu){var ed="function"==typeof Symbol&&Symbol.iterator,eg=ed&&eu[ed],em=0;if(eg)return eg.call(eu);if(eu&&"number"==typeof eu.length)return{next:function(){return eu&&em>=eu.length&&(eu=void 0),{value:eu&&eu[em++],done:!eu}}};throw TypeError(ed?"Object is not iterable.":"Symbol.iterator is not defined.")}function eP(eu,ed){var eg="function"==typeof Symbol&&eu[Symbol.iterator];if(!eg)return eu;var em,eb,ew=eg.call(eu),e_=[];try{for(;(void 0===ed||ed-- >0)&&!(em=ew.next()).done;)e_.push(em.value)}catch(eu){eb={error:eu}}finally{try{em&&!em.done&&(eg=ew.return)&&eg.call(ew)}finally{if(eb)throw eb.error}}return e_}function eN(){for(var eu=[],ed=0;ed<arguments.length;ed++)eu=eu.concat(eP(arguments[ed]));return eu}function ek(){for(var eu=0,ed=0,eg=arguments.length;ed<eg;ed++)eu+=arguments[ed].length;for(var em=Array(eu),eb=0,ed=0;ed<eg;ed++)for(var ew=arguments[ed],e_=0,eE=ew.length;e_<eE;e_++,eb++)em[eb]=ew[e_];return em}function eR(eu){return this instanceof eR?(this.v=eu,this):new eR(eu)}function eD(eu,ed,eg){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var em,eb=eg.apply(eu,ed||[]),ew=[];return em={},e_("next"),e_("throw"),e_("return"),em[Symbol.asyncIterator]=function(){return this},em;function e_(eu){eb[eu]&&(em[eu]=function(ed){return new Promise(function(eg,em){ew.push([eu,ed,eg,em])>1||eE(eu,ed)})})}function eE(eu,ed){try{eA(eb[eu](ed))}catch(eu){eC(ew[0][3],eu)}}function eA(eu){eu.value instanceof eR?Promise.resolve(eu.value.v).then(eS,eI):eC(ew[0][2],eu)}function eS(eu){eE("next",eu)}function eI(eu){eE("throw",eu)}function eC(eu,ed){eu(ed),ew.shift(),ew.length&&eE(ew[0][0],ew[0][1])}}function eB(eu){var ed,eg;return ed={},em("next"),em("throw",function(eu){throw eu}),em("return"),ed[Symbol.iterator]=function(){return this},ed;function em(em,eb){ed[em]=eu[em]?function(ed){return(eg=!eg)?{value:eR(eu[em](ed)),done:"return"===em}:eb?eb(ed):ed}:eb}}function eU(eu){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var ed,eg=eu[Symbol.asyncIterator];return eg?eg.call(eu):(eu=eT(eu),ed={},em("next"),em("throw"),em("return"),ed[Symbol.asyncIterator]=function(){return this},ed);function em(eg){ed[eg]=eu[eg]&&function(ed){return new Promise(function(em,ew){eb(em,ew,(ed=eu[eg](ed)).done,ed.value)})}}function eb(eu,ed,eg,em){Promise.resolve(em).then(function(ed){eu({value:ed,done:eg})},ed)}}function eL(eu,ed){return Object.defineProperty?Object.defineProperty(eu,"raw",{value:ed}):eu.raw=ed,eu}function ej(eu){if(eu&&eu.__esModule)return eu;var ed={};if(null!=eu)for(var eg in eu)Object.hasOwnProperty.call(eu,eg)&&(ed[eg]=eu[eg]);return ed.default=eu,ed}function eF(eu){return eu&&eu.__esModule?eu:{default:eu}}function e$(eu,ed){if(!ed.has(eu))throw TypeError("attempted to get private field on non-instance");return ed.get(eu)}function eK(eu,ed,eg){if(!ed.has(eu))throw TypeError("attempted to set private field on non-instance");return ed.set(eu,eg),eg}},5774:function(eu,ed,eg){"use strict";eg.d(ed,{q:function(){return em}});class em{}},16220:function(eu,ed,eg){"use strict";eg.d(ed,{C$:function(){return eS},Lx:function(){return eA}});var em=eg(22699),eb=eg(10666),ew=eg(5774);class e_ extends ew.q{constructor(eu){super()}}let eE=eb.FIVE_SECONDS,eA={pulse:"heartbeat_pulse"};class eS extends e_{constructor(eu){super(eu),this.events=new em.EventEmitter,this.interval=eE,this.interval=eu?.interval||eE}static async init(eu){let ed=new eS(eu);return await ed.init(),ed}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(eu,ed){this.events.on(eu,ed)}once(eu,ed){this.events.once(eu,ed)}off(eu,ed){this.events.off(eu,ed)}removeListener(eu,ed){this.events.removeListener(eu,ed)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),(0,eb.toMiliseconds)(this.interval))}pulse(){this.events.emit(eA.pulse)}}},66282:function(eu,ed,eg){"use strict";eg.d(ed,{Z:function(){return eU},k:function(){return eU}});var em=eg(22699),eb=eg(91783),ew=eg.n(eb),e_=eg(42325),eE=eg(55494),eA=Object.defineProperty,eS=Object.defineProperties,eI=Object.getOwnPropertyDescriptors,eC=Object.getOwnPropertySymbols,eM=Object.prototype.hasOwnProperty,eO=Object.prototype.propertyIsEnumerable,eT=(eu,ed,eg)=>ed in eu?eA(eu,ed,{enumerable:!0,configurable:!0,writable:!0,value:eg}):eu[ed]=eg,eP=(eu,ed)=>{for(var eg in ed||(ed={}))eM.call(ed,eg)&&eT(eu,eg,ed[eg]);if(eC)for(var eg of eC(ed))eO.call(ed,eg)&&eT(eu,eg,ed[eg]);return eu},eN=(eu,ed)=>eS(eu,eI(ed));let ek={Accept:"application/json","Content-Type":"application/json"},eR="POST",eD={headers:ek,method:eR},eB=10;class eU{constructor(eu,ed=!1){if(this.url=eu,this.disableProviderPing=ed,this.events=new em.EventEmitter,this.isAvailable=!1,this.registering=!1,!(0,eE.isHttpUrl)(eu))throw Error(`Provided URL is not compatible with HTTP connection: ${eu}`);this.url=eu,this.disableProviderPing=ed}get connected(){return this.isAvailable}get connecting(){return this.registering}on(eu,ed){this.events.on(eu,ed)}once(eu,ed){this.events.once(eu,ed)}off(eu,ed){this.events.off(eu,ed)}removeListener(eu,ed){this.events.removeListener(eu,ed)}async open(eu=this.url){await this.register(eu)}async close(){if(!this.isAvailable)throw Error("Connection already closed");this.onClose()}async send(eu){this.isAvailable||await this.register();try{let ed=(0,e_.u)(eu),eg=await (await ew()(this.url,eN(eP({},eD),{body:ed}))).json();this.onPayload({data:eg})}catch(ed){this.onError(eu.id,ed)}}async register(eu=this.url){if(!(0,eE.isHttpUrl)(eu))throw Error(`Provided URL is not compatible with HTTP connection: ${eu}`);if(this.registering){let eu=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=eu||this.events.listenerCount("open")>=eu)&&this.events.setMaxListeners(eu+1),new Promise((eu,ed)=>{this.events.once("register_error",eu=>{this.resetMaxListeners(),ed(eu)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return ed(Error("HTTP connection is missing or invalid"));eu()})})}this.url=eu,this.registering=!0;try{if(!this.disableProviderPing){let ed=(0,e_.u)({id:1,jsonrpc:"2.0",method:"test",params:[]});await ew()(eu,eN(eP({},eD),{body:ed}))}this.onOpen()}catch(ed){let eu=this.parseError(ed);throw this.events.emit("register_error",eu),this.onClose(),eu}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(eu){if(typeof eu.data>"u")return;let ed="string"==typeof eu.data?(0,e_.D)(eu.data):eu.data;this.events.emit("payload",ed)}onError(eu,ed){let eg=this.parseError(ed),em=eg.message||eg.toString(),eb=(0,eE.formatJsonRpcError)(eu,em);this.events.emit("payload",eb)}parseError(eu,ed=this.url){return(0,eE.parseConnectionError)(eu,ed,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>eB&&this.events.setMaxListeners(eB)}}},91783:function(eu,ed,eg){var em="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==eg.g&&eg.g,eb=function(){function eu(){this.fetch=!1,this.DOMException=em.DOMException}return eu.prototype=em,new eu}();!function(eu){!function(ed){var em=void 0!==eu&&eu||"undefined"!=typeof self&&self||void 0!==eg.g&&eg.g||{},eb={searchParams:"URLSearchParams"in em,iterable:"Symbol"in em&&"iterator"in Symbol,blob:"FileReader"in em&&"Blob"in em&&function(){try{return new Blob,!0}catch(eu){return!1}}(),formData:"FormData"in em,arrayBuffer:"ArrayBuffer"in em};function ew(eu){return eu&&DataView.prototype.isPrototypeOf(eu)}if(eb.arrayBuffer)var e_=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],eE=ArrayBuffer.isView||function(eu){return eu&&e_.indexOf(Object.prototype.toString.call(eu))>-1};function eA(eu){if("string"!=typeof eu&&(eu=String(eu)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(eu)||""===eu)throw TypeError('Invalid character in header field name: "'+eu+'"');return eu.toLowerCase()}function eS(eu){return"string"!=typeof eu&&(eu=String(eu)),eu}function eI(eu){var ed={next:function(){var ed=eu.shift();return{done:void 0===ed,value:ed}}};return eb.iterable&&(ed[Symbol.iterator]=function(){return ed}),ed}function eC(eu){this.map={},eu instanceof eC?eu.forEach(function(eu,ed){this.append(ed,eu)},this):Array.isArray(eu)?eu.forEach(function(eu){if(2!=eu.length)throw TypeError("Headers constructor: expected name/value pair to be length 2, found"+eu.length);this.append(eu[0],eu[1])},this):eu&&Object.getOwnPropertyNames(eu).forEach(function(ed){this.append(ed,eu[ed])},this)}function eM(eu){if(!eu._noBody){if(eu.bodyUsed)return Promise.reject(TypeError("Already read"));eu.bodyUsed=!0}}function eO(eu){return new Promise(function(ed,eg){eu.onload=function(){ed(eu.result)},eu.onerror=function(){eg(eu.error)}})}function eT(eu){var ed=new FileReader,eg=eO(ed);return ed.readAsArrayBuffer(eu),eg}function eP(eu){var ed=new FileReader,eg=eO(ed),em=/charset=([A-Za-z0-9_-]+)/.exec(eu.type),eb=em?em[1]:"utf-8";return ed.readAsText(eu,eb),eg}function eN(eu){for(var ed=new Uint8Array(eu),eg=Array(ed.length),em=0;em<ed.length;em++)eg[em]=String.fromCharCode(ed[em]);return eg.join("")}function ek(eu){if(eu.slice)return eu.slice(0);var ed=new Uint8Array(eu.byteLength);return ed.set(new Uint8Array(eu)),ed.buffer}function eR(){return this.bodyUsed=!1,this._initBody=function(eu){this.bodyUsed=this.bodyUsed,this._bodyInit=eu,eu?"string"==typeof eu?this._bodyText=eu:eb.blob&&Blob.prototype.isPrototypeOf(eu)?this._bodyBlob=eu:eb.formData&&FormData.prototype.isPrototypeOf(eu)?this._bodyFormData=eu:eb.searchParams&&URLSearchParams.prototype.isPrototypeOf(eu)?this._bodyText=eu.toString():eb.arrayBuffer&&eb.blob&&ew(eu)?(this._bodyArrayBuffer=ek(eu.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):eb.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(eu)||eE(eu))?this._bodyArrayBuffer=ek(eu):this._bodyText=eu=Object.prototype.toString.call(eu):(this._noBody=!0,this._bodyText=""),!this.headers.get("content-type")&&("string"==typeof eu?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):eb.searchParams&&URLSearchParams.prototype.isPrototypeOf(eu)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},eb.blob&&(this.blob=function(){var eu=eM(this);if(eu)return eu;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(!this._bodyFormData)return Promise.resolve(new Blob([this._bodyText]));throw Error("could not read FormData body as blob")}),this.arrayBuffer=function(){if(this._bodyArrayBuffer)return eM(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer));if(eb.blob)return this.blob().then(eT);throw Error("could not read as ArrayBuffer")},this.text=function(){var eu=eM(this);if(eu)return eu;if(this._bodyBlob)return eP(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(eN(this._bodyArrayBuffer));if(!this._bodyFormData)return Promise.resolve(this._bodyText);throw Error("could not read FormData body as text")},eb.formData&&(this.formData=function(){return this.text().then(eL)}),this.json=function(){return this.text().then(JSON.parse)},this}eC.prototype.append=function(eu,ed){eu=eA(eu),ed=eS(ed);var eg=this.map[eu];this.map[eu]=eg?eg+", "+ed:ed},eC.prototype.delete=function(eu){delete this.map[eA(eu)]},eC.prototype.get=function(eu){return eu=eA(eu),this.has(eu)?this.map[eu]:null},eC.prototype.has=function(eu){return this.map.hasOwnProperty(eA(eu))},eC.prototype.set=function(eu,ed){this.map[eA(eu)]=eS(ed)},eC.prototype.forEach=function(eu,ed){for(var eg in this.map)this.map.hasOwnProperty(eg)&&eu.call(ed,this.map[eg],eg,this)},eC.prototype.keys=function(){var eu=[];return this.forEach(function(ed,eg){eu.push(eg)}),eI(eu)},eC.prototype.values=function(){var eu=[];return this.forEach(function(ed){eu.push(ed)}),eI(eu)},eC.prototype.entries=function(){var eu=[];return this.forEach(function(ed,eg){eu.push([eg,ed])}),eI(eu)},eb.iterable&&(eC.prototype[Symbol.iterator]=eC.prototype.entries);var eD=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function eB(eu){var ed=eu.toUpperCase();return eD.indexOf(ed)>-1?ed:eu}function eU(eu,ed){if(!(this instanceof eU))throw TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var eg=(ed=ed||{}).body;if(eu instanceof eU){if(eu.bodyUsed)throw TypeError("Already read");this.url=eu.url,this.credentials=eu.credentials,ed.headers||(this.headers=new eC(eu.headers)),this.method=eu.method,this.mode=eu.mode,this.signal=eu.signal,eg||null==eu._bodyInit||(eg=eu._bodyInit,eu.bodyUsed=!0)}else this.url=String(eu);if(this.credentials=ed.credentials||this.credentials||"same-origin",(ed.headers||!this.headers)&&(this.headers=new eC(ed.headers)),this.method=eB(ed.method||this.method||"GET"),this.mode=ed.mode||this.mode||null,this.signal=ed.signal||this.signal||function(){if("AbortController"in em)return new AbortController().signal}(),this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&eg)throw TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(eg),("GET"===this.method||"HEAD"===this.method)&&("no-store"===ed.cache||"no-cache"===ed.cache)){var eb=/([?&])_=[^&]*/;if(eb.test(this.url))this.url=this.url.replace(eb,"$1_="+new Date().getTime());else{var ew=/\?/;this.url+=(ew.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}function eL(eu){var ed=new FormData;return eu.trim().split("&").forEach(function(eu){if(eu){var eg=eu.split("="),em=eg.shift().replace(/\+/g," "),eb=eg.join("=").replace(/\+/g," ");ed.append(decodeURIComponent(em),decodeURIComponent(eb))}}),ed}function ej(eu){var ed=new eC;return eu.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(eu){return 0===eu.indexOf("\n")?eu.substr(1,eu.length):eu}).forEach(function(eu){var eg=eu.split(":"),em=eg.shift().trim();if(em){var eb=eg.join(":").trim();try{ed.append(em,eb)}catch(eu){console.warn("Response "+eu.message)}}}),ed}function eF(eu,ed){if(!(this instanceof eF))throw TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(ed||(ed={}),this.type="default",this.status=void 0===ed.status?200:ed.status,this.status<200||this.status>599)throw RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=void 0===ed.statusText?"":""+ed.statusText,this.headers=new eC(ed.headers),this.url=ed.url||"",this._initBody(eu)}eU.prototype.clone=function(){return new eU(this,{body:this._bodyInit})},eR.call(eU.prototype),eR.call(eF.prototype),eF.prototype.clone=function(){return new eF(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new eC(this.headers),url:this.url})},eF.error=function(){var eu=new eF(null,{status:200,statusText:""});return eu.ok=!1,eu.status=0,eu.type="error",eu};var e$=[301,302,303,307,308];eF.redirect=function(eu,ed){if(-1===e$.indexOf(ed))throw RangeError("Invalid status code");return new eF(null,{status:ed,headers:{location:eu}})},ed.DOMException=em.DOMException;try{new ed.DOMException}catch(eu){ed.DOMException=function(eu,ed){this.message=eu,this.name=ed;var eg=Error(eu);this.stack=eg.stack},ed.DOMException.prototype=Object.create(Error.prototype),ed.DOMException.prototype.constructor=ed.DOMException}function eK(eu,eg){return new Promise(function(ew,e_){var eE=new eU(eu,eg);if(eE.signal&&eE.signal.aborted)return e_(new ed.DOMException("Aborted","AbortError"));var eI=new XMLHttpRequest;function eM(){eI.abort()}function eO(eu){try{return""===eu&&em.location.href?em.location.href:eu}catch(ed){return eu}}if(eI.onload=function(){var eu={statusText:eI.statusText,headers:ej(eI.getAllResponseHeaders()||"")};0===eE.url.indexOf("file://")&&(eI.status<200||eI.status>599)?eu.status=200:eu.status=eI.status,eu.url="responseURL"in eI?eI.responseURL:eu.headers.get("X-Request-URL");var ed="response"in eI?eI.response:eI.responseText;setTimeout(function(){ew(new eF(ed,eu))},0)},eI.onerror=function(){setTimeout(function(){e_(TypeError("Network request failed"))},0)},eI.ontimeout=function(){setTimeout(function(){e_(TypeError("Network request timed out"))},0)},eI.onabort=function(){setTimeout(function(){e_(new ed.DOMException("Aborted","AbortError"))},0)},eI.open(eE.method,eO(eE.url),!0),"include"===eE.credentials?eI.withCredentials=!0:"omit"===eE.credentials&&(eI.withCredentials=!1),"responseType"in eI&&(eb.blob?eI.responseType="blob":eb.arrayBuffer&&(eI.responseType="arraybuffer")),eg&&"object"==typeof eg.headers&&!(eg.headers instanceof eC||em.Headers&&eg.headers instanceof em.Headers)){var eT=[];Object.getOwnPropertyNames(eg.headers).forEach(function(eu){eT.push(eA(eu)),eI.setRequestHeader(eu,eS(eg.headers[eu]))}),eE.headers.forEach(function(eu,ed){-1===eT.indexOf(ed)&&eI.setRequestHeader(ed,eu)})}else eE.headers.forEach(function(eu,ed){eI.setRequestHeader(ed,eu)});eE.signal&&(eE.signal.addEventListener("abort",eM),eI.onreadystatechange=function(){4===eI.readyState&&eE.signal.removeEventListener("abort",eM)}),eI.send(void 0===eE._bodyInit?null:eE._bodyInit)})}eK.polyfill=!0,em.fetch||(em.fetch=eK,em.Headers=eC,em.Request=eU,em.Response=eF),ed.Headers=eC,ed.Request=eU,ed.Response=eF,ed.fetch=eK,Object.defineProperty(ed,"__esModule",{value:!0})}({})}(eb),eb.fetch.ponyfill=!0,delete eb.fetch.polyfill;var ew=em.fetch?em:eb;(ed=ew.fetch).default=ew.fetch,ed.fetch=ew.fetch,ed.Headers=ew.Headers,ed.Request=ew.Request,ed.Response=ew.Response,eu.exports=ed},81154:function(eu,ed,eg){"use strict";eg.d(ed,{r:function(){return ew}});var em=eg(22699),eb=eg(55494);class ew extends eb.IJsonRpcProvider{constructor(eu){super(eu),this.events=new em.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(eu),this.connection.connected&&this.registerEventListeners()}async connect(eu=this.connection){await this.open(eu)}async disconnect(){await this.close()}on(eu,ed){this.events.on(eu,ed)}once(eu,ed){this.events.once(eu,ed)}off(eu,ed){this.events.off(eu,ed)}removeListener(eu,ed){this.events.removeListener(eu,ed)}async request(eu,ed){return this.requestStrict((0,eb.formatJsonRpcRequest)(eu.method,eu.params||[],eu.id||(0,eb.getBigIntRpcId)().toString()),ed)}async requestStrict(eu,ed){return new Promise(async(eg,em)=>{if(!this.connection.connected)try{await this.open()}catch(eu){em(eu)}this.events.on(`${eu.id}`,eu=>{(0,eb.isJsonRpcError)(eu)?em(eu.error):eg(eu.result)});try{await this.connection.send(eu,ed)}catch(eu){em(eu)}})}setConnection(eu=this.connection){return eu}onPayload(eu){this.events.emit("payload",eu),(0,eb.isJsonRpcResponse)(eu)?this.events.emit(`${eu.id}`,eu):this.events.emit("message",{type:eu.method,data:eu.params})}onClose(eu){eu&&3e3===eu.code&&this.events.emit("error",Error(`WebSocket connection closed abnormally with code: ${eu.code} ${eu.reason?`(${eu.reason})`:""}`)),this.events.emit("disconnect")}async open(eu=this.connection){this.connection===eu&&this.connection.connected||(this.connection.connected&&this.close(),"string"==typeof eu&&(await this.connection.open(eu),eu=this.connection),this.connection=this.setConnection(eu),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",eu=>this.onPayload(eu)),this.connection.on("close",eu=>this.onClose(eu)),this.connection.on("error",eu=>this.events.emit("error",eu)),this.connection.on("register_error",eu=>this.onClose()),this.hasRegisteredEventListeners=!0)}}},16392:function(eu,ed,eg){"use strict";eg.d(ed,{CA:function(){return eA},JV:function(){return eC},O4:function(){return eE},dQ:function(){return eS},xK:function(){return eI}});let em="PARSE_ERROR",eb="INVALID_REQUEST",ew="METHOD_NOT_FOUND",e_="INVALID_PARAMS",eE="INTERNAL_ERROR",eA="SERVER_ERROR",eS=[-32700,-32600,-32601,-32602,-32603],eI={[em]:{code:-32700,message:"Parse error"},[eb]:{code:-32600,message:"Invalid Request"},[ew]:{code:-32601,message:"Method not found"},[e_]:{code:-32602,message:"Invalid params"},[eE]:{code:-32603,message:"Internal error"},[eA]:{code:-32e3,message:"Server error"}},eC=eA},36786:function(eu,ed,eg){"use strict";var em=eg(5010);eg.o(em,"IJsonRpcProvider")&&eg.d(ed,{IJsonRpcProvider:function(){return em.IJsonRpcProvider}}),eg.o(em,"formatJsonRpcError")&&eg.d(ed,{formatJsonRpcError:function(){return em.formatJsonRpcError}}),eg.o(em,"formatJsonRpcRequest")&&eg.d(ed,{formatJsonRpcRequest:function(){return em.formatJsonRpcRequest}}),eg.o(em,"formatJsonRpcResult")&&eg.d(ed,{formatJsonRpcResult:function(){return em.formatJsonRpcResult}}),eg.o(em,"getBigIntRpcId")&&eg.d(ed,{getBigIntRpcId:function(){return em.getBigIntRpcId}}),eg.o(em,"isHttpUrl")&&eg.d(ed,{isHttpUrl:function(){return em.isHttpUrl}}),eg.o(em,"isJsonRpcError")&&eg.d(ed,{isJsonRpcError:function(){return em.isJsonRpcError}}),eg.o(em,"isJsonRpcRequest")&&eg.d(ed,{isJsonRpcRequest:function(){return em.isJsonRpcRequest}}),eg.o(em,"isJsonRpcResponse")&&eg.d(ed,{isJsonRpcResponse:function(){return em.isJsonRpcResponse}}),eg.o(em,"isJsonRpcResult")&&eg.d(ed,{isJsonRpcResult:function(){return em.isJsonRpcResult}}),eg.o(em,"isLocalhostUrl")&&eg.d(ed,{isLocalhostUrl:function(){return em.isLocalhostUrl}}),eg.o(em,"isReactNative")&&eg.d(ed,{isReactNative:function(){return em.isReactNative}}),eg.o(em,"isWsUrl")&&eg.d(ed,{isWsUrl:function(){return em.isWsUrl}}),eg.o(em,"payloadId")&&eg.d(ed,{payloadId:function(){return em.payloadId}})},38588:function(eu,ed,eg){"use strict";eg.d(ed,{CX:function(){return eE},L2:function(){return e_},by:function(){return ew},i5:function(){return eb}});var em=eg(16392);function eb(eu){return em.dQ.includes(eu)}function ew(eu){return Object.keys(em.xK).includes(eu)?em.xK[eu]:em.xK[em.JV]}function e_(eu){let ed=Object.values(em.xK).find(ed=>ed.code===eu);return ed||em.xK[em.JV]}function eE(eu,ed,eg){return eu.message.includes("getaddrinfo ENOTFOUND")||eu.message.includes("connect ECONNREFUSED")?Error(`Unavailable ${eg} RPC url at ${ed}`):eu}},47234:function(eu,ed,eg){"use strict";eg.d(ed,{CS:function(){return e_},RI:function(){return eS},o0:function(){return ew},sT:function(){return eE},tm:function(){return eA}});var em=eg(38588),eb=eg(16392);function ew(eu=3){let ed=Date.now()*Math.pow(10,eu),eg=Math.floor(Math.random()*Math.pow(10,eu));return ed+eg}function e_(eu=6){return BigInt(ew(eu))}function eE(eu,ed,eg){return{id:eg||ew(),jsonrpc:"2.0",method:eu,params:ed}}function eA(eu,ed){return{id:eu,jsonrpc:"2.0",result:ed}}function eS(eu,ed,eg){return{id:eu,jsonrpc:"2.0",error:eI(ed,eg)}}function eI(eu,ed){return void 0===eu?(0,em.by)(eb.O4):("string"==typeof eu&&(eu=Object.assign(Object.assign({},(0,em.by)(eb.CA)),{message:eu})),void 0!==ed&&(eu.data=ed),(0,em.i5)(eu.code)&&(eu=(0,em.L2)(eu.code)),eu)}},55494:function(eu,ed,eg){"use strict";eg.d(ed,{IJsonRpcProvider:function(){return e_.x0},formatJsonRpcError:function(){return ew.RI},formatJsonRpcRequest:function(){return ew.sT},formatJsonRpcResult:function(){return ew.tm},getBigIntRpcId:function(){return ew.CS},isHttpUrl:function(){return eE.jK},isJsonRpcError:function(){return eA.jg},isJsonRpcRequest:function(){return eA.DW},isJsonRpcResponse:function(){return eA.u},isJsonRpcResult:function(){return eA.k4},isLocalhostUrl:function(){return eE.JF},isWsUrl:function(){return eE.UZ},parseConnectionError:function(){return em.CX},payloadId:function(){return ew.o0}}),eg(16392);var em=eg(38588),eb=eg(36786);eg.o(eb,"IJsonRpcProvider")&&eg.d(ed,{IJsonRpcProvider:function(){return eb.IJsonRpcProvider}}),eg.o(eb,"formatJsonRpcError")&&eg.d(ed,{formatJsonRpcError:function(){return eb.formatJsonRpcError}}),eg.o(eb,"formatJsonRpcRequest")&&eg.d(ed,{formatJsonRpcRequest:function(){return eb.formatJsonRpcRequest}}),eg.o(eb,"formatJsonRpcResult")&&eg.d(ed,{formatJsonRpcResult:function(){return eb.formatJsonRpcResult}}),eg.o(eb,"getBigIntRpcId")&&eg.d(ed,{getBigIntRpcId:function(){return eb.getBigIntRpcId}}),eg.o(eb,"isHttpUrl")&&eg.d(ed,{isHttpUrl:function(){return eb.isHttpUrl}}),eg.o(eb,"isJsonRpcError")&&eg.d(ed,{isJsonRpcError:function(){return eb.isJsonRpcError}}),eg.o(eb,"isJsonRpcRequest")&&eg.d(ed,{isJsonRpcRequest:function(){return eb.isJsonRpcRequest}}),eg.o(eb,"isJsonRpcResponse")&&eg.d(ed,{isJsonRpcResponse:function(){return eb.isJsonRpcResponse}}),eg.o(eb,"isJsonRpcResult")&&eg.d(ed,{isJsonRpcResult:function(){return eb.isJsonRpcResult}}),eg.o(eb,"isLocalhostUrl")&&eg.d(ed,{isLocalhostUrl:function(){return eb.isLocalhostUrl}}),eg.o(eb,"isReactNative")&&eg.d(ed,{isReactNative:function(){return eb.isReactNative}}),eg.o(eb,"isWsUrl")&&eg.d(ed,{isWsUrl:function(){return eb.isWsUrl}}),eg.o(eb,"payloadId")&&eg.d(ed,{payloadId:function(){return eb.payloadId}});var ew=eg(47234),e_=eg(80498),eE=eg(43321),eA=eg(8270)},80498:function(eu,ed,eg){"use strict";eg.d(ed,{x0:function(){return ew}});class em{}class eb extends em{constructor(){super()}}class ew extends eb{constructor(eu){super()}}},43321:function(eu,ed,eg){"use strict";eg.d(ed,{JF:function(){return eS},UZ:function(){return eA},jK:function(){return eE}});let em="^https?:",eb="^wss?:";function ew(eu){let ed=eu.match(RegExp(/^\w+:/,"gi"));if(ed&&ed.length)return ed[0]}function e_(eu,ed){let eg=ew(eu);return void 0!==eg&&new RegExp(ed).test(eg)}function eE(eu){return e_(eu,em)}function eA(eu){return e_(eu,eb)}function eS(eu){return RegExp("wss?://localhost(:d{2,5})?").test(eu)}},8270:function(eu,ed,eg){"use strict";function em(eu){return"object"==typeof eu&&"id"in eu&&"jsonrpc"in eu&&"2.0"===eu.jsonrpc}function eb(eu){return em(eu)&&"method"in eu}function ew(eu){return em(eu)&&(e_(eu)||eE(eu))}function e_(eu){return"result"in eu}function eE(eu){return"error"in eu}eg.d(ed,{DW:function(){return eb},jg:function(){return eE},k4:function(){return e_},u:function(){return ew}})},94907:function(eu,ed,eg){"use strict";eg.d(ed,{Z:function(){return eC}});var em=eg(22699),eb=eg(42325),ew=eg(55494);let e_=()=>"u">typeof WebSocket?WebSocket:"u">typeof eg.g&&"u">typeof eg.g.WebSocket?eg.g.WebSocket:"u">typeof window&&"u">typeof window.WebSocket?window.WebSocket:"u">typeof self&&"u">typeof self.WebSocket?self.WebSocket:eg(77814),eE=()=>"u">typeof WebSocket||"u">typeof eg.g&&"u">typeof eg.g.WebSocket||"u">typeof window&&"u">typeof window.WebSocket||"u">typeof self&&"u">typeof self.WebSocket,eA=eu=>eu.split("?")[0],eS=10,eI=e_();class eC{constructor(eu){if(this.url=eu,this.events=new em.EventEmitter,this.registering=!1,!(0,ew.isWsUrl)(eu))throw Error(`Provided URL is not compatible with WebSocket connection: ${eu}`);this.url=eu}get connected(){return"u">typeof this.socket}get connecting(){return this.registering}on(eu,ed){this.events.on(eu,ed)}once(eu,ed){this.events.once(eu,ed)}off(eu,ed){this.events.off(eu,ed)}removeListener(eu,ed){this.events.removeListener(eu,ed)}async open(eu=this.url){await this.register(eu)}async close(){return new Promise((eu,ed)=>{if(typeof this.socket>"u"){ed(Error("Connection already closed"));return}this.socket.onclose=ed=>{this.onClose(ed),eu()},this.socket.close()})}async send(eu){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send((0,eb.u)(eu))}catch(ed){this.onError(eu.id,ed)}}register(eu=this.url){if(!(0,ew.isWsUrl)(eu))throw Error(`Provided URL is not compatible with WebSocket connection: ${eu}`);if(this.registering){let eu=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=eu||this.events.listenerCount("open")>=eu)&&this.events.setMaxListeners(eu+1),new Promise((eu,ed)=>{this.events.once("register_error",eu=>{this.resetMaxListeners(),ed(eu)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return ed(Error("WebSocket connection is missing or invalid"));eu(this.socket)})})}return this.url=eu,this.registering=!0,new Promise((ed,eg)=>{let em=(0,ew.isReactNative)()?void 0:{rejectUnauthorized:!(0,ew.isLocalhostUrl)(eu)},eb=new eI(eu,[],em);eE()?eb.onerror=eu=>{let ed=eu;eg(this.emitError(ed.error))}:eb.on("error",eu=>{eg(this.emitError(eu))}),eb.onopen=()=>{this.onOpen(eb),ed(eb)}})}onOpen(eu){eu.onmessage=eu=>this.onPayload(eu),eu.onclose=eu=>this.onClose(eu),this.socket=eu,this.registering=!1,this.events.emit("open")}onClose(eu){this.socket=void 0,this.registering=!1,this.events.emit("close",eu)}onPayload(eu){if(typeof eu.data>"u")return;let ed="string"==typeof eu.data?(0,eb.D)(eu.data):eu.data;this.events.emit("payload",ed)}onError(eu,ed){let eg=this.parseError(ed),em=eg.message||eg.toString(),eb=(0,ew.formatJsonRpcError)(eu,em);this.events.emit("payload",eb)}parseError(eu,ed=this.url){return(0,ew.parseConnectionError)(eu,eA(ed),"WS")}resetMaxListeners(){this.events.getMaxListeners()>eS&&this.events.setMaxListeners(eS)}emitError(eu){let ed=this.parseError(Error(eu?.message||`WebSocket connection failed for host: ${eA(this.url)}`));return this.events.emit("register_error",ed),ed}}},77814:function(eu){"use strict";eu.exports=function(){throw Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},23550:function(eu,ed,eg){"use strict";let em;eg.d(ed,{Z:function(){return tO}});let eb=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,ew=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,e_=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function eE(eu,ed){if("__proto__"===eu||"constructor"===eu&&ed&&"object"==typeof ed&&"prototype"in ed){eA(eu);return}return ed}function eA(eu){console.warn(`[destr] Dropping "${eu}" key to prevent prototype pollution.`)}function eS(eu,ed={}){if("string"!=typeof eu)return eu;if('"'===eu[0]&&'"'===eu[eu.length-1]&&-1===eu.indexOf("\\"))return eu.slice(1,-1);let eg=eu.trim();if(eg.length<=9)switch(eg.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!e_.test(eu)){if(ed.strict)throw SyntaxError("[destr] Invalid JSON");return eu}try{if(eb.test(eu)||ew.test(eu)){if(ed.strict)throw Error("[destr] Possible prototype pollution");return JSON.parse(eu,eE)}return JSON.parse(eu)}catch(eg){if(ed.strict)throw eg;return eu}}var eI=eg(48834).Buffer;function eC(eu){return eu&&"function"==typeof eu.then?eu:Promise.resolve(eu)}function eM(eu,...ed){try{return eC(eu(...ed))}catch(eu){return Promise.reject(eu)}}function eO(eu){let ed=typeof eu;return null===eu||"object"!==ed&&"function"!==ed}function eT(eu){let ed=Object.getPrototypeOf(eu);return!ed||ed.isPrototypeOf(Object)}function eP(eu){if(eO(eu))return String(eu);if(eT(eu)||Array.isArray(eu))return JSON.stringify(eu);if("function"==typeof eu.toJSON)return eP(eu.toJSON());throw Error("[unstorage] Cannot stringify value!")}let eN="base64:";function ek(eu){return"string"==typeof eu?eu:eN+eB(eu)}function eR(eu){return"string"==typeof eu&&eu.startsWith(eN)?eD(eu.slice(eN.length)):eu}function eD(eu){return globalThis.Buffer?eI.from(eu,"base64"):Uint8Array.from(globalThis.atob(eu),eu=>eu.codePointAt(0))}function eB(eu){return globalThis.Buffer?eI.from(eu).toString("base64"):globalThis.btoa(String.fromCodePoint(...eu))}function eU(eu){return eu&&eu.split("?")[0]?.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,"")||""}function eL(...eu){return eU(eu.join(":"))}function ej(eu){return(eu=eU(eu))?eu+":":""}function eF(eu,ed){if(void 0===ed)return!0;let eg=0,em=eu.indexOf(":");for(;em>-1;)eg++,em=eu.indexOf(":",em+1);return eg<=ed}function e$(eu,ed){return ed?eu.startsWith(ed)&&"$"!==eu[eu.length-1]:"$"!==eu[eu.length-1]}function eK(eu){return eu}let eH="memory",eV=eK(()=>{let eu=new Map;return{name:eH,getInstance:()=>eu,hasItem:ed=>eu.has(ed),getItem:ed=>eu.get(ed)??null,getItemRaw:ed=>eu.get(ed)??null,setItem(ed,eg){eu.set(ed,eg)},setItemRaw(ed,eg){eu.set(ed,eg)},removeItem(ed){eu.delete(ed)},getKeys:()=>[...eu.keys()],clear(){eu.clear()},dispose(){eu.clear()}}});function eG(eu={}){let ed={mounts:{"":eu.driver||eV()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},eg=eu=>{for(let eg of ed.mountpoints)if(eu.startsWith(eg))return{base:eg,relativeKey:eu.slice(eg.length),driver:ed.mounts[eg]};return{base:"",relativeKey:eu,driver:ed.mounts[""]}},em=(eu,eg)=>ed.mountpoints.filter(ed=>ed.startsWith(eu)||eg&&eu.startsWith(ed)).map(eg=>({relativeBase:eu.length>eg.length?eu.slice(eg.length):void 0,mountpoint:eg,driver:ed.mounts[eg]})),eb=(eu,eg)=>{if(ed.watching)for(let em of(eg=eU(eg),ed.watchListeners))em(eu,eg)},ew=async()=>{if(!ed.watching)for(let eu in ed.watching=!0,ed.mounts)ed.unwatch[eu]=await eW(ed.mounts[eu],eb,eu)},e_=async()=>{if(ed.watching){for(let eu in ed.unwatch)await ed.unwatch[eu]();ed.unwatch={},ed.watching=!1}},eE=(eu,ed,em)=>{let eb=new Map,ew=eu=>{let ed=eb.get(eu.base);return ed||(ed={driver:eu.driver,base:eu.base,items:[]},eb.set(eu.base,ed)),ed};for(let em of eu){let eu="string"==typeof em,eb=eU(eu?em:em.key),e_=eu?void 0:em.value,eE=eu||!em.options?ed:{...ed,...em.options},eA=eg(eb);ew(eA).items.push({key:eb,value:e_,relativeKey:eA.relativeKey,options:eE})}return Promise.all([...eb.values()].map(eu=>em(eu))).then(eu=>eu.flat())},eA={hasItem(eu,ed={}){eu=eU(eu);let{relativeKey:em,driver:eb}=eg(eu);return eM(eb.hasItem,em,ed)},getItem(eu,ed={}){eu=eU(eu);let{relativeKey:em,driver:eb}=eg(eu);return eM(eb.getItem,em,ed).then(eu=>eS(eu))},getItems:(eu,ed={})=>eE(eu,ed,eu=>eu.driver.getItems?eM(eu.driver.getItems,eu.items.map(eu=>({key:eu.relativeKey,options:eu.options})),ed).then(ed=>ed.map(ed=>({key:eL(eu.base,ed.key),value:eS(ed.value)}))):Promise.all(eu.items.map(ed=>eM(eu.driver.getItem,ed.relativeKey,ed.options).then(eu=>({key:ed.key,value:eS(eu)}))))),getItemRaw(eu,ed={}){eu=eU(eu);let{relativeKey:em,driver:eb}=eg(eu);return eb.getItemRaw?eM(eb.getItemRaw,em,ed):eM(eb.getItem,em,ed).then(eu=>eR(eu))},async setItem(eu,ed,em={}){if(void 0===ed)return eA.removeItem(eu);eu=eU(eu);let{relativeKey:ew,driver:e_}=eg(eu);e_.setItem&&(await eM(e_.setItem,ew,eP(ed),em),e_.watch||eb("update",eu))},async setItems(eu,ed){await eE(eu,ed,async eu=>{if(eu.driver.setItems)return eM(eu.driver.setItems,eu.items.map(eu=>({key:eu.relativeKey,value:eP(eu.value),options:eu.options})),ed);eu.driver.setItem&&await Promise.all(eu.items.map(ed=>eM(eu.driver.setItem,ed.relativeKey,eP(ed.value),ed.options)))})},async setItemRaw(eu,ed,em={}){if(void 0===ed)return eA.removeItem(eu,em);eu=eU(eu);let{relativeKey:ew,driver:e_}=eg(eu);if(e_.setItemRaw)await eM(e_.setItemRaw,ew,ed,em);else{if(!e_.setItem)return;await eM(e_.setItem,ew,ek(ed),em)}e_.watch||eb("update",eu)},async removeItem(eu,ed={}){"boolean"==typeof ed&&(ed={removeMeta:ed}),eu=eU(eu);let{relativeKey:em,driver:ew}=eg(eu);ew.removeItem&&(await eM(ew.removeItem,em,ed),(ed.removeMeta||ed.removeMata)&&await eM(ew.removeItem,em+"$",ed),ew.watch||eb("remove",eu))},async getMeta(eu,ed={}){"boolean"==typeof ed&&(ed={nativeOnly:ed}),eu=eU(eu);let{relativeKey:em,driver:eb}=eg(eu),ew=Object.create(null);if(eb.getMeta&&Object.assign(ew,await eM(eb.getMeta,em,ed)),!ed.nativeOnly){let eu=await eM(eb.getItem,em+"$",ed).then(eu=>eS(eu));eu&&"object"==typeof eu&&("string"==typeof eu.atime&&(eu.atime=new Date(eu.atime)),"string"==typeof eu.mtime&&(eu.mtime=new Date(eu.mtime)),Object.assign(ew,eu))}return ew},setMeta(eu,ed,eg={}){return this.setItem(eu+"$",ed,eg)},removeMeta(eu,ed={}){return this.removeItem(eu+"$",ed)},async getKeys(eu,ed={}){eu=ej(eu);let eg=em(eu,!0),eb=[],ew=[],e_=!0;for(let eu of eg){eu.driver.flags?.maxDepth||(e_=!1);let eg=await eM(eu.driver.getKeys,eu.relativeBase,ed);for(let ed of eg){let eg=eu.mountpoint+eU(ed);eb.some(eu=>eg.startsWith(eu))||ew.push(eg)}eb=[eu.mountpoint,...eb.filter(ed=>!ed.startsWith(eu.mountpoint))]}let eE=void 0!==ed.maxDepth&&!e_;return ew.filter(eg=>(!eE||eF(eg,ed.maxDepth))&&e$(eg,eu))},async clear(eu,ed={}){eu=ej(eu),await Promise.all(em(eu,!1).map(async eu=>{if(eu.driver.clear)return eM(eu.driver.clear,eu.relativeBase,ed);if(eu.driver.removeItem){let eg=await eu.driver.getKeys(eu.relativeBase||"",ed);return Promise.all(eg.map(eg=>eu.driver.removeItem(eg,ed)))}}))},async dispose(){await Promise.all(Object.values(ed.mounts).map(eu=>eJ(eu)))},watch:async eu=>(await ew(),ed.watchListeners.push(eu),async()=>{ed.watchListeners=ed.watchListeners.filter(ed=>ed!==eu),0===ed.watchListeners.length&&await e_()}),async unwatch(){ed.watchListeners=[],await e_()},mount(eu,eg){if((eu=ej(eu))&&ed.mounts[eu])throw Error(`already mounted at ${eu}`);return eu&&(ed.mountpoints.push(eu),ed.mountpoints.sort((eu,ed)=>ed.length-eu.length)),ed.mounts[eu]=eg,ed.watching&&Promise.resolve(eW(eg,eb,eu)).then(eg=>{ed.unwatch[eu]=eg}).catch(console.error),eA},async unmount(eu,eg=!0){(eu=ej(eu))&&ed.mounts[eu]&&(ed.watching&&eu in ed.unwatch&&(ed.unwatch[eu]?.(),delete ed.unwatch[eu]),eg&&await eJ(ed.mounts[eu]),ed.mountpoints=ed.mountpoints.filter(ed=>ed!==eu),delete ed.mounts[eu])},getMount(eu=""){eu=eU(eu)+":";let ed=eg(eu);return{driver:ed.driver,base:ed.base}},getMounts(eu="",ed={}){eu=eU(eu);let eg=em(eu,ed.parents);return eg.map(eu=>({driver:eu.driver,base:eu.mountpoint}))},keys:(eu,ed={})=>eA.getKeys(eu,ed),get:(eu,ed={})=>eA.getItem(eu,ed),set:(eu,ed,eg={})=>eA.setItem(eu,ed,eg),has:(eu,ed={})=>eA.hasItem(eu,ed),del:(eu,ed={})=>eA.removeItem(eu,ed),remove:(eu,ed={})=>eA.removeItem(eu,ed)};return eA}function eW(eu,ed,eg){return eu.watch?eu.watch((eu,em)=>ed(eu,eg+em)):()=>{}}async function eJ(eu){"function"==typeof eu.dispose&&await eM(eu.dispose)}function eZ(eu){return new Promise((ed,eg)=>{eu.oncomplete=eu.onsuccess=()=>ed(eu.result),eu.onabort=eu.onerror=()=>eg(eu.error)})}function eY(eu,ed){let eg;let em=()=>{if(eg)return eg;let em=indexedDB.open(eu);return em.onupgradeneeded=()=>em.result.createObjectStore(ed),(eg=eZ(em)).then(eu=>{eu.onclose=()=>eg=void 0},()=>{}),eg};return(eu,eg)=>em().then(em=>eg(em.transaction(ed,eu).objectStore(ed)))}function eX(){return em||(em=eY("keyval-store","keyval")),em}function eQ(eu,ed=eX()){return ed("readonly",ed=>eZ(ed.get(eu)))}function e0(eu,ed,eg=eX()){return eg("readwrite",eg=>(eg.put(ed,eu),eZ(eg.transaction)))}function e6(eu,ed=eX()){return ed("readwrite",ed=>(ed.delete(eu),eZ(ed.transaction)))}function e8(eu=eX()){return eu("readwrite",eu=>(eu.clear(),eZ(eu.transaction)))}function e5(eu,ed){return eu.openCursor().onsuccess=function(){this.result&&(ed(this.result),this.result.continue())},eZ(eu.transaction)}function e9(eu=eX()){return eu("readonly",eu=>{if(eu.getAllKeys)return eZ(eu.getAllKeys());let ed=[];return e5(eu,eu=>ed.push(eu.key)).then(()=>ed)})}var e7=eg(42325);let tu="idb-keyval";var th=(eu={})=>{let ed;let eg=eu.base&&eu.base.length>0?`${eu.base}:`:"",em=eu=>eg+eu;return eu.dbName&&eu.storeName&&(ed=eY(eu.dbName,eu.storeName)),{name:tu,options:eu,hasItem:async eu=>!(typeof await eQ(em(eu),ed)>"u"),getItem:async eu=>await eQ(em(eu),ed)??null,setItem:(eu,eg)=>e0(em(eu),eg,ed),removeItem:eu=>e6(em(eu),ed),getKeys:()=>e9(ed),clear:()=>e8(ed)}};let td="WALLET_CONNECT_V2_INDEXED_DB",tg="keyvaluestorage";class ty{constructor(){this.indexedDb=eG({driver:th({dbName:td,storeName:tg})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(eu=>[eu.key,eu.value])}async getItem(eu){let ed=await this.indexedDb.getItem(eu);if(null!==ed)return ed}async setItem(eu,ed){await this.indexedDb.setItem(eu,(0,e7.u)(ed))}async removeItem(eu){await this.indexedDb.removeItem(eu)}}var tb="u">typeof globalThis?globalThis:"u">typeof window?window:"u">typeof eg.g?eg.g:"u">typeof self?self:{},tw={exports:{}};function t_(eu){var ed;return[eu[0],(0,e7.D)(null!=(ed=eu[1])?ed:"")]}!function(){let eu;function ed(){}(eu=ed).prototype.getItem=function(eu){return this.hasOwnProperty(eu)?String(this[eu]):null},eu.prototype.setItem=function(eu,ed){this[eu]=String(ed)},eu.prototype.removeItem=function(eu){delete this[eu]},eu.prototype.clear=function(){let eu=this;Object.keys(eu).forEach(function(ed){eu[ed]=void 0,delete eu[ed]})},eu.prototype.key=function(eu){return eu=eu||0,Object.keys(this)[eu]},eu.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),"u">typeof tb&&tb.localStorage?tw.exports=tb.localStorage:"u">typeof window&&window.localStorage?tw.exports=window.localStorage:tw.exports=new ed}();class tE{constructor(){this.localStorage=tw.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(t_)}async getItem(eu){let ed=this.localStorage.getItem(eu);if(null!==ed)return(0,e7.D)(ed)}async setItem(eu,ed){this.localStorage.setItem(eu,(0,e7.u)(ed))}async removeItem(eu){this.localStorage.removeItem(eu)}}let tA="wc_storage_version",tS=1,tI=async(eu,ed,eg)=>{let em=tA,eb=await ed.getItem(em);if(eb&&eb>=tS){eg(ed);return}let ew=await eu.getKeys();if(!ew.length){eg(ed);return}let e_=[];for(;ew.length;){let eg=ew.shift();if(!eg)continue;let em=eg.toLowerCase();if(em.includes("wc@")||em.includes("walletconnect")||em.includes("wc_")||em.includes("wallet_connect")){let em=await eu.getItem(eg);await ed.setItem(eg,em),e_.push(eg)}}await ed.setItem(em,tS),eg(ed),tC(eu,e_)},tC=async(eu,ed)=>{ed.length&&ed.forEach(async ed=>{await eu.removeItem(ed)})};class tO{constructor(){this.initialized=!1,this.setInitialized=eu=>{this.storage=eu,this.initialized=!0};let eu=new tE;this.storage=eu;try{let ed=new ty;tI(eu,ed,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(eu){return await this.initialize(),this.storage.getItem(eu)}async setItem(eu,ed){return await this.initialize(),this.storage.setItem(eu,ed)}async removeItem(eu){return await this.initialize(),this.storage.removeItem(eu)}async initialize(){this.initialized||await new Promise(eu=>{let ed=setInterval(()=>{this.initialized&&(clearInterval(ed),eu())},20)})}}},18776:function(eu,ed,eg){"use strict";eg.d(ed,{Ep:function(){return eV},Fd:function(){return eK},Rt:function(){return eJ},gw:function(){return eb.a},jI:function(){return ej}});var em=eg(69413),eb=eg.n(em),ew=eg(42325);let e_={level:"info"},eE="custom_context",eA=1024e3;class eS{constructor(eu){this.nodeValue=eu,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}}class eI{constructor(eu){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=eu,this.sizeInBytes=0}append(eu){let ed=new eS(eu);if(ed.size>this.maxSizeInBytes)throw Error(`[LinkedList] Value too big to insert into list: ${eu} with size ${ed.size}`);for(;this.size+ed.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=ed),this.tail=ed):(this.head=ed,this.tail=ed),this.lengthInNodes++,this.sizeInBytes+=ed.size}shift(){if(!this.head)return;let eu=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=eu.size}toArray(){let eu=[],ed=this.head;for(;null!==ed;)eu.push(ed.value),ed=ed.next;return eu}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let eu=this.head;return{next:()=>{if(!eu)return{done:!0,value:null};let ed=eu.value;return eu=eu.next,{done:!1,value:ed}}}}}class eC{constructor(eu,ed=eA){this.level=eu??"error",this.levelValue=em.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=ed,this.logs=new eI(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(eu,ed){ed===em.levels.values.error?console.error(eu):ed===em.levels.values.warn?console.warn(eu):ed===em.levels.values.debug?console.debug(eu):ed===em.levels.values.trace?console.trace(eu):console.log(eu)}appendToLogs(eu){this.logs.append((0,ew.u)({timestamp:new Date().toISOString(),log:eu}));let ed="string"==typeof eu?JSON.parse(eu).level:eu.level;ed>=this.levelValue&&this.forwardToConsole(eu,ed)}getLogs(){return this.logs}clearLogs(){this.logs=new eI(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(eu){let ed=this.getLogArray();return ed.push((0,ew.u)({extraMetadata:eu})),new Blob(ed,{type:"application/json"})}}class eM{constructor(eu,ed=eA){this.baseChunkLogger=new eC(eu,ed)}write(eu){this.baseChunkLogger.appendToLogs(eu)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(eu){return this.baseChunkLogger.logsToBlob(eu)}downloadLogsBlobInBrowser(eu){let ed=URL.createObjectURL(this.logsToBlob(eu)),eg=document.createElement("a");eg.href=ed,eg.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(eg),eg.click(),document.body.removeChild(eg),URL.revokeObjectURL(ed)}}class eO{constructor(eu,ed=eA){this.baseChunkLogger=new eC(eu,ed)}write(eu){this.baseChunkLogger.appendToLogs(eu)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(eu){return this.baseChunkLogger.logsToBlob(eu)}}var eT=Object.defineProperty,eP=Object.defineProperties,eN=Object.getOwnPropertyDescriptors,ek=Object.getOwnPropertySymbols,eR=Object.prototype.hasOwnProperty,eD=Object.prototype.propertyIsEnumerable,eB=(eu,ed,eg)=>ed in eu?eT(eu,ed,{enumerable:!0,configurable:!0,writable:!0,value:eg}):eu[ed]=eg,eU=(eu,ed)=>{for(var eg in ed||(ed={}))eR.call(ed,eg)&&eB(eu,eg,ed[eg]);if(ek)for(var eg of ek(ed))eD.call(ed,eg)&&eB(eu,eg,ed[eg]);return eu},eL=(eu,ed)=>eP(eu,eN(ed));function ej(eu){return eL(eU({},eu),{level:eu?.level||e_.level})}function eF(eu,ed=eE){return eu[ed]||""}function e$(eu,ed,eg=eE){return eu[eg]=ed,eu}function eK(eu,ed=eE){return typeof eu.bindings>"u"?eF(eu,ed):eu.bindings().context||""}function eH(eu,ed,eg=eE){let em=eK(eu,eg);return em.trim()?`${em}/${ed}`:ed}function eV(eu,ed,eg=eE){let em=eH(eu,ed,eg),eb=eu.child({context:em});return e$(eb,em,eg)}function eG(eu){var ed,eg;let em=new eM(null==(ed=eu.opts)?void 0:ed.level,eu.maxSizeInBytes);return{logger:eb()(eL(eU({},eu.opts),{level:"trace",browser:eL(eU({},null==(eg=eu.opts)?void 0:eg.browser),{write:eu=>em.write(eu)})})),chunkLoggerController:em}}function eW(eu){var ed;let eg=new eO(null==(ed=eu.opts)?void 0:ed.level,eu.maxSizeInBytes);return{logger:eb()(eL(eU({},eu.opts),{level:"trace"}),eg),chunkLoggerController:eg}}function eJ(eu){return"u">typeof eu.loggerOverride&&"string"!=typeof eu.loggerOverride?{logger:eu.loggerOverride,chunkLoggerController:null}:"u">typeof window?eG(eu):eW(eu)}},27546:function(eu,ed,eg){"use strict";eg.d(ed,{iO:function(){return em}});let em={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}}},89406:function(eu,ed,eg){"use strict";eg.d(ed,{Au:function(){return oL},bG:function(){return oP},vf:function(){return oj},xp:function(){return oU}});var em=eg(10666),eb=eg(42325);function ew(eu){return eu instanceof Uint8Array||ArrayBuffer.isView(eu)&&"Uint8Array"===eu.constructor.name}function e_(eu,...ed){if(!ew(eu))throw Error("Uint8Array expected");if(ed.length>0&&!ed.includes(eu.length))throw Error("Uint8Array expected of length "+ed+", got length="+eu.length)}function eE(eu,ed=!0){if(eu.destroyed)throw Error("Hash instance has been destroyed");if(ed&&eu.finished)throw Error("Hash#digest() has already been called")}function eA(eu,ed){e_(eu);let eg=ed.outputLen;if(eu.length<eg)throw Error("digestInto() expects output buffer of length at least "+eg)}let eS="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,eI=eu=>new DataView(eu.buffer,eu.byteOffset,eu.byteLength);/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function eC(eu){if("string"!=typeof eu)throw Error("utf8ToBytes expected string, got "+typeof eu);return new Uint8Array(new TextEncoder().encode(eu))}function eM(eu){return"string"==typeof eu&&(eu=eC(eu)),e_(eu),eu}class eO{clone(){return this._cloneInto()}}function eT(eu){let ed=ed=>eu().update(eM(ed)).digest(),eg=eu();return ed.outputLen=eg.outputLen,ed.blockLen=eg.blockLen,ed.create=()=>eu(),ed}function eP(eu=32){if(eS&&"function"==typeof eS.getRandomValues)return eS.getRandomValues(new Uint8Array(eu));if(eS&&"function"==typeof eS.randomBytes)return eS.randomBytes(eu);throw Error("crypto.getRandomValues must be defined")}function eN(eu,ed,eg,em){if("function"==typeof eu.setBigUint64)return eu.setBigUint64(ed,eg,em);let eb=BigInt(32),ew=BigInt(4294967295),e_=Number(eg>>eb&ew),eE=Number(eg&ew),eA=em?4:0,eS=em?0:4;eu.setUint32(ed+eA,e_,em),eu.setUint32(ed+eS,eE,em)}class ek extends eO{constructor(eu,ed,eg,em){super(),this.blockLen=eu,this.outputLen=ed,this.padOffset=eg,this.isLE=em,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(eu),this.view=eI(this.buffer)}update(eu){eE(this);let{view:ed,buffer:eg,blockLen:em}=this;eu=eM(eu);let eb=eu.length;for(let ew=0;ew<eb;){let e_=Math.min(em-this.pos,eb-ew);if(e_===em){let ed=eI(eu);for(;em<=eb-ew;ew+=em)this.process(ed,ew);continue}eg.set(eu.subarray(ew,ew+e_),this.pos),this.pos+=e_,ew+=e_,this.pos===em&&(this.process(ed,0),this.pos=0)}return this.length+=eu.length,this.roundClean(),this}digestInto(eu){eE(this),eA(eu,this),this.finished=!0;let{buffer:ed,view:eg,blockLen:em,isLE:eb}=this,{pos:ew}=this;ed[ew++]=128,this.buffer.subarray(ew).fill(0),this.padOffset>em-ew&&(this.process(eg,0),ew=0);for(let eu=ew;eu<em;eu++)ed[eu]=0;eN(eg,em-8,BigInt(8*this.length),eb),this.process(eg,0);let e_=eI(eu),eS=this.outputLen;if(eS%4)throw Error("_sha2: outputLen should be aligned to 32bit");let eC=eS/4,eM=this.get();if(eC>eM.length)throw Error("_sha2: outputLen bigger than state");for(let eu=0;eu<eC;eu++)e_.setUint32(4*eu,eM[eu],eb)}digest(){let{buffer:eu,outputLen:ed}=this;this.digestInto(eu);let eg=eu.slice(0,ed);return this.destroy(),eg}_cloneInto(eu){eu||(eu=new this.constructor),eu.set(...this.get());let{blockLen:ed,buffer:eg,length:em,finished:eb,destroyed:ew,pos:e_}=this;return eu.length=em,eu.pos=e_,eu.finished=eb,eu.destroyed=ew,em%ed&&eu.buffer.set(eg),eu}}let eR=BigInt(4294967296-1),eD=BigInt(32);function eB(eu,ed=!1){return ed?{h:Number(eu&eR),l:Number(eu>>eD&eR)}:{h:0|Number(eu>>eD&eR),l:0|Number(eu&eR)}}function eU(eu,ed=!1){let eg=new Uint32Array(eu.length),em=new Uint32Array(eu.length);for(let eb=0;eb<eu.length;eb++){let{h:ew,l:e_}=eB(eu[eb],ed);[eg[eb],em[eb]]=[ew,e_]}return[eg,em]}let eL=(eu,ed)=>BigInt(eu>>>0)<<eD|BigInt(ed>>>0),ej=(eu,ed,eg)=>eu>>>eg,eF=(eu,ed,eg)=>eu<<32-eg|ed>>>eg,e$=(eu,ed,eg)=>eu>>>eg|ed<<32-eg,eK=(eu,ed,eg)=>eu<<32-eg|ed>>>eg,eH=(eu,ed,eg)=>eu<<64-eg|ed>>>eg-32,eV=(eu,ed,eg)=>eu>>>eg-32|ed<<64-eg,eG=(eu,ed)=>ed,eW=(eu,ed)=>eu,eJ=(eu,ed,eg)=>eu<<eg|ed>>>32-eg,eZ=(eu,ed,eg)=>ed<<eg|eu>>>32-eg,eY=(eu,ed,eg)=>ed<<eg-32|eu>>>64-eg,eX=(eu,ed,eg)=>eu<<eg-32|ed>>>64-eg;function eQ(eu,ed,eg,em){let eb=(ed>>>0)+(em>>>0);return{h:eu+eg+(eb/4294967296|0)|0,l:0|eb}}let e0=(eu,ed,eg)=>(eu>>>0)+(ed>>>0)+(eg>>>0),e6=(eu,ed,eg,em)=>ed+eg+em+(eu/4294967296|0)|0,e8=(eu,ed,eg,em)=>(eu>>>0)+(ed>>>0)+(eg>>>0)+(em>>>0),e5=(eu,ed,eg,em,eb)=>ed+eg+em+eb+(eu/4294967296|0)|0,e9=(eu,ed,eg,em,eb)=>(eu>>>0)+(ed>>>0)+(eg>>>0)+(em>>>0)+(eb>>>0),e7=(eu,ed,eg,em,eb,ew)=>ed+eg+em+eb+ew+(eu/4294967296|0)|0,tu={fromBig:eB,split:eU,toBig:eL,shrSH:ej,shrSL:eF,rotrSH:e$,rotrSL:eK,rotrBH:eH,rotrBL:eV,rotr32H:eG,rotr32L:eW,rotlSH:eJ,rotlSL:eZ,rotlBH:eY,rotlBL:eX,add:eQ,add3L:e0,add3H:e6,add4L:e8,add4H:e5,add5H:e7,add5L:e9},[th,td]=tu.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(eu=>BigInt(eu))),tg=new Uint32Array(80),ty=new Uint32Array(80);class tb extends ek{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:eu,Al:ed,Bh:eg,Bl:em,Ch:eb,Cl:ew,Dh:e_,Dl:eE,Eh:eA,El:eS,Fh:eI,Fl:eC,Gh:eM,Gl:eO,Hh:eT,Hl:eP}=this;return[eu,ed,eg,em,eb,ew,e_,eE,eA,eS,eI,eC,eM,eO,eT,eP]}set(eu,ed,eg,em,eb,ew,e_,eE,eA,eS,eI,eC,eM,eO,eT,eP){this.Ah=0|eu,this.Al=0|ed,this.Bh=0|eg,this.Bl=0|em,this.Ch=0|eb,this.Cl=0|ew,this.Dh=0|e_,this.Dl=0|eE,this.Eh=0|eA,this.El=0|eS,this.Fh=0|eI,this.Fl=0|eC,this.Gh=0|eM,this.Gl=0|eO,this.Hh=0|eT,this.Hl=0|eP}process(eu,ed){for(let eg=0;eg<16;eg++,ed+=4)tg[eg]=eu.getUint32(ed),ty[eg]=eu.getUint32(ed+=4);for(let eu=16;eu<80;eu++){let ed=0|tg[eu-15],eg=0|ty[eu-15],em=tu.rotrSH(ed,eg,1)^tu.rotrSH(ed,eg,8)^tu.shrSH(ed,eg,7),eb=tu.rotrSL(ed,eg,1)^tu.rotrSL(ed,eg,8)^tu.shrSL(ed,eg,7),ew=0|tg[eu-2],e_=0|ty[eu-2],eE=tu.rotrSH(ew,e_,19)^tu.rotrBH(ew,e_,61)^tu.shrSH(ew,e_,6),eA=tu.rotrSL(ew,e_,19)^tu.rotrBL(ew,e_,61)^tu.shrSL(ew,e_,6),eS=tu.add4L(eb,eA,ty[eu-7],ty[eu-16]),eI=tu.add4H(eS,em,eE,tg[eu-7],tg[eu-16]);tg[eu]=0|eI,ty[eu]=0|eS}let{Ah:eg,Al:em,Bh:eb,Bl:ew,Ch:e_,Cl:eE,Dh:eA,Dl:eS,Eh:eI,El:eC,Fh:eM,Fl:eO,Gh:eT,Gl:eP,Hh:eN,Hl:ek}=this;for(let eu=0;eu<80;eu++){let ed=tu.rotrSH(eI,eC,14)^tu.rotrSH(eI,eC,18)^tu.rotrBH(eI,eC,41),eR=tu.rotrSL(eI,eC,14)^tu.rotrSL(eI,eC,18)^tu.rotrBL(eI,eC,41),eD=eI&eM^~eI&eT,eB=eC&eO^~eC&eP,eU=tu.add5L(ek,eR,eB,td[eu],ty[eu]),eL=tu.add5H(eU,eN,ed,eD,th[eu],tg[eu]),ej=0|eU,eF=tu.rotrSH(eg,em,28)^tu.rotrBH(eg,em,34)^tu.rotrBH(eg,em,39),e$=tu.rotrSL(eg,em,28)^tu.rotrBL(eg,em,34)^tu.rotrBL(eg,em,39),eK=eg&eb^eg&e_^eb&e_,eH=em&ew^em&eE^ew&eE;eN=0|eT,ek=0|eP,eT=0|eM,eP=0|eO,eM=0|eI,eO=0|eC,({h:eI,l:eC}=tu.add(0|eA,0|eS,0|eL,0|ej)),eA=0|e_,eS=0|eE,e_=0|eb,eE=0|ew,eb=0|eg,ew=0|em;let eV=tu.add3L(ej,e$,eH);eg=tu.add3H(eV,eL,eF,eK),em=0|eV}({h:eg,l:em}=tu.add(0|this.Ah,0|this.Al,0|eg,0|em)),({h:eb,l:ew}=tu.add(0|this.Bh,0|this.Bl,0|eb,0|ew)),({h:e_,l:eE}=tu.add(0|this.Ch,0|this.Cl,0|e_,0|eE)),({h:eA,l:eS}=tu.add(0|this.Dh,0|this.Dl,0|eA,0|eS)),({h:eI,l:eC}=tu.add(0|this.Eh,0|this.El,0|eI,0|eC)),({h:eM,l:eO}=tu.add(0|this.Fh,0|this.Fl,0|eM,0|eO)),({h:eT,l:eP}=tu.add(0|this.Gh,0|this.Gl,0|eT,0|eP)),({h:eN,l:ek}=tu.add(0|this.Hh,0|this.Hl,0|eN,0|ek)),this.set(eg,em,eb,ew,e_,eE,eA,eS,eI,eC,eM,eO,eT,eP,eN,ek)}roundClean(){tg.fill(0),ty.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}let tw=eT(()=>new tb),t_=BigInt(0),tE=BigInt(1),tA=BigInt(2);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function tS(eu){return eu instanceof Uint8Array||ArrayBuffer.isView(eu)&&"Uint8Array"===eu.constructor.name}function tI(eu){if(!tS(eu))throw Error("Uint8Array expected")}function tC(eu,ed){if("boolean"!=typeof ed)throw Error(eu+" boolean expected, got "+ed)}let tO=Array.from({length:256},(eu,ed)=>ed.toString(16).padStart(2,"0"));function tT(eu){tI(eu);let ed="";for(let eg=0;eg<eu.length;eg++)ed+=tO[eu[eg]];return ed}function tP(eu){if("string"!=typeof eu)throw Error("hex string expected, got "+typeof eu);return""===eu?t_:BigInt("0x"+eu)}let tN={_0:48,_9:57,A:65,F:70,a:97,f:102};function tR(eu){return eu>=tN._0&&eu<=tN._9?eu-tN._0:eu>=tN.A&&eu<=tN.F?eu-(tN.A-10):eu>=tN.a&&eu<=tN.f?eu-(tN.a-10):void 0}function tD(eu){if("string"!=typeof eu)throw Error("hex string expected, got "+typeof eu);let ed=eu.length,eg=ed/2;if(ed%2)throw Error("hex string expected, got unpadded hex of length "+ed);let em=new Uint8Array(eg);for(let ed=0,eb=0;ed<eg;ed++,eb+=2){let eg=tR(eu.charCodeAt(eb)),ew=tR(eu.charCodeAt(eb+1));if(void 0===eg||void 0===ew){let ed=eu[eb]+eu[eb+1];throw Error('hex string expected, got non-hex character "'+ed+'" at index '+eb)}em[ed]=16*eg+ew}return em}function tB(eu){return tP(tT(eu))}function tU(eu){return tI(eu),tP(tT(Uint8Array.from(eu).reverse()))}function tL(eu,ed){return tD(eu.toString(16).padStart(2*ed,"0"))}function tj(eu,ed){return tL(eu,ed).reverse()}function tF(eu,ed,eg){let em;if("string"==typeof ed)try{em=tD(ed)}catch(ed){throw Error(eu+" must be hex string or Uint8Array, cause: "+ed)}else if(tS(ed))em=Uint8Array.from(ed);else throw Error(eu+" must be hex string or Uint8Array");let eb=em.length;if("number"==typeof eg&&eb!==eg)throw Error(eu+" of length "+eg+" expected, got "+eb);return em}function t$(...eu){let ed=0;for(let eg=0;eg<eu.length;eg++){let em=eu[eg];tI(em),ed+=em.length}let eg=new Uint8Array(ed);for(let ed=0,em=0;ed<eu.length;ed++){let eb=eu[ed];eg.set(eb,em),em+=eb.length}return eg}let tK=eu=>"bigint"==typeof eu&&t_<=eu;function tq(eu,ed,eg){return tK(eu)&&tK(ed)&&tK(eg)&&ed<=eu&&eu<eg}function tz(eu,ed,eg,em){if(!tq(ed,eg,em))throw Error("expected valid "+eu+": "+eg+" <= n < "+em+", got "+ed)}function tH(eu){let ed;for(ed=0;eu>t_;eu>>=tE,ed+=1);return ed}let tV=eu=>(tA<<BigInt(eu-1))-tE,tG={bigint:eu=>"bigint"==typeof eu,function:eu=>"function"==typeof eu,boolean:eu=>"boolean"==typeof eu,string:eu=>"string"==typeof eu,stringOrUint8Array:eu=>"string"==typeof eu||tS(eu),isSafeInteger:eu=>Number.isSafeInteger(eu),array:eu=>Array.isArray(eu),field:(eu,ed)=>ed.Fp.isValid(eu),hash:eu=>"function"==typeof eu&&Number.isSafeInteger(eu.outputLen)};function tW(eu,ed,eg={}){let em=(ed,eg,em)=>{let eb=tG[eg];if("function"!=typeof eb)throw Error("invalid validator function");let ew=eu[ed];if(!(em&&void 0===ew)&&!eb(ew,eu))throw Error("param "+String(ed)+" is invalid. Expected "+eg+", got "+ew)};for(let[eu,eg]of Object.entries(ed))em(eu,eg,!1);for(let[eu,ed]of Object.entries(eg))em(eu,ed,!0);return eu}function tJ(eu){let ed=new WeakMap;return(eg,...em)=>{let eb=ed.get(eg);if(void 0!==eb)return eb;let ew=eu(eg,...em);return ed.set(eg,ew),ew}}let tZ=BigInt(0),tY=BigInt(1),tX=BigInt(2),tQ=BigInt(3),t6=BigInt(4),t8=BigInt(5),t5=BigInt(8);function t4(eu,ed){let eg=eu%ed;return eg>=tZ?eg:ed+eg}function t9(eu,ed,eg){if(ed<tZ)throw Error("invalid exponent, negatives unsupported");if(eg<=tZ)throw Error("invalid modulus");if(eg===tY)return tZ;let em=tY;for(;ed>tZ;)ed&tY&&(em=em*eu%eg),eu=eu*eu%eg,ed>>=tY;return em}function t7(eu,ed,eg){let em=eu;for(;ed-- >tZ;)em*=em,em%=eg;return em}function ru(eu,ed){if(eu===tZ)throw Error("invert: expected non-zero number");if(ed<=tZ)throw Error("invert: expected positive modulus, got "+ed);let eg=t4(eu,ed),em=ed,eb=tZ,ew=tY;for(;eg!==tZ;){let eu=em/eg,ed=em%eg,e_=eb-ew*eu;em=eg,eg=ed,eb=ew,ew=e_}if(em!==tY)throw Error("invert: does not exist");return t4(eb,ed)}function rd(eu){let ed,eg,em;let eb=(eu-tY)/tX;for(ed=eu-tY,eg=0;ed%tX===tZ;ed/=tX,eg++);for(em=tX;em<eu&&t9(em,eb,eu)!==eu-tY;em++)if(em>1e3)throw Error("Cannot find square root: likely non-prime P");if(1===eg){let ed=(eu+tY)/t6;return function(eu,eg){let em=eu.pow(eg,ed);if(!eu.eql(eu.sqr(em),eg))throw Error("Cannot find square root");return em}}let ew=(ed+tY)/tX;return function(eu,e_){if(eu.pow(e_,eb)===eu.neg(eu.ONE))throw Error("Cannot find square root");let eE=eg,eA=eu.pow(eu.mul(eu.ONE,em),ed),eS=eu.pow(e_,ew),eI=eu.pow(e_,ed);for(;!eu.eql(eI,eu.ONE);){if(eu.eql(eI,eu.ZERO))return eu.ZERO;let ed=1;for(let eg=eu.sqr(eI);ed<eE&&!eu.eql(eg,eu.ONE);ed++)eg=eu.sqr(eg);let eg=eu.pow(eA,tY<<BigInt(eE-ed-1));eA=eu.sqr(eg),eS=eu.mul(eS,eg),eI=eu.mul(eI,eA),eE=ed}return eS}}function rp(eu){if(eu%t6===tQ){let ed=(eu+tY)/t6;return function(eu,eg){let em=eu.pow(eg,ed);if(!eu.eql(eu.sqr(em),eg))throw Error("Cannot find square root");return em}}if(eu%t5===t8){let ed=(eu-t8)/t5;return function(eu,eg){let em=eu.mul(eg,tX),eb=eu.pow(em,ed),ew=eu.mul(eg,eb),e_=eu.mul(eu.mul(ew,tX),eb),eE=eu.mul(ew,eu.sub(e_,eu.ONE));if(!eu.eql(eu.sqr(eE),eg))throw Error("Cannot find square root");return eE}}return rd(eu)}let rg=(eu,ed)=>(t4(eu,ed)&tY)===tY,ry=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function rw(eu){let ed={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},eg=ry.reduce((eu,ed)=>(eu[ed]="function",eu),ed);return tW(eu,eg)}function r_(eu,ed,eg){if(eg<tZ)throw Error("invalid exponent, negatives unsupported");if(eg===tZ)return eu.ONE;if(eg===tY)return ed;let em=eu.ONE,eb=ed;for(;eg>tZ;)eg&tY&&(em=eu.mul(em,eb)),eb=eu.sqr(eb),eg>>=tY;return em}function rE(eu,ed){let eg=Array(ed.length),em=ed.reduce((ed,em,eb)=>eu.is0(em)?ed:(eg[eb]=ed,eu.mul(ed,em)),eu.ONE),eb=eu.inv(em);return ed.reduceRight((ed,em,eb)=>eu.is0(em)?ed:(eg[eb]=eu.mul(ed,eg[eb]),eu.mul(ed,em)),eb),eg}function rA(eu,ed){let eg=void 0!==ed?ed:eu.toString(2).length,em=Math.ceil(eg/8);return{nBitLength:eg,nByteLength:em}}function rS(eu,ed,eg=!1,em={}){let eb;if(eu<=tZ)throw Error("invalid field: expected ORDER > 0, got "+eu);let{nBitLength:ew,nByteLength:e_}=rA(eu,ed);if(e_>2048)throw Error("invalid field: expected ORDER of <= 2048 bytes");let eE=Object.freeze({ORDER:eu,isLE:eg,BITS:ew,BYTES:e_,MASK:tV(ew),ZERO:tZ,ONE:tY,create:ed=>t4(ed,eu),isValid:ed=>{if("bigint"!=typeof ed)throw Error("invalid field element: expected bigint, got "+typeof ed);return tZ<=ed&&ed<eu},is0:eu=>eu===tZ,isOdd:eu=>(eu&tY)===tY,neg:ed=>t4(-ed,eu),eql:(eu,ed)=>eu===ed,sqr:ed=>t4(ed*ed,eu),add:(ed,eg)=>t4(ed+eg,eu),sub:(ed,eg)=>t4(ed-eg,eu),mul:(ed,eg)=>t4(ed*eg,eu),pow:(eu,ed)=>r_(eE,eu,ed),div:(ed,eg)=>t4(ed*ru(eg,eu),eu),sqrN:eu=>eu*eu,addN:(eu,ed)=>eu+ed,subN:(eu,ed)=>eu-ed,mulN:(eu,ed)=>eu*ed,inv:ed=>ru(ed,eu),sqrt:em.sqrt||(ed=>(eb||(eb=rp(eu)),eb(eE,ed))),invertBatch:eu=>rE(eE,eu),cmov:(eu,ed,eg)=>eg?ed:eu,toBytes:eu=>eg?tj(eu,e_):tL(eu,e_),fromBytes:eu=>{if(eu.length!==e_)throw Error("Field.fromBytes: expected "+e_+" bytes, got "+eu.length);return eg?tU(eu):tB(eu)}});return Object.freeze(eE)}let rI=BigInt(0),rC=BigInt(1);function rM(eu,ed){let eg=ed.negate();return eu?eg:ed}function rO(eu,ed){if(!Number.isSafeInteger(eu)||eu<=0||eu>ed)throw Error("invalid window size, expected [1.."+ed+"], got W="+eu)}function rT(eu,ed){rO(eu,ed);let eg=Math.ceil(ed/eu)+1,em=2**(eu-1);return{windows:eg,windowSize:em}}function rP(eu,ed){if(!Array.isArray(eu))throw Error("array expected");eu.forEach((eu,eg)=>{if(!(eu instanceof ed))throw Error("invalid point at index "+eg)})}function rN(eu,ed){if(!Array.isArray(eu))throw Error("array of scalars expected");eu.forEach((eu,eg)=>{if(!ed.isValid(eu))throw Error("invalid scalar at index "+eg)})}let rR=new WeakMap,rD=new WeakMap;function rB(eu){return rD.get(eu)||1}function rU(eu,ed){return{constTimeNegate:rM,hasPrecomputes:eu=>1!==rB(eu),unsafeLadder(ed,eg,em=eu.ZERO){let eb=ed;for(;eg>rI;)eg&rC&&(em=em.add(eb)),eb=eb.double(),eg>>=rC;return em},precomputeWindow(eu,eg){let{windows:em,windowSize:eb}=rT(eg,ed),ew=[],e_=eu,eE=e_;for(let eu=0;eu<em;eu++){eE=e_,ew.push(eE);for(let eu=1;eu<eb;eu++)eE=eE.add(e_),ew.push(eE);e_=eE.double()}return ew},wNAF(eg,em,eb){let{windows:ew,windowSize:e_}=rT(eg,ed),eE=eu.ZERO,eA=eu.BASE,eS=BigInt(2**eg-1),eI=2**eg,eC=BigInt(eg);for(let eu=0;eu<ew;eu++){let ed=eu*e_,eg=Number(eb&eS);eb>>=eC,eg>e_&&(eg-=eI,eb+=rC);let ew=ed,eM=ed+Math.abs(eg)-1,eO=eu%2!=0,eT=eg<0;0===eg?eA=eA.add(rM(eO,em[ew])):eE=eE.add(rM(eT,em[eM]))}return{p:eE,f:eA}},wNAFUnsafe(eg,em,eb,ew=eu.ZERO){let{windows:e_,windowSize:eE}=rT(eg,ed),eA=BigInt(2**eg-1),eS=2**eg,eI=BigInt(eg);for(let eu=0;eu<e_;eu++){let ed=eu*eE;if(eb===rI)break;let eg=Number(eb&eA);if(eb>>=eI,eg>eE&&(eg-=eS,eb+=rC),0===eg)continue;let e_=em[ed+Math.abs(eg)-1];eg<0&&(e_=e_.negate()),ew=ew.add(e_)}return ew},getPrecomputes(eu,ed,eg){let em=rR.get(ed);return em||(em=this.precomputeWindow(ed,eu),1!==eu&&rR.set(ed,eg(em))),em},wNAFCached(eu,ed,eg){let em=rB(eu);return this.wNAF(em,this.getPrecomputes(em,eu,eg),ed)},wNAFCachedUnsafe(eu,ed,eg,em){let eb=rB(eu);return 1===eb?this.unsafeLadder(eu,ed,em):this.wNAFUnsafe(eb,this.getPrecomputes(eb,eu,eg),ed,em)},setWindowSize(eu,eg){rO(eg,ed),rD.set(eu,eg),rR.delete(eu)}}}function rL(eu,ed,eg,em){if(rP(eg,eu),rN(em,ed),eg.length!==em.length)throw Error("arrays of points and scalars must have equal length");let eb=eu.ZERO,ew=tH(BigInt(eg.length)),e_=ew>12?ew-3:ew>4?ew-2:ew?2:1,eE=(1<<e_)-1,eA=Array(eE+1).fill(eb),eS=Math.floor((ed.BITS-1)/e_)*e_,eI=eb;for(let eu=eS;eu>=0;eu-=e_){eA.fill(eb);for(let ed=0;ed<em.length;ed++){let eb=em[ed],ew=Number(eb>>BigInt(eu)&BigInt(eE));eA[ew]=eA[ew].add(eg[ed])}let ed=eb;for(let eu=eA.length-1,eg=eb;eu>0;eu--)eg=eg.add(eA[eu]),ed=ed.add(eg);if(eI=eI.add(ed),0!==eu)for(let eu=0;eu<e_;eu++)eI=eI.double()}return eI}function rj(eu){return rw(eu.Fp),tW(eu,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...rA(eu.n,eu.nBitLength),...eu,p:eu.Fp.ORDER})}let rF=BigInt(0),r$=BigInt(1),rK=BigInt(2),rq=BigInt(8),rz={zip215:!0};function rH(eu){let ed=rj(eu);return tW(eu,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...ed})}function rV(eu){let ed=rH(eu),{Fp:eg,n:em,prehash:eb,hash:ew,randomBytes:e_,nByteLength:eE,h:eA}=ed,eS=rK<<BigInt(8*eE)-r$,eI=eg.create,eC=rS(ed.n,ed.nBitLength),eM=ed.uvRatio||((eu,ed)=>{try{return{isValid:!0,value:eg.sqrt(eu*eg.inv(ed))}}catch{return{isValid:!1,value:rF}}}),eO=ed.adjustScalarBytes||(eu=>eu),eT=ed.domain||((eu,ed,eg)=>{if(tC("phflag",eg),ed.length||eg)throw Error("Contexts/pre-hash are not supported");return eu});function eP(eu,ed){tz("coordinate "+eu,ed,rF,eS)}function eN(eu){if(!(eu instanceof eD))throw Error("ExtendedPoint expected")}let ek=tJ((eu,ed)=>{let{ex:em,ey:eb,ez:ew}=eu,e_=eu.is0();null==ed&&(ed=e_?rq:eg.inv(ew));let eE=eI(em*ed),eA=eI(eb*ed),eS=eI(ew*ed);if(e_)return{x:rF,y:r$};if(eS!==r$)throw Error("invZ was invalid");return{x:eE,y:eA}}),eR=tJ(eu=>{let{a:eg,d:em}=ed;if(eu.is0())throw Error("bad point: ZERO");let{ex:eb,ey:ew,ez:e_,et:eE}=eu,eA=eI(eb*eb),eS=eI(ew*ew),eC=eI(e_*e_),eM=eI(eC*eC),eO=eI(eA*eg),eT=eI(eC*eI(eO+eS)),eP=eI(eM+eI(em*eI(eA*eS)));if(eT!==eP)throw Error("bad point: equation left != right (1)");let eN=eI(eb*ew),ek=eI(e_*eE);if(eN!==ek)throw Error("bad point: equation left != right (2)");return!0});class eD{constructor(eu,ed,eg,em){this.ex=eu,this.ey=ed,this.ez=eg,this.et=em,eP("x",eu),eP("y",ed),eP("z",eg),eP("t",em),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(eu){if(eu instanceof eD)throw Error("extended point not allowed");let{x:ed,y:eg}=eu||{};return eP("x",ed),eP("y",eg),new eD(ed,eg,r$,eI(ed*eg))}static normalizeZ(eu){let ed=eg.invertBatch(eu.map(eu=>eu.ez));return eu.map((eu,eg)=>eu.toAffine(ed[eg])).map(eD.fromAffine)}static msm(eu,ed){return rL(eD,eC,eu,ed)}_setWindowSize(eu){eL.setWindowSize(this,eu)}assertValidity(){eR(this)}equals(eu){eN(eu);let{ex:ed,ey:eg,ez:em}=this,{ex:eb,ey:ew,ez:e_}=eu,eE=eI(ed*e_),eA=eI(eb*em),eS=eI(eg*e_),eC=eI(ew*em);return eE===eA&&eS===eC}is0(){return this.equals(eD.ZERO)}negate(){return new eD(eI(-this.ex),this.ey,this.ez,eI(-this.et))}double(){let{a:eu}=ed,{ex:eg,ey:em,ez:eb}=this,ew=eI(eg*eg),e_=eI(em*em),eE=eI(rK*eI(eb*eb)),eA=eI(eu*ew),eS=eg+em,eC=eI(eI(eS*eS)-ew-e_),eM=eA+e_,eO=eM-eE,eT=eA-e_,eP=eI(eC*eO),eN=eI(eM*eT),ek=eI(eC*eT),eR=eI(eO*eM);return new eD(eP,eN,eR,ek)}add(eu){eN(eu);let{a:eg,d:em}=ed,{ex:eb,ey:ew,ez:e_,et:eE}=this,{ex:eA,ey:eS,ez:eC,et:eM}=eu;if(eg===BigInt(-1)){let eu=eI((ew-eb)*(eS+eA)),ed=eI((ew+eb)*(eS-eA)),eg=eI(ed-eu);if(eg===rF)return this.double();let em=eI(e_*rK*eM),eO=eI(eE*rK*eC),eT=eO+em,eP=ed+eu,eN=eO-em,ek=eI(eT*eg),eR=eI(eP*eN),eB=eI(eT*eN),eU=eI(eg*eP);return new eD(ek,eR,eU,eB)}let eO=eI(eb*eA),eT=eI(ew*eS),eP=eI(eE*em*eM),ek=eI(e_*eC),eR=eI((eb+ew)*(eA+eS)-eO-eT),eB=ek-eP,eU=ek+eP,eL=eI(eT-eg*eO),ej=eI(eR*eB),eF=eI(eU*eL),e$=eI(eR*eL),eK=eI(eB*eU);return new eD(ej,eF,eK,e$)}subtract(eu){return this.add(eu.negate())}wNAF(eu){return eL.wNAFCached(this,eu,eD.normalizeZ)}multiply(eu){let ed=eu;tz("scalar",ed,r$,em);let{p:eg,f:eb}=this.wNAF(ed);return eD.normalizeZ([eg,eb])[0]}multiplyUnsafe(eu,ed=eD.ZERO){let eg=eu;return tz("scalar",eg,rF,em),eg===rF?eU:this.is0()||eg===r$?this:eL.wNAFCachedUnsafe(this,eg,eD.normalizeZ,ed)}isSmallOrder(){return this.multiplyUnsafe(eA).is0()}isTorsionFree(){return eL.unsafeLadder(this,em).is0()}toAffine(eu){return ek(this,eu)}clearCofactor(){let{h:eu}=ed;return eu===r$?this:this.multiplyUnsafe(eu)}static fromHex(eu,em=!1){let{d:eb,a:ew}=ed,e_=eg.BYTES;eu=tF("pointHex",eu,e_),tC("zip215",em);let eE=eu.slice(),eA=eu[e_-1];eE[e_-1]=-129&eA;let eC=tU(eE),eO=em?eS:eg.ORDER;tz("pointHex.y",eC,rF,eO);let eT=eI(eC*eC),eP=eI(eT-r$),eN=eI(eb*eT-ew),{isValid:ek,value:eR}=eM(eP,eN);if(!ek)throw Error("Point.fromHex: invalid y coordinate");let eB=(eR&r$)===r$,eU=(128&eA)!=0;if(!em&&eR===rF&&eU)throw Error("Point.fromHex: x=0 and x_0=1");return eU!==eB&&(eR=eI(-eR)),eD.fromAffine({x:eR,y:eC})}static fromPrivateKey(eu){return e$(eu).point}toRawBytes(){let{x:eu,y:ed}=this.toAffine(),em=tj(ed,eg.BYTES);return em[em.length-1]|=eu&r$?128:0,em}toHex(){return tT(this.toRawBytes())}}eD.BASE=new eD(ed.Gx,ed.Gy,r$,eI(ed.Gx*ed.Gy)),eD.ZERO=new eD(rF,r$,r$,rF);let{BASE:eB,ZERO:eU}=eD,eL=rU(eD,8*eE);function ej(eu){return t4(eu,em)}function eF(eu){return ej(tU(eu))}function e$(eu){let ed=eg.BYTES;eu=tF("private key",eu,ed);let em=tF("hashed private key",ew(eu),2*ed),eb=eO(em.slice(0,ed)),e_=em.slice(ed,2*ed),eE=eF(eb),eA=eB.multiply(eE),eS=eA.toRawBytes();return{head:eb,prefix:e_,scalar:eE,point:eA,pointBytes:eS}}function eK(eu){return e$(eu).pointBytes}function eH(eu=new Uint8Array,...ed){let eg=t$(...ed);return eF(ew(eT(eg,tF("context",eu),!!eb)))}function eV(eu,ed,ew={}){eu=tF("message",eu),eb&&(eu=eb(eu));let{prefix:e_,scalar:eE,pointBytes:eA}=e$(ed),eS=eH(ew.context,e_,eu),eI=eB.multiply(eS).toRawBytes(),eC=eH(ew.context,eI,eA,eu),eM=ej(eS+eC*eE);tz("signature.s",eM,rF,em);let eO=t$(eI,tj(eM,eg.BYTES));return tF("result",eO,2*eg.BYTES)}let eG=rz;function eW(eu,ed,em,ew=eG){let e_,eE,eA;let{context:eS,zip215:eI}=ew,eC=eg.BYTES;eu=tF("signature",eu,2*eC),ed=tF("message",ed),em=tF("publicKey",em,eC),void 0!==eI&&tC("zip215",eI),eb&&(ed=eb(ed));let eM=tU(eu.slice(eC,2*eC));try{e_=eD.fromHex(em,eI),eE=eD.fromHex(eu.slice(0,eC),eI),eA=eB.multiplyUnsafe(eM)}catch{return!1}if(!eI&&e_.isSmallOrder())return!1;let eO=eH(eS,eE.toRawBytes(),e_.toRawBytes(),ed);return eE.add(e_.multiplyUnsafe(eO)).subtract(eA).clearCofactor().equals(eD.ZERO)}return eB._setWindowSize(8),{CURVE:ed,getPublicKey:eK,sign:eV,verify:eW,ExtendedPoint:eD,utils:{getExtendedPublicKey:e$,randomPrivateKey:()=>e_(eg.BYTES),precompute:(eu=8,ed=eD.BASE)=>(ed._setWindowSize(eu),ed.multiply(BigInt(3)),ed)}}}BigInt(0),BigInt(1);let rG=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),rW=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);let rJ=BigInt(1),rZ=BigInt(2);BigInt(3);let rY=BigInt(5),rX=BigInt(8);function rQ(eu){let ed=BigInt(10),eg=BigInt(20),em=BigInt(40),eb=BigInt(80),ew=rG,e_=eu*eu%ew*eu%ew,eE=t7(e_,rZ,ew)*e_%ew,eA=t7(eE,rJ,ew)*eu%ew,eS=t7(eA,rY,ew)*eA%ew,eI=t7(eS,ed,ew)*eS%ew,eC=t7(eI,eg,ew)*eI%ew,eM=t7(eC,em,ew)*eC%ew,eO=t7(eM,eb,ew)*eM%ew,eT=t7(eO,eb,ew)*eM%ew,eP=t7(eT,ed,ew)*eS%ew;return{pow_p_5_8:t7(eP,rZ,ew)*eu%ew,b2:e_}}function r6(eu){return eu[0]&=248,eu[31]&=127,eu[31]|=64,eu}function r3(eu,ed){let eg=rG,em=t4(ed*ed*ed,eg),eb=t4(em*em*ed,eg),ew=rQ(eu*eb).pow_p_5_8,e_=t4(eu*em*ew,eg),eE=t4(ed*e_*e_,eg),eA=e_,eS=t4(e_*rW,eg),eI=eE===eu,eC=eE===t4(-eu,eg),eM=eE===t4(-eu*rW,eg);return eI&&(e_=eA),(eC||eM)&&(e_=eS),rg(e_,eg)&&(e_=t4(-e_,eg)),{isValid:eI||eC,value:e_}}let r8=rS(rG,void 0,!0),r5={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:r8,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:rX,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:tw,randomBytes:eP,adjustScalarBytes:r6,uvRatio:r3},r4=rV(r5),r9="EdDSA",r7="JWT",nu=".",nh="base64url",nd="utf8",np="utf8",ng=":",nm="did",nw="key",n_="base58btc",nE="z",nA="K36",nS=32;function nI(eu){return null!=globalThis.Buffer?new Uint8Array(eu.buffer,eu.byteOffset,eu.byteLength):eu}function nC(eu=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?nI(globalThis.Buffer.allocUnsafe(eu)):new Uint8Array(eu)}function nM(eu,ed){ed||(ed=eu.reduce((eu,ed)=>eu+ed.length,0));let eg=nC(ed),em=0;for(let ed of eu)eg.set(ed,em),em+=ed.length;return nI(eg)}var nO=function(eu,ed){if(eu.length>=255)throw TypeError("Alphabet too long");for(var eg=new Uint8Array(256),em=0;em<eg.length;em++)eg[em]=255;for(var eb=0;eb<eu.length;eb++){var ew=eu.charAt(eb),e_=ew.charCodeAt(0);if(255!==eg[e_])throw TypeError(ew+" is ambiguous");eg[e_]=eb}var eE=eu.length,eA=eu.charAt(0),eS=Math.log(eE)/Math.log(256),eI=Math.log(256)/Math.log(eE);function eC(eu){if("string"!=typeof eu)throw TypeError("Expected String");if(0===eu.length)return new Uint8Array;var ed=0;if(" "!==eu[0]){for(var em=0,eb=0;eu[ed]===eA;)em++,ed++;for(var ew=(eu.length-ed)*eS+1>>>0,e_=new Uint8Array(ew);eu[ed];){var eI=eg[eu.charCodeAt(ed)];if(255===eI)return;for(var eC=0,eM=ew-1;(0!==eI||eC<eb)&&-1!==eM;eM--,eC++)eI+=eE*e_[eM]>>>0,e_[eM]=eI%256>>>0,eI=eI/256>>>0;if(0!==eI)throw Error("Non-zero carry");eb=eC,ed++}if(" "!==eu[ed]){for(var eO=ew-eb;eO!==ew&&0===e_[eO];)eO++;for(var eT=new Uint8Array(em+(ew-eO)),eP=em;eO!==ew;)eT[eP++]=e_[eO++];return eT}}}function eM(eu){var eg=eC(eu);if(eg)return eg;throw Error(`Non-${ed} character`)}return{encode:function(ed){if(ed instanceof Uint8Array||(ArrayBuffer.isView(ed)?ed=new Uint8Array(ed.buffer,ed.byteOffset,ed.byteLength):Array.isArray(ed)&&(ed=Uint8Array.from(ed))),!(ed instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===ed.length)return"";for(var eg=0,em=0,eb=0,ew=ed.length;eb!==ew&&0===ed[eb];)eb++,eg++;for(var e_=(ew-eb)*eI+1>>>0,eS=new Uint8Array(e_);eb!==ew;){for(var eC=ed[eb],eM=0,eO=e_-1;(0!==eC||eM<em)&&-1!==eO;eO--,eM++)eC+=256*eS[eO]>>>0,eS[eO]=eC%eE>>>0,eC=eC/eE>>>0;if(0!==eC)throw Error("Non-zero carry");em=eM,eb++}for(var eT=e_-em;eT!==e_&&0===eS[eT];)eT++;for(var eP=eA.repeat(eg);eT<e_;++eT)eP+=eu.charAt(eS[eT]);return eP},decodeUnsafe:eC,decode:eM}};let nT=eu=>{if(eu instanceof Uint8Array&&"Uint8Array"===eu.constructor.name)return eu;if(eu instanceof ArrayBuffer)return new Uint8Array(eu);if(ArrayBuffer.isView(eu))return new Uint8Array(eu.buffer,eu.byteOffset,eu.byteLength);throw Error("Unknown type, must be binary type")},nP=eu=>new TextEncoder().encode(eu),nN=eu=>new TextDecoder().decode(eu);class nk{constructor(eu,ed,eg){this.name=eu,this.prefix=ed,this.baseEncode=eg}encode(eu){if(eu instanceof Uint8Array)return`${this.prefix}${this.baseEncode(eu)}`;throw Error("Unknown type, must be binary type")}}class nR{constructor(eu,ed,eg){if(this.name=eu,this.prefix=ed,void 0===ed.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=ed.codePointAt(0),this.baseDecode=eg}decode(eu){if("string"==typeof eu){if(eu.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(eu)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(eu.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(eu){return nB(this,eu)}}class nD{constructor(eu){this.decoders=eu}or(eu){return nB(this,eu)}decode(eu){let ed=eu[0],eg=this.decoders[ed];if(eg)return eg.decode(eu);throw RangeError(`Unable to decode multibase string ${JSON.stringify(eu)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}let nB=(eu,ed)=>new nD({...eu.decoders||{[eu.prefix]:eu},...ed.decoders||{[ed.prefix]:ed}});class nU{constructor(eu,ed,eg,em){this.name=eu,this.prefix=ed,this.baseEncode=eg,this.baseDecode=em,this.encoder=new nk(eu,ed,eg),this.decoder=new nR(eu,ed,em)}encode(eu){return this.encoder.encode(eu)}decode(eu){return this.decoder.decode(eu)}}let nL=({name:eu,prefix:ed,encode:eg,decode:em})=>new nU(eu,ed,eg,em),nj=({prefix:eu,name:ed,alphabet:eg})=>{let{encode:em,decode:eb}=nO(eg,ed);return nL({prefix:eu,name:ed,encode:em,decode:eu=>nT(eb(eu))})},nF=(eu,ed,eg,em)=>{let eb={};for(let eu=0;eu<ed.length;++eu)eb[ed[eu]]=eu;let ew=eu.length;for(;"="===eu[ew-1];)--ew;let e_=new Uint8Array(ew*eg/8|0),eE=0,eA=0,eS=0;for(let ed=0;ed<ew;++ed){let ew=eb[eu[ed]];if(void 0===ew)throw SyntaxError(`Non-${em} character`);eA=eA<<eg|ew,(eE+=eg)>=8&&(eE-=8,e_[eS++]=255&eA>>eE)}if(eE>=eg||255&eA<<8-eE)throw SyntaxError("Unexpected end of data");return e_},n$=(eu,ed,eg)=>{let em="="===ed[ed.length-1],eb=(1<<eg)-1,ew="",e_=0,eE=0;for(let em=0;em<eu.length;++em)for(eE=eE<<8|eu[em],e_+=8;e_>eg;)e_-=eg,ew+=ed[eb&eE>>e_];if(e_&&(ew+=ed[eb&eE<<eg-e_]),em)for(;ew.length*eg&7;)ew+="=";return ew},nK=({name:eu,prefix:ed,bitsPerChar:eg,alphabet:em})=>nL({prefix:ed,name:eu,encode:eu=>n$(eu,em,eg),decode:ed=>nF(ed,em,eg,eu)}),nq=nL({prefix:"\x00",name:"identity",encode:eu=>nN(eu),decode:eu=>nP(eu)});var nH=Object.freeze({__proto__:null,identity:nq});let nV=nK({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var nG=Object.freeze({__proto__:null,base2:nV});let nW=nK({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var nJ=Object.freeze({__proto__:null,base8:nW});let nZ=nj({prefix:"9",name:"base10",alphabet:"0123456789"});var nY=Object.freeze({__proto__:null,base10:nZ});let nX=nK({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),nQ=nK({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var n6=Object.freeze({__proto__:null,base16:nX,base16upper:nQ});let n8=nK({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),n5=nK({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),n4=nK({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),n9=nK({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),n7=nK({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),iu=nK({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),ih=nK({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),ig=nK({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),ib=nK({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var iw=Object.freeze({__proto__:null,base32:n8,base32upper:n5,base32pad:n4,base32padupper:n9,base32hex:n7,base32hexupper:iu,base32hexpad:ih,base32hexpadupper:ig,base32z:ib});let i_=nj({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),iE=nj({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var iA=Object.freeze({__proto__:null,base36:i_,base36upper:iE});let iS=nj({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),iI=nj({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var iC=Object.freeze({__proto__:null,base58btc:iS,base58flickr:iI});let iM=nK({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),iO=nK({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),iT=nK({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),iP=nK({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var iN=Object.freeze({__proto__:null,base64:iM,base64pad:iO,base64url:iT,base64urlpad:iP});let iR=Array.from("\uD83D\uDE80\uD83E\uDE90\uD83D\uDEF0\uD83C\uDF0C\uD83C\uDF11\uD83C\uDF12\uD83C\uDF13\uD83C\uDF14\uD83C\uDF15\uD83C\uDF16\uD83C\uDF17\uD83C\uDF18\uD83C\uDF0D\uD83C\uDF0F\uD83C\uDF0E\uD83D\uDC09\uD83D\uDCBB\uD83D\uDDA5\uD83D\uDCBE\uD83D\uDCBF\uD83D\uDE02\uD83D\uDE0D\uD83E\uDD23\uD83D\uDE0A\uD83D\uDE4F\uD83D\uDC95\uD83D\uDE2D\uD83D\uDE18\uD83D\uDC4D\uD83D\uDE05\uD83D\uDC4F\uD83D\uDE01\uD83D\uDD25\uD83E\uDD70\uD83D\uDC94\uD83D\uDC96\uD83D\uDC99\uD83D\uDE22\uD83E\uDD14\uD83D\uDE06\uD83D\uDE44\uD83D\uDCAA\uD83D\uDE09\uD83D\uDC4C\uD83E\uDD17\uD83D\uDC9C\uD83D\uDE14\uD83D\uDE0E\uD83D\uDE07\uD83C\uDF39\uD83E\uDD26\uD83C\uDF89\uD83D\uDC9E\uD83E\uDD37\uD83D\uDE31\uD83D\uDE0C\uD83C\uDF38\uD83D\uDE4C\uD83D\uDE0B\uD83D\uDC97\uD83D\uDC9A\uD83D\uDE0F\uD83D\uDC9B\uD83D\uDE42\uD83D\uDC93\uD83E\uDD29\uD83D\uDE04\uD83D\uDE00\uD83D\uDDA4\uD83D\uDE03\uD83D\uDCAF\uD83D\uDE48\uD83D\uDC47\uD83C\uDFB6\uD83D\uDE12\uD83E\uDD2D\uD83D\uDE1C\uD83D\uDC8B\uD83D\uDC40\uD83D\uDE2A\uD83D\uDE11\uD83D\uDCA5\uD83D\uDE4B\uD83D\uDE1E\uD83D\uDE29\uD83D\uDE21\uD83E\uDD2A\uD83D\uDC4A\uD83E\uDD73\uD83D\uDE25\uD83E\uDD24\uD83D\uDC49\uD83D\uDC83\uD83D\uDE33\uD83D\uDE1A\uD83D\uDE1D\uD83D\uDE34\uD83C\uDF1F\uD83D\uDE2C\uD83D\uDE43\uD83C\uDF40\uD83C\uDF37\uD83D\uDE3B\uD83D\uDE13\uD83E\uDD7A\uD83C\uDF08\uD83D\uDE08\uD83E\uDD18\uD83D\uDCA6\uD83D\uDE23\uD83C\uDFC3\uD83D\uDC90\uD83C\uDF8A\uD83D\uDC98\uD83D\uDE20\uD83D\uDE15\uD83C\uDF3A\uD83C\uDF82\uD83C\uDF3B\uD83D\uDE10\uD83D\uDD95\uD83D\uDC9D\uD83D\uDE4A\uD83D\uDE39\uD83D\uDDE3\uD83D\uDCAB\uD83D\uDC80\uD83D\uDC51\uD83C\uDFB5\uD83E\uDD1E\uD83D\uDE1B\uD83D\uDD34\uD83D\uDE24\uD83C\uDF3C\uD83D\uDE2B\uD83E\uDD19\uD83C\uDFC6\uD83E\uDD2B\uD83D\uDC48\uD83D\uDE2E\uD83D\uDE46\uD83C\uDF7B\uD83C\uDF43\uD83D\uDC36\uD83D\uDC81\uD83D\uDE32\uD83C\uDF3F\uD83E\uDDE1\uD83C\uDF81\uD83C\uDF1E\uD83C\uDF88\uD83D\uDC4B\uD83D\uDE30\uD83E\uDD28\uD83D\uDE36\uD83E\uDD1D\uD83D\uDEB6\uD83D\uDCB0\uD83C\uDF53\uD83D\uDCA2\uD83E\uDD1F\uD83D\uDE41\uD83D\uDEA8\uD83D\uDCA8\uD83E\uDD2C\uD83C\uDF80\uD83C\uDF7A\uD83E\uDD13\uD83D\uDE19\uD83D\uDC9F\uD83C\uDF31\uD83D\uDE16\uD83D\uDC76\uD83E\uDD74\uD83D\uDC8E\uD83D\uDCB8\uD83D\uDE28\uD83C\uDF1A\uD83E\uDD8B\uD83D\uDE37\uD83D\uDD7A\uD83D\uDE45\uD83D\uDE1F\uD83D\uDE35\uD83D\uDC4E\uD83E\uDD32\uD83E\uDD20\uD83E\uDD27\uD83D\uDCCC\uD83D\uDD35\uD83D\uDC85\uD83E\uDDD0\uD83D\uDC3E\uD83C\uDF52\uD83D\uDE17\uD83E\uDD11\uD83C\uDF0A\uD83E\uDD2F\uD83D\uDC37\uD83D\uDCA7\uD83D\uDE2F\uD83D\uDC86\uD83D\uDC46\uD83C\uDFA4\uD83D\uDE47\uD83C\uDF51\uD83C\uDF34\uD83D\uDCA3\uD83D\uDC38\uD83D\uDC8C\uD83D\uDCCD\uD83E\uDD40\uD83E\uDD22\uD83D\uDC45\uD83D\uDCA1\uD83D\uDCA9\uD83D\uDC50\uD83D\uDCF8\uD83D\uDC7B\uD83E\uDD10\uD83E\uDD2E\uD83C\uDFBC\uD83E\uDD75\uD83D\uDEA9\uD83C\uDF4E\uD83C\uDF4A\uD83D\uDC7C\uD83D\uDC8D\uD83D\uDCE3\uD83E\uDD42"),iD=iR.reduce((eu,ed,eg)=>(eu[eg]=ed,eu),[]),iB=iR.reduce((eu,ed,eg)=>(eu[ed.codePointAt(0)]=eg,eu),[]);function iU(eu){return eu.reduce((eu,ed)=>eu+=iD[ed],"")}function iL(eu){let ed=[];for(let eg of eu){let eu=iB[eg.codePointAt(0)];if(void 0===eu)throw Error(`Non-base256emoji character: ${eg}`);ed.push(eu)}return new Uint8Array(ed)}let ij=nL({prefix:"\uD83D\uDE80",name:"base256emoji",encode:iU,decode:iL});var iF=Object.freeze({__proto__:null,base256emoji:ij}),i$=128,iK=-128,iq=2147483648;function iH(eu,ed,eg){ed=ed||[],eg=eg||0;for(var em=eg;eu>=iq;)ed[eg++]=255&eu|i$,eu/=128;for(;eu&iK;)ed[eg++]=255&eu|i$,eu>>>=7;return ed[eg]=0|eu,iH.bytes=eg-em+1,ed}var iV=128,iG=127;function iW(eu,ed){var eg,em=0,ed=ed||0,eb=0,ew=ed,e_=eu.length;do{if(ew>=e_)throw iW.bytes=0,RangeError("Could not decode varint");eg=eu[ew++],em+=eb<28?(eg&iG)<<eb:(eg&iG)*Math.pow(2,eb),eb+=7}while(eg>=iV);return iW.bytes=ew-ed,em}var iJ=128,iZ=16384,iY=2097152,iX=268435456,iQ=34359738368,i0=4398046511104,i1=562949953421312,i2=72057594037927940,i6=0x7fffffffffffffff,i3={encode:iH,decode:iW,encodingLength:function(eu){return eu<iJ?1:eu<iZ?2:eu<iY?3:eu<iX?4:eu<iQ?5:eu<i0?6:eu<i1?7:eu<i2?8:eu<i6?9:10}};let i8=(eu,ed,eg=0)=>(i3.encode(eu,ed,eg),ed),i5=eu=>i3.encodingLength(eu),i4=(eu,ed)=>{let eg=ed.byteLength,em=i5(eu),eb=em+i5(eg),ew=new Uint8Array(eb+eg);return i8(eu,ew,0),i8(eg,ew,em),ew.set(ed,eb),new i9(eu,eg,ed,ew)};class i9{constructor(eu,ed,eg,em){this.code=eu,this.size=ed,this.digest=eg,this.bytes=em}}let i7=({name:eu,code:ed,encode:eg})=>new ou(eu,ed,eg);class ou{constructor(eu,ed,eg){this.name=eu,this.code=ed,this.encode=eg}digest(eu){if(eu instanceof Uint8Array){let ed=this.encode(eu);return ed instanceof Uint8Array?i4(this.code,ed):ed.then(eu=>i4(this.code,eu))}throw Error("Unknown type, must be binary type")}}let ol=eu=>async ed=>new Uint8Array(await crypto.subtle.digest(eu,ed)),oh=i7({name:"sha2-256",code:18,encode:ol("SHA-256")}),od=i7({name:"sha2-512",code:19,encode:ol("SHA-512")});var og=Object.freeze({__proto__:null,sha256:oh,sha512:od});let oy=0,om="identity",ob=nT,ov=eu=>i4(oy,ob(eu)),ow={code:oy,name:om,encode:ob,digest:ov};var o_=Object.freeze({__proto__:null,identity:ow});new TextEncoder,new TextDecoder;let oE={...nH,...nG,...nJ,...nY,...n6,...iw,...iA,...iC,...iN,...iF};function oA(eu,ed,eg,em){return{name:eu,prefix:ed,encoder:{name:eu,prefix:ed,encode:eg},decoder:{decode:em}}}({...og,...o_});let oS=oA("utf8","u",eu=>"u"+new TextDecoder("utf8").decode(eu),eu=>new TextEncoder().encode(eu.substring(1))),oI=oA("ascii","a",eu=>{let ed="a";for(let eg=0;eg<eu.length;eg++)ed+=String.fromCharCode(eu[eg]);return ed},eu=>{eu=eu.substring(1);let ed=nC(eu.length);for(let eg=0;eg<eu.length;eg++)ed[eg]=eu.charCodeAt(eg);return ed}),ox={utf8:oS,"utf-8":oS,hex:oE.base16,latin1:oI,ascii:oI,binary:oI,...oE};function oC(eu,ed="utf8"){let eg=ox[ed];if(!eg)throw Error(`Unsupported encoding "${ed}"`);return("utf8"===ed||"utf-8"===ed)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?globalThis.Buffer.from(eu.buffer,eu.byteOffset,eu.byteLength).toString("utf8"):eg.encoder.encode(eu).substring(1)}function oM(eu,ed="utf8"){let eg=ox[ed];if(!eg)throw Error(`Unsupported encoding "${ed}"`);return("utf8"===ed||"utf-8"===ed)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?nI(globalThis.Buffer.from(eu,"utf-8")):eg.decoder.decode(`${eg.prefix}${eu}`)}function oO(eu){return(0,eb.D)(oC(oM(eu,nh),nd))}function oT(eu){return oC(oM((0,eb.u)(eu),nd),nh)}function oP(eu){let ed=oM(nA,n_),eg=nE+oC(nM([ed,eu]),n_);return[nm,nw,eg].join(ng)}function oN(eu){return oC(eu,nh)}function oR(eu){return oM(eu,nh)}function oD(eu){return oM([oT(eu.header),oT(eu.payload)].join(nu),np)}function oB(eu){return[oT(eu.header),oT(eu.payload),oN(eu.signature)].join(nu)}function oU(eu){let ed=eu.split(nu),eg=oO(ed[0]),em=oO(ed[1]),eb=oR(ed[2]),ew=oM(ed.slice(0,2).join(nu),np);return{header:eg,payload:em,signature:eb,data:ew}}function oL(eu=eP(nS)){let ed=r4.getPublicKey(eu);return{secretKey:nM([eu,ed]),publicKey:ed}}async function oj(eu,ed,eg,eb,ew=(0,em.fromMiliseconds)(Date.now())){let e_={alg:r9,typ:r7},eE=oP(eb.publicKey),eA=ew+eg,eS={iss:eE,sub:eu,aud:ed,iat:ew,exp:eA},eI=oD({header:e_,payload:eS}),eC=r4.sign(eI,eb.secretKey.slice(0,32));return oB({header:e_,payload:eS,signature:eC})}},42325:function(eu,ed,eg){"use strict";eg.d(ed,{D:function(){return ew},u:function(){return e_}});let em=eu=>JSON.stringify(eu,(eu,ed)=>"bigint"==typeof ed?ed.toString()+"n":ed),eb=eu=>{let ed=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,eg=eu.replace(ed,'$1"$2n"$3');return JSON.parse(eg,(eu,ed)=>{let eg="string"==typeof ed&&ed.match(/^\d+n$/);return eg?BigInt(ed.substring(0,ed.length-1)):ed})};function ew(eu){if("string"!=typeof eu)throw Error(`Cannot safe json parse value of type ${typeof eu}`);try{return eb(eu)}catch(ed){return eu}}function e_(eu){return"string"==typeof eu?eu:em(eu)||""}},21634:function(eu,ed,eg){"use strict";eg.d(ed,{ZP:function(){return wp}});var em=eg(22699),eb=eg.n(em),ew=eg(16220),e_=eg(23550),eE=eg(18776),eA=eg(5774),eS=Object.defineProperty,eI=(eu,ed,eg)=>ed in eu?eS(eu,ed,{enumerable:!0,configurable:!0,writable:!0,value:eg}):eu[ed]=eg,eC=(eu,ed,eg)=>eI(eu,"symbol"!=typeof ed?ed+"":ed,eg);class eM extends eA.q{constructor(eu){super(),this.opts=eu,eC(this,"protocol","wc"),eC(this,"version",2)}}var eO=Object.defineProperty,eT=(eu,ed,eg)=>ed in eu?eO(eu,ed,{enumerable:!0,configurable:!0,writable:!0,value:eg}):eu[ed]=eg,eP=(eu,ed,eg)=>eT(eu,"symbol"!=typeof ed?ed+"":ed,eg);class eN extends eA.q{constructor(eu,ed){super(),this.core=eu,this.logger=ed,eP(this,"records",new Map)}}class ek{constructor(eu,ed){this.logger=eu,this.core=ed}}class eR extends eA.q{constructor(eu,ed){super(),this.relayer=eu,this.logger=ed}}class eD extends eA.q{constructor(eu){super()}}class eB{constructor(eu,ed,eg,em){this.core=eu,this.logger=ed,this.name=eg}}class eU extends eA.q{constructor(eu,ed){super(),this.relayer=eu,this.logger=ed}}class eL extends eA.q{constructor(eu,ed){super(),this.core=eu,this.logger=ed}}class ej{constructor(eu,ed,eg){this.core=eu,this.logger=ed,this.store=eg}}class eF{constructor(eu,ed){this.projectId=eu,this.logger=ed}}class e${constructor(eu,ed,eg){this.core=eu,this.logger=ed,this.telemetryEnabled=eg}}var eK=Object.defineProperty,eH=(eu,ed,eg)=>ed in eu?eK(eu,ed,{enumerable:!0,configurable:!0,writable:!0,value:eg}):eu[ed]=eg,eV=(eu,ed,eg)=>eH(eu,"symbol"!=typeof ed?ed+"":ed,eg);class eG{constructor(eu){this.opts=eu,eV(this,"protocol","wc"),eV(this,"version",2)}}class eW{constructor(eu){this.client=eu}}var eJ=eg(10666),eZ=eg(42325),eY=eg(89406),eX=eg(54924),eQ=eg(4997),e0=eg(51726);let e6="2.31.0",e8={getDocsUrl:({docsBaseUrl:eu,docsPath:ed="",docsSlug:eg})=>ed?`${eu??"https://viem.sh"}${ed}${eg?`#${eg}`:""}`:void 0,version:`viem@${e6}`};class e5 extends Error{constructor(eu,ed={}){let eg=ed.cause instanceof e5?ed.cause.details:ed.cause?.message?ed.cause.message:ed.details,em=ed.cause instanceof e5&&ed.cause.docsPath||ed.docsPath,eb=e8.getDocsUrl?.({...ed,docsPath:em}),ew=[eu||"An error occurred.","",...ed.metaMessages?[...ed.metaMessages,""]:[],...eb?[`Docs: ${eb}`]:[],...eg?[`Details: ${eg}`]:[],...e8.version?[`Version: ${e8.version}`]:[]].join("\n");super(ew,ed.cause?{cause:ed.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=eg,this.docsPath=em,this.metaMessages=ed.metaMessages,this.name=ed.name??this.name,this.shortMessage=eu,this.version=e6}walk(eu){return e9(this,eu)}}function e9(eu,ed){return ed?.(eu)?eu:eu&&"object"==typeof eu&&"cause"in eu&&void 0!==eu.cause?e9(eu.cause,ed):ed?null:eu}function e7(eu,{strict:ed=!0}={}){return!!eu&&"string"==typeof eu&&(ed?/^0x[0-9a-fA-F]*$/.test(eu):eu.startsWith("0x"))}class tu extends e5{constructor({size:eu,targetSize:ed,type:eg}){super(`${eg.charAt(0).toUpperCase()}${eg.slice(1).toLowerCase()} size (${eu}) exceeds padding size (${ed}).`,{name:"SizeExceedsPaddingSizeError"})}}function th(eu,{dir:ed,size:eg=32}={}){return"string"==typeof eu?td(eu,{dir:ed,size:eg}):tg(eu,{dir:ed,size:eg})}function td(eu,{dir:ed,size:eg=32}={}){if(null===eg)return eu;let em=eu.replace("0x","");if(em.length>2*eg)throw new tu({size:Math.ceil(em.length/2),targetSize:eg,type:"hex"});return`0x${em["right"===ed?"padEnd":"padStart"](2*eg,"0")}`}function tg(eu,{dir:ed,size:eg=32}={}){if(null===eg)return eu;if(eu.length>eg)throw new tu({size:eu.length,targetSize:eg,type:"bytes"});let em=new Uint8Array(eg);for(let eb=0;eb<eg;eb++){let ew="right"===ed;em[ew?eb:eg-eb-1]=eu[ew?eb:eu.length-eb-1]}return em}class ty extends e5{constructor({max:eu,min:ed,signed:eg,size:em,value:eb}){super(`Number "${eb}" is not in safe ${em?`${8*em}-bit ${eg?"signed":"unsigned"} `:""}integer range ${eu?`(${ed} to ${eu})`:`(above ${ed})`}`,{name:"IntegerOutOfRangeError"})}}class tb extends e5{constructor({givenSize:eu,maxSize:ed}){super(`Size cannot exceed ${ed} bytes. Given size: ${eu} bytes.`,{name:"SizeOverflowError"})}}function tw(eu){return e7(eu,{strict:!1})?Math.ceil((eu.length-2)/2):eu.length}function t_(eu,{size:ed}){if(tw(eu)>ed)throw new tb({givenSize:tw(eu),maxSize:ed})}function tE(eu,ed={}){let{signed:eg}=ed;ed.size&&t_(eu,{size:ed.size});let em=BigInt(eu);if(!eg)return em;let eb=(eu.length-2)/2,ew=(1n<<8n*BigInt(eb)-1n)-1n;return em<=ew?em:em-BigInt(`0x${"f".padStart(2*eb,"f")}`)-1n}function tA(eu,ed={}){return Number(tE(eu,ed))}let tS=Array.from({length:256},(eu,ed)=>ed.toString(16).padStart(2,"0"));function tI(eu,ed={}){return"number"==typeof eu||"bigint"==typeof eu?tT(eu,ed):"string"==typeof eu?tN(eu,ed):"boolean"==typeof eu?tC(eu,ed):tO(eu,ed)}function tC(eu,ed={}){let eg=`0x${Number(eu)}`;return"number"==typeof ed.size?(t_(eg,{size:ed.size}),th(eg,{size:ed.size})):eg}function tO(eu,ed={}){let eg="";for(let ed=0;ed<eu.length;ed++)eg+=tS[eu[ed]];let em=`0x${eg}`;return"number"==typeof ed.size?(t_(em,{size:ed.size}),th(em,{dir:"right",size:ed.size})):em}function tT(eu,ed={}){let eg;let{signed:em,size:eb}=ed,ew=BigInt(eu);eb?eg=em?(1n<<8n*BigInt(eb)-1n)-1n:2n**(8n*BigInt(eb))-1n:"number"==typeof eu&&(eg=BigInt(Number.MAX_SAFE_INTEGER));let e_="bigint"==typeof eg&&em?-eg-1n:0;if(eg&&ew>eg||ew<e_){let ed="bigint"==typeof eu?"n":"";throw new ty({max:eg?`${eg}${ed}`:void 0,min:`${e_}${ed}`,signed:em,size:eb,value:`${eu}${ed}`})}let eE=`0x${(em&&ew<0?(1n<<BigInt(8*eb))+BigInt(ew):ew).toString(16)}`;return eb?th(eE,{size:eb}):eE}let tP=new TextEncoder;function tN(eu,ed={}){let eg=tP.encode(eu);return tO(eg,ed)}let tR=new TextEncoder;function tD(eu,ed={}){return"number"==typeof eu||"bigint"==typeof eu?tF(eu,ed):"boolean"==typeof eu?tB(eu,ed):e7(eu)?tj(eu,ed):t$(eu,ed)}function tB(eu,ed={}){let eg=new Uint8Array(1);return(eg[0]=Number(eu),"number"==typeof ed.size)?(t_(eg,{size:ed.size}),th(eg,{size:ed.size})):eg}let tU={zero:48,nine:57,A:65,F:70,a:97,f:102};function tL(eu){return eu>=tU.zero&&eu<=tU.nine?eu-tU.zero:eu>=tU.A&&eu<=tU.F?eu-(tU.A-10):eu>=tU.a&&eu<=tU.f?eu-(tU.a-10):void 0}function tj(eu,ed={}){let eg=eu;ed.size&&(t_(eg,{size:ed.size}),eg=th(eg,{dir:"right",size:ed.size}));let em=eg.slice(2);em.length%2&&(em=`0${em}`);let eb=em.length/2,ew=new Uint8Array(eb);for(let eu=0,ed=0;eu<eb;eu++){let eg=tL(em.charCodeAt(ed++)),eb=tL(em.charCodeAt(ed++));if(void 0===eg||void 0===eb)throw new e5(`Invalid byte sequence ("${em[ed-2]}${em[ed-1]}" in "${em}").`);ew[eu]=16*eg+eb}return ew}function tF(eu,ed){let eg=tT(eu,ed);return tj(eg)}function t$(eu,ed={}){let eg=tR.encode(eu);return"number"==typeof ed.size?(t_(eg,{size:ed.size}),th(eg,{dir:"right",size:ed.size})):eg}let tK=BigInt(4294967296-1),tq=BigInt(32);function tz(eu,ed=!1){return ed?{h:Number(eu&tK),l:Number(eu>>tq&tK)}:{h:0|Number(eu>>tq&tK),l:0|Number(eu&tK)}}function tH(eu,ed=!1){let eg=eu.length,em=new Uint32Array(eg),eb=new Uint32Array(eg);for(let ew=0;ew<eg;ew++){let{h:eg,l:e_}=tz(eu[ew],ed);[em[ew],eb[ew]]=[eg,e_]}return[em,eb]}let tV=(eu,ed,eg)=>eu<<eg|ed>>>32-eg,tG=(eu,ed,eg)=>ed<<eg|eu>>>32-eg,tW=(eu,ed,eg)=>ed<<eg-32|eu>>>64-eg,tJ=(eu,ed,eg)=>eu<<eg-32|ed>>>64-eg;var tZ=eg(29962);let tY=BigInt(0),tX=BigInt(1),tQ=BigInt(2),t6=BigInt(7),t8=BigInt(256),t5=BigInt(113),t4=[],t9=[],t7=[];for(let eu=0,ed=tX,eg=1,em=0;eu<24;eu++){[eg,em]=[em,(2*eg+3*em)%5],t4.push(2*(5*em+eg)),t9.push((eu+1)*(eu+2)/2%64);let eb=tY;for(let eu=0;eu<7;eu++)(ed=(ed<<tX^(ed>>t6)*t5)%t8)&tQ&&(eb^=tX<<(tX<<BigInt(eu))-tX);t7.push(eb)}let ru=tH(t7,!0),rd=ru[0],rp=ru[1],rg=(eu,ed,eg)=>eg>32?tW(eu,ed,eg):tV(eu,ed,eg),ry=(eu,ed,eg)=>eg>32?tJ(eu,ed,eg):tG(eu,ed,eg);function rw(eu,ed=24){let eg=new Uint32Array(10);for(let em=24-ed;em<24;em++){for(let ed=0;ed<10;ed++)eg[ed]=eu[ed]^eu[ed+10]^eu[ed+20]^eu[ed+30]^eu[ed+40];for(let ed=0;ed<10;ed+=2){let em=(ed+8)%10,eb=(ed+2)%10,ew=eg[eb],e_=eg[eb+1],eE=rg(ew,e_,1)^eg[em],eA=ry(ew,e_,1)^eg[em+1];for(let eg=0;eg<50;eg+=10)eu[ed+eg]^=eE,eu[ed+eg+1]^=eA}let ed=eu[2],eb=eu[3];for(let eg=0;eg<24;eg++){let em=t9[eg],ew=rg(ed,eb,em),e_=ry(ed,eb,em),eE=t4[eg];ed=eu[eE],eb=eu[eE+1],eu[eE]=ew,eu[eE+1]=e_}for(let ed=0;ed<50;ed+=10){for(let em=0;em<10;em++)eg[em]=eu[ed+em];for(let em=0;em<10;em++)eu[ed+em]^=~eg[(em+2)%10]&eg[(em+4)%10]}eu[0]^=rd[em],eu[1]^=rp[em]}(0,tZ.ru)(eg)}class r_ extends tZ.kb{constructor(eu,ed,eg,em=!1,eb=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=eu,this.suffix=ed,this.outputLen=eg,this.enableXOF=em,this.rounds=eb,(0,tZ.k8)(eg),!(0<eu&&eu<200))throw Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=(0,tZ.Jq)(this.state)}clone(){return this._cloneInto()}keccak(){(0,tZ.Ux)(this.state32),rw(this.state32,this.rounds),(0,tZ.Ux)(this.state32),this.posOut=0,this.pos=0}update(eu){(0,tZ.$h)(this),eu=(0,tZ.O0)(eu),(0,tZ.gk)(eu);let{blockLen:ed,state:eg}=this,em=eu.length;for(let eb=0;eb<em;){let ew=Math.min(ed-this.pos,em-eb);for(let ed=0;ed<ew;ed++)eg[this.pos++]^=eu[eb++];this.pos===ed&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:eu,suffix:ed,pos:eg,blockLen:em}=this;eu[eg]^=ed,(128&ed)!=0&&eg===em-1&&this.keccak(),eu[em-1]^=128,this.keccak()}writeInto(eu){(0,tZ.$h)(this,!1),(0,tZ.gk)(eu),this.finish();let ed=this.state,{blockLen:eg}=this;for(let em=0,eb=eu.length;em<eb;){this.posOut>=eg&&this.keccak();let ew=Math.min(eg-this.posOut,eb-em);eu.set(ed.subarray(this.posOut,this.posOut+ew),em),this.posOut+=ew,em+=ew}return eu}xofInto(eu){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(eu)}xof(eu){return(0,tZ.k8)(eu),this.xofInto(new Uint8Array(eu))}digestInto(eu){if((0,tZ.eB)(eu,this),this.finished)throw Error("digest() was already called");return this.writeInto(eu),this.destroy(),eu}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,(0,tZ.ru)(this.state)}_cloneInto(eu){let{blockLen:ed,suffix:eg,outputLen:em,rounds:eb,enableXOF:ew}=this;return eu||(eu=new r_(ed,eg,em,ew,eb)),eu.state32.set(this.state32),eu.pos=this.pos,eu.posOut=this.posOut,eu.finished=this.finished,eu.rounds=eb,eu.suffix=eg,eu.outputLen=em,eu.enableXOF=ew,eu.destroyed=this.destroyed,eu}}let rE=(eu,ed,eg)=>(0,tZ.V1)(()=>new r_(ed,eu,eg)),rA=rE(1,136,32);function rS(eu,ed){let eg=ed||"hex",em=rA(e7(eu,{strict:!1})?tD(eu):eu);return"bytes"===eg?em:tI(em)}class rI extends Map{constructor(eu){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=eu}get(eu){let ed=super.get(eu);return super.has(eu)&&void 0!==ed&&(this.delete(eu),super.set(eu,ed)),ed}set(eu,ed){if(super.set(eu,ed),this.maxSize&&this.size>this.maxSize){let eu=this.keys().next().value;eu&&this.delete(eu)}return this}}let rC=new rI(8192);function rM(eu,ed){if(rC.has(`${eu}.${ed}`))return rC.get(`${eu}.${ed}`);let eg=ed?`${ed}${eu.toLowerCase()}`:eu.substring(2).toLowerCase(),em=rS(t$(eg),"bytes"),eb=(ed?eg.substring(`${ed}0x`.length):eg).split("");for(let eu=0;eu<40;eu+=2)em[eu>>1]>>4>=8&&eb[eu]&&(eb[eu]=eb[eu].toUpperCase()),(15&em[eu>>1])>=8&&eb[eu+1]&&(eb[eu+1]=eb[eu+1].toUpperCase());let ew=`0x${eb.join("")}`;return rC.set(`${eu}.${ed}`,ew),ew}function rO(eu){let ed=rS(`0x${eu.substring(4)}`).substring(26);return rM(`0x${ed}`)}async function rT({hash:eu,signature:ed}){let em=e7(eu)?eu:tI(eu),{secp256k1:eb}=await eg.e(4264).then(eg.bind(eg,4264)),ew=(()=>{if("object"==typeof ed&&"r"in ed&&"s"in ed){let{r:eu,s:eg,v:em,yParity:ew}=ed,e_=Number(ew??em),eE=rP(e_);return new eb.Signature(tE(eu),tE(eg)).addRecoveryBit(eE)}let eu=e7(ed)?ed:tI(ed);if(65!==tw(eu))throw Error("invalid signature length");let eg=tA(`0x${eu.slice(130)}`),em=rP(eg);return eb.Signature.fromCompact(eu.substring(2,130)).addRecoveryBit(em)})(),e_=ew.recoverPublicKey(em.substring(2)).toHex(!1);return`0x${e_}`}function rP(eu){if(0===eu||1===eu)return eu;if(27===eu)return 0;if(28===eu)return 1;throw Error("Invalid yParityOrV value")}async function rN({hash:eu,signature:ed}){return rO(await rT({hash:eu,signature:ed}))}var rR=function(eu){if(eu.length>=255)throw TypeError("Alphabet too long");let ed=new Uint8Array(256);for(let eu=0;eu<ed.length;eu++)ed[eu]=255;for(let eg=0;eg<eu.length;eg++){let em=eu.charAt(eg),eb=em.charCodeAt(0);if(255!==ed[eb])throw TypeError(em+" is ambiguous");ed[eb]=eg}let eg=eu.length,em=eu.charAt(0),eb=Math.log(eg)/Math.log(256),ew=Math.log(256)/Math.log(eg);function e_(eu){if("string"!=typeof eu)throw TypeError("Expected String");if(0===eu.length)return new Uint8Array;let ew=0,e_=0,eE=0;for(;eu[ew]===em;)e_++,ew++;let eA=(eu.length-ew)*eb+1>>>0,eS=new Uint8Array(eA);for(;ew<eu.length;){let em=eu.charCodeAt(ew);if(em>255)return;let eb=ed[em];if(255===eb)return;let e_=0;for(let eu=eA-1;(0!==eb||e_<eE)&&-1!==eu;eu--,e_++)eb+=eg*eS[eu]>>>0,eS[eu]=eb%256>>>0,eb=eb/256>>>0;if(0!==eb)throw Error("Non-zero carry");eE=e_,ew++}let eI=eA-eE;for(;eI!==eA&&0===eS[eI];)eI++;let eC=new Uint8Array(e_+(eA-eI)),eM=e_;for(;eI!==eA;)eC[eM++]=eS[eI++];return eC}return{encode:function(ed){if(ed instanceof Uint8Array||(ArrayBuffer.isView(ed)?ed=new Uint8Array(ed.buffer,ed.byteOffset,ed.byteLength):Array.isArray(ed)&&(ed=Uint8Array.from(ed))),!(ed instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===ed.length)return"";let eb=0,e_=0,eE=0,eA=ed.length;for(;eE!==eA&&0===ed[eE];)eE++,eb++;let eS=(eA-eE)*ew+1>>>0,eI=new Uint8Array(eS);for(;eE!==eA;){let eu=ed[eE],em=0;for(let ed=eS-1;(0!==eu||em<e_)&&-1!==ed;ed--,em++)eu+=256*eI[ed]>>>0,eI[ed]=eu%eg>>>0,eu=eu/eg>>>0;if(0!==eu)throw Error("Non-zero carry");e_=em,eE++}let eC=eS-e_;for(;eC!==eS&&0===eI[eC];)eC++;let eM=em.repeat(eb);for(;eC<eS;++eC)eM+=eu.charAt(eI[eC]);return eM},decodeUnsafe:e_,decode:function(eu){let ed=e_(eu);if(ed)return ed;throw Error("Non-base"+eg+" character")}}}("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),rD=eg(61867),rB=eg(21611),rU=eg(95253),rL=eg(96246),rj=eg(27546),rF=eg(81395),r$=eg(34406),rK=eg(48834).Buffer;let rq=":";function rz(eu){let[ed,eg]=eu.split(rq);return{namespace:ed,reference:eg}}function rH(eu,ed){return eu.includes(":")?[eu]:ed.chains||[]}var rV=Object.defineProperty,rG=Object.defineProperties,rW=Object.getOwnPropertyDescriptors,rJ=Object.getOwnPropertySymbols,rZ=Object.prototype.hasOwnProperty,rY=Object.prototype.propertyIsEnumerable,rX=(eu,ed,eg)=>ed in eu?rV(eu,ed,{enumerable:!0,configurable:!0,writable:!0,value:eg}):eu[ed]=eg,rQ=(eu,ed)=>{for(var eg in ed||(ed={}))rZ.call(ed,eg)&&rX(eu,eg,ed[eg]);if(rJ)for(var eg of rJ(ed))rY.call(ed,eg)&&rX(eu,eg,ed[eg]);return eu},r6=(eu,ed)=>rG(eu,rW(ed)),r3=(eu,ed,eg)=>rX(eu,"symbol"!=typeof ed?ed+"":ed,eg);let r8="ReactNative",r5={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},r4="js";function r9(){return"u">typeof r$&&"u">typeof r$.versions&&"u">typeof r$.versions.node}function r7(){return!(0,eQ.getDocument)()&&!!(0,eQ.getNavigator)()&&navigator.product===r8}function nu(){return r7()&&"u">typeof eg.g&&"u">typeof(null==eg.g?void 0:eg.g.Platform)&&(null==eg.g?void 0:eg.g.Platform.OS)==="android"}function nh(){return r7()&&"u">typeof eg.g&&"u">typeof(null==eg.g?void 0:eg.g.Platform)&&(null==eg.g?void 0:eg.g.Platform.OS)==="ios"}function nd(){return!r9()&&!!(0,eQ.getNavigator)()&&!!(0,eQ.getDocument)()}function np(){return r7()?r5.reactNative:r9()?r5.node:nd()?r5.browser:r5.unknown}function ng(){var eu;try{return r7()&&"u">typeof eg.g&&"u">typeof(null==eg.g?void 0:eg.g.Application)?null==(eu=eg.g.Application)?void 0:eu.applicationId:void 0}catch{return}}function nm(eu,ed){let eg=new URLSearchParams(eu);for(let eu of Object.keys(ed).sort())if(ed.hasOwnProperty(eu)){let em=ed[eu];void 0!==em&&eg.set(eu,em)}return eg.toString()}function nw(eu){var ed,eg;let em=n_();try{return null!=eu&&eu.url&&em.url&&new URL(eu.url).host!==new URL(em.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${eu.url} differs from the actual page url:${em.url}. This is probably unintended and can lead to issues.`),eu.url=em.url),null!=(ed=eu?.icons)&&ed.length&&eu.icons.length>0&&(eu.icons=eu.icons.filter(eu=>""!==eu)),r6(rQ(rQ({},em),eu),{url:eu?.url||em.url,name:eu?.name||em.name,description:eu?.description||em.description,icons:null!=(eg=eu?.icons)&&eg.length&&eu.icons.length>0?eu.icons:em.icons})}catch(ed){return console.warn("Error populating app metadata",ed),eu||em}}function n_(){return(0,e0.D)()||{name:"",description:"",url:"",icons:[""]}}function nE(){if(np()===r5.reactNative&&"u">typeof eg.g&&"u">typeof(null==eg.g?void 0:eg.g.Platform)){let{OS:eu,Version:ed}=eg.g.Platform;return[eu,ed].join("-")}let eu=(0,eX.qY)();if(null===eu)return"unknown";let ed=eu.os?eu.os.replace(" ","").toLowerCase():"unknown";return"browser"===eu.type?[ed,eu.name,eu.version].join("-"):[ed,eu.version].join("-")}function nA(){var eu;let ed=np();return ed===r5.browser?[ed,(null==(eu=(0,eQ.getLocation)())?void 0:eu.host)||"unknown"].join(":"):ed}function nS(eu,ed,eg){let em=nE(),eb=nA();return[[eu,ed].join("-"),[r4,eg].join("-"),em,eb].join("/")}function nI({protocol:eu,version:ed,relayUrl:eg,sdkVersion:em,auth:eb,projectId:ew,useOnCloseEvent:e_,bundleId:eE,packageName:eA}){let eS=eg.split("?"),eI=nS(eu,ed,em),eC={auth:eb,ua:eI,projectId:ew,useOnCloseEvent:e_||void 0,packageName:eA||void 0,bundleId:eE||void 0},eM=nm(eS[1]||"",eC);return eS[0]+"?"+eM}function nC(eu,ed){return eu.filter(eu=>ed.includes(eu)).length===eu.length}function nM(eu){return Object.fromEntries(eu.entries())}function nO(eu){return new Map(Object.entries(eu))}function nT(eu=eJ.FIVE_MINUTES,ed){let eg,em,eb,ew;let e_=(0,eJ.toMiliseconds)(eu||eJ.FIVE_MINUTES);return{resolve:eu=>{eb&&eg&&(clearTimeout(eb),eg(eu),ew=Promise.resolve(eu))},reject:eu=>{eb&&em&&(clearTimeout(eb),em(eu))},done:()=>new Promise((eu,eE)=>{if(ew)return eu(ew);eb=setTimeout(()=>{let eu=Error(ed);ew=Promise.reject(eu),eE(eu)},e_),eg=eu,em=eE})}}function nP(eu,ed,eg){return new Promise(async(em,eb)=>{let ew=setTimeout(()=>eb(Error(eg)),ed);try{let ed=await eu;em(ed)}catch(eu){eb(eu)}clearTimeout(ew)})}function nN(eu,ed){if("string"==typeof ed&&ed.startsWith(`${eu}:`))return ed;if("topic"===eu.toLowerCase()){if("string"!=typeof ed)throw Error('Value must be "string" for expirer target type: topic');return`topic:${ed}`}if("id"===eu.toLowerCase()){if("number"!=typeof ed)throw Error('Value must be "number" for expirer target type: id');return`id:${ed}`}throw Error(`Unknown expirer target type: ${eu}`)}function nk(eu){return nN("topic",eu)}function nR(eu){return nN("id",eu)}function nD(eu){let[ed,eg]=eu.split(":"),em={id:void 0,topic:void 0};if("topic"===ed&&"string"==typeof eg)em.topic=eg;else if("id"===ed&&Number.isInteger(Number(eg)))em.id=Number(eg);else throw Error(`Invalid target, expected id:number or topic:string, got ${ed}:${eg}`);return em}function nB(eu,ed){return(0,eJ.fromMiliseconds)((ed||Date.now())+(0,eJ.toMiliseconds)(eu))}function nU(eu){return Date.now()>=(0,eJ.toMiliseconds)(eu)}function nL(eu,ed){return`${eu}${ed?`:${ed}`:""}`}function nj(eu=[],ed=[]){return[...new Set([...eu,...ed])]}async function nF({id:eu,topic:ed,wcDeepLink:em}){var eb;try{if(!em)return;let ew="string"==typeof em?JSON.parse(em):em,e_=ew?.href;if("string"!=typeof e_)return;let eE=n$(e_,eu,ed),eA=np();if(eA===r5.browser){if(!(null!=(eb=(0,eQ.getDocument)())&&eb.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}nK(eE)}else eA===r5.reactNative&&"u">typeof(null==eg.g?void 0:eg.g.Linking)&&await eg.g.Linking.openURL(eE)}catch(eu){console.error(eu)}}function n$(eu,ed,eg){let em=`requestId=${ed}&sessionTopic=${eg}`;eu.endsWith("/")&&(eu=eu.slice(0,-1));let eb=`${eu}`;if(eu.startsWith("https://t.me")){let ed=eu.includes("?")?"&startapp=":"?startapp=";eb=`${eb}${ed}${nZ(em,!0)}`}else eb=`${eb}/wc?${em}`;return eb}function nK(eu){let ed="_self";nJ()?ed="_top":(nW()||eu.startsWith("https://")||eu.startsWith("http://"))&&(ed="_blank"),window.open(eu,ed,"noreferrer noopener")}async function nq(eu,ed){let eg="";try{if(nd()&&(eg=localStorage.getItem(ed)))return eg;eg=await eu.getItem(ed)}catch(eu){console.error(eu)}return eg}function nH(eu,ed){if(!eu.includes(ed))return null;let eg=eu.split(/([&,?,=])/),em=eg.indexOf(ed);return eg[em+2]}function nV(){return"u">typeof crypto&&null!=crypto&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,eu=>{let ed=16*Math.random()|0;return("x"===eu?ed:3&ed|8).toString(16)})}function nG(){return"u">typeof r$&&"true"===r$.env.IS_VITEST}function nW(){return"u">typeof window&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function nJ(){try{return window.self!==window.top}catch{return!1}}function nZ(eu,ed=!1){let eg=rK.from(eu).toString("base64");return ed?eg.replace(/[=]/g,""):eg}function nY(eu){return rK.from(eu,"base64").toString("utf-8")}function nX(eu){return new Promise(ed=>setTimeout(ed,eu))}class nQ{constructor({limit:eu}){r3(this,"limit"),r3(this,"set"),this.limit=eu,this.set=new Set}add(eu){if(!this.set.has(eu)){if(this.set.size>=this.limit){let eu=this.set.values().next().value;eu&&this.set.delete(eu)}this.set.add(eu)}}has(eu){return this.set.has(eu)}}let n6=BigInt(4294967296-1),n8=BigInt(32);function n5(eu,ed=!1){return ed?{h:Number(eu&n6),l:Number(eu>>n8&n6)}:{h:0|Number(eu>>n8&n6),l:0|Number(eu&n6)}}function n4(eu,ed=!1){let eg=eu.length,em=new Uint32Array(eg),eb=new Uint32Array(eg);for(let ew=0;ew<eg;ew++){let{h:eg,l:e_}=n5(eu[ew],ed);[em[ew],eb[ew]]=[eg,e_]}return[em,eb]}let n9=(eu,ed,eg)=>eu>>>eg,n7=(eu,ed,eg)=>eu<<32-eg|ed>>>eg,iu=(eu,ed,eg)=>eu>>>eg|ed<<32-eg,ih=(eu,ed,eg)=>eu<<32-eg|ed>>>eg,ig=(eu,ed,eg)=>eu<<64-eg|ed>>>eg-32,ib=(eu,ed,eg)=>eu>>>eg-32|ed<<64-eg,iw=(eu,ed)=>ed,i_=(eu,ed)=>eu,iE=(eu,ed,eg)=>eu<<eg|ed>>>32-eg,iA=(eu,ed,eg)=>ed<<eg|eu>>>32-eg,iS=(eu,ed,eg)=>ed<<eg-32|eu>>>64-eg,iI=(eu,ed,eg)=>eu<<eg-32|ed>>>64-eg;function iC(eu,ed,eg,em){let eb=(ed>>>0)+(em>>>0);return{h:eu+eg+(eb/4294967296|0)|0,l:0|eb}}let iM=(eu,ed,eg)=>(eu>>>0)+(ed>>>0)+(eg>>>0),iO=(eu,ed,eg,em)=>ed+eg+em+(eu/4294967296|0)|0,iT=(eu,ed,eg,em)=>(eu>>>0)+(ed>>>0)+(eg>>>0)+(em>>>0),iP=(eu,ed,eg,em,eb)=>ed+eg+em+eb+(eu/4294967296|0)|0,iN=(eu,ed,eg,em,eb)=>(eu>>>0)+(ed>>>0)+(eg>>>0)+(em>>>0)+(eb>>>0),iR=(eu,ed,eg,em,eb,ew)=>ed+eg+em+eb+ew+(eu/4294967296|0)|0,iD="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function iB(eu){return eu instanceof Uint8Array||ArrayBuffer.isView(eu)&&"Uint8Array"===eu.constructor.name}function iU(eu){if(!Number.isSafeInteger(eu)||eu<0)throw Error("positive integer expected, got "+eu)}function iL(eu,...ed){if(!iB(eu))throw Error("Uint8Array expected");if(ed.length>0&&!ed.includes(eu.length))throw Error("Uint8Array expected of length "+ed+", got length="+eu.length)}function ij(eu){if("function"!=typeof eu||"function"!=typeof eu.create)throw Error("Hash should be wrapped by utils.createHasher");iU(eu.outputLen),iU(eu.blockLen)}function iF(eu,ed=!0){if(eu.destroyed)throw Error("Hash instance has been destroyed");if(ed&&eu.finished)throw Error("Hash#digest() has already been called")}function i$(eu,ed){iL(eu);let eg=ed.outputLen;if(eu.length<eg)throw Error("digestInto() expects output buffer of length at least "+eg)}function iK(eu){return new Uint32Array(eu.buffer,eu.byteOffset,Math.floor(eu.byteLength/4))}function iq(...eu){for(let ed=0;ed<eu.length;ed++)eu[ed].fill(0)}function iH(eu){return new DataView(eu.buffer,eu.byteOffset,eu.byteLength)}function iV(eu,ed){return eu<<32-ed|eu>>>ed}let iG=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0];function iW(eu){return eu<<24&4278190080|eu<<8&16711680|eu>>>8&65280|eu>>>24&255}let iJ=iG?eu=>eu:eu=>iW(eu);function iZ(eu){for(let ed=0;ed<eu.length;ed++)eu[ed]=iW(eu[ed]);return eu}let iY=iG?eu=>eu:iZ,iX="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,iQ=Array.from({length:256},(eu,ed)=>ed.toString(16).padStart(2,"0"));function i0(eu){if(iL(eu),iX)return eu.toHex();let ed="";for(let eg=0;eg<eu.length;eg++)ed+=iQ[eu[eg]];return ed}let i1={_0:48,_9:57,A:65,F:70,a:97,f:102};function i2(eu){return eu>=i1._0&&eu<=i1._9?eu-i1._0:eu>=i1.A&&eu<=i1.F?eu-(i1.A-10):eu>=i1.a&&eu<=i1.f?eu-(i1.a-10):void 0}function i6(eu){if("string"!=typeof eu)throw Error("hex string expected, got "+typeof eu);if(iX)return Uint8Array.fromHex(eu);let ed=eu.length,eg=ed/2;if(ed%2)throw Error("hex string expected, got unpadded hex of length "+ed);let em=new Uint8Array(eg);for(let ed=0,eb=0;ed<eg;ed++,eb+=2){let eg=i2(eu.charCodeAt(eb)),ew=i2(eu.charCodeAt(eb+1));if(void 0===eg||void 0===ew){let ed=eu[eb]+eu[eb+1];throw Error('hex string expected, got non-hex character "'+ed+'" at index '+eb)}em[ed]=16*eg+ew}return em}function i3(eu){if("string"!=typeof eu)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(eu))}function i8(eu){return"string"==typeof eu&&(eu=i3(eu)),iL(eu),eu}function i5(...eu){let ed=0;for(let eg=0;eg<eu.length;eg++){let em=eu[eg];iL(em),ed+=em.length}let eg=new Uint8Array(ed);for(let ed=0,em=0;ed<eu.length;ed++){let eb=eu[ed];eg.set(eb,em),em+=eb.length}return eg}class i4{}function i9(eu){let ed=ed=>eu().update(i8(ed)).digest(),eg=eu();return ed.outputLen=eg.outputLen,ed.blockLen=eg.blockLen,ed.create=()=>eu(),ed}function i7(eu){let ed=(ed,eg)=>eu(eg).update(i8(ed)).digest(),eg=eu({});return ed.outputLen=eg.outputLen,ed.blockLen=eg.blockLen,ed.create=ed=>eu(ed),ed}function ou(eu=32){if(iD&&"function"==typeof iD.getRandomValues)return iD.getRandomValues(new Uint8Array(eu));if(iD&&"function"==typeof iD.randomBytes)return Uint8Array.from(iD.randomBytes(eu));throw Error("crypto.getRandomValues must be defined")}let ol=BigInt(0),oh=BigInt(1),od=BigInt(2),og=BigInt(7),oy=BigInt(256),om=BigInt(113),ob=[],ov=[],ow=[];for(let eu=0,ed=oh,eg=1,em=0;eu<24;eu++){[eg,em]=[em,(2*eg+3*em)%5],ob.push(2*(5*em+eg)),ov.push((eu+1)*(eu+2)/2%64);let eb=ol;for(let eu=0;eu<7;eu++)(ed=(ed<<oh^(ed>>og)*om)%oy)&od&&(eb^=oh<<(oh<<BigInt(eu))-oh);ow.push(eb)}let o_=n4(ow,!0),oE=o_[0],oA=o_[1],oS=(eu,ed,eg)=>eg>32?iS(eu,ed,eg):iE(eu,ed,eg),oI=(eu,ed,eg)=>eg>32?iI(eu,ed,eg):iA(eu,ed,eg);function ox(eu,ed=24){let eg=new Uint32Array(10);for(let em=24-ed;em<24;em++){for(let ed=0;ed<10;ed++)eg[ed]=eu[ed]^eu[ed+10]^eu[ed+20]^eu[ed+30]^eu[ed+40];for(let ed=0;ed<10;ed+=2){let em=(ed+8)%10,eb=(ed+2)%10,ew=eg[eb],e_=eg[eb+1],eE=oS(ew,e_,1)^eg[em],eA=oI(ew,e_,1)^eg[em+1];for(let eg=0;eg<50;eg+=10)eu[ed+eg]^=eE,eu[ed+eg+1]^=eA}let ed=eu[2],eb=eu[3];for(let eg=0;eg<24;eg++){let em=ov[eg],ew=oS(ed,eb,em),e_=oI(ed,eb,em),eE=ob[eg];ed=eu[eE],eb=eu[eE+1],eu[eE]=ew,eu[eE+1]=e_}for(let ed=0;ed<50;ed+=10){for(let em=0;em<10;em++)eg[em]=eu[ed+em];for(let em=0;em<10;em++)eu[ed+em]^=~eg[(em+2)%10]&eg[(em+4)%10]}eu[0]^=oE[em],eu[1]^=oA[em]}iq(eg)}class oC extends i4{constructor(eu,ed,eg,em=!1,eb=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=eu,this.suffix=ed,this.outputLen=eg,this.enableXOF=em,this.rounds=eb,iU(eg),!(0<eu&&eu<200))throw Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=iK(this.state)}clone(){return this._cloneInto()}keccak(){iY(this.state32),ox(this.state32,this.rounds),iY(this.state32),this.posOut=0,this.pos=0}update(eu){iF(this),iL(eu=i8(eu));let{blockLen:ed,state:eg}=this,em=eu.length;for(let eb=0;eb<em;){let ew=Math.min(ed-this.pos,em-eb);for(let ed=0;ed<ew;ed++)eg[this.pos++]^=eu[eb++];this.pos===ed&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:eu,suffix:ed,pos:eg,blockLen:em}=this;eu[eg]^=ed,(128&ed)!=0&&eg===em-1&&this.keccak(),eu[em-1]^=128,this.keccak()}writeInto(eu){iF(this,!1),iL(eu),this.finish();let ed=this.state,{blockLen:eg}=this;for(let em=0,eb=eu.length;em<eb;){this.posOut>=eg&&this.keccak();let ew=Math.min(eg-this.posOut,eb-em);eu.set(ed.subarray(this.posOut,this.posOut+ew),em),this.posOut+=ew,em+=ew}return eu}xofInto(eu){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(eu)}xof(eu){return iU(eu),this.xofInto(new Uint8Array(eu))}digestInto(eu){if(i$(eu,this),this.finished)throw Error("digest() was already called");return this.writeInto(eu),this.destroy(),eu}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,iq(this.state)}_cloneInto(eu){let{blockLen:ed,suffix:eg,outputLen:em,rounds:eb,enableXOF:ew}=this;return eu||(eu=new oC(ed,eg,em,ew,eb)),eu.state32.set(this.state32),eu.pos=this.pos,eu.posOut=this.posOut,eu.finished=this.finished,eu.rounds=eb,eu.suffix=eg,eu.outputLen=em,eu.enableXOF=ew,eu.destroyed=this.destroyed,eu}}let oM=(eu,ed,eg)=>i9(()=>new oC(ed,eu,eg)),oO=oM(1,136,32);function oT(eu,ed,eg,em){if("function"==typeof eu.setBigUint64)return eu.setBigUint64(ed,eg,em);let eb=BigInt(32),ew=BigInt(4294967295),e_=Number(eg>>eb&ew),eE=Number(eg&ew),eA=em?4:0,eS=em?0:4;eu.setUint32(ed+eA,e_,em),eu.setUint32(ed+eS,eE,em)}function oP(eu,ed,eg){return eu&ed^~eu&eg}function oN(eu,ed,eg){return eu&ed^eu&eg^ed&eg}class oR extends i4{constructor(eu,ed,eg,em){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=eu,this.outputLen=ed,this.padOffset=eg,this.isLE=em,this.buffer=new Uint8Array(eu),this.view=iH(this.buffer)}update(eu){iF(this),iL(eu=i8(eu));let{view:ed,buffer:eg,blockLen:em}=this,eb=eu.length;for(let ew=0;ew<eb;){let e_=Math.min(em-this.pos,eb-ew);if(e_===em){let ed=iH(eu);for(;em<=eb-ew;ew+=em)this.process(ed,ew);continue}eg.set(eu.subarray(ew,ew+e_),this.pos),this.pos+=e_,ew+=e_,this.pos===em&&(this.process(ed,0),this.pos=0)}return this.length+=eu.length,this.roundClean(),this}digestInto(eu){iF(this),i$(eu,this),this.finished=!0;let{buffer:ed,view:eg,blockLen:em,isLE:eb}=this,{pos:ew}=this;ed[ew++]=128,iq(this.buffer.subarray(ew)),this.padOffset>em-ew&&(this.process(eg,0),ew=0);for(let eu=ew;eu<em;eu++)ed[eu]=0;oT(eg,em-8,BigInt(8*this.length),eb),this.process(eg,0);let e_=iH(eu),eE=this.outputLen;if(eE%4)throw Error("_sha2: outputLen should be aligned to 32bit");let eA=eE/4,eS=this.get();if(eA>eS.length)throw Error("_sha2: outputLen bigger than state");for(let eu=0;eu<eA;eu++)e_.setUint32(4*eu,eS[eu],eb)}digest(){let{buffer:eu,outputLen:ed}=this;this.digestInto(eu);let eg=eu.slice(0,ed);return this.destroy(),eg}_cloneInto(eu){eu||(eu=new this.constructor),eu.set(...this.get());let{blockLen:ed,buffer:eg,length:em,finished:eb,destroyed:ew,pos:e_}=this;return eu.destroyed=ew,eu.finished=eb,eu.length=em,eu.pos=e_,em%ed&&eu.buffer.set(eg),eu}clone(){return this._cloneInto()}}let oD=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),oB=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),oU=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),oL=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),oj=new Uint32Array(64);class oF extends oR{constructor(eu=32){super(64,eu,8,!1),this.A=0|oD[0],this.B=0|oD[1],this.C=0|oD[2],this.D=0|oD[3],this.E=0|oD[4],this.F=0|oD[5],this.G=0|oD[6],this.H=0|oD[7]}get(){let{A:eu,B:ed,C:eg,D:em,E:eb,F:ew,G:e_,H:eE}=this;return[eu,ed,eg,em,eb,ew,e_,eE]}set(eu,ed,eg,em,eb,ew,e_,eE){this.A=0|eu,this.B=0|ed,this.C=0|eg,this.D=0|em,this.E=0|eb,this.F=0|ew,this.G=0|e_,this.H=0|eE}process(eu,ed){for(let eg=0;eg<16;eg++,ed+=4)oj[eg]=eu.getUint32(ed,!1);for(let eu=16;eu<64;eu++){let ed=oj[eu-15],eg=oj[eu-2],em=iV(ed,7)^iV(ed,18)^ed>>>3,eb=iV(eg,17)^iV(eg,19)^eg>>>10;oj[eu]=eb+oj[eu-7]+em+oj[eu-16]|0}let{A:eg,B:em,C:eb,D:ew,E:e_,F:eE,G:eA,H:eS}=this;for(let eu=0;eu<64;eu++){let ed=iV(e_,6)^iV(e_,11)^iV(e_,25),eI=eS+ed+oP(e_,eE,eA)+oL[eu]+oj[eu]|0,eC=(iV(eg,2)^iV(eg,13)^iV(eg,22))+oN(eg,em,eb)|0;eS=eA,eA=eE,eE=e_,e_=ew+eI|0,ew=eb,eb=em,em=eg,eg=eI+eC|0}eg=eg+this.A|0,em=em+this.B|0,eb=eb+this.C|0,ew=ew+this.D|0,e_=e_+this.E|0,eE=eE+this.F|0,eA=eA+this.G|0,eS=eS+this.H|0,this.set(eg,em,eb,ew,e_,eE,eA,eS)}roundClean(){iq(oj)}destroy(){this.set(0,0,0,0,0,0,0,0),iq(this.buffer)}}let o$=n4(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(eu=>BigInt(eu))),oK=o$[0],oq=o$[1],oz=new Uint32Array(80),oH=new Uint32Array(80);class oV extends oR{constructor(eu=64){super(128,eu,16,!1),this.Ah=0|oU[0],this.Al=0|oU[1],this.Bh=0|oU[2],this.Bl=0|oU[3],this.Ch=0|oU[4],this.Cl=0|oU[5],this.Dh=0|oU[6],this.Dl=0|oU[7],this.Eh=0|oU[8],this.El=0|oU[9],this.Fh=0|oU[10],this.Fl=0|oU[11],this.Gh=0|oU[12],this.Gl=0|oU[13],this.Hh=0|oU[14],this.Hl=0|oU[15]}get(){let{Ah:eu,Al:ed,Bh:eg,Bl:em,Ch:eb,Cl:ew,Dh:e_,Dl:eE,Eh:eA,El:eS,Fh:eI,Fl:eC,Gh:eM,Gl:eO,Hh:eT,Hl:eP}=this;return[eu,ed,eg,em,eb,ew,e_,eE,eA,eS,eI,eC,eM,eO,eT,eP]}set(eu,ed,eg,em,eb,ew,e_,eE,eA,eS,eI,eC,eM,eO,eT,eP){this.Ah=0|eu,this.Al=0|ed,this.Bh=0|eg,this.Bl=0|em,this.Ch=0|eb,this.Cl=0|ew,this.Dh=0|e_,this.Dl=0|eE,this.Eh=0|eA,this.El=0|eS,this.Fh=0|eI,this.Fl=0|eC,this.Gh=0|eM,this.Gl=0|eO,this.Hh=0|eT,this.Hl=0|eP}process(eu,ed){for(let eg=0;eg<16;eg++,ed+=4)oz[eg]=eu.getUint32(ed),oH[eg]=eu.getUint32(ed+=4);for(let eu=16;eu<80;eu++){let ed=0|oz[eu-15],eg=0|oH[eu-15],em=iu(ed,eg,1)^iu(ed,eg,8)^n9(ed,eg,7),eb=ih(ed,eg,1)^ih(ed,eg,8)^n7(ed,eg,7),ew=0|oz[eu-2],e_=0|oH[eu-2],eE=iu(ew,e_,19)^ig(ew,e_,61)^n9(ew,e_,6),eA=ih(ew,e_,19)^ib(ew,e_,61)^n7(ew,e_,6),eS=iT(eb,eA,oH[eu-7],oH[eu-16]),eI=iP(eS,em,eE,oz[eu-7],oz[eu-16]);oz[eu]=0|eI,oH[eu]=0|eS}let{Ah:eg,Al:em,Bh:eb,Bl:ew,Ch:e_,Cl:eE,Dh:eA,Dl:eS,Eh:eI,El:eC,Fh:eM,Fl:eO,Gh:eT,Gl:eP,Hh:eN,Hl:ek}=this;for(let eu=0;eu<80;eu++){let ed=iu(eI,eC,14)^iu(eI,eC,18)^ig(eI,eC,41),eR=ih(eI,eC,14)^ih(eI,eC,18)^ib(eI,eC,41),eD=eI&eM^~eI&eT,eB=eC&eO^~eC&eP,eU=iN(ek,eR,eB,oq[eu],oH[eu]),eL=iR(eU,eN,ed,eD,oK[eu],oz[eu]),ej=0|eU,eF=iu(eg,em,28)^ig(eg,em,34)^ig(eg,em,39),e$=ih(eg,em,28)^ib(eg,em,34)^ib(eg,em,39),eK=eg&eb^eg&e_^eb&e_,eH=em&ew^em&eE^ew&eE;eN=0|eT,ek=0|eP,eT=0|eM,eP=0|eO,eM=0|eI,eO=0|eC,({h:eI,l:eC}=iC(0|eA,0|eS,0|eL,0|ej)),eA=0|e_,eS=0|eE,e_=0|eb,eE=0|ew,eb=0|eg,ew=0|em;let eV=iM(ej,e$,eH);eg=iO(eV,eL,eF,eK),em=0|eV}({h:eg,l:em}=iC(0|this.Ah,0|this.Al,0|eg,0|em)),({h:eb,l:ew}=iC(0|this.Bh,0|this.Bl,0|eb,0|ew)),({h:e_,l:eE}=iC(0|this.Ch,0|this.Cl,0|e_,0|eE)),({h:eA,l:eS}=iC(0|this.Dh,0|this.Dl,0|eA,0|eS)),({h:eI,l:eC}=iC(0|this.Eh,0|this.El,0|eI,0|eC)),({h:eM,l:eO}=iC(0|this.Fh,0|this.Fl,0|eM,0|eO)),({h:eT,l:eP}=iC(0|this.Gh,0|this.Gl,0|eT,0|eP)),({h:eN,l:ek}=iC(0|this.Hh,0|this.Hl,0|eN,0|ek)),this.set(eg,em,eb,ew,e_,eE,eA,eS,eI,eC,eM,eO,eT,eP,eN,ek)}roundClean(){iq(oz,oH)}destroy(){iq(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class oG extends oV{constructor(){super(48),this.Ah=0|oB[0],this.Al=0|oB[1],this.Bh=0|oB[2],this.Bl=0|oB[3],this.Ch=0|oB[4],this.Cl=0|oB[5],this.Dh=0|oB[6],this.Dl=0|oB[7],this.Eh=0|oB[8],this.El=0|oB[9],this.Fh=0|oB[10],this.Fl=0|oB[11],this.Gh=0|oB[12],this.Gl=0|oB[13],this.Hh=0|oB[14],this.Hl=0|oB[15]}}let oW=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class oJ extends oV{constructor(){super(32),this.Ah=0|oW[0],this.Al=0|oW[1],this.Bh=0|oW[2],this.Bl=0|oW[3],this.Ch=0|oW[4],this.Cl=0|oW[5],this.Dh=0|oW[6],this.Dl=0|oW[7],this.Eh=0|oW[8],this.El=0|oW[9],this.Fh=0|oW[10],this.Fl=0|oW[11],this.Gh=0|oW[12],this.Gl=0|oW[13],this.Hh=0|oW[14],this.Hl=0|oW[15]}}let oZ=i9(()=>new oF),oY=i9(()=>new oV),oX=i9(()=>new oG),oQ=i9(()=>new oJ),o2=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),o6=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),o3=new Uint32Array(32);function o8(eu,ed,eg,em,eb,ew){let e_=eb[ew],eE=eb[ew+1],eA=o3[2*eu],eS=o3[2*eu+1],eI=o3[2*ed],eC=o3[2*ed+1],eM=o3[2*eg],eO=o3[2*eg+1],eT=o3[2*em],eP=o3[2*em+1],eN=iM(eA,eI,e_);eS=iO(eN,eS,eC,eE),eA=0|eN,({Dh:eP,Dl:eT}={Dh:eP^eS,Dl:eT^eA}),({Dh:eP,Dl:eT}={Dh:iw(eP,eT),Dl:i_(eP)}),({h:eO,l:eM}=iC(eO,eM,eP,eT)),({Bh:eC,Bl:eI}={Bh:eC^eO,Bl:eI^eM}),({Bh:eC,Bl:eI}={Bh:iu(eC,eI,24),Bl:ih(eC,eI,24)}),o3[2*eu]=eA,o3[2*eu+1]=eS,o3[2*ed]=eI,o3[2*ed+1]=eC,o3[2*eg]=eM,o3[2*eg+1]=eO,o3[2*em]=eT,o3[2*em+1]=eP}function o5(eu,ed,eg,em,eb,ew){let e_=eb[ew],eE=eb[ew+1],eA=o3[2*eu],eS=o3[2*eu+1],eI=o3[2*ed],eC=o3[2*ed+1],eM=o3[2*eg],eO=o3[2*eg+1],eT=o3[2*em],eP=o3[2*em+1],eN=iM(eA,eI,e_);eS=iO(eN,eS,eC,eE),eA=0|eN,({Dh:eP,Dl:eT}={Dh:eP^eS,Dl:eT^eA}),({Dh:eP,Dl:eT}={Dh:iu(eP,eT,16),Dl:ih(eP,eT,16)}),({h:eO,l:eM}=iC(eO,eM,eP,eT)),({Bh:eC,Bl:eI}={Bh:eC^eO,Bl:eI^eM}),({Bh:eC,Bl:eI}={Bh:ig(eC,eI,63),Bl:ib(eC,eI,63)}),o3[2*eu]=eA,o3[2*eu+1]=eS,o3[2*ed]=eI,o3[2*ed+1]=eC,o3[2*eg]=eM,o3[2*eg+1]=eO,o3[2*em]=eT,o3[2*em+1]=eP}function o4(eu,ed={},eg,em,eb){if(iU(eg),eu<0||eu>eg)throw Error("outputLen bigger than keyLen");let{key:ew,salt:e_,personalization:eE}=ed;if(void 0!==ew&&(ew.length<1||ew.length>eg))throw Error("key length must be undefined or 1.."+eg);if(void 0!==e_&&e_.length!==em)throw Error("salt must be undefined or "+em);if(void 0!==eE&&eE.length!==eb)throw Error("personalization must be undefined or "+eb)}class o9 extends i4{constructor(eu,ed){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,iU(eu),iU(ed),this.blockLen=eu,this.outputLen=ed,this.buffer=new Uint8Array(eu),this.buffer32=iK(this.buffer)}update(eu){iF(this),iL(eu=i8(eu));let{blockLen:ed,buffer:eg,buffer32:em}=this,eb=eu.length,ew=eu.byteOffset,e_=eu.buffer;for(let eE=0;eE<eb;){this.pos===ed&&(iY(em),this.compress(em,0,!1),iY(em),this.pos=0);let eA=Math.min(ed-this.pos,eb-eE),eS=ew+eE;if(eA===ed&&!(eS%4)&&eE+eA<eb){let eu=new Uint32Array(e_,eS,Math.floor((eb-eE)/4));iY(eu);for(let eg=0;eE+ed<eb;eg+=em.length,eE+=ed)this.length+=ed,this.compress(eu,eg,!1);iY(eu);continue}eg.set(eu.subarray(eE,eE+eA),this.pos),this.pos+=eA,this.length+=eA,eE+=eA}return this}digestInto(eu){iF(this),i$(eu,this);let{pos:ed,buffer32:eg}=this;this.finished=!0,iq(this.buffer.subarray(ed)),iY(eg),this.compress(eg,0,!0),iY(eg);let em=iK(eu);this.get().forEach((eu,ed)=>em[ed]=iJ(eu))}digest(){let{buffer:eu,outputLen:ed}=this;this.digestInto(eu);let eg=eu.slice(0,ed);return this.destroy(),eg}_cloneInto(eu){let{buffer:ed,length:eg,finished:em,destroyed:eb,outputLen:ew,pos:e_}=this;return eu||(eu=new this.constructor({dkLen:ew})),eu.set(...this.get()),eu.buffer.set(ed),eu.destroyed=eb,eu.finished=em,eu.length=eg,eu.pos=e_,eu.outputLen=ew,eu}clone(){return this._cloneInto()}}class o7 extends o9{constructor(eu={}){let ed=void 0===eu.dkLen?64:eu.dkLen;super(128,ed),this.v0l=0|o6[0],this.v0h=0|o6[1],this.v1l=0|o6[2],this.v1h=0|o6[3],this.v2l=0|o6[4],this.v2h=0|o6[5],this.v3l=0|o6[6],this.v3h=0|o6[7],this.v4l=0|o6[8],this.v4h=0|o6[9],this.v5l=0|o6[10],this.v5h=0|o6[11],this.v6l=0|o6[12],this.v6h=0|o6[13],this.v7l=0|o6[14],this.v7h=0|o6[15],o4(ed,eu,64,16,16);let{key:eg,personalization:em,salt:eb}=eu,ew=0;if(void 0!==eg&&(ew=(eg=i8(eg)).length),this.v0l^=this.outputLen|ew<<8|16842752,void 0!==eb){eb=i8(eb);let eu=iK(eb);this.v4l^=iJ(eu[0]),this.v4h^=iJ(eu[1]),this.v5l^=iJ(eu[2]),this.v5h^=iJ(eu[3])}if(void 0!==em){em=i8(em);let eu=iK(em);this.v6l^=iJ(eu[0]),this.v6h^=iJ(eu[1]),this.v7l^=iJ(eu[2]),this.v7h^=iJ(eu[3])}if(void 0!==eg){let eu=new Uint8Array(this.blockLen);eu.set(eg),this.update(eu)}}get(){let{v0l:eu,v0h:ed,v1l:eg,v1h:em,v2l:eb,v2h:ew,v3l:e_,v3h:eE,v4l:eA,v4h:eS,v5l:eI,v5h:eC,v6l:eM,v6h:eO,v7l:eT,v7h:eP}=this;return[eu,ed,eg,em,eb,ew,e_,eE,eA,eS,eI,eC,eM,eO,eT,eP]}set(eu,ed,eg,em,eb,ew,e_,eE,eA,eS,eI,eC,eM,eO,eT,eP){this.v0l=0|eu,this.v0h=0|ed,this.v1l=0|eg,this.v1h=0|em,this.v2l=0|eb,this.v2h=0|ew,this.v3l=0|e_,this.v3h=0|eE,this.v4l=0|eA,this.v4h=0|eS,this.v5l=0|eI,this.v5h=0|eC,this.v6l=0|eM,this.v6h=0|eO,this.v7l=0|eT,this.v7h=0|eP}compress(eu,ed,eg){this.get().forEach((eu,ed)=>o3[ed]=eu),o3.set(o6,16);let{h:em,l:eb}=n5(BigInt(this.length));o3[24]=o6[8]^eb,o3[25]=o6[9]^em,eg&&(o3[28]=~o3[28],o3[29]=~o3[29]);let ew=0,e_=o2;for(let eg=0;eg<12;eg++)o8(0,4,8,12,eu,ed+2*e_[ew++]),o5(0,4,8,12,eu,ed+2*e_[ew++]),o8(1,5,9,13,eu,ed+2*e_[ew++]),o5(1,5,9,13,eu,ed+2*e_[ew++]),o8(2,6,10,14,eu,ed+2*e_[ew++]),o5(2,6,10,14,eu,ed+2*e_[ew++]),o8(3,7,11,15,eu,ed+2*e_[ew++]),o5(3,7,11,15,eu,ed+2*e_[ew++]),o8(0,5,10,15,eu,ed+2*e_[ew++]),o5(0,5,10,15,eu,ed+2*e_[ew++]),o8(1,6,11,12,eu,ed+2*e_[ew++]),o5(1,6,11,12,eu,ed+2*e_[ew++]),o8(2,7,8,13,eu,ed+2*e_[ew++]),o5(2,7,8,13,eu,ed+2*e_[ew++]),o8(3,4,9,14,eu,ed+2*e_[ew++]),o5(3,4,9,14,eu,ed+2*e_[ew++]);this.v0l^=o3[0]^o3[16],this.v0h^=o3[1]^o3[17],this.v1l^=o3[2]^o3[18],this.v1h^=o3[3]^o3[19],this.v2l^=o3[4]^o3[20],this.v2h^=o3[5]^o3[21],this.v3l^=o3[6]^o3[22],this.v3h^=o3[7]^o3[23],this.v4l^=o3[8]^o3[24],this.v4h^=o3[9]^o3[25],this.v5l^=o3[10]^o3[26],this.v5h^=o3[11]^o3[27],this.v6l^=o3[12]^o3[28],this.v6h^=o3[13]^o3[29],this.v7l^=o3[14]^o3[30],this.v7h^=o3[15]^o3[31],iq(o3)}destroy(){this.destroyed=!0,iq(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}let su=i7(eu=>new o7(eu)),sp="https://rpc.walletconnect.org/v1";function sg(eu){let ed=`Ethereum Signed Message:
${eu.length}`,eg=new TextEncoder().encode(ed+eu);return"0x"+rK.from(oO(eg)).toString("hex")}async function sy(eu,ed,eg,em,eb,ew){switch(eg.t){case"eip191":return await sm(eu,ed,eg.s);case"eip1271":return await sE(eu,ed,eg.s,em,eb,ew);default:throw Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${eg.t}`)}}async function sm(eu,ed,eg){return(await rN({hash:sg(ed),signature:eg})).toLowerCase()===eu.toLowerCase()}async function sE(eu,ed,eg,em,eb,ew){let e_=rz(em);if(!e_.namespace||!e_.reference)throw Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${em}`);try{let e_="0x1626ba7e",eE="0000000000000000000000000000000000000000000000000000000000000040",eA=eg.substring(2),eS=(eA.length/2).toString(16).padStart(64,"0"),eI=(ed.startsWith("0x")?ed:sg(ed)).substring(2),eC=e_+eI+eE+eS+eA,eM=await fetch(`${ew||sp}/?chainId=${em}&projectId=${eb}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:sA(),jsonrpc:"2.0",method:"eth_call",params:[{to:eu,data:eC},"latest"]})}),{result:eO}=await eM.json();return!!eO&&eO.slice(0,e_.length).toLowerCase()===e_.toLowerCase()}catch(eu){return console.error("isValidEip1271Signature: ",eu),!1}}function sA(){return Date.now()+Math.floor(1e3*Math.random())}function sS(eu){let ed=atob(eu),eg=new Uint8Array(ed.length);for(let eu=0;eu<ed.length;eu++)eg[eu]=ed.charCodeAt(eu);let em=eg[0];if(0===em)throw Error("No signatures found");let eb=1+64*em;if(eg.length<eb)throw Error("Transaction data too short for claimed signature count");if(eg.length<100)throw Error("Transaction too short");let ew=rK.from(eu,"base64").slice(1,65);return rR.encode(ew)}function sI(eu){let ed=new Uint8Array(rK.from(eu,"base64")),eg=Array.from("TransactionData::").map(eu=>eu.charCodeAt(0)),em=new Uint8Array(eg.length+ed.length);em.set(eg),em.set(ed,eg.length);let eb=su(em,{dkLen:32});return rR.encode(eb)}function sC(eu){let ed=new Uint8Array(oZ(sM(eu)));return rR.encode(ed)}function sM(eu){if(eu instanceof Uint8Array)return eu;if(Array.isArray(eu))return new Uint8Array(eu);if("object"==typeof eu&&null!=eu&&eu.data)return new Uint8Array(Object.values(eu.data));if("object"==typeof eu&&eu)return new Uint8Array(Object.values(eu));throw Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}function sO(eu){let ed=rK.from(eu,"base64"),eg=(0,rD.J)(ed).txn;if(!eg)throw Error("Invalid signed transaction: missing 'txn' field");let em=(0,rB.c)(eg),eb=rK.from("TX"),ew=rK.concat([eb,rK.from(em)]),e_=oQ(ew);return rU.pJ.encode(e_).replace(/=+$/,"")}function sT(eu){let ed=[],eg=BigInt(eu);for(;eg>=BigInt(128);)ed.push(Number(eg&BigInt(127)|BigInt(128))),eg>>=BigInt(7);return ed.push(Number(eg)),rK.from(ed)}function sP(eu){let ed=rK.from(eu.signed.bodyBytes,"base64"),eg=rK.from(eu.signed.authInfoBytes,"base64"),em=rK.from(eu.signature.signature,"base64"),eb=[];eb.push(rK.from([10])),eb.push(sT(ed.length)),eb.push(ed),eb.push(rK.from([18])),eb.push(sT(eg.length)),eb.push(eg),eb.push(rK.from([26])),eb.push(sT(em.length)),eb.push(em);let ew=rK.concat(eb),e_=oZ(ew);return rK.from(e_).toString("hex").toUpperCase()}var sN=Object.defineProperty,sk=Object.defineProperties,sR=Object.getOwnPropertyDescriptors,sD=Object.getOwnPropertySymbols,sB=Object.prototype.hasOwnProperty,sU=Object.prototype.propertyIsEnumerable,sL=(eu,ed,eg)=>ed in eu?sN(eu,ed,{enumerable:!0,configurable:!0,writable:!0,value:eg}):eu[ed]=eg,sj=(eu,ed)=>{for(var eg in ed||(ed={}))sB.call(ed,eg)&&sL(eu,eg,ed[eg]);if(sD)for(var eg of sD(ed))sU.call(ed,eg)&&sL(eu,eg,ed[eg]);return eu},sF=(eu,ed)=>sk(eu,sR(ed));let s$="did:pkh:",sK=eu=>eu?.split(":"),sq=eu=>{let ed=eu&&sK(eu);if(ed)return eu.includes(s$)?ed[3]:ed[1]},sz=eu=>{let ed=eu&&sK(eu);if(ed)return ed[2]+":"+ed[3]},sH=eu=>{let ed=eu&&sK(eu);if(ed)return ed.pop()};async function sV(eu){let{cacao:ed,projectId:eg}=eu,{s:em,p:eb}=ed,ew=sG(eb,eb.iss),e_=sH(eb.iss);return await sy(e_,ew,em,sz(eb.iss),eg)}let sG=(eu,ed)=>{let eg=`${eu.domain} wants you to sign in with your Ethereum account:`,em=sH(ed);if(!eu.aud&&!eu.uri)throw Error("Either `aud` or `uri` is required to construct the message");let eb=eu.statement||void 0,ew=`URI: ${eu.aud||eu.uri}`,e_=`Version: ${eu.version}`,eE=`Chain ID: ${sq(ed)}`,eA=`Nonce: ${eu.nonce}`,eS=`Issued At: ${eu.iat}`,eI=eu.exp?`Expiration Time: ${eu.exp}`:void 0,eC=eu.nbf?`Not Before: ${eu.nbf}`:void 0,eM=eu.requestId?`Request ID: ${eu.requestId}`:void 0,eO=eu.resources?`Resources:${eu.resources.map(eu=>`
- ${eu}`).join("")}`:void 0,eT=ag(eu.resources);if(eT){let eu=s6(eT);eb=s7(eb,eu)}return[eg,em,"",eb,"",ew,e_,eE,eA,eS,eI,eC,eM,eO].filter(eu=>null!=eu).join(`
`)};function sW(eu){return rK.from(JSON.stringify(eu)).toString("base64")}function sJ(eu){return JSON.parse(rK.from(eu,"base64").toString("utf-8"))}function sZ(eu){if(!eu)throw Error("No recap provided, value is undefined");if(!eu.att)throw Error("No `att` property found");let ed=Object.keys(eu.att);if(!(null!=ed&&ed.length))throw Error("No resources found in `att` property");ed.forEach(ed=>{let eg=eu.att[ed];if(Array.isArray(eg)||"object"!=typeof eg)throw Error(`Resource must be an object: ${ed}`);if(!Object.keys(eg).length)throw Error(`Resource object is empty: ${ed}`);Object.keys(eg).forEach(eu=>{let ed=eg[eu];if(!Array.isArray(ed))throw Error(`Ability limits ${eu} must be an array of objects, found: ${ed}`);if(!ed.length)throw Error(`Value of ${eu} is empty array, must be an array with objects`);ed.forEach(ed=>{if("object"!=typeof ed)throw Error(`Ability limits (${eu}) must be an array of objects, found: ${ed}`)})})})}function sY(eu,ed,eg,em={}){return eg?.sort((eu,ed)=>eu.localeCompare(ed)),{att:{[eu]:sX(ed,eg,em)}}}function sX(eu,ed,eg={}){ed=ed?.sort((eu,ed)=>eu.localeCompare(ed));let em=ed.map(ed=>({[`${eu}/${ed}`]:[eg]}));return Object.assign({},...em)}function sQ(eu){return sZ(eu),`urn:recap:${sW(eu).replace(/=/g,"")}`}function s6(eu){let ed=sJ(eu.replace("urn:recap:",""));return sZ(ed),ed}function s8(eu,ed,eg){let em=sY(eu,ed,eg);return sQ(em)}function s5(eu){return eu&&eu.includes("urn:recap:")}function s4(eu,ed){let eg=s6(eu),em=s6(ed),eb=s9(eg,em);return sQ(eb)}function s9(eu,ed){sZ(eu),sZ(ed);let eg=Object.keys(eu.att).concat(Object.keys(ed.att)).sort((eu,ed)=>eu.localeCompare(ed)),em={att:{}};return eg.forEach(eg=>{var eb,ew;Object.keys((null==(eb=eu.att)?void 0:eb[eg])||{}).concat(Object.keys((null==(ew=ed.att)?void 0:ew[eg])||{})).sort((eu,ed)=>eu.localeCompare(ed)).forEach(eb=>{var ew,e_;em.att[eg]=sF(sj({},em.att[eg]),{[eb]:(null==(ew=eu.att[eg])?void 0:ew[eb])||(null==(e_=ed.att[eg])?void 0:e_[eb])})})}),em}function s7(eu="",ed){sZ(ed);let eg="I further authorize the stated URI to perform the following actions on my behalf: ";if(eu.includes(eg))return eu;let em=[],eb=0;Object.keys(ed.att).forEach(eu=>{let eg=Object.keys(ed.att[eu]).map(eu=>({ability:eu.split("/")[0],action:eu.split("/")[1]}));eg.sort((eu,ed)=>eu.action.localeCompare(ed.action));let ew={};eg.forEach(eu=>{ew[eu.ability]||(ew[eu.ability]=[]),ew[eu.ability].push(eu.action)});let e_=Object.keys(ew).map(ed=>`(${++eb}) '${ed}': '${ew[ed].join("', '")}' for '${eu}'.`);em.push(e_.join(", ").replace(".,","."))});let ew=em.join(" "),e_=`${eg}${ew}`;return`${eu?eu+" ":""}${e_}`}function au(eu){var ed;let eg=s6(eu);sZ(eg);let em=null==(ed=eg.att)?void 0:ed.eip155;return em?Object.keys(em).map(eu=>eu.split("/")[1]):[]}function ad(eu){let ed=s6(eu);sZ(ed);let eg=[];return Object.values(ed.att).forEach(eu=>{Object.values(eu).forEach(eu=>{var ed;null!=(ed=eu?.[0])&&ed.chains&&eg.push(eu[0].chains)})}),[...new Set(eg.flat())]}function ag(eu){if(!eu)return;let ed=eu?.[eu.length-1];return s5(ed)?ed:void 0}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function am(eu){return eu instanceof Uint8Array||ArrayBuffer.isView(eu)&&"Uint8Array"===eu.constructor.name}function av(eu){if("boolean"!=typeof eu)throw Error(`boolean expected, not ${eu}`)}function aw(eu){if(!Number.isSafeInteger(eu)||eu<0)throw Error("positive integer expected, got "+eu)}function a_(eu,...ed){if(!am(eu))throw Error("Uint8Array expected");if(ed.length>0&&!ed.includes(eu.length))throw Error("Uint8Array expected of length "+ed+", got length="+eu.length)}function aE(eu,ed=!0){if(eu.destroyed)throw Error("Hash instance has been destroyed");if(ed&&eu.finished)throw Error("Hash#digest() has already been called")}function aA(eu,ed){a_(eu);let eg=ed.outputLen;if(eu.length<eg)throw Error("digestInto() expects output buffer of length at least "+eg)}function aS(eu){return new Uint32Array(eu.buffer,eu.byteOffset,Math.floor(eu.byteLength/4))}function aI(...eu){for(let ed=0;ed<eu.length;ed++)eu[ed].fill(0)}function aC(eu){return new DataView(eu.buffer,eu.byteOffset,eu.byteLength)}let aM=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0];function aO(eu){if("string"!=typeof eu)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(eu))}function aT(eu){if("string"==typeof eu)eu=aO(eu);else if(am(eu))eu=aj(eu);else throw Error("Uint8Array expected, got "+typeof eu);return eu}function aP(eu,ed){if(null==ed||"object"!=typeof ed)throw Error("options must be defined");return Object.assign(eu,ed)}function aN(eu,ed){if(eu.length!==ed.length)return!1;let eg=0;for(let em=0;em<eu.length;em++)eg|=eu[em]^ed[em];return 0===eg}let aR=(eu,ed)=>{function eg(em,...eb){if(a_(em),!aM)throw Error("Non little-endian hardware is not yet supported");if(void 0!==eu.nonceLength){let ed=eb[0];if(!ed)throw Error("nonce / iv required");eu.varSizeNonce?a_(ed):a_(ed,eu.nonceLength)}let ew=eu.tagLength;ew&&void 0!==eb[1]&&a_(eb[1]);let e_=ed(em,...eb),eE=(eu,ed)=>{if(void 0!==ed){if(2!==eu)throw Error("cipher output not supported");a_(ed)}},eA=!1;return{encrypt(eu,ed){if(eA)throw Error("cannot encrypt() twice with same key + nonce");return eA=!0,a_(eu),eE(e_.encrypt.length,ed),e_.encrypt(eu,ed)},decrypt(eu,ed){if(a_(eu),ew&&eu.length<ew)throw Error("invalid ciphertext length: smaller than tagLength="+ew);return eE(e_.decrypt.length,ed),e_.decrypt(eu,ed)}}}return Object.assign(eg,eu),eg};function aD(eu,ed,eg=!0){if(void 0===ed)return new Uint8Array(eu);if(ed.length!==eu)throw Error("invalid output length, expected "+eu+", got: "+ed.length);if(eg&&!aL(ed))throw Error("invalid output, must be aligned");return ed}function aB(eu,ed,eg,em){if("function"==typeof eu.setBigUint64)return eu.setBigUint64(ed,eg,em);let eb=BigInt(32),ew=BigInt(4294967295),e_=Number(eg>>eb&ew),eE=Number(eg&ew),eA=em?4:0,eS=em?0:4;eu.setUint32(ed+eA,e_,em),eu.setUint32(ed+eS,eE,em)}function aU(eu,ed,eg){av(eg);let em=new Uint8Array(16),eb=aC(em);return aB(eb,0,BigInt(ed),eg),aB(eb,8,BigInt(eu),eg),em}function aL(eu){return eu.byteOffset%4==0}function aj(eu){return Uint8Array.from(eu)}let aF=eu=>Uint8Array.from(eu.split("").map(eu=>eu.charCodeAt(0))),a$=aF("expand 16-byte k"),aK=aF("expand 32-byte k"),aq=aS(a$),az=aS(aK);function aH(eu,ed){return eu<<ed|eu>>>32-ed}function aV(eu){return eu.byteOffset%4==0}let aG=64,aW=16,aJ=4294967296-1,aZ=new Uint32Array;function aY(eu,ed,eg,em,eb,ew,e_,eE){let eA=eb.length,eS=new Uint8Array(aG),eI=aS(eS),eC=aV(eb)&&aV(ew),eM=eC?aS(eb):aZ,eO=eC?aS(ew):aZ;for(let eT=0;eT<eA;e_++){if(eu(ed,eg,em,eI,e_,eE),e_>=aJ)throw Error("arx: counter overflow");let eP=Math.min(aG,eA-eT);if(eC&&eP===aG){let eu=eT/4;if(eT%4!=0)throw Error("arx: invalid block position");for(let ed=0,eg;ed<aW;ed++)eO[eg=eu+ed]=eM[eg]^eI[ed];eT+=aG;continue}for(let eu=0,ed;eu<eP;eu++)ew[ed=eT+eu]=eb[ed]^eS[eu];eT+=eP}}function aX(eu,ed){let{allowShortKeys:eg,extendNonceFn:em,counterLength:eb,counterRight:ew,rounds:e_}=aP({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},ed);if("function"!=typeof eu)throw Error("core must be a function");return aw(eb),aw(e_),av(ew),av(eg),(ed,eE,eA,eS,eI=0)=>{a_(ed),a_(eE),a_(eA);let eC=eA.length;if(void 0===eS&&(eS=new Uint8Array(eC)),a_(eS),aw(eI),eI<0||eI>=aJ)throw Error("arx: counter overflow");if(eS.length<eC)throw Error(`arx: output (${eS.length}) is shorter than data (${eC})`);let eM=[],eO=ed.length,eT,eP;if(32===eO)eM.push(eT=aj(ed)),eP=az;else if(16===eO&&eg)(eT=new Uint8Array(32)).set(ed),eT.set(ed,16),eP=aq,eM.push(eT);else throw Error(`arx: invalid 32-byte key, got length=${eO}`);aV(eE)||eM.push(eE=aj(eE));let eN=aS(eT);if(em){if(24!==eE.length)throw Error("arx: extended nonce must be 24 bytes");em(eP,eN,aS(eE.subarray(0,16)),eN),eE=eE.subarray(16)}let ek=16-eb;if(ek!==eE.length)throw Error(`arx: nonce must be ${ek} or 16 bytes`);if(12!==ek){let eu=new Uint8Array(12);eu.set(eE,ew?0:12-eE.length),eE=eu,eM.push(eE)}let eR=aS(eE);return aY(eu,eP,eN,eR,eA,eS,eI,e_),aI(...eM),eS}}let aQ=(eu,ed)=>255&eu[ed++]|(255&eu[ed++])<<8;class cu{constructor(eu){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,a_(eu=aT(eu),32);let ed=aQ(eu,0),eg=aQ(eu,2),em=aQ(eu,4),eb=aQ(eu,6),ew=aQ(eu,8),e_=aQ(eu,10),eE=aQ(eu,12),eA=aQ(eu,14);this.r[0]=8191&ed,this.r[1]=(ed>>>13|eg<<3)&8191,this.r[2]=(eg>>>10|em<<6)&7939,this.r[3]=(em>>>7|eb<<9)&8191,this.r[4]=(eb>>>4|ew<<12)&255,this.r[5]=ew>>>1&8190,this.r[6]=(ew>>>14|e_<<2)&8191,this.r[7]=(e_>>>11|eE<<5)&8065,this.r[8]=(eE>>>8|eA<<8)&8191,this.r[9]=eA>>>5&127;for(let ed=0;ed<8;ed++)this.pad[ed]=aQ(eu,16+2*ed)}process(eu,ed,eg=!1){let em=eg?0:2048,{h:eb,r:ew}=this,e_=ew[0],eE=ew[1],eA=ew[2],eS=ew[3],eI=ew[4],eC=ew[5],eM=ew[6],eO=ew[7],eT=ew[8],eP=ew[9],eN=aQ(eu,ed+0),ek=aQ(eu,ed+2),eR=aQ(eu,ed+4),eD=aQ(eu,ed+6),eB=aQ(eu,ed+8),eU=aQ(eu,ed+10),eL=aQ(eu,ed+12),ej=aQ(eu,ed+14),eF=eb[0]+(8191&eN),e$=eb[1]+((eN>>>13|ek<<3)&8191),eK=eb[2]+((ek>>>10|eR<<6)&8191),eH=eb[3]+((eR>>>7|eD<<9)&8191),eV=eb[4]+((eD>>>4|eB<<12)&8191),eG=eb[5]+(eB>>>1&8191),eW=eb[6]+((eB>>>14|eU<<2)&8191),eJ=eb[7]+((eU>>>11|eL<<5)&8191),eZ=eb[8]+((eL>>>8|ej<<8)&8191),eY=eb[9]+(ej>>>5|em),eX=0,eQ=0+eF*e_+e$*(5*eP)+eK*(5*eT)+eH*(5*eO)+eV*(5*eM);eX=eQ>>>13,eQ&=8191,eQ+=eG*(5*eC)+eW*(5*eI)+eJ*(5*eS)+eZ*(5*eA)+eY*(5*eE),eX+=eQ>>>13,eQ&=8191;let e0=eX+eF*eE+e$*e_+eK*(5*eP)+eH*(5*eT)+eV*(5*eO);eX=e0>>>13,e0&=8191,e0+=eG*(5*eM)+eW*(5*eC)+eJ*(5*eI)+eZ*(5*eS)+eY*(5*eA),eX+=e0>>>13,e0&=8191;let e6=eX+eF*eA+e$*eE+eK*e_+eH*(5*eP)+eV*(5*eT);eX=e6>>>13,e6&=8191,e6+=eG*(5*eO)+eW*(5*eM)+eJ*(5*eC)+eZ*(5*eI)+eY*(5*eS),eX+=e6>>>13,e6&=8191;let e8=eX+eF*eS+e$*eA+eK*eE+eH*e_+eV*(5*eP);eX=e8>>>13,e8&=8191,e8+=eG*(5*eT)+eW*(5*eO)+eJ*(5*eM)+eZ*(5*eC)+eY*(5*eI),eX+=e8>>>13,e8&=8191;let e5=eX+eF*eI+e$*eS+eK*eA+eH*eE+eV*e_;eX=e5>>>13,e5&=8191,e5+=eG*(5*eP)+eW*(5*eT)+eJ*(5*eO)+eZ*(5*eM)+eY*(5*eC),eX+=e5>>>13,e5&=8191;let e9=eX+eF*eC+e$*eI+eK*eS+eH*eA+eV*eE;eX=e9>>>13,e9&=8191,e9+=eG*e_+eW*(5*eP)+eJ*(5*eT)+eZ*(5*eO)+eY*(5*eM),eX+=e9>>>13,e9&=8191;let e7=eX+eF*eM+e$*eC+eK*eI+eH*eS+eV*eA;eX=e7>>>13,e7&=8191,e7+=eG*eE+eW*e_+eJ*(5*eP)+eZ*(5*eT)+eY*(5*eO),eX+=e7>>>13,e7&=8191;let tu=eX+eF*eO+e$*eM+eK*eC+eH*eI+eV*eS;eX=tu>>>13,tu&=8191,tu+=eG*eA+eW*eE+eJ*e_+eZ*(5*eP)+eY*(5*eT),eX+=tu>>>13,tu&=8191;let th=eX+eF*eT+e$*eO+eK*eM+eH*eC+eV*eI;eX=th>>>13,th&=8191,th+=eG*eS+eW*eA+eJ*eE+eZ*e_+eY*(5*eP),eX+=th>>>13,th&=8191;let td=eX+eF*eP+e$*eT+eK*eO+eH*eM+eV*eC;eX=td>>>13,td&=8191,td+=eG*eI+eW*eS+eJ*eA+eZ*eE+eY*e_,eX+=td>>>13,td&=8191,eQ=8191&(eX=(eX=(eX<<2)+eX|0)+eQ|0),eX>>>=13,e0+=eX,eb[0]=eQ,eb[1]=e0,eb[2]=e6,eb[3]=e8,eb[4]=e5,eb[5]=e9,eb[6]=e7,eb[7]=tu,eb[8]=th,eb[9]=td}finalize(){let{h:eu,pad:ed}=this,eg=new Uint16Array(10),em=eu[1]>>>13;eu[1]&=8191;for(let ed=2;ed<10;ed++)eu[ed]+=em,em=eu[ed]>>>13,eu[ed]&=8191;eu[0]+=5*em,em=eu[0]>>>13,eu[0]&=8191,eu[1]+=em,em=eu[1]>>>13,eu[1]&=8191,eu[2]+=em,eg[0]=eu[0]+5,em=eg[0]>>>13,eg[0]&=8191;for(let ed=1;ed<10;ed++)eg[ed]=eu[ed]+em,em=eg[ed]>>>13,eg[ed]&=8191;eg[9]-=8192;let eb=(1^em)-1;for(let eu=0;eu<10;eu++)eg[eu]&=eb;eb=~eb;for(let ed=0;ed<10;ed++)eu[ed]=eu[ed]&eb|eg[ed];eu[0]=(eu[0]|eu[1]<<13)&65535,eu[1]=(eu[1]>>>3|eu[2]<<10)&65535,eu[2]=(eu[2]>>>6|eu[3]<<7)&65535,eu[3]=(eu[3]>>>9|eu[4]<<4)&65535,eu[4]=(eu[4]>>>12|eu[5]<<1|eu[6]<<14)&65535,eu[5]=(eu[6]>>>2|eu[7]<<11)&65535,eu[6]=(eu[7]>>>5|eu[8]<<8)&65535,eu[7]=(eu[8]>>>8|eu[9]<<5)&65535;let ew=eu[0]+ed[0];eu[0]=65535&ew;for(let eg=1;eg<8;eg++)ew=(eu[eg]+ed[eg]|0)+(ew>>>16)|0,eu[eg]=65535&ew;aI(eg)}update(eu){aE(this),a_(eu=aT(eu));let{buffer:ed,blockLen:eg}=this,em=eu.length;for(let eb=0;eb<em;){let ew=Math.min(eg-this.pos,em-eb);if(ew===eg){for(;eg<=em-eb;eb+=eg)this.process(eu,eb);continue}ed.set(eu.subarray(eb,eb+ew),this.pos),this.pos+=ew,eb+=ew,this.pos===eg&&(this.process(ed,0,!1),this.pos=0)}return this}destroy(){aI(this.h,this.r,this.buffer,this.pad)}digestInto(eu){aE(this),aA(eu,this),this.finished=!0;let{buffer:ed,h:eg}=this,{pos:em}=this;if(em){for(ed[em++]=1;em<16;em++)ed[em]=0;this.process(ed,0,!0)}this.finalize();let eb=0;for(let ed=0;ed<8;ed++)eu[eb++]=eg[ed]>>>0,eu[eb++]=eg[ed]>>>8;return eu}digest(){let{buffer:eu,outputLen:ed}=this;this.digestInto(eu);let eg=eu.slice(0,ed);return this.destroy(),eg}}function cg(eu){let ed=(ed,eg)=>eu(eg).update(aT(ed)).digest(),eg=eu(new Uint8Array(32));return ed.outputLen=eg.outputLen,ed.blockLen=eg.blockLen,ed.create=ed=>eu(ed),ed}let cy=cg(eu=>new cu(eu));function cm(eu,ed,eg,em,eb,ew=20){let e_=eu[0],eE=eu[1],eA=eu[2],eS=eu[3],eI=ed[0],eC=ed[1],eM=ed[2],eO=ed[3],eT=ed[4],eP=ed[5],eN=ed[6],ek=ed[7],eR=eb,eD=eg[0],eB=eg[1],eU=eg[2],eL=e_,ej=eE,eF=eA,e$=eS,eK=eI,eH=eC,eV=eM,eG=eO,eW=eT,eJ=eP,eZ=eN,eY=ek,eX=eR,eQ=eD,e0=eB,e6=eU;for(let eu=0;eu<ew;eu+=2)eW=eW+(eX=aH(eX^(eL=eL+eK|0),16))|0,eL=eL+(eK=aH(eK^eW,12))|0,eW=eW+(eX=aH(eX^eL,8))|0,eK=aH(eK^eW,7),eJ=eJ+(eQ=aH(eQ^(ej=ej+eH|0),16))|0,ej=ej+(eH=aH(eH^eJ,12))|0,eJ=eJ+(eQ=aH(eQ^ej,8))|0,eH=aH(eH^eJ,7),eZ=eZ+(e0=aH(e0^(eF=eF+eV|0),16))|0,eF=eF+(eV=aH(eV^eZ,12))|0,eZ=eZ+(e0=aH(e0^eF,8))|0,eV=aH(eV^eZ,7),eY=eY+(e6=aH(e6^(e$=e$+eG|0),16))|0,e$=e$+(eG=aH(eG^eY,12))|0,eY=eY+(e6=aH(e6^e$,8))|0,eG=aH(eG^eY,7),eZ=eZ+(e6=aH(e6^(eL=eL+eH|0),16))|0,eL=eL+(eH=aH(eH^eZ,12))|0,eZ=eZ+(e6=aH(e6^eL,8))|0,eH=aH(eH^eZ,7),eY=eY+(eX=aH(eX^(ej=ej+eV|0),16))|0,ej=ej+(eV=aH(eV^eY,12))|0,eY=eY+(eX=aH(eX^ej,8))|0,eV=aH(eV^eY,7),eW=eW+(eQ=aH(eQ^(eF=eF+eG|0),16))|0,eF=eF+(eG=aH(eG^eW,12))|0,eW=eW+(eQ=aH(eQ^eF,8))|0,eG=aH(eG^eW,7),eJ=eJ+(e0=aH(e0^(e$=e$+eK|0),16))|0,e$=e$+(eK=aH(eK^eJ,12))|0,eJ=eJ+(e0=aH(e0^e$,8))|0,eK=aH(eK^eJ,7);let e8=0;em[e8++]=e_+eL|0,em[e8++]=eE+ej|0,em[e8++]=eA+eF|0,em[e8++]=eS+e$|0,em[e8++]=eI+eK|0,em[e8++]=eC+eH|0,em[e8++]=eM+eV|0,em[e8++]=eO+eG|0,em[e8++]=eT+eW|0,em[e8++]=eP+eJ|0,em[e8++]=eN+eZ|0,em[e8++]=ek+eY|0,em[e8++]=eR+eX|0,em[e8++]=eD+eQ|0,em[e8++]=eB+e0|0,em[e8++]=eU+e6|0}let cv=aX(cm,{counterRight:!1,counterLength:4,allowShortKeys:!1}),cw=new Uint8Array(16),c_=(eu,ed)=>{eu.update(ed);let eg=ed.length%16;eg&&eu.update(cw.subarray(eg))},cE=new Uint8Array(32);function cA(eu,ed,eg,em,eb){let ew=eu(ed,eg,cE),e_=cy.create(ew);eb&&c_(e_,eb),c_(e_,em);let eE=aU(em.length,eb?eb.length:0,!0);e_.update(eE);let eA=e_.digest();return aI(ew,eE),eA}let cS=eu=>(ed,eg,em)=>({encrypt(eb,ew){let e_=eb.length;(ew=aD(e_+16,ew,!1)).set(eb);let eE=ew.subarray(0,-16);eu(ed,eg,eE,eE,1);let eA=cA(eu,ed,eg,eE,em);return ew.set(eA,e_),aI(eA),ew},decrypt(eb,ew){ew=aD(eb.length-16,ew,!1);let e_=eb.subarray(0,-16),eE=eb.subarray(-16),eA=cA(eu,ed,eg,e_,em);if(!aN(eE,eA))throw Error("invalid tag");return ew.set(eb.subarray(0,-16)),eu(ed,eg,ew,ew,1),aI(eA),ew}}),cI=aR({blockSize:64,nonceLength:12,tagLength:16},cS(cv));class cx extends i4{constructor(eu,ed){super(),this.finished=!1,this.destroyed=!1,ij(eu);let eg=i8(ed);if(this.iHash=eu.create(),"function"!=typeof this.iHash.update)throw Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let em=this.blockLen,eb=new Uint8Array(em);eb.set(eg.length>em?eu.create().update(eg).digest():eg);for(let eu=0;eu<eb.length;eu++)eb[eu]^=54;this.iHash.update(eb),this.oHash=eu.create();for(let eu=0;eu<eb.length;eu++)eb[eu]^=106;this.oHash.update(eb),iq(eb)}update(eu){return iF(this),this.iHash.update(eu),this}digestInto(eu){iF(this),iL(eu,this.outputLen),this.finished=!0,this.iHash.digestInto(eu),this.oHash.update(eu),this.oHash.digestInto(eu),this.destroy()}digest(){let eu=new Uint8Array(this.oHash.outputLen);return this.digestInto(eu),eu}_cloneInto(eu){eu||(eu=Object.create(Object.getPrototypeOf(this),{}));let{oHash:ed,iHash:eg,finished:em,destroyed:eb,blockLen:ew,outputLen:e_}=this;return eu.finished=em,eu.destroyed=eb,eu.blockLen=ew,eu.outputLen=e_,eu.oHash=ed._cloneInto(eu.oHash),eu.iHash=eg._cloneInto(eu.iHash),eu}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}let cC=(eu,ed,eg)=>new cx(eu,ed).update(eg).digest();function cM(eu,ed,eg){return ij(eu),void 0===eg&&(eg=new Uint8Array(eu.outputLen)),cC(eu,i8(eg),i8(ed))}cC.create=(eu,ed)=>new cx(eu,ed);let cO=Uint8Array.from([0]),cT=Uint8Array.of();function cP(eu,ed,eg,em=32){ij(eu),iU(em);let eb=eu.outputLen;if(em>255*eb)throw Error("Length should be <= 255*HashLen");let ew=Math.ceil(em/eb);void 0===eg&&(eg=cT);let e_=new Uint8Array(ew*eb),eE=cC.create(eu,ed),eA=eE._cloneInto(),eS=new Uint8Array(eE.outputLen);for(let eu=0;eu<ew;eu++)cO[0]=eu+1,eA.update(0===eu?cT:eS).update(eg).update(cO).digestInto(eS),e_.set(eS,eb*eu),eE._cloneInto(eA);return eE.destroy(),eA.destroy(),iq(eS,cO),e_.slice(0,em)}let cN=(eu,ed,eg,em,eb)=>cP(eu,cM(eu,ed,eg),em,eb),cR=oZ,cD=BigInt(0),cB=BigInt(1);function cU(eu,ed){if("boolean"!=typeof ed)throw Error(eu+" boolean expected, got "+ed)}function cL(eu){let ed=eu.toString(16);return 1&ed.length?"0"+ed:ed}function cj(eu){if("string"!=typeof eu)throw Error("hex string expected, got "+typeof eu);return""===eu?cD:BigInt("0x"+eu)}function cF(eu){return cj(i0(eu))}function c$(eu){return iL(eu),cj(i0(Uint8Array.from(eu).reverse()))}function cK(eu,ed){return i6(eu.toString(16).padStart(2*ed,"0"))}function cq(eu,ed){return cK(eu,ed).reverse()}function cz(eu,ed,eg){let em;if("string"==typeof ed)try{em=i6(ed)}catch(ed){throw Error(eu+" must be hex string or Uint8Array, cause: "+ed)}else if(iB(ed))em=Uint8Array.from(ed);else throw Error(eu+" must be hex string or Uint8Array");let eb=em.length;if("number"==typeof eg&&eb!==eg)throw Error(eu+" of length "+eg+" expected, got "+eb);return em}let cH=eu=>"bigint"==typeof eu&&cD<=eu;function cV(eu,ed,eg){return cH(eu)&&cH(ed)&&cH(eg)&&ed<=eu&&eu<eg}function cG(eu,ed,eg,em){if(!cV(ed,eg,em))throw Error("expected valid "+eu+": "+eg+" <= n < "+em+", got "+ed)}function cW(eu){let ed;for(ed=0;eu>cD;eu>>=cB,ed+=1);return ed}let cJ=eu=>(cB<<BigInt(eu))-cB;function cZ(eu,ed,eg){if("number"!=typeof eu||eu<2)throw Error("hashLen must be a number");if("number"!=typeof ed||ed<2)throw Error("qByteLen must be a number");if("function"!=typeof eg)throw Error("hmacFn must be a function");let em=eu=>new Uint8Array(eu),eb=eu=>Uint8Array.of(eu),ew=em(eu),e_=em(eu),eE=0,eA=()=>{ew.fill(1),e_.fill(0),eE=0},eS=(...eu)=>eg(e_,ew,...eu),eI=(eu=em(0))=>{e_=eS(eb(0),eu),ew=eS(),0!==eu.length&&(e_=eS(eb(1),eu),ew=eS())},eC=()=>{if(eE++>=1e3)throw Error("drbg: tried 1000 values");let eu=0,eg=[];for(;eu<ed;){ew=eS();let ed=ew.slice();eg.push(ed),eu+=ew.length}return i5(...eg)};return(eu,ed)=>{let eg;for(eA(),eI(eu);!(eg=ed(eC()));)eI();return eA(),eg}}function cY(eu,ed,eg={}){if(!eu||"object"!=typeof eu)throw Error("expected valid options object");function em(ed,eg,em){let eb=eu[ed];if(em&&void 0===eb)return;let ew=typeof eb;if(ew!==eg||null===eb)throw Error(`param "${ed}" is invalid: expected ${eg}, got ${ew}`)}Object.entries(ed).forEach(([eu,ed])=>em(eu,ed,!1)),Object.entries(eg).forEach(([eu,ed])=>em(eu,ed,!0))}function cX(eu){let ed=new WeakMap;return(eg,...em)=>{let eb=ed.get(eg);if(void 0!==eb)return eb;let ew=eu(eg,...em);return ed.set(eg,ew),ew}}let cQ=BigInt(0),c0=BigInt(1),c6=BigInt(2),c3=BigInt(3),c5=BigInt(4),c4=BigInt(5),c9=BigInt(8);function c7(eu,ed){let eg=eu%ed;return eg>=cQ?eg:ed+eg}function uu(eu,ed,eg){let em=eu;for(;ed-- >cQ;)em*=em,em%=eg;return em}function ul(eu,ed){if(eu===cQ)throw Error("invert: expected non-zero number");if(ed<=cQ)throw Error("invert: expected positive modulus, got "+ed);let eg=c7(eu,ed),em=ed,eb=cQ,ew=c0;for(;eg!==cQ;){let eu=em/eg,ed=em%eg,e_=eb-ew*eu;em=eg,eg=ed,eb=ew,ew=e_}if(em!==c0)throw Error("invert: does not exist");return c7(eb,ed)}function uh(eu,ed){let eg=(eu.ORDER+c0)/c5,em=eu.pow(ed,eg);if(!eu.eql(eu.sqr(em),ed))throw Error("Cannot find square root");return em}function ud(eu,ed){let eg=(eu.ORDER-c4)/c9,em=eu.mul(ed,c6),eb=eu.pow(em,eg),ew=eu.mul(ed,eb),e_=eu.mul(eu.mul(ew,c6),eb),eE=eu.mul(ew,eu.sub(e_,eu.ONE));if(!eu.eql(eu.sqr(eE),ed))throw Error("Cannot find square root");return eE}function ug(eu){if(eu<BigInt(3))throw Error("sqrt is not defined for small field");let ed=eu-c0,eg=0;for(;ed%c6===cQ;)ed/=c6,eg++;let em=c6,eb=uA(eu);for(;1===u_(eb,em);)if(em++>1e3)throw Error("Cannot find square root: probably non-prime P");if(1===eg)return uh;let ew=eb.pow(em,ed),e_=(ed+c0)/c6;return function(eu,em){if(eu.is0(em))return em;if(1!==u_(eu,em))throw Error("Cannot find square root");let eb=eg,eE=eu.mul(eu.ONE,ew),eA=eu.pow(em,ed),eS=eu.pow(em,e_);for(;!eu.eql(eA,eu.ONE);){if(eu.is0(eA))return eu.ZERO;let ed=1,eg=eu.sqr(eA);for(;!eu.eql(eg,eu.ONE);)if(ed++,eg=eu.sqr(eg),ed===eb)throw Error("Cannot find square root");let em=c0<<BigInt(eb-ed-1),ew=eu.pow(eE,em);eb=ed,eE=eu.sqr(ew),eA=eu.mul(eA,eE),eS=eu.mul(eS,ew)}return eS}}function uy(eu){return eu%c5===c3?uh:eu%c9===c4?ud:ug(eu)}let um=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ub(eu){let ed={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},eg=um.reduce((eu,ed)=>(eu[ed]="function",eu),ed);return cY(eu,eg),eu}function uv(eu,ed,eg){if(eg<cQ)throw Error("invalid exponent, negatives unsupported");if(eg===cQ)return eu.ONE;if(eg===c0)return ed;let em=eu.ONE,eb=ed;for(;eg>cQ;)eg&c0&&(em=eu.mul(em,eb)),eb=eu.sqr(eb),eg>>=c0;return em}function uw(eu,ed,eg=!1){let em=Array(ed.length).fill(eg?eu.ZERO:void 0),eb=ed.reduce((ed,eg,eb)=>eu.is0(eg)?ed:(em[eb]=ed,eu.mul(ed,eg)),eu.ONE),ew=eu.inv(eb);return ed.reduceRight((ed,eg,eb)=>eu.is0(eg)?ed:(em[eb]=eu.mul(ed,em[eb]),eu.mul(ed,eg)),ew),em}function u_(eu,ed){let eg=(eu.ORDER-c0)/c6,em=eu.pow(ed,eg),eb=eu.eql(em,eu.ONE),ew=eu.eql(em,eu.ZERO),e_=eu.eql(em,eu.neg(eu.ONE));if(!eb&&!ew&&!e_)throw Error("invalid Legendre symbol result");return eb?1:ew?0:-1}function uE(eu,ed){void 0!==ed&&iU(ed);let eg=void 0!==ed?ed:eu.toString(2).length,em=Math.ceil(eg/8);return{nBitLength:eg,nByteLength:em}}function uA(eu,ed,eg=!1,em={}){let eb,ew,e_;if(eu<=cQ)throw Error("invalid field: expected ORDER > 0, got "+eu);if("object"==typeof ed&&null!=ed){if(em.sqrt||eg)throw Error("cannot specify opts in two arguments");let eu=ed;eu.BITS&&(eb=eu.BITS),eu.sqrt&&(ew=eu.sqrt),"boolean"==typeof eu.isLE&&(eg=eu.isLE)}else"number"==typeof ed&&(eb=ed),em.sqrt&&(ew=em.sqrt);let{nBitLength:eE,nByteLength:eA}=uE(eu,eb);if(eA>2048)throw Error("invalid field: expected ORDER of <= 2048 bytes");let eS=Object.freeze({ORDER:eu,isLE:eg,BITS:eE,BYTES:eA,MASK:cJ(eE),ZERO:cQ,ONE:c0,create:ed=>c7(ed,eu),isValid:ed=>{if("bigint"!=typeof ed)throw Error("invalid field element: expected bigint, got "+typeof ed);return cQ<=ed&&ed<eu},is0:eu=>eu===cQ,isValidNot0:eu=>!eS.is0(eu)&&eS.isValid(eu),isOdd:eu=>(eu&c0)===c0,neg:ed=>c7(-ed,eu),eql:(eu,ed)=>eu===ed,sqr:ed=>c7(ed*ed,eu),add:(ed,eg)=>c7(ed+eg,eu),sub:(ed,eg)=>c7(ed-eg,eu),mul:(ed,eg)=>c7(ed*eg,eu),pow:(eu,ed)=>uv(eS,eu,ed),div:(ed,eg)=>c7(ed*ul(eg,eu),eu),sqrN:eu=>eu*eu,addN:(eu,ed)=>eu+ed,subN:(eu,ed)=>eu-ed,mulN:(eu,ed)=>eu*ed,inv:ed=>ul(ed,eu),sqrt:ew||(ed=>(e_||(e_=uy(eu)),e_(eS,ed))),toBytes:eu=>eg?cq(eu,eA):cK(eu,eA),fromBytes:eu=>{if(eu.length!==eA)throw Error("Field.fromBytes: expected "+eA+" bytes, got "+eu.length);return eg?c$(eu):cF(eu)},invertBatch:eu=>uw(eS,eu),cmov:(eu,ed,eg)=>eg?ed:eu});return Object.freeze(eS)}function uS(eu){if("bigint"!=typeof eu)throw Error("field order must be bigint");let ed=eu.toString(2).length;return Math.ceil(ed/8)}function uI(eu){let ed=uS(eu);return ed+Math.ceil(ed/2)}function ux(eu,ed,eg=!1){let em=eu.length,eb=uS(ed),ew=uI(ed);if(em<16||em<ew||em>1024)throw Error("expected "+ew+"-1024 bytes of input, got "+em);let e_=eg?c$(eu):cF(eu),eE=c7(e_,ed-c0)+c0;return eg?cq(eE,eb):cK(eE,eb)}let uC=BigInt(0),uM=BigInt(1);function uO(eu,ed){let eg=ed.negate();return eu?eg:ed}function uT(eu,ed,eg){let em="pz"===ed?eu=>eu.pz:eu=>eu.ez,eb=uw(eu.Fp,eg.map(em));return eg.map((eu,ed)=>eu.toAffine(eb[ed])).map(eu.fromAffine)}function uP(eu,ed){if(!Number.isSafeInteger(eu)||eu<=0||eu>ed)throw Error("invalid window size, expected [1.."+ed+"], got W="+eu)}function uN(eu,ed){uP(eu,ed);let eg=Math.ceil(ed/eu)+1,em=2**(eu-1),eb=2**eu,ew=cJ(eu),e_=BigInt(eu);return{windows:eg,windowSize:em,mask:ew,maxNumber:eb,shiftBy:e_}}function uk(eu,ed,eg){let{windowSize:em,mask:eb,maxNumber:ew,shiftBy:e_}=eg,eE=Number(eu&eb),eA=eu>>e_;eE>em&&(eE-=ew,eA+=uM);let eS=ed*em,eI=eS+Math.abs(eE)-1,eC=0===eE,eM=eE<0,eO=ed%2!=0;return{nextN:eA,offset:eI,isZero:eC,isNeg:eM,isNegF:eO,offsetF:eS}}function uR(eu,ed){if(!Array.isArray(eu))throw Error("array expected");eu.forEach((eu,eg)=>{if(!(eu instanceof ed))throw Error("invalid point at index "+eg)})}function uD(eu,ed){if(!Array.isArray(eu))throw Error("array of scalars expected");eu.forEach((eu,eg)=>{if(!ed.isValid(eu))throw Error("invalid scalar at index "+eg)})}let uB=new WeakMap,uU=new WeakMap;function uL(eu){return uU.get(eu)||1}function uj(eu){if(eu!==uC)throw Error("invalid wNAF")}function uF(eu,ed){return{constTimeNegate:uO,hasPrecomputes:eu=>1!==uL(eu),unsafeLadder(ed,eg,em=eu.ZERO){let eb=ed;for(;eg>uC;)eg&uM&&(em=em.add(eb)),eb=eb.double(),eg>>=uM;return em},precomputeWindow(eu,eg){let{windows:em,windowSize:eb}=uN(eg,ed),ew=[],e_=eu,eE=e_;for(let eu=0;eu<em;eu++){eE=e_,ew.push(eE);for(let eu=1;eu<eb;eu++)eE=eE.add(e_),ew.push(eE);e_=eE.double()}return ew},wNAF(eg,em,eb){let ew=eu.ZERO,e_=eu.BASE,eE=uN(eg,ed);for(let eu=0;eu<eE.windows;eu++){let{nextN:ed,offset:eg,isZero:eA,isNeg:eS,isNegF:eI,offsetF:eC}=uk(eb,eu,eE);eb=ed,eA?e_=e_.add(uO(eI,em[eC])):ew=ew.add(uO(eS,em[eg]))}return uj(eb),{p:ew,f:e_}},wNAFUnsafe(eg,em,eb,ew=eu.ZERO){let e_=uN(eg,ed);for(let eu=0;eu<e_.windows&&eb!==uC;eu++){let{nextN:ed,offset:eg,isZero:eE,isNeg:eA}=uk(eb,eu,e_);if(eb=ed,!eE){let eu=em[eg];ew=ew.add(eA?eu.negate():eu)}}return uj(eb),ew},getPrecomputes(eu,ed,eg){let em=uB.get(ed);return em||(em=this.precomputeWindow(ed,eu),1!==eu&&("function"==typeof eg&&(em=eg(em)),uB.set(ed,em))),em},wNAFCached(eu,ed,eg){let em=uL(eu);return this.wNAF(em,this.getPrecomputes(em,eu,eg),ed)},wNAFCachedUnsafe(eu,ed,eg,em){let eb=uL(eu);return 1===eb?this.unsafeLadder(eu,ed,em):this.wNAFUnsafe(eb,this.getPrecomputes(eb,eu,eg),ed,em)},setWindowSize(eu,eg){uP(eg,ed),uU.set(eu,eg),uB.delete(eu)}}}function u$(eu,ed,eg,em){let eb=ed,ew=eu.ZERO,e_=eu.ZERO;for(;eg>uC||em>uC;)eg&uM&&(ew=ew.add(eb)),em&uM&&(e_=e_.add(eb)),eb=eb.double(),eg>>=uM,em>>=uM;return{p1:ew,p2:e_}}function uK(eu,ed,eg,em){uR(eg,eu),uD(em,ed);let eb=eg.length,ew=em.length;if(eb!==ew)throw Error("arrays of points and scalars must have equal length");let e_=eu.ZERO,eE=cW(BigInt(eb)),eA=1;eE>12?eA=eE-3:eE>4?eA=eE-2:eE>0&&(eA=2);let eS=cJ(eA),eI=Array(Number(eS)+1).fill(e_),eC=Math.floor((ed.BITS-1)/eA)*eA,eM=e_;for(let eu=eC;eu>=0;eu-=eA){eI.fill(e_);for(let ed=0;ed<ew;ed++){let eb=em[ed],ew=Number(eb>>BigInt(eu)&eS);eI[ew]=eI[ew].add(eg[ed])}let ed=e_;for(let eu=eI.length-1,eg=e_;eu>0;eu--)eg=eg.add(eI[eu]),ed=ed.add(eg);if(eM=eM.add(ed),0!==eu)for(let eu=0;eu<eA;eu++)eM=eM.double()}return eM}function uq(eu,ed){if(!ed)return uA(eu);if(ed.ORDER!==eu)throw Error("Field.ORDER must match order: Fp == p, Fn == n");return ub(ed),ed}function uz(eu,ed,eg={}){if(!ed||"object"!=typeof ed)throw Error(`expected valid ${eu} CURVE object`);for(let eu of["p","n","h"]){let eg=ed[eu];if(!("bigint"==typeof eg&&eg>uC))throw Error(`CURVE.${eu} must be positive bigint`)}let em=uq(ed.p,eg.Fp),eb=uq(ed.n,eg.Fn),ew=["Gx","Gy","a","weierstrass"===eu?"b":"d"];for(let eu of ew)if(!em.isValid(ed[eu]))throw Error(`CURVE.${eu} must be valid field element of CURVE.Fp`);return{Fp:em,Fn:eb}}BigInt(0),BigInt(1),BigInt(2),BigInt(8);let uH=BigInt(0),uV=BigInt(1),uG=BigInt(2);function uW(eu){return cY(eu,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...eu})}function uJ(eu){let ed=uW(eu),{P:eg,type:em,adjustScalarBytes:eb,powPminus2:ew,randomBytes:e_}=ed,eE="x25519"===em;if(!eE&&"x448"!==em)throw Error("invalid type");let eA=e_||ou,eS=eE?255:448,eI=eE?32:56,eC=BigInt(eE?9:5),eM=BigInt(eE?121665:39081),eO=eE?uG**BigInt(254):uG**BigInt(447),eT=eE?BigInt(8)*uG**BigInt(251)-uV:BigInt(4)*uG**BigInt(445)-uV,eP=eO+eT+uV,eN=eu=>c7(eu,eg),ek=eR(eC);function eR(eu){return cq(eN(eu),eI)}function eD(eu){let ed=cz("u coordinate",eu,eI);return eE&&(ed[31]&=127),eN(c$(ed))}function eB(eu){return c$(eb(cz("scalar",eu,eI)))}function eU(eu,ed){let eg=eF(eD(ed),eB(eu));if(eg===uH)throw Error("invalid private or public key received");return eR(eg)}function eL(eu){return eU(eu,ek)}function ej(eu,ed,eg){let em=eN(eu*(ed-eg));return{x_2:ed=eN(ed-em),x_3:eg=eN(eg+em)}}function eF(eu,ed){cG("u",eu,uH,eg),cG("scalar",ed,eO,eP);let em=ed,eb=eu,e_=uV,eE=uH,eA=eu,eI=uV,eC=uH;for(let eu=BigInt(eS-1);eu>=uH;eu--){let ed=em>>eu&uV;eC^=ed,({x_2:e_,x_3:eA}=ej(eC,e_,eA)),({x_2:eE,x_3:eI}=ej(eC,eE,eI)),eC=ed;let eg=e_+eE,ew=eN(eg*eg),eS=e_-eE,eO=eN(eS*eS),eT=ew-eO,eP=eA+eI,ek=eA-eI,eR=eN(ek*eg),eD=eN(eP*eS),eB=eR+eD,eU=eR-eD;eA=eN(eB*eB),eI=eN(eb*eN(eU*eU)),e_=eN(ew*eO),eE=eN(eT*(ew+eN(eM*eT)))}({x_2:e_,x_3:eA}=ej(eC,e_,eA)),{x_2:eE,x_3:eI}=ej(eC,eE,eI);let eT=ew(eE);return eN(e_*eT)}return{scalarMult:eU,scalarMultBase:eL,getSharedSecret:(eu,ed)=>eU(eu,ed),getPublicKey:eu=>eL(eu),utils:{randomPrivateKey:()=>eA(eI)},GuBytes:ek.slice()}}BigInt(0);let uZ=BigInt(1),uY=BigInt(2),uX=BigInt(3),uQ=BigInt(5),u6=BigInt(8),u3={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:u6,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function u5(eu){let ed=BigInt(10),eg=BigInt(20),em=BigInt(40),eb=BigInt(80),ew=u3.p,e_=eu*eu%ew*eu%ew,eE=uu(e_,uY,ew)*e_%ew,eA=uu(eE,uZ,ew)*eu%ew,eS=uu(eA,uQ,ew)*eA%ew,eI=uu(eS,ed,ew)*eS%ew,eC=uu(eI,eg,ew)*eI%ew,eM=uu(eC,em,ew)*eC%ew,eO=uu(eM,eb,ew)*eM%ew,eT=uu(eO,eb,ew)*eM%ew,eP=uu(eT,ed,ew)*eS%ew;return{pow_p_5_8:uu(eP,uY,ew)*eu%ew,b2:e_}}function u4(eu){return eu[0]&=248,eu[31]&=127,eu[31]|=64,eu}let u9=(()=>{let eu=u3.p;return uJ({P:eu,type:"x25519",powPminus2:ed=>{let{pow_p_5_8:eg,b2:em}=u5(ed);return c7(uu(eg,uX,eu)*em,eu)},adjustScalarBytes:u4})})();function u7(eu){void 0!==eu.lowS&&cU("lowS",eu.lowS),void 0!==eu.prehash&&cU("prehash",eu.prehash)}class lu extends Error{constructor(eu=""){super(eu)}}let ll={Err:lu,_tlv:{encode:(eu,ed)=>{let{Err:eg}=ll;if(eu<0||eu>256)throw new eg("tlv.encode: wrong tag");if(1&ed.length)throw new eg("tlv.encode: unpadded data");let em=ed.length/2,eb=cL(em);if(eb.length/2&128)throw new eg("tlv.encode: long form length too big");let ew=em>127?cL(eb.length/2|128):"";return cL(eu)+ew+eb+ed},decode(eu,ed){let{Err:eg}=ll,em=0;if(eu<0||eu>256)throw new eg("tlv.encode: wrong tag");if(ed.length<2||ed[em++]!==eu)throw new eg("tlv.decode: wrong tlv");let eb=ed[em++],ew=!!(128&eb),e_=0;if(ew){let eu=127&eb;if(!eu)throw new eg("tlv.decode(long): indefinite length not supported");if(eu>4)throw new eg("tlv.decode(long): byte length is too big");let ew=ed.subarray(em,em+eu);if(ew.length!==eu)throw new eg("tlv.decode: length bytes not complete");if(0===ew[0])throw new eg("tlv.decode(long): zero leftmost byte");for(let eu of ew)e_=e_<<8|eu;if(em+=eu,e_<128)throw new eg("tlv.decode(long): not minimal encoding")}else e_=eb;let eE=ed.subarray(em,em+e_);if(eE.length!==e_)throw new eg("tlv.decode: wrong value length");return{v:eE,l:ed.subarray(em+e_)}}},_int:{encode(eu){let{Err:ed}=ll;if(eu<lh)throw new ed("integer: negative integers are not allowed");let eg=cL(eu);if(8&Number.parseInt(eg[0],16)&&(eg="00"+eg),1&eg.length)throw new ed("unexpected DER parsing assertion: unpadded hex");return eg},decode(eu){let{Err:ed}=ll;if(128&eu[0])throw new ed("invalid signature integer: negative");if(0===eu[0]&&!(128&eu[1]))throw new ed("invalid signature integer: unnecessary leading zero");return cF(eu)}},toSig(eu){let{Err:ed,_int:eg,_tlv:em}=ll,eb=cz("signature",eu),{v:ew,l:e_}=em.decode(48,eb);if(e_.length)throw new ed("invalid signature: left bytes after parsing");let{v:eE,l:eA}=em.decode(2,ew),{v:eS,l:eI}=em.decode(2,eA);if(eI.length)throw new ed("invalid signature: left bytes after parsing");return{r:eg.decode(eE),s:eg.decode(eS)}},hexFromSig(eu){let{_tlv:ed,_int:eg}=ll,em=ed.encode(2,eg.encode(eu.r)),eb=ed.encode(2,eg.encode(eu.s)),ew=em+eb;return ed.encode(48,ew)}},lh=BigInt(0),ld=BigInt(1),lp=BigInt(2),lg=BigInt(3),ly=BigInt(4);function lm(eu,ed,eg){return function(em){let eb=eu.sqr(em),ew=eu.mul(eb,em);return eu.add(eu.add(ew,eu.mul(em,ed)),eg)}}function lb(eu,ed,eg){let{BYTES:em}=eu;return function(eb){let ew;if("bigint"==typeof eb)ew=eb;else{let eg=cz("private key",eb);if(ed){if(!ed.includes(2*eg.length))throw Error("invalid private key");let eu=new Uint8Array(em);eu.set(eg,eu.length-eg.length),eg=eu}try{ew=eu.fromBytes(eg)}catch{throw Error(`invalid private key: expected ui8a of size ${em}, got ${typeof eb}`)}}if(eg&&(ew=eu.create(ew)),!eu.isValidNot0(ew))throw Error("invalid private key: out of range [1..N-1]");return ew}}function lv(eu,ed={}){let{Fp:eg,Fn:em}=uz("weierstrass",eu,ed),{h:eb,n:ew}=eu;cY(ed,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});let{endo:e_}=ed;if(e_&&(!eg.is0(eu.a)||"bigint"!=typeof e_.beta||"function"!=typeof e_.splitScalar))throw Error('invalid endo: expected "beta": bigint and "splitScalar": function');function eE(){if(!eg.isOdd)throw Error("compression is not supported: Field does not have .isOdd()")}function eA(eu,ed,em){let{x:eb,y:ew}=ed.toAffine(),e_=eg.toBytes(eb);if(cU("isCompressed",em),!em)return i5(Uint8Array.of(4),e_,eg.toBytes(ew));{eE();let eu=!eg.isOdd(ew);return i5(lw(eu),e_)}}function eS(eu){iL(eu);let ed=eg.BYTES,em=ed+1,eb=2*ed+1,ew=eu.length,e_=eu[0],eA=eu.subarray(1);if(ew===em&&(2===e_||3===e_)){let eu;let ed=eg.fromBytes(eA);if(!eg.isValid(ed))throw Error("bad point: is not on curve, wrong x");let em=eM(ed);try{eu=eg.sqrt(em)}catch(ed){let eu=ed instanceof Error?": "+ed.message:"";throw Error("bad point: is not on curve, sqrt error"+eu)}eE();let eb=eg.isOdd(eu);return(1&e_)==1!==eb&&(eu=eg.neg(eu)),{x:ed,y:eu}}if(ew===eb&&4===e_){let eu=eg.fromBytes(eA.subarray(0*ed,1*ed)),em=eg.fromBytes(eA.subarray(1*ed,2*ed));if(!eO(eu,em))throw Error("bad point: is not on curve");return{x:eu,y:em}}throw Error(`bad point: got length ${ew}, expected compressed=${em} or uncompressed=${eb}`)}let eI=ed.toBytes||eA,eC=ed.fromBytes||eS,eM=lm(eg,eu.a,eu.b);function eO(eu,ed){let em=eg.sqr(ed),eb=eM(eu);return eg.eql(em,eb)}if(!eO(eu.Gx,eu.Gy))throw Error("bad curve params: generator point");let eT=eg.mul(eg.pow(eu.a,lg),ly),eP=eg.mul(eg.sqr(eu.b),BigInt(27));if(eg.is0(eg.add(eT,eP)))throw Error("bad curve params: a or b");function eN(eu,ed,em=!1){if(!eg.isValid(ed)||em&&eg.is0(ed))throw Error(`bad point coordinate ${eu}`);return ed}function ek(eu){if(!(eu instanceof eU))throw Error("ProjectivePoint expected")}let eR=cX((eu,ed)=>{let{px:em,py:eb,pz:ew}=eu;if(eg.eql(ew,eg.ONE))return{x:em,y:eb};let e_=eu.is0();null==ed&&(ed=e_?eg.ONE:eg.inv(ew));let eE=eg.mul(em,ed),eA=eg.mul(eb,ed),eS=eg.mul(ew,ed);if(e_)return{x:eg.ZERO,y:eg.ZERO};if(!eg.eql(eS,eg.ONE))throw Error("invZ was invalid");return{x:eE,y:eA}}),eD=cX(eu=>{if(eu.is0()){if(ed.allowInfinityPoint&&!eg.is0(eu.py))return;throw Error("bad point: ZERO")}let{x:em,y:eb}=eu.toAffine();if(!eg.isValid(em)||!eg.isValid(eb))throw Error("bad point: x or y not field elements");if(!eO(em,eb))throw Error("bad point: equation left != right");if(!eu.isTorsionFree())throw Error("bad point: not in prime-order subgroup");return!0});function eB(eu,ed,em,eb,ew){return em=new eU(eg.mul(em.px,eu),em.py,em.pz),ed=uO(eb,ed),em=uO(ew,em),ed.add(em)}class eU{constructor(eu,ed,eg){this.px=eN("x",eu),this.py=eN("y",ed,!0),this.pz=eN("z",eg),Object.freeze(this)}static fromAffine(eu){let{x:ed,y:em}=eu||{};if(!eu||!eg.isValid(ed)||!eg.isValid(em))throw Error("invalid affine point");if(eu instanceof eU)throw Error("projective point not allowed");return eg.is0(ed)&&eg.is0(em)?eU.ZERO:new eU(ed,em,eg.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(eu){return uT(eU,"pz",eu)}static fromBytes(eu){return iL(eu),eU.fromHex(eu)}static fromHex(eu){let ed=eU.fromAffine(eC(cz("pointHex",eu)));return ed.assertValidity(),ed}static fromPrivateKey(eu){let eg=lb(em,ed.allowedPrivateKeyLengths,ed.wrapPrivateKey);return eU.BASE.multiply(eg(eu))}static msm(eu,ed){return uK(eU,em,eu,ed)}precompute(eu=8,ed=!0){return ej.setWindowSize(this,eu),ed||this.multiply(lg),this}_setWindowSize(eu){this.precompute(eu)}assertValidity(){eD(this)}hasEvenY(){let{y:eu}=this.toAffine();if(!eg.isOdd)throw Error("Field doesn't support isOdd");return!eg.isOdd(eu)}equals(eu){ek(eu);let{px:ed,py:em,pz:eb}=this,{px:ew,py:e_,pz:eE}=eu,eA=eg.eql(eg.mul(ed,eE),eg.mul(ew,eb)),eS=eg.eql(eg.mul(em,eE),eg.mul(e_,eb));return eA&&eS}negate(){return new eU(this.px,eg.neg(this.py),this.pz)}double(){let{a:ed,b:em}=eu,eb=eg.mul(em,lg),{px:ew,py:e_,pz:eE}=this,eA=eg.ZERO,eS=eg.ZERO,eI=eg.ZERO,eC=eg.mul(ew,ew),eM=eg.mul(e_,e_),eO=eg.mul(eE,eE),eT=eg.mul(ew,e_);return eT=eg.add(eT,eT),eI=eg.mul(ew,eE),eI=eg.add(eI,eI),eA=eg.mul(ed,eI),eS=eg.mul(eb,eO),eS=eg.add(eA,eS),eA=eg.sub(eM,eS),eS=eg.add(eM,eS),eS=eg.mul(eA,eS),eA=eg.mul(eT,eA),eI=eg.mul(eb,eI),eO=eg.mul(ed,eO),eT=eg.sub(eC,eO),eT=eg.mul(ed,eT),eT=eg.add(eT,eI),eI=eg.add(eC,eC),eC=eg.add(eI,eC),eC=eg.add(eC,eO),eC=eg.mul(eC,eT),eS=eg.add(eS,eC),eO=eg.mul(e_,eE),eO=eg.add(eO,eO),eC=eg.mul(eO,eT),eA=eg.sub(eA,eC),eI=eg.mul(eO,eM),eI=eg.add(eI,eI),eI=eg.add(eI,eI),new eU(eA,eS,eI)}add(ed){ek(ed);let{px:em,py:eb,pz:ew}=this,{px:e_,py:eE,pz:eA}=ed,eS=eg.ZERO,eI=eg.ZERO,eC=eg.ZERO,eM=eu.a,eO=eg.mul(eu.b,lg),eT=eg.mul(em,e_),eP=eg.mul(eb,eE),eN=eg.mul(ew,eA),eR=eg.add(em,eb),eD=eg.add(e_,eE);eR=eg.mul(eR,eD),eD=eg.add(eT,eP),eR=eg.sub(eR,eD),eD=eg.add(em,ew);let eB=eg.add(e_,eA);return eD=eg.mul(eD,eB),eB=eg.add(eT,eN),eD=eg.sub(eD,eB),eB=eg.add(eb,ew),eS=eg.add(eE,eA),eB=eg.mul(eB,eS),eS=eg.add(eP,eN),eB=eg.sub(eB,eS),eC=eg.mul(eM,eD),eS=eg.mul(eO,eN),eC=eg.add(eS,eC),eS=eg.sub(eP,eC),eC=eg.add(eP,eC),eI=eg.mul(eS,eC),eP=eg.add(eT,eT),eP=eg.add(eP,eT),eN=eg.mul(eM,eN),eD=eg.mul(eO,eD),eP=eg.add(eP,eN),eN=eg.sub(eT,eN),eN=eg.mul(eM,eN),eD=eg.add(eD,eN),eT=eg.mul(eP,eD),eI=eg.add(eI,eT),eT=eg.mul(eB,eD),eS=eg.mul(eR,eS),eS=eg.sub(eS,eT),eT=eg.mul(eR,eP),eC=eg.mul(eB,eC),eC=eg.add(eC,eT),new eU(eS,eI,eC)}subtract(eu){return this.add(eu.negate())}is0(){return this.equals(eU.ZERO)}multiply(eu){let eg,eb;let{endo:ew}=ed;if(!em.isValidNot0(eu))throw Error("invalid scalar: out of range");let e_=eu=>ej.wNAFCached(this,eu,eU.normalizeZ);if(ew){let{k1neg:ed,k1:em,k2neg:eE,k2:eA}=ew.splitScalar(eu),{p:eS,f:eI}=e_(em),{p:eC,f:eM}=e_(eA);eb=eI.add(eM),eg=eB(ew.beta,eS,eC,ed,eE)}else{let{p:ed,f:em}=e_(eu);eg=ed,eb=em}return eU.normalizeZ([eg,eb])[0]}multiplyUnsafe(eu){let{endo:eg}=ed,eb=this;if(!em.isValid(eu))throw Error("invalid scalar: out of range");if(eu===lh||eb.is0())return eU.ZERO;if(eu===ld)return eb;if(ej.hasPrecomputes(this))return this.multiply(eu);if(!eg)return ej.wNAFCachedUnsafe(eb,eu);{let{k1neg:ed,k1:em,k2neg:ew,k2:e_}=eg.splitScalar(eu),{p1:eE,p2:eA}=u$(eU,eb,em,e_);return eB(eg.beta,eE,eA,ed,ew)}}multiplyAndAddUnsafe(eu,ed,eg){let em=this.multiplyUnsafe(ed).add(eu.multiplyUnsafe(eg));return em.is0()?void 0:em}toAffine(eu){return eR(this,eu)}isTorsionFree(){let{isTorsionFree:eu}=ed;return eb===ld||(eu?eu(eU,this):ej.wNAFCachedUnsafe(this,ew).is0())}clearCofactor(){let{clearCofactor:eu}=ed;return eb===ld?this:eu?eu(eU,this):this.multiplyUnsafe(eb)}toBytes(eu=!0){return cU("isCompressed",eu),this.assertValidity(),eI(eU,this,eu)}toRawBytes(eu=!0){return this.toBytes(eu)}toHex(eu=!0){return i0(this.toBytes(eu))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}eU.BASE=new eU(eu.Gx,eu.Gy,eg.ONE),eU.ZERO=new eU(eg.ZERO,eg.ONE,eg.ZERO),eU.Fp=eg,eU.Fn=em;let eL=em.BITS,ej=uF(eU,ed.endo?Math.ceil(eL/2):eL);return eU}function lw(eu){return Uint8Array.of(eu?2:3)}function l_(eu,ed,eg={}){cY(ed,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});let em=ed.randomBytes||ou,eb=ed.hmac||((eu,...eg)=>cC(ed.hash,eu,i5(...eg))),{Fp:ew,Fn:e_}=eu,{ORDER:eE,BITS:eA}=e_;function eS(eu){let ed=eE>>ld;return eu>ed}function eI(eu){return eS(eu)?e_.neg(eu):eu}function eC(eu,ed){if(!e_.isValidNot0(ed))throw Error(`invalid signature ${eu}: out of range 1..CURVE.n`)}class eM{constructor(eu,ed,eg){eC("r",eu),eC("s",ed),this.r=eu,this.s=ed,null!=eg&&(this.recovery=eg),Object.freeze(this)}static fromCompact(eu){let ed=e_.BYTES,eg=cz("compactSignature",eu,2*ed);return new eM(e_.fromBytes(eg.subarray(0,ed)),e_.fromBytes(eg.subarray(ed,2*ed)))}static fromDER(eu){let{r:ed,s:eg}=ll.toSig(cz("DER",eu));return new eM(ed,eg)}assertValidity(){}addRecoveryBit(eu){return new eM(this.r,this.s,eu)}recoverPublicKey(ed){let eg=ew.ORDER,{r:em,s:eb,recovery:eA}=this;if(null==eA||![0,1,2,3].includes(eA))throw Error("recovery id invalid");if(eE*lp<eg&&eA>1)throw Error("recovery id is ambiguous for h>1 curve");let eS=2===eA||3===eA?em+eE:em;if(!ew.isValid(eS))throw Error("recovery id 2 or 3 invalid");let eI=ew.toBytes(eS),eC=eu.fromHex(i5(lw((1&eA)==0),eI)),eM=e_.inv(eS),eO=eD(cz("msgHash",ed)),eT=e_.create(-eO*eM),eP=e_.create(eb*eM),eN=eu.BASE.multiplyUnsafe(eT).add(eC.multiplyUnsafe(eP));if(eN.is0())throw Error("point at infinify");return eN.assertValidity(),eN}hasHighS(){return eS(this.s)}normalizeS(){return this.hasHighS()?new eM(this.r,e_.neg(this.s),this.recovery):this}toBytes(eu){if("compact"===eu)return i5(e_.toBytes(this.r),e_.toBytes(this.s));if("der"===eu)return i6(ll.hexFromSig(this));throw Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return i0(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return i0(this.toBytes("compact"))}}let eO=lb(e_,eg.allowedPrivateKeyLengths,eg.wrapPrivateKey),eT={isValidPrivateKey(eu){try{return eO(eu),!0}catch{return!1}},normPrivateKeyToScalar:eO,randomPrivateKey:()=>{let eu=eE;return ux(em(uI(eu)),eu)},precompute:(ed=8,eg=eu.BASE)=>eg.precompute(ed,!1)};function eP(ed,eg=!0){return eu.fromPrivateKey(ed).toBytes(eg)}function eN(ed){if("bigint"==typeof ed)return!1;if(ed instanceof eu)return!0;let em=cz("key",ed).length,eb=ew.BYTES,eE=eb+1,eA=2*eb+1;if(!(eg.allowedPrivateKeyLengths||e_.BYTES===eE))return em===eE||em===eA}function ek(ed,eg,em=!0){if(!0===eN(ed))throw Error("first arg must be private key");if(!1===eN(eg))throw Error("second arg must be public key");return eu.fromHex(eg).multiply(eO(ed)).toBytes(em)}let eR=ed.bits2int||function(eu){if(eu.length>8192)throw Error("input is too large");let ed=cF(eu),eg=8*eu.length-eA;return eg>0?ed>>BigInt(eg):ed},eD=ed.bits2int_modN||function(eu){return e_.create(eR(eu))},eB=cJ(eA);function eU(eu){return cG("num < 2^"+eA,eu,lh,eB),e_.toBytes(eu)}function eL(eg,eb,eE=ej){if(["recovered","canonical"].some(eu=>eu in eE))throw Error("sign() legacy options not supported");let{hash:eA}=ed,{lowS:eC,prehash:eT,extraEntropy:eP}=eE;null==eC&&(eC=!0),eg=cz("msgHash",eg),u7(eE),eT&&(eg=cz("prehashed msgHash",eA(eg)));let eN=eD(eg),ek=eO(eb),eB=[eU(ek),eU(eN)];if(null!=eP&&!1!==eP){let eu=!0===eP?em(ew.BYTES):eP;eB.push(cz("extraEntropy",eu))}let eL=i5(...eB),eF=eN;return{seed:eL,k2sig:function(ed){let eg=eR(ed);if(!e_.isValidNot0(eg))return;let em=e_.inv(eg),eb=eu.BASE.multiply(eg).toAffine(),ew=e_.create(eb.x);if(ew===lh)return;let eE=e_.create(em*e_.create(eF+ew*ek));if(eE===lh)return;let eA=(eb.x===ew?0:2)|Number(eb.y&ld),eO=eE;return eC&&eS(eE)&&(eO=eI(eE),eA^=1),new eM(ew,eO,eA)}}}let ej={lowS:ed.lowS,prehash:!1},eF={lowS:ed.lowS,prehash:!1};function e$(eu,eg,em=ej){let{seed:ew,k2sig:eE}=eL(eu,eg,em);return cZ(ed.hash.outputLen,e_.BYTES,eb)(ew,eE)}return eu.BASE.precompute(8),Object.freeze({getPublicKey:eP,getSharedSecret:ek,sign:e$,verify:function(eg,em,eb,ew=eF){let eE,eA;let eS=eg;em=cz("msgHash",em),eb=cz("publicKey",eb),u7(ew);let{lowS:eI,prehash:eC,format:eO}=ew;if("strict"in ew)throw Error("options.strict was renamed to lowS");if(void 0!==eO&&!["compact","der","js"].includes(eO))throw Error('format must be "compact", "der" or "js"');let eT="string"==typeof eS||iB(eS),eP=!eT&&!eO&&"object"==typeof eS&&null!==eS&&"bigint"==typeof eS.r&&"bigint"==typeof eS.s;if(!eT&&!eP)throw Error("invalid signature, expected Uint8Array, hex string or Signature instance");try{if(eP){if(void 0===eO||"js"===eO)eE=new eM(eS.r,eS.s);else throw Error("invalid format")}if(eT){try{"compact"!==eO&&(eE=eM.fromDER(eS))}catch(eu){if(!(eu instanceof ll.Err))throw eu}eE||"der"===eO||(eE=eM.fromCompact(eS))}eA=eu.fromHex(eb)}catch{return!1}if(!eE||eI&&eE.hasHighS())return!1;eC&&(em=ed.hash(em));let{r:eN,s:ek}=eE,eR=eD(em),eB=e_.inv(ek),eU=e_.create(eR*eB),eL=e_.create(eN*eB),ej=eu.BASE.multiplyUnsafe(eU).add(eA.multiplyUnsafe(eL));return!ej.is0()&&e_.create(ej.x)===eN},utils:eT,Point:eu,Signature:eM})}function lE(eu){let ed={a:eu.a,b:eu.b,p:eu.Fp.ORDER,n:eu.n,h:eu.h,Gx:eu.Gx,Gy:eu.Gy},eg=eu.Fp,em=uA(ed.n,eu.nBitLength),eb={Fp:eg,Fn:em,allowedPrivateKeyLengths:eu.allowedPrivateKeyLengths,allowInfinityPoint:eu.allowInfinityPoint,endo:eu.endo,wrapPrivateKey:eu.wrapPrivateKey,isTorsionFree:eu.isTorsionFree,clearCofactor:eu.clearCofactor,fromBytes:eu.fromBytes,toBytes:eu.toBytes};return{CURVE:ed,curveOpts:eb}}function lA(eu){let{CURVE:ed,curveOpts:eg}=lE(eu),em={hash:eu.hash,hmac:eu.hmac,randomBytes:eu.randomBytes,lowS:eu.lowS,bits2int:eu.bits2int,bits2int_modN:eu.bits2int_modN};return{CURVE:ed,curveOpts:eg,ecdsaOpts:em}}function lS(eu,ed){return Object.assign({},ed,{ProjectivePoint:ed.Point,CURVE:eu})}function lI(eu){let{CURVE:ed,curveOpts:eg,ecdsaOpts:em}=lA(eu),eb=lv(ed,eg),ew=l_(eb,em,eg);return lS(eu,ew)}function lx(eu,ed){let eg=ed=>lI({...eu,hash:ed});return{...eg(ed),create:eg}}let lC={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},lM={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},lO={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},lT=uA(lC.p),lP=uA(lM.p),lN=uA(lO.p),lk=lx({...lC,Fp:lT,lowS:!1},oZ);lx({...lM,Fp:lP,lowS:!1},oX),lx({...lO,Fp:lN,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},oY);let lR=lk,lD="base10",lB="base16",lU="base64pad",lL="base64url",lj="utf8",lF=0,l$=1,lK=2,lq=0,lz=1,lH=12,lV=32;function lG(){let eu=u9.utils.randomPrivateKey(),ed=u9.getPublicKey(eu);return{privateKey:(0,rL.BB)(eu,lB),publicKey:(0,rL.BB)(ed,lB)}}function lW(){let eu=ou(lV);return(0,rL.BB)(eu,lB)}function lJ(eu,ed){let eg=u9.getSharedSecret((0,rL.mL)(eu,lB),(0,rL.mL)(ed,lB)),em=cN(cR,eg,void 0,void 0,lV);return(0,rL.BB)(em,lB)}function lZ(eu){let ed=cR((0,rL.mL)(eu,lB));return(0,rL.BB)(ed,lB)}function lY(eu){let ed=cR((0,rL.mL)(eu,lj));return(0,rL.BB)(ed,lB)}function lX(eu){return(0,rL.mL)(`${eu}`,lD)}function lQ(eu){return Number((0,rL.BB)(eu,lD))}function l0(eu){return eu.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function l1(eu){let ed=eu.replace(/-/g,"+").replace(/_/g,"/"),eg=(4-ed.length%4)%4;return ed+"=".repeat(eg)}function l2(eu){let ed=lX("u">typeof eu.type?eu.type:lF);if(lQ(ed)===l$&&typeof eu.senderPublicKey>"u")throw Error("Missing sender public key for type 1 envelope");let eg="u">typeof eu.senderPublicKey?(0,rL.mL)(eu.senderPublicKey,lB):void 0,em="u">typeof eu.iv?(0,rL.mL)(eu.iv,lB):ou(lH),eb=(0,rL.mL)(eu.symKey,lB),ew=cI(eb,em).encrypt((0,rL.mL)(eu.message,lj)),e_=l5({type:ed,sealed:ew,iv:em,senderPublicKey:eg});return eu.encoding===lL?l0(e_):e_}function l6(eu){let ed=(0,rL.mL)(eu.symKey,lB),{sealed:eg,iv:em}=l4({encoded:eu.encoded,encoding:eu.encoding}),eb=cI(ed,em).decrypt(eg);if(null===eb)throw Error("Failed to decrypt");return(0,rL.BB)(eb,lj)}function l3(eu,ed){let eg=lX(lK),em=ou(lH),eb=(0,rL.mL)(eu,lj),ew=l5({type:eg,sealed:eb,iv:em});return ed===lL?l0(ew):ew}function l8(eu,ed){let{sealed:eg}=l4({encoded:eu,encoding:ed});return(0,rL.BB)(eg,lj)}function l5(eu){if(lQ(eu.type)===lK)return(0,rL.BB)((0,rL.zo)([eu.type,eu.sealed]),lU);if(lQ(eu.type)===l$){if(typeof eu.senderPublicKey>"u")throw Error("Missing sender public key for type 1 envelope");return(0,rL.BB)((0,rL.zo)([eu.type,eu.senderPublicKey,eu.iv,eu.sealed]),lU)}return(0,rL.BB)((0,rL.zo)([eu.type,eu.iv,eu.sealed]),lU)}function l4(eu){let ed=(eu.encoding||lU)===lL?l1(eu.encoded):eu.encoded,eg=(0,rL.mL)(ed,lU),em=eg.slice(lq,lz),eb=lz;if(lQ(em)===l$){let eu=eb+lV,ed=eu+lH,ew=eg.slice(eb,eu),e_=eg.slice(eu,ed),eE=eg.slice(ed);return{type:em,sealed:eE,iv:e_,senderPublicKey:ew}}if(lQ(em)===lK){let eu=eg.slice(eb),ed=ou(lH);return{type:em,sealed:eu,iv:ed}}let ew=eb+lH,e_=eg.slice(eb,ew),eE=eg.slice(ew);return{type:em,sealed:eE,iv:e_}}function l9(eu,ed){let eg=l4({encoded:eu,encoding:ed?.encoding});return l7({type:lQ(eg.type),senderPublicKey:"u">typeof eg.senderPublicKey?(0,rL.BB)(eg.senderPublicKey,lB):void 0,receiverPublicKey:ed?.receiverPublicKey})}function l7(eu){let ed=eu?.type||lF;if(ed===l$){if(typeof eu?.senderPublicKey>"u")throw Error("missing sender public key");if(typeof eu?.receiverPublicKey>"u")throw Error("missing receiver public key")}return{type:ed,senderPublicKey:eu?.senderPublicKey,receiverPublicKey:eu?.receiverPublicKey}}function ha(eu){return eu.type===l$&&"string"==typeof eu.senderPublicKey&&"string"==typeof eu.receiverPublicKey}function hu(eu){return eu.type===lK}function hd(eu){let ed=rK.from(eu.x,"base64"),eg=rK.from(eu.y,"base64");return(0,rL.zo)([new Uint8Array([4]),ed,eg])}function hp(eu,ed){let[eg,em,eb]=eu.split("."),ew=rK.from(l1(eb),"base64");if(64!==ew.length)throw Error("Invalid signature length");let e_=ew.slice(0,32),eE=ew.slice(32,64),eA=`${eg}.${em}`,eS=cR(eA),eI=hd(ed);if(!lR.verify((0,rL.zo)([e_,eE]),eS,eI))throw Error("Invalid signature");return(0,eY.xp)(eu).payload}let hg="irn";function hy(eu){return eu?.relay||{protocol:hg}}function hm(eu){let ed=rj.iO[eu];if(typeof ed>"u")throw Error(`Relay Protocol not supported: ${eu}`);return ed}function hb(eu,ed="-"){let eg={},em="relay"+ed;return Object.keys(eu).forEach(ed=>{if(ed.startsWith(em)){let eb=ed.replace(em,""),ew=eu[ed];eg[eb]=ew}}),eg}function hv(eu){if(!eu.includes("wc:")){let ed=nY(eu);null!=ed&&ed.includes("wc:")&&(eu=ed)}eu=(eu=eu.includes("wc://")?eu.replace("wc://",""):eu).includes("wc:")?eu.replace("wc:",""):eu;let ed=eu.indexOf(":"),eg=-1!==eu.indexOf("?")?eu.indexOf("?"):void 0,em=eu.substring(0,ed),eb=eu.substring(ed+1,eg).split("@"),ew="u">typeof eg?eu.substring(eg):"",e_=new URLSearchParams(ew),eE={};e_.forEach((eu,ed)=>{eE[ed]=eu});let eA="string"==typeof eE.methods?eE.methods.split(","):void 0;return{protocol:em,topic:hw(eb[0]),version:parseInt(eb[1],10),symKey:eE.symKey,relay:hb(eE),methods:eA,expiryTimestamp:eE.expiryTimestamp?parseInt(eE.expiryTimestamp,10):void 0}}function hw(eu){return eu.startsWith("//")?eu.substring(2):eu}function h_(eu,ed="-"){let eg="relay",em={};return Object.keys(eu).forEach(eb=>{let ew=eb,e_=eg+ed+ew;eu[ew]&&(em[e_]=eu[ew])}),em}function hE(eu){let ed=new URLSearchParams,eg=h_(eu.relay);Object.keys(eg).sort().forEach(eu=>{ed.set(eu,eg[eu])}),ed.set("symKey",eu.symKey),eu.expiryTimestamp&&ed.set("expiryTimestamp",eu.expiryTimestamp.toString()),eu.methods&&ed.set("methods",eu.methods.join(","));let em=ed.toString();return`${eu.protocol}:${eu.topic}@${eu.version}?${em}`}function hA(eu,ed,eg){return`${eu}?wc_ev=${eg}&topic=${ed}`}var hS=Object.defineProperty,hI=Object.defineProperties,hx=Object.getOwnPropertyDescriptors,hC=Object.getOwnPropertySymbols,hM=Object.prototype.hasOwnProperty,hO=Object.prototype.propertyIsEnumerable,hT=(eu,ed,eg)=>ed in eu?hS(eu,ed,{enumerable:!0,configurable:!0,writable:!0,value:eg}):eu[ed]=eg,hP=(eu,ed)=>{for(var eg in ed||(ed={}))hM.call(ed,eg)&&hT(eu,eg,ed[eg]);if(hC)for(var eg of hC(ed))hO.call(ed,eg)&&hT(eu,eg,ed[eg]);return eu},hN=(eu,ed)=>hI(eu,hx(ed));function hk(eu){let ed=[];return eu.forEach(eu=>{let[eg,em]=eu.split(":");ed.push(`${eg}:${em}`)}),ed}function hR(eu){let ed=[];return Object.values(eu).forEach(eu=>{ed.push(...hk(eu.accounts))}),ed}function hD(eu,ed){let eg=[];return Object.values(eu).forEach(eu=>{hk(eu.accounts).includes(ed)&&eg.push(...eu.methods)}),eg}function hB(eu,ed){let eg=[];return Object.values(eu).forEach(eu=>{hk(eu.accounts).includes(ed)&&eg.push(...eu.events)}),eg}function hU(eu){return eu.includes(":")}function hL(eu){return hU(eu)?eu.split(":")[0]:eu}function hj(eu){var ed,eg,em;let eb={};if(!hW(eu))return eb;for(let[ew,e_]of Object.entries(eu)){let eu=hU(ew)?[ew]:e_.chains,eE=e_.methods||[],eA=e_.events||[],eS=hL(ew);eb[eS]=hN(hP({},eb[eS]),{chains:nj(eu,null==(ed=eb[eS])?void 0:ed.chains),methods:nj(eE,null==(eg=eb[eS])?void 0:eg.methods),events:nj(eA,null==(em=eb[eS])?void 0:em.events)})}return eb}function hF(eu){let ed={};return eu?.forEach(eu=>{var eg;let[em,eb]=eu.split(":");ed[em]||(ed[em]={accounts:[],chains:[],events:[],methods:[]}),ed[em].accounts.push(eu),null==(eg=ed[em].chains)||eg.push(`${em}:${eb}`)}),ed}function h$(eu,ed){ed=ed.map(eu=>eu.replace("did:pkh:",""));let eg=hF(ed);for(let[ed,em]of Object.entries(eg))em.methods?em.methods=nj(em.methods,eu):em.methods=eu,em.events=["chainChanged","accountsChanged"];return eg}function hK(eu,ed){var eg,em,eb,ew,e_,eE;let eA=hj(eu),eS=hj(ed),eI={},eC=Object.keys(eA).concat(Object.keys(eS));for(let eu of eC)eI[eu]={chains:nj(null==(eg=eA[eu])?void 0:eg.chains,null==(em=eS[eu])?void 0:em.chains),methods:nj(null==(eb=eA[eu])?void 0:eb.methods,null==(ew=eS[eu])?void 0:ew.methods),events:nj(null==(e_=eA[eu])?void 0:e_.events,null==(eE=eS[eu])?void 0:eE.events)};return eI}let hq={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},hz={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function hH(eu,ed){let{message:eg,code:em}=hz[eu];return{message:ed?`${eg} ${ed}`:eg,code:em}}function hV(eu,ed){let{message:eg,code:em}=hq[eu];return{message:ed?`${eg} ${ed}`:eg,code:em}}function hG(eu,ed){return!!Array.isArray(eu)&&(!("u">typeof ed)||!eu.length||eu.every(ed))}function hW(eu){return Object.getPrototypeOf(eu)===Object.prototype&&Object.keys(eu).length}function hJ(eu){return typeof eu>"u"}function hZ(eu,ed){return!!(ed&&hJ(eu))||"string"==typeof eu&&!!eu.trim().length}function hY(eu,ed){return!!(ed&&hJ(eu))||"number"==typeof eu&&!isNaN(eu)}function hX(eu,ed){let{requiredNamespaces:eg}=ed,em=Object.keys(eu.namespaces),eb=Object.keys(eg),ew=!0;return!!nC(eb,em)&&(em.forEach(ed=>{let{accounts:em,methods:eb,events:e_}=eu.namespaces[ed],eE=hk(em),eA=eg[ed];nC(rH(ed,eA),eE)&&nC(eA.methods,eb)&&nC(eA.events,e_)||(ew=!1)}),ew)}function hQ(eu){return!!(hZ(eu,!1)&&eu.includes(":"))&&2===eu.split(":").length}function h8(eu){if(hZ(eu,!1)&&eu.includes(":")){let ed=eu.split(":");if(3===ed.length){let eu=ed[0]+":"+ed[1];return!!ed[2]&&hQ(eu)}}return!1}function h9(eu){function ed(eu){try{return"u">typeof new URL(eu)}catch{return!1}}try{if(hZ(eu,!1)){if(ed(eu))return!0;let eg=nY(eu);return ed(eg)}}catch{}return!1}function du(eu){var ed;return null==(ed=eu?.proposer)?void 0:ed.publicKey}function dd(eu){return eu?.topic}function dg(eu,ed){let eg=null;return hZ(eu?.publicKey,!1)||(eg=hH("MISSING_OR_INVALID",`${ed} controller public key should be a string`)),eg}function dy(eu){let ed=!0;return hG(eu)?eu.length&&(ed=eu.every(eu=>hZ(eu,!1))):ed=!1,ed}function dv(eu,ed,eg){let em=null;return hG(ed)&&ed.length?ed.forEach(eu=>{em||hQ(eu)||(em=hV("UNSUPPORTED_CHAINS",`${eg}, chain ${eu} should be a string and conform to "namespace:chainId" format`))}):hQ(eu)||(em=hV("UNSUPPORTED_CHAINS",`${eg}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),em}function dw(eu,ed,eg){let em=null;return Object.entries(eu).forEach(([eu,eb])=>{if(em)return;let ew=dv(eu,rH(eu,eb),`${ed} ${eg}`);ew&&(em=ew)}),em}function d_(eu,ed){let eg=null;return hG(eu)?eu.forEach(eu=>{eg||h8(eu)||(eg=hV("UNSUPPORTED_ACCOUNTS",`${ed}, account ${eu} should be a string and conform to "namespace:chainId:address" format`))}):eg=hV("UNSUPPORTED_ACCOUNTS",`${ed}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),eg}function dE(eu,ed){let eg=null;return Object.values(eu).forEach(eu=>{if(eg)return;let em=d_(eu?.accounts,`${ed} namespace`);em&&(eg=em)}),eg}function dA(eu,ed){let eg=null;return dy(eu?.methods)?dy(eu?.events)||(eg=hV("UNSUPPORTED_EVENTS",`${ed}, events should be an array of strings or empty array for no events`)):eg=hV("UNSUPPORTED_METHODS",`${ed}, methods should be an array of strings or empty array for no methods`),eg}function dS(eu,ed){let eg=null;return Object.values(eu).forEach(eu=>{if(eg)return;let em=dA(eu,`${ed}, namespace`);em&&(eg=em)}),eg}function dI(eu,ed,eg){let em=null;if(eu&&hW(eu)){let eb=dS(eu,ed);eb&&(em=eb);let ew=dw(eu,ed,eg);ew&&(em=ew)}else em=hH("MISSING_OR_INVALID",`${ed}, ${eg} should be an object with data`);return em}function dx(eu,ed){let eg=null;if(eu&&hW(eu)){let em=dS(eu,ed);em&&(eg=em);let eb=dE(eu,ed);eb&&(eg=eb)}else eg=hH("MISSING_OR_INVALID",`${ed}, namespaces should be an object with data`);return eg}function dC(eu){return hZ(eu.protocol,!0)}function dM(eu,ed){let eg=!1;return ed&&!eu?eg=!0:eu&&hG(eu)&&eu.length&&eu.forEach(eu=>{eg=dC(eu)}),eg}function dO(eu){return"number"==typeof eu}function dT(eu){return"u">typeof eu}function dP(eu){return!(!eu||"object"!=typeof eu||!eu.code||!hY(eu.code,!1)||!eu.message||!hZ(eu.message,!1))}function dN(eu){return!(hJ(eu)||!hZ(eu.method,!1))}function dk(eu){return!(hJ(eu)||hJ(eu.result)&&hJ(eu.error)||!hY(eu.id,!1)||!hZ(eu.jsonrpc,!1))}function dR(eu){return!(hJ(eu)||!hZ(eu.name,!1))}function dD(eu,ed){return!(!hQ(ed)||!hR(eu).includes(ed))}function dB(eu,ed,eg){return!!hZ(eg,!1)&&hD(eu,ed).includes(eg)}function dU(eu,ed,eg){return!!hZ(eg,!1)&&hB(eu,ed).includes(eg)}function dL(eu,ed,eg){let em=null,eb=dj(eu),ew=d$(ed),e_=Object.keys(eb),eE=Object.keys(ew),eA=dF(Object.keys(eu)),eS=dF(Object.keys(ed)),eI=eA.filter(eu=>!eS.includes(eu));return eI.length&&(em=hH("NON_CONFORMING_NAMESPACES",`${eg} namespaces keys don't satisfy requiredNamespaces.
      Required: ${eI.toString()}
      Received: ${Object.keys(ed).toString()}`)),nC(e_,eE)||(em=hH("NON_CONFORMING_NAMESPACES",`${eg} namespaces chains don't satisfy required namespaces.
      Required: ${e_.toString()}
      Approved: ${eE.toString()}`)),Object.keys(ed).forEach(eu=>{if(!eu.includes(":")||em)return;let eb=hk(ed[eu].accounts);eb.includes(eu)||(em=hH("NON_CONFORMING_NAMESPACES",`${eg} namespaces accounts don't satisfy namespace accounts for ${eu}
        Required: ${eu}
        Approved: ${eb.toString()}`))}),e_.forEach(eu=>{em||(nC(eb[eu].methods,ew[eu].methods)?nC(eb[eu].events,ew[eu].events)||(em=hH("NON_CONFORMING_NAMESPACES",`${eg} namespaces events don't satisfy namespace events for ${eu}`)):em=hH("NON_CONFORMING_NAMESPACES",`${eg} namespaces methods don't satisfy namespace methods for ${eu}`))}),em}function dj(eu){let ed={};return Object.keys(eu).forEach(eg=>{var em;eg.includes(":")?ed[eg]=eu[eg]:null==(em=eu[eg].chains)||em.forEach(em=>{ed[em]={methods:eu[eg].methods,events:eu[eg].events}})}),ed}function dF(eu){return[...new Set(eu.map(eu=>eu.includes(":")?eu.split(":")[0]:eu))]}function d$(eu){let ed={};return Object.keys(eu).forEach(eg=>{if(eg.includes(":"))ed[eg]=eu[eg];else{let em=hk(eu[eg].accounts);em?.forEach(em=>{ed[em]={accounts:eu[eg].accounts.filter(eu=>eu.includes(`${em}:`)),methods:eu[eg].methods,events:eu[eg].events}})}}),ed}function dK(eu,ed){return hY(eu,!1)&&eu<=ed.max&&eu>=ed.min}function dq(){let eu=np();return new Promise(ed=>{switch(eu){case r5.browser:ed(dz());break;case r5.reactNative:ed(dH());break;case r5.node:ed(dV());break;default:ed(!0)}})}function dz(){return nd()&&navigator?.onLine}async function dH(){if(r7()&&"u">typeof eg.g&&null!=eg.g&&eg.g.NetInfo){let eu=await (null==eg.g?void 0:eg.g.NetInfo.fetch());return eu?.isConnected}return!0}function dV(){return!0}function dG(eu){switch(np()){case r5.browser:dW(eu);break;case r5.reactNative:dJ(eu);case r5.node:}}function dW(eu){!r7()&&nd()&&(window.addEventListener("online",()=>eu(!0)),window.addEventListener("offline",()=>eu(!1)))}function dJ(eu){r7()&&"u">typeof eg.g&&null!=eg.g&&eg.g.NetInfo&&eg.g?.NetInfo.addEventListener(ed=>eu(ed?.isConnected))}function dZ(){var eu;return!(nd()&&(0,eQ.getDocument)())||(null==(eu=(0,eQ.getDocument)())?void 0:eu.visibilityState)==="visible"}let dY={};class dX{static get(eu){return dY[eu]}static set(eu,ed){dY[eu]=ed}static delete(eu){delete dY[eu]}}function dQ(eu){let ed=rR.decode(eu);if(ed.length<33)throw Error("Too short to contain a public key");return ed.slice(1,33)}function d0({publicKey:eu,signature:ed,payload:eg}){var em;let eb=d3(eg.method),ew=128|parseInt((null==(em=eg.version)?void 0:em.toString())||"4"),e_=d5(eg.address),eE="00"===eg.era?new Uint8Array([0]):d3(eg.era);if(1!==eE.length&&2!==eE.length)throw Error("Invalid era length");let eA=parseInt(eg.nonce,16),eS=new Uint8Array([255&eA,eA>>8&255]),eI=BigInt(`0x${d8(eg.tip)}`),eC=d9(eI),eM=new Uint8Array([0,...eu,e_,...ed,...eE,...eS,...eC,...eb]),eO=d4(eM.length+1);return new Uint8Array([...eO,ew,...eM])}function d6(eu){let ed=d3(eu),eg=(0,rF.blake2b)(ed,void 0,32);return"0x"+rK.from(eg).toString("hex")}function d3(eu){return new Uint8Array(eu.replace(/^0x/,"").match(/.{1,2}/g).map(eu=>parseInt(eu,16)))}function d8(eu){return eu.startsWith("0x")?eu.slice(2):eu}function d5(eu){let ed=rR.decode(eu)[0];return 42===ed?0:60===ed?2:1}function d4(eu){if(eu<64)return new Uint8Array([eu<<2]);if(eu<16384){let ed=eu<<2|1;return new Uint8Array([255&ed,ed>>8&255])}if(eu<1073741824){let ed=eu<<2|2;return new Uint8Array([255&ed,ed>>8&255,ed>>16&255,ed>>24&255])}throw Error("Compact encoding > 2^30 not supported")}function d9(eu){if(eu<BigInt(1)<<BigInt(6))return new Uint8Array([Number(eu<<BigInt(2))]);if(eu<BigInt(1)<<BigInt(14)){let ed=eu<<BigInt(2)|BigInt(1);return new Uint8Array([Number(ed&BigInt(255)),Number(ed>>BigInt(8)&BigInt(255))])}if(eu<BigInt(1)<<BigInt(30)){let ed=eu<<BigInt(2)|BigInt(2);return new Uint8Array([Number(ed&BigInt(255)),Number(ed>>BigInt(8)&BigInt(255)),Number(ed>>BigInt(16)&BigInt(255)),Number(ed>>BigInt(24)&BigInt(255))])}throw Error("BigInt compact encoding not supported > 2^30")}function d7(eu){let ed=Uint8Array.from(rK.from(eu.signature,"hex")),eg=dQ(eu.transaction.address),em=d0({publicKey:eg,signature:ed,payload:eu.transaction}),eb=rK.from(em).toString("hex");return d6(eb)}var fu=eg(81154),fd=eg(55494),fg=eg(94907),fy=eg(48834).Buffer,fv=eg(34406);let fw="wc",f_=2,fE="core",fA=`${fw}@2:${fE}:`,fS={name:fE,logger:"error"},fI={database:":memory:"},fx="crypto",fC="client_ed25519_seed",fO=eJ.ONE_DAY,fT="keychain",fP="0.3",fN="messages",fk="0.3",fR=eJ.SIX_HOURS,fD="publisher",fB="irn",fU="error",fL="wss://relay.walletconnect.org",fj="relayer",fF={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},f$="_subscription",fK={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},fq=.1,fz="2.21.5",fH={link_mode:"link_mode",relay:"relay"},fV={inbound:"inbound",outbound:"outbound"},fG="0.3",fW="WALLETCONNECT_CLIENT_ID",fJ="WALLETCONNECT_LINK_MODE_APPS",fZ={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},fY="subscription",fX="0.3",fQ=(eJ.FIVE_SECONDS,"pairing"),f0="0.3",f1={wc_pairingDelete:{req:{ttl:eJ.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:eJ.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:eJ.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:eJ.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:eJ.ONE_DAY,prompt:!1,tag:0},res:{ttl:eJ.ONE_DAY,prompt:!1,tag:0}}},f2={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},f6={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},f3="history",f8="0.3",f5="expirer",f4={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},f9="0.3",f7="verify-api",pa="https://verify.walletconnect.com",pl="https://verify.walletconnect.org",pd=pl,pp=`${pd}/v3`,pg=[pa,pl],py="echo",pb="https://echo.walletconnect.com",pv={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},pw={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},p_={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},pE={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},pA={authenticated_session_approve_started:"authenticated_session_approve_started",authenticated_session_not_expired:"authenticated_session_not_expired",chains_caip2_compliant:"chains_caip2_compliant",chains_evm_compliant:"chains_evm_compliant",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve",authenticated_session_approve_publish_success:"authenticated_session_approve_publish_success"},pS={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",missing_session_authenticate_request:"missing_session_authenticate_request",session_authenticate_request_expired:"session_authenticate_request_expired",chains_caip2_compliant_failure:"chains_caip2_compliant_failure",chains_evm_compliant_failure:"chains_evm_compliant_failure",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},pI=.1,px="event-client",pC=86400,pM="https://pulse.walletconnect.org/batch";var pO=function(eu,ed){if(eu.length>=255)throw TypeError("Alphabet too long");for(var eg=new Uint8Array(256),em=0;em<eg.length;em++)eg[em]=255;for(var eb=0;eb<eu.length;eb++){var ew=eu.charAt(eb),e_=ew.charCodeAt(0);if(255!==eg[e_])throw TypeError(ew+" is ambiguous");eg[e_]=eb}var eE=eu.length,eA=eu.charAt(0),eS=Math.log(eE)/Math.log(256),eI=Math.log(256)/Math.log(eE);function eC(eu){if("string"!=typeof eu)throw TypeError("Expected String");if(0===eu.length)return new Uint8Array;var ed=0;if(" "!==eu[0]){for(var em=0,eb=0;eu[ed]===eA;)em++,ed++;for(var ew=(eu.length-ed)*eS+1>>>0,e_=new Uint8Array(ew);eu[ed];){var eI=eg[eu.charCodeAt(ed)];if(255===eI)return;for(var eC=0,eM=ew-1;(0!==eI||eC<eb)&&-1!==eM;eM--,eC++)eI+=eE*e_[eM]>>>0,e_[eM]=eI%256>>>0,eI=eI/256>>>0;if(0!==eI)throw Error("Non-zero carry");eb=eC,ed++}if(" "!==eu[ed]){for(var eO=ew-eb;eO!==ew&&0===e_[eO];)eO++;for(var eT=new Uint8Array(em+(ew-eO)),eP=em;eO!==ew;)eT[eP++]=e_[eO++];return eT}}}function eM(eu){var eg=eC(eu);if(eg)return eg;throw Error(`Non-${ed} character`)}return{encode:function(ed){if(ed instanceof Uint8Array||(ArrayBuffer.isView(ed)?ed=new Uint8Array(ed.buffer,ed.byteOffset,ed.byteLength):Array.isArray(ed)&&(ed=Uint8Array.from(ed))),!(ed instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===ed.length)return"";for(var eg=0,em=0,eb=0,ew=ed.length;eb!==ew&&0===ed[eb];)eb++,eg++;for(var e_=(ew-eb)*eI+1>>>0,eS=new Uint8Array(e_);eb!==ew;){for(var eC=ed[eb],eM=0,eO=e_-1;(0!==eC||eM<em)&&-1!==eO;eO--,eM++)eC+=256*eS[eO]>>>0,eS[eO]=eC%eE>>>0,eC=eC/eE>>>0;if(0!==eC)throw Error("Non-zero carry");em=eM,eb++}for(var eT=e_-em;eT!==e_&&0===eS[eT];)eT++;for(var eP=eA.repeat(eg);eT<e_;++eT)eP+=eu.charAt(eS[eT]);return eP},decodeUnsafe:eC,decode:eM}};let pT=eu=>{if(eu instanceof Uint8Array&&"Uint8Array"===eu.constructor.name)return eu;if(eu instanceof ArrayBuffer)return new Uint8Array(eu);if(ArrayBuffer.isView(eu))return new Uint8Array(eu.buffer,eu.byteOffset,eu.byteLength);throw Error("Unknown type, must be binary type")},pP=eu=>new TextEncoder().encode(eu),pN=eu=>new TextDecoder().decode(eu);class pR{constructor(eu,ed,eg){this.name=eu,this.prefix=ed,this.baseEncode=eg}encode(eu){if(eu instanceof Uint8Array)return`${this.prefix}${this.baseEncode(eu)}`;throw Error("Unknown type, must be binary type")}}class pD{constructor(eu,ed,eg){if(this.name=eu,this.prefix=ed,void 0===ed.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=ed.codePointAt(0),this.baseDecode=eg}decode(eu){if("string"==typeof eu){if(eu.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(eu)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(eu.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(eu){return pU(this,eu)}}class pB{constructor(eu){this.decoders=eu}or(eu){return pU(this,eu)}decode(eu){let ed=eu[0],eg=this.decoders[ed];if(eg)return eg.decode(eu);throw RangeError(`Unable to decode multibase string ${JSON.stringify(eu)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}let pU=(eu,ed)=>new pB({...eu.decoders||{[eu.prefix]:eu},...ed.decoders||{[ed.prefix]:ed}});class pL{constructor(eu,ed,eg,em){this.name=eu,this.prefix=ed,this.baseEncode=eg,this.baseDecode=em,this.encoder=new pR(eu,ed,eg),this.decoder=new pD(eu,ed,em)}encode(eu){return this.encoder.encode(eu)}decode(eu){return this.decoder.decode(eu)}}let pj=({name:eu,prefix:ed,encode:eg,decode:em})=>new pL(eu,ed,eg,em),pF=({prefix:eu,name:ed,alphabet:eg})=>{let{encode:em,decode:eb}=pO(eg,ed);return pj({prefix:eu,name:ed,encode:em,decode:eu=>pT(eb(eu))})},p$=(eu,ed,eg,em)=>{let eb={};for(let eu=0;eu<ed.length;++eu)eb[ed[eu]]=eu;let ew=eu.length;for(;"="===eu[ew-1];)--ew;let e_=new Uint8Array(ew*eg/8|0),eE=0,eA=0,eS=0;for(let ed=0;ed<ew;++ed){let ew=eb[eu[ed]];if(void 0===ew)throw SyntaxError(`Non-${em} character`);eA=eA<<eg|ew,(eE+=eg)>=8&&(eE-=8,e_[eS++]=255&eA>>eE)}if(eE>=eg||255&eA<<8-eE)throw SyntaxError("Unexpected end of data");return e_},pK=(eu,ed,eg)=>{let em="="===ed[ed.length-1],eb=(1<<eg)-1,ew="",e_=0,eE=0;for(let em=0;em<eu.length;++em)for(eE=eE<<8|eu[em],e_+=8;e_>eg;)e_-=eg,ew+=ed[eb&eE>>e_];if(e_&&(ew+=ed[eb&eE<<eg-e_]),em)for(;ew.length*eg&7;)ew+="=";return ew},pq=({name:eu,prefix:ed,bitsPerChar:eg,alphabet:em})=>pj({prefix:ed,name:eu,encode:eu=>pK(eu,em,eg),decode:ed=>p$(ed,em,eg,eu)}),pz=pj({prefix:"\x00",name:"identity",encode:eu=>pN(eu),decode:eu=>pP(eu)});var pH=Object.freeze({__proto__:null,identity:pz});let pV=pq({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var pG=Object.freeze({__proto__:null,base2:pV});let pW=pq({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var pJ=Object.freeze({__proto__:null,base8:pW});let pZ=pF({prefix:"9",name:"base10",alphabet:"0123456789"});var pY=Object.freeze({__proto__:null,base10:pZ});let pX=pq({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),pQ=pq({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var p0=Object.freeze({__proto__:null,base16:pX,base16upper:pQ});let p6=pq({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),p3=pq({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),p8=pq({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),p5=pq({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),p4=pq({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),p9=pq({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),p7=pq({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),gu=pq({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),gd=pq({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var gp=Object.freeze({__proto__:null,base32:p6,base32upper:p3,base32pad:p8,base32padupper:p5,base32hex:p4,base32hexupper:p9,base32hexpad:p7,base32hexpadupper:gu,base32z:gd});let gg=pF({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),gy=pF({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var gm=Object.freeze({__proto__:null,base36:gg,base36upper:gy});let gb=pF({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),gv=pF({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var gw=Object.freeze({__proto__:null,base58btc:gb,base58flickr:gv});let g_=pq({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),gE=pq({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),gA=pq({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),gS=pq({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var gI=Object.freeze({__proto__:null,base64:g_,base64pad:gE,base64url:gA,base64urlpad:gS});let gx=Array.from("\uD83D\uDE80\uD83E\uDE90\uD83D\uDEF0\uD83C\uDF0C\uD83C\uDF11\uD83C\uDF12\uD83C\uDF13\uD83C\uDF14\uD83C\uDF15\uD83C\uDF16\uD83C\uDF17\uD83C\uDF18\uD83C\uDF0D\uD83C\uDF0F\uD83C\uDF0E\uD83D\uDC09\uD83D\uDCBB\uD83D\uDDA5\uD83D\uDCBE\uD83D\uDCBF\uD83D\uDE02\uD83D\uDE0D\uD83E\uDD23\uD83D\uDE0A\uD83D\uDE4F\uD83D\uDC95\uD83D\uDE2D\uD83D\uDE18\uD83D\uDC4D\uD83D\uDE05\uD83D\uDC4F\uD83D\uDE01\uD83D\uDD25\uD83E\uDD70\uD83D\uDC94\uD83D\uDC96\uD83D\uDC99\uD83D\uDE22\uD83E\uDD14\uD83D\uDE06\uD83D\uDE44\uD83D\uDCAA\uD83D\uDE09\uD83D\uDC4C\uD83E\uDD17\uD83D\uDC9C\uD83D\uDE14\uD83D\uDE0E\uD83D\uDE07\uD83C\uDF39\uD83E\uDD26\uD83C\uDF89\uD83D\uDC9E\uD83E\uDD37\uD83D\uDE31\uD83D\uDE0C\uD83C\uDF38\uD83D\uDE4C\uD83D\uDE0B\uD83D\uDC97\uD83D\uDC9A\uD83D\uDE0F\uD83D\uDC9B\uD83D\uDE42\uD83D\uDC93\uD83E\uDD29\uD83D\uDE04\uD83D\uDE00\uD83D\uDDA4\uD83D\uDE03\uD83D\uDCAF\uD83D\uDE48\uD83D\uDC47\uD83C\uDFB6\uD83D\uDE12\uD83E\uDD2D\uD83D\uDE1C\uD83D\uDC8B\uD83D\uDC40\uD83D\uDE2A\uD83D\uDE11\uD83D\uDCA5\uD83D\uDE4B\uD83D\uDE1E\uD83D\uDE29\uD83D\uDE21\uD83E\uDD2A\uD83D\uDC4A\uD83E\uDD73\uD83D\uDE25\uD83E\uDD24\uD83D\uDC49\uD83D\uDC83\uD83D\uDE33\uD83D\uDE1A\uD83D\uDE1D\uD83D\uDE34\uD83C\uDF1F\uD83D\uDE2C\uD83D\uDE43\uD83C\uDF40\uD83C\uDF37\uD83D\uDE3B\uD83D\uDE13\uD83E\uDD7A\uD83C\uDF08\uD83D\uDE08\uD83E\uDD18\uD83D\uDCA6\uD83D\uDE23\uD83C\uDFC3\uD83D\uDC90\uD83C\uDF8A\uD83D\uDC98\uD83D\uDE20\uD83D\uDE15\uD83C\uDF3A\uD83C\uDF82\uD83C\uDF3B\uD83D\uDE10\uD83D\uDD95\uD83D\uDC9D\uD83D\uDE4A\uD83D\uDE39\uD83D\uDDE3\uD83D\uDCAB\uD83D\uDC80\uD83D\uDC51\uD83C\uDFB5\uD83E\uDD1E\uD83D\uDE1B\uD83D\uDD34\uD83D\uDE24\uD83C\uDF3C\uD83D\uDE2B\uD83E\uDD19\uD83C\uDFC6\uD83E\uDD2B\uD83D\uDC48\uD83D\uDE2E\uD83D\uDE46\uD83C\uDF7B\uD83C\uDF43\uD83D\uDC36\uD83D\uDC81\uD83D\uDE32\uD83C\uDF3F\uD83E\uDDE1\uD83C\uDF81\uD83C\uDF1E\uD83C\uDF88\uD83D\uDC4B\uD83D\uDE30\uD83E\uDD28\uD83D\uDE36\uD83E\uDD1D\uD83D\uDEB6\uD83D\uDCB0\uD83C\uDF53\uD83D\uDCA2\uD83E\uDD1F\uD83D\uDE41\uD83D\uDEA8\uD83D\uDCA8\uD83E\uDD2C\uD83C\uDF80\uD83C\uDF7A\uD83E\uDD13\uD83D\uDE19\uD83D\uDC9F\uD83C\uDF31\uD83D\uDE16\uD83D\uDC76\uD83E\uDD74\uD83D\uDC8E\uD83D\uDCB8\uD83D\uDE28\uD83C\uDF1A\uD83E\uDD8B\uD83D\uDE37\uD83D\uDD7A\uD83D\uDE45\uD83D\uDE1F\uD83D\uDE35\uD83D\uDC4E\uD83E\uDD32\uD83E\uDD20\uD83E\uDD27\uD83D\uDCCC\uD83D\uDD35\uD83D\uDC85\uD83E\uDDD0\uD83D\uDC3E\uD83C\uDF52\uD83D\uDE17\uD83E\uDD11\uD83C\uDF0A\uD83E\uDD2F\uD83D\uDC37\uD83D\uDCA7\uD83D\uDE2F\uD83D\uDC86\uD83D\uDC46\uD83C\uDFA4\uD83D\uDE47\uD83C\uDF51\uD83C\uDF34\uD83D\uDCA3\uD83D\uDC38\uD83D\uDC8C\uD83D\uDCCD\uD83E\uDD40\uD83E\uDD22\uD83D\uDC45\uD83D\uDCA1\uD83D\uDCA9\uD83D\uDC50\uD83D\uDCF8\uD83D\uDC7B\uD83E\uDD10\uD83E\uDD2E\uD83C\uDFBC\uD83E\uDD75\uD83D\uDEA9\uD83C\uDF4E\uD83C\uDF4A\uD83D\uDC7C\uD83D\uDC8D\uD83D\uDCE3\uD83E\uDD42"),gC=gx.reduce((eu,ed,eg)=>(eu[eg]=ed,eu),[]),gM=gx.reduce((eu,ed,eg)=>(eu[ed.codePointAt(0)]=eg,eu),[]);function gO(eu){return eu.reduce((eu,ed)=>eu+=gC[ed],"")}function gT(eu){let ed=[];for(let eg of eu){let eu=gM[eg.codePointAt(0)];if(void 0===eu)throw Error(`Non-base256emoji character: ${eg}`);ed.push(eu)}return new Uint8Array(ed)}let gP=pj({prefix:"\uD83D\uDE80",name:"base256emoji",encode:gO,decode:gT});var gN=Object.freeze({__proto__:null,base256emoji:gP}),gk=128,gR=-128,gD=2147483648;function gB(eu,ed,eg){ed=ed||[],eg=eg||0;for(var em=eg;eu>=gD;)ed[eg++]=255&eu|gk,eu/=128;for(;eu&gR;)ed[eg++]=255&eu|gk,eu>>>=7;return ed[eg]=0|eu,gB.bytes=eg-em+1,ed}var gU=128,gL=127;function gj(eu,ed){var eg,em=0,ed=ed||0,eb=0,ew=ed,e_=eu.length;do{if(ew>=e_)throw gj.bytes=0,RangeError("Could not decode varint");eg=eu[ew++],em+=eb<28?(eg&gL)<<eb:(eg&gL)*Math.pow(2,eb),eb+=7}while(eg>=gU);return gj.bytes=ew-ed,em}var gF=128,g$=16384,gK=2097152,gq=268435456,gz=34359738368,gH=4398046511104,gV=562949953421312,gG=72057594037927940,gW=0x7fffffffffffffff,gJ={encode:gB,decode:gj,encodingLength:function(eu){return eu<gF?1:eu<g$?2:eu<gK?3:eu<gq?4:eu<gz?5:eu<gH?6:eu<gV?7:eu<gG?8:eu<gW?9:10}};let gZ=(eu,ed,eg=0)=>(gJ.encode(eu,ed,eg),ed),gY=eu=>gJ.encodingLength(eu),gX=(eu,ed)=>{let eg=ed.byteLength,em=gY(eu),eb=em+gY(eg),ew=new Uint8Array(eb+eg);return gZ(eu,ew,0),gZ(eg,ew,em),ew.set(ed,eb),new gQ(eu,eg,ed,ew)};class gQ{constructor(eu,ed,eg,em){this.code=eu,this.size=ed,this.digest=eg,this.bytes=em}}let g0=({name:eu,code:ed,encode:eg})=>new g1(eu,ed,eg);class g1{constructor(eu,ed,eg){this.name=eu,this.code=ed,this.encode=eg}digest(eu){if(eu instanceof Uint8Array){let ed=this.encode(eu);return ed instanceof Uint8Array?gX(this.code,ed):ed.then(eu=>gX(this.code,eu))}throw Error("Unknown type, must be binary type")}}let g2=eu=>async ed=>new Uint8Array(await crypto.subtle.digest(eu,ed)),g6=g0({name:"sha2-256",code:18,encode:g2("SHA-256")}),g3=g0({name:"sha2-512",code:19,encode:g2("SHA-512")});var g8=Object.freeze({__proto__:null,sha256:g6,sha512:g3});let g5=0,g4="identity",g9=pT,g7=eu=>gX(g5,g9(eu)),yu={code:g5,name:g4,encode:g9,digest:g7};var yg=Object.freeze({__proto__:null,identity:yu});new TextEncoder,new TextDecoder;let ym={...pH,...pG,...pJ,...pY,...p0,...gp,...gm,...gw,...gI,...gN};function yb(eu){return null!=globalThis.Buffer?new Uint8Array(eu.buffer,eu.byteOffset,eu.byteLength):eu}function yv(eu=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?yb(globalThis.Buffer.allocUnsafe(eu)):new Uint8Array(eu)}function yw(eu,ed,eg,em){return{name:eu,prefix:ed,encoder:{name:eu,prefix:ed,encode:eg},decoder:{decode:em}}}({...g8,...yg});let y_=yw("utf8","u",eu=>"u"+new TextDecoder("utf8").decode(eu),eu=>new TextEncoder().encode(eu.substring(1))),yE=yw("ascii","a",eu=>{let ed="a";for(let eg=0;eg<eu.length;eg++)ed+=String.fromCharCode(eu[eg]);return ed},eu=>{eu=eu.substring(1);let ed=yv(eu.length);for(let eg=0;eg<eu.length;eg++)ed[eg]=eu.charCodeAt(eg);return ed}),yA={utf8:y_,"utf-8":y_,hex:ym.base16,latin1:yE,ascii:yE,binary:yE,...ym};function yS(eu,ed="utf8"){let eg=yA[ed];if(!eg)throw Error(`Unsupported encoding "${ed}"`);return("utf8"===ed||"utf-8"===ed)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?yb(globalThis.Buffer.from(eu,"utf-8")):eg.decoder.decode(`${eg.prefix}${eu}`)}var yI=Object.defineProperty,yx=(eu,ed,eg)=>ed in eu?yI(eu,ed,{enumerable:!0,configurable:!0,writable:!0,value:eg}):eu[ed]=eg,yC=(eu,ed,eg)=>yx(eu,"symbol"!=typeof ed?ed+"":ed,eg);class yM{constructor(eu,ed){this.core=eu,this.logger=ed,yC(this,"keychain",new Map),yC(this,"name",fT),yC(this,"version",fP),yC(this,"initialized",!1),yC(this,"storagePrefix",fA),yC(this,"init",async()=>{if(!this.initialized){let eu=await this.getKeyChain();"u">typeof eu&&(this.keychain=eu),this.initialized=!0}}),yC(this,"has",eu=>(this.isInitialized(),this.keychain.has(eu))),yC(this,"set",async(eu,ed)=>{this.isInitialized(),this.keychain.set(eu,ed),await this.persist()}),yC(this,"get",eu=>{this.isInitialized();let ed=this.keychain.get(eu);if(typeof ed>"u"){let{message:ed}=hH("NO_MATCHING_KEY",`${this.name}: ${eu}`);throw Error(ed)}return ed}),yC(this,"del",async eu=>{this.isInitialized(),this.keychain.delete(eu),await this.persist()}),this.core=eu,this.logger=(0,eE.Ep)(ed,this.name)}get context(){return(0,eE.Fd)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(eu){await this.core.storage.setItem(this.storageKey,nM(eu))}async getKeyChain(){let eu=await this.core.storage.getItem(this.storageKey);return"u">typeof eu?nO(eu):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){let{message:eu}=hH("NOT_INITIALIZED",this.name);throw Error(eu)}}}var yO=Object.defineProperty,yT=(eu,ed,eg)=>ed in eu?yO(eu,ed,{enumerable:!0,configurable:!0,writable:!0,value:eg}):eu[ed]=eg,yP=(eu,ed,eg)=>yT(eu,"symbol"!=typeof ed?ed+"":ed,eg);class yN{constructor(eu,ed,eg){this.core=eu,this.logger=ed,yP(this,"name",fx),yP(this,"keychain"),yP(this,"randomSessionIdentifier",lW()),yP(this,"initialized",!1),yP(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),yP(this,"hasKeys",eu=>(this.isInitialized(),this.keychain.has(eu))),yP(this,"getClientId",async()=>{this.isInitialized();let eu=await this.getClientSeed(),ed=eY.Au(eu);return eY.bG(ed.publicKey)}),yP(this,"generateKeyPair",()=>{this.isInitialized();let eu=lG();return this.setPrivateKey(eu.publicKey,eu.privateKey)}),yP(this,"signJWT",async eu=>{this.isInitialized();let ed=await this.getClientSeed(),eg=eY.Au(ed),em=this.randomSessionIdentifier,eb=fO;return await eY.vf(em,eu,eb,eg)}),yP(this,"generateSharedKey",(eu,ed,eg)=>{this.isInitialized();let em=this.getPrivateKey(eu),eb=lJ(em,ed);return this.setSymKey(eb,eg)}),yP(this,"setSymKey",async(eu,ed)=>{this.isInitialized();let eg=ed||lZ(eu);return await this.keychain.set(eg,eu),eg}),yP(this,"deleteKeyPair",async eu=>{this.isInitialized(),await this.keychain.del(eu)}),yP(this,"deleteSymKey",async eu=>{this.isInitialized(),await this.keychain.del(eu)}),yP(this,"encode",async(eu,ed,eg)=>{this.isInitialized();let em=l7(eg),eb=(0,eZ.u)(ed);if(hu(em))return l3(eb,eg?.encoding);if(ha(em)){let ed=em.senderPublicKey,eg=em.receiverPublicKey;eu=await this.generateSharedKey(ed,eg)}let ew=this.getSymKey(eu),{type:e_,senderPublicKey:eE}=em;return l2({type:e_,symKey:ew,message:eb,senderPublicKey:eE,encoding:eg?.encoding})}),yP(this,"decode",async(eu,ed,eg)=>{this.isInitialized();let em=l9(ed,eg);if(hu(em)){let eu=l8(ed,eg?.encoding);return(0,eZ.D)(eu)}if(ha(em)){let ed=em.receiverPublicKey,eg=em.senderPublicKey;eu=await this.generateSharedKey(ed,eg)}try{let em=this.getSymKey(eu),eb=l6({symKey:em,encoded:ed,encoding:eg?.encoding});return(0,eZ.D)(eb)}catch(ed){this.logger.error(`Failed to decode message from topic: '${eu}', clientId: '${await this.getClientId()}'`),this.logger.error(ed)}}),yP(this,"getPayloadType",(eu,ed=lU)=>{let eg=l4({encoded:eu,encoding:ed});return lQ(eg.type)}),yP(this,"getPayloadSenderPublicKey",(eu,ed=lU)=>{let eg=l4({encoded:eu,encoding:ed});return eg.senderPublicKey?(0,rL.BB)(eg.senderPublicKey,lB):void 0}),this.core=eu,this.logger=(0,eE.Ep)(ed,this.name),this.keychain=eg||new yM(this.core,this.logger)}get context(){return(0,eE.Fd)(this.logger)}async setPrivateKey(eu,ed){return await this.keychain.set(eu,ed),eu}getPrivateKey(eu){return this.keychain.get(eu)}async getClientSeed(){let eu="";try{eu=this.keychain.get(fC)}catch{eu=lW(),await this.keychain.set(fC,eu)}return yS(eu,"base16")}getSymKey(eu){return this.keychain.get(eu)}isInitialized(){if(!this.initialized){let{message:eu}=hH("NOT_INITIALIZED",this.name);throw Error(eu)}}}var yk=Object.defineProperty,yR=Object.defineProperties,yD=Object.getOwnPropertyDescriptors,yB=Object.getOwnPropertySymbols,yU=Object.prototype.hasOwnProperty,yL=Object.prototype.propertyIsEnumerable,yj=(eu,ed,eg)=>ed in eu?yk(eu,ed,{enumerable:!0,configurable:!0,writable:!0,value:eg}):eu[ed]=eg,yF=(eu,ed)=>{for(var eg in ed||(ed={}))yU.call(ed,eg)&&yj(eu,eg,ed[eg]);if(yB)for(var eg of yB(ed))yL.call(ed,eg)&&yj(eu,eg,ed[eg]);return eu},y$=(eu,ed)=>yR(eu,yD(ed)),yK=(eu,ed,eg)=>yj(eu,"symbol"!=typeof ed?ed+"":ed,eg);class yq extends ek{constructor(eu,ed){super(eu,ed),this.logger=eu,this.core=ed,yK(this,"messages",new Map),yK(this,"messagesWithoutClientAck",new Map),yK(this,"name",fN),yK(this,"version",fk),yK(this,"initialized",!1),yK(this,"storagePrefix",fA),yK(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{let eu=await this.getRelayerMessages();"u">typeof eu&&(this.messages=eu);let ed=await this.getRelayerMessagesWithoutClientAck();"u">typeof ed&&(this.messagesWithoutClientAck=ed),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(eu){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(eu)}finally{this.initialized=!0}}}),yK(this,"set",async(eu,ed,eg)=>{this.isInitialized();let em=lY(ed),eb=this.messages.get(eu);if(typeof eb>"u"&&(eb={}),"u">typeof eb[em])return em;if(eb[em]=ed,this.messages.set(eu,eb),eg===fV.inbound){let eg=this.messagesWithoutClientAck.get(eu)||{};this.messagesWithoutClientAck.set(eu,y$(yF({},eg),{[em]:ed}))}return await this.persist(),em}),yK(this,"get",eu=>{this.isInitialized();let ed=this.messages.get(eu);return typeof ed>"u"&&(ed={}),ed}),yK(this,"getWithoutAck",eu=>{this.isInitialized();let ed={};for(let eg of eu){let eu=this.messagesWithoutClientAck.get(eg)||{};ed[eg]=Object.values(eu)}return ed}),yK(this,"has",(eu,ed)=>{this.isInitialized();let eg=this.get(eu),em=lY(ed);return"u">typeof eg[em]}),yK(this,"ack",async(eu,ed)=>{this.isInitialized();let eg=this.messagesWithoutClientAck.get(eu);if(typeof eg>"u")return;let em=lY(ed);delete eg[em],0===Object.keys(eg).length?this.messagesWithoutClientAck.delete(eu):this.messagesWithoutClientAck.set(eu,eg),await this.persist()}),yK(this,"del",async eu=>{this.isInitialized(),this.messages.delete(eu),this.messagesWithoutClientAck.delete(eu),await this.persist()}),this.logger=(0,eE.Ep)(eu,this.name),this.core=ed}get context(){return(0,eE.Fd)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(eu){await this.core.storage.setItem(this.storageKey,nM(eu))}async setRelayerMessagesWithoutClientAck(eu){await this.core.storage.setItem(this.storageKeyWithoutClientAck,nM(eu))}async getRelayerMessages(){let eu=await this.core.storage.getItem(this.storageKey);return"u">typeof eu?nO(eu):void 0}async getRelayerMessagesWithoutClientAck(){let eu=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return"u">typeof eu?nO(eu):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){let{message:eu}=hH("NOT_INITIALIZED",this.name);throw Error(eu)}}}var yz=Object.defineProperty,yH=Object.defineProperties,yV=Object.getOwnPropertyDescriptors,yG=Object.getOwnPropertySymbols,yW=Object.prototype.hasOwnProperty,yJ=Object.prototype.propertyIsEnumerable,yZ=(eu,ed,eg)=>ed in eu?yz(eu,ed,{enumerable:!0,configurable:!0,writable:!0,value:eg}):eu[ed]=eg,yY=(eu,ed)=>{for(var eg in ed||(ed={}))yW.call(ed,eg)&&yZ(eu,eg,ed[eg]);if(yG)for(var eg of yG(ed))yJ.call(ed,eg)&&yZ(eu,eg,ed[eg]);return eu},yX=(eu,ed)=>yH(eu,yV(ed)),yQ=(eu,ed,eg)=>yZ(eu,"symbol"!=typeof ed?ed+"":ed,eg);class y6 extends eR{constructor(eu,ed){super(eu,ed),this.relayer=eu,this.logger=ed,yQ(this,"events",new em.EventEmitter),yQ(this,"name",fD),yQ(this,"queue",new Map),yQ(this,"publishTimeout",(0,eJ.toMiliseconds)(eJ.ONE_MINUTE)),yQ(this,"initialPublishTimeout",(0,eJ.toMiliseconds)(15*eJ.ONE_SECOND)),yQ(this,"needsTransportRestart",!1),yQ(this,"publish",async(eu,ed,eg)=>{var em;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:eu,message:ed,opts:eg}});let eb=eg?.ttl||fR,ew=hy(eg),e_=eg?.prompt||!1,eE=eg?.tag||0,eA=eg?.id||(0,fd.getBigIntRpcId)().toString(),eS={topic:eu,message:ed,opts:{ttl:eb,relay:ew,prompt:e_,tag:eE,id:eA,attestation:eg?.attestation,tvf:eg?.tvf}},eI=`Failed to publish payload, please try again. id:${eA} tag:${eE}`;try{let em=new Promise(async em=>{let ew=({id:eu})=>{eS.opts.id===eu&&(this.removeRequestFromQueue(eu),this.relayer.events.removeListener(fF.publish,ew),em(eS))};this.relayer.events.on(fF.publish,ew);let eI=nP(new Promise((em,ew)=>{this.rpcPublish({topic:eu,message:ed,ttl:eb,prompt:e_,tag:eE,id:eA,attestation:eg?.attestation,tvf:eg?.tvf}).then(em).catch(eu=>{this.logger.warn(eu,eu?.message),ew(eu)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${eA} tag:${eE}`);try{await eI,this.events.removeListener(fF.publish,ew)}catch(eu){this.queue.set(eA,yX(yY({},eS),{attempt:1})),this.logger.warn(eu,eu?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:eA,topic:eu,message:ed,opts:eg}}),await nP(em,this.publishTimeout,eI)}catch(eu){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(eu),null!=(em=eg?.internal)&&em.throwOnFailedPublish)throw eu}finally{this.queue.delete(eA)}}),yQ(this,"on",(eu,ed)=>{this.events.on(eu,ed)}),yQ(this,"once",(eu,ed)=>{this.events.once(eu,ed)}),yQ(this,"off",(eu,ed)=>{this.events.off(eu,ed)}),yQ(this,"removeListener",(eu,ed)=>{this.events.removeListener(eu,ed)}),this.relayer=eu,this.logger=(0,eE.Ep)(ed,this.name),this.registerEventListeners()}get context(){return(0,eE.Fd)(this.logger)}async rpcPublish(eu){var ed,eg,em,eb;let{topic:ew,message:e_,ttl:eE=fR,prompt:eA,tag:eS,id:eI,attestation:eC,tvf:eM}=eu,eO={method:hm(hy().protocol).publish,params:yY({topic:ew,message:e_,ttl:eE,prompt:eA,tag:eS,attestation:eC},eM),id:eI};hJ(null==(ed=eO.params)?void 0:ed.prompt)&&(null==(eg=eO.params)||delete eg.prompt),hJ(null==(em=eO.params)?void 0:em.tag)&&(null==(eb=eO.params)||delete eb.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:eO});let eT=await this.relayer.request(eO);return this.relayer.events.emit(fF.publish,eu),this.logger.debug("Successfully Published Payload"),eT}removeRequestFromQueue(eu){this.queue.delete(eu)}checkQueue(){this.queue.forEach(async(eu,ed)=>{let eg=eu.attempt+1;this.queue.set(ed,yX(yY({},eu),{attempt:eg}));let{topic:em,message:eb,opts:ew,attestation:e_}=eu;this.logger.warn({},`Publisher: queue->publishing: ${eu.opts.id}, tag: ${eu.opts.tag}, attempt: ${eg}`),await this.rpcPublish(yX(yY({},eu),{topic:em,message:eb,ttl:ew.ttl,prompt:ew.prompt,tag:ew.tag,id:ew.id,attestation:e_,tvf:ew.tvf})),this.logger.warn({},`Publisher: queue->published: ${eu.opts.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(ew.Lx.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(fF.connection_stalled);return}this.checkQueue()}),this.relayer.on(fF.message_ack,eu=>{this.removeRequestFromQueue(eu.id.toString())})}}var y3=Object.defineProperty,y8=(eu,ed,eg)=>ed in eu?y3(eu,ed,{enumerable:!0,configurable:!0,writable:!0,value:eg}):eu[ed]=eg,y5=(eu,ed,eg)=>y8(eu,"symbol"!=typeof ed?ed+"":ed,eg);class y4{constructor(){y5(this,"map",new Map),y5(this,"set",(eu,ed)=>{let eg=this.get(eu);this.exists(eu,ed)||this.map.set(eu,[...eg,ed])}),y5(this,"get",eu=>this.map.get(eu)||[]),y5(this,"exists",(eu,ed)=>this.get(eu).includes(ed)),y5(this,"delete",(eu,ed)=>{if(typeof ed>"u"){this.map.delete(eu);return}if(!this.map.has(eu))return;let eg=this.get(eu);if(!this.exists(eu,ed))return;let em=eg.filter(eu=>eu!==ed);if(!em.length){this.map.delete(eu);return}this.map.set(eu,em)}),y5(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var y9=Object.defineProperty,y7=Object.defineProperties,mu=Object.getOwnPropertyDescriptors,ml=Object.getOwnPropertySymbols,mh=Object.prototype.hasOwnProperty,md=Object.prototype.propertyIsEnumerable,mf=(eu,ed,eg)=>ed in eu?y9(eu,ed,{enumerable:!0,configurable:!0,writable:!0,value:eg}):eu[ed]=eg,mp=(eu,ed)=>{for(var eg in ed||(ed={}))mh.call(ed,eg)&&mf(eu,eg,ed[eg]);if(ml)for(var eg of ml(ed))md.call(ed,eg)&&mf(eu,eg,ed[eg]);return eu},mg=(eu,ed)=>y7(eu,mu(ed)),my=(eu,ed,eg)=>mf(eu,"symbol"!=typeof ed?ed+"":ed,eg);class mb extends eU{constructor(eu,ed){super(eu,ed),this.relayer=eu,this.logger=ed,my(this,"subscriptions",new Map),my(this,"topicMap",new y4),my(this,"events",new em.EventEmitter),my(this,"name",fY),my(this,"version",fX),my(this,"pending",new Map),my(this,"cached",[]),my(this,"initialized",!1),my(this,"storagePrefix",fA),my(this,"subscribeTimeout",(0,eJ.toMiliseconds)(eJ.ONE_MINUTE)),my(this,"initialSubscribeTimeout",(0,eJ.toMiliseconds)(15*eJ.ONE_SECOND)),my(this,"clientId"),my(this,"batchSubscribeTopicsLimit",500),my(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),my(this,"subscribe",async(eu,ed)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:eu,opts:ed}});try{let eg=hy(ed),em={topic:eu,relay:eg,transportType:ed?.transportType};this.pending.set(eu,em);let eb=await this.rpcSubscribe(eu,eg,ed);return"string"==typeof eb&&(this.onSubscribe(eb,em),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:eu,opts:ed}})),eb}catch(eu){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(eu),eu}}),my(this,"unsubscribe",async(eu,ed)=>{this.isInitialized(),"u">typeof ed?.id?await this.unsubscribeById(eu,ed.id,ed):await this.unsubscribeByTopic(eu,ed)}),my(this,"isSubscribed",eu=>new Promise(ed=>{ed(this.topicMap.topics.includes(eu))})),my(this,"isKnownTopic",eu=>new Promise(ed=>{ed(this.topicMap.topics.includes(eu)||this.pending.has(eu)||this.cached.some(ed=>ed.topic===eu))})),my(this,"on",(eu,ed)=>{this.events.on(eu,ed)}),my(this,"once",(eu,ed)=>{this.events.once(eu,ed)}),my(this,"off",(eu,ed)=>{this.events.off(eu,ed)}),my(this,"removeListener",(eu,ed)=>{this.events.removeListener(eu,ed)}),my(this,"start",async()=>{await this.onConnect()}),my(this,"stop",async()=>{await this.onDisconnect()}),my(this,"restart",async()=>{await this.restore(),await this.onRestart()}),my(this,"checkPending",async()=>{if(0===this.pending.size&&(!this.initialized||!this.relayer.connected))return;let eu=[];this.pending.forEach(ed=>{eu.push(ed)}),await this.batchSubscribe(eu)}),my(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(ew.Lx.pulse,async()=>{await this.checkPending()}),this.events.on(fZ.created,async eu=>{let ed=fZ.created;this.logger.info(`Emitting ${ed}`),this.logger.debug({type:"event",event:ed,data:eu}),await this.persist()}),this.events.on(fZ.deleted,async eu=>{let ed=fZ.deleted;this.logger.info(`Emitting ${ed}`),this.logger.debug({type:"event",event:ed,data:eu}),await this.persist()})}),this.relayer=eu,this.logger=(0,eE.Ep)(ed,this.name),this.clientId=""}get context(){return(0,eE.Fd)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(eu,ed){let eg=!1;try{eg=this.getSubscription(eu).topic===ed}catch{}return eg}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(eu,ed){let eg=this.topicMap.get(eu);await Promise.all(eg.map(async eg=>await this.unsubscribeById(eu,eg,ed)))}async unsubscribeById(eu,ed,eg){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:eu,id:ed,opts:eg}});try{let em=hy(eg);await this.restartToComplete({topic:eu,id:ed,relay:em}),await this.rpcUnsubscribe(eu,ed,em);let eb=hV("USER_DISCONNECTED",`${this.name}, ${eu}`);await this.onUnsubscribe(eu,ed,eb),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:eu,id:ed,opts:eg}})}catch(eu){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(eu),eu}}async rpcSubscribe(eu,ed,eg){var em;eg&&eg?.transportType!==fH.relay||await this.restartToComplete({topic:eu,id:eu,relay:ed});let eb={method:hm(ed.protocol).subscribe,params:{topic:eu}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:eb});let ew=null==(em=eg?.internal)?void 0:em.throwOnFailedPublish;try{let ed=await this.getSubscriptionId(eu);if(eg?.transportType===fH.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(eb).catch(eu=>this.logger.warn(eu))},(0,eJ.toMiliseconds)(eJ.ONE_SECOND)),ed;let em=new Promise(async ed=>{let eg=em=>{em.topic===eu&&(this.events.removeListener(fZ.created,eg),ed(em.id))};this.events.on(fZ.created,eg);try{let em=await nP(new Promise((eu,ed)=>{this.relayer.request(eb).catch(eu=>{this.logger.warn(eu,eu?.message),ed(eu)}).then(eu)}),this.initialSubscribeTimeout,`Subscribing to ${eu} failed, please try again`);this.events.removeListener(fZ.created,eg),ed(em)}catch{}}),e_=await nP(em,this.subscribeTimeout,`Subscribing to ${eu} failed, please try again`);if(!e_&&ew)throw Error(`Subscribing to ${eu} failed, please try again`);return e_?ed:null}catch(eu){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(fF.connection_stalled),ew)throw eu}return null}async rpcBatchSubscribe(eu){if(!eu.length)return;let ed=eu[0].relay,eg={method:hm(ed.protocol).batchSubscribe,params:{topics:eu.map(eu=>eu.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:eg});try{await await nP(new Promise(eu=>{this.relayer.request(eg).catch(eu=>this.logger.warn(eu)).then(eu)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(fF.connection_stalled)}}async rpcBatchFetchMessages(eu){let ed;if(!eu.length)return;let eg=eu[0].relay,em={method:hm(eg.protocol).batchFetchMessages,params:{topics:eu.map(eu=>eu.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:em});try{ed=await await nP(new Promise((eu,ed)=>{this.relayer.request(em).catch(eu=>{this.logger.warn(eu),ed(eu)}).then(eu)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(fF.connection_stalled)}return ed}rpcUnsubscribe(eu,ed,eg){let em={method:hm(eg.protocol).unsubscribe,params:{topic:eu,id:ed}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:em}),this.relayer.request(em)}onSubscribe(eu,ed){this.setSubscription(eu,mg(mp({},ed),{id:eu})),this.pending.delete(ed.topic)}onBatchSubscribe(eu){eu.length&&eu.forEach(eu=>{this.setSubscription(eu.id,mp({},eu)),this.pending.delete(eu.topic)})}async onUnsubscribe(eu,ed,eg){this.events.removeAllListeners(ed),this.hasSubscription(ed,eu)&&this.deleteSubscription(ed,eg),await this.relayer.messages.del(eu)}async setRelayerSubscriptions(eu){await this.relayer.core.storage.setItem(this.storageKey,eu)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(eu,ed){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:eu,subscription:ed}),this.addSubscription(eu,ed)}addSubscription(eu,ed){this.subscriptions.set(eu,mp({},ed)),this.topicMap.set(ed.topic,eu),this.events.emit(fZ.created,ed)}getSubscription(eu){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:eu});let ed=this.subscriptions.get(eu);if(!ed){let{message:ed}=hH("NO_MATCHING_KEY",`${this.name}: ${eu}`);throw Error(ed)}return ed}deleteSubscription(eu,ed){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:eu,reason:ed});let eg=this.getSubscription(eu);this.subscriptions.delete(eu),this.topicMap.delete(eg.topic,eu),this.events.emit(fZ.deleted,mg(mp({},eg),{reason:ed}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(fZ.sync)}async onRestart(){if(this.cached.length){let eu=[...this.cached],ed=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let eg=0;eg<ed;eg++){let ed=eu.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(ed)}}this.events.emit(fZ.resubscribed)}async restore(){try{let eu=await this.getRelayerSubscriptions();if(typeof eu>"u"||!eu.length)return;if(this.subscriptions.size){let{message:eu}=hH("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(eu),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),Error(eu)}this.cached=eu,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(eu){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(eu)}}async batchSubscribe(eu){eu.length&&(await this.rpcBatchSubscribe(eu),this.onBatchSubscribe(await Promise.all(eu.map(async eu=>mg(mp({},eu),{id:await this.getSubscriptionId(eu.topic)})))))}async batchFetchMessages(eu){if(!eu.length)return;this.logger.trace(`Fetching batch messages for ${eu.length} subscriptions`);let ed=await this.rpcBatchFetchMessages(eu);ed&&ed.messages&&(await nX((0,eJ.toMiliseconds)(eJ.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(ed.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){let{message:eu}=hH("NOT_INITIALIZED",this.name);throw Error(eu)}}async restartToComplete(eu){this.relayer.connected||this.relayer.connecting||(this.cached.push(eu),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(eu){return lY(eu+await this.getClientId())}}var mv=Object.defineProperty,mw=Object.getOwnPropertySymbols,m_=Object.prototype.hasOwnProperty,mE=Object.prototype.propertyIsEnumerable,mA=(eu,ed,eg)=>ed in eu?mv(eu,ed,{enumerable:!0,configurable:!0,writable:!0,value:eg}):eu[ed]=eg,mS=(eu,ed)=>{for(var eg in ed||(ed={}))m_.call(ed,eg)&&mA(eu,eg,ed[eg]);if(mw)for(var eg of mw(ed))mE.call(ed,eg)&&mA(eu,eg,ed[eg]);return eu},mI=(eu,ed,eg)=>mA(eu,"symbol"!=typeof ed?ed+"":ed,eg);class mx extends eD{constructor(eu){super(eu),mI(this,"protocol","wc"),mI(this,"version",2),mI(this,"core"),mI(this,"logger"),mI(this,"events",new em.EventEmitter),mI(this,"provider"),mI(this,"messages"),mI(this,"subscriber"),mI(this,"publisher"),mI(this,"name",fj),mI(this,"transportExplicitlyClosed",!1),mI(this,"initialized",!1),mI(this,"connectionAttemptInProgress",!1),mI(this,"relayUrl"),mI(this,"projectId"),mI(this,"packageName"),mI(this,"bundleId"),mI(this,"hasExperiencedNetworkDisruption",!1),mI(this,"pingTimeout"),mI(this,"heartBeatTimeout",(0,eJ.toMiliseconds)(eJ.THIRTY_SECONDS+eJ.FIVE_SECONDS)),mI(this,"reconnectTimeout"),mI(this,"connectPromise"),mI(this,"reconnectInProgress",!1),mI(this,"requestsInFlight",[]),mI(this,"connectTimeout",(0,eJ.toMiliseconds)(15*eJ.ONE_SECOND)),mI(this,"request",async eu=>{var ed,eg;this.logger.debug("Publishing Request Payload");let em=eu.id||(0,fd.getBigIntRpcId)().toString();await this.toEstablishConnection();try{this.logger.trace({id:em,method:eu.method,topic:null==(ed=eu.params)?void 0:ed.topic},"relayer.request - publishing...");let eb=`${em}:${(null==(eg=eu.params)?void 0:eg.tag)||""}`;this.requestsInFlight.push(eb);let ew=await this.provider.request(eu);return this.requestsInFlight=this.requestsInFlight.filter(eu=>eu!==eb),ew}catch(eu){throw this.logger.debug(`Failed to Publish Request: ${em}`),eu}}),mI(this,"resetPingTimeout",()=>{r9()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var eu,ed,eg,em;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),null==(em=null==(eg=null==(ed=null==(eu=this.provider)?void 0:eu.connection)?void 0:ed.socket)?void 0:eg.terminate)||em.call(eg)}catch(eu){this.logger.warn(eu,eu?.message)}},this.heartBeatTimeout))}),mI(this,"onPayloadHandler",eu=>{this.onProviderPayload(eu),this.resetPingTimeout()}),mI(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected \uD83D\uDEDC"),this.startPingTimeout(),this.events.emit(fF.connect)}),mI(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected \uD83D\uDED1"),this.requestsInFlight=[],this.onProviderDisconnect()}),mI(this,"onProviderErrorHandler",eu=>{this.logger.fatal(`Fatal socket error: ${eu.message}`),this.events.emit(fF.error,eu),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),mI(this,"registerProviderListeners",()=>{this.provider.on(fK.payload,this.onPayloadHandler),this.provider.on(fK.connect,this.onConnectHandler),this.provider.on(fK.disconnect,this.onDisconnectHandler),this.provider.on(fK.error,this.onProviderErrorHandler)}),this.core=eu.core,this.logger="u">typeof eu.logger&&"string"!=typeof eu.logger?(0,eE.Ep)(eu.logger,this.name):(0,eE.gw)((0,eE.jI)({level:eu.logger||fU})),this.messages=new yq(this.logger,eu.core),this.subscriber=new mb(this,this.logger),this.publisher=new y6(this,this.logger),this.relayUrl=eu?.relayUrl||fL,this.projectId=eu.projectId,nu()?this.packageName=ng():nh()&&(this.bundleId=ng()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(eu=>this.logger.warn(eu,eu?.message))}get context(){return(0,eE.Fd)(this.logger)}get connected(){var eu,ed,eg;return(null==(eg=null==(ed=null==(eu=this.provider)?void 0:eu.connection)?void 0:ed.socket)?void 0:eg.readyState)===1}get connecting(){var eu,ed,eg;return(null==(eg=null==(ed=null==(eu=this.provider)?void 0:eu.connection)?void 0:ed.socket)?void 0:eg.readyState)===0||void 0!==this.connectPromise}async publish(eu,ed,eg){this.isInitialized(),await this.publisher.publish(eu,ed,eg),await this.recordMessageEvent({topic:eu,message:ed,publishedAt:Date.now(),transportType:fH.relay},fV.outbound)}async subscribe(eu,ed){var eg,em,eb;this.isInitialized(),null!=ed&&ed.transportType&&ed?.transportType!=="relay"||await this.toEstablishConnection();let ew=typeof(null==(eg=ed?.internal)?void 0:eg.throwOnFailedPublish)>"u"||(null==(em=ed?.internal)?void 0:em.throwOnFailedPublish),e_=(null==(eb=this.subscriber.topicMap.get(eu))?void 0:eb[0])||"",eE,eA=ed=>{ed.topic===eu&&(this.subscriber.off(fZ.created,eA),eE())};return await Promise.all([new Promise(eu=>{eE=eu,this.subscriber.on(fZ.created,eA)}),new Promise(async(eg,em)=>{e_=await this.subscriber.subscribe(eu,mS({internal:{throwOnFailedPublish:ew}},ed)).catch(eu=>{ew&&em(eu)})||e_,eg()})]),e_}async unsubscribe(eu,ed){this.isInitialized(),await this.subscriber.unsubscribe(eu,ed)}on(eu,ed){this.events.on(eu,ed)}once(eu,ed){this.events.once(eu,ed)}off(eu,ed){this.events.off(eu,ed)}removeListener(eu,ed){this.events.removeListener(eu,ed)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await nP(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(eu){if(!this.subscriber.hasAnyTopics){this.logger.info("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(ed,eg)=>{await this.connect(eu).then(ed).catch(eg).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(eu){this.logger.debug({},"Restarting transport..."),this.connectionAttemptInProgress||(this.relayUrl=eu||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await dq())throw Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(eu){if(eu?.length===0){this.logger.trace("Batch message events is empty. Ignoring...");return}let ed=eu.sort((eu,ed)=>eu.publishedAt-ed.publishedAt);for(let eu of(this.logger.debug(`Batch of ${ed.length} message events sorted`),ed))try{await this.onMessageEvent(eu)}catch(eu){this.logger.warn(eu,"Error while processing batch message event: "+eu?.message)}this.logger.trace(`Batch of ${ed.length} message events processed`)}async onLinkMessageEvent(eu,ed){let{topic:eg}=eu;if(!ed.sessionExists){let eu=nB(eJ.FIVE_MINUTES),ed={topic:eg,expiry:eu,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(eg,ed)}this.events.emit(fF.message,eu),await this.recordMessageEvent(eu,fV.inbound)}async connect(eu){await this.confirmOnlineStateOrThrow(),eu&&eu!==this.relayUrl&&(this.relayUrl=eu,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let ed=1;for(;ed<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${ed}...`),await this.createProvider(),await new Promise(async(eu,ed)=>{let eg=()=>{ed(Error("Connection interrupted while trying to connect"))};this.provider.once(fK.disconnect,eg),await nP(new Promise((eu,ed)=>{this.provider.connect().then(eu).catch(ed)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(eu=>{ed(eu)}).finally(()=>{this.provider.off(fK.disconnect,eg),clearTimeout(this.reconnectTimeout)}),await new Promise(async(eu,eg)=>{let em=()=>{ed(Error("Connection interrupted while trying to subscribe"))};this.provider.once(fK.disconnect,em),await this.subscriber.start().then(eu).catch(eg).finally(()=>{this.provider.off(fK.disconnect,em)})}),this.hasExperiencedNetworkDisruption=!1,eu()})}catch(ed){await this.subscriber.stop();let eu=ed;this.logger.warn({},eu.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${ed}`);break}await new Promise(eu=>setTimeout(eu,(0,eJ.toMiliseconds)(1*ed))),ed++}}startPingTimeout(){var eu,ed,eg,em,eb;if(r9())try{null!=(ed=null==(eu=this.provider)?void 0:eu.connection)&&ed.socket&&(null==(eb=null==(em=null==(eg=this.provider)?void 0:eg.connection)?void 0:em.socket)||eb.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(eu){this.logger.warn(eu,eu?.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();let eu=await this.core.crypto.signJWT(this.relayUrl);this.provider=new fu.r(new fg.Z(nI({sdkVersion:fz,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:eu,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(eu,ed){let{topic:eg,message:em}=eu;await this.messages.set(eg,em,ed)}async shouldIgnoreMessageEvent(eu){let{topic:ed,message:eg}=eu;if(!eg||0===eg.length)return this.logger.warn(`Ignoring invalid/empty message: ${eg}`),!0;if(!await this.subscriber.isKnownTopic(ed))return this.logger.warn(`Ignoring message for unknown topic ${ed}`),!0;let em=this.messages.has(ed,eg);return em&&this.logger.warn(`Ignoring duplicate message: ${eg}`),em}async onProviderPayload(eu){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:eu}),(0,fd.isJsonRpcRequest)(eu)){if(!eu.method.endsWith(f$))return;let ed=eu.params,{topic:eg,message:em,publishedAt:eb,attestation:ew}=ed.data,e_={topic:eg,message:em,publishedAt:eb,transportType:fH.relay,attestation:ew};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(mS({type:"event",event:ed.id},e_)),this.events.emit(ed.id,e_),await this.acknowledgePayload(eu),await this.onMessageEvent(e_)}else(0,fd.isJsonRpcResponse)(eu)&&this.events.emit(fF.message_ack,eu)}async onMessageEvent(eu){await this.shouldIgnoreMessageEvent(eu)||(await this.recordMessageEvent(eu,fV.inbound),this.events.emit(fF.message,eu))}async acknowledgePayload(eu){let ed=(0,fd.formatJsonRpcResult)(eu.id,!0);await this.provider.connection.send(ed)}unregisterProviderListeners(){this.provider.off(fK.payload,this.onPayloadHandler),this.provider.off(fK.connect,this.onConnectHandler),this.provider.off(fK.disconnect,this.onDisconnectHandler),this.provider.off(fK.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let eu=await dq();dG(async ed=>{eu!==ed&&(eu=ed,ed?await this.transportOpen().catch(eu=>this.logger.error(eu,eu?.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(ew.Lx.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&dZ())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(eu){this.logger.warn(eu,eu?.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(fF.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(eu=>this.logger.error(eu,eu?.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},(0,eJ.toMiliseconds)(fq)))))}isInitialized(){if(!this.initialized){let{message:eu}=hH("NOT_INITIALIZED",this.name);throw Error(eu)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}}function mC(eu,ed){return eu===ed||Number.isNaN(eu)&&Number.isNaN(ed)}function mM(eu){return Object.getOwnPropertySymbols(eu).filter(ed=>Object.prototype.propertyIsEnumerable.call(eu,ed))}function mO(eu){return null==eu?void 0===eu?"[object Undefined]":"[object Null]":Object.prototype.toString.call(eu)}let mT="[object RegExp]",mP="[object String]",mN="[object Number]",mk="[object Boolean]",mR="[object Arguments]",mD="[object Symbol]",mB="[object Date]",mU="[object Map]",mL="[object Set]",mj="[object Array]",mF="[object Function]",m$="[object ArrayBuffer]",mK="[object Object]",mq="[object Error]",mz="[object DataView]",mH="[object Uint8Array]",mV="[object Uint8ClampedArray]",mG="[object Uint16Array]",mW="[object Uint32Array]",mJ="[object BigUint64Array]",mZ="[object Int8Array]",mY="[object Int16Array]",mX="[object Int32Array]",mQ="[object BigInt64Array]",m0="[object Float32Array]",m6="[object Float64Array]";function m3(){}function m5(eu){if(!eu||"object"!=typeof eu)return!1;let ed=Object.getPrototypeOf(eu);return(null===ed||ed===Object.prototype||null===Object.getPrototypeOf(ed))&&"[object Object]"===Object.prototype.toString.call(eu)}function m4(eu,ed,eg){return m9(eu,ed,void 0,void 0,void 0,void 0,eg)}function m9(eu,ed,eg,em,eb,ew,e_){let eE=e_(eu,ed,eg,em,eb,ew);if(void 0!==eE)return eE;if(typeof eu==typeof ed)switch(typeof eu){case"bigint":case"string":case"boolean":case"symbol":case"undefined":case"function":return eu===ed;case"number":return eu===ed||Object.is(eu,ed)}return m7(eu,ed,ew,e_)}function m7(eu,ed,eg,em){if(Object.is(eu,ed))return!0;let eb=mO(eu),ew=mO(ed);if(eb===mR&&(eb=mK),ew===mR&&(ew=mK),eb!==ew)return!1;switch(eb){case mP:return eu.toString()===ed.toString();case mN:{let eg=eu.valueOf(),em=ed.valueOf();return mC(eg,em)}case mk:case mB:case mD:return Object.is(eu.valueOf(),ed.valueOf());case mT:return eu.source===ed.source&&eu.flags===ed.flags;case mF:return eu===ed}eg=eg??new Map;let e_=eg.get(eu),eE=eg.get(ed);if(null!=e_&&null!=eE)return e_===ed;eg.set(eu,ed),eg.set(ed,eu);try{switch(eb){case mU:if(eu.size!==ed.size)return!1;for(let[eb,ew]of eu.entries())if(!ed.has(eb)||!m9(ew,ed.get(eb),eb,eu,ed,eg,em))return!1;return!0;case mL:{if(eu.size!==ed.size)return!1;let eb=Array.from(eu.values()),ew=Array.from(ed.values());for(let e_=0;e_<eb.length;e_++){let eE=eb[e_],eA=ew.findIndex(eb=>m9(eE,eb,void 0,eu,ed,eg,em));if(-1===eA)return!1;ew.splice(eA,1)}return!0}case mj:case mH:case mV:case mG:case mW:case mJ:case mZ:case mY:case mX:case mQ:case m0:case m6:if("u">typeof fy&&fy.isBuffer(eu)!==fy.isBuffer(ed)||eu.length!==ed.length)return!1;for(let eb=0;eb<eu.length;eb++)if(!m9(eu[eb],ed[eb],eb,eu,ed,eg,em))return!1;return!0;case m$:return eu.byteLength===ed.byteLength&&m7(new Uint8Array(eu),new Uint8Array(ed),eg,em);case mz:return eu.byteLength===ed.byteLength&&eu.byteOffset===ed.byteOffset&&m7(new Uint8Array(eu),new Uint8Array(ed),eg,em);case mq:return eu.name===ed.name&&eu.message===ed.message;case mK:{if(!(m7(eu.constructor,ed.constructor,eg,em)||m5(eu)&&m5(ed)))return!1;let eb=[...Object.keys(eu),...mM(eu)],ew=[...Object.keys(ed),...mM(ed)];if(eb.length!==ew.length)return!1;for(let ew=0;ew<eb.length;ew++){let e_=eb[ew],eE=eu[e_];if(!Object.hasOwn(ed,e_))return!1;let eA=ed[e_];if(!m9(eE,eA,e_,eu,ed,eg,em))return!1}return!0}default:return!1}}finally{eg.delete(eu),eg.delete(ed)}}function bu(eu,ed){return m4(eu,ed,m3)}var bd=Object.defineProperty,bp=Object.getOwnPropertySymbols,by=Object.prototype.hasOwnProperty,bm=Object.prototype.propertyIsEnumerable,bv=(eu,ed,eg)=>ed in eu?bd(eu,ed,{enumerable:!0,configurable:!0,writable:!0,value:eg}):eu[ed]=eg,bw=(eu,ed)=>{for(var eg in ed||(ed={}))by.call(ed,eg)&&bv(eu,eg,ed[eg]);if(bp)for(var eg of bp(ed))bm.call(ed,eg)&&bv(eu,eg,ed[eg]);return eu},b_=(eu,ed,eg)=>bv(eu,"symbol"!=typeof ed?ed+"":ed,eg);class bE extends eB{constructor(eu,ed,eg,em=fA,eb){super(eu,ed,eg,em),this.core=eu,this.logger=ed,this.name=eg,b_(this,"map",new Map),b_(this,"version",fG),b_(this,"cached",[]),b_(this,"initialized",!1),b_(this,"getKey"),b_(this,"storagePrefix",fA),b_(this,"recentlyDeleted",[]),b_(this,"recentlyDeletedLimit",200),b_(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(eu=>{this.getKey&&null!==eu&&!hJ(eu)?this.map.set(this.getKey(eu),eu):du(eu)?this.map.set(eu.id,eu):dd(eu)&&this.map.set(eu.topic,eu)}),this.cached=[],this.initialized=!0)}),b_(this,"set",async(eu,ed)=>{this.isInitialized(),this.map.has(eu)?await this.update(eu,ed):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:eu,value:ed}),this.map.set(eu,ed),await this.persist())}),b_(this,"get",eu=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:eu}),this.getData(eu))),b_(this,"getAll",eu=>(this.isInitialized(),eu?this.values.filter(ed=>Object.keys(eu).every(eg=>bu(ed[eg],eu[eg]))):this.values)),b_(this,"update",async(eu,ed)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:eu,update:ed});let eg=bw(bw({},this.getData(eu)),ed);this.map.set(eu,eg),await this.persist()}),b_(this,"delete",async(eu,ed)=>{this.isInitialized(),this.map.has(eu)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:eu,reason:ed}),this.map.delete(eu),this.addToRecentlyDeleted(eu),await this.persist())}),this.logger=(0,eE.Ep)(ed,this.name),this.storagePrefix=em,this.getKey=eb}get context(){return(0,eE.Fd)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(eu){this.recentlyDeleted.push(eu),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(eu){await this.core.storage.setItem(this.storageKey,eu)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(eu){let ed=this.map.get(eu);if(!ed){if(this.recentlyDeleted.includes(eu)){let{message:ed}=hH("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${eu}`);throw this.logger.error(ed),Error(ed)}let{message:ed}=hH("NO_MATCHING_KEY",`${this.name}: ${eu}`);throw this.logger.error(ed),Error(ed)}return ed}async persist(){await this.setDataStore(this.values)}async restore(){try{let eu=await this.getDataStore();if(typeof eu>"u"||!eu.length)return;if(this.map.size){let{message:eu}=hH("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(eu),Error(eu)}this.cached=eu,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(eu){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(eu)}}isInitialized(){if(!this.initialized){let{message:eu}=hH("NOT_INITIALIZED",this.name);throw Error(eu)}}}var bA=Object.defineProperty,bS=(eu,ed,eg)=>ed in eu?bA(eu,ed,{enumerable:!0,configurable:!0,writable:!0,value:eg}):eu[ed]=eg,bI=(eu,ed,eg)=>bS(eu,"symbol"!=typeof ed?ed+"":ed,eg);class bx{constructor(eu,ed){this.core=eu,this.logger=ed,bI(this,"name",fQ),bI(this,"version",f0),bI(this,"events",new(eb())),bI(this,"pairings"),bI(this,"initialized",!1),bI(this,"storagePrefix",fA),bI(this,"ignoredPayloadTypes",[l$]),bI(this,"registeredMethods",[]),bI(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),bI(this,"register",({methods:eu})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...eu])]}),bI(this,"create",async eu=>{this.isInitialized();let ed=lW(),eg=await this.core.crypto.setSymKey(ed),em=nB(eJ.FIVE_MINUTES),eb={protocol:fB},ew={topic:eg,expiry:em,relay:eb,active:!1,methods:eu?.methods},e_=hE({protocol:this.core.protocol,version:this.core.version,topic:eg,symKey:ed,relay:eb,expiryTimestamp:em,methods:eu?.methods});return this.events.emit(f2.create,ew),this.core.expirer.set(eg,em),await this.pairings.set(eg,ew),await this.core.relayer.subscribe(eg,{transportType:eu?.transportType}),{topic:eg,uri:e_}}),bI(this,"pair",async eu=>{let ed;this.isInitialized();let eg=this.core.eventClient.createEvent({properties:{topic:eu?.uri,trace:[pv.pairing_started]}});this.isValidPair(eu,eg);let{topic:em,symKey:eb,relay:ew,expiryTimestamp:e_,methods:eE}=hv(eu.uri);if(eg.props.properties.topic=em,eg.addTrace(pv.pairing_uri_validation_success),eg.addTrace(pv.pairing_uri_not_expired),this.pairings.keys.includes(em)){if(ed=this.pairings.get(em),eg.addTrace(pv.existing_pairing),ed.active)throw eg.setError(pw.active_pairing_already_exists),Error(`Pairing already exists: ${em}. Please try again with a new connection URI.`);eg.addTrace(pv.pairing_not_expired)}let eA=e_||nB(eJ.FIVE_MINUTES),eS={topic:em,relay:ew,expiry:eA,active:!1,methods:eE};this.core.expirer.set(em,eA),await this.pairings.set(em,eS),eg.addTrace(pv.store_new_pairing),eu.activatePairing&&await this.activate({topic:em}),this.events.emit(f2.create,eS),eg.addTrace(pv.emit_inactive_pairing),this.core.crypto.keychain.has(em)||await this.core.crypto.setSymKey(eb,em),eg.addTrace(pv.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{eg.setError(pw.no_internet_connection)}try{await this.core.relayer.subscribe(em,{relay:ew})}catch(eu){throw eg.setError(pw.subscribe_pairing_topic_failure),eu}return eg.addTrace(pv.subscribe_pairing_topic_success),eS}),bI(this,"activate",async({topic:eu})=>{this.isInitialized();let ed=nB(eJ.FIVE_MINUTES);this.core.expirer.set(eu,ed),await this.pairings.update(eu,{active:!0,expiry:ed})}),bI(this,"ping",async eu=>{this.isInitialized(),await this.isValidPing(eu),this.logger.warn("ping() is deprecated and will be removed in the next major release.");let{topic:ed}=eu;if(this.pairings.keys.includes(ed)){let eu=await this.sendRequest(ed,"wc_pairingPing",{}),{done:eg,resolve:em,reject:eb}=nT();this.events.once(nL("pairing_ping",eu),({error:eu})=>{eu?eb(eu):em()}),await eg()}}),bI(this,"updateExpiry",async({topic:eu,expiry:ed})=>{this.isInitialized(),await this.pairings.update(eu,{expiry:ed})}),bI(this,"updateMetadata",async({topic:eu,metadata:ed})=>{this.isInitialized(),await this.pairings.update(eu,{peerMetadata:ed})}),bI(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),bI(this,"disconnect",async eu=>{this.isInitialized(),await this.isValidDisconnect(eu);let{topic:ed}=eu;this.pairings.keys.includes(ed)&&(await this.sendRequest(ed,"wc_pairingDelete",hV("USER_DISCONNECTED")),await this.deletePairing(ed))}),bI(this,"formatUriFromPairing",eu=>{this.isInitialized();let{topic:ed,relay:eg,expiry:em,methods:eb}=eu,ew=this.core.crypto.keychain.get(ed);return hE({protocol:this.core.protocol,version:this.core.version,topic:ed,symKey:ew,relay:eg,expiryTimestamp:em,methods:eb})}),bI(this,"sendRequest",async(eu,ed,eg)=>{let em=(0,fd.formatJsonRpcRequest)(ed,eg),eb=await this.core.crypto.encode(eu,em),ew=f1[ed].req;return this.core.history.set(eu,em),this.core.relayer.publish(eu,eb,ew),em.id}),bI(this,"sendResult",async(eu,ed,eg)=>{let em=(0,fd.formatJsonRpcResult)(eu,eg),eb=await this.core.crypto.encode(ed,em),ew=(await this.core.history.get(ed,eu)).request.method,e_=f1[ew].res;await this.core.relayer.publish(ed,eb,e_),await this.core.history.resolve(em)}),bI(this,"sendError",async(eu,ed,eg)=>{let em=(0,fd.formatJsonRpcError)(eu,eg),eb=await this.core.crypto.encode(ed,em),ew=(await this.core.history.get(ed,eu)).request.method,e_=f1[ew]?f1[ew].res:f1.unregistered_method.res;await this.core.relayer.publish(ed,eb,e_),await this.core.history.resolve(em)}),bI(this,"deletePairing",async(eu,ed)=>{await this.core.relayer.unsubscribe(eu),await Promise.all([this.pairings.delete(eu,hV("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(eu),ed?Promise.resolve():this.core.expirer.del(eu)])}),bI(this,"cleanup",async()=>{let eu=this.pairings.getAll().filter(eu=>nU(eu.expiry));await Promise.all(eu.map(eu=>this.deletePairing(eu.topic)))}),bI(this,"onRelayEventRequest",async eu=>{let{topic:ed,payload:eg}=eu;switch(eg.method){case"wc_pairingPing":return await this.onPairingPingRequest(ed,eg);case"wc_pairingDelete":return await this.onPairingDeleteRequest(ed,eg);default:return await this.onUnknownRpcMethodRequest(ed,eg)}}),bI(this,"onRelayEventResponse",async eu=>{let{topic:ed,payload:eg}=eu,em=(await this.core.history.get(ed,eg.id)).request.method;return"wc_pairingPing"===em?this.onPairingPingResponse(ed,eg):this.onUnknownRpcMethodResponse(em)}),bI(this,"onPairingPingRequest",async(eu,ed)=>{let{id:eg}=ed;try{this.isValidPing({topic:eu}),await this.sendResult(eg,eu,!0),this.events.emit(f2.ping,{id:eg,topic:eu})}catch(ed){await this.sendError(eg,eu,ed),this.logger.error(ed)}}),bI(this,"onPairingPingResponse",(eu,ed)=>{let{id:eg}=ed;setTimeout(()=>{(0,fd.isJsonRpcResult)(ed)?this.events.emit(nL("pairing_ping",eg),{}):(0,fd.isJsonRpcError)(ed)&&this.events.emit(nL("pairing_ping",eg),{error:ed.error})},500)}),bI(this,"onPairingDeleteRequest",async(eu,ed)=>{let{id:eg}=ed;try{this.isValidDisconnect({topic:eu}),await this.deletePairing(eu),this.events.emit(f2.delete,{id:eg,topic:eu})}catch(ed){await this.sendError(eg,eu,ed),this.logger.error(ed)}}),bI(this,"onUnknownRpcMethodRequest",async(eu,ed)=>{let{id:eg,method:em}=ed;try{if(this.registeredMethods.includes(em))return;let ed=hV("WC_METHOD_UNSUPPORTED",em);await this.sendError(eg,eu,ed),this.logger.error(ed)}catch(ed){await this.sendError(eg,eu,ed),this.logger.error(ed)}}),bI(this,"onUnknownRpcMethodResponse",eu=>{this.registeredMethods.includes(eu)||this.logger.error(hV("WC_METHOD_UNSUPPORTED",eu))}),bI(this,"isValidPair",(eu,ed)=>{var eg;if(!dT(eu)){let{message:eg}=hH("MISSING_OR_INVALID",`pair() params: ${eu}`);throw ed.setError(pw.malformed_pairing_uri),Error(eg)}if(!h9(eu.uri)){let{message:eg}=hH("MISSING_OR_INVALID",`pair() uri: ${eu.uri}`);throw ed.setError(pw.malformed_pairing_uri),Error(eg)}let em=hv(eu?.uri);if(!(null!=(eg=em?.relay)&&eg.protocol)){let{message:eu}=hH("MISSING_OR_INVALID","pair() uri#relay-protocol");throw ed.setError(pw.malformed_pairing_uri),Error(eu)}if(!(null!=em&&em.symKey)){let{message:eu}=hH("MISSING_OR_INVALID","pair() uri#symKey");throw ed.setError(pw.malformed_pairing_uri),Error(eu)}if(null!=em&&em.expiryTimestamp&&(0,eJ.toMiliseconds)(em?.expiryTimestamp)<Date.now()){ed.setError(pw.pairing_expired);let{message:eu}=hH("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw Error(eu)}}),bI(this,"isValidPing",async eu=>{if(!dT(eu)){let{message:ed}=hH("MISSING_OR_INVALID",`ping() params: ${eu}`);throw Error(ed)}let{topic:ed}=eu;await this.isValidPairingTopic(ed)}),bI(this,"isValidDisconnect",async eu=>{if(!dT(eu)){let{message:ed}=hH("MISSING_OR_INVALID",`disconnect() params: ${eu}`);throw Error(ed)}let{topic:ed}=eu;await this.isValidPairingTopic(ed)}),bI(this,"isValidPairingTopic",async eu=>{if(!hZ(eu,!1)){let{message:ed}=hH("MISSING_OR_INVALID",`pairing topic should be a string: ${eu}`);throw Error(ed)}if(!this.pairings.keys.includes(eu)){let{message:ed}=hH("NO_MATCHING_KEY",`pairing topic doesn't exist: ${eu}`);throw Error(ed)}if(nU(this.pairings.get(eu).expiry)){await this.deletePairing(eu);let{message:ed}=hH("EXPIRED",`pairing topic: ${eu}`);throw Error(ed)}}),this.core=eu,this.logger=(0,eE.Ep)(ed,this.name),this.pairings=new bE(this.core,this.logger,this.name,this.storagePrefix)}get context(){return(0,eE.Fd)(this.logger)}isInitialized(){if(!this.initialized){let{message:eu}=hH("NOT_INITIALIZED",this.name);throw Error(eu)}}registerRelayerEvents(){this.core.relayer.on(fF.message,async eu=>{let{topic:ed,message:eg,transportType:em}=eu;if(this.pairings.keys.includes(ed)&&em!==fH.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(eg)))try{let eu=await this.core.crypto.decode(ed,eg);(0,fd.isJsonRpcRequest)(eu)?(this.core.history.set(ed,eu),await this.onRelayEventRequest({topic:ed,payload:eu})):(0,fd.isJsonRpcResponse)(eu)&&(await this.core.history.resolve(eu),await this.onRelayEventResponse({topic:ed,payload:eu}),this.core.history.delete(ed,eu.id)),await this.core.relayer.messages.ack(ed,eg)}catch(eu){this.logger.error(eu)}})}registerExpirerEvents(){this.core.expirer.on(f4.expired,async eu=>{let{topic:ed}=nD(eu.target);ed&&this.pairings.keys.includes(ed)&&(await this.deletePairing(ed,!0),this.events.emit(f2.expire,{topic:ed}))})}}var bC=Object.defineProperty,bM=(eu,ed,eg)=>ed in eu?bC(eu,ed,{enumerable:!0,configurable:!0,writable:!0,value:eg}):eu[ed]=eg,bO=(eu,ed,eg)=>bM(eu,"symbol"!=typeof ed?ed+"":ed,eg);class bT extends eN{constructor(eu,ed){super(eu,ed),this.core=eu,this.logger=ed,bO(this,"records",new Map),bO(this,"events",new em.EventEmitter),bO(this,"name",f3),bO(this,"version",f8),bO(this,"cached",[]),bO(this,"initialized",!1),bO(this,"storagePrefix",fA),bO(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(eu=>this.records.set(eu.id,eu)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),bO(this,"set",(eu,ed,eg)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:eu,request:ed,chainId:eg}),this.records.has(ed.id))return;let em={id:ed.id,topic:eu,request:{method:ed.method,params:ed.params||null},chainId:eg,expiry:nB(eJ.THIRTY_DAYS)};this.records.set(em.id,em),this.persist(),this.events.emit(f6.created,em)}),bO(this,"resolve",async eu=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:eu}),!this.records.has(eu.id))return;let ed=await this.getRecord(eu.id);typeof ed.response>"u"&&(ed.response=(0,fd.isJsonRpcError)(eu)?{error:eu.error}:{result:eu.result},this.records.set(ed.id,ed),this.persist(),this.events.emit(f6.updated,ed))}),bO(this,"get",async(eu,ed)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:eu,id:ed}),await this.getRecord(ed))),bO(this,"delete",(eu,ed)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:ed}),this.values.forEach(eg=>{eg.topic!==eu||"u">typeof ed&&eg.id!==ed||(this.records.delete(eg.id),this.events.emit(f6.deleted,eg))}),this.persist()}),bO(this,"exists",async(eu,ed)=>(this.isInitialized(),!!this.records.has(ed)&&(await this.getRecord(ed)).topic===eu)),bO(this,"on",(eu,ed)=>{this.events.on(eu,ed)}),bO(this,"once",(eu,ed)=>{this.events.once(eu,ed)}),bO(this,"off",(eu,ed)=>{this.events.off(eu,ed)}),bO(this,"removeListener",(eu,ed)=>{this.events.removeListener(eu,ed)}),this.logger=(0,eE.Ep)(ed,this.name)}get context(){return(0,eE.Fd)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){let eu=[];return this.values.forEach(ed=>{if("u">typeof ed.response)return;let eg={topic:ed.topic,request:(0,fd.formatJsonRpcRequest)(ed.request.method,ed.request.params,ed.id),chainId:ed.chainId};return eu.push(eg)}),eu}async setJsonRpcRecords(eu){await this.core.storage.setItem(this.storageKey,eu)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(eu){this.isInitialized();let ed=this.records.get(eu);if(!ed){let{message:ed}=hH("NO_MATCHING_KEY",`${this.name}: ${eu}`);throw Error(ed)}return ed}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(f6.sync)}async restore(){try{let eu=await this.getJsonRpcRecords();if(typeof eu>"u"||!eu.length)return;if(this.records.size){let{message:eu}=hH("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(eu),Error(eu)}this.cached=eu,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(eu){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(eu)}}registerEventListeners(){this.events.on(f6.created,eu=>{let ed=f6.created;this.logger.info(`Emitting ${ed}`),this.logger.debug({type:"event",event:ed,record:eu})}),this.events.on(f6.updated,eu=>{let ed=f6.updated;this.logger.info(`Emitting ${ed}`),this.logger.debug({type:"event",event:ed,record:eu})}),this.events.on(f6.deleted,eu=>{let ed=f6.deleted;this.logger.info(`Emitting ${ed}`),this.logger.debug({type:"event",event:ed,record:eu})}),this.core.heartbeat.on(ew.Lx.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let eu=!1;this.records.forEach(ed=>{(0,eJ.toMiliseconds)(ed.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${ed.id}`),this.records.delete(ed.id),this.events.emit(f6.deleted,ed,!1),eu=!0)}),eu&&this.persist()}catch(eu){this.logger.warn(eu)}}isInitialized(){if(!this.initialized){let{message:eu}=hH("NOT_INITIALIZED",this.name);throw Error(eu)}}}var bP=Object.defineProperty,bN=(eu,ed,eg)=>ed in eu?bP(eu,ed,{enumerable:!0,configurable:!0,writable:!0,value:eg}):eu[ed]=eg,bk=(eu,ed,eg)=>bN(eu,"symbol"!=typeof ed?ed+"":ed,eg);class bR extends eL{constructor(eu,ed){super(eu,ed),this.core=eu,this.logger=ed,bk(this,"expirations",new Map),bk(this,"events",new em.EventEmitter),bk(this,"name",f5),bk(this,"version",f9),bk(this,"cached",[]),bk(this,"initialized",!1),bk(this,"storagePrefix",fA),bk(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(eu=>this.expirations.set(eu.target,eu)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),bk(this,"has",eu=>{try{let ed=this.formatTarget(eu);return"u">typeof this.getExpiration(ed)}catch{return!1}}),bk(this,"set",(eu,ed)=>{this.isInitialized();let eg=this.formatTarget(eu),em={target:eg,expiry:ed};this.expirations.set(eg,em),this.checkExpiry(eg,em),this.events.emit(f4.created,{target:eg,expiration:em})}),bk(this,"get",eu=>{this.isInitialized();let ed=this.formatTarget(eu);return this.getExpiration(ed)}),bk(this,"del",eu=>{if(this.isInitialized(),this.has(eu)){let ed=this.formatTarget(eu),eg=this.getExpiration(ed);this.expirations.delete(ed),this.events.emit(f4.deleted,{target:ed,expiration:eg})}}),bk(this,"on",(eu,ed)=>{this.events.on(eu,ed)}),bk(this,"once",(eu,ed)=>{this.events.once(eu,ed)}),bk(this,"off",(eu,ed)=>{this.events.off(eu,ed)}),bk(this,"removeListener",(eu,ed)=>{this.events.removeListener(eu,ed)}),this.logger=(0,eE.Ep)(ed,this.name)}get context(){return(0,eE.Fd)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(eu){if("string"==typeof eu)return nk(eu);if("number"==typeof eu)return nR(eu);let{message:ed}=hH("UNKNOWN_TYPE",`Target type: ${typeof eu}`);throw Error(ed)}async setExpirations(eu){await this.core.storage.setItem(this.storageKey,eu)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(f4.sync)}async restore(){try{let eu=await this.getExpirations();if(typeof eu>"u"||!eu.length)return;if(this.expirations.size){let{message:eu}=hH("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(eu),Error(eu)}this.cached=eu,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(eu){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(eu)}}getExpiration(eu){let ed=this.expirations.get(eu);if(!ed){let{message:ed}=hH("NO_MATCHING_KEY",`${this.name}: ${eu}`);throw this.logger.warn(ed),Error(ed)}return ed}checkExpiry(eu,ed){let{expiry:eg}=ed;(0,eJ.toMiliseconds)(eg)-Date.now()<=0&&this.expire(eu,ed)}expire(eu,ed){this.expirations.delete(eu),this.events.emit(f4.expired,{target:eu,expiration:ed})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((eu,ed)=>this.checkExpiry(ed,eu))}registerEventListeners(){this.core.heartbeat.on(ew.Lx.pulse,()=>this.checkExpirations()),this.events.on(f4.created,eu=>{let ed=f4.created;this.logger.info(`Emitting ${ed}`),this.logger.debug({type:"event",event:ed,data:eu}),this.persist()}),this.events.on(f4.expired,eu=>{let ed=f4.expired;this.logger.info(`Emitting ${ed}`),this.logger.debug({type:"event",event:ed,data:eu}),this.persist()}),this.events.on(f4.deleted,eu=>{let ed=f4.deleted;this.logger.info(`Emitting ${ed}`),this.logger.debug({type:"event",event:ed,data:eu}),this.persist()})}isInitialized(){if(!this.initialized){let{message:eu}=hH("NOT_INITIALIZED",this.name);throw Error(eu)}}}var bD=Object.defineProperty,bB=(eu,ed,eg)=>ed in eu?bD(eu,ed,{enumerable:!0,configurable:!0,writable:!0,value:eg}):eu[ed]=eg,bU=(eu,ed,eg)=>bB(eu,"symbol"!=typeof ed?ed+"":ed,eg);class bL extends ej{constructor(eu,ed,eg){super(eu,ed,eg),this.core=eu,this.logger=ed,this.store=eg,bU(this,"name",f7),bU(this,"abortController"),bU(this,"isDevEnv"),bU(this,"verifyUrlV3",pp),bU(this,"storagePrefix",fA),bU(this,"version",f_),bU(this,"publicKey"),bU(this,"fetchPromise"),bU(this,"init",async()=>{var eu;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&(0,eJ.toMiliseconds)(null==(eu=this.publicKey)?void 0:eu.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),bU(this,"register",async eu=>{if(!nd()||this.isDevEnv)return;let ed=window.location.origin,{id:eg,decryptedId:em}=eu,eb=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${ed}&id=${eg}&decryptedId=${em}`;try{let eu=(0,eQ.getDocument)(),ed=this.startAbortTimer(5*eJ.ONE_SECOND),em=await new Promise((em,ew)=>{let e_=()=>{window.removeEventListener("message",eA),eu.body.removeChild(eE),ew("attestation aborted")};this.abortController.signal.addEventListener("abort",e_);let eE=eu.createElement("iframe");eE.src=eb,eE.style.display="none",eE.addEventListener("error",e_,{signal:this.abortController.signal});let eA=eb=>{if(eb.data&&"string"==typeof eb.data)try{let ew=JSON.parse(eb.data);if("verify_attestation"===ew.type){if((0,eY.xp)(ew.attestation).payload.id!==eg)return;clearInterval(ed),eu.body.removeChild(eE),this.abortController.signal.removeEventListener("abort",e_),window.removeEventListener("message",eA),em(null===ew.attestation?"":ew.attestation)}}catch(eu){this.logger.warn(eu)}};eu.body.appendChild(eE),window.addEventListener("message",eA,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",em),em}catch(eu){this.logger.warn(eu)}return""}),bU(this,"resolve",async eu=>{if(this.isDevEnv)return"";let{attestationId:ed,hash:eg,encryptedId:em}=eu;if(""===ed){this.logger.debug("resolve: attestationId is empty, skipping");return}if(ed){if((0,eY.xp)(ed).payload.id!==em)return;let eu=await this.isValidJwtAttestation(ed);if(eu){if(!eu.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return eu}}if(!eg)return;let eb=this.getVerifyUrl(eu?.verifyUrl);return this.fetchAttestation(eg,eb)}),bU(this,"fetchAttestation",async(eu,ed)=>{this.logger.debug(`resolving attestation: ${eu} from url: ${ed}`);let eg=this.startAbortTimer(5*eJ.ONE_SECOND),em=await fetch(`${ed}/attestation/${eu}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(eg),200===em.status?await em.json():void 0}),bU(this,"getVerifyUrl",eu=>{let ed=eu||pd;return pg.includes(ed)||(this.logger.info(`verify url: ${ed}, not included in trusted list, assigning default: ${pd}`),ed=pd),ed}),bU(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);let eu=this.startAbortTimer(eJ.FIVE_SECONDS),ed=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(eu),await ed.json()}catch(eu){this.logger.warn(eu)}}),bU(this,"persistPublicKey",async eu=>{this.logger.debug("persisting public key to local storage",eu),await this.store.setItem(this.storeKey,eu),this.publicKey=eu}),bU(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),bU(this,"isValidJwtAttestation",async eu=>{let ed=await this.getPublicKey();try{if(ed)return this.validateAttestation(eu,ed)}catch(eu){this.logger.error(eu),this.logger.warn("error validating attestation")}let eg=await this.fetchAndPersistPublicKey();try{if(eg)return this.validateAttestation(eu,eg)}catch(eu){this.logger.error(eu),this.logger.warn("error validating attestation")}}),bU(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),bU(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async eu=>{let ed=await this.fetchPublicKey();ed&&(await this.persistPublicKey(ed),eu(ed))});let eu=await this.fetchPromise;return this.fetchPromise=void 0,eu}),bU(this,"validateAttestation",(eu,ed)=>{let eg=hp(eu,ed.publicKey),em={hasExpired:(0,eJ.toMiliseconds)(eg.exp)<Date.now(),payload:eg};if(em.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),Error("JWT attestation expired");return{origin:em.payload.origin,isScam:em.payload.isScam,isVerified:em.payload.isVerified}}),this.logger=(0,eE.Ep)(ed,this.name),this.abortController=new AbortController,this.isDevEnv=nG(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return(0,eE.Fd)(this.logger)}startAbortTimer(eu){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),(0,eJ.toMiliseconds)(eu))}}var bj=Object.defineProperty,bF=(eu,ed,eg)=>ed in eu?bj(eu,ed,{enumerable:!0,configurable:!0,writable:!0,value:eg}):eu[ed]=eg,b$=(eu,ed,eg)=>bF(eu,"symbol"!=typeof ed?ed+"":ed,eg);class bK extends eF{constructor(eu,ed){super(eu,ed),this.projectId=eu,this.logger=ed,b$(this,"context",py),b$(this,"registerDeviceToken",async eu=>{let{clientId:ed,token:eg,notificationType:em,enableEncrypted:eb=!1}=eu,ew=`${pb}/${this.projectId}/clients`;await fetch(ew,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:ed,type:em,token:eg,always_raw:eb})})}),this.logger=(0,eE.Ep)(ed,this.context)}}var bq=Object.defineProperty,bH=Object.getOwnPropertySymbols,bV=Object.prototype.hasOwnProperty,bG=Object.prototype.propertyIsEnumerable,bW=(eu,ed,eg)=>ed in eu?bq(eu,ed,{enumerable:!0,configurable:!0,writable:!0,value:eg}):eu[ed]=eg,bJ=(eu,ed)=>{for(var eg in ed||(ed={}))bV.call(ed,eg)&&bW(eu,eg,ed[eg]);if(bH)for(var eg of bH(ed))bG.call(ed,eg)&&bW(eu,eg,ed[eg]);return eu},bZ=(eu,ed,eg)=>bW(eu,"symbol"!=typeof ed?ed+"":ed,eg);class bY extends e${constructor(eu,ed,eg=!0){super(eu,ed,eg),this.core=eu,this.logger=ed,bZ(this,"context",px),bZ(this,"storagePrefix",fA),bZ(this,"storageVersion",pI),bZ(this,"events",new Map),bZ(this,"shouldPersist",!1),bZ(this,"init",async()=>{if(!nG())try{let eu={eventId:nV(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:nS(this.core.relayer.protocol,this.core.relayer.version,fz)}}};await this.sendEvent([eu])}catch(eu){this.logger.warn(eu)}}),bZ(this,"createEvent",eu=>{let{event:ed="ERROR",type:eg="",properties:{topic:em,trace:eb}}=eu,ew=nV(),e_=this.core.projectId||"",eE=Date.now(),eA=bJ({eventId:ew,timestamp:eE,props:{event:ed,type:eg,properties:{topic:em,trace:eb}},bundleId:e_,domain:this.getAppDomain()},this.setMethods(ew));return this.telemetryEnabled&&(this.events.set(ew,eA),this.shouldPersist=!0),eA}),bZ(this,"getEvent",eu=>{let{eventId:ed,topic:eg}=eu;if(ed)return this.events.get(ed);let em=Array.from(this.events.values()).find(eu=>eu.props.properties.topic===eg);if(em)return bJ(bJ({},em),this.setMethods(em.eventId))}),bZ(this,"deleteEvent",eu=>{let{eventId:ed}=eu;this.events.delete(ed),this.shouldPersist=!0}),bZ(this,"setEventListeners",()=>{this.core.heartbeat.on(ew.Lx.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(eu=>{(0,eJ.fromMiliseconds)(Date.now())-(0,eJ.fromMiliseconds)(eu.timestamp)>pC&&(this.events.delete(eu.eventId),this.shouldPersist=!0)})})}),bZ(this,"setMethods",eu=>({addTrace:ed=>this.addTrace(eu,ed),setError:ed=>this.setError(eu,ed)})),bZ(this,"addTrace",(eu,ed)=>{let eg=this.events.get(eu);eg&&(eg.props.properties.trace.push(ed),this.events.set(eu,eg),this.shouldPersist=!0)}),bZ(this,"setError",(eu,ed)=>{let eg=this.events.get(eu);eg&&(eg.props.type=ed,eg.timestamp=Date.now(),this.events.set(eu,eg),this.shouldPersist=!0)}),bZ(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),bZ(this,"restore",async()=>{try{let eu=await this.core.storage.getItem(this.storageKey)||[];if(!eu.length)return;eu.forEach(eu=>{this.events.set(eu.eventId,bJ(bJ({},eu),this.setMethods(eu.eventId)))})}catch(eu){this.logger.warn(eu)}}),bZ(this,"submit",async()=>{if(!this.telemetryEnabled||0===this.events.size)return;let eu=[];for(let[ed,eg]of this.events)eg.props.type&&eu.push(eg);if(0!==eu.length)try{if((await this.sendEvent(eu)).ok)for(let ed of eu)this.events.delete(ed.eventId),this.shouldPersist=!0}catch(eu){this.logger.warn(eu)}}),bZ(this,"sendEvent",async eu=>{let ed=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${pM}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${fz}${ed}`,{method:"POST",body:JSON.stringify(eu)})}),bZ(this,"getAppDomain",()=>n_().url),this.logger=(0,eE.Ep)(ed,this.context),this.telemetryEnabled=eg,eg?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var bX=Object.defineProperty,bQ=Object.getOwnPropertySymbols,vs=Object.prototype.hasOwnProperty,vu=Object.prototype.propertyIsEnumerable,vl=(eu,ed,eg)=>ed in eu?bX(eu,ed,{enumerable:!0,configurable:!0,writable:!0,value:eg}):eu[ed]=eg,vh=(eu,ed)=>{for(var eg in ed||(ed={}))vs.call(ed,eg)&&vl(eu,eg,ed[eg]);if(bQ)for(var eg of bQ(ed))vu.call(ed,eg)&&vl(eu,eg,ed[eg]);return eu},vd=(eu,ed,eg)=>vl(eu,"symbol"!=typeof ed?ed+"":ed,eg);class vf extends eM{constructor(eu){var ed;super(eu),vd(this,"protocol",fw),vd(this,"version",f_),vd(this,"name",fE),vd(this,"relayUrl"),vd(this,"projectId"),vd(this,"customStoragePrefix"),vd(this,"events",new em.EventEmitter),vd(this,"logger"),vd(this,"heartbeat"),vd(this,"relayer"),vd(this,"crypto"),vd(this,"storage"),vd(this,"history"),vd(this,"expirer"),vd(this,"pairing"),vd(this,"verify"),vd(this,"echoClient"),vd(this,"linkModeSupportedApps"),vd(this,"eventClient"),vd(this,"initialized",!1),vd(this,"logChunkController"),vd(this,"on",(eu,ed)=>this.events.on(eu,ed)),vd(this,"once",(eu,ed)=>this.events.once(eu,ed)),vd(this,"off",(eu,ed)=>this.events.off(eu,ed)),vd(this,"removeListener",(eu,ed)=>this.events.removeListener(eu,ed)),vd(this,"dispatchEnvelope",({topic:eu,message:ed,sessionExists:eg})=>{if(!eu||!ed)return;let em={topic:eu,message:ed,publishedAt:Date.now(),transportType:fH.link_mode};this.relayer.onLinkMessageEvent(em,{sessionExists:eg})});let eg=this.getGlobalCore(eu?.customStoragePrefix);if(eg)try{return this.customStoragePrefix=eg.customStoragePrefix,this.logger=eg.logger,this.heartbeat=eg.heartbeat,this.crypto=eg.crypto,this.history=eg.history,this.expirer=eg.expirer,this.storage=eg.storage,this.relayer=eg.relayer,this.pairing=eg.pairing,this.verify=eg.verify,this.echoClient=eg.echoClient,this.linkModeSupportedApps=eg.linkModeSupportedApps,this.eventClient=eg.eventClient,this.initialized=eg.initialized,this.logChunkController=eg.logChunkController,eg}catch(eu){console.warn("Failed to copy global core",eu)}this.projectId=eu?.projectId,this.relayUrl=eu?.relayUrl||fL,this.customStoragePrefix=null!=eu&&eu.customStoragePrefix?`:${eu.customStoragePrefix}`:"";let eb=(0,eE.jI)({level:"string"==typeof eu?.logger&&eu.logger?eu.logger:fS.logger,name:fE}),{logger:eA,chunkLoggerController:eS}=(0,eE.Rt)({opts:eb,maxSizeInBytes:eu?.maxLogBlobSizeInBytes,loggerOverride:eu?.logger});this.logChunkController=eS,null!=(ed=this.logChunkController)&&ed.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var eu,ed;null!=(eu=this.logChunkController)&&eu.downloadLogsBlobInBrowser&&(null==(ed=this.logChunkController)||ed.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=(0,eE.Ep)(eA,this.name),this.heartbeat=new ew.C$,this.crypto=new yN(this,this.logger,eu?.keychain),this.history=new bT(this,this.logger),this.expirer=new bR(this,this.logger),this.storage=null!=eu&&eu.storage?eu.storage:new e_.Z(vh(vh({},fI),eu?.storageOptions)),this.relayer=new mx({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new bx(this,this.logger),this.verify=new bL(this,this.logger,this.storage),this.echoClient=new bK(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new bY(this,this.logger,eu?.telemetryEnabled),this.setGlobalCore(this)}static async init(eu){let ed=new vf(eu);await ed.initialize();let eg=await ed.crypto.getClientId();return await ed.storage.setItem(fW,eg),ed}get context(){return(0,eE.Fd)(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var eu;return null==(eu=this.logChunkController)?void 0:eu.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(eu){this.linkModeSupportedApps.includes(eu)||(this.linkModeSupportedApps.push(eu),await this.storage.setItem(fJ,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(fJ)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(eu){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,eu),this.logger.error(eu.message),eu}}getGlobalCore(eu=""){try{if(this.isGlobalCoreDisabled())return;let ed=`_walletConnectCore_${eu}`,eg=`${ed}_count`;return globalThis[eg]=(globalThis[eg]||0)+1,globalThis[eg]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[eg]} times.`),globalThis[ed]}catch(eu){console.warn("Failed to get global WalletConnect core",eu);return}}setGlobalCore(eu){var ed;try{if(this.isGlobalCoreDisabled())return;let eg=`_walletConnectCore_${(null==(ed=eu.opts)?void 0:ed.customStoragePrefix)||""}`;globalThis[eg]=eu}catch(eu){console.warn("Failed to set global WalletConnect core",eu)}}isGlobalCoreDisabled(){try{return"u">typeof fv&&"true"===fv.env.DISABLE_GLOBAL_CORE}catch{return!0}}}let vp=vf,vg="wc",vy=2,vm="client",vb=`${vg}@${vy}:${vm}:`,vv={name:vm,logger:"error",controller:!1,relayUrl:"wss://relay.walletconnect.org"},vw="WALLETCONNECT_DEEPLINK_CHOICE",v_="proposal",vE="Proposal expired",vA="session",vS=eJ.SEVEN_DAYS,vI="engine",vx={wc_sessionPropose:{req:{ttl:eJ.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:eJ.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:eJ.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:eJ.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:eJ.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:eJ.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:eJ.ONE_DAY,prompt:!1,tag:1104},res:{ttl:eJ.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:eJ.ONE_DAY,prompt:!1,tag:1106},res:{ttl:eJ.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:eJ.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:eJ.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:eJ.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:eJ.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:eJ.ONE_DAY,prompt:!1,tag:1112},res:{ttl:eJ.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:eJ.ONE_DAY,prompt:!1,tag:1114},res:{ttl:eJ.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:eJ.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:eJ.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:eJ.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:eJ.FIVE_MINUTES,prompt:!1,tag:1119}}},vC={min:eJ.FIVE_MINUTES,max:eJ.SEVEN_DAYS},vM={idle:"IDLE",active:"ACTIVE"},vO={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},vT="request",vP=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],vN="wc",vk="auth",vR="authKeys",vD="pairingTopics",vB="requests",vU=`${vN}@1.5:${vk}:`,vL=`${vU}:PUB_KEY`;var vj=Object.defineProperty,vF=Object.defineProperties,v$=Object.getOwnPropertyDescriptors,vK=Object.getOwnPropertySymbols,vq=Object.prototype.hasOwnProperty,vz=Object.prototype.propertyIsEnumerable,vH=(eu,ed,eg)=>ed in eu?vj(eu,ed,{enumerable:!0,configurable:!0,writable:!0,value:eg}):eu[ed]=eg,vV=(eu,ed)=>{for(var eg in ed||(ed={}))vq.call(ed,eg)&&vH(eu,eg,ed[eg]);if(vK)for(var eg of vK(ed))vz.call(ed,eg)&&vH(eu,eg,ed[eg]);return eu},vG=(eu,ed)=>vF(eu,v$(ed)),vW=(eu,ed,eg)=>vH(eu,"symbol"!=typeof ed?ed+"":ed,eg);class vJ extends eW{constructor(eu){super(eu),vW(this,"name",vI),vW(this,"events",new(eb())),vW(this,"initialized",!1),vW(this,"requestQueue",{state:vM.idle,queue:[]}),vW(this,"sessionRequestQueue",{state:vM.idle,queue:[]}),vW(this,"emittedSessionRequests",new nQ({limit:500})),vW(this,"requestQueueDelay",eJ.ONE_SECOND),vW(this,"expectedPairingMethodMap",new Map),vW(this,"recentlyDeletedMap",new Map),vW(this,"recentlyDeletedLimit",200),vW(this,"relayMessageCache",[]),vW(this,"pendingSessions",new Map),vW(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(vx)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},(0,eJ.toMiliseconds)(this.requestQueueDelay)))}),vW(this,"connect",async eu=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();let ed=vG(vV({},eu),{requiredNamespaces:eu.requiredNamespaces||{},optionalNamespaces:eu.optionalNamespaces||{}});await this.isValidConnect(ed),ed.optionalNamespaces=hK(ed.requiredNamespaces,ed.optionalNamespaces),ed.requiredNamespaces={};let{pairingTopic:eg,requiredNamespaces:em,optionalNamespaces:eb,sessionProperties:ew,scopedProperties:e_,relays:eE}=ed,eA=eg,eS,eI=!1;try{if(eA){let eu=this.client.core.pairing.pairings.get(eA);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),eI=eu.active}}catch(eu){throw this.client.logger.error(`connect() -> pairing.get(${eA}) failed`),eu}if(!eA||!eI){let{topic:eu,uri:ed}=await this.client.core.pairing.create();eA=eu,eS=ed}if(!eA){let{message:eu}=hH("NO_MATCHING_KEY",`connect() pairing topic: ${eA}`);throw Error(eu)}let eC=await this.client.core.crypto.generateKeyPair(),eM=vx.wc_sessionPropose.req.ttl||eJ.FIVE_MINUTES,eO=nB(eM),eT=vG(vV(vV({requiredNamespaces:em,optionalNamespaces:eb,relays:eE??[{protocol:fB}],proposer:{publicKey:eC,metadata:this.client.metadata},expiryTimestamp:eO,pairingTopic:eA},ew&&{sessionProperties:ew}),e_&&{scopedProperties:e_}),{id:(0,fd.payloadId)()}),eP=nL("session_connect",eT.id),{reject:eN,resolve:ek,done:eR}=nT(eM,vE),eD=({id:eu})=>{eu===eT.id&&(this.client.events.off("proposal_expire",eD),this.pendingSessions.delete(eT.id),this.events.emit(eP,{error:{message:vE,code:0}}))};return this.client.events.on("proposal_expire",eD),this.events.once(eP,({error:eu,session:ed})=>{this.client.events.off("proposal_expire",eD),eu?eN(eu):ed&&ek(ed)}),await this.sendRequest({topic:eA,method:"wc_sessionPropose",params:eT,throwOnFailedPublish:!0,clientRpcId:eT.id}),await this.setProposal(eT.id,eT),{uri:eS,approval:eR}}),vW(this,"pair",async eu=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(eu)}catch(eu){throw this.client.logger.error("pair() failed"),eu}}),vW(this,"approve",async eu=>{var ed,eg,em;let eb=this.client.core.eventClient.createEvent({properties:{topic:null==(ed=eu?.id)?void 0:ed.toString(),trace:[p_.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(eu){throw eb.setError(pE.no_internet_connection),eu}try{await this.isValidProposalId(eu?.id)}catch(ed){throw this.client.logger.error(`approve() -> proposal.get(${eu?.id}) failed`),eb.setError(pE.proposal_not_found),ed}try{await this.isValidApprove(eu)}catch(eu){throw this.client.logger.error("approve() -> isValidApprove() failed"),eb.setError(pE.session_approve_namespace_validation_failure),eu}let{id:ew,relayProtocol:e_,namespaces:eE,sessionProperties:eA,scopedProperties:eS,sessionConfig:eI}=eu,eC=this.client.proposal.get(ew);this.client.core.eventClient.deleteEvent({eventId:eb.eventId});let{pairingTopic:eM,proposer:eO,requiredNamespaces:eT,optionalNamespaces:eP}=eC,eN=null==(eg=this.client.core.eventClient)?void 0:eg.getEvent({topic:eM});eN||(eN=null==(em=this.client.core.eventClient)?void 0:em.createEvent({type:p_.session_approve_started,properties:{topic:eM,trace:[p_.session_approve_started,p_.session_namespaces_validation_success]}}));let ek=await this.client.core.crypto.generateKeyPair(),eR=eO.publicKey,eD=await this.client.core.crypto.generateSharedKey(ek,eR),eB=vV(vV(vV({relay:{protocol:e_??"irn"},namespaces:eE,controller:{publicKey:ek,metadata:this.client.metadata},expiry:nB(vS)},eA&&{sessionProperties:eA}),eS&&{scopedProperties:eS}),eI&&{sessionConfig:eI}),eU=fH.relay;eN.addTrace(p_.subscribing_session_topic);try{await this.client.core.relayer.subscribe(eD,{transportType:eU})}catch(eu){throw eN.setError(pE.subscribe_session_topic_failure),eu}eN.addTrace(p_.subscribe_session_topic_success);let eL=vG(vV({},eB),{topic:eD,requiredNamespaces:eT,optionalNamespaces:eP,pairingTopic:eM,acknowledged:!1,self:eB.controller,peer:{publicKey:eO.publicKey,metadata:eO.metadata},controller:ek,transportType:fH.relay});await this.client.session.set(eD,eL),eN.addTrace(p_.store_session);try{eN.addTrace(p_.publishing_session_settle),await this.sendRequest({topic:eD,method:"wc_sessionSettle",params:eB,throwOnFailedPublish:!0}).catch(eu=>{throw eN?.setError(pE.session_settle_publish_failure),eu}),eN.addTrace(p_.session_settle_publish_success),eN.addTrace(p_.publishing_session_approve),await this.sendResult({id:ew,topic:eM,result:{relay:{protocol:e_??"irn"},responderPublicKey:ek},throwOnFailedPublish:!0}).catch(eu=>{throw eN?.setError(pE.session_approve_publish_failure),eu}),eN.addTrace(p_.session_approve_publish_success)}catch(eu){throw this.client.logger.error(eu),this.client.session.delete(eD,hV("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(eD),eu}return this.client.core.eventClient.deleteEvent({eventId:eN.eventId}),await this.client.core.pairing.updateMetadata({topic:eM,metadata:eO.metadata}),await this.deleteProposal(ew),await this.client.core.pairing.activate({topic:eM}),await this.setExpiry(eD,nB(vS)),{topic:eD,acknowledged:()=>Promise.resolve(this.client.session.get(eD))}}),vW(this,"reject",async eu=>{let ed;this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(eu)}catch(eu){throw this.client.logger.error("reject() -> isValidReject() failed"),eu}let{id:eg,reason:em}=eu;try{ed=this.client.proposal.get(eg).pairingTopic}catch(eu){throw this.client.logger.error(`reject() -> proposal.get(${eg}) failed`),eu}ed&&await this.sendError({id:eg,topic:ed,error:em,rpcOpts:vx.wc_sessionPropose.reject}),await this.deleteProposal(eg)}),vW(this,"update",async eu=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(eu)}catch(eu){throw this.client.logger.error("update() -> isValidUpdate() failed"),eu}let{topic:ed,namespaces:eg}=eu,{done:em,resolve:eb,reject:ew}=nT(),e_=(0,fd.payloadId)(),eE=(0,fd.getBigIntRpcId)().toString(),eA=this.client.session.get(ed).namespaces;return this.events.once(nL("session_update",e_),({error:eu})=>{eu?ew(eu):eb()}),await this.client.session.update(ed,{namespaces:eg}),await this.sendRequest({topic:ed,method:"wc_sessionUpdate",params:{namespaces:eg},throwOnFailedPublish:!0,clientRpcId:e_,relayRpcId:eE}).catch(eu=>{this.client.logger.error(eu),this.client.session.update(ed,{namespaces:eA}),ew(eu)}),{acknowledged:em}}),vW(this,"extend",async eu=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(eu)}catch(eu){throw this.client.logger.error("extend() -> isValidExtend() failed"),eu}let{topic:ed}=eu,eg=(0,fd.payloadId)(),{done:em,resolve:eb,reject:ew}=nT();return this.events.once(nL("session_extend",eg),({error:eu})=>{eu?ew(eu):eb()}),await this.setExpiry(ed,nB(vS)),this.sendRequest({topic:ed,method:"wc_sessionExtend",params:{},clientRpcId:eg,throwOnFailedPublish:!0}).catch(eu=>{ew(eu)}),{acknowledged:em}}),vW(this,"request",async eu=>{this.isInitialized();try{await this.isValidRequest(eu)}catch(eu){throw this.client.logger.error("request() -> isValidRequest() failed"),eu}let{chainId:ed,request:eg,topic:em,expiry:eb=vx.wc_sessionRequest.req.ttl}=eu,ew=this.client.session.get(em);ew?.transportType===fH.relay&&await this.confirmOnlineStateOrThrow();let e_=(0,fd.payloadId)(),eE=(0,fd.getBigIntRpcId)().toString(),{done:eA,resolve:eS,reject:eI}=nT(eb,"Request expired. Please try again.");this.events.once(nL("session_request",e_),({error:eu,result:ed})=>{eu?eI(eu):eS(ed)});let eC="wc_sessionRequest",eM=this.getAppLinkIfEnabled(ew.peer.metadata,ew.transportType);if(eM)return await this.sendRequest({clientRpcId:e_,relayRpcId:eE,topic:em,method:eC,params:{request:vG(vV({},eg),{expiryTimestamp:nB(eb)}),chainId:ed},expiry:eb,throwOnFailedPublish:!0,appLink:eM}).catch(eu=>eI(eu)),this.client.events.emit("session_request_sent",{topic:em,request:eg,chainId:ed,id:e_}),await eA();let eO={request:vG(vV({},eg),{expiryTimestamp:nB(eb)}),chainId:ed};return await Promise.all([new Promise(async eu=>{await this.sendRequest({clientRpcId:e_,relayRpcId:eE,topic:em,method:eC,params:eO,expiry:eb,throwOnFailedPublish:!0,tvf:this.getTVFParams(e_,eO)}).catch(eu=>eI(eu)),this.client.events.emit("session_request_sent",{topic:em,request:eg,chainId:ed,id:e_}),eu()}),new Promise(async eu=>{var ed;if(!(null!=(ed=ew.sessionConfig)&&ed.disableDeepLink)){let eu=await nq(this.client.core.storage,vw);await nF({id:e_,topic:em,wcDeepLink:eu})}eu()}),eA()]).then(eu=>eu[2])}),vW(this,"respond",async eu=>{this.isInitialized(),await this.isValidRespond(eu);let{topic:ed,response:eg}=eu,{id:em}=eg,eb=this.client.session.get(ed);eb.transportType===fH.relay&&await this.confirmOnlineStateOrThrow();let ew=this.getAppLinkIfEnabled(eb.peer.metadata,eb.transportType);(0,fd.isJsonRpcResult)(eg)?await this.sendResult({id:em,topic:ed,result:eg.result,throwOnFailedPublish:!0,appLink:ew}):(0,fd.isJsonRpcError)(eg)&&await this.sendError({id:em,topic:ed,error:eg.error,appLink:ew}),this.cleanupAfterResponse(eu)}),vW(this,"ping",async eu=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(eu)}catch(eu){throw this.client.logger.error("ping() -> isValidPing() failed"),eu}let{topic:ed}=eu;if(this.client.session.keys.includes(ed)){let eu=(0,fd.payloadId)(),eg=(0,fd.getBigIntRpcId)().toString(),{done:em,resolve:eb,reject:ew}=nT();this.events.once(nL("session_ping",eu),({error:eu})=>{eu?ew(eu):eb()}),await Promise.all([this.sendRequest({topic:ed,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:eu,relayRpcId:eg}),em()])}else this.client.core.pairing.pairings.keys.includes(ed)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:ed}))}),vW(this,"emit",async eu=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(eu);let{topic:ed,event:eg,chainId:em}=eu,eb=(0,fd.getBigIntRpcId)().toString(),ew=(0,fd.payloadId)();await this.sendRequest({topic:ed,method:"wc_sessionEvent",params:{event:eg,chainId:em},throwOnFailedPublish:!0,relayRpcId:eb,clientRpcId:ew})}),vW(this,"disconnect",async eu=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(eu);let{topic:ed}=eu;if(this.client.session.keys.includes(ed))await this.sendRequest({topic:ed,method:"wc_sessionDelete",params:hV("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:ed,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(ed))await this.client.core.pairing.disconnect({topic:ed});else{let{message:eu}=hH("MISMATCHED_TOPIC",`Session or pairing topic not found: ${ed}`);throw Error(eu)}}),vW(this,"find",eu=>(this.isInitialized(),this.client.session.getAll().filter(ed=>hX(ed,eu)))),vW(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),vW(this,"authenticate",async(eu,ed)=>{var eg;let em;this.isInitialized(),this.isValidAuthenticate(eu);let eb=ed&&this.client.core.linkModeSupportedApps.includes(ed)&&(null==(eg=this.client.metadata.redirect)?void 0:eg.linkMode),ew=eb?fH.link_mode:fH.relay;ew===fH.relay&&await this.confirmOnlineStateOrThrow();let{chains:e_,statement:eE="",uri:eA,domain:eS,nonce:eI,type:eC,exp:eM,nbf:eO,methods:eT=[],expiry:eP}=eu,eN=[...eu.resources||[]],{topic:ek,uri:eR}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:ew});this.client.logger.info({message:"Generated new pairing",pairing:{topic:ek,uri:eR}});let eD=await this.client.core.crypto.generateKeyPair(),eB=lZ(eD);if(await Promise.all([this.client.auth.authKeys.set(vL,{responseTopic:eB,publicKey:eD}),this.client.auth.pairingTopics.set(eB,{topic:eB,pairingTopic:ek})]),await this.client.core.relayer.subscribe(eB,{transportType:ew}),this.client.logger.info(`sending request to new pairing topic: ${ek}`),eT.length>0){let{namespace:eu}=rz(e_[0]),ed=s8(eu,"request",eT);ag(eN)&&(ed=s4(ed,eN.pop())),eN.push(ed)}let eU=eP&&eP>vx.wc_sessionAuthenticate.req.ttl?eP:vx.wc_sessionAuthenticate.req.ttl,eL={authPayload:{type:eC??"caip122",chains:e_,statement:eE,aud:eA,domain:eS,version:"1",nonce:eI,iat:new Date().toISOString(),exp:eM,nbf:eO,resources:eN},requester:{publicKey:eD,metadata:this.client.metadata},expiryTimestamp:nB(eU)},ej={eip155:{chains:e_,methods:[...new Set(["personal_sign",...eT])],events:["chainChanged","accountsChanged"]}},eF={requiredNamespaces:{},optionalNamespaces:ej,relays:[{protocol:"irn"}],pairingTopic:ek,proposer:{publicKey:eD,metadata:this.client.metadata},expiryTimestamp:nB(vx.wc_sessionPropose.req.ttl),id:(0,fd.payloadId)()},{done:e$,resolve:eK,reject:eH}=nT(eU,"Request expired"),eV=(0,fd.payloadId)(),eG=nL("session_connect",eF.id),eW=nL("session_request",eV),eJ=async({error:eu,session:ed})=>{this.events.off(eW,eZ),eu?eH(eu):ed&&eK({session:ed})},eZ=async eu=>{var eg,em,eb;let e_;if(await this.deletePendingAuthRequest(eV,{message:"fulfilled",code:0}),eu.error){let ed=hV("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return eu.error.code===ed.code?void 0:(this.events.off(eG,eJ),eH(eu.error.message))}await this.deleteProposal(eF.id),this.events.off(eG,eJ);let{cacaos:eE,responder:eA}=eu.result,eS=[],eI=[];for(let eu of eE){await sV({cacao:eu,projectId:this.client.core.projectId})||(this.client.logger.error(eu,"Signature verification failed"),eH(hV("SESSION_SETTLEMENT_FAILED","Signature verification failed")));let{p:ed}=eu,eg=ag(ed.resources),em=[sz(ed.iss)],eb=sH(ed.iss);if(eg){let eu=au(eg),ed=ad(eg);eS.push(...eu),em.push(...ed)}for(let eu of em)eI.push(`${eu}:${eb}`)}let eC=await this.client.core.crypto.generateSharedKey(eD,eA.publicKey);eS.length>0&&(e_={topic:eC,acknowledged:!0,self:{publicKey:eD,metadata:this.client.metadata},peer:eA,controller:eA.publicKey,expiry:nB(vS),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:ek,namespaces:h$([...new Set(eS)],[...new Set(eI)]),transportType:ew},await this.client.core.relayer.subscribe(eC,{transportType:ew}),await this.client.session.set(eC,e_),ek&&await this.client.core.pairing.updateMetadata({topic:ek,metadata:eA.metadata}),e_=this.client.session.get(eC)),null!=(eg=this.client.metadata.redirect)&&eg.linkMode&&null!=(em=eA.metadata.redirect)&&em.linkMode&&null!=(eb=eA.metadata.redirect)&&eb.universal&&ed&&(this.client.core.addLinkModeSupportedApp(eA.metadata.redirect.universal),this.client.session.update(eC,{transportType:fH.link_mode})),eK({auths:eE,session:e_})};this.events.once(eG,eJ),this.events.once(eW,eZ);try{if(eb){let eu=(0,fd.formatJsonRpcRequest)("wc_sessionAuthenticate",eL,eV);this.client.core.history.set(ek,eu);let eg=await this.client.core.crypto.encode("",eu,{type:lK,encoding:lL});em=hA(ed,ek,eg)}else await Promise.all([this.sendRequest({topic:ek,method:"wc_sessionAuthenticate",params:eL,expiry:eu.expiry,throwOnFailedPublish:!0,clientRpcId:eV}),this.sendRequest({topic:ek,method:"wc_sessionPropose",params:eF,expiry:vx.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:eF.id})])}catch(eu){throw this.events.off(eG,eJ),this.events.off(eW,eZ),eu}return await this.setProposal(eF.id,eF),await this.setAuthRequest(eV,{request:vG(vV({},eL),{verifyContext:{}}),pairingTopic:ek,transportType:ew}),{uri:em??eR,response:e$}}),vW(this,"approveSessionAuthenticate",async eu=>{let ed;let{id:eg,auths:em}=eu,eb=this.client.core.eventClient.createEvent({properties:{topic:eg.toString(),trace:[pA.authenticated_session_approve_started]}});try{this.isInitialized()}catch(eu){throw eb.setError(pS.no_internet_connection),eu}let ew=this.getPendingAuthRequest(eg);if(!ew)throw eb.setError(pS.authenticated_session_pending_request_not_found),Error(`Could not find pending auth request with id ${eg}`);let e_=ew.transportType||fH.relay;e_===fH.relay&&await this.confirmOnlineStateOrThrow();let eE=ew.requester.publicKey,eA=await this.client.core.crypto.generateKeyPair(),eS=lZ(eE),eI={type:l$,receiverPublicKey:eE,senderPublicKey:eA},eC=[],eM=[];for(let eu of em){if(!await sV({cacao:eu,projectId:this.client.core.projectId})){eb.setError(pS.invalid_cacao);let eu=hV("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:eg,topic:eS,error:eu,encodeOpts:eI}),Error(eu.message)}eb.addTrace(pA.cacaos_verified);let{p:ed}=eu,em=ag(ed.resources),ew=[sz(ed.iss)],e_=sH(ed.iss);if(em){let eu=au(em),ed=ad(em);eC.push(...eu),ew.push(...ed)}for(let eu of ew)eM.push(`${eu}:${e_}`)}let eO=await this.client.core.crypto.generateSharedKey(eA,eE);if(eb.addTrace(pA.create_authenticated_session_topic),eC?.length>0){ed={topic:eO,acknowledged:!0,self:{publicKey:eA,metadata:this.client.metadata},peer:{publicKey:eE,metadata:ew.requester.metadata},controller:eE,expiry:nB(vS),authentication:em,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:ew.pairingTopic,namespaces:h$([...new Set(eC)],[...new Set(eM)]),transportType:e_},eb.addTrace(pA.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(eO,{transportType:e_})}catch(eu){throw eb.setError(pS.subscribe_authenticated_session_topic_failure),eu}eb.addTrace(pA.subscribe_authenticated_session_topic_success),await this.client.session.set(eO,ed),eb.addTrace(pA.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:ew.pairingTopic,metadata:ew.requester.metadata})}eb.addTrace(pA.publishing_authenticated_session_approve);try{await this.sendResult({topic:eS,id:eg,result:{cacaos:em,responder:{publicKey:eA,metadata:this.client.metadata}},encodeOpts:eI,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(ew.requester.metadata,e_)})}catch(eu){throw eb.setError(pS.authenticated_session_approve_publish_failure),eu}return await this.client.auth.requests.delete(eg,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:ew.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:eb.eventId}),{session:ed}}),vW(this,"rejectSessionAuthenticate",async eu=>{this.isInitialized();let{id:ed,reason:eg}=eu,em=this.getPendingAuthRequest(ed);if(!em)throw Error(`Could not find pending auth request with id ${ed}`);em.transportType===fH.relay&&await this.confirmOnlineStateOrThrow();let eb=em.requester.publicKey,ew=await this.client.core.crypto.generateKeyPair(),e_=lZ(eb),eE={type:l$,receiverPublicKey:eb,senderPublicKey:ew};await this.sendError({id:ed,topic:e_,error:eg,encodeOpts:eE,rpcOpts:vx.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(em.requester.metadata,em.transportType)}),await this.client.auth.requests.delete(ed,{message:"rejected",code:0}),await this.deleteProposal(ed)}),vW(this,"formatAuthMessage",eu=>{this.isInitialized();let{request:ed,iss:eg}=eu;return sG(ed,eg)}),vW(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(0!==this.relayMessageCache.length)for(;this.relayMessageCache.length>0;)try{let eu=this.relayMessageCache.shift();eu&&await this.onRelayMessage(eu)}catch(eu){this.client.logger.error(eu)}},50)}),vW(this,"cleanupDuplicatePairings",async eu=>{if(eu.pairingTopic)try{let ed=this.client.core.pairing.pairings.get(eu.pairingTopic),eg=this.client.core.pairing.pairings.getAll().filter(eg=>{var em,eb;return(null==(em=eg.peerMetadata)?void 0:em.url)&&(null==(eb=eg.peerMetadata)?void 0:eb.url)===eu.peer.metadata.url&&eg.topic&&eg.topic!==ed.topic});if(0===eg.length)return;this.client.logger.info(`Cleaning up ${eg.length} duplicate pairing(s)`),await Promise.all(eg.map(eu=>this.client.core.pairing.disconnect({topic:eu.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(eu){this.client.logger.error(eu)}}),vW(this,"deleteSession",async eu=>{var ed;let{topic:eg,expirerHasDeleted:em=!1,emitEvent:eb=!0,id:ew=0}=eu,{self:e_}=this.client.session.get(eg);await this.client.core.relayer.unsubscribe(eg),await this.client.session.delete(eg,hV("USER_DISCONNECTED")),this.addToRecentlyDeleted(eg,"session"),this.client.core.crypto.keychain.has(e_.publicKey)&&await this.client.core.crypto.deleteKeyPair(e_.publicKey),this.client.core.crypto.keychain.has(eg)&&await this.client.core.crypto.deleteSymKey(eg),em||this.client.core.expirer.del(eg),this.client.core.storage.removeItem(vw).catch(eu=>this.client.logger.warn(eu)),this.getPendingSessionRequests().forEach(eu=>{eu.topic===eg&&this.deletePendingSessionRequest(eu.id,hV("USER_DISCONNECTED"))}),eg===(null==(ed=this.sessionRequestQueue.queue[0])?void 0:ed.topic)&&(this.sessionRequestQueue.state=vM.idle),eb&&this.client.events.emit("session_delete",{id:ew,topic:eg})}),vW(this,"deleteProposal",async(eu,ed)=>{if(ed)try{let ed=this.client.proposal.get(eu),eg=this.client.core.eventClient.getEvent({topic:ed.pairingTopic});eg?.setError(pE.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(eu,hV("USER_DISCONNECTED")),ed?Promise.resolve():this.client.core.expirer.del(eu)]),this.addToRecentlyDeleted(eu,"proposal")}),vW(this,"deletePendingSessionRequest",async(eu,ed,eg=!1)=>{await Promise.all([this.client.pendingRequest.delete(eu,ed),eg?Promise.resolve():this.client.core.expirer.del(eu)]),this.addToRecentlyDeleted(eu,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(ed=>ed.id!==eu),eg&&(this.sessionRequestQueue.state=vM.idle,this.client.events.emit("session_request_expire",{id:eu}))}),vW(this,"deletePendingAuthRequest",async(eu,ed,eg=!1)=>{await Promise.all([this.client.auth.requests.delete(eu,ed),eg?Promise.resolve():this.client.core.expirer.del(eu)])}),vW(this,"setExpiry",async(eu,ed)=>{this.client.session.keys.includes(eu)&&(this.client.core.expirer.set(eu,ed),await this.client.session.update(eu,{expiry:ed}))}),vW(this,"setProposal",async(eu,ed)=>{this.client.core.expirer.set(eu,nB(vx.wc_sessionPropose.req.ttl)),await this.client.proposal.set(eu,ed)}),vW(this,"setAuthRequest",async(eu,ed)=>{let{request:eg,pairingTopic:em,transportType:eb=fH.relay}=ed;this.client.core.expirer.set(eu,eg.expiryTimestamp),await this.client.auth.requests.set(eu,{authPayload:eg.authPayload,requester:eg.requester,expiryTimestamp:eg.expiryTimestamp,id:eu,pairingTopic:em,verifyContext:eg.verifyContext,transportType:eb})}),vW(this,"setPendingSessionRequest",async eu=>{let{id:ed,topic:eg,params:em,verifyContext:eb}=eu,ew=em.request.expiryTimestamp||nB(vx.wc_sessionRequest.req.ttl);this.client.core.expirer.set(ed,ew),await this.client.pendingRequest.set(ed,{id:ed,topic:eg,params:em,verifyContext:eb})}),vW(this,"sendRequest",async eu=>{let ed,em;let{topic:eb,method:ew,params:e_,expiry:eE,relayRpcId:eA,clientRpcId:eS,throwOnFailedPublish:eI,appLink:eC,tvf:eM}=eu,eO=(0,fd.formatJsonRpcRequest)(ew,e_,eS),eT=!!eC;try{let eu=eT?lL:lU;ed=await this.client.core.crypto.encode(eb,eO,{encoding:eu})}catch(eu){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${eb} failed`),eu}if(vP.includes(ew)){let eu=lY(JSON.stringify(eO)),eg=lY(ed);em=await this.client.core.verify.register({id:eg,decryptedId:eu})}let eP=vx[ew].req;if(eP.attestation=em,eE&&(eP.ttl=eE),eA&&(eP.id=eA),this.client.core.history.set(eb,eO),eT){let eu=hA(eC,eb,ed);await eg.g.Linking.openURL(eu,this.client.name)}else{let eu=vx[ew].req;eE&&(eu.ttl=eE),eA&&(eu.id=eA),eu.tvf=vG(vV({},eM),{correlationId:eO.id}),eI?(eu.internal=vG(vV({},eu.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(eb,ed,eu)):this.client.core.relayer.publish(eb,ed,eu).catch(eu=>this.client.logger.error(eu))}return eO.id}),vW(this,"sendResult",async eu=>{let ed,em,eb;let{id:ew,topic:e_,result:eE,throwOnFailedPublish:eA,encodeOpts:eS,appLink:eI}=eu,eC=(0,fd.formatJsonRpcResult)(ew,eE),eM=eI&&"u">typeof(null==eg.g?void 0:eg.g.Linking);try{let eu=eM?lL:lU;ed=await this.client.core.crypto.encode(e_,eC,vG(vV({},eS||{}),{encoding:eu}))}catch(eu){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${e_} failed`),eu}try{em=await this.client.core.history.get(e_,ew);let eu=em.request;try{eb=this.getTVFParams(ew,eu.params,eE)}catch(eu){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${eu?.message}`)}}catch(eu){throw this.client.logger.error(`sendResult() -> history.get(${e_}, ${ew}) failed`),eu}if(eM){let eu=hA(eI,e_,ed);await eg.g.Linking.openURL(eu,this.client.name)}else{let eu=em.request.method,eg=vx[eu].res;eg.tvf=vG(vV({},eb),{correlationId:ew}),eA?(eg.internal=vG(vV({},eg.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(e_,ed,eg)):this.client.core.relayer.publish(e_,ed,eg).catch(eu=>this.client.logger.error(eu))}await this.client.core.history.resolve(eC)}),vW(this,"sendError",async eu=>{let ed,em;let{id:eb,topic:ew,error:e_,encodeOpts:eE,rpcOpts:eA,appLink:eS}=eu,eI=(0,fd.formatJsonRpcError)(eb,e_),eC=eS&&"u">typeof(null==eg.g?void 0:eg.g.Linking);try{let eu=eC?lL:lU;ed=await this.client.core.crypto.encode(ew,eI,vG(vV({},eE||{}),{encoding:eu}))}catch(eu){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${ew} failed`),eu}try{em=await this.client.core.history.get(ew,eb)}catch(eu){throw this.client.logger.error(`sendError() -> history.get(${ew}, ${eb}) failed`),eu}if(eC){let eu=hA(eS,ew,ed);await eg.g.Linking.openURL(eu,this.client.name)}else{let eu=em.request.method,eg=eA||vx[eu].res;this.client.core.relayer.publish(ew,ed,eg)}await this.client.core.history.resolve(eI)}),vW(this,"cleanup",async()=>{let eu=[],ed=[];this.client.session.getAll().forEach(ed=>{let eg=!1;nU(ed.expiry)&&(eg=!0),this.client.core.crypto.keychain.has(ed.topic)||(eg=!0),eg&&eu.push(ed.topic)}),this.client.proposal.getAll().forEach(eu=>{nU(eu.expiryTimestamp)&&ed.push(eu.id)}),await Promise.all([...eu.map(eu=>this.deleteSession({topic:eu})),...ed.map(eu=>this.deleteProposal(eu))])}),vW(this,"onProviderMessageEvent",async eu=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(eu):await this.onRelayMessage(eu)}),vW(this,"onRelayEventRequest",async eu=>{this.requestQueue.queue.push(eu),await this.processRequestsQueue()}),vW(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===vM.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=vM.active;let eu=this.requestQueue.queue.shift();if(eu)try{await this.processRequest(eu)}catch(eu){this.client.logger.warn(eu)}}this.requestQueue.state=vM.idle}),vW(this,"processRequest",async eu=>{let{topic:ed,payload:eg,attestation:em,transportType:eb,encryptedId:ew}=eu,e_=eg.method;if(!this.shouldIgnorePairingRequest({topic:ed,requestMethod:e_}))switch(e_){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:ed,payload:eg,attestation:em,encryptedId:ew});case"wc_sessionSettle":return await this.onSessionSettleRequest(ed,eg);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(ed,eg);case"wc_sessionExtend":return await this.onSessionExtendRequest(ed,eg);case"wc_sessionPing":return await this.onSessionPingRequest(ed,eg);case"wc_sessionDelete":return await this.onSessionDeleteRequest(ed,eg);case"wc_sessionRequest":return await this.onSessionRequest({topic:ed,payload:eg,attestation:em,encryptedId:ew,transportType:eb});case"wc_sessionEvent":return await this.onSessionEventRequest(ed,eg);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:ed,payload:eg,attestation:em,encryptedId:ew,transportType:eb});default:return this.client.logger.info(`Unsupported request method ${e_}`)}}),vW(this,"onRelayEventResponse",async eu=>{let{topic:ed,payload:eg,transportType:em}=eu,eb=(await this.client.core.history.get(ed,eg.id)).request.method;switch(eb){case"wc_sessionPropose":return this.onSessionProposeResponse(ed,eg,em);case"wc_sessionSettle":return this.onSessionSettleResponse(ed,eg);case"wc_sessionUpdate":return this.onSessionUpdateResponse(ed,eg);case"wc_sessionExtend":return this.onSessionExtendResponse(ed,eg);case"wc_sessionPing":return this.onSessionPingResponse(ed,eg);case"wc_sessionRequest":return this.onSessionRequestResponse(ed,eg);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(ed,eg);default:return this.client.logger.info(`Unsupported response method ${eb}`)}}),vW(this,"onRelayEventUnknownPayload",eu=>{let{topic:ed}=eu,{message:eg}=hH("MISSING_OR_INVALID",`Decoded payload on topic ${ed} is not identifiable as a JSON-RPC request or a response.`);throw Error(eg)}),vW(this,"shouldIgnorePairingRequest",eu=>{let{topic:ed,requestMethod:eg}=eu,em=this.expectedPairingMethodMap.get(ed);return!(!em||em.includes(eg))&&!!(em.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),vW(this,"onSessionProposeRequest",async eu=>{let{topic:ed,payload:eg,attestation:em,encryptedId:eb}=eu,{params:ew,id:e_}=eg;try{let eu=this.client.core.eventClient.getEvent({topic:ed});0===this.client.events.listenerCount("session_proposal")&&(console.warn("No listener for session_proposal event"),eu?.setError(pw.proposal_listener_not_found)),this.isValidConnect(vV({},eg.params));let eE=ew.expiryTimestamp||nB(vx.wc_sessionPropose.req.ttl),eA=vV({id:e_,pairingTopic:ed,expiryTimestamp:eE,attestation:em,encryptedId:eb},ew);await this.setProposal(e_,eA);let eS=await this.getVerifyContext({attestationId:em,hash:lY(JSON.stringify(eg)),encryptedId:eb,metadata:eA.proposer.metadata});eu?.addTrace(pv.emit_session_proposal),this.client.events.emit("session_proposal",{id:e_,params:eA,verifyContext:eS})}catch(eu){await this.sendError({id:e_,topic:ed,error:eu,rpcOpts:vx.wc_sessionPropose.autoReject}),this.client.logger.error(eu)}}),vW(this,"onSessionProposeResponse",async(eu,ed,eg)=>{let{id:em}=ed;if((0,fd.isJsonRpcResult)(ed)){let{result:eb}=ed;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:eb});let ew=this.client.proposal.get(em);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:ew});let e_=ew.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:e_});let eE=eb.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:eE});let eA=await this.client.core.crypto.generateSharedKey(e_,eE);this.pendingSessions.set(em,{sessionTopic:eA,pairingTopic:eu,proposalId:em,publicKey:e_});let eS=await this.client.core.relayer.subscribe(eA,{transportType:eg});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:eS}),await this.client.core.pairing.activate({topic:eu})}else if((0,fd.isJsonRpcError)(ed)){await this.deleteProposal(em);let eu=nL("session_connect",em);if(0===this.events.listenerCount(eu))throw Error(`emitting ${eu} without any listeners, 954`);this.events.emit(eu,{error:ed.error})}}),vW(this,"onSessionSettleRequest",async(eu,ed)=>{let{id:eg,params:em}=ed;try{this.isValidSessionSettleRequest(em);let{relay:eg,controller:eb,expiry:ew,namespaces:e_,sessionProperties:eE,scopedProperties:eA,sessionConfig:eS}=ed.params,eI=[...this.pendingSessions.values()].find(ed=>ed.sessionTopic===eu);if(!eI)return this.client.logger.error(`Pending session not found for topic ${eu}`);let eC=this.client.proposal.get(eI.proposalId),eM=vG(vV(vV(vV({topic:eu,relay:eg,expiry:ew,namespaces:e_,acknowledged:!0,pairingTopic:eI.pairingTopic,requiredNamespaces:eC.requiredNamespaces,optionalNamespaces:eC.optionalNamespaces,controller:eb.publicKey,self:{publicKey:eI.publicKey,metadata:this.client.metadata},peer:{publicKey:eb.publicKey,metadata:eb.metadata}},eE&&{sessionProperties:eE}),eA&&{scopedProperties:eA}),eS&&{sessionConfig:eS}),{transportType:fH.relay});await this.client.session.set(eM.topic,eM),await this.setExpiry(eM.topic,eM.expiry),await this.client.core.pairing.updateMetadata({topic:eI.pairingTopic,metadata:eM.peer.metadata}),this.client.events.emit("session_connect",{session:eM}),this.events.emit(nL("session_connect",eI.proposalId),{session:eM}),this.pendingSessions.delete(eI.proposalId),this.deleteProposal(eI.proposalId,!1),this.cleanupDuplicatePairings(eM),await this.sendResult({id:ed.id,topic:eu,result:!0})}catch(ed){await this.sendError({id:eg,topic:eu,error:ed}),this.client.logger.error(ed)}}),vW(this,"onSessionSettleResponse",async(eu,ed)=>{let{id:eg}=ed;(0,fd.isJsonRpcResult)(ed)?(await this.client.session.update(eu,{acknowledged:!0}),this.events.emit(nL("session_approve",eg),{})):(0,fd.isJsonRpcError)(ed)&&(await this.client.session.delete(eu,hV("USER_DISCONNECTED")),this.events.emit(nL("session_approve",eg),{error:ed.error}))}),vW(this,"onSessionUpdateRequest",async(eu,ed)=>{let{params:eg,id:em}=ed;try{let ed=`${eu}_session_update`,eb=dX.get(ed);if(eb&&this.isRequestOutOfSync(eb,em)){this.client.logger.warn(`Discarding out of sync request - ${em}`),this.sendError({id:em,topic:eu,error:hV("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(vV({topic:eu},eg));try{dX.set(ed,em),await this.client.session.update(eu,{namespaces:eg.namespaces}),await this.sendResult({id:em,topic:eu,result:!0})}catch(eu){throw dX.delete(ed),eu}this.client.events.emit("session_update",{id:em,topic:eu,params:eg})}catch(ed){await this.sendError({id:em,topic:eu,error:ed}),this.client.logger.error(ed)}}),vW(this,"isRequestOutOfSync",(eu,ed)=>ed.toString().slice(0,-3)<eu.toString().slice(0,-3)),vW(this,"onSessionUpdateResponse",(eu,ed)=>{let{id:eg}=ed,em=nL("session_update",eg);if(0===this.events.listenerCount(em))throw Error(`emitting ${em} without any listeners`);(0,fd.isJsonRpcResult)(ed)?this.events.emit(nL("session_update",eg),{}):(0,fd.isJsonRpcError)(ed)&&this.events.emit(nL("session_update",eg),{error:ed.error})}),vW(this,"onSessionExtendRequest",async(eu,ed)=>{let{id:eg}=ed;try{this.isValidExtend({topic:eu}),await this.setExpiry(eu,nB(vS)),await this.sendResult({id:eg,topic:eu,result:!0}),this.client.events.emit("session_extend",{id:eg,topic:eu})}catch(ed){await this.sendError({id:eg,topic:eu,error:ed}),this.client.logger.error(ed)}}),vW(this,"onSessionExtendResponse",(eu,ed)=>{let{id:eg}=ed,em=nL("session_extend",eg);if(0===this.events.listenerCount(em))throw Error(`emitting ${em} without any listeners`);(0,fd.isJsonRpcResult)(ed)?this.events.emit(nL("session_extend",eg),{}):(0,fd.isJsonRpcError)(ed)&&this.events.emit(nL("session_extend",eg),{error:ed.error})}),vW(this,"onSessionPingRequest",async(eu,ed)=>{let{id:eg}=ed;try{this.isValidPing({topic:eu}),await this.sendResult({id:eg,topic:eu,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:eg,topic:eu})}catch(ed){await this.sendError({id:eg,topic:eu,error:ed}),this.client.logger.error(ed)}}),vW(this,"onSessionPingResponse",(eu,ed)=>{let{id:eg}=ed,em=nL("session_ping",eg);setTimeout(()=>{if(0===this.events.listenerCount(em))throw Error(`emitting ${em} without any listeners 2176`);(0,fd.isJsonRpcResult)(ed)?this.events.emit(nL("session_ping",eg),{}):(0,fd.isJsonRpcError)(ed)&&this.events.emit(nL("session_ping",eg),{error:ed.error})},500)}),vW(this,"onSessionDeleteRequest",async(eu,ed)=>{let{id:eg}=ed;try{this.isValidDisconnect({topic:eu,reason:ed.params}),Promise.all([new Promise(ed=>{this.client.core.relayer.once(fF.publish,async()=>{ed(await this.deleteSession({topic:eu,id:eg}))})}),this.sendResult({id:eg,topic:eu,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:eu,error:hV("USER_DISCONNECTED")})]).catch(eu=>this.client.logger.error(eu))}catch(eu){this.client.logger.error(eu)}}),vW(this,"onSessionRequest",async eu=>{var ed,eg,em;let{topic:eb,payload:ew,attestation:e_,encryptedId:eE,transportType:eA}=eu,{id:eS,params:eI}=ew;try{await this.isValidRequest(vV({topic:eb},eI));let eu=this.client.session.get(eb),ew=await this.getVerifyContext({attestationId:e_,hash:lY(JSON.stringify((0,fd.formatJsonRpcRequest)("wc_sessionRequest",eI,eS))),encryptedId:eE,metadata:eu.peer.metadata,transportType:eA}),eC={id:eS,topic:eb,params:eI,verifyContext:ew};await this.setPendingSessionRequest(eC),eA===fH.link_mode&&null!=(ed=eu.peer.metadata.redirect)&&ed.universal&&this.client.core.addLinkModeSupportedApp(null==(eg=eu.peer.metadata.redirect)?void 0:eg.universal),null!=(em=this.client.signConfig)&&em.disableRequestQueue?this.emitSessionRequest(eC):(this.addSessionRequestToSessionRequestQueue(eC),this.processSessionRequestQueue())}catch(eu){await this.sendError({id:eS,topic:eb,error:eu}),this.client.logger.error(eu)}}),vW(this,"onSessionRequestResponse",(eu,ed)=>{let{id:eg}=ed,em=nL("session_request",eg);if(0===this.events.listenerCount(em))throw Error(`emitting ${em} without any listeners`);(0,fd.isJsonRpcResult)(ed)?this.events.emit(nL("session_request",eg),{result:ed.result}):(0,fd.isJsonRpcError)(ed)&&this.events.emit(nL("session_request",eg),{error:ed.error})}),vW(this,"onSessionEventRequest",async(eu,ed)=>{let{id:eg,params:em}=ed;try{let ed=`${eu}_session_event_${em.event.name}`,eb=dX.get(ed);if(eb&&this.isRequestOutOfSync(eb,eg)){this.client.logger.info(`Discarding out of sync request - ${eg}`);return}this.isValidEmit(vV({topic:eu},em)),this.client.events.emit("session_event",{id:eg,topic:eu,params:em}),dX.set(ed,eg)}catch(ed){await this.sendError({id:eg,topic:eu,error:ed}),this.client.logger.error(ed)}}),vW(this,"onSessionAuthenticateResponse",(eu,ed)=>{let{id:eg}=ed;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:eu,payload:ed}),(0,fd.isJsonRpcResult)(ed)?this.events.emit(nL("session_request",eg),{result:ed.result}):(0,fd.isJsonRpcError)(ed)&&this.events.emit(nL("session_request",eg),{error:ed.error})}),vW(this,"onSessionAuthenticateRequest",async eu=>{var ed;let{topic:eg,payload:em,attestation:eb,encryptedId:ew,transportType:e_}=eu;try{let{requester:eu,authPayload:eE,expiryTimestamp:eA}=em.params,eS=await this.getVerifyContext({attestationId:eb,hash:lY(JSON.stringify(em)),encryptedId:ew,metadata:eu.metadata,transportType:e_}),eI={requester:eu,pairingTopic:eg,id:em.id,authPayload:eE,verifyContext:eS,expiryTimestamp:eA};await this.setAuthRequest(em.id,{request:eI,pairingTopic:eg,transportType:e_}),e_===fH.link_mode&&null!=(ed=eu.metadata.redirect)&&ed.universal&&this.client.core.addLinkModeSupportedApp(eu.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:eg,params:em.params,id:em.id,verifyContext:eS})}catch(eE){this.client.logger.error(eE);let eu=em.params.requester.publicKey,ed=await this.client.core.crypto.generateKeyPair(),eb=this.getAppLinkIfEnabled(em.params.requester.metadata,e_),ew={type:l$,receiverPublicKey:eu,senderPublicKey:ed};await this.sendError({id:em.id,topic:eg,error:eE,encodeOpts:ew,rpcOpts:vx.wc_sessionAuthenticate.autoReject,appLink:eb})}}),vW(this,"addSessionRequestToSessionRequestQueue",eu=>{this.sessionRequestQueue.queue.push(eu)}),vW(this,"cleanupAfterResponse",eu=>{this.deletePendingSessionRequest(eu.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=vM.idle,this.processSessionRequestQueue()},(0,eJ.toMiliseconds)(this.requestQueueDelay))}),vW(this,"cleanupPendingSentRequestsForTopic",({topic:eu,error:ed})=>{let eg=this.client.core.history.pending;eg.length>0&&eg.filter(ed=>ed.topic===eu&&"wc_sessionRequest"===ed.request.method).forEach(eu=>{let eg=eu.request.id,em=nL("session_request",eg);if(0===this.events.listenerCount(em))throw Error(`emitting ${em} without any listeners`);this.events.emit(nL("session_request",eu.request.id),{error:ed})})}),vW(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===vM.active){this.client.logger.info("session request queue is already active.");return}let eu=this.sessionRequestQueue.queue[0];if(!eu){this.client.logger.info("session request queue is empty.");return}try{this.emitSessionRequest(eu)}catch(eu){this.client.logger.error(eu)}}),vW(this,"emitSessionRequest",eu=>{if(this.emittedSessionRequests.has(eu.id)){this.client.logger.warn({id:eu.id},`Skipping emitting \`session_request\` event for duplicate request. id: ${eu.id}`);return}this.sessionRequestQueue.state=vM.active,this.emittedSessionRequests.add(eu.id),this.client.events.emit("session_request",eu)}),vW(this,"onPairingCreated",eu=>{if(eu.methods&&this.expectedPairingMethodMap.set(eu.topic,eu.methods),eu.active)return;let ed=this.client.proposal.getAll().find(ed=>ed.pairingTopic===eu.topic);ed&&this.onSessionProposeRequest({topic:eu.topic,payload:(0,fd.formatJsonRpcRequest)("wc_sessionPropose",vG(vV({},ed),{requiredNamespaces:ed.requiredNamespaces,optionalNamespaces:ed.optionalNamespaces,relays:ed.relays,proposer:ed.proposer,sessionProperties:ed.sessionProperties,scopedProperties:ed.scopedProperties}),ed.id),attestation:ed.attestation,encryptedId:ed.encryptedId})}),vW(this,"isValidConnect",async eu=>{if(!dT(eu)){let{message:ed}=hH("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(eu)}`);throw Error(ed)}let{pairingTopic:ed,requiredNamespaces:eg,optionalNamespaces:em,sessionProperties:eb,scopedProperties:ew,relays:e_}=eu;if(hJ(ed)||await this.isValidPairingTopic(ed),!dM(e_,!0)){let{message:eu}=hH("MISSING_OR_INVALID",`connect() relays: ${e_}`);throw Error(eu)}if(!hJ(eg)&&0!==hW(eg)){let eu="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(eu):this.client.logger.warn(eu),this.validateNamespaces(eg,"requiredNamespaces")}if(hJ(em)||0===hW(em)||this.validateNamespaces(em,"optionalNamespaces"),hJ(eb)||this.validateSessionProps(eb,"sessionProperties"),!hJ(ew)){this.validateSessionProps(ew,"scopedProperties");let eu=Object.keys(eg||{}).concat(Object.keys(em||{}));if(!Object.keys(ew).every(ed=>eu.includes(ed.split(":")[0])))throw Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(ew)}, required/optional namespaces: ${JSON.stringify(eu)}`)}}),vW(this,"validateNamespaces",(eu,ed)=>{let eg=dI(eu,"connect()",ed);if(eg)throw Error(eg.message)}),vW(this,"isValidApprove",async eu=>{if(!dT(eu))throw Error(hH("MISSING_OR_INVALID",`approve() params: ${eu}`).message);let{id:ed,namespaces:eg,relayProtocol:em,sessionProperties:eb,scopedProperties:ew}=eu;this.checkRecentlyDeleted(ed),await this.isValidProposalId(ed);let e_=this.client.proposal.get(ed),eE=dx(eg,"approve()");if(eE)throw Error(eE.message);let eA=dL(e_.requiredNamespaces,eg,"approve()");if(eA)throw Error(eA.message);if(!hZ(em,!0)){let{message:eu}=hH("MISSING_OR_INVALID",`approve() relayProtocol: ${em}`);throw Error(eu)}if(hJ(eb)||this.validateSessionProps(eb,"sessionProperties"),!hJ(ew)){this.validateSessionProps(ew,"scopedProperties");let eu=new Set(Object.keys(eg));if(!Object.keys(ew).every(ed=>eu.has(ed.split(":")[0])))throw Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(ew)}, approved namespaces: ${Array.from(eu).join(", ")}`)}}),vW(this,"isValidReject",async eu=>{if(!dT(eu)){let{message:ed}=hH("MISSING_OR_INVALID",`reject() params: ${eu}`);throw Error(ed)}let{id:ed,reason:eg}=eu;if(this.checkRecentlyDeleted(ed),await this.isValidProposalId(ed),!dP(eg)){let{message:eu}=hH("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(eg)}`);throw Error(eu)}}),vW(this,"isValidSessionSettleRequest",eu=>{if(!dT(eu)){let{message:ed}=hH("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${eu}`);throw Error(ed)}let{relay:ed,controller:eg,namespaces:em,expiry:eb}=eu;if(!dC(ed)){let{message:eu}=hH("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw Error(eu)}let ew=dg(eg,"onSessionSettleRequest()");if(ew)throw Error(ew.message);let e_=dx(em,"onSessionSettleRequest()");if(e_)throw Error(e_.message);if(nU(eb)){let{message:eu}=hH("EXPIRED","onSessionSettleRequest()");throw Error(eu)}}),vW(this,"isValidUpdate",async eu=>{if(!dT(eu)){let{message:ed}=hH("MISSING_OR_INVALID",`update() params: ${eu}`);throw Error(ed)}let{topic:ed,namespaces:eg}=eu;this.checkRecentlyDeleted(ed),await this.isValidSessionTopic(ed);let em=this.client.session.get(ed),eb=dx(eg,"update()");if(eb)throw Error(eb.message);let ew=dL(em.requiredNamespaces,eg,"update()");if(ew)throw Error(ew.message)}),vW(this,"isValidExtend",async eu=>{if(!dT(eu)){let{message:ed}=hH("MISSING_OR_INVALID",`extend() params: ${eu}`);throw Error(ed)}let{topic:ed}=eu;this.checkRecentlyDeleted(ed),await this.isValidSessionTopic(ed)}),vW(this,"isValidRequest",async eu=>{if(!dT(eu)){let{message:ed}=hH("MISSING_OR_INVALID",`request() params: ${eu}`);throw Error(ed)}let{topic:ed,request:eg,chainId:em,expiry:eb}=eu;this.checkRecentlyDeleted(ed),await this.isValidSessionTopic(ed);let{namespaces:ew}=this.client.session.get(ed);if(!dD(ew,em)){let{message:eu}=hH("MISSING_OR_INVALID",`request() chainId: ${em}`);throw Error(eu)}if(!dN(eg)){let{message:eu}=hH("MISSING_OR_INVALID",`request() ${JSON.stringify(eg)}`);throw Error(eu)}if(!dB(ew,em,eg.method)){let{message:eu}=hH("MISSING_OR_INVALID",`request() method: ${eg.method}`);throw Error(eu)}if(eb&&!dK(eb,vC)){let{message:eu}=hH("MISSING_OR_INVALID",`request() expiry: ${eb}. Expiry must be a number (in seconds) between ${vC.min} and ${vC.max}`);throw Error(eu)}}),vW(this,"isValidRespond",async eu=>{var ed;if(!dT(eu)){let{message:ed}=hH("MISSING_OR_INVALID",`respond() params: ${eu}`);throw Error(ed)}let{topic:eg,response:em}=eu;try{await this.isValidSessionTopic(eg)}catch(eg){throw null!=(ed=eu?.response)&&ed.id&&this.cleanupAfterResponse(eu),eg}if(!dk(em)){let{message:eu}=hH("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(em)}`);throw Error(eu)}}),vW(this,"isValidPing",async eu=>{if(!dT(eu)){let{message:ed}=hH("MISSING_OR_INVALID",`ping() params: ${eu}`);throw Error(ed)}let{topic:ed}=eu;await this.isValidSessionOrPairingTopic(ed)}),vW(this,"isValidEmit",async eu=>{if(!dT(eu)){let{message:ed}=hH("MISSING_OR_INVALID",`emit() params: ${eu}`);throw Error(ed)}let{topic:ed,event:eg,chainId:em}=eu;await this.isValidSessionTopic(ed);let{namespaces:eb}=this.client.session.get(ed);if(!dD(eb,em)){let{message:eu}=hH("MISSING_OR_INVALID",`emit() chainId: ${em}`);throw Error(eu)}if(!dR(eg)){let{message:eu}=hH("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(eg)}`);throw Error(eu)}if(!dU(eb,em,eg.name)){let{message:eu}=hH("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(eg)}`);throw Error(eu)}}),vW(this,"isValidDisconnect",async eu=>{if(!dT(eu)){let{message:ed}=hH("MISSING_OR_INVALID",`disconnect() params: ${eu}`);throw Error(ed)}let{topic:ed}=eu;await this.isValidSessionOrPairingTopic(ed)}),vW(this,"isValidAuthenticate",eu=>{let{chains:ed,uri:eg,domain:em,nonce:eb}=eu;if(!Array.isArray(ed)||0===ed.length)throw Error("chains is required and must be a non-empty array");if(!hZ(eg,!1))throw Error("uri is required parameter");if(!hZ(em,!1))throw Error("domain is required parameter");if(!hZ(eb,!1))throw Error("nonce is required parameter");if([...new Set(ed.map(eu=>rz(eu).namespace))].length>1)throw Error("Multi-namespace requests are not supported. Please request single namespace only.");let{namespace:ew}=rz(ed[0]);if("eip155"!==ew)throw Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),vW(this,"getVerifyContext",async eu=>{let{attestationId:ed,hash:eg,encryptedId:em,metadata:eb,transportType:ew}=eu,e_={verified:{verifyUrl:eb.verifyUrl||pd,validation:"UNKNOWN",origin:eb.url||""}};try{if(ew===fH.link_mode){let eu=this.getAppLinkIfEnabled(eb,ew);return e_.verified.validation=eu&&new URL(eu).origin===new URL(eb.url).origin?"VALID":"INVALID",e_}let eu=await this.client.core.verify.resolve({attestationId:ed,hash:eg,encryptedId:em,verifyUrl:eb.verifyUrl});eu&&(e_.verified.origin=eu.origin,e_.verified.isScam=eu.isScam,e_.verified.validation=eu.origin===new URL(eb.url).origin?"VALID":"INVALID")}catch(eu){this.client.logger.warn(eu)}return this.client.logger.debug(`Verify context: ${JSON.stringify(e_)}`),e_}),vW(this,"validateSessionProps",(eu,ed)=>{Object.values(eu).forEach((eg,em)=>{if(null==eg){let{message:eb}=hH("MISSING_OR_INVALID",`${ed} must contain an existing value for each key. Received: ${eg} for key ${Object.keys(eu)[em]}`);throw Error(eb)}})}),vW(this,"getPendingAuthRequest",eu=>{let ed=this.client.auth.requests.get(eu);return"object"==typeof ed?ed:void 0}),vW(this,"addToRecentlyDeleted",(eu,ed)=>{if(this.recentlyDeletedMap.set(eu,ed),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let eu=0,ed=this.recentlyDeletedLimit/2;for(let eg of this.recentlyDeletedMap.keys()){if(eu++>=ed)break;this.recentlyDeletedMap.delete(eg)}}}),vW(this,"checkRecentlyDeleted",eu=>{let ed=this.recentlyDeletedMap.get(eu);if(ed){let{message:eg}=hH("MISSING_OR_INVALID",`Record was recently deleted - ${ed}: ${eu}`);throw Error(eg)}}),vW(this,"isLinkModeEnabled",(eu,ed)=>{var em,eb,ew,e_,eE,eA,eS,eI,eC;return!!eu&&ed===fH.link_mode&&(null==(eb=null==(em=this.client.metadata)?void 0:em.redirect)?void 0:eb.linkMode)===!0&&(null==(e_=null==(ew=this.client.metadata)?void 0:ew.redirect)?void 0:e_.universal)!==void 0&&(null==(eA=null==(eE=this.client.metadata)?void 0:eE.redirect)?void 0:eA.universal)!==""&&(null==(eS=eu?.redirect)?void 0:eS.universal)!==void 0&&(null==(eI=eu?.redirect)?void 0:eI.universal)!==""&&(null==(eC=eu?.redirect)?void 0:eC.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(eu.redirect.universal)&&"u">typeof(null==eg.g?void 0:eg.g.Linking)}),vW(this,"getAppLinkIfEnabled",(eu,ed)=>{var eg;return this.isLinkModeEnabled(eu,ed)?null==(eg=eu?.redirect)?void 0:eg.universal:void 0}),vW(this,"handleLinkModeMessage",({url:eu})=>{if(!eu||!eu.includes("wc_ev")||!eu.includes("topic"))return;let ed=nH(eu,"topic")||"",eg=decodeURIComponent(nH(eu,"wc_ev")||""),em=this.client.session.keys.includes(ed);em&&this.client.session.update(ed,{transportType:fH.link_mode}),this.client.core.dispatchEnvelope({topic:ed,message:eg,sessionExists:em})}),vW(this,"registerLinkModeListeners",async()=>{var eu;if(nG()||r7()&&null!=(eu=this.client.metadata.redirect)&&eu.linkMode){let eu=null==eg.g?void 0:eg.g.Linking;if("u">typeof eu){eu.addEventListener("url",this.handleLinkModeMessage,this.client.name);let ed=await eu.getInitialURL();ed&&setTimeout(()=>{this.handleLinkModeMessage({url:ed})},50)}}}),vW(this,"getTVFParams",(eu,ed,eg)=>{var em,eb,ew;if(!(null!=(em=ed.request)&&em.method))return{};let e_={correlationId:eu,rpcMethods:[ed.request.method],chainId:ed.chainId};try{let eu=this.extractTxHashesFromResult(ed.request,eg);e_.txHashes=eu,e_.contractAddresses=this.isValidContractData(ed.request.params)?[null==(ew=null==(eb=ed.request.params)?void 0:eb[0])?void 0:ew.to]:[]}catch(eu){this.client.logger.warn("Error getting TVF params",eu)}return e_}),vW(this,"isValidContractData",eu=>{var ed;if(!eu)return!1;try{let eg=eu?.data||(null==(ed=eu?.[0])?void 0:ed.data);if(!eg.startsWith("0x"))return!1;let em=eg.slice(2);return!!/^[0-9a-fA-F]*$/.test(em)&&em.length%2==0}catch{}return!1}),vW(this,"extractTxHashesFromResult",(eu,ed)=>{var eg;try{if(!ed)return[];let em=eu.method,eb=vO[em];if("sui_signTransaction"===em)return[sI(ed.transactionBytes)];if("near_signTransaction"===em)return[sC(ed)];if("near_signTransactions"===em)return ed.map(eu=>sC(eu));if("xrpl_signTransactionFor"===em||"xrpl_signTransaction"===em)return[null==(eg=ed.tx_json)?void 0:eg.hash];if("polkadot_signTransaction"===em)return[d7({transaction:eu.params.transactionPayload,signature:ed.signature})];if("algo_signTxn"===em)return hG(ed)?ed.map(eu=>sO(eu)):[sO(ed)];if("cosmos_signDirect"===em)return[sP(ed)];if("string"==typeof ed)return[ed];let ew=ed[eb.key];if(hG(ew))return"solana_signAllTransactions"===em?ew.map(eu=>sS(eu)):ew;if("string"==typeof ew)return[ew]}catch(eu){this.client.logger.warn("Error extracting tx hashes from result",eu)}return[]})}async processPendingMessageEvents(){try{let eu=this.client.session.keys,ed=this.client.core.relayer.messages.getWithoutAck(eu);for(let[eu,eg]of Object.entries(ed))for(let ed of eg)try{await this.onProviderMessageEvent({topic:eu,message:ed,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${eu}, message: ${ed}`)}}catch(eu){this.client.logger.warn("processPendingMessageEvents failed",eu)}}isInitialized(){if(!this.initialized){let{message:eu}=hH("NOT_INITIALIZED",this.name);throw Error(eu)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(fF.message,eu=>{this.onProviderMessageEvent(eu)})}async onRelayMessage(eu){let{topic:ed,message:eg,attestation:em,transportType:eb}=eu,{publicKey:ew}=this.client.auth.authKeys.keys.includes(vL)?this.client.auth.authKeys.get(vL):{responseTopic:void 0,publicKey:void 0};try{let eu=await this.client.core.crypto.decode(ed,eg,{receiverPublicKey:ew,encoding:eb===fH.link_mode?lL:lU});(0,fd.isJsonRpcRequest)(eu)?(this.client.core.history.set(ed,eu),await this.onRelayEventRequest({topic:ed,payload:eu,attestation:em,transportType:eb,encryptedId:lY(eg)})):(0,fd.isJsonRpcResponse)(eu)?(await this.client.core.history.resolve(eu),await this.onRelayEventResponse({topic:ed,payload:eu,transportType:eb}),this.client.core.history.delete(ed,eu.id)):await this.onRelayEventUnknownPayload({topic:ed,payload:eu,transportType:eb}),await this.client.core.relayer.messages.ack(ed,eg)}catch(eu){this.client.logger.error(eu)}}registerExpirerEvents(){this.client.core.expirer.on(f4.expired,async eu=>{let{topic:ed,id:eg}=nD(eu.target);return eg&&this.client.pendingRequest.keys.includes(eg)?await this.deletePendingSessionRequest(eg,hH("EXPIRED"),!0):eg&&this.client.auth.requests.keys.includes(eg)?await this.deletePendingAuthRequest(eg,hH("EXPIRED"),!0):void(ed?this.client.session.keys.includes(ed)&&(await this.deleteSession({topic:ed,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:ed})):eg&&(await this.deleteProposal(eg,!0),this.client.events.emit("proposal_expire",{id:eg})))})}registerPairingEvents(){this.client.core.pairing.events.on(f2.create,eu=>this.onPairingCreated(eu)),this.client.core.pairing.events.on(f2.delete,eu=>{this.addToRecentlyDeleted(eu.topic,"pairing")})}isValidPairingTopic(eu){if(!hZ(eu,!1)){let{message:ed}=hH("MISSING_OR_INVALID",`pairing topic should be a string: ${eu}`);throw Error(ed)}if(!this.client.core.pairing.pairings.keys.includes(eu)){let{message:ed}=hH("NO_MATCHING_KEY",`pairing topic doesn't exist: ${eu}`);throw Error(ed)}if(nU(this.client.core.pairing.pairings.get(eu).expiry)){let{message:ed}=hH("EXPIRED",`pairing topic: ${eu}`);throw Error(ed)}}async isValidSessionTopic(eu){if(!hZ(eu,!1)){let{message:ed}=hH("MISSING_OR_INVALID",`session topic should be a string: ${eu}`);throw Error(ed)}if(this.checkRecentlyDeleted(eu),!this.client.session.keys.includes(eu)){let{message:ed}=hH("NO_MATCHING_KEY",`session topic doesn't exist: ${eu}`);throw Error(ed)}if(nU(this.client.session.get(eu).expiry)){await this.deleteSession({topic:eu});let{message:ed}=hH("EXPIRED",`session topic: ${eu}`);throw Error(ed)}if(!this.client.core.crypto.keychain.has(eu)){let{message:ed}=hH("MISSING_OR_INVALID",`session topic does not exist in keychain: ${eu}`);throw await this.deleteSession({topic:eu}),Error(ed)}}async isValidSessionOrPairingTopic(eu){if(this.checkRecentlyDeleted(eu),this.client.session.keys.includes(eu))await this.isValidSessionTopic(eu);else if(this.client.core.pairing.pairings.keys.includes(eu))this.isValidPairingTopic(eu);else if(hZ(eu,!1)){let{message:ed}=hH("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${eu}`);throw Error(ed)}else{let{message:ed}=hH("MISSING_OR_INVALID",`session or pairing topic should be a string: ${eu}`);throw Error(ed)}}async isValidProposalId(eu){if(!dO(eu)){let{message:ed}=hH("MISSING_OR_INVALID",`proposal id should be a number: ${eu}`);throw Error(ed)}if(!this.client.proposal.keys.includes(eu)){let{message:ed}=hH("NO_MATCHING_KEY",`proposal id doesn't exist: ${eu}`);throw Error(ed)}if(nU(this.client.proposal.get(eu).expiryTimestamp)){await this.deleteProposal(eu);let{message:ed}=hH("EXPIRED",`proposal id: ${eu}`);throw Error(ed)}}}class vZ extends bE{constructor(eu,ed){super(eu,ed,v_,vb),this.core=eu,this.logger=ed}}class vY extends bE{constructor(eu,ed){super(eu,ed,vA,vb),this.core=eu,this.logger=ed}}class vX extends bE{constructor(eu,ed){super(eu,ed,vT,vb,eu=>eu.id),this.core=eu,this.logger=ed}}class vQ extends bE{constructor(eu,ed){super(eu,ed,vR,vU,()=>vL),this.core=eu,this.logger=ed}}class v0 extends bE{constructor(eu,ed){super(eu,ed,vD,vU),this.core=eu,this.logger=ed}}class v6 extends bE{constructor(eu,ed){super(eu,ed,vB,vU,eu=>eu.id),this.core=eu,this.logger=ed}}var v8=Object.defineProperty,v5=(eu,ed,eg)=>ed in eu?v8(eu,ed,{enumerable:!0,configurable:!0,writable:!0,value:eg}):eu[ed]=eg,v4=(eu,ed,eg)=>v5(eu,"symbol"!=typeof ed?ed+"":ed,eg);class v9{constructor(eu,ed){this.core=eu,this.logger=ed,v4(this,"authKeys"),v4(this,"pairingTopics"),v4(this,"requests"),this.authKeys=new vQ(this.core,this.logger),this.pairingTopics=new v0(this.core,this.logger),this.requests=new v6(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var wu=Object.defineProperty,wd=(eu,ed,eg)=>ed in eu?wu(eu,ed,{enumerable:!0,configurable:!0,writable:!0,value:eg}):eu[ed]=eg,wf=(eu,ed,eg)=>wd(eu,"symbol"!=typeof ed?ed+"":ed,eg);class wp extends eG{constructor(eu){super(eu),wf(this,"protocol",vg),wf(this,"version",vy),wf(this,"name",vv.name),wf(this,"metadata"),wf(this,"core"),wf(this,"logger"),wf(this,"events",new em.EventEmitter),wf(this,"engine"),wf(this,"session"),wf(this,"proposal"),wf(this,"pendingRequest"),wf(this,"auth"),wf(this,"signConfig"),wf(this,"on",(eu,ed)=>this.events.on(eu,ed)),wf(this,"once",(eu,ed)=>this.events.once(eu,ed)),wf(this,"off",(eu,ed)=>this.events.off(eu,ed)),wf(this,"removeListener",(eu,ed)=>this.events.removeListener(eu,ed)),wf(this,"removeAllListeners",eu=>this.events.removeAllListeners(eu)),wf(this,"connect",async eu=>{try{return await this.engine.connect(eu)}catch(eu){throw this.logger.error(eu.message),eu}}),wf(this,"pair",async eu=>{try{return await this.engine.pair(eu)}catch(eu){throw this.logger.error(eu.message),eu}}),wf(this,"approve",async eu=>{try{return await this.engine.approve(eu)}catch(eu){throw this.logger.error(eu.message),eu}}),wf(this,"reject",async eu=>{try{return await this.engine.reject(eu)}catch(eu){throw this.logger.error(eu.message),eu}}),wf(this,"update",async eu=>{try{return await this.engine.update(eu)}catch(eu){throw this.logger.error(eu.message),eu}}),wf(this,"extend",async eu=>{try{return await this.engine.extend(eu)}catch(eu){throw this.logger.error(eu.message),eu}}),wf(this,"request",async eu=>{try{return await this.engine.request(eu)}catch(eu){throw this.logger.error(eu.message),eu}}),wf(this,"respond",async eu=>{try{return await this.engine.respond(eu)}catch(eu){throw this.logger.error(eu.message),eu}}),wf(this,"ping",async eu=>{try{return await this.engine.ping(eu)}catch(eu){throw this.logger.error(eu.message),eu}}),wf(this,"emit",async eu=>{try{return await this.engine.emit(eu)}catch(eu){throw this.logger.error(eu.message),eu}}),wf(this,"disconnect",async eu=>{try{return await this.engine.disconnect(eu)}catch(eu){throw this.logger.error(eu.message),eu}}),wf(this,"find",eu=>{try{return this.engine.find(eu)}catch(eu){throw this.logger.error(eu.message),eu}}),wf(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(eu){throw this.logger.error(eu.message),eu}}),wf(this,"authenticate",async(eu,ed)=>{try{return await this.engine.authenticate(eu,ed)}catch(eu){throw this.logger.error(eu.message),eu}}),wf(this,"formatAuthMessage",eu=>{try{return this.engine.formatAuthMessage(eu)}catch(eu){throw this.logger.error(eu.message),eu}}),wf(this,"approveSessionAuthenticate",async eu=>{try{return await this.engine.approveSessionAuthenticate(eu)}catch(eu){throw this.logger.error(eu.message),eu}}),wf(this,"rejectSessionAuthenticate",async eu=>{try{return await this.engine.rejectSessionAuthenticate(eu)}catch(eu){throw this.logger.error(eu.message),eu}}),this.name=eu?.name||vv.name,this.metadata=nw(eu?.metadata),this.signConfig=eu?.signConfig;let ed="u">typeof eu?.logger&&"string"!=typeof eu?.logger?eu.logger:(0,eE.gw)((0,eE.jI)({level:eu?.logger||vv.logger}));this.core=eu?.core||new vp(eu),this.logger=(0,eE.Ep)(ed,this.name),this.session=new vY(this.core,this.logger),this.proposal=new vZ(this.core,this.logger),this.pendingRequest=new vX(this.core,this.logger),this.engine=new vJ(this),this.auth=new v9(this.core,this.logger)}static async init(eu){let ed=new wp(eu);return await ed.initialize(),ed}get context(){return(0,eE.Fd)(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success")}catch(eu){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(eu.message),eu}}}},27025:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0});let em=eg(52388);em.__exportStar(eg(9567),ed),em.__exportStar(eg(16994),ed)},9567:function(eu,ed){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.ONE_THOUSAND=ed.ONE_HUNDRED=void 0,ed.ONE_HUNDRED=100,ed.ONE_THOUSAND=1e3},16994:function(eu,ed){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.ONE_YEAR=ed.FOUR_WEEKS=ed.THREE_WEEKS=ed.TWO_WEEKS=ed.ONE_WEEK=ed.THIRTY_DAYS=ed.SEVEN_DAYS=ed.FIVE_DAYS=ed.THREE_DAYS=ed.ONE_DAY=ed.TWENTY_FOUR_HOURS=ed.TWELVE_HOURS=ed.SIX_HOURS=ed.THREE_HOURS=ed.ONE_HOUR=ed.SIXTY_MINUTES=ed.THIRTY_MINUTES=ed.TEN_MINUTES=ed.FIVE_MINUTES=ed.ONE_MINUTE=ed.SIXTY_SECONDS=ed.THIRTY_SECONDS=ed.TEN_SECONDS=ed.FIVE_SECONDS=ed.ONE_SECOND=void 0,ed.ONE_SECOND=1,ed.FIVE_SECONDS=5,ed.TEN_SECONDS=10,ed.THIRTY_SECONDS=30,ed.SIXTY_SECONDS=60,ed.ONE_MINUTE=ed.SIXTY_SECONDS,ed.FIVE_MINUTES=5*ed.ONE_MINUTE,ed.TEN_MINUTES=10*ed.ONE_MINUTE,ed.THIRTY_MINUTES=30*ed.ONE_MINUTE,ed.SIXTY_MINUTES=60*ed.ONE_MINUTE,ed.ONE_HOUR=ed.SIXTY_MINUTES,ed.THREE_HOURS=3*ed.ONE_HOUR,ed.SIX_HOURS=6*ed.ONE_HOUR,ed.TWELVE_HOURS=12*ed.ONE_HOUR,ed.TWENTY_FOUR_HOURS=24*ed.ONE_HOUR,ed.ONE_DAY=ed.TWENTY_FOUR_HOURS,ed.THREE_DAYS=3*ed.ONE_DAY,ed.FIVE_DAYS=5*ed.ONE_DAY,ed.SEVEN_DAYS=7*ed.ONE_DAY,ed.THIRTY_DAYS=30*ed.ONE_DAY,ed.ONE_WEEK=ed.SEVEN_DAYS,ed.TWO_WEEKS=2*ed.ONE_WEEK,ed.THREE_WEEKS=3*ed.ONE_WEEK,ed.FOUR_WEEKS=4*ed.ONE_WEEK,ed.ONE_YEAR=365*ed.ONE_DAY},10666:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0});let em=eg(52388);em.__exportStar(eg(88914),ed),em.__exportStar(eg(1415),ed),em.__exportStar(eg(28580),ed),em.__exportStar(eg(27025),ed)},28580:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0});let em=eg(52388);em.__exportStar(eg(5955),ed)},5955:function(eu,ed){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.IWatch=void 0;class eg{}ed.IWatch=eg},5492:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.fromMiliseconds=ed.toMiliseconds=void 0;let em=eg(27025);function eb(eu){return eu*em.ONE_THOUSAND}function ew(eu){return Math.floor(eu/em.ONE_THOUSAND)}ed.toMiliseconds=eb,ed.fromMiliseconds=ew},64539:function(eu,ed){"use strict";function eg(eu){return new Promise(ed=>{setTimeout(()=>{ed(!0)},eu)})}Object.defineProperty(ed,"__esModule",{value:!0}),ed.delay=void 0,ed.delay=eg},88914:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0});let em=eg(52388);em.__exportStar(eg(64539),ed),em.__exportStar(eg(5492),ed)},1415:function(eu,ed){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.Watch=void 0;class eg{constructor(){this.timestamps=new Map}start(eu){if(this.timestamps.has(eu))throw Error(`Watch already started for label: ${eu}`);this.timestamps.set(eu,{started:Date.now()})}stop(eu){let ed=this.get(eu);if(void 0!==ed.elapsed)throw Error(`Watch already stopped for label: ${eu}`);let eg=Date.now()-ed.started;this.timestamps.set(eu,{started:ed.started,elapsed:eg})}get(eu){let ed=this.timestamps.get(eu);if(void 0===ed)throw Error(`No timestamp found for label: ${eu}`);return ed}elapsed(eu){let ed=this.get(eu),eg=ed.elapsed||Date.now()-ed.started;return eg}}ed.Watch=eg,ed.default=eg},52388:function(eu,ed,eg){"use strict";eg.r(ed),eg.d(ed,{__assign:function(){return ew},__asyncDelegator:function(){return eB},__asyncGenerator:function(){return eD},__asyncValues:function(){return eU},__await:function(){return eR},__awaiter:function(){return eI},__classPrivateFieldGet:function(){return e$},__classPrivateFieldSet:function(){return eK},__createBinding:function(){return eM},__decorate:function(){return eE},__exportStar:function(){return eO},__extends:function(){return eb},__generator:function(){return eC},__importDefault:function(){return eF},__importStar:function(){return ej},__makeTemplateObject:function(){return eL},__metadata:function(){return eS},__param:function(){return eA},__read:function(){return eP},__rest:function(){return e_},__spread:function(){return eN},__spreadArrays:function(){return ek},__values:function(){return eT}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var em=function(eu,ed){return(em=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(eu,ed){eu.__proto__=ed}||function(eu,ed){for(var eg in ed)ed.hasOwnProperty(eg)&&(eu[eg]=ed[eg])})(eu,ed)};function eb(eu,ed){function eg(){this.constructor=eu}em(eu,ed),eu.prototype=null===ed?Object.create(ed):(eg.prototype=ed.prototype,new eg)}var ew=function(){return(ew=Object.assign||function(eu){for(var ed,eg=1,em=arguments.length;eg<em;eg++)for(var eb in ed=arguments[eg])Object.prototype.hasOwnProperty.call(ed,eb)&&(eu[eb]=ed[eb]);return eu}).apply(this,arguments)};function e_(eu,ed){var eg={};for(var em in eu)Object.prototype.hasOwnProperty.call(eu,em)&&0>ed.indexOf(em)&&(eg[em]=eu[em]);if(null!=eu&&"function"==typeof Object.getOwnPropertySymbols)for(var eb=0,em=Object.getOwnPropertySymbols(eu);eb<em.length;eb++)0>ed.indexOf(em[eb])&&Object.prototype.propertyIsEnumerable.call(eu,em[eb])&&(eg[em[eb]]=eu[em[eb]]);return eg}function eE(eu,ed,eg,em){var eb,ew=arguments.length,e_=ew<3?ed:null===em?em=Object.getOwnPropertyDescriptor(ed,eg):em;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)e_=Reflect.decorate(eu,ed,eg,em);else for(var eE=eu.length-1;eE>=0;eE--)(eb=eu[eE])&&(e_=(ew<3?eb(e_):ew>3?eb(ed,eg,e_):eb(ed,eg))||e_);return ew>3&&e_&&Object.defineProperty(ed,eg,e_),e_}function eA(eu,ed){return function(eg,em){ed(eg,em,eu)}}function eS(eu,ed){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(eu,ed)}function eI(eu,ed,eg,em){function eb(eu){return eu instanceof eg?eu:new eg(function(ed){ed(eu)})}return new(eg||(eg=Promise))(function(eg,ew){function e_(eu){try{eA(em.next(eu))}catch(eu){ew(eu)}}function eE(eu){try{eA(em.throw(eu))}catch(eu){ew(eu)}}function eA(eu){eu.done?eg(eu.value):eb(eu.value).then(e_,eE)}eA((em=em.apply(eu,ed||[])).next())})}function eC(eu,ed){var eg,em,eb,ew,e_={label:0,sent:function(){if(1&eb[0])throw eb[1];return eb[1]},trys:[],ops:[]};return ew={next:eE(0),throw:eE(1),return:eE(2)},"function"==typeof Symbol&&(ew[Symbol.iterator]=function(){return this}),ew;function eE(eu){return function(ed){return eA([eu,ed])}}function eA(ew){if(eg)throw TypeError("Generator is already executing.");for(;e_;)try{if(eg=1,em&&(eb=2&ew[0]?em.return:ew[0]?em.throw||((eb=em.return)&&eb.call(em),0):em.next)&&!(eb=eb.call(em,ew[1])).done)return eb;switch(em=0,eb&&(ew=[2&ew[0],eb.value]),ew[0]){case 0:case 1:eb=ew;break;case 4:return e_.label++,{value:ew[1],done:!1};case 5:e_.label++,em=ew[1],ew=[0];continue;case 7:ew=e_.ops.pop(),e_.trys.pop();continue;default:if(!(eb=(eb=e_.trys).length>0&&eb[eb.length-1])&&(6===ew[0]||2===ew[0])){e_=0;continue}if(3===ew[0]&&(!eb||ew[1]>eb[0]&&ew[1]<eb[3])){e_.label=ew[1];break}if(6===ew[0]&&e_.label<eb[1]){e_.label=eb[1],eb=ew;break}if(eb&&e_.label<eb[2]){e_.label=eb[2],e_.ops.push(ew);break}eb[2]&&e_.ops.pop(),e_.trys.pop();continue}ew=ed.call(eu,e_)}catch(eu){ew=[6,eu],em=0}finally{eg=eb=0}if(5&ew[0])throw ew[1];return{value:ew[0]?ew[1]:void 0,done:!0}}}function eM(eu,ed,eg,em){void 0===em&&(em=eg),eu[em]=ed[eg]}function eO(eu,ed){for(var eg in eu)"default"===eg||ed.hasOwnProperty(eg)||(ed[eg]=eu[eg])}function eT(eu){var ed="function"==typeof Symbol&&Symbol.iterator,eg=ed&&eu[ed],em=0;if(eg)return eg.call(eu);if(eu&&"number"==typeof eu.length)return{next:function(){return eu&&em>=eu.length&&(eu=void 0),{value:eu&&eu[em++],done:!eu}}};throw TypeError(ed?"Object is not iterable.":"Symbol.iterator is not defined.")}function eP(eu,ed){var eg="function"==typeof Symbol&&eu[Symbol.iterator];if(!eg)return eu;var em,eb,ew=eg.call(eu),e_=[];try{for(;(void 0===ed||ed-- >0)&&!(em=ew.next()).done;)e_.push(em.value)}catch(eu){eb={error:eu}}finally{try{em&&!em.done&&(eg=ew.return)&&eg.call(ew)}finally{if(eb)throw eb.error}}return e_}function eN(){for(var eu=[],ed=0;ed<arguments.length;ed++)eu=eu.concat(eP(arguments[ed]));return eu}function ek(){for(var eu=0,ed=0,eg=arguments.length;ed<eg;ed++)eu+=arguments[ed].length;for(var em=Array(eu),eb=0,ed=0;ed<eg;ed++)for(var ew=arguments[ed],e_=0,eE=ew.length;e_<eE;e_++,eb++)em[eb]=ew[e_];return em}function eR(eu){return this instanceof eR?(this.v=eu,this):new eR(eu)}function eD(eu,ed,eg){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var em,eb=eg.apply(eu,ed||[]),ew=[];return em={},e_("next"),e_("throw"),e_("return"),em[Symbol.asyncIterator]=function(){return this},em;function e_(eu){eb[eu]&&(em[eu]=function(ed){return new Promise(function(eg,em){ew.push([eu,ed,eg,em])>1||eE(eu,ed)})})}function eE(eu,ed){try{eA(eb[eu](ed))}catch(eu){eC(ew[0][3],eu)}}function eA(eu){eu.value instanceof eR?Promise.resolve(eu.value.v).then(eS,eI):eC(ew[0][2],eu)}function eS(eu){eE("next",eu)}function eI(eu){eE("throw",eu)}function eC(eu,ed){eu(ed),ew.shift(),ew.length&&eE(ew[0][0],ew[0][1])}}function eB(eu){var ed,eg;return ed={},em("next"),em("throw",function(eu){throw eu}),em("return"),ed[Symbol.iterator]=function(){return this},ed;function em(em,eb){ed[em]=eu[em]?function(ed){return(eg=!eg)?{value:eR(eu[em](ed)),done:"return"===em}:eb?eb(ed):ed}:eb}}function eU(eu){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var ed,eg=eu[Symbol.asyncIterator];return eg?eg.call(eu):(eu=eT(eu),ed={},em("next"),em("throw"),em("return"),ed[Symbol.asyncIterator]=function(){return this},ed);function em(eg){ed[eg]=eu[eg]&&function(ed){return new Promise(function(em,ew){eb(em,ew,(ed=eu[eg](ed)).done,ed.value)})}}function eb(eu,ed,eg,em){Promise.resolve(em).then(function(ed){eu({value:ed,done:eg})},ed)}}function eL(eu,ed){return Object.defineProperty?Object.defineProperty(eu,"raw",{value:ed}):eu.raw=ed,eu}function ej(eu){if(eu&&eu.__esModule)return eu;var ed={};if(null!=eu)for(var eg in eu)Object.hasOwnProperty.call(eu,eg)&&(ed[eg]=eu[eg]);return ed.default=eu,ed}function eF(eu){return eu&&eu.__esModule?eu:{default:eu}}function e$(eu,ed){if(!ed.has(eu))throw TypeError("attempted to get private field on non-instance");return ed.get(eu)}function eK(eu,ed,eg){if(!ed.has(eu))throw TypeError("attempted to set private field on non-instance");return ed.set(eu,eg),eg}},59782:function(eu,ed,eg){"use strict";eg.d(ed,{Z:function(){return MM}});var em=eg(22699),eb=eg.n(em),ew=eg(16220),e_=eg(23550),eE=eg(18776),eA=eg(5774),eS=Object.defineProperty,eI=(eu,ed,eg)=>ed in eu?eS(eu,ed,{enumerable:!0,configurable:!0,writable:!0,value:eg}):eu[ed]=eg,eC=(eu,ed,eg)=>eI(eu,"symbol"!=typeof ed?ed+"":ed,eg);class eM extends eA.q{constructor(eu){super(),this.opts=eu,eC(this,"protocol","wc"),eC(this,"version",2)}}var eO=Object.defineProperty,eT=(eu,ed,eg)=>ed in eu?eO(eu,ed,{enumerable:!0,configurable:!0,writable:!0,value:eg}):eu[ed]=eg,eP=(eu,ed,eg)=>eT(eu,"symbol"!=typeof ed?ed+"":ed,eg);class eN extends eA.q{constructor(eu,ed){super(),this.core=eu,this.logger=ed,eP(this,"records",new Map)}}class ek{constructor(eu,ed){this.logger=eu,this.core=ed}}class eR extends eA.q{constructor(eu,ed){super(),this.relayer=eu,this.logger=ed}}class eD extends eA.q{constructor(eu){super()}}class eB{constructor(eu,ed,eg,em){this.core=eu,this.logger=ed,this.name=eg}}class eU extends eA.q{constructor(eu,ed){super(),this.relayer=eu,this.logger=ed}}class eL extends eA.q{constructor(eu,ed){super(),this.core=eu,this.logger=ed}}class ej{constructor(eu,ed,eg){this.core=eu,this.logger=ed,this.store=eg}}class eF{constructor(eu,ed){this.projectId=eu,this.logger=ed}}class e${constructor(eu,ed,eg){this.core=eu,this.logger=ed,this.telemetryEnabled=eg}}var eK=Object.defineProperty,eH=(eu,ed,eg)=>ed in eu?eK(eu,ed,{enumerable:!0,configurable:!0,writable:!0,value:eg}):eu[ed]=eg,eV=(eu,ed,eg)=>eH(eu,"symbol"!=typeof ed?ed+"":ed,eg);class eG{constructor(eu){this.opts=eu,eV(this,"protocol","wc"),eV(this,"version",2)}}class eW{constructor(eu){this.client=eu}}var eJ=eg(10666),eZ=eg(42325),eY=eg(89406),eX=eg(54924),eQ=eg(4997),e0=eg(51726);!function(eu){if(eu.length>=255)throw TypeError("Alphabet too long");let ed=new Uint8Array(256);for(let eu=0;eu<ed.length;eu++)ed[eu]=255;for(let eg=0;eg<eu.length;eg++){let em=eu.charAt(eg),eb=em.charCodeAt(0);if(255!==ed[eb])throw TypeError(em+" is ambiguous");ed[eb]=eg}let eg=eu.length;eu.charAt(0)}("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var e6=eg(96246),e8=eg(27546),e5=eg(81395),e9=eg(34406),e7=eg(48834).Buffer;Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;let tu="ReactNative",th={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},td="js";function tg(){return"u">typeof e9&&"u">typeof e9.versions&&"u">typeof e9.versions.node}function ty(){return!(0,eQ.getDocument)()&&!!(0,eQ.getNavigator)()&&navigator.product===tu}function tb(){return ty()&&"u">typeof eg.g&&"u">typeof(null==eg.g?void 0:eg.g.Platform)&&(null==eg.g?void 0:eg.g.Platform.OS)==="android"}function tw(){return ty()&&"u">typeof eg.g&&"u">typeof(null==eg.g?void 0:eg.g.Platform)&&(null==eg.g?void 0:eg.g.Platform.OS)==="ios"}function t_(){return!tg()&&!!(0,eQ.getNavigator)()&&!!(0,eQ.getDocument)()}function tE(){return ty()?th.reactNative:tg()?th.node:t_()?th.browser:th.unknown}function tA(){var eu;try{return ty()&&"u">typeof eg.g&&"u">typeof(null==eg.g?void 0:eg.g.Application)?null==(eu=eg.g.Application)?void 0:eu.applicationId:void 0}catch{return}}function tS(eu,ed){let eg=new URLSearchParams(eu);for(let eu of Object.keys(ed).sort())if(ed.hasOwnProperty(eu)){let em=ed[eu];void 0!==em&&eg.set(eu,em)}return eg.toString()}function tI(){return(0,e0.D)()||{name:"",description:"",url:"",icons:[""]}}function tC(){if(tE()===th.reactNative&&"u">typeof eg.g&&"u">typeof(null==eg.g?void 0:eg.g.Platform)){let{OS:eu,Version:ed}=eg.g.Platform;return[eu,ed].join("-")}let eu=(0,eX.qY)();if(null===eu)return"unknown";let ed=eu.os?eu.os.replace(" ","").toLowerCase():"unknown";return"browser"===eu.type?[ed,eu.name,eu.version].join("-"):[ed,eu.version].join("-")}function tO(){var eu;let ed=tE();return ed===th.browser?[ed,(null==(eu=(0,eQ.getLocation)())?void 0:eu.host)||"unknown"].join(":"):ed}function tT(eu,ed,eg){let em=tC(),eb=tO();return[[eu,ed].join("-"),[td,eg].join("-"),em,eb].join("/")}function tP({protocol:eu,version:ed,relayUrl:eg,sdkVersion:em,auth:eb,projectId:ew,useOnCloseEvent:e_,bundleId:eE,packageName:eA}){let eS=eg.split("?"),eI=tT(eu,ed,em),eC={auth:eb,ua:eI,projectId:ew,useOnCloseEvent:e_||void 0,packageName:eA||void 0,bundleId:eE||void 0},eM=tS(eS[1]||"",eC);return eS[0]+"?"+eM}function tN(eu){return Object.fromEntries(eu.entries())}function tR(eu){return new Map(Object.entries(eu))}function tD(eu=eJ.FIVE_MINUTES,ed){let eg,em,eb,ew;let e_=(0,eJ.toMiliseconds)(eu||eJ.FIVE_MINUTES);return{resolve:eu=>{eb&&eg&&(clearTimeout(eb),eg(eu),ew=Promise.resolve(eu))},reject:eu=>{eb&&em&&(clearTimeout(eb),em(eu))},done:()=>new Promise((eu,eE)=>{if(ew)return eu(ew);eb=setTimeout(()=>{let eu=Error(ed);ew=Promise.reject(eu),eE(eu)},e_),eg=eu,em=eE})}}function tB(eu,ed,eg){return new Promise(async(em,eb)=>{let ew=setTimeout(()=>eb(Error(eg)),ed);try{let ed=await eu;em(ed)}catch(eu){eb(eu)}clearTimeout(ew)})}function tU(eu,ed){if("string"==typeof ed&&ed.startsWith(`${eu}:`))return ed;if("topic"===eu.toLowerCase()){if("string"!=typeof ed)throw Error('Value must be "string" for expirer target type: topic');return`topic:${ed}`}if("id"===eu.toLowerCase()){if("number"!=typeof ed)throw Error('Value must be "number" for expirer target type: id');return`id:${ed}`}throw Error(`Unknown expirer target type: ${eu}`)}function tL(eu){return tU("topic",eu)}function tj(eu){return tU("id",eu)}function tF(eu){let[ed,eg]=eu.split(":"),em={id:void 0,topic:void 0};if("topic"===ed&&"string"==typeof eg)em.topic=eg;else if("id"===ed&&Number.isInteger(Number(eg)))em.id=Number(eg);else throw Error(`Invalid target, expected id:number or topic:string, got ${ed}:${eg}`);return em}function t$(eu,ed){return(0,eJ.fromMiliseconds)((ed||Date.now())+(0,eJ.toMiliseconds)(eu))}function tK(eu){return Date.now()>=(0,eJ.toMiliseconds)(eu)}function tq(eu,ed){return`${eu}${ed?`:${ed}`:""}`}function tz(){return"u">typeof crypto&&null!=crypto&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,eu=>{let ed=16*Math.random()|0;return("x"===eu?ed:3&ed|8).toString(16)})}function tH(){return"u">typeof e9&&"true"===e9.env.IS_VITEST}function tV(eu){return e7.from(eu,"base64").toString("utf-8")}function tG(eu){return new Promise(ed=>setTimeout(ed,eu))}let tW=BigInt(4294967296-1),tJ=BigInt(32);function tZ(eu,ed=!1){return ed?{h:Number(eu&tW),l:Number(eu>>tJ&tW)}:{h:0|Number(eu>>tJ&tW),l:0|Number(eu&tW)}}function tY(eu,ed=!1){let eg=eu.length,em=new Uint32Array(eg),eb=new Uint32Array(eg);for(let ew=0;ew<eg;ew++){let{h:eg,l:e_}=tZ(eu[ew],ed);[em[ew],eb[ew]]=[eg,e_]}return[em,eb]}let tX=(eu,ed,eg)=>eu>>>eg,tQ=(eu,ed,eg)=>eu<<32-eg|ed>>>eg,t6=(eu,ed,eg)=>eu>>>eg|ed<<32-eg,t8=(eu,ed,eg)=>eu<<32-eg|ed>>>eg,t5=(eu,ed,eg)=>eu<<64-eg|ed>>>eg-32,t4=(eu,ed,eg)=>eu>>>eg-32|ed<<64-eg,t9=(eu,ed)=>ed,t7=(eu,ed)=>eu,ru=(eu,ed,eg)=>eu<<eg|ed>>>32-eg,rd=(eu,ed,eg)=>ed<<eg|eu>>>32-eg,rp=(eu,ed,eg)=>ed<<eg-32|eu>>>64-eg,rg=(eu,ed,eg)=>eu<<eg-32|ed>>>64-eg;function ry(eu,ed,eg,em){let eb=(ed>>>0)+(em>>>0);return{h:eu+eg+(eb/4294967296|0)|0,l:0|eb}}let rw=(eu,ed,eg)=>(eu>>>0)+(ed>>>0)+(eg>>>0),r_=(eu,ed,eg,em)=>ed+eg+em+(eu/4294967296|0)|0,rE=(eu,ed,eg,em)=>(eu>>>0)+(ed>>>0)+(eg>>>0)+(em>>>0),rA=(eu,ed,eg,em,eb)=>ed+eg+em+eb+(eu/4294967296|0)|0,rS=(eu,ed,eg,em,eb)=>(eu>>>0)+(ed>>>0)+(eg>>>0)+(em>>>0)+(eb>>>0),rI=(eu,ed,eg,em,eb,ew)=>ed+eg+em+eb+ew+(eu/4294967296|0)|0,rC="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function rM(eu){return eu instanceof Uint8Array||ArrayBuffer.isView(eu)&&"Uint8Array"===eu.constructor.name}function rO(eu){if(!Number.isSafeInteger(eu)||eu<0)throw Error("positive integer expected, got "+eu)}function rT(eu,...ed){if(!rM(eu))throw Error("Uint8Array expected");if(ed.length>0&&!ed.includes(eu.length))throw Error("Uint8Array expected of length "+ed+", got length="+eu.length)}function rP(eu){if("function"!=typeof eu||"function"!=typeof eu.create)throw Error("Hash should be wrapped by utils.createHasher");rO(eu.outputLen),rO(eu.blockLen)}function rN(eu,ed=!0){if(eu.destroyed)throw Error("Hash instance has been destroyed");if(ed&&eu.finished)throw Error("Hash#digest() has already been called")}function rR(eu,ed){rT(eu);let eg=ed.outputLen;if(eu.length<eg)throw Error("digestInto() expects output buffer of length at least "+eg)}function rD(eu){return new Uint32Array(eu.buffer,eu.byteOffset,Math.floor(eu.byteLength/4))}function rB(...eu){for(let ed=0;ed<eu.length;ed++)eu[ed].fill(0)}function rU(eu){return new DataView(eu.buffer,eu.byteOffset,eu.byteLength)}function rL(eu,ed){return eu<<32-ed|eu>>>ed}let rj=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0];function rF(eu){return eu<<24&4278190080|eu<<8&16711680|eu>>>8&65280|eu>>>24&255}let r$=rj?eu=>eu:eu=>rF(eu);function rK(eu){for(let ed=0;ed<eu.length;ed++)eu[ed]=rF(eu[ed]);return eu}let rq=rj?eu=>eu:rK,rz="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,rH=Array.from({length:256},(eu,ed)=>ed.toString(16).padStart(2,"0"));function rV(eu){if(rT(eu),rz)return eu.toHex();let ed="";for(let eg=0;eg<eu.length;eg++)ed+=rH[eu[eg]];return ed}let rG={_0:48,_9:57,A:65,F:70,a:97,f:102};function rW(eu){return eu>=rG._0&&eu<=rG._9?eu-rG._0:eu>=rG.A&&eu<=rG.F?eu-(rG.A-10):eu>=rG.a&&eu<=rG.f?eu-(rG.a-10):void 0}function rJ(eu){if("string"!=typeof eu)throw Error("hex string expected, got "+typeof eu);if(rz)return Uint8Array.fromHex(eu);let ed=eu.length,eg=ed/2;if(ed%2)throw Error("hex string expected, got unpadded hex of length "+ed);let em=new Uint8Array(eg);for(let ed=0,eb=0;ed<eg;ed++,eb+=2){let eg=rW(eu.charCodeAt(eb)),ew=rW(eu.charCodeAt(eb+1));if(void 0===eg||void 0===ew){let ed=eu[eb]+eu[eb+1];throw Error('hex string expected, got non-hex character "'+ed+'" at index '+eb)}em[ed]=16*eg+ew}return em}function rZ(eu){if("string"!=typeof eu)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(eu))}function rY(eu){return"string"==typeof eu&&(eu=rZ(eu)),rT(eu),eu}function rX(...eu){let ed=0;for(let eg=0;eg<eu.length;eg++){let em=eu[eg];rT(em),ed+=em.length}let eg=new Uint8Array(ed);for(let ed=0,em=0;ed<eu.length;ed++){let eb=eu[ed];eg.set(eb,em),em+=eb.length}return eg}class rQ{}function r6(eu){let ed=ed=>eu().update(rY(ed)).digest(),eg=eu();return ed.outputLen=eg.outputLen,ed.blockLen=eg.blockLen,ed.create=()=>eu(),ed}function r3(eu){let ed=(ed,eg)=>eu(eg).update(rY(ed)).digest(),eg=eu({});return ed.outputLen=eg.outputLen,ed.blockLen=eg.blockLen,ed.create=ed=>eu(ed),ed}function r8(eu=32){if(rC&&"function"==typeof rC.getRandomValues)return rC.getRandomValues(new Uint8Array(eu));if(rC&&"function"==typeof rC.randomBytes)return Uint8Array.from(rC.randomBytes(eu));throw Error("crypto.getRandomValues must be defined")}let r5=BigInt(0),r4=BigInt(1),r9=BigInt(2),r7=BigInt(7),nu=BigInt(256),nh=BigInt(113),nd=[],np=[],ng=[];for(let eu=0,ed=r4,eg=1,em=0;eu<24;eu++){[eg,em]=[em,(2*eg+3*em)%5],nd.push(2*(5*em+eg)),np.push((eu+1)*(eu+2)/2%64);let eb=r5;for(let eu=0;eu<7;eu++)(ed=(ed<<r4^(ed>>r7)*nh)%nu)&r9&&(eb^=r4<<(r4<<BigInt(eu))-r4);ng.push(eb)}let nm=tY(ng,!0),nw=nm[0],n_=nm[1],nE=(eu,ed,eg)=>eg>32?rp(eu,ed,eg):ru(eu,ed,eg),nA=(eu,ed,eg)=>eg>32?rg(eu,ed,eg):rd(eu,ed,eg);function nS(eu,ed=24){let eg=new Uint32Array(10);for(let em=24-ed;em<24;em++){for(let ed=0;ed<10;ed++)eg[ed]=eu[ed]^eu[ed+10]^eu[ed+20]^eu[ed+30]^eu[ed+40];for(let ed=0;ed<10;ed+=2){let em=(ed+8)%10,eb=(ed+2)%10,ew=eg[eb],e_=eg[eb+1],eE=nE(ew,e_,1)^eg[em],eA=nA(ew,e_,1)^eg[em+1];for(let eg=0;eg<50;eg+=10)eu[ed+eg]^=eE,eu[ed+eg+1]^=eA}let ed=eu[2],eb=eu[3];for(let eg=0;eg<24;eg++){let em=np[eg],ew=nE(ed,eb,em),e_=nA(ed,eb,em),eE=nd[eg];ed=eu[eE],eb=eu[eE+1],eu[eE]=ew,eu[eE+1]=e_}for(let ed=0;ed<50;ed+=10){for(let em=0;em<10;em++)eg[em]=eu[ed+em];for(let em=0;em<10;em++)eu[ed+em]^=~eg[(em+2)%10]&eg[(em+4)%10]}eu[0]^=nw[em],eu[1]^=n_[em]}rB(eg)}class nI extends rQ{constructor(eu,ed,eg,em=!1,eb=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=eu,this.suffix=ed,this.outputLen=eg,this.enableXOF=em,this.rounds=eb,rO(eg),!(0<eu&&eu<200))throw Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=rD(this.state)}clone(){return this._cloneInto()}keccak(){rq(this.state32),nS(this.state32,this.rounds),rq(this.state32),this.posOut=0,this.pos=0}update(eu){rN(this),rT(eu=rY(eu));let{blockLen:ed,state:eg}=this,em=eu.length;for(let eb=0;eb<em;){let ew=Math.min(ed-this.pos,em-eb);for(let ed=0;ed<ew;ed++)eg[this.pos++]^=eu[eb++];this.pos===ed&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:eu,suffix:ed,pos:eg,blockLen:em}=this;eu[eg]^=ed,(128&ed)!=0&&eg===em-1&&this.keccak(),eu[em-1]^=128,this.keccak()}writeInto(eu){rN(this,!1),rT(eu),this.finish();let ed=this.state,{blockLen:eg}=this;for(let em=0,eb=eu.length;em<eb;){this.posOut>=eg&&this.keccak();let ew=Math.min(eg-this.posOut,eb-em);eu.set(ed.subarray(this.posOut,this.posOut+ew),em),this.posOut+=ew,em+=ew}return eu}xofInto(eu){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(eu)}xof(eu){return rO(eu),this.xofInto(new Uint8Array(eu))}digestInto(eu){if(rR(eu,this),this.finished)throw Error("digest() was already called");return this.writeInto(eu),this.destroy(),eu}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,rB(this.state)}_cloneInto(eu){let{blockLen:ed,suffix:eg,outputLen:em,rounds:eb,enableXOF:ew}=this;return eu||(eu=new nI(ed,eg,em,ew,eb)),eu.state32.set(this.state32),eu.pos=this.pos,eu.posOut=this.posOut,eu.finished=this.finished,eu.rounds=eb,eu.suffix=eg,eu.outputLen=em,eu.enableXOF=ew,eu.destroyed=this.destroyed,eu}}let nC=(eu,ed,eg)=>r6(()=>new nI(ed,eu,eg));function nM(eu,ed,eg,em){if("function"==typeof eu.setBigUint64)return eu.setBigUint64(ed,eg,em);let eb=BigInt(32),ew=BigInt(4294967295),e_=Number(eg>>eb&ew),eE=Number(eg&ew),eA=em?4:0,eS=em?0:4;eu.setUint32(ed+eA,e_,em),eu.setUint32(ed+eS,eE,em)}function nO(eu,ed,eg){return eu&ed^~eu&eg}function nT(eu,ed,eg){return eu&ed^eu&eg^ed&eg}nC(1,136,32);class nP extends rQ{constructor(eu,ed,eg,em){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=eu,this.outputLen=ed,this.padOffset=eg,this.isLE=em,this.buffer=new Uint8Array(eu),this.view=rU(this.buffer)}update(eu){rN(this),rT(eu=rY(eu));let{view:ed,buffer:eg,blockLen:em}=this,eb=eu.length;for(let ew=0;ew<eb;){let e_=Math.min(em-this.pos,eb-ew);if(e_===em){let ed=rU(eu);for(;em<=eb-ew;ew+=em)this.process(ed,ew);continue}eg.set(eu.subarray(ew,ew+e_),this.pos),this.pos+=e_,ew+=e_,this.pos===em&&(this.process(ed,0),this.pos=0)}return this.length+=eu.length,this.roundClean(),this}digestInto(eu){rN(this),rR(eu,this),this.finished=!0;let{buffer:ed,view:eg,blockLen:em,isLE:eb}=this,{pos:ew}=this;ed[ew++]=128,rB(this.buffer.subarray(ew)),this.padOffset>em-ew&&(this.process(eg,0),ew=0);for(let eu=ew;eu<em;eu++)ed[eu]=0;nM(eg,em-8,BigInt(8*this.length),eb),this.process(eg,0);let e_=rU(eu),eE=this.outputLen;if(eE%4)throw Error("_sha2: outputLen should be aligned to 32bit");let eA=eE/4,eS=this.get();if(eA>eS.length)throw Error("_sha2: outputLen bigger than state");for(let eu=0;eu<eA;eu++)e_.setUint32(4*eu,eS[eu],eb)}digest(){let{buffer:eu,outputLen:ed}=this;this.digestInto(eu);let eg=eu.slice(0,ed);return this.destroy(),eg}_cloneInto(eu){eu||(eu=new this.constructor),eu.set(...this.get());let{blockLen:ed,buffer:eg,length:em,finished:eb,destroyed:ew,pos:e_}=this;return eu.destroyed=ew,eu.finished=eb,eu.length=em,eu.pos=e_,em%ed&&eu.buffer.set(eg),eu}clone(){return this._cloneInto()}}let nN=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),nk=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),nR=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),nD=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),nB=new Uint32Array(64);class nU extends nP{constructor(eu=32){super(64,eu,8,!1),this.A=0|nN[0],this.B=0|nN[1],this.C=0|nN[2],this.D=0|nN[3],this.E=0|nN[4],this.F=0|nN[5],this.G=0|nN[6],this.H=0|nN[7]}get(){let{A:eu,B:ed,C:eg,D:em,E:eb,F:ew,G:e_,H:eE}=this;return[eu,ed,eg,em,eb,ew,e_,eE]}set(eu,ed,eg,em,eb,ew,e_,eE){this.A=0|eu,this.B=0|ed,this.C=0|eg,this.D=0|em,this.E=0|eb,this.F=0|ew,this.G=0|e_,this.H=0|eE}process(eu,ed){for(let eg=0;eg<16;eg++,ed+=4)nB[eg]=eu.getUint32(ed,!1);for(let eu=16;eu<64;eu++){let ed=nB[eu-15],eg=nB[eu-2],em=rL(ed,7)^rL(ed,18)^ed>>>3,eb=rL(eg,17)^rL(eg,19)^eg>>>10;nB[eu]=eb+nB[eu-7]+em+nB[eu-16]|0}let{A:eg,B:em,C:eb,D:ew,E:e_,F:eE,G:eA,H:eS}=this;for(let eu=0;eu<64;eu++){let ed=rL(e_,6)^rL(e_,11)^rL(e_,25),eI=eS+ed+nO(e_,eE,eA)+nD[eu]+nB[eu]|0,eC=(rL(eg,2)^rL(eg,13)^rL(eg,22))+nT(eg,em,eb)|0;eS=eA,eA=eE,eE=e_,e_=ew+eI|0,ew=eb,eb=em,em=eg,eg=eI+eC|0}eg=eg+this.A|0,em=em+this.B|0,eb=eb+this.C|0,ew=ew+this.D|0,e_=e_+this.E|0,eE=eE+this.F|0,eA=eA+this.G|0,eS=eS+this.H|0,this.set(eg,em,eb,ew,e_,eE,eA,eS)}roundClean(){rB(nB)}destroy(){this.set(0,0,0,0,0,0,0,0),rB(this.buffer)}}let nL=tY(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(eu=>BigInt(eu))),nj=nL[0],nF=nL[1],n$=new Uint32Array(80),nK=new Uint32Array(80);class nq extends nP{constructor(eu=64){super(128,eu,16,!1),this.Ah=0|nR[0],this.Al=0|nR[1],this.Bh=0|nR[2],this.Bl=0|nR[3],this.Ch=0|nR[4],this.Cl=0|nR[5],this.Dh=0|nR[6],this.Dl=0|nR[7],this.Eh=0|nR[8],this.El=0|nR[9],this.Fh=0|nR[10],this.Fl=0|nR[11],this.Gh=0|nR[12],this.Gl=0|nR[13],this.Hh=0|nR[14],this.Hl=0|nR[15]}get(){let{Ah:eu,Al:ed,Bh:eg,Bl:em,Ch:eb,Cl:ew,Dh:e_,Dl:eE,Eh:eA,El:eS,Fh:eI,Fl:eC,Gh:eM,Gl:eO,Hh:eT,Hl:eP}=this;return[eu,ed,eg,em,eb,ew,e_,eE,eA,eS,eI,eC,eM,eO,eT,eP]}set(eu,ed,eg,em,eb,ew,e_,eE,eA,eS,eI,eC,eM,eO,eT,eP){this.Ah=0|eu,this.Al=0|ed,this.Bh=0|eg,this.Bl=0|em,this.Ch=0|eb,this.Cl=0|ew,this.Dh=0|e_,this.Dl=0|eE,this.Eh=0|eA,this.El=0|eS,this.Fh=0|eI,this.Fl=0|eC,this.Gh=0|eM,this.Gl=0|eO,this.Hh=0|eT,this.Hl=0|eP}process(eu,ed){for(let eg=0;eg<16;eg++,ed+=4)n$[eg]=eu.getUint32(ed),nK[eg]=eu.getUint32(ed+=4);for(let eu=16;eu<80;eu++){let ed=0|n$[eu-15],eg=0|nK[eu-15],em=t6(ed,eg,1)^t6(ed,eg,8)^tX(ed,eg,7),eb=t8(ed,eg,1)^t8(ed,eg,8)^tQ(ed,eg,7),ew=0|n$[eu-2],e_=0|nK[eu-2],eE=t6(ew,e_,19)^t5(ew,e_,61)^tX(ew,e_,6),eA=t8(ew,e_,19)^t4(ew,e_,61)^tQ(ew,e_,6),eS=rE(eb,eA,nK[eu-7],nK[eu-16]),eI=rA(eS,em,eE,n$[eu-7],n$[eu-16]);n$[eu]=0|eI,nK[eu]=0|eS}let{Ah:eg,Al:em,Bh:eb,Bl:ew,Ch:e_,Cl:eE,Dh:eA,Dl:eS,Eh:eI,El:eC,Fh:eM,Fl:eO,Gh:eT,Gl:eP,Hh:eN,Hl:ek}=this;for(let eu=0;eu<80;eu++){let ed=t6(eI,eC,14)^t6(eI,eC,18)^t5(eI,eC,41),eR=t8(eI,eC,14)^t8(eI,eC,18)^t4(eI,eC,41),eD=eI&eM^~eI&eT,eB=eC&eO^~eC&eP,eU=rS(ek,eR,eB,nF[eu],nK[eu]),eL=rI(eU,eN,ed,eD,nj[eu],n$[eu]),ej=0|eU,eF=t6(eg,em,28)^t5(eg,em,34)^t5(eg,em,39),e$=t8(eg,em,28)^t4(eg,em,34)^t4(eg,em,39),eK=eg&eb^eg&e_^eb&e_,eH=em&ew^em&eE^ew&eE;eN=0|eT,ek=0|eP,eT=0|eM,eP=0|eO,eM=0|eI,eO=0|eC,({h:eI,l:eC}=ry(0|eA,0|eS,0|eL,0|ej)),eA=0|e_,eS=0|eE,e_=0|eb,eE=0|ew,eb=0|eg,ew=0|em;let eV=rw(ej,e$,eH);eg=r_(eV,eL,eF,eK),em=0|eV}({h:eg,l:em}=ry(0|this.Ah,0|this.Al,0|eg,0|em)),({h:eb,l:ew}=ry(0|this.Bh,0|this.Bl,0|eb,0|ew)),({h:e_,l:eE}=ry(0|this.Ch,0|this.Cl,0|e_,0|eE)),({h:eA,l:eS}=ry(0|this.Dh,0|this.Dl,0|eA,0|eS)),({h:eI,l:eC}=ry(0|this.Eh,0|this.El,0|eI,0|eC)),({h:eM,l:eO}=ry(0|this.Fh,0|this.Fl,0|eM,0|eO)),({h:eT,l:eP}=ry(0|this.Gh,0|this.Gl,0|eT,0|eP)),({h:eN,l:ek}=ry(0|this.Hh,0|this.Hl,0|eN,0|ek)),this.set(eg,em,eb,ew,e_,eE,eA,eS,eI,eC,eM,eO,eT,eP,eN,ek)}roundClean(){rB(n$,nK)}destroy(){rB(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class nH extends nq{constructor(){super(48),this.Ah=0|nk[0],this.Al=0|nk[1],this.Bh=0|nk[2],this.Bl=0|nk[3],this.Ch=0|nk[4],this.Cl=0|nk[5],this.Dh=0|nk[6],this.Dl=0|nk[7],this.Eh=0|nk[8],this.El=0|nk[9],this.Fh=0|nk[10],this.Fl=0|nk[11],this.Gh=0|nk[12],this.Gl=0|nk[13],this.Hh=0|nk[14],this.Hl=0|nk[15]}}let nV=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class nG extends nq{constructor(){super(32),this.Ah=0|nV[0],this.Al=0|nV[1],this.Bh=0|nV[2],this.Bl=0|nV[3],this.Ch=0|nV[4],this.Cl=0|nV[5],this.Dh=0|nV[6],this.Dl=0|nV[7],this.Eh=0|nV[8],this.El=0|nV[9],this.Fh=0|nV[10],this.Fl=0|nV[11],this.Gh=0|nV[12],this.Gl=0|nV[13],this.Hh=0|nV[14],this.Hl=0|nV[15]}}let nW=r6(()=>new nU),nJ=r6(()=>new nq),nZ=r6(()=>new nH),nY=(r6(()=>new nG),Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9])),nX=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),nQ=new Uint32Array(32);function n6(eu,ed,eg,em,eb,ew){let e_=eb[ew],eE=eb[ew+1],eA=nQ[2*eu],eS=nQ[2*eu+1],eI=nQ[2*ed],eC=nQ[2*ed+1],eM=nQ[2*eg],eO=nQ[2*eg+1],eT=nQ[2*em],eP=nQ[2*em+1],eN=rw(eA,eI,e_);eS=r_(eN,eS,eC,eE),eA=0|eN,({Dh:eP,Dl:eT}={Dh:eP^eS,Dl:eT^eA}),({Dh:eP,Dl:eT}={Dh:t9(eP,eT),Dl:t7(eP)}),({h:eO,l:eM}=ry(eO,eM,eP,eT)),({Bh:eC,Bl:eI}={Bh:eC^eO,Bl:eI^eM}),({Bh:eC,Bl:eI}={Bh:t6(eC,eI,24),Bl:t8(eC,eI,24)}),nQ[2*eu]=eA,nQ[2*eu+1]=eS,nQ[2*ed]=eI,nQ[2*ed+1]=eC,nQ[2*eg]=eM,nQ[2*eg+1]=eO,nQ[2*em]=eT,nQ[2*em+1]=eP}function n8(eu,ed,eg,em,eb,ew){let e_=eb[ew],eE=eb[ew+1],eA=nQ[2*eu],eS=nQ[2*eu+1],eI=nQ[2*ed],eC=nQ[2*ed+1],eM=nQ[2*eg],eO=nQ[2*eg+1],eT=nQ[2*em],eP=nQ[2*em+1],eN=rw(eA,eI,e_);eS=r_(eN,eS,eC,eE),eA=0|eN,({Dh:eP,Dl:eT}={Dh:eP^eS,Dl:eT^eA}),({Dh:eP,Dl:eT}={Dh:t6(eP,eT,16),Dl:t8(eP,eT,16)}),({h:eO,l:eM}=ry(eO,eM,eP,eT)),({Bh:eC,Bl:eI}={Bh:eC^eO,Bl:eI^eM}),({Bh:eC,Bl:eI}={Bh:t5(eC,eI,63),Bl:t4(eC,eI,63)}),nQ[2*eu]=eA,nQ[2*eu+1]=eS,nQ[2*ed]=eI,nQ[2*ed+1]=eC,nQ[2*eg]=eM,nQ[2*eg+1]=eO,nQ[2*em]=eT,nQ[2*em+1]=eP}function n5(eu,ed={},eg,em,eb){if(rO(eg),eu<0||eu>eg)throw Error("outputLen bigger than keyLen");let{key:ew,salt:e_,personalization:eE}=ed;if(void 0!==ew&&(ew.length<1||ew.length>eg))throw Error("key length must be undefined or 1.."+eg);if(void 0!==e_&&e_.length!==em)throw Error("salt must be undefined or "+em);if(void 0!==eE&&eE.length!==eb)throw Error("personalization must be undefined or "+eb)}class n4 extends rQ{constructor(eu,ed){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,rO(eu),rO(ed),this.blockLen=eu,this.outputLen=ed,this.buffer=new Uint8Array(eu),this.buffer32=rD(this.buffer)}update(eu){rN(this),rT(eu=rY(eu));let{blockLen:ed,buffer:eg,buffer32:em}=this,eb=eu.length,ew=eu.byteOffset,e_=eu.buffer;for(let eE=0;eE<eb;){this.pos===ed&&(rq(em),this.compress(em,0,!1),rq(em),this.pos=0);let eA=Math.min(ed-this.pos,eb-eE),eS=ew+eE;if(eA===ed&&!(eS%4)&&eE+eA<eb){let eu=new Uint32Array(e_,eS,Math.floor((eb-eE)/4));rq(eu);for(let eg=0;eE+ed<eb;eg+=em.length,eE+=ed)this.length+=ed,this.compress(eu,eg,!1);rq(eu);continue}eg.set(eu.subarray(eE,eE+eA),this.pos),this.pos+=eA,this.length+=eA,eE+=eA}return this}digestInto(eu){rN(this),rR(eu,this);let{pos:ed,buffer32:eg}=this;this.finished=!0,rB(this.buffer.subarray(ed)),rq(eg),this.compress(eg,0,!0),rq(eg);let em=rD(eu);this.get().forEach((eu,ed)=>em[ed]=r$(eu))}digest(){let{buffer:eu,outputLen:ed}=this;this.digestInto(eu);let eg=eu.slice(0,ed);return this.destroy(),eg}_cloneInto(eu){let{buffer:ed,length:eg,finished:em,destroyed:eb,outputLen:ew,pos:e_}=this;return eu||(eu=new this.constructor({dkLen:ew})),eu.set(...this.get()),eu.buffer.set(ed),eu.destroyed=eb,eu.finished=em,eu.length=eg,eu.pos=e_,eu.outputLen=ew,eu}clone(){return this._cloneInto()}}class n9 extends n4{constructor(eu={}){let ed=void 0===eu.dkLen?64:eu.dkLen;super(128,ed),this.v0l=0|nX[0],this.v0h=0|nX[1],this.v1l=0|nX[2],this.v1h=0|nX[3],this.v2l=0|nX[4],this.v2h=0|nX[5],this.v3l=0|nX[6],this.v3h=0|nX[7],this.v4l=0|nX[8],this.v4h=0|nX[9],this.v5l=0|nX[10],this.v5h=0|nX[11],this.v6l=0|nX[12],this.v6h=0|nX[13],this.v7l=0|nX[14],this.v7h=0|nX[15],n5(ed,eu,64,16,16);let{key:eg,personalization:em,salt:eb}=eu,ew=0;if(void 0!==eg&&(ew=(eg=rY(eg)).length),this.v0l^=this.outputLen|ew<<8|16842752,void 0!==eb){eb=rY(eb);let eu=rD(eb);this.v4l^=r$(eu[0]),this.v4h^=r$(eu[1]),this.v5l^=r$(eu[2]),this.v5h^=r$(eu[3])}if(void 0!==em){em=rY(em);let eu=rD(em);this.v6l^=r$(eu[0]),this.v6h^=r$(eu[1]),this.v7l^=r$(eu[2]),this.v7h^=r$(eu[3])}if(void 0!==eg){let eu=new Uint8Array(this.blockLen);eu.set(eg),this.update(eu)}}get(){let{v0l:eu,v0h:ed,v1l:eg,v1h:em,v2l:eb,v2h:ew,v3l:e_,v3h:eE,v4l:eA,v4h:eS,v5l:eI,v5h:eC,v6l:eM,v6h:eO,v7l:eT,v7h:eP}=this;return[eu,ed,eg,em,eb,ew,e_,eE,eA,eS,eI,eC,eM,eO,eT,eP]}set(eu,ed,eg,em,eb,ew,e_,eE,eA,eS,eI,eC,eM,eO,eT,eP){this.v0l=0|eu,this.v0h=0|ed,this.v1l=0|eg,this.v1h=0|em,this.v2l=0|eb,this.v2h=0|ew,this.v3l=0|e_,this.v3h=0|eE,this.v4l=0|eA,this.v4h=0|eS,this.v5l=0|eI,this.v5h=0|eC,this.v6l=0|eM,this.v6h=0|eO,this.v7l=0|eT,this.v7h=0|eP}compress(eu,ed,eg){this.get().forEach((eu,ed)=>nQ[ed]=eu),nQ.set(nX,16);let{h:em,l:eb}=tZ(BigInt(this.length));nQ[24]=nX[8]^eb,nQ[25]=nX[9]^em,eg&&(nQ[28]=~nQ[28],nQ[29]=~nQ[29]);let ew=0,e_=nY;for(let eg=0;eg<12;eg++)n6(0,4,8,12,eu,ed+2*e_[ew++]),n8(0,4,8,12,eu,ed+2*e_[ew++]),n6(1,5,9,13,eu,ed+2*e_[ew++]),n8(1,5,9,13,eu,ed+2*e_[ew++]),n6(2,6,10,14,eu,ed+2*e_[ew++]),n8(2,6,10,14,eu,ed+2*e_[ew++]),n6(3,7,11,15,eu,ed+2*e_[ew++]),n8(3,7,11,15,eu,ed+2*e_[ew++]),n6(0,5,10,15,eu,ed+2*e_[ew++]),n8(0,5,10,15,eu,ed+2*e_[ew++]),n6(1,6,11,12,eu,ed+2*e_[ew++]),n8(1,6,11,12,eu,ed+2*e_[ew++]),n6(2,7,8,13,eu,ed+2*e_[ew++]),n8(2,7,8,13,eu,ed+2*e_[ew++]),n6(3,4,9,14,eu,ed+2*e_[ew++]),n8(3,4,9,14,eu,ed+2*e_[ew++]);this.v0l^=nQ[0]^nQ[16],this.v0h^=nQ[1]^nQ[17],this.v1l^=nQ[2]^nQ[18],this.v1h^=nQ[3]^nQ[19],this.v2l^=nQ[4]^nQ[20],this.v2h^=nQ[5]^nQ[21],this.v3l^=nQ[6]^nQ[22],this.v3h^=nQ[7]^nQ[23],this.v4l^=nQ[8]^nQ[24],this.v4h^=nQ[9]^nQ[25],this.v5l^=nQ[10]^nQ[26],this.v5h^=nQ[11]^nQ[27],this.v6l^=nQ[12]^nQ[28],this.v6h^=nQ[13]^nQ[29],this.v7l^=nQ[14]^nQ[30],this.v7h^=nQ[15]^nQ[31],rB(nQ)}destroy(){this.destroyed=!0,rB(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}function n7(eu){return eu instanceof Uint8Array||ArrayBuffer.isView(eu)&&"Uint8Array"===eu.constructor.name}function iu(eu){if("boolean"!=typeof eu)throw Error(`boolean expected, not ${eu}`)}function ih(eu){if(!Number.isSafeInteger(eu)||eu<0)throw Error("positive integer expected, got "+eu)}function ig(eu,...ed){if(!n7(eu))throw Error("Uint8Array expected");if(ed.length>0&&!ed.includes(eu.length))throw Error("Uint8Array expected of length "+ed+", got length="+eu.length)}function ib(eu,ed=!0){if(eu.destroyed)throw Error("Hash instance has been destroyed");if(ed&&eu.finished)throw Error("Hash#digest() has already been called")}function iw(eu,ed){ig(eu);let eg=ed.outputLen;if(eu.length<eg)throw Error("digestInto() expects output buffer of length at least "+eg)}function i_(eu){return new Uint32Array(eu.buffer,eu.byteOffset,Math.floor(eu.byteLength/4))}function iE(...eu){for(let ed=0;ed<eu.length;ed++)eu[ed].fill(0)}function iA(eu){return new DataView(eu.buffer,eu.byteOffset,eu.byteLength)}r3(eu=>new n9(eu)),Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;let iS=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0];function iI(eu){if("string"!=typeof eu)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(eu))}function iC(eu){if("string"==typeof eu)eu=iI(eu);else if(n7(eu))eu=iB(eu);else throw Error("Uint8Array expected, got "+typeof eu);return eu}function iM(eu,ed){if(null==ed||"object"!=typeof ed)throw Error("options must be defined");return Object.assign(eu,ed)}function iO(eu,ed){if(eu.length!==ed.length)return!1;let eg=0;for(let em=0;em<eu.length;em++)eg|=eu[em]^ed[em];return 0===eg}let iT=(eu,ed)=>{function eg(em,...eb){if(ig(em),!iS)throw Error("Non little-endian hardware is not yet supported");if(void 0!==eu.nonceLength){let ed=eb[0];if(!ed)throw Error("nonce / iv required");eu.varSizeNonce?ig(ed):ig(ed,eu.nonceLength)}let ew=eu.tagLength;ew&&void 0!==eb[1]&&ig(eb[1]);let e_=ed(em,...eb),eE=(eu,ed)=>{if(void 0!==ed){if(2!==eu)throw Error("cipher output not supported");ig(ed)}},eA=!1;return{encrypt(eu,ed){if(eA)throw Error("cannot encrypt() twice with same key + nonce");return eA=!0,ig(eu),eE(e_.encrypt.length,ed),e_.encrypt(eu,ed)},decrypt(eu,ed){if(ig(eu),ew&&eu.length<ew)throw Error("invalid ciphertext length: smaller than tagLength="+ew);return eE(e_.decrypt.length,ed),e_.decrypt(eu,ed)}}}return Object.assign(eg,eu),eg};function iP(eu,ed,eg=!0){if(void 0===ed)return new Uint8Array(eu);if(ed.length!==eu)throw Error("invalid output length, expected "+eu+", got: "+ed.length);if(eg&&!iD(ed))throw Error("invalid output, must be aligned");return ed}function iN(eu,ed,eg,em){if("function"==typeof eu.setBigUint64)return eu.setBigUint64(ed,eg,em);let eb=BigInt(32),ew=BigInt(4294967295),e_=Number(eg>>eb&ew),eE=Number(eg&ew),eA=em?4:0,eS=em?0:4;eu.setUint32(ed+eA,e_,em),eu.setUint32(ed+eS,eE,em)}function iR(eu,ed,eg){iu(eg);let em=new Uint8Array(16),eb=iA(em);return iN(eb,0,BigInt(ed),eg),iN(eb,8,BigInt(eu),eg),em}function iD(eu){return eu.byteOffset%4==0}function iB(eu){return Uint8Array.from(eu)}let iU=eu=>Uint8Array.from(eu.split("").map(eu=>eu.charCodeAt(0))),iL=iU("expand 16-byte k"),ij=iU("expand 32-byte k"),iF=i_(iL),i$=i_(ij);function iK(eu,ed){return eu<<ed|eu>>>32-ed}function iq(eu){return eu.byteOffset%4==0}let iH=64,iV=16,iG=4294967296-1,iW=new Uint32Array;function iJ(eu,ed,eg,em,eb,ew,e_,eE){let eA=eb.length,eS=new Uint8Array(iH),eI=i_(eS),eC=iq(eb)&&iq(ew),eM=eC?i_(eb):iW,eO=eC?i_(ew):iW;for(let eT=0;eT<eA;e_++){if(eu(ed,eg,em,eI,e_,eE),e_>=iG)throw Error("arx: counter overflow");let eP=Math.min(iH,eA-eT);if(eC&&eP===iH){let eu=eT/4;if(eT%4!=0)throw Error("arx: invalid block position");for(let ed=0,eg;ed<iV;ed++)eO[eg=eu+ed]=eM[eg]^eI[ed];eT+=iH;continue}for(let eu=0,ed;eu<eP;eu++)ew[ed=eT+eu]=eb[ed]^eS[eu];eT+=eP}}function iZ(eu,ed){let{allowShortKeys:eg,extendNonceFn:em,counterLength:eb,counterRight:ew,rounds:e_}=iM({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},ed);if("function"!=typeof eu)throw Error("core must be a function");return ih(eb),ih(e_),iu(ew),iu(eg),(ed,eE,eA,eS,eI=0)=>{ig(ed),ig(eE),ig(eA);let eC=eA.length;if(void 0===eS&&(eS=new Uint8Array(eC)),ig(eS),ih(eI),eI<0||eI>=iG)throw Error("arx: counter overflow");if(eS.length<eC)throw Error(`arx: output (${eS.length}) is shorter than data (${eC})`);let eM=[],eO=ed.length,eT,eP;if(32===eO)eM.push(eT=iB(ed)),eP=i$;else if(16===eO&&eg)(eT=new Uint8Array(32)).set(ed),eT.set(ed,16),eP=iF,eM.push(eT);else throw Error(`arx: invalid 32-byte key, got length=${eO}`);iq(eE)||eM.push(eE=iB(eE));let eN=i_(eT);if(em){if(24!==eE.length)throw Error("arx: extended nonce must be 24 bytes");em(eP,eN,i_(eE.subarray(0,16)),eN),eE=eE.subarray(16)}let ek=16-eb;if(ek!==eE.length)throw Error(`arx: nonce must be ${ek} or 16 bytes`);if(12!==ek){let eu=new Uint8Array(12);eu.set(eE,ew?0:12-eE.length),eE=eu,eM.push(eE)}let eR=i_(eE);return iJ(eu,eP,eN,eR,eA,eS,eI,e_),iE(...eM),eS}}let iY=(eu,ed)=>255&eu[ed++]|(255&eu[ed++])<<8;class iX{constructor(eu){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,ig(eu=iC(eu),32);let ed=iY(eu,0),eg=iY(eu,2),em=iY(eu,4),eb=iY(eu,6),ew=iY(eu,8),e_=iY(eu,10),eE=iY(eu,12),eA=iY(eu,14);this.r[0]=8191&ed,this.r[1]=(ed>>>13|eg<<3)&8191,this.r[2]=(eg>>>10|em<<6)&7939,this.r[3]=(em>>>7|eb<<9)&8191,this.r[4]=(eb>>>4|ew<<12)&255,this.r[5]=ew>>>1&8190,this.r[6]=(ew>>>14|e_<<2)&8191,this.r[7]=(e_>>>11|eE<<5)&8065,this.r[8]=(eE>>>8|eA<<8)&8191,this.r[9]=eA>>>5&127;for(let ed=0;ed<8;ed++)this.pad[ed]=iY(eu,16+2*ed)}process(eu,ed,eg=!1){let em=eg?0:2048,{h:eb,r:ew}=this,e_=ew[0],eE=ew[1],eA=ew[2],eS=ew[3],eI=ew[4],eC=ew[5],eM=ew[6],eO=ew[7],eT=ew[8],eP=ew[9],eN=iY(eu,ed+0),ek=iY(eu,ed+2),eR=iY(eu,ed+4),eD=iY(eu,ed+6),eB=iY(eu,ed+8),eU=iY(eu,ed+10),eL=iY(eu,ed+12),ej=iY(eu,ed+14),eF=eb[0]+(8191&eN),e$=eb[1]+((eN>>>13|ek<<3)&8191),eK=eb[2]+((ek>>>10|eR<<6)&8191),eH=eb[3]+((eR>>>7|eD<<9)&8191),eV=eb[4]+((eD>>>4|eB<<12)&8191),eG=eb[5]+(eB>>>1&8191),eW=eb[6]+((eB>>>14|eU<<2)&8191),eJ=eb[7]+((eU>>>11|eL<<5)&8191),eZ=eb[8]+((eL>>>8|ej<<8)&8191),eY=eb[9]+(ej>>>5|em),eX=0,eQ=0+eF*e_+e$*(5*eP)+eK*(5*eT)+eH*(5*eO)+eV*(5*eM);eX=eQ>>>13,eQ&=8191,eQ+=eG*(5*eC)+eW*(5*eI)+eJ*(5*eS)+eZ*(5*eA)+eY*(5*eE),eX+=eQ>>>13,eQ&=8191;let e0=eX+eF*eE+e$*e_+eK*(5*eP)+eH*(5*eT)+eV*(5*eO);eX=e0>>>13,e0&=8191,e0+=eG*(5*eM)+eW*(5*eC)+eJ*(5*eI)+eZ*(5*eS)+eY*(5*eA),eX+=e0>>>13,e0&=8191;let e6=eX+eF*eA+e$*eE+eK*e_+eH*(5*eP)+eV*(5*eT);eX=e6>>>13,e6&=8191,e6+=eG*(5*eO)+eW*(5*eM)+eJ*(5*eC)+eZ*(5*eI)+eY*(5*eS),eX+=e6>>>13,e6&=8191;let e8=eX+eF*eS+e$*eA+eK*eE+eH*e_+eV*(5*eP);eX=e8>>>13,e8&=8191,e8+=eG*(5*eT)+eW*(5*eO)+eJ*(5*eM)+eZ*(5*eC)+eY*(5*eI),eX+=e8>>>13,e8&=8191;let e5=eX+eF*eI+e$*eS+eK*eA+eH*eE+eV*e_;eX=e5>>>13,e5&=8191,e5+=eG*(5*eP)+eW*(5*eT)+eJ*(5*eO)+eZ*(5*eM)+eY*(5*eC),eX+=e5>>>13,e5&=8191;let e9=eX+eF*eC+e$*eI+eK*eS+eH*eA+eV*eE;eX=e9>>>13,e9&=8191,e9+=eG*e_+eW*(5*eP)+eJ*(5*eT)+eZ*(5*eO)+eY*(5*eM),eX+=e9>>>13,e9&=8191;let e7=eX+eF*eM+e$*eC+eK*eI+eH*eS+eV*eA;eX=e7>>>13,e7&=8191,e7+=eG*eE+eW*e_+eJ*(5*eP)+eZ*(5*eT)+eY*(5*eO),eX+=e7>>>13,e7&=8191;let tu=eX+eF*eO+e$*eM+eK*eC+eH*eI+eV*eS;eX=tu>>>13,tu&=8191,tu+=eG*eA+eW*eE+eJ*e_+eZ*(5*eP)+eY*(5*eT),eX+=tu>>>13,tu&=8191;let th=eX+eF*eT+e$*eO+eK*eM+eH*eC+eV*eI;eX=th>>>13,th&=8191,th+=eG*eS+eW*eA+eJ*eE+eZ*e_+eY*(5*eP),eX+=th>>>13,th&=8191;let td=eX+eF*eP+e$*eT+eK*eO+eH*eM+eV*eC;eX=td>>>13,td&=8191,td+=eG*eI+eW*eS+eJ*eA+eZ*eE+eY*e_,eX+=td>>>13,td&=8191,eQ=8191&(eX=(eX=(eX<<2)+eX|0)+eQ|0),eX>>>=13,e0+=eX,eb[0]=eQ,eb[1]=e0,eb[2]=e6,eb[3]=e8,eb[4]=e5,eb[5]=e9,eb[6]=e7,eb[7]=tu,eb[8]=th,eb[9]=td}finalize(){let{h:eu,pad:ed}=this,eg=new Uint16Array(10),em=eu[1]>>>13;eu[1]&=8191;for(let ed=2;ed<10;ed++)eu[ed]+=em,em=eu[ed]>>>13,eu[ed]&=8191;eu[0]+=5*em,em=eu[0]>>>13,eu[0]&=8191,eu[1]+=em,em=eu[1]>>>13,eu[1]&=8191,eu[2]+=em,eg[0]=eu[0]+5,em=eg[0]>>>13,eg[0]&=8191;for(let ed=1;ed<10;ed++)eg[ed]=eu[ed]+em,em=eg[ed]>>>13,eg[ed]&=8191;eg[9]-=8192;let eb=(1^em)-1;for(let eu=0;eu<10;eu++)eg[eu]&=eb;eb=~eb;for(let ed=0;ed<10;ed++)eu[ed]=eu[ed]&eb|eg[ed];eu[0]=(eu[0]|eu[1]<<13)&65535,eu[1]=(eu[1]>>>3|eu[2]<<10)&65535,eu[2]=(eu[2]>>>6|eu[3]<<7)&65535,eu[3]=(eu[3]>>>9|eu[4]<<4)&65535,eu[4]=(eu[4]>>>12|eu[5]<<1|eu[6]<<14)&65535,eu[5]=(eu[6]>>>2|eu[7]<<11)&65535,eu[6]=(eu[7]>>>5|eu[8]<<8)&65535,eu[7]=(eu[8]>>>8|eu[9]<<5)&65535;let ew=eu[0]+ed[0];eu[0]=65535&ew;for(let eg=1;eg<8;eg++)ew=(eu[eg]+ed[eg]|0)+(ew>>>16)|0,eu[eg]=65535&ew;iE(eg)}update(eu){ib(this),ig(eu=iC(eu));let{buffer:ed,blockLen:eg}=this,em=eu.length;for(let eb=0;eb<em;){let ew=Math.min(eg-this.pos,em-eb);if(ew===eg){for(;eg<=em-eb;eb+=eg)this.process(eu,eb);continue}ed.set(eu.subarray(eb,eb+ew),this.pos),this.pos+=ew,eb+=ew,this.pos===eg&&(this.process(ed,0,!1),this.pos=0)}return this}destroy(){iE(this.h,this.r,this.buffer,this.pad)}digestInto(eu){ib(this),iw(eu,this),this.finished=!0;let{buffer:ed,h:eg}=this,{pos:em}=this;if(em){for(ed[em++]=1;em<16;em++)ed[em]=0;this.process(ed,0,!0)}this.finalize();let eb=0;for(let ed=0;ed<8;ed++)eu[eb++]=eg[ed]>>>0,eu[eb++]=eg[ed]>>>8;return eu}digest(){let{buffer:eu,outputLen:ed}=this;this.digestInto(eu);let eg=eu.slice(0,ed);return this.destroy(),eg}}function iQ(eu){let ed=(ed,eg)=>eu(eg).update(iC(ed)).digest(),eg=eu(new Uint8Array(32));return ed.outputLen=eg.outputLen,ed.blockLen=eg.blockLen,ed.create=ed=>eu(ed),ed}let i0=iQ(eu=>new iX(eu));function i1(eu,ed,eg,em,eb,ew=20){let e_=eu[0],eE=eu[1],eA=eu[2],eS=eu[3],eI=ed[0],eC=ed[1],eM=ed[2],eO=ed[3],eT=ed[4],eP=ed[5],eN=ed[6],ek=ed[7],eR=eb,eD=eg[0],eB=eg[1],eU=eg[2],eL=e_,ej=eE,eF=eA,e$=eS,eK=eI,eH=eC,eV=eM,eG=eO,eW=eT,eJ=eP,eZ=eN,eY=ek,eX=eR,eQ=eD,e0=eB,e6=eU;for(let eu=0;eu<ew;eu+=2)eW=eW+(eX=iK(eX^(eL=eL+eK|0),16))|0,eL=eL+(eK=iK(eK^eW,12))|0,eW=eW+(eX=iK(eX^eL,8))|0,eK=iK(eK^eW,7),eJ=eJ+(eQ=iK(eQ^(ej=ej+eH|0),16))|0,ej=ej+(eH=iK(eH^eJ,12))|0,eJ=eJ+(eQ=iK(eQ^ej,8))|0,eH=iK(eH^eJ,7),eZ=eZ+(e0=iK(e0^(eF=eF+eV|0),16))|0,eF=eF+(eV=iK(eV^eZ,12))|0,eZ=eZ+(e0=iK(e0^eF,8))|0,eV=iK(eV^eZ,7),eY=eY+(e6=iK(e6^(e$=e$+eG|0),16))|0,e$=e$+(eG=iK(eG^eY,12))|0,eY=eY+(e6=iK(e6^e$,8))|0,eG=iK(eG^eY,7),eZ=eZ+(e6=iK(e6^(eL=eL+eH|0),16))|0,eL=eL+(eH=iK(eH^eZ,12))|0,eZ=eZ+(e6=iK(e6^eL,8))|0,eH=iK(eH^eZ,7),eY=eY+(eX=iK(eX^(ej=ej+eV|0),16))|0,ej=ej+(eV=iK(eV^eY,12))|0,eY=eY+(eX=iK(eX^ej,8))|0,eV=iK(eV^eY,7),eW=eW+(eQ=iK(eQ^(eF=eF+eG|0),16))|0,eF=eF+(eG=iK(eG^eW,12))|0,eW=eW+(eQ=iK(eQ^eF,8))|0,eG=iK(eG^eW,7),eJ=eJ+(e0=iK(e0^(e$=e$+eK|0),16))|0,e$=e$+(eK=iK(eK^eJ,12))|0,eJ=eJ+(e0=iK(e0^e$,8))|0,eK=iK(eK^eJ,7);let e8=0;em[e8++]=e_+eL|0,em[e8++]=eE+ej|0,em[e8++]=eA+eF|0,em[e8++]=eS+e$|0,em[e8++]=eI+eK|0,em[e8++]=eC+eH|0,em[e8++]=eM+eV|0,em[e8++]=eO+eG|0,em[e8++]=eT+eW|0,em[e8++]=eP+eJ|0,em[e8++]=eN+eZ|0,em[e8++]=ek+eY|0,em[e8++]=eR+eX|0,em[e8++]=eD+eQ|0,em[e8++]=eB+e0|0,em[e8++]=eU+e6|0}let i2=iZ(i1,{counterRight:!1,counterLength:4,allowShortKeys:!1}),i6=new Uint8Array(16),i3=(eu,ed)=>{eu.update(ed);let eg=ed.length%16;eg&&eu.update(i6.subarray(eg))},i8=new Uint8Array(32);function i5(eu,ed,eg,em,eb){let ew=eu(ed,eg,i8),e_=i0.create(ew);eb&&i3(e_,eb),i3(e_,em);let eE=iR(em.length,eb?eb.length:0,!0);e_.update(eE);let eA=e_.digest();return iE(ew,eE),eA}let i4=eu=>(ed,eg,em)=>({encrypt(eb,ew){let e_=eb.length;(ew=iP(e_+16,ew,!1)).set(eb);let eE=ew.subarray(0,-16);eu(ed,eg,eE,eE,1);let eA=i5(eu,ed,eg,eE,em);return ew.set(eA,e_),iE(eA),ew},decrypt(eb,ew){ew=iP(eb.length-16,ew,!1);let e_=eb.subarray(0,-16),eE=eb.subarray(-16),eA=i5(eu,ed,eg,e_,em);if(!iO(eE,eA))throw Error("invalid tag");return ew.set(eb.subarray(0,-16)),eu(ed,eg,ew,ew,1),iE(eA),ew}}),i9=iT({blockSize:64,nonceLength:12,tagLength:16},i4(i2));class i7 extends rQ{constructor(eu,ed){super(),this.finished=!1,this.destroyed=!1,rP(eu);let eg=rY(ed);if(this.iHash=eu.create(),"function"!=typeof this.iHash.update)throw Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let em=this.blockLen,eb=new Uint8Array(em);eb.set(eg.length>em?eu.create().update(eg).digest():eg);for(let eu=0;eu<eb.length;eu++)eb[eu]^=54;this.iHash.update(eb),this.oHash=eu.create();for(let eu=0;eu<eb.length;eu++)eb[eu]^=106;this.oHash.update(eb),rB(eb)}update(eu){return rN(this),this.iHash.update(eu),this}digestInto(eu){rN(this),rT(eu,this.outputLen),this.finished=!0,this.iHash.digestInto(eu),this.oHash.update(eu),this.oHash.digestInto(eu),this.destroy()}digest(){let eu=new Uint8Array(this.oHash.outputLen);return this.digestInto(eu),eu}_cloneInto(eu){eu||(eu=Object.create(Object.getPrototypeOf(this),{}));let{oHash:ed,iHash:eg,finished:em,destroyed:eb,blockLen:ew,outputLen:e_}=this;return eu.finished=em,eu.destroyed=eb,eu.blockLen=ew,eu.outputLen=e_,eu.oHash=ed._cloneInto(eu.oHash),eu.iHash=eg._cloneInto(eu.iHash),eu}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}let ou=(eu,ed,eg)=>new i7(eu,ed).update(eg).digest();function ol(eu,ed,eg){return rP(eu),void 0===eg&&(eg=new Uint8Array(eu.outputLen)),ou(eu,rY(eg),rY(ed))}ou.create=(eu,ed)=>new i7(eu,ed);let oh=Uint8Array.from([0]),od=Uint8Array.of();function og(eu,ed,eg,em=32){rP(eu),rO(em);let eb=eu.outputLen;if(em>255*eb)throw Error("Length should be <= 255*HashLen");let ew=Math.ceil(em/eb);void 0===eg&&(eg=od);let e_=new Uint8Array(ew*eb),eE=ou.create(eu,ed),eA=eE._cloneInto(),eS=new Uint8Array(eE.outputLen);for(let eu=0;eu<ew;eu++)oh[0]=eu+1,eA.update(0===eu?od:eS).update(eg).update(oh).digestInto(eS),e_.set(eS,eb*eu),eE._cloneInto(eA);return eE.destroy(),eA.destroy(),rB(eS,oh),e_.slice(0,em)}let oy=(eu,ed,eg,em,eb)=>og(eu,ol(eu,ed,eg),em,eb),om=nW,ob=BigInt(0),ov=BigInt(1);function ow(eu,ed){if("boolean"!=typeof ed)throw Error(eu+" boolean expected, got "+ed)}function o_(eu){let ed=eu.toString(16);return 1&ed.length?"0"+ed:ed}function oE(eu){if("string"!=typeof eu)throw Error("hex string expected, got "+typeof eu);return""===eu?ob:BigInt("0x"+eu)}function oA(eu){return oE(rV(eu))}function oS(eu){return rT(eu),oE(rV(Uint8Array.from(eu).reverse()))}function oI(eu,ed){return rJ(eu.toString(16).padStart(2*ed,"0"))}function ox(eu,ed){return oI(eu,ed).reverse()}function oC(eu,ed,eg){let em;if("string"==typeof ed)try{em=rJ(ed)}catch(ed){throw Error(eu+" must be hex string or Uint8Array, cause: "+ed)}else if(rM(ed))em=Uint8Array.from(ed);else throw Error(eu+" must be hex string or Uint8Array");let eb=em.length;if("number"==typeof eg&&eb!==eg)throw Error(eu+" of length "+eg+" expected, got "+eb);return em}let oM=eu=>"bigint"==typeof eu&&ob<=eu;function oO(eu,ed,eg){return oM(eu)&&oM(ed)&&oM(eg)&&ed<=eu&&eu<eg}function oT(eu,ed,eg,em){if(!oO(ed,eg,em))throw Error("expected valid "+eu+": "+eg+" <= n < "+em+", got "+ed)}function oP(eu){let ed;for(ed=0;eu>ob;eu>>=ov,ed+=1);return ed}let oN=eu=>(ov<<BigInt(eu))-ov;function oR(eu,ed,eg){if("number"!=typeof eu||eu<2)throw Error("hashLen must be a number");if("number"!=typeof ed||ed<2)throw Error("qByteLen must be a number");if("function"!=typeof eg)throw Error("hmacFn must be a function");let em=eu=>new Uint8Array(eu),eb=eu=>Uint8Array.of(eu),ew=em(eu),e_=em(eu),eE=0,eA=()=>{ew.fill(1),e_.fill(0),eE=0},eS=(...eu)=>eg(e_,ew,...eu),eI=(eu=em(0))=>{e_=eS(eb(0),eu),ew=eS(),0!==eu.length&&(e_=eS(eb(1),eu),ew=eS())},eC=()=>{if(eE++>=1e3)throw Error("drbg: tried 1000 values");let eu=0,eg=[];for(;eu<ed;){ew=eS();let ed=ew.slice();eg.push(ed),eu+=ew.length}return rX(...eg)};return(eu,ed)=>{let eg;for(eA(),eI(eu);!(eg=ed(eC()));)eI();return eA(),eg}}function oD(eu,ed,eg={}){if(!eu||"object"!=typeof eu)throw Error("expected valid options object");function em(ed,eg,em){let eb=eu[ed];if(em&&void 0===eb)return;let ew=typeof eb;if(ew!==eg||null===eb)throw Error(`param "${ed}" is invalid: expected ${eg}, got ${ew}`)}Object.entries(ed).forEach(([eu,ed])=>em(eu,ed,!1)),Object.entries(eg).forEach(([eu,ed])=>em(eu,ed,!0))}function oB(eu){let ed=new WeakMap;return(eg,...em)=>{let eb=ed.get(eg);if(void 0!==eb)return eb;let ew=eu(eg,...em);return ed.set(eg,ew),ew}}let oU=BigInt(0),oL=BigInt(1),oj=BigInt(2),oF=BigInt(3),o$=BigInt(4),oK=BigInt(5),oq=BigInt(8);function oz(eu,ed){let eg=eu%ed;return eg>=oU?eg:ed+eg}function oH(eu,ed,eg){let em=eu;for(;ed-- >oU;)em*=em,em%=eg;return em}function oV(eu,ed){if(eu===oU)throw Error("invert: expected non-zero number");if(ed<=oU)throw Error("invert: expected positive modulus, got "+ed);let eg=oz(eu,ed),em=ed,eb=oU,ew=oL;for(;eg!==oU;){let eu=em/eg,ed=em%eg,e_=eb-ew*eu;em=eg,eg=ed,eb=ew,ew=e_}if(em!==oL)throw Error("invert: does not exist");return oz(eb,ed)}function oG(eu,ed){let eg=(eu.ORDER+oL)/o$,em=eu.pow(ed,eg);if(!eu.eql(eu.sqr(em),ed))throw Error("Cannot find square root");return em}function oW(eu,ed){let eg=(eu.ORDER-oK)/oq,em=eu.mul(ed,oj),eb=eu.pow(em,eg),ew=eu.mul(ed,eb),e_=eu.mul(eu.mul(ew,oj),eb),eE=eu.mul(ew,eu.sub(e_,eu.ONE));if(!eu.eql(eu.sqr(eE),ed))throw Error("Cannot find square root");return eE}function oJ(eu){if(eu<BigInt(3))throw Error("sqrt is not defined for small field");let ed=eu-oL,eg=0;for(;ed%oj===oU;)ed/=oj,eg++;let em=oj,eb=o8(eu);for(;1===o6(eb,em);)if(em++>1e3)throw Error("Cannot find square root: probably non-prime P");if(1===eg)return oG;let ew=eb.pow(em,ed),e_=(ed+oL)/oj;return function(eu,em){if(eu.is0(em))return em;if(1!==o6(eu,em))throw Error("Cannot find square root");let eb=eg,eE=eu.mul(eu.ONE,ew),eA=eu.pow(em,ed),eS=eu.pow(em,e_);for(;!eu.eql(eA,eu.ONE);){if(eu.is0(eA))return eu.ZERO;let ed=1,eg=eu.sqr(eA);for(;!eu.eql(eg,eu.ONE);)if(ed++,eg=eu.sqr(eg),ed===eb)throw Error("Cannot find square root");let em=oL<<BigInt(eb-ed-1),ew=eu.pow(eE,em);eb=ed,eE=eu.sqr(ew),eA=eu.mul(eA,eE),eS=eu.mul(eS,ew)}return eS}}function oZ(eu){return eu%o$===oF?oG:eu%oq===oK?oW:oJ(eu)}let oY=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function oX(eu){let ed={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},eg=oY.reduce((eu,ed)=>(eu[ed]="function",eu),ed);return oD(eu,eg),eu}function oQ(eu,ed,eg){if(eg<oU)throw Error("invalid exponent, negatives unsupported");if(eg===oU)return eu.ONE;if(eg===oL)return ed;let em=eu.ONE,eb=ed;for(;eg>oU;)eg&oL&&(em=eu.mul(em,eb)),eb=eu.sqr(eb),eg>>=oL;return em}function o2(eu,ed,eg=!1){let em=Array(ed.length).fill(eg?eu.ZERO:void 0),eb=ed.reduce((ed,eg,eb)=>eu.is0(eg)?ed:(em[eb]=ed,eu.mul(ed,eg)),eu.ONE),ew=eu.inv(eb);return ed.reduceRight((ed,eg,eb)=>eu.is0(eg)?ed:(em[eb]=eu.mul(ed,em[eb]),eu.mul(ed,eg)),ew),em}function o6(eu,ed){let eg=(eu.ORDER-oL)/oj,em=eu.pow(ed,eg),eb=eu.eql(em,eu.ONE),ew=eu.eql(em,eu.ZERO),e_=eu.eql(em,eu.neg(eu.ONE));if(!eb&&!ew&&!e_)throw Error("invalid Legendre symbol result");return eb?1:ew?0:-1}function o3(eu,ed){void 0!==ed&&rO(ed);let eg=void 0!==ed?ed:eu.toString(2).length,em=Math.ceil(eg/8);return{nBitLength:eg,nByteLength:em}}function o8(eu,ed,eg=!1,em={}){let eb,ew,e_;if(eu<=oU)throw Error("invalid field: expected ORDER > 0, got "+eu);if("object"==typeof ed&&null!=ed){if(em.sqrt||eg)throw Error("cannot specify opts in two arguments");let eu=ed;eu.BITS&&(eb=eu.BITS),eu.sqrt&&(ew=eu.sqrt),"boolean"==typeof eu.isLE&&(eg=eu.isLE)}else"number"==typeof ed&&(eb=ed),em.sqrt&&(ew=em.sqrt);let{nBitLength:eE,nByteLength:eA}=o3(eu,eb);if(eA>2048)throw Error("invalid field: expected ORDER of <= 2048 bytes");let eS=Object.freeze({ORDER:eu,isLE:eg,BITS:eE,BYTES:eA,MASK:oN(eE),ZERO:oU,ONE:oL,create:ed=>oz(ed,eu),isValid:ed=>{if("bigint"!=typeof ed)throw Error("invalid field element: expected bigint, got "+typeof ed);return oU<=ed&&ed<eu},is0:eu=>eu===oU,isValidNot0:eu=>!eS.is0(eu)&&eS.isValid(eu),isOdd:eu=>(eu&oL)===oL,neg:ed=>oz(-ed,eu),eql:(eu,ed)=>eu===ed,sqr:ed=>oz(ed*ed,eu),add:(ed,eg)=>oz(ed+eg,eu),sub:(ed,eg)=>oz(ed-eg,eu),mul:(ed,eg)=>oz(ed*eg,eu),pow:(eu,ed)=>oQ(eS,eu,ed),div:(ed,eg)=>oz(ed*oV(eg,eu),eu),sqrN:eu=>eu*eu,addN:(eu,ed)=>eu+ed,subN:(eu,ed)=>eu-ed,mulN:(eu,ed)=>eu*ed,inv:ed=>oV(ed,eu),sqrt:ew||(ed=>(e_||(e_=oZ(eu)),e_(eS,ed))),toBytes:eu=>eg?ox(eu,eA):oI(eu,eA),fromBytes:eu=>{if(eu.length!==eA)throw Error("Field.fromBytes: expected "+eA+" bytes, got "+eu.length);return eg?oS(eu):oA(eu)},invertBatch:eu=>o2(eS,eu),cmov:(eu,ed,eg)=>eg?ed:eu});return Object.freeze(eS)}function o5(eu){if("bigint"!=typeof eu)throw Error("field order must be bigint");let ed=eu.toString(2).length;return Math.ceil(ed/8)}function o4(eu){let ed=o5(eu);return ed+Math.ceil(ed/2)}function o9(eu,ed,eg=!1){let em=eu.length,eb=o5(ed),ew=o4(ed);if(em<16||em<ew||em>1024)throw Error("expected "+ew+"-1024 bytes of input, got "+em);let e_=eg?oS(eu):oA(eu),eE=oz(e_,ed-oL)+oL;return eg?ox(eE,eb):oI(eE,eb)}let o7=BigInt(0),su=BigInt(1);function sp(eu,ed){let eg=ed.negate();return eu?eg:ed}function sg(eu,ed,eg){let em="pz"===ed?eu=>eu.pz:eu=>eu.ez,eb=o2(eu.Fp,eg.map(em));return eg.map((eu,ed)=>eu.toAffine(eb[ed])).map(eu.fromAffine)}function sy(eu,ed){if(!Number.isSafeInteger(eu)||eu<=0||eu>ed)throw Error("invalid window size, expected [1.."+ed+"], got W="+eu)}function sm(eu,ed){sy(eu,ed);let eg=Math.ceil(ed/eu)+1,em=2**(eu-1),eb=2**eu,ew=oN(eu),e_=BigInt(eu);return{windows:eg,windowSize:em,mask:ew,maxNumber:eb,shiftBy:e_}}function sE(eu,ed,eg){let{windowSize:em,mask:eb,maxNumber:ew,shiftBy:e_}=eg,eE=Number(eu&eb),eA=eu>>e_;eE>em&&(eE-=ew,eA+=su);let eS=ed*em,eI=eS+Math.abs(eE)-1,eC=0===eE,eM=eE<0,eO=ed%2!=0;return{nextN:eA,offset:eI,isZero:eC,isNeg:eM,isNegF:eO,offsetF:eS}}function sA(eu,ed){if(!Array.isArray(eu))throw Error("array expected");eu.forEach((eu,eg)=>{if(!(eu instanceof ed))throw Error("invalid point at index "+eg)})}function sS(eu,ed){if(!Array.isArray(eu))throw Error("array of scalars expected");eu.forEach((eu,eg)=>{if(!ed.isValid(eu))throw Error("invalid scalar at index "+eg)})}let sI=new WeakMap,sC=new WeakMap;function sM(eu){return sC.get(eu)||1}function sO(eu){if(eu!==o7)throw Error("invalid wNAF")}function sT(eu,ed){return{constTimeNegate:sp,hasPrecomputes:eu=>1!==sM(eu),unsafeLadder(ed,eg,em=eu.ZERO){let eb=ed;for(;eg>o7;)eg&su&&(em=em.add(eb)),eb=eb.double(),eg>>=su;return em},precomputeWindow(eu,eg){let{windows:em,windowSize:eb}=sm(eg,ed),ew=[],e_=eu,eE=e_;for(let eu=0;eu<em;eu++){eE=e_,ew.push(eE);for(let eu=1;eu<eb;eu++)eE=eE.add(e_),ew.push(eE);e_=eE.double()}return ew},wNAF(eg,em,eb){let ew=eu.ZERO,e_=eu.BASE,eE=sm(eg,ed);for(let eu=0;eu<eE.windows;eu++){let{nextN:ed,offset:eg,isZero:eA,isNeg:eS,isNegF:eI,offsetF:eC}=sE(eb,eu,eE);eb=ed,eA?e_=e_.add(sp(eI,em[eC])):ew=ew.add(sp(eS,em[eg]))}return sO(eb),{p:ew,f:e_}},wNAFUnsafe(eg,em,eb,ew=eu.ZERO){let e_=sm(eg,ed);for(let eu=0;eu<e_.windows&&eb!==o7;eu++){let{nextN:ed,offset:eg,isZero:eE,isNeg:eA}=sE(eb,eu,e_);if(eb=ed,!eE){let eu=em[eg];ew=ew.add(eA?eu.negate():eu)}}return sO(eb),ew},getPrecomputes(eu,ed,eg){let em=sI.get(ed);return em||(em=this.precomputeWindow(ed,eu),1!==eu&&("function"==typeof eg&&(em=eg(em)),sI.set(ed,em))),em},wNAFCached(eu,ed,eg){let em=sM(eu);return this.wNAF(em,this.getPrecomputes(em,eu,eg),ed)},wNAFCachedUnsafe(eu,ed,eg,em){let eb=sM(eu);return 1===eb?this.unsafeLadder(eu,ed,em):this.wNAFUnsafe(eb,this.getPrecomputes(eb,eu,eg),ed,em)},setWindowSize(eu,eg){sy(eg,ed),sC.set(eu,eg),sI.delete(eu)}}}function sP(eu,ed,eg,em){let eb=ed,ew=eu.ZERO,e_=eu.ZERO;for(;eg>o7||em>o7;)eg&su&&(ew=ew.add(eb)),em&su&&(e_=e_.add(eb)),eb=eb.double(),eg>>=su,em>>=su;return{p1:ew,p2:e_}}function sN(eu,ed,eg,em){sA(eg,eu),sS(em,ed);let eb=eg.length,ew=em.length;if(eb!==ew)throw Error("arrays of points and scalars must have equal length");let e_=eu.ZERO,eE=oP(BigInt(eb)),eA=1;eE>12?eA=eE-3:eE>4?eA=eE-2:eE>0&&(eA=2);let eS=oN(eA),eI=Array(Number(eS)+1).fill(e_),eC=Math.floor((ed.BITS-1)/eA)*eA,eM=e_;for(let eu=eC;eu>=0;eu-=eA){eI.fill(e_);for(let ed=0;ed<ew;ed++){let eb=em[ed],ew=Number(eb>>BigInt(eu)&eS);eI[ew]=eI[ew].add(eg[ed])}let ed=e_;for(let eu=eI.length-1,eg=e_;eu>0;eu--)eg=eg.add(eI[eu]),ed=ed.add(eg);if(eM=eM.add(ed),0!==eu)for(let eu=0;eu<eA;eu++)eM=eM.double()}return eM}function sk(eu,ed){if(!ed)return o8(eu);if(ed.ORDER!==eu)throw Error("Field.ORDER must match order: Fp == p, Fn == n");return oX(ed),ed}function sR(eu,ed,eg={}){if(!ed||"object"!=typeof ed)throw Error(`expected valid ${eu} CURVE object`);for(let eu of["p","n","h"]){let eg=ed[eu];if(!("bigint"==typeof eg&&eg>o7))throw Error(`CURVE.${eu} must be positive bigint`)}let em=sk(ed.p,eg.Fp),eb=sk(ed.n,eg.Fn),ew=["Gx","Gy","a","weierstrass"===eu?"b":"d"];for(let eu of ew)if(!em.isValid(ed[eu]))throw Error(`CURVE.${eu} must be valid field element of CURVE.Fp`);return{Fp:em,Fn:eb}}BigInt(0),BigInt(1),BigInt(2),BigInt(8);let sD=BigInt(0),sB=BigInt(1),sU=BigInt(2);function sL(eu){return oD(eu,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...eu})}function sj(eu){let ed=sL(eu),{P:eg,type:em,adjustScalarBytes:eb,powPminus2:ew,randomBytes:e_}=ed,eE="x25519"===em;if(!eE&&"x448"!==em)throw Error("invalid type");let eA=e_||r8,eS=eE?255:448,eI=eE?32:56,eC=BigInt(eE?9:5),eM=BigInt(eE?121665:39081),eO=eE?sU**BigInt(254):sU**BigInt(447),eT=eE?BigInt(8)*sU**BigInt(251)-sB:BigInt(4)*sU**BigInt(445)-sB,eP=eO+eT+sB,eN=eu=>oz(eu,eg),ek=eR(eC);function eR(eu){return ox(eN(eu),eI)}function eD(eu){let ed=oC("u coordinate",eu,eI);return eE&&(ed[31]&=127),eN(oS(ed))}function eB(eu){return oS(eb(oC("scalar",eu,eI)))}function eU(eu,ed){let eg=eF(eD(ed),eB(eu));if(eg===sD)throw Error("invalid private or public key received");return eR(eg)}function eL(eu){return eU(eu,ek)}function ej(eu,ed,eg){let em=eN(eu*(ed-eg));return{x_2:ed=eN(ed-em),x_3:eg=eN(eg+em)}}function eF(eu,ed){oT("u",eu,sD,eg),oT("scalar",ed,eO,eP);let em=ed,eb=eu,e_=sB,eE=sD,eA=eu,eI=sB,eC=sD;for(let eu=BigInt(eS-1);eu>=sD;eu--){let ed=em>>eu&sB;eC^=ed,({x_2:e_,x_3:eA}=ej(eC,e_,eA)),({x_2:eE,x_3:eI}=ej(eC,eE,eI)),eC=ed;let eg=e_+eE,ew=eN(eg*eg),eS=e_-eE,eO=eN(eS*eS),eT=ew-eO,eP=eA+eI,ek=eA-eI,eR=eN(ek*eg),eD=eN(eP*eS),eB=eR+eD,eU=eR-eD;eA=eN(eB*eB),eI=eN(eb*eN(eU*eU)),e_=eN(ew*eO),eE=eN(eT*(ew+eN(eM*eT)))}({x_2:e_,x_3:eA}=ej(eC,e_,eA)),{x_2:eE,x_3:eI}=ej(eC,eE,eI);let eT=ew(eE);return eN(e_*eT)}return{scalarMult:eU,scalarMultBase:eL,getSharedSecret:(eu,ed)=>eU(eu,ed),getPublicKey:eu=>eL(eu),utils:{randomPrivateKey:()=>eA(eI)},GuBytes:ek.slice()}}BigInt(0);let sF=BigInt(1),s$=BigInt(2),sK=BigInt(3),sq=BigInt(5),sz=BigInt(8),sH={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:sz,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function sV(eu){let ed=BigInt(10),eg=BigInt(20),em=BigInt(40),eb=BigInt(80),ew=sH.p,e_=eu*eu%ew*eu%ew,eE=oH(e_,s$,ew)*e_%ew,eA=oH(eE,sF,ew)*eu%ew,eS=oH(eA,sq,ew)*eA%ew,eI=oH(eS,ed,ew)*eS%ew,eC=oH(eI,eg,ew)*eI%ew,eM=oH(eC,em,ew)*eC%ew,eO=oH(eM,eb,ew)*eM%ew,eT=oH(eO,eb,ew)*eM%ew,eP=oH(eT,ed,ew)*eS%ew;return{pow_p_5_8:oH(eP,s$,ew)*eu%ew,b2:e_}}function sG(eu){return eu[0]&=248,eu[31]&=127,eu[31]|=64,eu}let sW=(()=>{let eu=sH.p;return sj({P:eu,type:"x25519",powPminus2:ed=>{let{pow_p_5_8:eg,b2:em}=sV(ed);return oz(oH(eg,sK,eu)*em,eu)},adjustScalarBytes:sG})})();function sJ(eu){void 0!==eu.lowS&&ow("lowS",eu.lowS),void 0!==eu.prehash&&ow("prehash",eu.prehash)}class sZ extends Error{constructor(eu=""){super(eu)}}let sY={Err:sZ,_tlv:{encode:(eu,ed)=>{let{Err:eg}=sY;if(eu<0||eu>256)throw new eg("tlv.encode: wrong tag");if(1&ed.length)throw new eg("tlv.encode: unpadded data");let em=ed.length/2,eb=o_(em);if(eb.length/2&128)throw new eg("tlv.encode: long form length too big");let ew=em>127?o_(eb.length/2|128):"";return o_(eu)+ew+eb+ed},decode(eu,ed){let{Err:eg}=sY,em=0;if(eu<0||eu>256)throw new eg("tlv.encode: wrong tag");if(ed.length<2||ed[em++]!==eu)throw new eg("tlv.decode: wrong tlv");let eb=ed[em++],ew=!!(128&eb),e_=0;if(ew){let eu=127&eb;if(!eu)throw new eg("tlv.decode(long): indefinite length not supported");if(eu>4)throw new eg("tlv.decode(long): byte length is too big");let ew=ed.subarray(em,em+eu);if(ew.length!==eu)throw new eg("tlv.decode: length bytes not complete");if(0===ew[0])throw new eg("tlv.decode(long): zero leftmost byte");for(let eu of ew)e_=e_<<8|eu;if(em+=eu,e_<128)throw new eg("tlv.decode(long): not minimal encoding")}else e_=eb;let eE=ed.subarray(em,em+e_);if(eE.length!==e_)throw new eg("tlv.decode: wrong value length");return{v:eE,l:ed.subarray(em+e_)}}},_int:{encode(eu){let{Err:ed}=sY;if(eu<sX)throw new ed("integer: negative integers are not allowed");let eg=o_(eu);if(8&Number.parseInt(eg[0],16)&&(eg="00"+eg),1&eg.length)throw new ed("unexpected DER parsing assertion: unpadded hex");return eg},decode(eu){let{Err:ed}=sY;if(128&eu[0])throw new ed("invalid signature integer: negative");if(0===eu[0]&&!(128&eu[1]))throw new ed("invalid signature integer: unnecessary leading zero");return oA(eu)}},toSig(eu){let{Err:ed,_int:eg,_tlv:em}=sY,eb=oC("signature",eu),{v:ew,l:e_}=em.decode(48,eb);if(e_.length)throw new ed("invalid signature: left bytes after parsing");let{v:eE,l:eA}=em.decode(2,ew),{v:eS,l:eI}=em.decode(2,eA);if(eI.length)throw new ed("invalid signature: left bytes after parsing");return{r:eg.decode(eE),s:eg.decode(eS)}},hexFromSig(eu){let{_tlv:ed,_int:eg}=sY,em=ed.encode(2,eg.encode(eu.r)),eb=ed.encode(2,eg.encode(eu.s)),ew=em+eb;return ed.encode(48,ew)}},sX=BigInt(0),sQ=BigInt(1),s6=BigInt(2),s8=BigInt(3),s5=BigInt(4);function s4(eu,ed,eg){return function(em){let eb=eu.sqr(em),ew=eu.mul(eb,em);return eu.add(eu.add(ew,eu.mul(em,ed)),eg)}}function s9(eu,ed,eg){let{BYTES:em}=eu;return function(eb){let ew;if("bigint"==typeof eb)ew=eb;else{let eg=oC("private key",eb);if(ed){if(!ed.includes(2*eg.length))throw Error("invalid private key");let eu=new Uint8Array(em);eu.set(eg,eu.length-eg.length),eg=eu}try{ew=eu.fromBytes(eg)}catch{throw Error(`invalid private key: expected ui8a of size ${em}, got ${typeof eb}`)}}if(eg&&(ew=eu.create(ew)),!eu.isValidNot0(ew))throw Error("invalid private key: out of range [1..N-1]");return ew}}function s7(eu,ed={}){let{Fp:eg,Fn:em}=sR("weierstrass",eu,ed),{h:eb,n:ew}=eu;oD(ed,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});let{endo:e_}=ed;if(e_&&(!eg.is0(eu.a)||"bigint"!=typeof e_.beta||"function"!=typeof e_.splitScalar))throw Error('invalid endo: expected "beta": bigint and "splitScalar": function');function eE(){if(!eg.isOdd)throw Error("compression is not supported: Field does not have .isOdd()")}function eA(eu,ed,em){let{x:eb,y:ew}=ed.toAffine(),e_=eg.toBytes(eb);if(ow("isCompressed",em),!em)return rX(Uint8Array.of(4),e_,eg.toBytes(ew));{eE();let eu=!eg.isOdd(ew);return rX(au(eu),e_)}}function eS(eu){rT(eu);let ed=eg.BYTES,em=ed+1,eb=2*ed+1,ew=eu.length,e_=eu[0],eA=eu.subarray(1);if(ew===em&&(2===e_||3===e_)){let eu;let ed=eg.fromBytes(eA);if(!eg.isValid(ed))throw Error("bad point: is not on curve, wrong x");let em=eM(ed);try{eu=eg.sqrt(em)}catch(ed){let eu=ed instanceof Error?": "+ed.message:"";throw Error("bad point: is not on curve, sqrt error"+eu)}eE();let eb=eg.isOdd(eu);return(1&e_)==1!==eb&&(eu=eg.neg(eu)),{x:ed,y:eu}}if(ew===eb&&4===e_){let eu=eg.fromBytes(eA.subarray(0*ed,1*ed)),em=eg.fromBytes(eA.subarray(1*ed,2*ed));if(!eO(eu,em))throw Error("bad point: is not on curve");return{x:eu,y:em}}throw Error(`bad point: got length ${ew}, expected compressed=${em} or uncompressed=${eb}`)}let eI=ed.toBytes||eA,eC=ed.fromBytes||eS,eM=s4(eg,eu.a,eu.b);function eO(eu,ed){let em=eg.sqr(ed),eb=eM(eu);return eg.eql(em,eb)}if(!eO(eu.Gx,eu.Gy))throw Error("bad curve params: generator point");let eT=eg.mul(eg.pow(eu.a,s8),s5),eP=eg.mul(eg.sqr(eu.b),BigInt(27));if(eg.is0(eg.add(eT,eP)))throw Error("bad curve params: a or b");function eN(eu,ed,em=!1){if(!eg.isValid(ed)||em&&eg.is0(ed))throw Error(`bad point coordinate ${eu}`);return ed}function ek(eu){if(!(eu instanceof eU))throw Error("ProjectivePoint expected")}let eR=oB((eu,ed)=>{let{px:em,py:eb,pz:ew}=eu;if(eg.eql(ew,eg.ONE))return{x:em,y:eb};let e_=eu.is0();null==ed&&(ed=e_?eg.ONE:eg.inv(ew));let eE=eg.mul(em,ed),eA=eg.mul(eb,ed),eS=eg.mul(ew,ed);if(e_)return{x:eg.ZERO,y:eg.ZERO};if(!eg.eql(eS,eg.ONE))throw Error("invZ was invalid");return{x:eE,y:eA}}),eD=oB(eu=>{if(eu.is0()){if(ed.allowInfinityPoint&&!eg.is0(eu.py))return;throw Error("bad point: ZERO")}let{x:em,y:eb}=eu.toAffine();if(!eg.isValid(em)||!eg.isValid(eb))throw Error("bad point: x or y not field elements");if(!eO(em,eb))throw Error("bad point: equation left != right");if(!eu.isTorsionFree())throw Error("bad point: not in prime-order subgroup");return!0});function eB(eu,ed,em,eb,ew){return em=new eU(eg.mul(em.px,eu),em.py,em.pz),ed=sp(eb,ed),em=sp(ew,em),ed.add(em)}class eU{constructor(eu,ed,eg){this.px=eN("x",eu),this.py=eN("y",ed,!0),this.pz=eN("z",eg),Object.freeze(this)}static fromAffine(eu){let{x:ed,y:em}=eu||{};if(!eu||!eg.isValid(ed)||!eg.isValid(em))throw Error("invalid affine point");if(eu instanceof eU)throw Error("projective point not allowed");return eg.is0(ed)&&eg.is0(em)?eU.ZERO:new eU(ed,em,eg.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(eu){return sg(eU,"pz",eu)}static fromBytes(eu){return rT(eu),eU.fromHex(eu)}static fromHex(eu){let ed=eU.fromAffine(eC(oC("pointHex",eu)));return ed.assertValidity(),ed}static fromPrivateKey(eu){let eg=s9(em,ed.allowedPrivateKeyLengths,ed.wrapPrivateKey);return eU.BASE.multiply(eg(eu))}static msm(eu,ed){return sN(eU,em,eu,ed)}precompute(eu=8,ed=!0){return ej.setWindowSize(this,eu),ed||this.multiply(s8),this}_setWindowSize(eu){this.precompute(eu)}assertValidity(){eD(this)}hasEvenY(){let{y:eu}=this.toAffine();if(!eg.isOdd)throw Error("Field doesn't support isOdd");return!eg.isOdd(eu)}equals(eu){ek(eu);let{px:ed,py:em,pz:eb}=this,{px:ew,py:e_,pz:eE}=eu,eA=eg.eql(eg.mul(ed,eE),eg.mul(ew,eb)),eS=eg.eql(eg.mul(em,eE),eg.mul(e_,eb));return eA&&eS}negate(){return new eU(this.px,eg.neg(this.py),this.pz)}double(){let{a:ed,b:em}=eu,eb=eg.mul(em,s8),{px:ew,py:e_,pz:eE}=this,eA=eg.ZERO,eS=eg.ZERO,eI=eg.ZERO,eC=eg.mul(ew,ew),eM=eg.mul(e_,e_),eO=eg.mul(eE,eE),eT=eg.mul(ew,e_);return eT=eg.add(eT,eT),eI=eg.mul(ew,eE),eI=eg.add(eI,eI),eA=eg.mul(ed,eI),eS=eg.mul(eb,eO),eS=eg.add(eA,eS),eA=eg.sub(eM,eS),eS=eg.add(eM,eS),eS=eg.mul(eA,eS),eA=eg.mul(eT,eA),eI=eg.mul(eb,eI),eO=eg.mul(ed,eO),eT=eg.sub(eC,eO),eT=eg.mul(ed,eT),eT=eg.add(eT,eI),eI=eg.add(eC,eC),eC=eg.add(eI,eC),eC=eg.add(eC,eO),eC=eg.mul(eC,eT),eS=eg.add(eS,eC),eO=eg.mul(e_,eE),eO=eg.add(eO,eO),eC=eg.mul(eO,eT),eA=eg.sub(eA,eC),eI=eg.mul(eO,eM),eI=eg.add(eI,eI),eI=eg.add(eI,eI),new eU(eA,eS,eI)}add(ed){ek(ed);let{px:em,py:eb,pz:ew}=this,{px:e_,py:eE,pz:eA}=ed,eS=eg.ZERO,eI=eg.ZERO,eC=eg.ZERO,eM=eu.a,eO=eg.mul(eu.b,s8),eT=eg.mul(em,e_),eP=eg.mul(eb,eE),eN=eg.mul(ew,eA),eR=eg.add(em,eb),eD=eg.add(e_,eE);eR=eg.mul(eR,eD),eD=eg.add(eT,eP),eR=eg.sub(eR,eD),eD=eg.add(em,ew);let eB=eg.add(e_,eA);return eD=eg.mul(eD,eB),eB=eg.add(eT,eN),eD=eg.sub(eD,eB),eB=eg.add(eb,ew),eS=eg.add(eE,eA),eB=eg.mul(eB,eS),eS=eg.add(eP,eN),eB=eg.sub(eB,eS),eC=eg.mul(eM,eD),eS=eg.mul(eO,eN),eC=eg.add(eS,eC),eS=eg.sub(eP,eC),eC=eg.add(eP,eC),eI=eg.mul(eS,eC),eP=eg.add(eT,eT),eP=eg.add(eP,eT),eN=eg.mul(eM,eN),eD=eg.mul(eO,eD),eP=eg.add(eP,eN),eN=eg.sub(eT,eN),eN=eg.mul(eM,eN),eD=eg.add(eD,eN),eT=eg.mul(eP,eD),eI=eg.add(eI,eT),eT=eg.mul(eB,eD),eS=eg.mul(eR,eS),eS=eg.sub(eS,eT),eT=eg.mul(eR,eP),eC=eg.mul(eB,eC),eC=eg.add(eC,eT),new eU(eS,eI,eC)}subtract(eu){return this.add(eu.negate())}is0(){return this.equals(eU.ZERO)}multiply(eu){let eg,eb;let{endo:ew}=ed;if(!em.isValidNot0(eu))throw Error("invalid scalar: out of range");let e_=eu=>ej.wNAFCached(this,eu,eU.normalizeZ);if(ew){let{k1neg:ed,k1:em,k2neg:eE,k2:eA}=ew.splitScalar(eu),{p:eS,f:eI}=e_(em),{p:eC,f:eM}=e_(eA);eb=eI.add(eM),eg=eB(ew.beta,eS,eC,ed,eE)}else{let{p:ed,f:em}=e_(eu);eg=ed,eb=em}return eU.normalizeZ([eg,eb])[0]}multiplyUnsafe(eu){let{endo:eg}=ed,eb=this;if(!em.isValid(eu))throw Error("invalid scalar: out of range");if(eu===sX||eb.is0())return eU.ZERO;if(eu===sQ)return eb;if(ej.hasPrecomputes(this))return this.multiply(eu);if(!eg)return ej.wNAFCachedUnsafe(eb,eu);{let{k1neg:ed,k1:em,k2neg:ew,k2:e_}=eg.splitScalar(eu),{p1:eE,p2:eA}=sP(eU,eb,em,e_);return eB(eg.beta,eE,eA,ed,ew)}}multiplyAndAddUnsafe(eu,ed,eg){let em=this.multiplyUnsafe(ed).add(eu.multiplyUnsafe(eg));return em.is0()?void 0:em}toAffine(eu){return eR(this,eu)}isTorsionFree(){let{isTorsionFree:eu}=ed;return eb===sQ||(eu?eu(eU,this):ej.wNAFCachedUnsafe(this,ew).is0())}clearCofactor(){let{clearCofactor:eu}=ed;return eb===sQ?this:eu?eu(eU,this):this.multiplyUnsafe(eb)}toBytes(eu=!0){return ow("isCompressed",eu),this.assertValidity(),eI(eU,this,eu)}toRawBytes(eu=!0){return this.toBytes(eu)}toHex(eu=!0){return rV(this.toBytes(eu))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}eU.BASE=new eU(eu.Gx,eu.Gy,eg.ONE),eU.ZERO=new eU(eg.ZERO,eg.ONE,eg.ZERO),eU.Fp=eg,eU.Fn=em;let eL=em.BITS,ej=sT(eU,ed.endo?Math.ceil(eL/2):eL);return eU}function au(eu){return Uint8Array.of(eu?2:3)}function ad(eu,ed,eg={}){oD(ed,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});let em=ed.randomBytes||r8,eb=ed.hmac||((eu,...eg)=>ou(ed.hash,eu,rX(...eg))),{Fp:ew,Fn:e_}=eu,{ORDER:eE,BITS:eA}=e_;function eS(eu){let ed=eE>>sQ;return eu>ed}function eI(eu){return eS(eu)?e_.neg(eu):eu}function eC(eu,ed){if(!e_.isValidNot0(ed))throw Error(`invalid signature ${eu}: out of range 1..CURVE.n`)}class eM{constructor(eu,ed,eg){eC("r",eu),eC("s",ed),this.r=eu,this.s=ed,null!=eg&&(this.recovery=eg),Object.freeze(this)}static fromCompact(eu){let ed=e_.BYTES,eg=oC("compactSignature",eu,2*ed);return new eM(e_.fromBytes(eg.subarray(0,ed)),e_.fromBytes(eg.subarray(ed,2*ed)))}static fromDER(eu){let{r:ed,s:eg}=sY.toSig(oC("DER",eu));return new eM(ed,eg)}assertValidity(){}addRecoveryBit(eu){return new eM(this.r,this.s,eu)}recoverPublicKey(ed){let eg=ew.ORDER,{r:em,s:eb,recovery:eA}=this;if(null==eA||![0,1,2,3].includes(eA))throw Error("recovery id invalid");if(eE*s6<eg&&eA>1)throw Error("recovery id is ambiguous for h>1 curve");let eS=2===eA||3===eA?em+eE:em;if(!ew.isValid(eS))throw Error("recovery id 2 or 3 invalid");let eI=ew.toBytes(eS),eC=eu.fromHex(rX(au((1&eA)==0),eI)),eM=e_.inv(eS),eO=eD(oC("msgHash",ed)),eT=e_.create(-eO*eM),eP=e_.create(eb*eM),eN=eu.BASE.multiplyUnsafe(eT).add(eC.multiplyUnsafe(eP));if(eN.is0())throw Error("point at infinify");return eN.assertValidity(),eN}hasHighS(){return eS(this.s)}normalizeS(){return this.hasHighS()?new eM(this.r,e_.neg(this.s),this.recovery):this}toBytes(eu){if("compact"===eu)return rX(e_.toBytes(this.r),e_.toBytes(this.s));if("der"===eu)return rJ(sY.hexFromSig(this));throw Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return rV(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return rV(this.toBytes("compact"))}}let eO=s9(e_,eg.allowedPrivateKeyLengths,eg.wrapPrivateKey),eT={isValidPrivateKey(eu){try{return eO(eu),!0}catch{return!1}},normPrivateKeyToScalar:eO,randomPrivateKey:()=>{let eu=eE;return o9(em(o4(eu)),eu)},precompute:(ed=8,eg=eu.BASE)=>eg.precompute(ed,!1)};function eP(ed,eg=!0){return eu.fromPrivateKey(ed).toBytes(eg)}function eN(ed){if("bigint"==typeof ed)return!1;if(ed instanceof eu)return!0;let em=oC("key",ed).length,eb=ew.BYTES,eE=eb+1,eA=2*eb+1;if(!(eg.allowedPrivateKeyLengths||e_.BYTES===eE))return em===eE||em===eA}function ek(ed,eg,em=!0){if(!0===eN(ed))throw Error("first arg must be private key");if(!1===eN(eg))throw Error("second arg must be public key");return eu.fromHex(eg).multiply(eO(ed)).toBytes(em)}let eR=ed.bits2int||function(eu){if(eu.length>8192)throw Error("input is too large");let ed=oA(eu),eg=8*eu.length-eA;return eg>0?ed>>BigInt(eg):ed},eD=ed.bits2int_modN||function(eu){return e_.create(eR(eu))},eB=oN(eA);function eU(eu){return oT("num < 2^"+eA,eu,sX,eB),e_.toBytes(eu)}function eL(eg,eb,eE=ej){if(["recovered","canonical"].some(eu=>eu in eE))throw Error("sign() legacy options not supported");let{hash:eA}=ed,{lowS:eC,prehash:eT,extraEntropy:eP}=eE;null==eC&&(eC=!0),eg=oC("msgHash",eg),sJ(eE),eT&&(eg=oC("prehashed msgHash",eA(eg)));let eN=eD(eg),ek=eO(eb),eB=[eU(ek),eU(eN)];if(null!=eP&&!1!==eP){let eu=!0===eP?em(ew.BYTES):eP;eB.push(oC("extraEntropy",eu))}let eL=rX(...eB),eF=eN;return{seed:eL,k2sig:function(ed){let eg=eR(ed);if(!e_.isValidNot0(eg))return;let em=e_.inv(eg),eb=eu.BASE.multiply(eg).toAffine(),ew=e_.create(eb.x);if(ew===sX)return;let eE=e_.create(em*e_.create(eF+ew*ek));if(eE===sX)return;let eA=(eb.x===ew?0:2)|Number(eb.y&sQ),eO=eE;return eC&&eS(eE)&&(eO=eI(eE),eA^=1),new eM(ew,eO,eA)}}}let ej={lowS:ed.lowS,prehash:!1},eF={lowS:ed.lowS,prehash:!1};function e$(eu,eg,em=ej){let{seed:ew,k2sig:eE}=eL(eu,eg,em);return oR(ed.hash.outputLen,e_.BYTES,eb)(ew,eE)}return eu.BASE.precompute(8),Object.freeze({getPublicKey:eP,getSharedSecret:ek,sign:e$,verify:function(eg,em,eb,ew=eF){let eE,eA;let eS=eg;em=oC("msgHash",em),eb=oC("publicKey",eb),sJ(ew);let{lowS:eI,prehash:eC,format:eO}=ew;if("strict"in ew)throw Error("options.strict was renamed to lowS");if(void 0!==eO&&!["compact","der","js"].includes(eO))throw Error('format must be "compact", "der" or "js"');let eT="string"==typeof eS||rM(eS),eP=!eT&&!eO&&"object"==typeof eS&&null!==eS&&"bigint"==typeof eS.r&&"bigint"==typeof eS.s;if(!eT&&!eP)throw Error("invalid signature, expected Uint8Array, hex string or Signature instance");try{if(eP){if(void 0===eO||"js"===eO)eE=new eM(eS.r,eS.s);else throw Error("invalid format")}if(eT){try{"compact"!==eO&&(eE=eM.fromDER(eS))}catch(eu){if(!(eu instanceof sY.Err))throw eu}eE||"der"===eO||(eE=eM.fromCompact(eS))}eA=eu.fromHex(eb)}catch{return!1}if(!eE||eI&&eE.hasHighS())return!1;eC&&(em=ed.hash(em));let{r:eN,s:ek}=eE,eR=eD(em),eB=e_.inv(ek),eU=e_.create(eR*eB),eL=e_.create(eN*eB),ej=eu.BASE.multiplyUnsafe(eU).add(eA.multiplyUnsafe(eL));return!ej.is0()&&e_.create(ej.x)===eN},utils:eT,Point:eu,Signature:eM})}function ag(eu){let ed={a:eu.a,b:eu.b,p:eu.Fp.ORDER,n:eu.n,h:eu.h,Gx:eu.Gx,Gy:eu.Gy},eg=eu.Fp,em=o8(ed.n,eu.nBitLength),eb={Fp:eg,Fn:em,allowedPrivateKeyLengths:eu.allowedPrivateKeyLengths,allowInfinityPoint:eu.allowInfinityPoint,endo:eu.endo,wrapPrivateKey:eu.wrapPrivateKey,isTorsionFree:eu.isTorsionFree,clearCofactor:eu.clearCofactor,fromBytes:eu.fromBytes,toBytes:eu.toBytes};return{CURVE:ed,curveOpts:eb}}function am(eu){let{CURVE:ed,curveOpts:eg}=ag(eu),em={hash:eu.hash,hmac:eu.hmac,randomBytes:eu.randomBytes,lowS:eu.lowS,bits2int:eu.bits2int,bits2int_modN:eu.bits2int_modN};return{CURVE:ed,curveOpts:eg,ecdsaOpts:em}}function av(eu,ed){return Object.assign({},ed,{ProjectivePoint:ed.Point,CURVE:eu})}function aw(eu){let{CURVE:ed,curveOpts:eg,ecdsaOpts:em}=am(eu),eb=s7(ed,eg),ew=ad(eb,em,eg);return av(eu,ew)}function a_(eu,ed){let eg=ed=>aw({...eu,hash:ed});return{...eg(ed),create:eg}}let aE={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},aA={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},aS={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},aI=o8(aE.p),aC=o8(aA.p),aM=o8(aS.p),aO=a_({...aE,Fp:aI,lowS:!1},nW);a_({...aA,Fp:aC,lowS:!1},nZ),a_({...aS,Fp:aM,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},nJ);let aT=aO,aP="base10",aN="base16",aR="base64pad",aD="base64url",aB="utf8",aU=0,aL=1,aj=2,aF=0,a$=1,aK=12,aq=32;function az(){let eu=sW.utils.randomPrivateKey(),ed=sW.getPublicKey(eu);return{privateKey:(0,e6.BB)(eu,aN),publicKey:(0,e6.BB)(ed,aN)}}function aH(){let eu=r8(aq);return(0,e6.BB)(eu,aN)}function aV(eu,ed){let eg=sW.getSharedSecret((0,e6.mL)(eu,aN),(0,e6.mL)(ed,aN)),em=oy(om,eg,void 0,void 0,aq);return(0,e6.BB)(em,aN)}function aG(eu){let ed=om((0,e6.mL)(eu,aN));return(0,e6.BB)(ed,aN)}function aW(eu){let ed=om((0,e6.mL)(eu,aB));return(0,e6.BB)(ed,aN)}function aJ(eu){return(0,e6.mL)(`${eu}`,aP)}function aZ(eu){return Number((0,e6.BB)(eu,aP))}function aY(eu){return eu.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function aX(eu){let ed=eu.replace(/-/g,"+").replace(/_/g,"/"),eg=(4-ed.length%4)%4;return ed+"=".repeat(eg)}function aQ(eu){let ed=aJ("u">typeof eu.type?eu.type:aU);if(aZ(ed)===aL&&typeof eu.senderPublicKey>"u")throw Error("Missing sender public key for type 1 envelope");let eg="u">typeof eu.senderPublicKey?(0,e6.mL)(eu.senderPublicKey,aN):void 0,em="u">typeof eu.iv?(0,e6.mL)(eu.iv,aN):r8(aK),eb=(0,e6.mL)(eu.symKey,aN),ew=i9(eb,em).encrypt((0,e6.mL)(eu.message,aB)),e_=cm({type:ed,sealed:ew,iv:em,senderPublicKey:eg});return eu.encoding===aD?aY(e_):e_}function cu(eu){let ed=(0,e6.mL)(eu.symKey,aN),{sealed:eg,iv:em}=cv({encoded:eu.encoded,encoding:eu.encoding}),eb=i9(ed,em).decrypt(eg);if(null===eb)throw Error("Failed to decrypt");return(0,e6.BB)(eb,aB)}function cg(eu,ed){let eg=aJ(aj),em=r8(aK),eb=(0,e6.mL)(eu,aB),ew=cm({type:eg,sealed:eb,iv:em});return ed===aD?aY(ew):ew}function cy(eu,ed){let{sealed:eg}=cv({encoded:eu,encoding:ed});return(0,e6.BB)(eg,aB)}function cm(eu){if(aZ(eu.type)===aj)return(0,e6.BB)((0,e6.zo)([eu.type,eu.sealed]),aR);if(aZ(eu.type)===aL){if(typeof eu.senderPublicKey>"u")throw Error("Missing sender public key for type 1 envelope");return(0,e6.BB)((0,e6.zo)([eu.type,eu.senderPublicKey,eu.iv,eu.sealed]),aR)}return(0,e6.BB)((0,e6.zo)([eu.type,eu.iv,eu.sealed]),aR)}function cv(eu){let ed=(eu.encoding||aR)===aD?aX(eu.encoded):eu.encoded,eg=(0,e6.mL)(ed,aR),em=eg.slice(aF,a$),eb=a$;if(aZ(em)===aL){let eu=eb+aq,ed=eu+aK,ew=eg.slice(eb,eu),e_=eg.slice(eu,ed),eE=eg.slice(ed);return{type:em,sealed:eE,iv:e_,senderPublicKey:ew}}if(aZ(em)===aj){let eu=eg.slice(eb),ed=r8(aK);return{type:em,sealed:eu,iv:ed}}let ew=eb+aK,e_=eg.slice(eb,ew),eE=eg.slice(ew);return{type:em,sealed:eE,iv:e_}}function cw(eu,ed){let eg=cv({encoded:eu,encoding:ed?.encoding});return c_({type:aZ(eg.type),senderPublicKey:"u">typeof eg.senderPublicKey?(0,e6.BB)(eg.senderPublicKey,aN):void 0,receiverPublicKey:ed?.receiverPublicKey})}function c_(eu){let ed=eu?.type||aU;if(ed===aL){if(typeof eu?.senderPublicKey>"u")throw Error("missing sender public key");if(typeof eu?.receiverPublicKey>"u")throw Error("missing receiver public key")}return{type:ed,senderPublicKey:eu?.senderPublicKey,receiverPublicKey:eu?.receiverPublicKey}}function cE(eu){return eu.type===aL&&"string"==typeof eu.senderPublicKey&&"string"==typeof eu.receiverPublicKey}function cA(eu){return eu.type===aj}function cS(eu){let ed=e7.from(eu.x,"base64"),eg=e7.from(eu.y,"base64");return(0,e6.zo)([new Uint8Array([4]),ed,eg])}function cI(eu,ed){let[eg,em,eb]=eu.split("."),ew=e7.from(aX(eb),"base64");if(64!==ew.length)throw Error("Invalid signature length");let e_=ew.slice(0,32),eE=ew.slice(32,64),eA=`${eg}.${em}`,eS=om(eA),eI=cS(ed);if(!aT.verify((0,e6.zo)([e_,eE]),eS,eI))throw Error("Invalid signature");return(0,eY.xp)(eu).payload}let cx="irn";function cC(eu){return eu?.relay||{protocol:cx}}function cM(eu){let ed=e8.iO[eu];if(typeof ed>"u")throw Error(`Relay Protocol not supported: ${eu}`);return ed}function cO(eu,ed="-"){let eg={},em="relay"+ed;return Object.keys(eu).forEach(ed=>{if(ed.startsWith(em)){let eb=ed.replace(em,""),ew=eu[ed];eg[eb]=ew}}),eg}function cT(eu){if(!eu.includes("wc:")){let ed=tV(eu);null!=ed&&ed.includes("wc:")&&(eu=ed)}eu=(eu=eu.includes("wc://")?eu.replace("wc://",""):eu).includes("wc:")?eu.replace("wc:",""):eu;let ed=eu.indexOf(":"),eg=-1!==eu.indexOf("?")?eu.indexOf("?"):void 0,em=eu.substring(0,ed),eb=eu.substring(ed+1,eg).split("@"),ew="u">typeof eg?eu.substring(eg):"",e_=new URLSearchParams(ew),eE={};e_.forEach((eu,ed)=>{eE[ed]=eu});let eA="string"==typeof eE.methods?eE.methods.split(","):void 0;return{protocol:em,topic:cP(eb[0]),version:parseInt(eb[1],10),symKey:eE.symKey,relay:cO(eE),methods:eA,expiryTimestamp:eE.expiryTimestamp?parseInt(eE.expiryTimestamp,10):void 0}}function cP(eu){return eu.startsWith("//")?eu.substring(2):eu}function cN(eu,ed="-"){let eg="relay",em={};return Object.keys(eu).forEach(eb=>{let ew=eb,e_=eg+ed+ew;eu[ew]&&(em[e_]=eu[ew])}),em}function cR(eu){let ed=new URLSearchParams,eg=cN(eu.relay);Object.keys(eg).sort().forEach(eu=>{ed.set(eu,eg[eu])}),ed.set("symKey",eu.symKey),eu.expiryTimestamp&&ed.set("expiryTimestamp",eu.expiryTimestamp.toString()),eu.methods&&ed.set("methods",eu.methods.join(","));let em=ed.toString();return`${eu.protocol}:${eu.topic}@${eu.version}?${em}`}Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;let cD={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},cB={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function cU(eu,ed){let{message:eg,code:em}=cB[eu];return{message:ed?`${eg} ${ed}`:eg,code:em}}function cL(eu,ed){let{message:eg,code:em}=cD[eu];return{message:ed?`${eg} ${ed}`:eg,code:em}}function cj(eu){return typeof eu>"u"}function cF(eu,ed){return!!(ed&&cj(eu))||"string"==typeof eu&&!!eu.trim().length}function c$(eu){function ed(eu){try{return"u">typeof new URL(eu)}catch{return!1}}try{if(cF(eu,!1)){if(ed(eu))return!0;let eg=tV(eu);return ed(eg)}}catch{}return!1}function cK(eu){var ed;return null==(ed=eu?.proposer)?void 0:ed.publicKey}function cq(eu){return eu?.topic}function cz(eu){return"u">typeof eu}function cH(){let eu=tE();return new Promise(ed=>{switch(eu){case th.browser:ed(cV());break;case th.reactNative:ed(cG());break;case th.node:ed(cW());break;default:ed(!0)}})}function cV(){return t_()&&navigator?.onLine}async function cG(){if(ty()&&"u">typeof eg.g&&null!=eg.g&&eg.g.NetInfo){let eu=await (null==eg.g?void 0:eg.g.NetInfo.fetch());return eu?.isConnected}return!0}function cW(){return!0}function cJ(eu){switch(tE()){case th.browser:cZ(eu);break;case th.reactNative:cY(eu);case th.node:}}function cZ(eu){!ty()&&t_()&&(window.addEventListener("online",()=>eu(!0)),window.addEventListener("offline",()=>eu(!1)))}function cY(eu){ty()&&"u">typeof eg.g&&null!=eg.g&&eg.g.NetInfo&&eg.g?.NetInfo.addEventListener(ed=>eu(ed?.isConnected))}function cX(){var eu;return!(t_()&&(0,eQ.getDocument)())||(null==(eu=(0,eQ.getDocument)())?void 0:eu.visibilityState)==="visible"}var cQ=eg(81154),c0=eg(55494),c6=eg(94907),c3=eg(48834).Buffer,c5=eg(34406);let c4="wc",c9=2,c7="core",uu=`${c4}@2:${c7}:`,ul={name:c7,logger:"error"},uh={database:":memory:"},ud="crypto",ug="client_ed25519_seed",uy=eJ.ONE_DAY,um="keychain",ub="0.3",uv="messages",uw="0.3",u_=eJ.SIX_HOURS,uE="publisher",uA="irn",uS="error",uI="wss://relay.walletconnect.org",ux="relayer",uC={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},uM="_subscription",uO={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},uT=.1,uP="2.21.3",uN={link_mode:"link_mode",relay:"relay"},uk={inbound:"inbound",outbound:"outbound"},uR="0.3",uD="WALLETCONNECT_CLIENT_ID",uB="WALLETCONNECT_LINK_MODE_APPS",uU={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},uL="subscription",uj="0.3",uF=(eJ.FIVE_SECONDS,"pairing"),u$="0.3",uK={wc_pairingDelete:{req:{ttl:eJ.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:eJ.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:eJ.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:eJ.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:eJ.ONE_DAY,prompt:!1,tag:0},res:{ttl:eJ.ONE_DAY,prompt:!1,tag:0}}},uq={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},uz={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},uH="history",uV="0.3",uG="expirer",uW={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},uJ="0.3",uZ="verify-api",uY="https://verify.walletconnect.com",uX="https://verify.walletconnect.org",uQ=uX,u6=`${uQ}/v3`,u3=[uY,uX],u5="echo",u4="https://echo.walletconnect.com",u9={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},u7={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},lu={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},ll={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},lh={authenticated_session_approve_started:"authenticated_session_approve_started",authenticated_session_not_expired:"authenticated_session_not_expired",chains_caip2_compliant:"chains_caip2_compliant",chains_evm_compliant:"chains_evm_compliant",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve",authenticated_session_approve_publish_success:"authenticated_session_approve_publish_success"},ld={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",missing_session_authenticate_request:"missing_session_authenticate_request",session_authenticate_request_expired:"session_authenticate_request_expired",chains_caip2_compliant_failure:"chains_caip2_compliant_failure",chains_evm_compliant_failure:"chains_evm_compliant_failure",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},lp=.1,lg="event-client",ly=86400,lm="https://pulse.walletconnect.org/batch";var lb=function(eu,ed){if(eu.length>=255)throw TypeError("Alphabet too long");for(var eg=new Uint8Array(256),em=0;em<eg.length;em++)eg[em]=255;for(var eb=0;eb<eu.length;eb++){var ew=eu.charAt(eb),e_=ew.charCodeAt(0);if(255!==eg[e_])throw TypeError(ew+" is ambiguous");eg[e_]=eb}var eE=eu.length,eA=eu.charAt(0),eS=Math.log(eE)/Math.log(256),eI=Math.log(256)/Math.log(eE);function eC(eu){if("string"!=typeof eu)throw TypeError("Expected String");if(0===eu.length)return new Uint8Array;var ed=0;if(" "!==eu[0]){for(var em=0,eb=0;eu[ed]===eA;)em++,ed++;for(var ew=(eu.length-ed)*eS+1>>>0,e_=new Uint8Array(ew);eu[ed];){var eI=eg[eu.charCodeAt(ed)];if(255===eI)return;for(var eC=0,eM=ew-1;(0!==eI||eC<eb)&&-1!==eM;eM--,eC++)eI+=eE*e_[eM]>>>0,e_[eM]=eI%256>>>0,eI=eI/256>>>0;if(0!==eI)throw Error("Non-zero carry");eb=eC,ed++}if(" "!==eu[ed]){for(var eO=ew-eb;eO!==ew&&0===e_[eO];)eO++;for(var eT=new Uint8Array(em+(ew-eO)),eP=em;eO!==ew;)eT[eP++]=e_[eO++];return eT}}}function eM(eu){var eg=eC(eu);if(eg)return eg;throw Error(`Non-${ed} character`)}return{encode:function(ed){if(ed instanceof Uint8Array||(ArrayBuffer.isView(ed)?ed=new Uint8Array(ed.buffer,ed.byteOffset,ed.byteLength):Array.isArray(ed)&&(ed=Uint8Array.from(ed))),!(ed instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===ed.length)return"";for(var eg=0,em=0,eb=0,ew=ed.length;eb!==ew&&0===ed[eb];)eb++,eg++;for(var e_=(ew-eb)*eI+1>>>0,eS=new Uint8Array(e_);eb!==ew;){for(var eC=ed[eb],eM=0,eO=e_-1;(0!==eC||eM<em)&&-1!==eO;eO--,eM++)eC+=256*eS[eO]>>>0,eS[eO]=eC%eE>>>0,eC=eC/eE>>>0;if(0!==eC)throw Error("Non-zero carry");em=eM,eb++}for(var eT=e_-em;eT!==e_&&0===eS[eT];)eT++;for(var eP=eA.repeat(eg);eT<e_;++eT)eP+=eu.charAt(eS[eT]);return eP},decodeUnsafe:eC,decode:eM}};let lv=eu=>{if(eu instanceof Uint8Array&&"Uint8Array"===eu.constructor.name)return eu;if(eu instanceof ArrayBuffer)return new Uint8Array(eu);if(ArrayBuffer.isView(eu))return new Uint8Array(eu.buffer,eu.byteOffset,eu.byteLength);throw Error("Unknown type, must be binary type")},lw=eu=>new TextEncoder().encode(eu),l_=eu=>new TextDecoder().decode(eu);class lE{constructor(eu,ed,eg){this.name=eu,this.prefix=ed,this.baseEncode=eg}encode(eu){if(eu instanceof Uint8Array)return`${this.prefix}${this.baseEncode(eu)}`;throw Error("Unknown type, must be binary type")}}class lA{constructor(eu,ed,eg){if(this.name=eu,this.prefix=ed,void 0===ed.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=ed.codePointAt(0),this.baseDecode=eg}decode(eu){if("string"==typeof eu){if(eu.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(eu)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(eu.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(eu){return lI(this,eu)}}class lS{constructor(eu){this.decoders=eu}or(eu){return lI(this,eu)}decode(eu){let ed=eu[0],eg=this.decoders[ed];if(eg)return eg.decode(eu);throw RangeError(`Unable to decode multibase string ${JSON.stringify(eu)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}let lI=(eu,ed)=>new lS({...eu.decoders||{[eu.prefix]:eu},...ed.decoders||{[ed.prefix]:ed}});class lx{constructor(eu,ed,eg,em){this.name=eu,this.prefix=ed,this.baseEncode=eg,this.baseDecode=em,this.encoder=new lE(eu,ed,eg),this.decoder=new lA(eu,ed,em)}encode(eu){return this.encoder.encode(eu)}decode(eu){return this.decoder.decode(eu)}}let lC=({name:eu,prefix:ed,encode:eg,decode:em})=>new lx(eu,ed,eg,em),lM=({prefix:eu,name:ed,alphabet:eg})=>{let{encode:em,decode:eb}=lb(eg,ed);return lC({prefix:eu,name:ed,encode:em,decode:eu=>lv(eb(eu))})},lO=(eu,ed,eg,em)=>{let eb={};for(let eu=0;eu<ed.length;++eu)eb[ed[eu]]=eu;let ew=eu.length;for(;"="===eu[ew-1];)--ew;let e_=new Uint8Array(ew*eg/8|0),eE=0,eA=0,eS=0;for(let ed=0;ed<ew;++ed){let ew=eb[eu[ed]];if(void 0===ew)throw SyntaxError(`Non-${em} character`);eA=eA<<eg|ew,(eE+=eg)>=8&&(eE-=8,e_[eS++]=255&eA>>eE)}if(eE>=eg||255&eA<<8-eE)throw SyntaxError("Unexpected end of data");return e_},lT=(eu,ed,eg)=>{let em="="===ed[ed.length-1],eb=(1<<eg)-1,ew="",e_=0,eE=0;for(let em=0;em<eu.length;++em)for(eE=eE<<8|eu[em],e_+=8;e_>eg;)e_-=eg,ew+=ed[eb&eE>>e_];if(e_&&(ew+=ed[eb&eE<<eg-e_]),em)for(;ew.length*eg&7;)ew+="=";return ew},lP=({name:eu,prefix:ed,bitsPerChar:eg,alphabet:em})=>lC({prefix:ed,name:eu,encode:eu=>lT(eu,em,eg),decode:ed=>lO(ed,em,eg,eu)}),lN=lC({prefix:"\x00",name:"identity",encode:eu=>l_(eu),decode:eu=>lw(eu)});var lk=Object.freeze({__proto__:null,identity:lN});let lR=lP({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var lD=Object.freeze({__proto__:null,base2:lR});let lB=lP({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var lU=Object.freeze({__proto__:null,base8:lB});let lL=lM({prefix:"9",name:"base10",alphabet:"0123456789"});var lj=Object.freeze({__proto__:null,base10:lL});let lF=lP({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),l$=lP({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var lK=Object.freeze({__proto__:null,base16:lF,base16upper:l$});let lq=lP({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),lz=lP({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),lH=lP({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),lV=lP({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),lG=lP({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),lW=lP({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),lJ=lP({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),lZ=lP({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),lY=lP({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var lX=Object.freeze({__proto__:null,base32:lq,base32upper:lz,base32pad:lH,base32padupper:lV,base32hex:lG,base32hexupper:lW,base32hexpad:lJ,base32hexpadupper:lZ,base32z:lY});let lQ=lM({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),l0=lM({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var l1=Object.freeze({__proto__:null,base36:lQ,base36upper:l0});let l2=lM({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),l6=lM({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var l3=Object.freeze({__proto__:null,base58btc:l2,base58flickr:l6});let l8=lP({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),l5=lP({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),l4=lP({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),l9=lP({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var l7=Object.freeze({__proto__:null,base64:l8,base64pad:l5,base64url:l4,base64urlpad:l9});let ha=Array.from("\uD83D\uDE80\uD83E\uDE90\uD83D\uDEF0\uD83C\uDF0C\uD83C\uDF11\uD83C\uDF12\uD83C\uDF13\uD83C\uDF14\uD83C\uDF15\uD83C\uDF16\uD83C\uDF17\uD83C\uDF18\uD83C\uDF0D\uD83C\uDF0F\uD83C\uDF0E\uD83D\uDC09\uD83D\uDCBB\uD83D\uDDA5\uD83D\uDCBE\uD83D\uDCBF\uD83D\uDE02\uD83D\uDE0D\uD83E\uDD23\uD83D\uDE0A\uD83D\uDE4F\uD83D\uDC95\uD83D\uDE2D\uD83D\uDE18\uD83D\uDC4D\uD83D\uDE05\uD83D\uDC4F\uD83D\uDE01\uD83D\uDD25\uD83E\uDD70\uD83D\uDC94\uD83D\uDC96\uD83D\uDC99\uD83D\uDE22\uD83E\uDD14\uD83D\uDE06\uD83D\uDE44\uD83D\uDCAA\uD83D\uDE09\uD83D\uDC4C\uD83E\uDD17\uD83D\uDC9C\uD83D\uDE14\uD83D\uDE0E\uD83D\uDE07\uD83C\uDF39\uD83E\uDD26\uD83C\uDF89\uD83D\uDC9E\uD83E\uDD37\uD83D\uDE31\uD83D\uDE0C\uD83C\uDF38\uD83D\uDE4C\uD83D\uDE0B\uD83D\uDC97\uD83D\uDC9A\uD83D\uDE0F\uD83D\uDC9B\uD83D\uDE42\uD83D\uDC93\uD83E\uDD29\uD83D\uDE04\uD83D\uDE00\uD83D\uDDA4\uD83D\uDE03\uD83D\uDCAF\uD83D\uDE48\uD83D\uDC47\uD83C\uDFB6\uD83D\uDE12\uD83E\uDD2D\uD83D\uDE1C\uD83D\uDC8B\uD83D\uDC40\uD83D\uDE2A\uD83D\uDE11\uD83D\uDCA5\uD83D\uDE4B\uD83D\uDE1E\uD83D\uDE29\uD83D\uDE21\uD83E\uDD2A\uD83D\uDC4A\uD83E\uDD73\uD83D\uDE25\uD83E\uDD24\uD83D\uDC49\uD83D\uDC83\uD83D\uDE33\uD83D\uDE1A\uD83D\uDE1D\uD83D\uDE34\uD83C\uDF1F\uD83D\uDE2C\uD83D\uDE43\uD83C\uDF40\uD83C\uDF37\uD83D\uDE3B\uD83D\uDE13\uD83E\uDD7A\uD83C\uDF08\uD83D\uDE08\uD83E\uDD18\uD83D\uDCA6\uD83D\uDE23\uD83C\uDFC3\uD83D\uDC90\uD83C\uDF8A\uD83D\uDC98\uD83D\uDE20\uD83D\uDE15\uD83C\uDF3A\uD83C\uDF82\uD83C\uDF3B\uD83D\uDE10\uD83D\uDD95\uD83D\uDC9D\uD83D\uDE4A\uD83D\uDE39\uD83D\uDDE3\uD83D\uDCAB\uD83D\uDC80\uD83D\uDC51\uD83C\uDFB5\uD83E\uDD1E\uD83D\uDE1B\uD83D\uDD34\uD83D\uDE24\uD83C\uDF3C\uD83D\uDE2B\uD83E\uDD19\uD83C\uDFC6\uD83E\uDD2B\uD83D\uDC48\uD83D\uDE2E\uD83D\uDE46\uD83C\uDF7B\uD83C\uDF43\uD83D\uDC36\uD83D\uDC81\uD83D\uDE32\uD83C\uDF3F\uD83E\uDDE1\uD83C\uDF81\uD83C\uDF1E\uD83C\uDF88\uD83D\uDC4B\uD83D\uDE30\uD83E\uDD28\uD83D\uDE36\uD83E\uDD1D\uD83D\uDEB6\uD83D\uDCB0\uD83C\uDF53\uD83D\uDCA2\uD83E\uDD1F\uD83D\uDE41\uD83D\uDEA8\uD83D\uDCA8\uD83E\uDD2C\uD83C\uDF80\uD83C\uDF7A\uD83E\uDD13\uD83D\uDE19\uD83D\uDC9F\uD83C\uDF31\uD83D\uDE16\uD83D\uDC76\uD83E\uDD74\uD83D\uDC8E\uD83D\uDCB8\uD83D\uDE28\uD83C\uDF1A\uD83E\uDD8B\uD83D\uDE37\uD83D\uDD7A\uD83D\uDE45\uD83D\uDE1F\uD83D\uDE35\uD83D\uDC4E\uD83E\uDD32\uD83E\uDD20\uD83E\uDD27\uD83D\uDCCC\uD83D\uDD35\uD83D\uDC85\uD83E\uDDD0\uD83D\uDC3E\uD83C\uDF52\uD83D\uDE17\uD83E\uDD11\uD83C\uDF0A\uD83E\uDD2F\uD83D\uDC37\uD83D\uDCA7\uD83D\uDE2F\uD83D\uDC86\uD83D\uDC46\uD83C\uDFA4\uD83D\uDE47\uD83C\uDF51\uD83C\uDF34\uD83D\uDCA3\uD83D\uDC38\uD83D\uDC8C\uD83D\uDCCD\uD83E\uDD40\uD83E\uDD22\uD83D\uDC45\uD83D\uDCA1\uD83D\uDCA9\uD83D\uDC50\uD83D\uDCF8\uD83D\uDC7B\uD83E\uDD10\uD83E\uDD2E\uD83C\uDFBC\uD83E\uDD75\uD83D\uDEA9\uD83C\uDF4E\uD83C\uDF4A\uD83D\uDC7C\uD83D\uDC8D\uD83D\uDCE3\uD83E\uDD42"),hu=ha.reduce((eu,ed,eg)=>(eu[eg]=ed,eu),[]),hd=ha.reduce((eu,ed,eg)=>(eu[ed.codePointAt(0)]=eg,eu),[]);function hp(eu){return eu.reduce((eu,ed)=>eu+=hu[ed],"")}function hg(eu){let ed=[];for(let eg of eu){let eu=hd[eg.codePointAt(0)];if(void 0===eu)throw Error(`Non-base256emoji character: ${eg}`);ed.push(eu)}return new Uint8Array(ed)}let hy=lC({prefix:"\uD83D\uDE80",name:"base256emoji",encode:hp,decode:hg});var hm=Object.freeze({__proto__:null,base256emoji:hy}),hb=128,hv=-128,hw=2147483648;function h_(eu,ed,eg){ed=ed||[],eg=eg||0;for(var em=eg;eu>=hw;)ed[eg++]=255&eu|hb,eu/=128;for(;eu&hv;)ed[eg++]=255&eu|hb,eu>>>=7;return ed[eg]=0|eu,h_.bytes=eg-em+1,ed}var hE=128,hA=127;function hS(eu,ed){var eg,em=0,ed=ed||0,eb=0,ew=ed,e_=eu.length;do{if(ew>=e_)throw hS.bytes=0,RangeError("Could not decode varint");eg=eu[ew++],em+=eb<28?(eg&hA)<<eb:(eg&hA)*Math.pow(2,eb),eb+=7}while(eg>=hE);return hS.bytes=ew-ed,em}var hI=128,hx=16384,hC=2097152,hM=268435456,hO=34359738368,hT=4398046511104,hP=562949953421312,hN=72057594037927940,hk=0x7fffffffffffffff,hR={encode:h_,decode:hS,encodingLength:function(eu){return eu<hI?1:eu<hx?2:eu<hC?3:eu<hM?4:eu<hO?5:eu<hT?6:eu<hP?7:eu<hN?8:eu<hk?9:10}};let hD=(eu,ed,eg=0)=>(hR.encode(eu,ed,eg),ed),hB=eu=>hR.encodingLength(eu),hU=(eu,ed)=>{let eg=ed.byteLength,em=hB(eu),eb=em+hB(eg),ew=new Uint8Array(eb+eg);return hD(eu,ew,0),hD(eg,ew,em),ew.set(ed,eb),new hL(eu,eg,ed,ew)};class hL{constructor(eu,ed,eg,em){this.code=eu,this.size=ed,this.digest=eg,this.bytes=em}}let hj=({name:eu,code:ed,encode:eg})=>new hF(eu,ed,eg);class hF{constructor(eu,ed,eg){this.name=eu,this.code=ed,this.encode=eg}digest(eu){if(eu instanceof Uint8Array){let ed=this.encode(eu);return ed instanceof Uint8Array?hU(this.code,ed):ed.then(eu=>hU(this.code,eu))}throw Error("Unknown type, must be binary type")}}let h$=eu=>async ed=>new Uint8Array(await crypto.subtle.digest(eu,ed)),hK=hj({name:"sha2-256",code:18,encode:h$("SHA-256")}),hq=hj({name:"sha2-512",code:19,encode:h$("SHA-512")});var hz=Object.freeze({__proto__:null,sha256:hK,sha512:hq});let hH=0,hV="identity",hG=lv,hW=eu=>hU(hH,hG(eu)),hJ={code:hH,name:hV,encode:hG,digest:hW};var hZ=Object.freeze({__proto__:null,identity:hJ});new TextEncoder,new TextDecoder;let hY={...lk,...lD,...lU,...lj,...lK,...lX,...l1,...l3,...l7,...hm};function hX(eu){return null!=globalThis.Buffer?new Uint8Array(eu.buffer,eu.byteOffset,eu.byteLength):eu}function hQ(eu=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?hX(globalThis.Buffer.allocUnsafe(eu)):new Uint8Array(eu)}function h8(eu,ed,eg,em){return{name:eu,prefix:ed,encoder:{name:eu,prefix:ed,encode:eg},decoder:{decode:em}}}({...hz,...hZ});let h9=h8("utf8","u",eu=>"u"+new TextDecoder("utf8").decode(eu),eu=>new TextEncoder().encode(eu.substring(1))),du=h8("ascii","a",eu=>{let ed="a";for(let eg=0;eg<eu.length;eg++)ed+=String.fromCharCode(eu[eg]);return ed},eu=>{eu=eu.substring(1);let ed=hQ(eu.length);for(let eg=0;eg<eu.length;eg++)ed[eg]=eu.charCodeAt(eg);return ed}),dd={utf8:h9,"utf-8":h9,hex:hY.base16,latin1:du,ascii:du,binary:du,...hY};function dg(eu,ed="utf8"){let eg=dd[ed];if(!eg)throw Error(`Unsupported encoding "${ed}"`);return("utf8"===ed||"utf-8"===ed)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?hX(globalThis.Buffer.from(eu,"utf-8")):eg.decoder.decode(`${eg.prefix}${eu}`)}var dy=Object.defineProperty,dv=(eu,ed,eg)=>ed in eu?dy(eu,ed,{enumerable:!0,configurable:!0,writable:!0,value:eg}):eu[ed]=eg,dw=(eu,ed,eg)=>dv(eu,"symbol"!=typeof ed?ed+"":ed,eg);class d_{constructor(eu,ed){this.core=eu,this.logger=ed,dw(this,"keychain",new Map),dw(this,"name",um),dw(this,"version",ub),dw(this,"initialized",!1),dw(this,"storagePrefix",uu),dw(this,"init",async()=>{if(!this.initialized){let eu=await this.getKeyChain();"u">typeof eu&&(this.keychain=eu),this.initialized=!0}}),dw(this,"has",eu=>(this.isInitialized(),this.keychain.has(eu))),dw(this,"set",async(eu,ed)=>{this.isInitialized(),this.keychain.set(eu,ed),await this.persist()}),dw(this,"get",eu=>{this.isInitialized();let ed=this.keychain.get(eu);if(typeof ed>"u"){let{message:ed}=cU("NO_MATCHING_KEY",`${this.name}: ${eu}`);throw Error(ed)}return ed}),dw(this,"del",async eu=>{this.isInitialized(),this.keychain.delete(eu),await this.persist()}),this.core=eu,this.logger=(0,eE.Ep)(ed,this.name)}get context(){return(0,eE.Fd)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(eu){await this.core.storage.setItem(this.storageKey,tN(eu))}async getKeyChain(){let eu=await this.core.storage.getItem(this.storageKey);return"u">typeof eu?tR(eu):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){let{message:eu}=cU("NOT_INITIALIZED",this.name);throw Error(eu)}}}var dE=Object.defineProperty,dA=(eu,ed,eg)=>ed in eu?dE(eu,ed,{enumerable:!0,configurable:!0,writable:!0,value:eg}):eu[ed]=eg,dS=(eu,ed,eg)=>dA(eu,"symbol"!=typeof ed?ed+"":ed,eg);class dI{constructor(eu,ed,eg){this.core=eu,this.logger=ed,dS(this,"name",ud),dS(this,"keychain"),dS(this,"randomSessionIdentifier",aH()),dS(this,"initialized",!1),dS(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),dS(this,"hasKeys",eu=>(this.isInitialized(),this.keychain.has(eu))),dS(this,"getClientId",async()=>{this.isInitialized();let eu=await this.getClientSeed(),ed=eY.Au(eu);return eY.bG(ed.publicKey)}),dS(this,"generateKeyPair",()=>{this.isInitialized();let eu=az();return this.setPrivateKey(eu.publicKey,eu.privateKey)}),dS(this,"signJWT",async eu=>{this.isInitialized();let ed=await this.getClientSeed(),eg=eY.Au(ed),em=this.randomSessionIdentifier,eb=uy;return await eY.vf(em,eu,eb,eg)}),dS(this,"generateSharedKey",(eu,ed,eg)=>{this.isInitialized();let em=this.getPrivateKey(eu),eb=aV(em,ed);return this.setSymKey(eb,eg)}),dS(this,"setSymKey",async(eu,ed)=>{this.isInitialized();let eg=ed||aG(eu);return await this.keychain.set(eg,eu),eg}),dS(this,"deleteKeyPair",async eu=>{this.isInitialized(),await this.keychain.del(eu)}),dS(this,"deleteSymKey",async eu=>{this.isInitialized(),await this.keychain.del(eu)}),dS(this,"encode",async(eu,ed,eg)=>{this.isInitialized();let em=c_(eg),eb=(0,eZ.u)(ed);if(cA(em))return cg(eb,eg?.encoding);if(cE(em)){let ed=em.senderPublicKey,eg=em.receiverPublicKey;eu=await this.generateSharedKey(ed,eg)}let ew=this.getSymKey(eu),{type:e_,senderPublicKey:eE}=em;return aQ({type:e_,symKey:ew,message:eb,senderPublicKey:eE,encoding:eg?.encoding})}),dS(this,"decode",async(eu,ed,eg)=>{this.isInitialized();let em=cw(ed,eg);if(cA(em)){let eu=cy(ed,eg?.encoding);return(0,eZ.D)(eu)}if(cE(em)){let ed=em.receiverPublicKey,eg=em.senderPublicKey;eu=await this.generateSharedKey(ed,eg)}try{let em=this.getSymKey(eu),eb=cu({symKey:em,encoded:ed,encoding:eg?.encoding});return(0,eZ.D)(eb)}catch(ed){this.logger.error(`Failed to decode message from topic: '${eu}', clientId: '${await this.getClientId()}'`),this.logger.error(ed)}}),dS(this,"getPayloadType",(eu,ed=aR)=>{let eg=cv({encoded:eu,encoding:ed});return aZ(eg.type)}),dS(this,"getPayloadSenderPublicKey",(eu,ed=aR)=>{let eg=cv({encoded:eu,encoding:ed});return eg.senderPublicKey?(0,e6.BB)(eg.senderPublicKey,aN):void 0}),this.core=eu,this.logger=(0,eE.Ep)(ed,this.name),this.keychain=eg||new d_(this.core,this.logger)}get context(){return(0,eE.Fd)(this.logger)}async setPrivateKey(eu,ed){return await this.keychain.set(eu,ed),eu}getPrivateKey(eu){return this.keychain.get(eu)}async getClientSeed(){let eu="";try{eu=this.keychain.get(ug)}catch{eu=aH(),await this.keychain.set(ug,eu)}return dg(eu,"base16")}getSymKey(eu){return this.keychain.get(eu)}isInitialized(){if(!this.initialized){let{message:eu}=cU("NOT_INITIALIZED",this.name);throw Error(eu)}}}var dx=Object.defineProperty,dC=Object.defineProperties,dM=Object.getOwnPropertyDescriptors,dO=Object.getOwnPropertySymbols,dT=Object.prototype.hasOwnProperty,dP=Object.prototype.propertyIsEnumerable,dN=(eu,ed,eg)=>ed in eu?dx(eu,ed,{enumerable:!0,configurable:!0,writable:!0,value:eg}):eu[ed]=eg,dk=(eu,ed)=>{for(var eg in ed||(ed={}))dT.call(ed,eg)&&dN(eu,eg,ed[eg]);if(dO)for(var eg of dO(ed))dP.call(ed,eg)&&dN(eu,eg,ed[eg]);return eu},dR=(eu,ed)=>dC(eu,dM(ed)),dD=(eu,ed,eg)=>dN(eu,"symbol"!=typeof ed?ed+"":ed,eg);class dB extends ek{constructor(eu,ed){super(eu,ed),this.logger=eu,this.core=ed,dD(this,"messages",new Map),dD(this,"messagesWithoutClientAck",new Map),dD(this,"name",uv),dD(this,"version",uw),dD(this,"initialized",!1),dD(this,"storagePrefix",uu),dD(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{let eu=await this.getRelayerMessages();"u">typeof eu&&(this.messages=eu);let ed=await this.getRelayerMessagesWithoutClientAck();"u">typeof ed&&(this.messagesWithoutClientAck=ed),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(eu){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(eu)}finally{this.initialized=!0}}}),dD(this,"set",async(eu,ed,eg)=>{this.isInitialized();let em=aW(ed),eb=this.messages.get(eu);if(typeof eb>"u"&&(eb={}),"u">typeof eb[em])return em;if(eb[em]=ed,this.messages.set(eu,eb),eg===uk.inbound){let eg=this.messagesWithoutClientAck.get(eu)||{};this.messagesWithoutClientAck.set(eu,dR(dk({},eg),{[em]:ed}))}return await this.persist(),em}),dD(this,"get",eu=>{this.isInitialized();let ed=this.messages.get(eu);return typeof ed>"u"&&(ed={}),ed}),dD(this,"getWithoutAck",eu=>{this.isInitialized();let ed={};for(let eg of eu){let eu=this.messagesWithoutClientAck.get(eg)||{};ed[eg]=Object.values(eu)}return ed}),dD(this,"has",(eu,ed)=>{this.isInitialized();let eg=this.get(eu),em=aW(ed);return"u">typeof eg[em]}),dD(this,"ack",async(eu,ed)=>{this.isInitialized();let eg=this.messagesWithoutClientAck.get(eu);if(typeof eg>"u")return;let em=aW(ed);delete eg[em],0===Object.keys(eg).length?this.messagesWithoutClientAck.delete(eu):this.messagesWithoutClientAck.set(eu,eg),await this.persist()}),dD(this,"del",async eu=>{this.isInitialized(),this.messages.delete(eu),this.messagesWithoutClientAck.delete(eu),await this.persist()}),this.logger=(0,eE.Ep)(eu,this.name),this.core=ed}get context(){return(0,eE.Fd)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(eu){await this.core.storage.setItem(this.storageKey,tN(eu))}async setRelayerMessagesWithoutClientAck(eu){await this.core.storage.setItem(this.storageKeyWithoutClientAck,tN(eu))}async getRelayerMessages(){let eu=await this.core.storage.getItem(this.storageKey);return"u">typeof eu?tR(eu):void 0}async getRelayerMessagesWithoutClientAck(){let eu=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return"u">typeof eu?tR(eu):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){let{message:eu}=cU("NOT_INITIALIZED",this.name);throw Error(eu)}}}var dU=Object.defineProperty,dL=Object.defineProperties,dj=Object.getOwnPropertyDescriptors,dF=Object.getOwnPropertySymbols,d$=Object.prototype.hasOwnProperty,dK=Object.prototype.propertyIsEnumerable,dq=(eu,ed,eg)=>ed in eu?dU(eu,ed,{enumerable:!0,configurable:!0,writable:!0,value:eg}):eu[ed]=eg,dz=(eu,ed)=>{for(var eg in ed||(ed={}))d$.call(ed,eg)&&dq(eu,eg,ed[eg]);if(dF)for(var eg of dF(ed))dK.call(ed,eg)&&dq(eu,eg,ed[eg]);return eu},dH=(eu,ed)=>dL(eu,dj(ed)),dV=(eu,ed,eg)=>dq(eu,"symbol"!=typeof ed?ed+"":ed,eg);class dG extends eR{constructor(eu,ed){super(eu,ed),this.relayer=eu,this.logger=ed,dV(this,"events",new em.EventEmitter),dV(this,"name",uE),dV(this,"queue",new Map),dV(this,"publishTimeout",(0,eJ.toMiliseconds)(eJ.ONE_MINUTE)),dV(this,"initialPublishTimeout",(0,eJ.toMiliseconds)(15*eJ.ONE_SECOND)),dV(this,"needsTransportRestart",!1),dV(this,"publish",async(eu,ed,eg)=>{var em;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:eu,message:ed,opts:eg}});let eb=eg?.ttl||u_,ew=cC(eg),e_=eg?.prompt||!1,eE=eg?.tag||0,eA=eg?.id||(0,c0.getBigIntRpcId)().toString(),eS={topic:eu,message:ed,opts:{ttl:eb,relay:ew,prompt:e_,tag:eE,id:eA,attestation:eg?.attestation,tvf:eg?.tvf}},eI=`Failed to publish payload, please try again. id:${eA} tag:${eE}`;try{let em=new Promise(async em=>{let ew=({id:eu})=>{eS.opts.id===eu&&(this.removeRequestFromQueue(eu),this.relayer.events.removeListener(uC.publish,ew),em(eS))};this.relayer.events.on(uC.publish,ew);let eI=tB(new Promise((em,ew)=>{this.rpcPublish({topic:eu,message:ed,ttl:eb,prompt:e_,tag:eE,id:eA,attestation:eg?.attestation,tvf:eg?.tvf}).then(em).catch(eu=>{this.logger.warn(eu,eu?.message),ew(eu)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${eA} tag:${eE}`);try{await eI,this.events.removeListener(uC.publish,ew)}catch(eu){this.queue.set(eA,dH(dz({},eS),{attempt:1})),this.logger.warn(eu,eu?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:eA,topic:eu,message:ed,opts:eg}}),await tB(em,this.publishTimeout,eI)}catch(eu){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(eu),null!=(em=eg?.internal)&&em.throwOnFailedPublish)throw eu}finally{this.queue.delete(eA)}}),dV(this,"on",(eu,ed)=>{this.events.on(eu,ed)}),dV(this,"once",(eu,ed)=>{this.events.once(eu,ed)}),dV(this,"off",(eu,ed)=>{this.events.off(eu,ed)}),dV(this,"removeListener",(eu,ed)=>{this.events.removeListener(eu,ed)}),this.relayer=eu,this.logger=(0,eE.Ep)(ed,this.name),this.registerEventListeners()}get context(){return(0,eE.Fd)(this.logger)}async rpcPublish(eu){var ed,eg,em,eb;let{topic:ew,message:e_,ttl:eE=u_,prompt:eA,tag:eS,id:eI,attestation:eC,tvf:eM}=eu,eO={method:cM(cC().protocol).publish,params:dz({topic:ew,message:e_,ttl:eE,prompt:eA,tag:eS,attestation:eC},eM),id:eI};cj(null==(ed=eO.params)?void 0:ed.prompt)&&(null==(eg=eO.params)||delete eg.prompt),cj(null==(em=eO.params)?void 0:em.tag)&&(null==(eb=eO.params)||delete eb.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:eO});let eT=await this.relayer.request(eO);return this.relayer.events.emit(uC.publish,eu),this.logger.debug("Successfully Published Payload"),eT}removeRequestFromQueue(eu){this.queue.delete(eu)}checkQueue(){this.queue.forEach(async(eu,ed)=>{let eg=eu.attempt+1;this.queue.set(ed,dH(dz({},eu),{attempt:eg}));let{topic:em,message:eb,opts:ew,attestation:e_}=eu;this.logger.warn({},`Publisher: queue->publishing: ${eu.opts.id}, tag: ${eu.opts.tag}, attempt: ${eg}`),await this.rpcPublish(dH(dz({},eu),{topic:em,message:eb,ttl:ew.ttl,prompt:ew.prompt,tag:ew.tag,id:ew.id,attestation:e_,tvf:ew.tvf})),this.logger.warn({},`Publisher: queue->published: ${eu.opts.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(ew.Lx.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(uC.connection_stalled);return}this.checkQueue()}),this.relayer.on(uC.message_ack,eu=>{this.removeRequestFromQueue(eu.id.toString())})}}var dW=Object.defineProperty,dJ=(eu,ed,eg)=>ed in eu?dW(eu,ed,{enumerable:!0,configurable:!0,writable:!0,value:eg}):eu[ed]=eg,dZ=(eu,ed,eg)=>dJ(eu,"symbol"!=typeof ed?ed+"":ed,eg);class dY{constructor(){dZ(this,"map",new Map),dZ(this,"set",(eu,ed)=>{let eg=this.get(eu);this.exists(eu,ed)||this.map.set(eu,[...eg,ed])}),dZ(this,"get",eu=>this.map.get(eu)||[]),dZ(this,"exists",(eu,ed)=>this.get(eu).includes(ed)),dZ(this,"delete",(eu,ed)=>{if(typeof ed>"u"){this.map.delete(eu);return}if(!this.map.has(eu))return;let eg=this.get(eu);if(!this.exists(eu,ed))return;let em=eg.filter(eu=>eu!==ed);if(!em.length){this.map.delete(eu);return}this.map.set(eu,em)}),dZ(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var dX=Object.defineProperty,dQ=Object.defineProperties,d0=Object.getOwnPropertyDescriptors,d6=Object.getOwnPropertySymbols,d3=Object.prototype.hasOwnProperty,d8=Object.prototype.propertyIsEnumerable,d5=(eu,ed,eg)=>ed in eu?dX(eu,ed,{enumerable:!0,configurable:!0,writable:!0,value:eg}):eu[ed]=eg,d4=(eu,ed)=>{for(var eg in ed||(ed={}))d3.call(ed,eg)&&d5(eu,eg,ed[eg]);if(d6)for(var eg of d6(ed))d8.call(ed,eg)&&d5(eu,eg,ed[eg]);return eu},d9=(eu,ed)=>dQ(eu,d0(ed)),d7=(eu,ed,eg)=>d5(eu,"symbol"!=typeof ed?ed+"":ed,eg);class fu extends eU{constructor(eu,ed){super(eu,ed),this.relayer=eu,this.logger=ed,d7(this,"subscriptions",new Map),d7(this,"topicMap",new dY),d7(this,"events",new em.EventEmitter),d7(this,"name",uL),d7(this,"version",uj),d7(this,"pending",new Map),d7(this,"cached",[]),d7(this,"initialized",!1),d7(this,"storagePrefix",uu),d7(this,"subscribeTimeout",(0,eJ.toMiliseconds)(eJ.ONE_MINUTE)),d7(this,"initialSubscribeTimeout",(0,eJ.toMiliseconds)(15*eJ.ONE_SECOND)),d7(this,"clientId"),d7(this,"batchSubscribeTopicsLimit",500),d7(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),d7(this,"subscribe",async(eu,ed)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:eu,opts:ed}});try{let eg=cC(ed),em={topic:eu,relay:eg,transportType:ed?.transportType};this.pending.set(eu,em);let eb=await this.rpcSubscribe(eu,eg,ed);return"string"==typeof eb&&(this.onSubscribe(eb,em),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:eu,opts:ed}})),eb}catch(eu){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(eu),eu}}),d7(this,"unsubscribe",async(eu,ed)=>{this.isInitialized(),"u">typeof ed?.id?await this.unsubscribeById(eu,ed.id,ed):await this.unsubscribeByTopic(eu,ed)}),d7(this,"isSubscribed",eu=>new Promise(ed=>{ed(this.topicMap.topics.includes(eu))})),d7(this,"isKnownTopic",eu=>new Promise(ed=>{ed(this.topicMap.topics.includes(eu)||this.pending.has(eu)||this.cached.some(ed=>ed.topic===eu))})),d7(this,"on",(eu,ed)=>{this.events.on(eu,ed)}),d7(this,"once",(eu,ed)=>{this.events.once(eu,ed)}),d7(this,"off",(eu,ed)=>{this.events.off(eu,ed)}),d7(this,"removeListener",(eu,ed)=>{this.events.removeListener(eu,ed)}),d7(this,"start",async()=>{await this.onConnect()}),d7(this,"stop",async()=>{await this.onDisconnect()}),d7(this,"restart",async()=>{await this.restore(),await this.onRestart()}),d7(this,"checkPending",async()=>{if(0===this.pending.size&&(!this.initialized||!this.relayer.connected))return;let eu=[];this.pending.forEach(ed=>{eu.push(ed)}),await this.batchSubscribe(eu)}),d7(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(ew.Lx.pulse,async()=>{await this.checkPending()}),this.events.on(uU.created,async eu=>{let ed=uU.created;this.logger.info(`Emitting ${ed}`),this.logger.debug({type:"event",event:ed,data:eu}),await this.persist()}),this.events.on(uU.deleted,async eu=>{let ed=uU.deleted;this.logger.info(`Emitting ${ed}`),this.logger.debug({type:"event",event:ed,data:eu}),await this.persist()})}),this.relayer=eu,this.logger=(0,eE.Ep)(ed,this.name),this.clientId=""}get context(){return(0,eE.Fd)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(eu,ed){let eg=!1;try{eg=this.getSubscription(eu).topic===ed}catch{}return eg}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(eu,ed){let eg=this.topicMap.get(eu);await Promise.all(eg.map(async eg=>await this.unsubscribeById(eu,eg,ed)))}async unsubscribeById(eu,ed,eg){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:eu,id:ed,opts:eg}});try{let em=cC(eg);await this.restartToComplete({topic:eu,id:ed,relay:em}),await this.rpcUnsubscribe(eu,ed,em);let eb=cL("USER_DISCONNECTED",`${this.name}, ${eu}`);await this.onUnsubscribe(eu,ed,eb),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:eu,id:ed,opts:eg}})}catch(eu){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(eu),eu}}async rpcSubscribe(eu,ed,eg){var em;eg&&eg?.transportType!==uN.relay||await this.restartToComplete({topic:eu,id:eu,relay:ed});let eb={method:cM(ed.protocol).subscribe,params:{topic:eu}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:eb});let ew=null==(em=eg?.internal)?void 0:em.throwOnFailedPublish;try{let ed=await this.getSubscriptionId(eu);if(eg?.transportType===uN.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(eb).catch(eu=>this.logger.warn(eu))},(0,eJ.toMiliseconds)(eJ.ONE_SECOND)),ed;let em=new Promise(async ed=>{let eg=em=>{em.topic===eu&&(this.events.removeListener(uU.created,eg),ed(em.id))};this.events.on(uU.created,eg);try{let em=await tB(new Promise((eu,ed)=>{this.relayer.request(eb).catch(eu=>{this.logger.warn(eu,eu?.message),ed(eu)}).then(eu)}),this.initialSubscribeTimeout,`Subscribing to ${eu} failed, please try again`);this.events.removeListener(uU.created,eg),ed(em)}catch{}}),e_=await tB(em,this.subscribeTimeout,`Subscribing to ${eu} failed, please try again`);if(!e_&&ew)throw Error(`Subscribing to ${eu} failed, please try again`);return e_?ed:null}catch(eu){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(uC.connection_stalled),ew)throw eu}return null}async rpcBatchSubscribe(eu){if(!eu.length)return;let ed=eu[0].relay,eg={method:cM(ed.protocol).batchSubscribe,params:{topics:eu.map(eu=>eu.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:eg});try{await await tB(new Promise(eu=>{this.relayer.request(eg).catch(eu=>this.logger.warn(eu)).then(eu)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(uC.connection_stalled)}}async rpcBatchFetchMessages(eu){let ed;if(!eu.length)return;let eg=eu[0].relay,em={method:cM(eg.protocol).batchFetchMessages,params:{topics:eu.map(eu=>eu.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:em});try{ed=await await tB(new Promise((eu,ed)=>{this.relayer.request(em).catch(eu=>{this.logger.warn(eu),ed(eu)}).then(eu)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(uC.connection_stalled)}return ed}rpcUnsubscribe(eu,ed,eg){let em={method:cM(eg.protocol).unsubscribe,params:{topic:eu,id:ed}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:em}),this.relayer.request(em)}onSubscribe(eu,ed){this.setSubscription(eu,d9(d4({},ed),{id:eu})),this.pending.delete(ed.topic)}onBatchSubscribe(eu){eu.length&&eu.forEach(eu=>{this.setSubscription(eu.id,d4({},eu)),this.pending.delete(eu.topic)})}async onUnsubscribe(eu,ed,eg){this.events.removeAllListeners(ed),this.hasSubscription(ed,eu)&&this.deleteSubscription(ed,eg),await this.relayer.messages.del(eu)}async setRelayerSubscriptions(eu){await this.relayer.core.storage.setItem(this.storageKey,eu)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(eu,ed){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:eu,subscription:ed}),this.addSubscription(eu,ed)}addSubscription(eu,ed){this.subscriptions.set(eu,d4({},ed)),this.topicMap.set(ed.topic,eu),this.events.emit(uU.created,ed)}getSubscription(eu){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:eu});let ed=this.subscriptions.get(eu);if(!ed){let{message:ed}=cU("NO_MATCHING_KEY",`${this.name}: ${eu}`);throw Error(ed)}return ed}deleteSubscription(eu,ed){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:eu,reason:ed});let eg=this.getSubscription(eu);this.subscriptions.delete(eu),this.topicMap.delete(eg.topic,eu),this.events.emit(uU.deleted,d9(d4({},eg),{reason:ed}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(uU.sync)}async onRestart(){if(this.cached.length){let eu=[...this.cached],ed=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let eg=0;eg<ed;eg++){let ed=eu.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(ed)}}this.events.emit(uU.resubscribed)}async restore(){try{let eu=await this.getRelayerSubscriptions();if(typeof eu>"u"||!eu.length)return;if(this.subscriptions.size){let{message:eu}=cU("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(eu),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),Error(eu)}this.cached=eu,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(eu){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(eu)}}async batchSubscribe(eu){eu.length&&(await this.rpcBatchSubscribe(eu),this.onBatchSubscribe(await Promise.all(eu.map(async eu=>d9(d4({},eu),{id:await this.getSubscriptionId(eu.topic)})))))}async batchFetchMessages(eu){if(!eu.length)return;this.logger.trace(`Fetching batch messages for ${eu.length} subscriptions`);let ed=await this.rpcBatchFetchMessages(eu);ed&&ed.messages&&(await tG((0,eJ.toMiliseconds)(eJ.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(ed.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){let{message:eu}=cU("NOT_INITIALIZED",this.name);throw Error(eu)}}async restartToComplete(eu){this.relayer.connected||this.relayer.connecting||(this.cached.push(eu),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(eu){return aW(eu+await this.getClientId())}}var fd=Object.defineProperty,fg=Object.getOwnPropertySymbols,fy=Object.prototype.hasOwnProperty,fv=Object.prototype.propertyIsEnumerable,fw=(eu,ed,eg)=>ed in eu?fd(eu,ed,{enumerable:!0,configurable:!0,writable:!0,value:eg}):eu[ed]=eg,f_=(eu,ed)=>{for(var eg in ed||(ed={}))fy.call(ed,eg)&&fw(eu,eg,ed[eg]);if(fg)for(var eg of fg(ed))fv.call(ed,eg)&&fw(eu,eg,ed[eg]);return eu},fE=(eu,ed,eg)=>fw(eu,"symbol"!=typeof ed?ed+"":ed,eg);class fA extends eD{constructor(eu){super(eu),fE(this,"protocol","wc"),fE(this,"version",2),fE(this,"core"),fE(this,"logger"),fE(this,"events",new em.EventEmitter),fE(this,"provider"),fE(this,"messages"),fE(this,"subscriber"),fE(this,"publisher"),fE(this,"name",ux),fE(this,"transportExplicitlyClosed",!1),fE(this,"initialized",!1),fE(this,"connectionAttemptInProgress",!1),fE(this,"relayUrl"),fE(this,"projectId"),fE(this,"packageName"),fE(this,"bundleId"),fE(this,"hasExperiencedNetworkDisruption",!1),fE(this,"pingTimeout"),fE(this,"heartBeatTimeout",(0,eJ.toMiliseconds)(eJ.THIRTY_SECONDS+eJ.FIVE_SECONDS)),fE(this,"reconnectTimeout"),fE(this,"connectPromise"),fE(this,"reconnectInProgress",!1),fE(this,"requestsInFlight",[]),fE(this,"connectTimeout",(0,eJ.toMiliseconds)(15*eJ.ONE_SECOND)),fE(this,"request",async eu=>{var ed,eg;this.logger.debug("Publishing Request Payload");let em=eu.id||(0,c0.getBigIntRpcId)().toString();await this.toEstablishConnection();try{this.logger.trace({id:em,method:eu.method,topic:null==(ed=eu.params)?void 0:ed.topic},"relayer.request - publishing...");let eb=`${em}:${(null==(eg=eu.params)?void 0:eg.tag)||""}`;this.requestsInFlight.push(eb);let ew=await this.provider.request(eu);return this.requestsInFlight=this.requestsInFlight.filter(eu=>eu!==eb),ew}catch(eu){throw this.logger.debug(`Failed to Publish Request: ${em}`),eu}}),fE(this,"resetPingTimeout",()=>{tg()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var eu,ed,eg,em;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),null==(em=null==(eg=null==(ed=null==(eu=this.provider)?void 0:eu.connection)?void 0:ed.socket)?void 0:eg.terminate)||em.call(eg)}catch(eu){this.logger.warn(eu,eu?.message)}},this.heartBeatTimeout))}),fE(this,"onPayloadHandler",eu=>{this.onProviderPayload(eu),this.resetPingTimeout()}),fE(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected \uD83D\uDEDC"),this.startPingTimeout(),this.events.emit(uC.connect)}),fE(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected \uD83D\uDED1"),this.requestsInFlight=[],this.onProviderDisconnect()}),fE(this,"onProviderErrorHandler",eu=>{this.logger.fatal(`Fatal socket error: ${eu.message}`),this.events.emit(uC.error,eu),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),fE(this,"registerProviderListeners",()=>{this.provider.on(uO.payload,this.onPayloadHandler),this.provider.on(uO.connect,this.onConnectHandler),this.provider.on(uO.disconnect,this.onDisconnectHandler),this.provider.on(uO.error,this.onProviderErrorHandler)}),this.core=eu.core,this.logger="u">typeof eu.logger&&"string"!=typeof eu.logger?(0,eE.Ep)(eu.logger,this.name):(0,eE.gw)((0,eE.jI)({level:eu.logger||uS})),this.messages=new dB(this.logger,eu.core),this.subscriber=new fu(this,this.logger),this.publisher=new dG(this,this.logger),this.relayUrl=eu?.relayUrl||uI,this.projectId=eu.projectId,tb()?this.packageName=tA():tw()&&(this.bundleId=tA()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(eu=>this.logger.warn(eu,eu?.message))}get context(){return(0,eE.Fd)(this.logger)}get connected(){var eu,ed,eg;return(null==(eg=null==(ed=null==(eu=this.provider)?void 0:eu.connection)?void 0:ed.socket)?void 0:eg.readyState)===1}get connecting(){var eu,ed,eg;return(null==(eg=null==(ed=null==(eu=this.provider)?void 0:eu.connection)?void 0:ed.socket)?void 0:eg.readyState)===0||void 0!==this.connectPromise}async publish(eu,ed,eg){this.isInitialized(),await this.publisher.publish(eu,ed,eg),await this.recordMessageEvent({topic:eu,message:ed,publishedAt:Date.now(),transportType:uN.relay},uk.outbound)}async subscribe(eu,ed){var eg,em,eb;this.isInitialized(),null!=ed&&ed.transportType&&ed?.transportType!=="relay"||await this.toEstablishConnection();let ew=typeof(null==(eg=ed?.internal)?void 0:eg.throwOnFailedPublish)>"u"||(null==(em=ed?.internal)?void 0:em.throwOnFailedPublish),e_=(null==(eb=this.subscriber.topicMap.get(eu))?void 0:eb[0])||"",eE,eA=ed=>{ed.topic===eu&&(this.subscriber.off(uU.created,eA),eE())};return await Promise.all([new Promise(eu=>{eE=eu,this.subscriber.on(uU.created,eA)}),new Promise(async(eg,em)=>{e_=await this.subscriber.subscribe(eu,f_({internal:{throwOnFailedPublish:ew}},ed)).catch(eu=>{ew&&em(eu)})||e_,eg()})]),e_}async unsubscribe(eu,ed){this.isInitialized(),await this.subscriber.unsubscribe(eu,ed)}on(eu,ed){this.events.on(eu,ed)}once(eu,ed){this.events.once(eu,ed)}off(eu,ed){this.events.off(eu,ed)}removeListener(eu,ed){this.events.removeListener(eu,ed)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await tB(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(eu){if(!this.subscriber.hasAnyTopics){this.logger.warn("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(ed,eg)=>{await this.connect(eu).then(ed).catch(eg).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(eu){this.logger.debug({},"Restarting transport..."),this.connectionAttemptInProgress||(this.relayUrl=eu||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await cH())throw Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(eu){if(eu?.length===0){this.logger.trace("Batch message events is empty. Ignoring...");return}let ed=eu.sort((eu,ed)=>eu.publishedAt-ed.publishedAt);for(let eu of(this.logger.debug(`Batch of ${ed.length} message events sorted`),ed))try{await this.onMessageEvent(eu)}catch(eu){this.logger.warn(eu,"Error while processing batch message event: "+eu?.message)}this.logger.trace(`Batch of ${ed.length} message events processed`)}async onLinkMessageEvent(eu,ed){let{topic:eg}=eu;if(!ed.sessionExists){let eu=t$(eJ.FIVE_MINUTES),ed={topic:eg,expiry:eu,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(eg,ed)}this.events.emit(uC.message,eu),await this.recordMessageEvent(eu,uk.inbound)}async connect(eu){await this.confirmOnlineStateOrThrow(),eu&&eu!==this.relayUrl&&(this.relayUrl=eu,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let ed=1;for(;ed<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${ed}...`),await this.createProvider(),await new Promise(async(eu,ed)=>{let eg=()=>{ed(Error("Connection interrupted while trying to connect"))};this.provider.once(uO.disconnect,eg),await tB(new Promise((eu,ed)=>{this.provider.connect().then(eu).catch(ed)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(eu=>{ed(eu)}).finally(()=>{this.provider.off(uO.disconnect,eg),clearTimeout(this.reconnectTimeout)}),await new Promise(async(eu,eg)=>{let em=()=>{ed(Error("Connection interrupted while trying to subscribe"))};this.provider.once(uO.disconnect,em),await this.subscriber.start().then(eu).catch(eg).finally(()=>{this.provider.off(uO.disconnect,em)})}),this.hasExperiencedNetworkDisruption=!1,eu()})}catch(ed){await this.subscriber.stop();let eu=ed;this.logger.warn({},eu.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${ed}`);break}await new Promise(eu=>setTimeout(eu,(0,eJ.toMiliseconds)(1*ed))),ed++}}startPingTimeout(){var eu,ed,eg,em,eb;if(tg())try{null!=(ed=null==(eu=this.provider)?void 0:eu.connection)&&ed.socket&&(null==(eb=null==(em=null==(eg=this.provider)?void 0:eg.connection)?void 0:em.socket)||eb.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(eu){this.logger.warn(eu,eu?.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();let eu=await this.core.crypto.signJWT(this.relayUrl);this.provider=new cQ.r(new c6.Z(tP({sdkVersion:uP,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:eu,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(eu,ed){let{topic:eg,message:em}=eu;await this.messages.set(eg,em,ed)}async shouldIgnoreMessageEvent(eu){let{topic:ed,message:eg}=eu;if(!eg||0===eg.length)return this.logger.warn(`Ignoring invalid/empty message: ${eg}`),!0;if(!await this.subscriber.isKnownTopic(ed))return this.logger.warn(`Ignoring message for unknown topic ${ed}`),!0;let em=this.messages.has(ed,eg);return em&&this.logger.warn(`Ignoring duplicate message: ${eg}`),em}async onProviderPayload(eu){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:eu}),(0,c0.isJsonRpcRequest)(eu)){if(!eu.method.endsWith(uM))return;let ed=eu.params,{topic:eg,message:em,publishedAt:eb,attestation:ew}=ed.data,e_={topic:eg,message:em,publishedAt:eb,transportType:uN.relay,attestation:ew};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(f_({type:"event",event:ed.id},e_)),this.events.emit(ed.id,e_),await this.acknowledgePayload(eu),await this.onMessageEvent(e_)}else(0,c0.isJsonRpcResponse)(eu)&&this.events.emit(uC.message_ack,eu)}async onMessageEvent(eu){await this.shouldIgnoreMessageEvent(eu)||(await this.recordMessageEvent(eu,uk.inbound),this.events.emit(uC.message,eu))}async acknowledgePayload(eu){let ed=(0,c0.formatJsonRpcResult)(eu.id,!0);await this.provider.connection.send(ed)}unregisterProviderListeners(){this.provider.off(uO.payload,this.onPayloadHandler),this.provider.off(uO.connect,this.onConnectHandler),this.provider.off(uO.disconnect,this.onDisconnectHandler),this.provider.off(uO.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let eu=await cH();cJ(async ed=>{eu!==ed&&(eu=ed,ed?await this.transportOpen().catch(eu=>this.logger.error(eu,eu?.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(ew.Lx.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&cX())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(eu){this.logger.warn(eu,eu?.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(uC.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(eu=>this.logger.error(eu,eu?.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},(0,eJ.toMiliseconds)(uT)))))}isInitialized(){if(!this.initialized){let{message:eu}=cU("NOT_INITIALIZED",this.name);throw Error(eu)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}}function fS(eu,ed){return eu===ed||Number.isNaN(eu)&&Number.isNaN(ed)}function fI(eu){return Object.getOwnPropertySymbols(eu).filter(ed=>Object.prototype.propertyIsEnumerable.call(eu,ed))}function fx(eu){return null==eu?void 0===eu?"[object Undefined]":"[object Null]":Object.prototype.toString.call(eu)}let fC="[object RegExp]",fO="[object String]",fT="[object Number]",fP="[object Boolean]",fN="[object Arguments]",fk="[object Symbol]",fR="[object Date]",fD="[object Map]",fB="[object Set]",fU="[object Array]",fL="[object Function]",fj="[object ArrayBuffer]",fF="[object Object]",f$="[object Error]",fK="[object DataView]",fq="[object Uint8Array]",fz="[object Uint8ClampedArray]",fH="[object Uint16Array]",fV="[object Uint32Array]",fG="[object BigUint64Array]",fW="[object Int8Array]",fJ="[object Int16Array]",fZ="[object Int32Array]",fY="[object BigInt64Array]",fX="[object Float32Array]",fQ="[object Float64Array]";function f0(){}function f1(eu){if(!eu||"object"!=typeof eu)return!1;let ed=Object.getPrototypeOf(eu);return(null===ed||ed===Object.prototype||null===Object.getPrototypeOf(ed))&&"[object Object]"===Object.prototype.toString.call(eu)}function f2(eu,ed,eg){return f6(eu,ed,void 0,void 0,void 0,void 0,eg)}function f6(eu,ed,eg,em,eb,ew,e_){let eE=e_(eu,ed,eg,em,eb,ew);if(void 0!==eE)return eE;if(typeof eu==typeof ed)switch(typeof eu){case"bigint":case"string":case"boolean":case"symbol":case"undefined":case"function":return eu===ed;case"number":return eu===ed||Object.is(eu,ed)}return f3(eu,ed,ew,e_)}function f3(eu,ed,eg,em){if(Object.is(eu,ed))return!0;let eb=fx(eu),ew=fx(ed);if(eb===fN&&(eb=fF),ew===fN&&(ew=fF),eb!==ew)return!1;switch(eb){case fO:return eu.toString()===ed.toString();case fT:{let eg=eu.valueOf(),em=ed.valueOf();return fS(eg,em)}case fP:case fR:case fk:return Object.is(eu.valueOf(),ed.valueOf());case fC:return eu.source===ed.source&&eu.flags===ed.flags;case fL:return eu===ed}eg=eg??new Map;let e_=eg.get(eu),eE=eg.get(ed);if(null!=e_&&null!=eE)return e_===ed;eg.set(eu,ed),eg.set(ed,eu);try{switch(eb){case fD:if(eu.size!==ed.size)return!1;for(let[eb,ew]of eu.entries())if(!ed.has(eb)||!f6(ew,ed.get(eb),eb,eu,ed,eg,em))return!1;return!0;case fB:{if(eu.size!==ed.size)return!1;let eb=Array.from(eu.values()),ew=Array.from(ed.values());for(let e_=0;e_<eb.length;e_++){let eE=eb[e_],eA=ew.findIndex(eb=>f6(eE,eb,void 0,eu,ed,eg,em));if(-1===eA)return!1;ew.splice(eA,1)}return!0}case fU:case fq:case fz:case fH:case fV:case fG:case fW:case fJ:case fZ:case fY:case fX:case fQ:if("u">typeof c3&&c3.isBuffer(eu)!==c3.isBuffer(ed)||eu.length!==ed.length)return!1;for(let eb=0;eb<eu.length;eb++)if(!f6(eu[eb],ed[eb],eb,eu,ed,eg,em))return!1;return!0;case fj:return eu.byteLength===ed.byteLength&&f3(new Uint8Array(eu),new Uint8Array(ed),eg,em);case fK:return eu.byteLength===ed.byteLength&&eu.byteOffset===ed.byteOffset&&f3(new Uint8Array(eu),new Uint8Array(ed),eg,em);case f$:return eu.name===ed.name&&eu.message===ed.message;case fF:{if(!(f3(eu.constructor,ed.constructor,eg,em)||f1(eu)&&f1(ed)))return!1;let eb=[...Object.keys(eu),...fI(eu)],ew=[...Object.keys(ed),...fI(ed)];if(eb.length!==ew.length)return!1;for(let ew=0;ew<eb.length;ew++){let e_=eb[ew],eE=eu[e_];if(!Object.hasOwn(ed,e_))return!1;let eA=ed[e_];if(!f6(eE,eA,e_,eu,ed,eg,em))return!1}return!0}default:return!1}}finally{eg.delete(eu),eg.delete(ed)}}function f8(eu,ed){return f2(eu,ed,f0)}var f5=Object.defineProperty,f4=Object.getOwnPropertySymbols,f9=Object.prototype.hasOwnProperty,f7=Object.prototype.propertyIsEnumerable,pa=(eu,ed,eg)=>ed in eu?f5(eu,ed,{enumerable:!0,configurable:!0,writable:!0,value:eg}):eu[ed]=eg,pl=(eu,ed)=>{for(var eg in ed||(ed={}))f9.call(ed,eg)&&pa(eu,eg,ed[eg]);if(f4)for(var eg of f4(ed))f7.call(ed,eg)&&pa(eu,eg,ed[eg]);return eu},pd=(eu,ed,eg)=>pa(eu,"symbol"!=typeof ed?ed+"":ed,eg);class pp extends eB{constructor(eu,ed,eg,em=uu,eb){super(eu,ed,eg,em),this.core=eu,this.logger=ed,this.name=eg,pd(this,"map",new Map),pd(this,"version",uR),pd(this,"cached",[]),pd(this,"initialized",!1),pd(this,"getKey"),pd(this,"storagePrefix",uu),pd(this,"recentlyDeleted",[]),pd(this,"recentlyDeletedLimit",200),pd(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(eu=>{this.getKey&&null!==eu&&!cj(eu)?this.map.set(this.getKey(eu),eu):cK(eu)?this.map.set(eu.id,eu):cq(eu)&&this.map.set(eu.topic,eu)}),this.cached=[],this.initialized=!0)}),pd(this,"set",async(eu,ed)=>{this.isInitialized(),this.map.has(eu)?await this.update(eu,ed):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:eu,value:ed}),this.map.set(eu,ed),await this.persist())}),pd(this,"get",eu=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:eu}),this.getData(eu))),pd(this,"getAll",eu=>(this.isInitialized(),eu?this.values.filter(ed=>Object.keys(eu).every(eg=>f8(ed[eg],eu[eg]))):this.values)),pd(this,"update",async(eu,ed)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:eu,update:ed});let eg=pl(pl({},this.getData(eu)),ed);this.map.set(eu,eg),await this.persist()}),pd(this,"delete",async(eu,ed)=>{this.isInitialized(),this.map.has(eu)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:eu,reason:ed}),this.map.delete(eu),this.addToRecentlyDeleted(eu),await this.persist())}),this.logger=(0,eE.Ep)(ed,this.name),this.storagePrefix=em,this.getKey=eb}get context(){return(0,eE.Fd)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(eu){this.recentlyDeleted.push(eu),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(eu){await this.core.storage.setItem(this.storageKey,eu)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(eu){let ed=this.map.get(eu);if(!ed){if(this.recentlyDeleted.includes(eu)){let{message:ed}=cU("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${eu}`);throw this.logger.error(ed),Error(ed)}let{message:ed}=cU("NO_MATCHING_KEY",`${this.name}: ${eu}`);throw this.logger.error(ed),Error(ed)}return ed}async persist(){await this.setDataStore(this.values)}async restore(){try{let eu=await this.getDataStore();if(typeof eu>"u"||!eu.length)return;if(this.map.size){let{message:eu}=cU("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(eu),Error(eu)}this.cached=eu,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(eu){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(eu)}}isInitialized(){if(!this.initialized){let{message:eu}=cU("NOT_INITIALIZED",this.name);throw Error(eu)}}}var pg=Object.defineProperty,py=(eu,ed,eg)=>ed in eu?pg(eu,ed,{enumerable:!0,configurable:!0,writable:!0,value:eg}):eu[ed]=eg,pb=(eu,ed,eg)=>py(eu,"symbol"!=typeof ed?ed+"":ed,eg);class pv{constructor(eu,ed){this.core=eu,this.logger=ed,pb(this,"name",uF),pb(this,"version",u$),pb(this,"events",new(eb())),pb(this,"pairings"),pb(this,"initialized",!1),pb(this,"storagePrefix",uu),pb(this,"ignoredPayloadTypes",[aL]),pb(this,"registeredMethods",[]),pb(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),pb(this,"register",({methods:eu})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...eu])]}),pb(this,"create",async eu=>{this.isInitialized();let ed=aH(),eg=await this.core.crypto.setSymKey(ed),em=t$(eJ.FIVE_MINUTES),eb={protocol:uA},ew={topic:eg,expiry:em,relay:eb,active:!1,methods:eu?.methods},e_=cR({protocol:this.core.protocol,version:this.core.version,topic:eg,symKey:ed,relay:eb,expiryTimestamp:em,methods:eu?.methods});return this.events.emit(uq.create,ew),this.core.expirer.set(eg,em),await this.pairings.set(eg,ew),await this.core.relayer.subscribe(eg,{transportType:eu?.transportType}),{topic:eg,uri:e_}}),pb(this,"pair",async eu=>{let ed;this.isInitialized();let eg=this.core.eventClient.createEvent({properties:{topic:eu?.uri,trace:[u9.pairing_started]}});this.isValidPair(eu,eg);let{topic:em,symKey:eb,relay:ew,expiryTimestamp:e_,methods:eE}=cT(eu.uri);if(eg.props.properties.topic=em,eg.addTrace(u9.pairing_uri_validation_success),eg.addTrace(u9.pairing_uri_not_expired),this.pairings.keys.includes(em)){if(ed=this.pairings.get(em),eg.addTrace(u9.existing_pairing),ed.active)throw eg.setError(u7.active_pairing_already_exists),Error(`Pairing already exists: ${em}. Please try again with a new connection URI.`);eg.addTrace(u9.pairing_not_expired)}let eA=e_||t$(eJ.FIVE_MINUTES),eS={topic:em,relay:ew,expiry:eA,active:!1,methods:eE};this.core.expirer.set(em,eA),await this.pairings.set(em,eS),eg.addTrace(u9.store_new_pairing),eu.activatePairing&&await this.activate({topic:em}),this.events.emit(uq.create,eS),eg.addTrace(u9.emit_inactive_pairing),this.core.crypto.keychain.has(em)||await this.core.crypto.setSymKey(eb,em),eg.addTrace(u9.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{eg.setError(u7.no_internet_connection)}try{await this.core.relayer.subscribe(em,{relay:ew})}catch(eu){throw eg.setError(u7.subscribe_pairing_topic_failure),eu}return eg.addTrace(u9.subscribe_pairing_topic_success),eS}),pb(this,"activate",async({topic:eu})=>{this.isInitialized();let ed=t$(eJ.FIVE_MINUTES);this.core.expirer.set(eu,ed),await this.pairings.update(eu,{active:!0,expiry:ed})}),pb(this,"ping",async eu=>{this.isInitialized(),await this.isValidPing(eu),this.logger.warn("ping() is deprecated and will be removed in the next major release.");let{topic:ed}=eu;if(this.pairings.keys.includes(ed)){let eu=await this.sendRequest(ed,"wc_pairingPing",{}),{done:eg,resolve:em,reject:eb}=tD();this.events.once(tq("pairing_ping",eu),({error:eu})=>{eu?eb(eu):em()}),await eg()}}),pb(this,"updateExpiry",async({topic:eu,expiry:ed})=>{this.isInitialized(),await this.pairings.update(eu,{expiry:ed})}),pb(this,"updateMetadata",async({topic:eu,metadata:ed})=>{this.isInitialized(),await this.pairings.update(eu,{peerMetadata:ed})}),pb(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),pb(this,"disconnect",async eu=>{this.isInitialized(),await this.isValidDisconnect(eu);let{topic:ed}=eu;this.pairings.keys.includes(ed)&&(await this.sendRequest(ed,"wc_pairingDelete",cL("USER_DISCONNECTED")),await this.deletePairing(ed))}),pb(this,"formatUriFromPairing",eu=>{this.isInitialized();let{topic:ed,relay:eg,expiry:em,methods:eb}=eu,ew=this.core.crypto.keychain.get(ed);return cR({protocol:this.core.protocol,version:this.core.version,topic:ed,symKey:ew,relay:eg,expiryTimestamp:em,methods:eb})}),pb(this,"sendRequest",async(eu,ed,eg)=>{let em=(0,c0.formatJsonRpcRequest)(ed,eg),eb=await this.core.crypto.encode(eu,em),ew=uK[ed].req;return this.core.history.set(eu,em),this.core.relayer.publish(eu,eb,ew),em.id}),pb(this,"sendResult",async(eu,ed,eg)=>{let em=(0,c0.formatJsonRpcResult)(eu,eg),eb=await this.core.crypto.encode(ed,em),ew=(await this.core.history.get(ed,eu)).request.method,e_=uK[ew].res;await this.core.relayer.publish(ed,eb,e_),await this.core.history.resolve(em)}),pb(this,"sendError",async(eu,ed,eg)=>{let em=(0,c0.formatJsonRpcError)(eu,eg),eb=await this.core.crypto.encode(ed,em),ew=(await this.core.history.get(ed,eu)).request.method,e_=uK[ew]?uK[ew].res:uK.unregistered_method.res;await this.core.relayer.publish(ed,eb,e_),await this.core.history.resolve(em)}),pb(this,"deletePairing",async(eu,ed)=>{await this.core.relayer.unsubscribe(eu),await Promise.all([this.pairings.delete(eu,cL("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(eu),ed?Promise.resolve():this.core.expirer.del(eu)])}),pb(this,"cleanup",async()=>{let eu=this.pairings.getAll().filter(eu=>tK(eu.expiry));await Promise.all(eu.map(eu=>this.deletePairing(eu.topic)))}),pb(this,"onRelayEventRequest",async eu=>{let{topic:ed,payload:eg}=eu;switch(eg.method){case"wc_pairingPing":return await this.onPairingPingRequest(ed,eg);case"wc_pairingDelete":return await this.onPairingDeleteRequest(ed,eg);default:return await this.onUnknownRpcMethodRequest(ed,eg)}}),pb(this,"onRelayEventResponse",async eu=>{let{topic:ed,payload:eg}=eu,em=(await this.core.history.get(ed,eg.id)).request.method;return"wc_pairingPing"===em?this.onPairingPingResponse(ed,eg):this.onUnknownRpcMethodResponse(em)}),pb(this,"onPairingPingRequest",async(eu,ed)=>{let{id:eg}=ed;try{this.isValidPing({topic:eu}),await this.sendResult(eg,eu,!0),this.events.emit(uq.ping,{id:eg,topic:eu})}catch(ed){await this.sendError(eg,eu,ed),this.logger.error(ed)}}),pb(this,"onPairingPingResponse",(eu,ed)=>{let{id:eg}=ed;setTimeout(()=>{(0,c0.isJsonRpcResult)(ed)?this.events.emit(tq("pairing_ping",eg),{}):(0,c0.isJsonRpcError)(ed)&&this.events.emit(tq("pairing_ping",eg),{error:ed.error})},500)}),pb(this,"onPairingDeleteRequest",async(eu,ed)=>{let{id:eg}=ed;try{this.isValidDisconnect({topic:eu}),await this.deletePairing(eu),this.events.emit(uq.delete,{id:eg,topic:eu})}catch(ed){await this.sendError(eg,eu,ed),this.logger.error(ed)}}),pb(this,"onUnknownRpcMethodRequest",async(eu,ed)=>{let{id:eg,method:em}=ed;try{if(this.registeredMethods.includes(em))return;let ed=cL("WC_METHOD_UNSUPPORTED",em);await this.sendError(eg,eu,ed),this.logger.error(ed)}catch(ed){await this.sendError(eg,eu,ed),this.logger.error(ed)}}),pb(this,"onUnknownRpcMethodResponse",eu=>{this.registeredMethods.includes(eu)||this.logger.error(cL("WC_METHOD_UNSUPPORTED",eu))}),pb(this,"isValidPair",(eu,ed)=>{var eg;if(!cz(eu)){let{message:eg}=cU("MISSING_OR_INVALID",`pair() params: ${eu}`);throw ed.setError(u7.malformed_pairing_uri),Error(eg)}if(!c$(eu.uri)){let{message:eg}=cU("MISSING_OR_INVALID",`pair() uri: ${eu.uri}`);throw ed.setError(u7.malformed_pairing_uri),Error(eg)}let em=cT(eu?.uri);if(!(null!=(eg=em?.relay)&&eg.protocol)){let{message:eu}=cU("MISSING_OR_INVALID","pair() uri#relay-protocol");throw ed.setError(u7.malformed_pairing_uri),Error(eu)}if(!(null!=em&&em.symKey)){let{message:eu}=cU("MISSING_OR_INVALID","pair() uri#symKey");throw ed.setError(u7.malformed_pairing_uri),Error(eu)}if(null!=em&&em.expiryTimestamp&&(0,eJ.toMiliseconds)(em?.expiryTimestamp)<Date.now()){ed.setError(u7.pairing_expired);let{message:eu}=cU("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw Error(eu)}}),pb(this,"isValidPing",async eu=>{if(!cz(eu)){let{message:ed}=cU("MISSING_OR_INVALID",`ping() params: ${eu}`);throw Error(ed)}let{topic:ed}=eu;await this.isValidPairingTopic(ed)}),pb(this,"isValidDisconnect",async eu=>{if(!cz(eu)){let{message:ed}=cU("MISSING_OR_INVALID",`disconnect() params: ${eu}`);throw Error(ed)}let{topic:ed}=eu;await this.isValidPairingTopic(ed)}),pb(this,"isValidPairingTopic",async eu=>{if(!cF(eu,!1)){let{message:ed}=cU("MISSING_OR_INVALID",`pairing topic should be a string: ${eu}`);throw Error(ed)}if(!this.pairings.keys.includes(eu)){let{message:ed}=cU("NO_MATCHING_KEY",`pairing topic doesn't exist: ${eu}`);throw Error(ed)}if(tK(this.pairings.get(eu).expiry)){await this.deletePairing(eu);let{message:ed}=cU("EXPIRED",`pairing topic: ${eu}`);throw Error(ed)}}),this.core=eu,this.logger=(0,eE.Ep)(ed,this.name),this.pairings=new pp(this.core,this.logger,this.name,this.storagePrefix)}get context(){return(0,eE.Fd)(this.logger)}isInitialized(){if(!this.initialized){let{message:eu}=cU("NOT_INITIALIZED",this.name);throw Error(eu)}}registerRelayerEvents(){this.core.relayer.on(uC.message,async eu=>{let{topic:ed,message:eg,transportType:em}=eu;if(this.pairings.keys.includes(ed)&&em!==uN.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(eg)))try{let eu=await this.core.crypto.decode(ed,eg);(0,c0.isJsonRpcRequest)(eu)?(this.core.history.set(ed,eu),await this.onRelayEventRequest({topic:ed,payload:eu})):(0,c0.isJsonRpcResponse)(eu)&&(await this.core.history.resolve(eu),await this.onRelayEventResponse({topic:ed,payload:eu}),this.core.history.delete(ed,eu.id)),await this.core.relayer.messages.ack(ed,eg)}catch(eu){this.logger.error(eu)}})}registerExpirerEvents(){this.core.expirer.on(uW.expired,async eu=>{let{topic:ed}=tF(eu.target);ed&&this.pairings.keys.includes(ed)&&(await this.deletePairing(ed,!0),this.events.emit(uq.expire,{topic:ed}))})}}var pw=Object.defineProperty,p_=(eu,ed,eg)=>ed in eu?pw(eu,ed,{enumerable:!0,configurable:!0,writable:!0,value:eg}):eu[ed]=eg,pE=(eu,ed,eg)=>p_(eu,"symbol"!=typeof ed?ed+"":ed,eg);class pA extends eN{constructor(eu,ed){super(eu,ed),this.core=eu,this.logger=ed,pE(this,"records",new Map),pE(this,"events",new em.EventEmitter),pE(this,"name",uH),pE(this,"version",uV),pE(this,"cached",[]),pE(this,"initialized",!1),pE(this,"storagePrefix",uu),pE(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(eu=>this.records.set(eu.id,eu)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),pE(this,"set",(eu,ed,eg)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:eu,request:ed,chainId:eg}),this.records.has(ed.id))return;let em={id:ed.id,topic:eu,request:{method:ed.method,params:ed.params||null},chainId:eg,expiry:t$(eJ.THIRTY_DAYS)};this.records.set(em.id,em),this.persist(),this.events.emit(uz.created,em)}),pE(this,"resolve",async eu=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:eu}),!this.records.has(eu.id))return;let ed=await this.getRecord(eu.id);typeof ed.response>"u"&&(ed.response=(0,c0.isJsonRpcError)(eu)?{error:eu.error}:{result:eu.result},this.records.set(ed.id,ed),this.persist(),this.events.emit(uz.updated,ed))}),pE(this,"get",async(eu,ed)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:eu,id:ed}),await this.getRecord(ed))),pE(this,"delete",(eu,ed)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:ed}),this.values.forEach(eg=>{eg.topic!==eu||"u">typeof ed&&eg.id!==ed||(this.records.delete(eg.id),this.events.emit(uz.deleted,eg))}),this.persist()}),pE(this,"exists",async(eu,ed)=>(this.isInitialized(),!!this.records.has(ed)&&(await this.getRecord(ed)).topic===eu)),pE(this,"on",(eu,ed)=>{this.events.on(eu,ed)}),pE(this,"once",(eu,ed)=>{this.events.once(eu,ed)}),pE(this,"off",(eu,ed)=>{this.events.off(eu,ed)}),pE(this,"removeListener",(eu,ed)=>{this.events.removeListener(eu,ed)}),this.logger=(0,eE.Ep)(ed,this.name)}get context(){return(0,eE.Fd)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){let eu=[];return this.values.forEach(ed=>{if("u">typeof ed.response)return;let eg={topic:ed.topic,request:(0,c0.formatJsonRpcRequest)(ed.request.method,ed.request.params,ed.id),chainId:ed.chainId};return eu.push(eg)}),eu}async setJsonRpcRecords(eu){await this.core.storage.setItem(this.storageKey,eu)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(eu){this.isInitialized();let ed=this.records.get(eu);if(!ed){let{message:ed}=cU("NO_MATCHING_KEY",`${this.name}: ${eu}`);throw Error(ed)}return ed}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(uz.sync)}async restore(){try{let eu=await this.getJsonRpcRecords();if(typeof eu>"u"||!eu.length)return;if(this.records.size){let{message:eu}=cU("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(eu),Error(eu)}this.cached=eu,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(eu){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(eu)}}registerEventListeners(){this.events.on(uz.created,eu=>{let ed=uz.created;this.logger.info(`Emitting ${ed}`),this.logger.debug({type:"event",event:ed,record:eu})}),this.events.on(uz.updated,eu=>{let ed=uz.updated;this.logger.info(`Emitting ${ed}`),this.logger.debug({type:"event",event:ed,record:eu})}),this.events.on(uz.deleted,eu=>{let ed=uz.deleted;this.logger.info(`Emitting ${ed}`),this.logger.debug({type:"event",event:ed,record:eu})}),this.core.heartbeat.on(ew.Lx.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let eu=!1;this.records.forEach(ed=>{(0,eJ.toMiliseconds)(ed.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${ed.id}`),this.records.delete(ed.id),this.events.emit(uz.deleted,ed,!1),eu=!0)}),eu&&this.persist()}catch(eu){this.logger.warn(eu)}}isInitialized(){if(!this.initialized){let{message:eu}=cU("NOT_INITIALIZED",this.name);throw Error(eu)}}}var pS=Object.defineProperty,pI=(eu,ed,eg)=>ed in eu?pS(eu,ed,{enumerable:!0,configurable:!0,writable:!0,value:eg}):eu[ed]=eg,px=(eu,ed,eg)=>pI(eu,"symbol"!=typeof ed?ed+"":ed,eg);class pC extends eL{constructor(eu,ed){super(eu,ed),this.core=eu,this.logger=ed,px(this,"expirations",new Map),px(this,"events",new em.EventEmitter),px(this,"name",uG),px(this,"version",uJ),px(this,"cached",[]),px(this,"initialized",!1),px(this,"storagePrefix",uu),px(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(eu=>this.expirations.set(eu.target,eu)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),px(this,"has",eu=>{try{let ed=this.formatTarget(eu);return"u">typeof this.getExpiration(ed)}catch{return!1}}),px(this,"set",(eu,ed)=>{this.isInitialized();let eg=this.formatTarget(eu),em={target:eg,expiry:ed};this.expirations.set(eg,em),this.checkExpiry(eg,em),this.events.emit(uW.created,{target:eg,expiration:em})}),px(this,"get",eu=>{this.isInitialized();let ed=this.formatTarget(eu);return this.getExpiration(ed)}),px(this,"del",eu=>{if(this.isInitialized(),this.has(eu)){let ed=this.formatTarget(eu),eg=this.getExpiration(ed);this.expirations.delete(ed),this.events.emit(uW.deleted,{target:ed,expiration:eg})}}),px(this,"on",(eu,ed)=>{this.events.on(eu,ed)}),px(this,"once",(eu,ed)=>{this.events.once(eu,ed)}),px(this,"off",(eu,ed)=>{this.events.off(eu,ed)}),px(this,"removeListener",(eu,ed)=>{this.events.removeListener(eu,ed)}),this.logger=(0,eE.Ep)(ed,this.name)}get context(){return(0,eE.Fd)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(eu){if("string"==typeof eu)return tL(eu);if("number"==typeof eu)return tj(eu);let{message:ed}=cU("UNKNOWN_TYPE",`Target type: ${typeof eu}`);throw Error(ed)}async setExpirations(eu){await this.core.storage.setItem(this.storageKey,eu)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(uW.sync)}async restore(){try{let eu=await this.getExpirations();if(typeof eu>"u"||!eu.length)return;if(this.expirations.size){let{message:eu}=cU("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(eu),Error(eu)}this.cached=eu,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(eu){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(eu)}}getExpiration(eu){let ed=this.expirations.get(eu);if(!ed){let{message:ed}=cU("NO_MATCHING_KEY",`${this.name}: ${eu}`);throw this.logger.warn(ed),Error(ed)}return ed}checkExpiry(eu,ed){let{expiry:eg}=ed;(0,eJ.toMiliseconds)(eg)-Date.now()<=0&&this.expire(eu,ed)}expire(eu,ed){this.expirations.delete(eu),this.events.emit(uW.expired,{target:eu,expiration:ed})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((eu,ed)=>this.checkExpiry(ed,eu))}registerEventListeners(){this.core.heartbeat.on(ew.Lx.pulse,()=>this.checkExpirations()),this.events.on(uW.created,eu=>{let ed=uW.created;this.logger.info(`Emitting ${ed}`),this.logger.debug({type:"event",event:ed,data:eu}),this.persist()}),this.events.on(uW.expired,eu=>{let ed=uW.expired;this.logger.info(`Emitting ${ed}`),this.logger.debug({type:"event",event:ed,data:eu}),this.persist()}),this.events.on(uW.deleted,eu=>{let ed=uW.deleted;this.logger.info(`Emitting ${ed}`),this.logger.debug({type:"event",event:ed,data:eu}),this.persist()})}isInitialized(){if(!this.initialized){let{message:eu}=cU("NOT_INITIALIZED",this.name);throw Error(eu)}}}var pM=Object.defineProperty,pO=(eu,ed,eg)=>ed in eu?pM(eu,ed,{enumerable:!0,configurable:!0,writable:!0,value:eg}):eu[ed]=eg,pT=(eu,ed,eg)=>pO(eu,"symbol"!=typeof ed?ed+"":ed,eg);class pP extends ej{constructor(eu,ed,eg){super(eu,ed,eg),this.core=eu,this.logger=ed,this.store=eg,pT(this,"name",uZ),pT(this,"abortController"),pT(this,"isDevEnv"),pT(this,"verifyUrlV3",u6),pT(this,"storagePrefix",uu),pT(this,"version",c9),pT(this,"publicKey"),pT(this,"fetchPromise"),pT(this,"init",async()=>{var eu;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&(0,eJ.toMiliseconds)(null==(eu=this.publicKey)?void 0:eu.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),pT(this,"register",async eu=>{if(!t_()||this.isDevEnv)return;let ed=window.location.origin,{id:eg,decryptedId:em}=eu,eb=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${ed}&id=${eg}&decryptedId=${em}`;try{let eu=(0,eQ.getDocument)(),ed=this.startAbortTimer(5*eJ.ONE_SECOND),em=await new Promise((em,ew)=>{let e_=()=>{window.removeEventListener("message",eA),eu.body.removeChild(eE),ew("attestation aborted")};this.abortController.signal.addEventListener("abort",e_);let eE=eu.createElement("iframe");eE.src=eb,eE.style.display="none",eE.addEventListener("error",e_,{signal:this.abortController.signal});let eA=eb=>{if(eb.data&&"string"==typeof eb.data)try{let ew=JSON.parse(eb.data);if("verify_attestation"===ew.type){if((0,eY.xp)(ew.attestation).payload.id!==eg)return;clearInterval(ed),eu.body.removeChild(eE),this.abortController.signal.removeEventListener("abort",e_),window.removeEventListener("message",eA),em(null===ew.attestation?"":ew.attestation)}}catch(eu){this.logger.warn(eu)}};eu.body.appendChild(eE),window.addEventListener("message",eA,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",em),em}catch(eu){this.logger.warn(eu)}return""}),pT(this,"resolve",async eu=>{if(this.isDevEnv)return"";let{attestationId:ed,hash:eg,encryptedId:em}=eu;if(""===ed){this.logger.debug("resolve: attestationId is empty, skipping");return}if(ed){if((0,eY.xp)(ed).payload.id!==em)return;let eu=await this.isValidJwtAttestation(ed);if(eu){if(!eu.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return eu}}if(!eg)return;let eb=this.getVerifyUrl(eu?.verifyUrl);return this.fetchAttestation(eg,eb)}),pT(this,"fetchAttestation",async(eu,ed)=>{this.logger.debug(`resolving attestation: ${eu} from url: ${ed}`);let eg=this.startAbortTimer(5*eJ.ONE_SECOND),em=await fetch(`${ed}/attestation/${eu}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(eg),200===em.status?await em.json():void 0}),pT(this,"getVerifyUrl",eu=>{let ed=eu||uQ;return u3.includes(ed)||(this.logger.info(`verify url: ${ed}, not included in trusted list, assigning default: ${uQ}`),ed=uQ),ed}),pT(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);let eu=this.startAbortTimer(eJ.FIVE_SECONDS),ed=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(eu),await ed.json()}catch(eu){this.logger.warn(eu)}}),pT(this,"persistPublicKey",async eu=>{this.logger.debug("persisting public key to local storage",eu),await this.store.setItem(this.storeKey,eu),this.publicKey=eu}),pT(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),pT(this,"isValidJwtAttestation",async eu=>{let ed=await this.getPublicKey();try{if(ed)return this.validateAttestation(eu,ed)}catch(eu){this.logger.error(eu),this.logger.warn("error validating attestation")}let eg=await this.fetchAndPersistPublicKey();try{if(eg)return this.validateAttestation(eu,eg)}catch(eu){this.logger.error(eu),this.logger.warn("error validating attestation")}}),pT(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),pT(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async eu=>{let ed=await this.fetchPublicKey();ed&&(await this.persistPublicKey(ed),eu(ed))});let eu=await this.fetchPromise;return this.fetchPromise=void 0,eu}),pT(this,"validateAttestation",(eu,ed)=>{let eg=cI(eu,ed.publicKey),em={hasExpired:(0,eJ.toMiliseconds)(eg.exp)<Date.now(),payload:eg};if(em.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),Error("JWT attestation expired");return{origin:em.payload.origin,isScam:em.payload.isScam,isVerified:em.payload.isVerified}}),this.logger=(0,eE.Ep)(ed,this.name),this.abortController=new AbortController,this.isDevEnv=tH(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return(0,eE.Fd)(this.logger)}startAbortTimer(eu){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),(0,eJ.toMiliseconds)(eu))}}var pN=Object.defineProperty,pR=(eu,ed,eg)=>ed in eu?pN(eu,ed,{enumerable:!0,configurable:!0,writable:!0,value:eg}):eu[ed]=eg,pD=(eu,ed,eg)=>pR(eu,"symbol"!=typeof ed?ed+"":ed,eg);class pB extends eF{constructor(eu,ed){super(eu,ed),this.projectId=eu,this.logger=ed,pD(this,"context",u5),pD(this,"registerDeviceToken",async eu=>{let{clientId:ed,token:eg,notificationType:em,enableEncrypted:eb=!1}=eu,ew=`${u4}/${this.projectId}/clients`;await fetch(ew,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:ed,type:em,token:eg,always_raw:eb})})}),this.logger=(0,eE.Ep)(ed,this.context)}}var pU=Object.defineProperty,pL=Object.getOwnPropertySymbols,pj=Object.prototype.hasOwnProperty,pF=Object.prototype.propertyIsEnumerable,p$=(eu,ed,eg)=>ed in eu?pU(eu,ed,{enumerable:!0,configurable:!0,writable:!0,value:eg}):eu[ed]=eg,pK=(eu,ed)=>{for(var eg in ed||(ed={}))pj.call(ed,eg)&&p$(eu,eg,ed[eg]);if(pL)for(var eg of pL(ed))pF.call(ed,eg)&&p$(eu,eg,ed[eg]);return eu},pq=(eu,ed,eg)=>p$(eu,"symbol"!=typeof ed?ed+"":ed,eg);class pz extends e${constructor(eu,ed,eg=!0){super(eu,ed,eg),this.core=eu,this.logger=ed,pq(this,"context",lg),pq(this,"storagePrefix",uu),pq(this,"storageVersion",lp),pq(this,"events",new Map),pq(this,"shouldPersist",!1),pq(this,"init",async()=>{if(!tH())try{let eu={eventId:tz(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:tT(this.core.relayer.protocol,this.core.relayer.version,uP)}}};await this.sendEvent([eu])}catch(eu){this.logger.warn(eu)}}),pq(this,"createEvent",eu=>{let{event:ed="ERROR",type:eg="",properties:{topic:em,trace:eb}}=eu,ew=tz(),e_=this.core.projectId||"",eE=Date.now(),eA=pK({eventId:ew,timestamp:eE,props:{event:ed,type:eg,properties:{topic:em,trace:eb}},bundleId:e_,domain:this.getAppDomain()},this.setMethods(ew));return this.telemetryEnabled&&(this.events.set(ew,eA),this.shouldPersist=!0),eA}),pq(this,"getEvent",eu=>{let{eventId:ed,topic:eg}=eu;if(ed)return this.events.get(ed);let em=Array.from(this.events.values()).find(eu=>eu.props.properties.topic===eg);if(em)return pK(pK({},em),this.setMethods(em.eventId))}),pq(this,"deleteEvent",eu=>{let{eventId:ed}=eu;this.events.delete(ed),this.shouldPersist=!0}),pq(this,"setEventListeners",()=>{this.core.heartbeat.on(ew.Lx.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(eu=>{(0,eJ.fromMiliseconds)(Date.now())-(0,eJ.fromMiliseconds)(eu.timestamp)>ly&&(this.events.delete(eu.eventId),this.shouldPersist=!0)})})}),pq(this,"setMethods",eu=>({addTrace:ed=>this.addTrace(eu,ed),setError:ed=>this.setError(eu,ed)})),pq(this,"addTrace",(eu,ed)=>{let eg=this.events.get(eu);eg&&(eg.props.properties.trace.push(ed),this.events.set(eu,eg),this.shouldPersist=!0)}),pq(this,"setError",(eu,ed)=>{let eg=this.events.get(eu);eg&&(eg.props.type=ed,eg.timestamp=Date.now(),this.events.set(eu,eg),this.shouldPersist=!0)}),pq(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),pq(this,"restore",async()=>{try{let eu=await this.core.storage.getItem(this.storageKey)||[];if(!eu.length)return;eu.forEach(eu=>{this.events.set(eu.eventId,pK(pK({},eu),this.setMethods(eu.eventId)))})}catch(eu){this.logger.warn(eu)}}),pq(this,"submit",async()=>{if(!this.telemetryEnabled||0===this.events.size)return;let eu=[];for(let[ed,eg]of this.events)eg.props.type&&eu.push(eg);if(0!==eu.length)try{if((await this.sendEvent(eu)).ok)for(let ed of eu)this.events.delete(ed.eventId),this.shouldPersist=!0}catch(eu){this.logger.warn(eu)}}),pq(this,"sendEvent",async eu=>{let ed=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${lm}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${uP}${ed}`,{method:"POST",body:JSON.stringify(eu)})}),pq(this,"getAppDomain",()=>tI().url),this.logger=(0,eE.Ep)(ed,this.context),this.telemetryEnabled=eg,eg?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var pH=Object.defineProperty,pV=Object.getOwnPropertySymbols,pG=Object.prototype.hasOwnProperty,pW=Object.prototype.propertyIsEnumerable,pJ=(eu,ed,eg)=>ed in eu?pH(eu,ed,{enumerable:!0,configurable:!0,writable:!0,value:eg}):eu[ed]=eg,pZ=(eu,ed)=>{for(var eg in ed||(ed={}))pG.call(ed,eg)&&pJ(eu,eg,ed[eg]);if(pV)for(var eg of pV(ed))pW.call(ed,eg)&&pJ(eu,eg,ed[eg]);return eu},pY=(eu,ed,eg)=>pJ(eu,"symbol"!=typeof ed?ed+"":ed,eg);class pX extends eM{constructor(eu){var ed;super(eu),pY(this,"protocol",c4),pY(this,"version",c9),pY(this,"name",c7),pY(this,"relayUrl"),pY(this,"projectId"),pY(this,"customStoragePrefix"),pY(this,"events",new em.EventEmitter),pY(this,"logger"),pY(this,"heartbeat"),pY(this,"relayer"),pY(this,"crypto"),pY(this,"storage"),pY(this,"history"),pY(this,"expirer"),pY(this,"pairing"),pY(this,"verify"),pY(this,"echoClient"),pY(this,"linkModeSupportedApps"),pY(this,"eventClient"),pY(this,"initialized",!1),pY(this,"logChunkController"),pY(this,"on",(eu,ed)=>this.events.on(eu,ed)),pY(this,"once",(eu,ed)=>this.events.once(eu,ed)),pY(this,"off",(eu,ed)=>this.events.off(eu,ed)),pY(this,"removeListener",(eu,ed)=>this.events.removeListener(eu,ed)),pY(this,"dispatchEnvelope",({topic:eu,message:ed,sessionExists:eg})=>{if(!eu||!ed)return;let em={topic:eu,message:ed,publishedAt:Date.now(),transportType:uN.link_mode};this.relayer.onLinkMessageEvent(em,{sessionExists:eg})});let eg=this.getGlobalCore(eu?.customStoragePrefix);if(eg)try{return this.customStoragePrefix=eg.customStoragePrefix,this.logger=eg.logger,this.heartbeat=eg.heartbeat,this.crypto=eg.crypto,this.history=eg.history,this.expirer=eg.expirer,this.storage=eg.storage,this.relayer=eg.relayer,this.pairing=eg.pairing,this.verify=eg.verify,this.echoClient=eg.echoClient,this.linkModeSupportedApps=eg.linkModeSupportedApps,this.eventClient=eg.eventClient,this.initialized=eg.initialized,this.logChunkController=eg.logChunkController,eg}catch(eu){console.warn("Failed to copy global core",eu)}this.projectId=eu?.projectId,this.relayUrl=eu?.relayUrl||uI,this.customStoragePrefix=null!=eu&&eu.customStoragePrefix?`:${eu.customStoragePrefix}`:"";let eb=(0,eE.jI)({level:"string"==typeof eu?.logger&&eu.logger?eu.logger:ul.logger,name:c7}),{logger:eA,chunkLoggerController:eS}=(0,eE.Rt)({opts:eb,maxSizeInBytes:eu?.maxLogBlobSizeInBytes,loggerOverride:eu?.logger});this.logChunkController=eS,null!=(ed=this.logChunkController)&&ed.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var eu,ed;null!=(eu=this.logChunkController)&&eu.downloadLogsBlobInBrowser&&(null==(ed=this.logChunkController)||ed.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=(0,eE.Ep)(eA,this.name),this.heartbeat=new ew.C$,this.crypto=new dI(this,this.logger,eu?.keychain),this.history=new pA(this,this.logger),this.expirer=new pC(this,this.logger),this.storage=null!=eu&&eu.storage?eu.storage:new e_.Z(pZ(pZ({},uh),eu?.storageOptions)),this.relayer=new fA({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new pv(this,this.logger),this.verify=new pP(this,this.logger,this.storage),this.echoClient=new pB(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new pz(this,this.logger,eu?.telemetryEnabled),this.setGlobalCore(this)}static async init(eu){let ed=new pX(eu);await ed.initialize();let eg=await ed.crypto.getClientId();return await ed.storage.setItem(uD,eg),ed}get context(){return(0,eE.Fd)(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var eu;return null==(eu=this.logChunkController)?void 0:eu.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(eu){this.linkModeSupportedApps.includes(eu)||(this.linkModeSupportedApps.push(eu),await this.storage.setItem(uB,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(uB)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(eu){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,eu),this.logger.error(eu.message),eu}}getGlobalCore(eu=""){try{if(this.isGlobalCoreDisabled())return;let ed=`_walletConnectCore_${eu}`,eg=`${ed}_count`;return globalThis[eg]=(globalThis[eg]||0)+1,globalThis[eg]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[eg]} times.`),globalThis[ed]}catch(eu){console.warn("Failed to get global WalletConnect core",eu);return}}setGlobalCore(eu){var ed;try{if(this.isGlobalCoreDisabled())return;let eg=`_walletConnectCore_${(null==(ed=eu.opts)?void 0:ed.customStoragePrefix)||""}`;globalThis[eg]=eu}catch(eu){console.warn("Failed to set global WalletConnect core",eu)}}isGlobalCoreDisabled(){try{return"u">typeof c5&&"true"===c5.env.DISABLE_GLOBAL_CORE}catch{return!0}}}let pQ=pX,p0="2.31.0",p6={getDocsUrl:({docsBaseUrl:eu,docsPath:ed="",docsSlug:eg})=>ed?`${eu??"https://viem.sh"}${ed}${eg?`#${eg}`:""}`:void 0,version:`viem@${p0}`};class p3 extends Error{constructor(eu,ed={}){let eg=ed.cause instanceof p3?ed.cause.details:ed.cause?.message?ed.cause.message:ed.details,em=ed.cause instanceof p3&&ed.cause.docsPath||ed.docsPath,eb=p6.getDocsUrl?.({...ed,docsPath:em}),ew=[eu||"An error occurred.","",...ed.metaMessages?[...ed.metaMessages,""]:[],...eb?[`Docs: ${eb}`]:[],...eg?[`Details: ${eg}`]:[],...p6.version?[`Version: ${p6.version}`]:[]].join("\n");super(ew,ed.cause?{cause:ed.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=eg,this.docsPath=em,this.metaMessages=ed.metaMessages,this.name=ed.name??this.name,this.shortMessage=eu,this.version=p0}walk(eu){return p8(this,eu)}}function p8(eu,ed){return ed?.(eu)?eu:eu&&"object"==typeof eu&&"cause"in eu&&void 0!==eu.cause?p8(eu.cause,ed):ed?null:eu}function p5(eu,{strict:ed=!0}={}){return!!eu&&"string"==typeof eu&&(ed?/^0x[0-9a-fA-F]*$/.test(eu):eu.startsWith("0x"))}class p4 extends p3{constructor({size:eu,targetSize:ed,type:eg}){super(`${eg.charAt(0).toUpperCase()}${eg.slice(1).toLowerCase()} size (${eu}) exceeds padding size (${ed}).`,{name:"SizeExceedsPaddingSizeError"})}}function p9(eu,{dir:ed,size:eg=32}={}){return"string"==typeof eu?p7(eu,{dir:ed,size:eg}):gu(eu,{dir:ed,size:eg})}function p7(eu,{dir:ed,size:eg=32}={}){if(null===eg)return eu;let em=eu.replace("0x","");if(em.length>2*eg)throw new p4({size:Math.ceil(em.length/2),targetSize:eg,type:"hex"});return`0x${em["right"===ed?"padEnd":"padStart"](2*eg,"0")}`}function gu(eu,{dir:ed,size:eg=32}={}){if(null===eg)return eu;if(eu.length>eg)throw new p4({size:eu.length,targetSize:eg,type:"bytes"});let em=new Uint8Array(eg);for(let eb=0;eb<eg;eb++){let ew="right"===ed;em[ew?eb:eg-eb-1]=eu[ew?eb:eu.length-eb-1]}return em}class gd extends p3{constructor({max:eu,min:ed,signed:eg,size:em,value:eb}){super(`Number "${eb}" is not in safe ${em?`${8*em}-bit ${eg?"signed":"unsigned"} `:""}integer range ${eu?`(${ed} to ${eu})`:`(above ${ed})`}`,{name:"IntegerOutOfRangeError"})}}class gp extends p3{constructor({givenSize:eu,maxSize:ed}){super(`Size cannot exceed ${ed} bytes. Given size: ${eu} bytes.`,{name:"SizeOverflowError"})}}function gg(eu){return p5(eu,{strict:!1})?Math.ceil((eu.length-2)/2):eu.length}function gy(eu,{size:ed}){if(gg(eu)>ed)throw new gp({givenSize:gg(eu),maxSize:ed})}function gm(eu,ed={}){let{signed:eg}=ed;ed.size&&gy(eu,{size:ed.size});let em=BigInt(eu);if(!eg)return em;let eb=(eu.length-2)/2,ew=(1n<<8n*BigInt(eb)-1n)-1n;return em<=ew?em:em-BigInt(`0x${"f".padStart(2*eb,"f")}`)-1n}function gb(eu,ed={}){return Number(gm(eu,ed))}let gv=Array.from({length:256},(eu,ed)=>ed.toString(16).padStart(2,"0"));function gw(eu,ed={}){return"number"==typeof eu||"bigint"==typeof eu?gA(eu,ed):"string"==typeof eu?gI(eu,ed):"boolean"==typeof eu?g_(eu,ed):gE(eu,ed)}function g_(eu,ed={}){let eg=`0x${Number(eu)}`;return"number"==typeof ed.size?(gy(eg,{size:ed.size}),p9(eg,{size:ed.size})):eg}function gE(eu,ed={}){let eg="";for(let ed=0;ed<eu.length;ed++)eg+=gv[eu[ed]];let em=`0x${eg}`;return"number"==typeof ed.size?(gy(em,{size:ed.size}),p9(em,{dir:"right",size:ed.size})):em}function gA(eu,ed={}){let eg;let{signed:em,size:eb}=ed,ew=BigInt(eu);eb?eg=em?(1n<<8n*BigInt(eb)-1n)-1n:2n**(8n*BigInt(eb))-1n:"number"==typeof eu&&(eg=BigInt(Number.MAX_SAFE_INTEGER));let e_="bigint"==typeof eg&&em?-eg-1n:0;if(eg&&ew>eg||ew<e_){let ed="bigint"==typeof eu?"n":"";throw new gd({max:eg?`${eg}${ed}`:void 0,min:`${e_}${ed}`,signed:em,size:eb,value:`${eu}${ed}`})}let eE=`0x${(em&&ew<0?(1n<<BigInt(8*eb))+BigInt(ew):ew).toString(16)}`;return eb?p9(eE,{size:eb}):eE}let gS=new TextEncoder;function gI(eu,ed={}){let eg=gS.encode(eu);return gE(eg,ed)}let gx=new TextEncoder;function gC(eu,ed={}){return"number"==typeof eu||"bigint"==typeof eu?gN(eu,ed):"boolean"==typeof eu?gM(eu,ed):p5(eu)?gP(eu,ed):gk(eu,ed)}function gM(eu,ed={}){let eg=new Uint8Array(1);return(eg[0]=Number(eu),"number"==typeof ed.size)?(gy(eg,{size:ed.size}),p9(eg,{size:ed.size})):eg}let gO={zero:48,nine:57,A:65,F:70,a:97,f:102};function gT(eu){return eu>=gO.zero&&eu<=gO.nine?eu-gO.zero:eu>=gO.A&&eu<=gO.F?eu-(gO.A-10):eu>=gO.a&&eu<=gO.f?eu-(gO.a-10):void 0}function gP(eu,ed={}){let eg=eu;ed.size&&(gy(eg,{size:ed.size}),eg=p9(eg,{dir:"right",size:ed.size}));let em=eg.slice(2);em.length%2&&(em=`0${em}`);let eb=em.length/2,ew=new Uint8Array(eb);for(let eu=0,ed=0;eu<eb;eu++){let eg=gT(em.charCodeAt(ed++)),eb=gT(em.charCodeAt(ed++));if(void 0===eg||void 0===eb)throw new p3(`Invalid byte sequence ("${em[ed-2]}${em[ed-1]}" in "${em}").`);ew[eu]=16*eg+eb}return ew}function gN(eu,ed){let eg=gA(eu,ed);return gP(eg)}function gk(eu,ed={}){let eg=gx.encode(eu);return"number"==typeof ed.size?(gy(eg,{size:ed.size}),p9(eg,{dir:"right",size:ed.size})):eg}let gR=BigInt(4294967296-1),gD=BigInt(32);function gB(eu,ed=!1){return ed?{h:Number(eu&gR),l:Number(eu>>gD&gR)}:{h:0|Number(eu>>gD&gR),l:0|Number(eu&gR)}}function gU(eu,ed=!1){let eg=eu.length,em=new Uint32Array(eg),eb=new Uint32Array(eg);for(let ew=0;ew<eg;ew++){let{h:eg,l:e_}=gB(eu[ew],ed);[em[ew],eb[ew]]=[eg,e_]}return[em,eb]}let gL=(eu,ed,eg)=>eu<<eg|ed>>>32-eg,gj=(eu,ed,eg)=>ed<<eg|eu>>>32-eg,gF=(eu,ed,eg)=>ed<<eg-32|eu>>>64-eg,g$=(eu,ed,eg)=>eu<<eg-32|ed>>>64-eg;var gK=eg(21700);let gq=BigInt(0),gz=BigInt(1),gH=BigInt(2),gV=BigInt(7),gG=BigInt(256),gW=BigInt(113),gJ=[],gZ=[],gY=[];for(let eu=0,ed=gz,eg=1,em=0;eu<24;eu++){[eg,em]=[em,(2*eg+3*em)%5],gJ.push(2*(5*em+eg)),gZ.push((eu+1)*(eu+2)/2%64);let eb=gq;for(let eu=0;eu<7;eu++)(ed=(ed<<gz^(ed>>gV)*gW)%gG)&gH&&(eb^=gz<<(gz<<BigInt(eu))-gz);gY.push(eb)}let gX=gU(gY,!0),gQ=gX[0],g0=gX[1],g1=(eu,ed,eg)=>eg>32?gF(eu,ed,eg):gL(eu,ed,eg),g2=(eu,ed,eg)=>eg>32?g$(eu,ed,eg):gj(eu,ed,eg);function g6(eu,ed=24){let eg=new Uint32Array(10);for(let em=24-ed;em<24;em++){for(let ed=0;ed<10;ed++)eg[ed]=eu[ed]^eu[ed+10]^eu[ed+20]^eu[ed+30]^eu[ed+40];for(let ed=0;ed<10;ed+=2){let em=(ed+8)%10,eb=(ed+2)%10,ew=eg[eb],e_=eg[eb+1],eE=g1(ew,e_,1)^eg[em],eA=g2(ew,e_,1)^eg[em+1];for(let eg=0;eg<50;eg+=10)eu[ed+eg]^=eE,eu[ed+eg+1]^=eA}let ed=eu[2],eb=eu[3];for(let eg=0;eg<24;eg++){let em=gZ[eg],ew=g1(ed,eb,em),e_=g2(ed,eb,em),eE=gJ[eg];ed=eu[eE],eb=eu[eE+1],eu[eE]=ew,eu[eE+1]=e_}for(let ed=0;ed<50;ed+=10){for(let em=0;em<10;em++)eg[em]=eu[ed+em];for(let em=0;em<10;em++)eu[ed+em]^=~eg[(em+2)%10]&eg[(em+4)%10]}eu[0]^=gQ[em],eu[1]^=g0[em]}(0,gK.ru)(eg)}class g3 extends gK.kb{constructor(eu,ed,eg,em=!1,eb=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=eu,this.suffix=ed,this.outputLen=eg,this.enableXOF=em,this.rounds=eb,(0,gK.k8)(eg),!(0<eu&&eu<200))throw Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=(0,gK.Jq)(this.state)}clone(){return this._cloneInto()}keccak(){(0,gK.Ux)(this.state32),g6(this.state32,this.rounds),(0,gK.Ux)(this.state32),this.posOut=0,this.pos=0}update(eu){(0,gK.$h)(this),eu=(0,gK.O0)(eu),(0,gK.gk)(eu);let{blockLen:ed,state:eg}=this,em=eu.length;for(let eb=0;eb<em;){let ew=Math.min(ed-this.pos,em-eb);for(let ed=0;ed<ew;ed++)eg[this.pos++]^=eu[eb++];this.pos===ed&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:eu,suffix:ed,pos:eg,blockLen:em}=this;eu[eg]^=ed,(128&ed)!=0&&eg===em-1&&this.keccak(),eu[em-1]^=128,this.keccak()}writeInto(eu){(0,gK.$h)(this,!1),(0,gK.gk)(eu),this.finish();let ed=this.state,{blockLen:eg}=this;for(let em=0,eb=eu.length;em<eb;){this.posOut>=eg&&this.keccak();let ew=Math.min(eg-this.posOut,eb-em);eu.set(ed.subarray(this.posOut,this.posOut+ew),em),this.posOut+=ew,em+=ew}return eu}xofInto(eu){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(eu)}xof(eu){return(0,gK.k8)(eu),this.xofInto(new Uint8Array(eu))}digestInto(eu){if((0,gK.eB)(eu,this),this.finished)throw Error("digest() was already called");return this.writeInto(eu),this.destroy(),eu}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,(0,gK.ru)(this.state)}_cloneInto(eu){let{blockLen:ed,suffix:eg,outputLen:em,rounds:eb,enableXOF:ew}=this;return eu||(eu=new g3(ed,eg,em,ew,eb)),eu.state32.set(this.state32),eu.pos=this.pos,eu.posOut=this.posOut,eu.finished=this.finished,eu.rounds=eb,eu.suffix=eg,eu.outputLen=em,eu.enableXOF=ew,eu.destroyed=this.destroyed,eu}}let g8=(eu,ed,eg)=>(0,gK.V1)(()=>new g3(ed,eu,eg)),g5=g8(1,136,32);function g4(eu,ed){let eg=ed||"hex",em=g5(p5(eu,{strict:!1})?gC(eu):eu);return"bytes"===eg?em:gw(em)}class g9 extends Map{constructor(eu){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=eu}get(eu){let ed=super.get(eu);return super.has(eu)&&void 0!==ed&&(this.delete(eu),super.set(eu,ed)),ed}set(eu,ed){if(super.set(eu,ed),this.maxSize&&this.size>this.maxSize){let eu=this.keys().next().value;eu&&this.delete(eu)}return this}}let g7=new g9(8192);function yu(eu,ed){if(g7.has(`${eu}.${ed}`))return g7.get(`${eu}.${ed}`);let eg=ed?`${ed}${eu.toLowerCase()}`:eu.substring(2).toLowerCase(),em=g4(gk(eg),"bytes"),eb=(ed?eg.substring(`${ed}0x`.length):eg).split("");for(let eu=0;eu<40;eu+=2)em[eu>>1]>>4>=8&&eb[eu]&&(eb[eu]=eb[eu].toUpperCase()),(15&em[eu>>1])>=8&&eb[eu+1]&&(eb[eu+1]=eb[eu+1].toUpperCase());let ew=`0x${eb.join("")}`;return g7.set(`${eu}.${ed}`,ew),ew}function yg(eu){let ed=g4(`0x${eu.substring(4)}`).substring(26);return yu(`0x${ed}`)}async function ym({hash:eu,signature:ed}){let em=p5(eu)?eu:gw(eu),{secp256k1:eb}=await eg.e(9226).then(eg.bind(eg,59226)),ew=(()=>{if("object"==typeof ed&&"r"in ed&&"s"in ed){let{r:eu,s:eg,v:em,yParity:ew}=ed,e_=Number(ew??em),eE=yb(e_);return new eb.Signature(gm(eu),gm(eg)).addRecoveryBit(eE)}let eu=p5(ed)?ed:gw(ed);if(65!==gg(eu))throw Error("invalid signature length");let eg=gb(`0x${eu.slice(130)}`),em=yb(eg);return eb.Signature.fromCompact(eu.substring(2,130)).addRecoveryBit(em)})(),e_=ew.recoverPublicKey(em.substring(2)).toHex(!1);return`0x${e_}`}function yb(eu){if(0===eu||1===eu)return eu;if(27===eu)return 0;if(28===eu)return 1;throw Error("Invalid yParityOrV value")}async function yv({hash:eu,signature:ed}){return yg(await ym({hash:eu,signature:ed}))}var yw=function(eu){if(eu.length>=255)throw TypeError("Alphabet too long");let ed=new Uint8Array(256);for(let eu=0;eu<ed.length;eu++)ed[eu]=255;for(let eg=0;eg<eu.length;eg++){let em=eu.charAt(eg),eb=em.charCodeAt(0);if(255!==ed[eb])throw TypeError(em+" is ambiguous");ed[eb]=eg}let eg=eu.length,em=eu.charAt(0),eb=Math.log(eg)/Math.log(256),ew=Math.log(256)/Math.log(eg);function e_(eu){if("string"!=typeof eu)throw TypeError("Expected String");if(0===eu.length)return new Uint8Array;let ew=0,e_=0,eE=0;for(;eu[ew]===em;)e_++,ew++;let eA=(eu.length-ew)*eb+1>>>0,eS=new Uint8Array(eA);for(;ew<eu.length;){let em=eu.charCodeAt(ew);if(em>255)return;let eb=ed[em];if(255===eb)return;let e_=0;for(let eu=eA-1;(0!==eb||e_<eE)&&-1!==eu;eu--,e_++)eb+=eg*eS[eu]>>>0,eS[eu]=eb%256>>>0,eb=eb/256>>>0;if(0!==eb)throw Error("Non-zero carry");eE=e_,ew++}let eI=eA-eE;for(;eI!==eA&&0===eS[eI];)eI++;let eC=new Uint8Array(e_+(eA-eI)),eM=e_;for(;eI!==eA;)eC[eM++]=eS[eI++];return eC}return{encode:function(ed){if(ed instanceof Uint8Array||(ArrayBuffer.isView(ed)?ed=new Uint8Array(ed.buffer,ed.byteOffset,ed.byteLength):Array.isArray(ed)&&(ed=Uint8Array.from(ed))),!(ed instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===ed.length)return"";let eb=0,e_=0,eE=0,eA=ed.length;for(;eE!==eA&&0===ed[eE];)eE++,eb++;let eS=(eA-eE)*ew+1>>>0,eI=new Uint8Array(eS);for(;eE!==eA;){let eu=ed[eE],em=0;for(let ed=eS-1;(0!==eu||em<e_)&&-1!==ed;ed--,em++)eu+=256*eI[ed]>>>0,eI[ed]=eu%eg>>>0,eu=eu/eg>>>0;if(0!==eu)throw Error("Non-zero carry");e_=em,eE++}let eC=eS-e_;for(;eC!==eS&&0===eI[eC];)eC++;let eM=em.repeat(eb);for(;eC<eS;++eC)eM+=eu.charAt(eI[eC]);return eM},decodeUnsafe:e_,decode:function(eu){let ed=e_(eu);if(ed)return ed;throw Error("Non-base"+eg+" character")}}}("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),y_=eg(61867),yE=eg(21611),yA=eg(95253),yS=eg(34406),yI=eg(48834).Buffer;let yx=":";function yC(eu){let[ed,eg]=eu.split(yx);return{namespace:ed,reference:eg}}function yM(eu,ed){return eu.includes(":")?[eu]:ed.chains||[]}var yO=Object.defineProperty,yT=Object.defineProperties,yP=Object.getOwnPropertyDescriptors,yN=Object.getOwnPropertySymbols,yk=Object.prototype.hasOwnProperty,yR=Object.prototype.propertyIsEnumerable,yD=(eu,ed,eg)=>ed in eu?yO(eu,ed,{enumerable:!0,configurable:!0,writable:!0,value:eg}):eu[ed]=eg,yB=(eu,ed)=>{for(var eg in ed||(ed={}))yk.call(ed,eg)&&yD(eu,eg,ed[eg]);if(yN)for(var eg of yN(ed))yR.call(ed,eg)&&yD(eu,eg,ed[eg]);return eu},yU=(eu,ed)=>yT(eu,yP(ed));let yL="ReactNative",yj={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"};function yF(){return"u">typeof yS&&"u">typeof yS.versions&&"u">typeof yS.versions.node}function y$(){return!(0,eQ.getDocument)()&&!!(0,eQ.getNavigator)()&&navigator.product===yL}function yK(){return!yF()&&!!(0,eQ.getNavigator)()&&!!(0,eQ.getDocument)()}function yq(){return y$()?yj.reactNative:yF()?yj.node:yK()?yj.browser:yj.unknown}function yz(eu){var ed,eg;let em=yH();try{return null!=eu&&eu.url&&em.url&&new URL(eu.url).host!==new URL(em.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${eu.url} differs from the actual page url:${em.url}. This is probably unintended and can lead to issues.`),eu.url=em.url),null!=(ed=eu?.icons)&&ed.length&&eu.icons.length>0&&(eu.icons=eu.icons.filter(eu=>""!==eu)),yU(yB(yB({},em),eu),{url:eu?.url||em.url,name:eu?.name||em.name,description:eu?.description||em.description,icons:null!=(eg=eu?.icons)&&eg.length&&eu.icons.length>0?eu.icons:em.icons})}catch(ed){return console.warn("Error populating app metadata",ed),eu||em}}function yH(){return(0,e0.D)()||{name:"",description:"",url:"",icons:[""]}}function yV(eu,ed){return eu.filter(eu=>ed.includes(eu)).length===eu.length}function yG(eu=eJ.FIVE_MINUTES,ed){let eg,em,eb,ew;let e_=(0,eJ.toMiliseconds)(eu||eJ.FIVE_MINUTES);return{resolve:eu=>{eb&&eg&&(clearTimeout(eb),eg(eu),ew=Promise.resolve(eu))},reject:eu=>{eb&&em&&(clearTimeout(eb),em(eu))},done:()=>new Promise((eu,eE)=>{if(ew)return eu(ew);eb=setTimeout(()=>{let eu=Error(ed);ew=Promise.reject(eu),eE(eu)},e_),eg=eu,em=eE})}}function yW(eu){let[ed,eg]=eu.split(":"),em={id:void 0,topic:void 0};if("topic"===ed&&"string"==typeof eg)em.topic=eg;else if("id"===ed&&Number.isInteger(Number(eg)))em.id=Number(eg);else throw Error(`Invalid target, expected id:number or topic:string, got ${ed}:${eg}`);return em}function yJ(eu,ed){return(0,eJ.fromMiliseconds)((ed||Date.now())+(0,eJ.toMiliseconds)(eu))}function yZ(eu){return Date.now()>=(0,eJ.toMiliseconds)(eu)}function yY(eu,ed){return`${eu}${ed?`:${ed}`:""}`}function yX(eu=[],ed=[]){return[...new Set([...eu,...ed])]}async function yQ({id:eu,topic:ed,wcDeepLink:em}){var eb;try{if(!em)return;let ew="string"==typeof em?JSON.parse(em):em,e_=ew?.href;if("string"!=typeof e_)return;let eE=y6(e_,eu,ed),eA=yq();if(eA===yj.browser){if(!(null!=(eb=(0,eQ.getDocument)())&&eb.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}y3(eE)}else eA===yj.reactNative&&"u">typeof(null==eg.g?void 0:eg.g.Linking)&&await eg.g.Linking.openURL(eE)}catch(eu){console.error(eu)}}function y6(eu,ed,eg){let em=`requestId=${ed}&sessionTopic=${eg}`;eu.endsWith("/")&&(eu=eu.slice(0,-1));let eb=`${eu}`;if(eu.startsWith("https://t.me")){let ed=eu.includes("?")?"&startapp=":"?startapp=";eb=`${eb}${ed}${mu(em,!0)}`}else eb=`${eb}/wc?${em}`;return eb}function y3(eu){let ed="_self";y7()?ed="_top":(y9()||eu.startsWith("https://")||eu.startsWith("http://"))&&(ed="_blank"),window.open(eu,ed,"noreferrer noopener")}async function y8(eu,ed){let eg="";try{if(yK()&&(eg=localStorage.getItem(ed)))return eg;eg=await eu.getItem(ed)}catch(eu){console.error(eu)}return eg}function y5(eu,ed){if(!eu.includes(ed))return null;let eg=eu.split(/([&,?,=])/),em=eg.indexOf(ed);return eg[em+2]}function y4(){return"u">typeof yS&&"true"===yS.env.IS_VITEST}function y9(){return"u">typeof window&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function y7(){try{return window.self!==window.top}catch{return!1}}function mu(eu,ed=!1){let eg=yI.from(eu).toString("base64");return ed?eg.replace(/[=]/g,""):eg}let ml=BigInt(4294967296-1),mh=BigInt(32);function md(eu,ed=!1){return ed?{h:Number(eu&ml),l:Number(eu>>mh&ml)}:{h:0|Number(eu>>mh&ml),l:0|Number(eu&ml)}}function mf(eu,ed=!1){let eg=eu.length,em=new Uint32Array(eg),eb=new Uint32Array(eg);for(let ew=0;ew<eg;ew++){let{h:eg,l:e_}=md(eu[ew],ed);[em[ew],eb[ew]]=[eg,e_]}return[em,eb]}let mp=(eu,ed,eg)=>eu>>>eg,mg=(eu,ed,eg)=>eu<<32-eg|ed>>>eg,my=(eu,ed,eg)=>eu>>>eg|ed<<32-eg,mb=(eu,ed,eg)=>eu<<32-eg|ed>>>eg,mv=(eu,ed,eg)=>eu<<64-eg|ed>>>eg-32,mw=(eu,ed,eg)=>eu>>>eg-32|ed<<64-eg,m_=(eu,ed)=>ed,mE=(eu,ed)=>eu,mA=(eu,ed,eg)=>eu<<eg|ed>>>32-eg,mS=(eu,ed,eg)=>ed<<eg|eu>>>32-eg,mI=(eu,ed,eg)=>ed<<eg-32|eu>>>64-eg,mx=(eu,ed,eg)=>eu<<eg-32|ed>>>64-eg;function mC(eu,ed,eg,em){let eb=(ed>>>0)+(em>>>0);return{h:eu+eg+(eb/4294967296|0)|0,l:0|eb}}let mM=(eu,ed,eg)=>(eu>>>0)+(ed>>>0)+(eg>>>0),mO=(eu,ed,eg,em)=>ed+eg+em+(eu/4294967296|0)|0,mT=(eu,ed,eg,em)=>(eu>>>0)+(ed>>>0)+(eg>>>0)+(em>>>0),mP=(eu,ed,eg,em,eb)=>ed+eg+em+eb+(eu/4294967296|0)|0,mN=(eu,ed,eg,em,eb)=>(eu>>>0)+(ed>>>0)+(eg>>>0)+(em>>>0)+(eb>>>0),mk=(eu,ed,eg,em,eb,ew)=>ed+eg+em+eb+ew+(eu/4294967296|0)|0,mR="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function mD(eu){return eu instanceof Uint8Array||ArrayBuffer.isView(eu)&&"Uint8Array"===eu.constructor.name}function mB(eu){if(!Number.isSafeInteger(eu)||eu<0)throw Error("positive integer expected, got "+eu)}function mU(eu,...ed){if(!mD(eu))throw Error("Uint8Array expected");if(ed.length>0&&!ed.includes(eu.length))throw Error("Uint8Array expected of length "+ed+", got length="+eu.length)}function mL(eu){if("function"!=typeof eu||"function"!=typeof eu.create)throw Error("Hash should be wrapped by utils.createHasher");mB(eu.outputLen),mB(eu.blockLen)}function mj(eu,ed=!0){if(eu.destroyed)throw Error("Hash instance has been destroyed");if(ed&&eu.finished)throw Error("Hash#digest() has already been called")}function mF(eu,ed){mU(eu);let eg=ed.outputLen;if(eu.length<eg)throw Error("digestInto() expects output buffer of length at least "+eg)}function m$(eu){return new Uint32Array(eu.buffer,eu.byteOffset,Math.floor(eu.byteLength/4))}function mK(...eu){for(let ed=0;ed<eu.length;ed++)eu[ed].fill(0)}function mq(eu){return new DataView(eu.buffer,eu.byteOffset,eu.byteLength)}function mz(eu,ed){return eu<<32-ed|eu>>>ed}let mH=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0];function mV(eu){return eu<<24&4278190080|eu<<8&16711680|eu>>>8&65280|eu>>>24&255}let mG=mH?eu=>eu:eu=>mV(eu);function mW(eu){for(let ed=0;ed<eu.length;ed++)eu[ed]=mV(eu[ed]);return eu}let mJ=mH?eu=>eu:mW,mZ="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,mY=Array.from({length:256},(eu,ed)=>ed.toString(16).padStart(2,"0"));function mX(eu){if(mU(eu),mZ)return eu.toHex();let ed="";for(let eg=0;eg<eu.length;eg++)ed+=mY[eu[eg]];return ed}let mQ={_0:48,_9:57,A:65,F:70,a:97,f:102};function m0(eu){return eu>=mQ._0&&eu<=mQ._9?eu-mQ._0:eu>=mQ.A&&eu<=mQ.F?eu-(mQ.A-10):eu>=mQ.a&&eu<=mQ.f?eu-(mQ.a-10):void 0}function m6(eu){if("string"!=typeof eu)throw Error("hex string expected, got "+typeof eu);if(mZ)return Uint8Array.fromHex(eu);let ed=eu.length,eg=ed/2;if(ed%2)throw Error("hex string expected, got unpadded hex of length "+ed);let em=new Uint8Array(eg);for(let ed=0,eb=0;ed<eg;ed++,eb+=2){let eg=m0(eu.charCodeAt(eb)),ew=m0(eu.charCodeAt(eb+1));if(void 0===eg||void 0===ew){let ed=eu[eb]+eu[eb+1];throw Error('hex string expected, got non-hex character "'+ed+'" at index '+eb)}em[ed]=16*eg+ew}return em}function m3(eu){if("string"!=typeof eu)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(eu))}function m5(eu){return"string"==typeof eu&&(eu=m3(eu)),mU(eu),eu}function m4(...eu){let ed=0;for(let eg=0;eg<eu.length;eg++){let em=eu[eg];mU(em),ed+=em.length}let eg=new Uint8Array(ed);for(let ed=0,em=0;ed<eu.length;ed++){let eb=eu[ed];eg.set(eb,em),em+=eb.length}return eg}class m9{}function m7(eu){let ed=ed=>eu().update(m5(ed)).digest(),eg=eu();return ed.outputLen=eg.outputLen,ed.blockLen=eg.blockLen,ed.create=()=>eu(),ed}function bu(eu){let ed=(ed,eg)=>eu(eg).update(m5(ed)).digest(),eg=eu({});return ed.outputLen=eg.outputLen,ed.blockLen=eg.blockLen,ed.create=ed=>eu(ed),ed}function bd(eu=32){if(mR&&"function"==typeof mR.getRandomValues)return mR.getRandomValues(new Uint8Array(eu));if(mR&&"function"==typeof mR.randomBytes)return Uint8Array.from(mR.randomBytes(eu));throw Error("crypto.getRandomValues must be defined")}let bp=BigInt(0),by=BigInt(1),bm=BigInt(2),bv=BigInt(7),bw=BigInt(256),b_=BigInt(113),bE=[],bA=[],bS=[];for(let eu=0,ed=by,eg=1,em=0;eu<24;eu++){[eg,em]=[em,(2*eg+3*em)%5],bE.push(2*(5*em+eg)),bA.push((eu+1)*(eu+2)/2%64);let eb=bp;for(let eu=0;eu<7;eu++)(ed=(ed<<by^(ed>>bv)*b_)%bw)&bm&&(eb^=by<<(by<<BigInt(eu))-by);bS.push(eb)}let bI=mf(bS,!0),bx=bI[0],bC=bI[1],bM=(eu,ed,eg)=>eg>32?mI(eu,ed,eg):mA(eu,ed,eg),bO=(eu,ed,eg)=>eg>32?mx(eu,ed,eg):mS(eu,ed,eg);function bT(eu,ed=24){let eg=new Uint32Array(10);for(let em=24-ed;em<24;em++){for(let ed=0;ed<10;ed++)eg[ed]=eu[ed]^eu[ed+10]^eu[ed+20]^eu[ed+30]^eu[ed+40];for(let ed=0;ed<10;ed+=2){let em=(ed+8)%10,eb=(ed+2)%10,ew=eg[eb],e_=eg[eb+1],eE=bM(ew,e_,1)^eg[em],eA=bO(ew,e_,1)^eg[em+1];for(let eg=0;eg<50;eg+=10)eu[ed+eg]^=eE,eu[ed+eg+1]^=eA}let ed=eu[2],eb=eu[3];for(let eg=0;eg<24;eg++){let em=bA[eg],ew=bM(ed,eb,em),e_=bO(ed,eb,em),eE=bE[eg];ed=eu[eE],eb=eu[eE+1],eu[eE]=ew,eu[eE+1]=e_}for(let ed=0;ed<50;ed+=10){for(let em=0;em<10;em++)eg[em]=eu[ed+em];for(let em=0;em<10;em++)eu[ed+em]^=~eg[(em+2)%10]&eg[(em+4)%10]}eu[0]^=bx[em],eu[1]^=bC[em]}mK(eg)}class bP extends m9{constructor(eu,ed,eg,em=!1,eb=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=eu,this.suffix=ed,this.outputLen=eg,this.enableXOF=em,this.rounds=eb,mB(eg),!(0<eu&&eu<200))throw Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=m$(this.state)}clone(){return this._cloneInto()}keccak(){mJ(this.state32),bT(this.state32,this.rounds),mJ(this.state32),this.posOut=0,this.pos=0}update(eu){mj(this),mU(eu=m5(eu));let{blockLen:ed,state:eg}=this,em=eu.length;for(let eb=0;eb<em;){let ew=Math.min(ed-this.pos,em-eb);for(let ed=0;ed<ew;ed++)eg[this.pos++]^=eu[eb++];this.pos===ed&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:eu,suffix:ed,pos:eg,blockLen:em}=this;eu[eg]^=ed,(128&ed)!=0&&eg===em-1&&this.keccak(),eu[em-1]^=128,this.keccak()}writeInto(eu){mj(this,!1),mU(eu),this.finish();let ed=this.state,{blockLen:eg}=this;for(let em=0,eb=eu.length;em<eb;){this.posOut>=eg&&this.keccak();let ew=Math.min(eg-this.posOut,eb-em);eu.set(ed.subarray(this.posOut,this.posOut+ew),em),this.posOut+=ew,em+=ew}return eu}xofInto(eu){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(eu)}xof(eu){return mB(eu),this.xofInto(new Uint8Array(eu))}digestInto(eu){if(mF(eu,this),this.finished)throw Error("digest() was already called");return this.writeInto(eu),this.destroy(),eu}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,mK(this.state)}_cloneInto(eu){let{blockLen:ed,suffix:eg,outputLen:em,rounds:eb,enableXOF:ew}=this;return eu||(eu=new bP(ed,eg,em,ew,eb)),eu.state32.set(this.state32),eu.pos=this.pos,eu.posOut=this.posOut,eu.finished=this.finished,eu.rounds=eb,eu.suffix=eg,eu.outputLen=em,eu.enableXOF=ew,eu.destroyed=this.destroyed,eu}}let bN=(eu,ed,eg)=>m7(()=>new bP(ed,eu,eg)),bk=bN(1,136,32);function bR(eu,ed,eg,em){if("function"==typeof eu.setBigUint64)return eu.setBigUint64(ed,eg,em);let eb=BigInt(32),ew=BigInt(4294967295),e_=Number(eg>>eb&ew),eE=Number(eg&ew),eA=em?4:0,eS=em?0:4;eu.setUint32(ed+eA,e_,em),eu.setUint32(ed+eS,eE,em)}function bD(eu,ed,eg){return eu&ed^~eu&eg}function bB(eu,ed,eg){return eu&ed^eu&eg^ed&eg}class bU extends m9{constructor(eu,ed,eg,em){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=eu,this.outputLen=ed,this.padOffset=eg,this.isLE=em,this.buffer=new Uint8Array(eu),this.view=mq(this.buffer)}update(eu){mj(this),mU(eu=m5(eu));let{view:ed,buffer:eg,blockLen:em}=this,eb=eu.length;for(let ew=0;ew<eb;){let e_=Math.min(em-this.pos,eb-ew);if(e_===em){let ed=mq(eu);for(;em<=eb-ew;ew+=em)this.process(ed,ew);continue}eg.set(eu.subarray(ew,ew+e_),this.pos),this.pos+=e_,ew+=e_,this.pos===em&&(this.process(ed,0),this.pos=0)}return this.length+=eu.length,this.roundClean(),this}digestInto(eu){mj(this),mF(eu,this),this.finished=!0;let{buffer:ed,view:eg,blockLen:em,isLE:eb}=this,{pos:ew}=this;ed[ew++]=128,mK(this.buffer.subarray(ew)),this.padOffset>em-ew&&(this.process(eg,0),ew=0);for(let eu=ew;eu<em;eu++)ed[eu]=0;bR(eg,em-8,BigInt(8*this.length),eb),this.process(eg,0);let e_=mq(eu),eE=this.outputLen;if(eE%4)throw Error("_sha2: outputLen should be aligned to 32bit");let eA=eE/4,eS=this.get();if(eA>eS.length)throw Error("_sha2: outputLen bigger than state");for(let eu=0;eu<eA;eu++)e_.setUint32(4*eu,eS[eu],eb)}digest(){let{buffer:eu,outputLen:ed}=this;this.digestInto(eu);let eg=eu.slice(0,ed);return this.destroy(),eg}_cloneInto(eu){eu||(eu=new this.constructor),eu.set(...this.get());let{blockLen:ed,buffer:eg,length:em,finished:eb,destroyed:ew,pos:e_}=this;return eu.destroyed=ew,eu.finished=eb,eu.length=em,eu.pos=e_,em%ed&&eu.buffer.set(eg),eu}clone(){return this._cloneInto()}}let bL=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),bj=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),bF=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),b$=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),bK=new Uint32Array(64);class bq extends bU{constructor(eu=32){super(64,eu,8,!1),this.A=0|bL[0],this.B=0|bL[1],this.C=0|bL[2],this.D=0|bL[3],this.E=0|bL[4],this.F=0|bL[5],this.G=0|bL[6],this.H=0|bL[7]}get(){let{A:eu,B:ed,C:eg,D:em,E:eb,F:ew,G:e_,H:eE}=this;return[eu,ed,eg,em,eb,ew,e_,eE]}set(eu,ed,eg,em,eb,ew,e_,eE){this.A=0|eu,this.B=0|ed,this.C=0|eg,this.D=0|em,this.E=0|eb,this.F=0|ew,this.G=0|e_,this.H=0|eE}process(eu,ed){for(let eg=0;eg<16;eg++,ed+=4)bK[eg]=eu.getUint32(ed,!1);for(let eu=16;eu<64;eu++){let ed=bK[eu-15],eg=bK[eu-2],em=mz(ed,7)^mz(ed,18)^ed>>>3,eb=mz(eg,17)^mz(eg,19)^eg>>>10;bK[eu]=eb+bK[eu-7]+em+bK[eu-16]|0}let{A:eg,B:em,C:eb,D:ew,E:e_,F:eE,G:eA,H:eS}=this;for(let eu=0;eu<64;eu++){let ed=mz(e_,6)^mz(e_,11)^mz(e_,25),eI=eS+ed+bD(e_,eE,eA)+b$[eu]+bK[eu]|0,eC=(mz(eg,2)^mz(eg,13)^mz(eg,22))+bB(eg,em,eb)|0;eS=eA,eA=eE,eE=e_,e_=ew+eI|0,ew=eb,eb=em,em=eg,eg=eI+eC|0}eg=eg+this.A|0,em=em+this.B|0,eb=eb+this.C|0,ew=ew+this.D|0,e_=e_+this.E|0,eE=eE+this.F|0,eA=eA+this.G|0,eS=eS+this.H|0,this.set(eg,em,eb,ew,e_,eE,eA,eS)}roundClean(){mK(bK)}destroy(){this.set(0,0,0,0,0,0,0,0),mK(this.buffer)}}let bH=mf(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(eu=>BigInt(eu))),bV=bH[0],bG=bH[1],bW=new Uint32Array(80),bJ=new Uint32Array(80);class bZ extends bU{constructor(eu=64){super(128,eu,16,!1),this.Ah=0|bF[0],this.Al=0|bF[1],this.Bh=0|bF[2],this.Bl=0|bF[3],this.Ch=0|bF[4],this.Cl=0|bF[5],this.Dh=0|bF[6],this.Dl=0|bF[7],this.Eh=0|bF[8],this.El=0|bF[9],this.Fh=0|bF[10],this.Fl=0|bF[11],this.Gh=0|bF[12],this.Gl=0|bF[13],this.Hh=0|bF[14],this.Hl=0|bF[15]}get(){let{Ah:eu,Al:ed,Bh:eg,Bl:em,Ch:eb,Cl:ew,Dh:e_,Dl:eE,Eh:eA,El:eS,Fh:eI,Fl:eC,Gh:eM,Gl:eO,Hh:eT,Hl:eP}=this;return[eu,ed,eg,em,eb,ew,e_,eE,eA,eS,eI,eC,eM,eO,eT,eP]}set(eu,ed,eg,em,eb,ew,e_,eE,eA,eS,eI,eC,eM,eO,eT,eP){this.Ah=0|eu,this.Al=0|ed,this.Bh=0|eg,this.Bl=0|em,this.Ch=0|eb,this.Cl=0|ew,this.Dh=0|e_,this.Dl=0|eE,this.Eh=0|eA,this.El=0|eS,this.Fh=0|eI,this.Fl=0|eC,this.Gh=0|eM,this.Gl=0|eO,this.Hh=0|eT,this.Hl=0|eP}process(eu,ed){for(let eg=0;eg<16;eg++,ed+=4)bW[eg]=eu.getUint32(ed),bJ[eg]=eu.getUint32(ed+=4);for(let eu=16;eu<80;eu++){let ed=0|bW[eu-15],eg=0|bJ[eu-15],em=my(ed,eg,1)^my(ed,eg,8)^mp(ed,eg,7),eb=mb(ed,eg,1)^mb(ed,eg,8)^mg(ed,eg,7),ew=0|bW[eu-2],e_=0|bJ[eu-2],eE=my(ew,e_,19)^mv(ew,e_,61)^mp(ew,e_,6),eA=mb(ew,e_,19)^mw(ew,e_,61)^mg(ew,e_,6),eS=mT(eb,eA,bJ[eu-7],bJ[eu-16]),eI=mP(eS,em,eE,bW[eu-7],bW[eu-16]);bW[eu]=0|eI,bJ[eu]=0|eS}let{Ah:eg,Al:em,Bh:eb,Bl:ew,Ch:e_,Cl:eE,Dh:eA,Dl:eS,Eh:eI,El:eC,Fh:eM,Fl:eO,Gh:eT,Gl:eP,Hh:eN,Hl:ek}=this;for(let eu=0;eu<80;eu++){let ed=my(eI,eC,14)^my(eI,eC,18)^mv(eI,eC,41),eR=mb(eI,eC,14)^mb(eI,eC,18)^mw(eI,eC,41),eD=eI&eM^~eI&eT,eB=eC&eO^~eC&eP,eU=mN(ek,eR,eB,bG[eu],bJ[eu]),eL=mk(eU,eN,ed,eD,bV[eu],bW[eu]),ej=0|eU,eF=my(eg,em,28)^mv(eg,em,34)^mv(eg,em,39),e$=mb(eg,em,28)^mw(eg,em,34)^mw(eg,em,39),eK=eg&eb^eg&e_^eb&e_,eH=em&ew^em&eE^ew&eE;eN=0|eT,ek=0|eP,eT=0|eM,eP=0|eO,eM=0|eI,eO=0|eC,({h:eI,l:eC}=mC(0|eA,0|eS,0|eL,0|ej)),eA=0|e_,eS=0|eE,e_=0|eb,eE=0|ew,eb=0|eg,ew=0|em;let eV=mM(ej,e$,eH);eg=mO(eV,eL,eF,eK),em=0|eV}({h:eg,l:em}=mC(0|this.Ah,0|this.Al,0|eg,0|em)),({h:eb,l:ew}=mC(0|this.Bh,0|this.Bl,0|eb,0|ew)),({h:e_,l:eE}=mC(0|this.Ch,0|this.Cl,0|e_,0|eE)),({h:eA,l:eS}=mC(0|this.Dh,0|this.Dl,0|eA,0|eS)),({h:eI,l:eC}=mC(0|this.Eh,0|this.El,0|eI,0|eC)),({h:eM,l:eO}=mC(0|this.Fh,0|this.Fl,0|eM,0|eO)),({h:eT,l:eP}=mC(0|this.Gh,0|this.Gl,0|eT,0|eP)),({h:eN,l:ek}=mC(0|this.Hh,0|this.Hl,0|eN,0|ek)),this.set(eg,em,eb,ew,e_,eE,eA,eS,eI,eC,eM,eO,eT,eP,eN,ek)}roundClean(){mK(bW,bJ)}destroy(){mK(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class bY extends bZ{constructor(){super(48),this.Ah=0|bj[0],this.Al=0|bj[1],this.Bh=0|bj[2],this.Bl=0|bj[3],this.Ch=0|bj[4],this.Cl=0|bj[5],this.Dh=0|bj[6],this.Dl=0|bj[7],this.Eh=0|bj[8],this.El=0|bj[9],this.Fh=0|bj[10],this.Fl=0|bj[11],this.Gh=0|bj[12],this.Gl=0|bj[13],this.Hh=0|bj[14],this.Hl=0|bj[15]}}let bX=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class bQ extends bZ{constructor(){super(32),this.Ah=0|bX[0],this.Al=0|bX[1],this.Bh=0|bX[2],this.Bl=0|bX[3],this.Ch=0|bX[4],this.Cl=0|bX[5],this.Dh=0|bX[6],this.Dl=0|bX[7],this.Eh=0|bX[8],this.El=0|bX[9],this.Fh=0|bX[10],this.Fl=0|bX[11],this.Gh=0|bX[12],this.Gl=0|bX[13],this.Hh=0|bX[14],this.Hl=0|bX[15]}}let vs=m7(()=>new bq),vu=m7(()=>new bZ),vl=m7(()=>new bY),vh=m7(()=>new bQ),vd=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),vf=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),vp=new Uint32Array(32);function vg(eu,ed,eg,em,eb,ew){let e_=eb[ew],eE=eb[ew+1],eA=vp[2*eu],eS=vp[2*eu+1],eI=vp[2*ed],eC=vp[2*ed+1],eM=vp[2*eg],eO=vp[2*eg+1],eT=vp[2*em],eP=vp[2*em+1],eN=mM(eA,eI,e_);eS=mO(eN,eS,eC,eE),eA=0|eN,({Dh:eP,Dl:eT}={Dh:eP^eS,Dl:eT^eA}),({Dh:eP,Dl:eT}={Dh:m_(eP,eT),Dl:mE(eP)}),({h:eO,l:eM}=mC(eO,eM,eP,eT)),({Bh:eC,Bl:eI}={Bh:eC^eO,Bl:eI^eM}),({Bh:eC,Bl:eI}={Bh:my(eC,eI,24),Bl:mb(eC,eI,24)}),vp[2*eu]=eA,vp[2*eu+1]=eS,vp[2*ed]=eI,vp[2*ed+1]=eC,vp[2*eg]=eM,vp[2*eg+1]=eO,vp[2*em]=eT,vp[2*em+1]=eP}function vy(eu,ed,eg,em,eb,ew){let e_=eb[ew],eE=eb[ew+1],eA=vp[2*eu],eS=vp[2*eu+1],eI=vp[2*ed],eC=vp[2*ed+1],eM=vp[2*eg],eO=vp[2*eg+1],eT=vp[2*em],eP=vp[2*em+1],eN=mM(eA,eI,e_);eS=mO(eN,eS,eC,eE),eA=0|eN,({Dh:eP,Dl:eT}={Dh:eP^eS,Dl:eT^eA}),({Dh:eP,Dl:eT}={Dh:my(eP,eT,16),Dl:mb(eP,eT,16)}),({h:eO,l:eM}=mC(eO,eM,eP,eT)),({Bh:eC,Bl:eI}={Bh:eC^eO,Bl:eI^eM}),({Bh:eC,Bl:eI}={Bh:mv(eC,eI,63),Bl:mw(eC,eI,63)}),vp[2*eu]=eA,vp[2*eu+1]=eS,vp[2*ed]=eI,vp[2*ed+1]=eC,vp[2*eg]=eM,vp[2*eg+1]=eO,vp[2*em]=eT,vp[2*em+1]=eP}function vm(eu,ed={},eg,em,eb){if(mB(eg),eu<0||eu>eg)throw Error("outputLen bigger than keyLen");let{key:ew,salt:e_,personalization:eE}=ed;if(void 0!==ew&&(ew.length<1||ew.length>eg))throw Error("key length must be undefined or 1.."+eg);if(void 0!==e_&&e_.length!==em)throw Error("salt must be undefined or "+em);if(void 0!==eE&&eE.length!==eb)throw Error("personalization must be undefined or "+eb)}class vb extends m9{constructor(eu,ed){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,mB(eu),mB(ed),this.blockLen=eu,this.outputLen=ed,this.buffer=new Uint8Array(eu),this.buffer32=m$(this.buffer)}update(eu){mj(this),mU(eu=m5(eu));let{blockLen:ed,buffer:eg,buffer32:em}=this,eb=eu.length,ew=eu.byteOffset,e_=eu.buffer;for(let eE=0;eE<eb;){this.pos===ed&&(mJ(em),this.compress(em,0,!1),mJ(em),this.pos=0);let eA=Math.min(ed-this.pos,eb-eE),eS=ew+eE;if(eA===ed&&!(eS%4)&&eE+eA<eb){let eu=new Uint32Array(e_,eS,Math.floor((eb-eE)/4));mJ(eu);for(let eg=0;eE+ed<eb;eg+=em.length,eE+=ed)this.length+=ed,this.compress(eu,eg,!1);mJ(eu);continue}eg.set(eu.subarray(eE,eE+eA),this.pos),this.pos+=eA,this.length+=eA,eE+=eA}return this}digestInto(eu){mj(this),mF(eu,this);let{pos:ed,buffer32:eg}=this;this.finished=!0,mK(this.buffer.subarray(ed)),mJ(eg),this.compress(eg,0,!0),mJ(eg);let em=m$(eu);this.get().forEach((eu,ed)=>em[ed]=mG(eu))}digest(){let{buffer:eu,outputLen:ed}=this;this.digestInto(eu);let eg=eu.slice(0,ed);return this.destroy(),eg}_cloneInto(eu){let{buffer:ed,length:eg,finished:em,destroyed:eb,outputLen:ew,pos:e_}=this;return eu||(eu=new this.constructor({dkLen:ew})),eu.set(...this.get()),eu.buffer.set(ed),eu.destroyed=eb,eu.finished=em,eu.length=eg,eu.pos=e_,eu.outputLen=ew,eu}clone(){return this._cloneInto()}}class vv extends vb{constructor(eu={}){let ed=void 0===eu.dkLen?64:eu.dkLen;super(128,ed),this.v0l=0|vf[0],this.v0h=0|vf[1],this.v1l=0|vf[2],this.v1h=0|vf[3],this.v2l=0|vf[4],this.v2h=0|vf[5],this.v3l=0|vf[6],this.v3h=0|vf[7],this.v4l=0|vf[8],this.v4h=0|vf[9],this.v5l=0|vf[10],this.v5h=0|vf[11],this.v6l=0|vf[12],this.v6h=0|vf[13],this.v7l=0|vf[14],this.v7h=0|vf[15],vm(ed,eu,64,16,16);let{key:eg,personalization:em,salt:eb}=eu,ew=0;if(void 0!==eg&&(ew=(eg=m5(eg)).length),this.v0l^=this.outputLen|ew<<8|16842752,void 0!==eb){eb=m5(eb);let eu=m$(eb);this.v4l^=mG(eu[0]),this.v4h^=mG(eu[1]),this.v5l^=mG(eu[2]),this.v5h^=mG(eu[3])}if(void 0!==em){em=m5(em);let eu=m$(em);this.v6l^=mG(eu[0]),this.v6h^=mG(eu[1]),this.v7l^=mG(eu[2]),this.v7h^=mG(eu[3])}if(void 0!==eg){let eu=new Uint8Array(this.blockLen);eu.set(eg),this.update(eu)}}get(){let{v0l:eu,v0h:ed,v1l:eg,v1h:em,v2l:eb,v2h:ew,v3l:e_,v3h:eE,v4l:eA,v4h:eS,v5l:eI,v5h:eC,v6l:eM,v6h:eO,v7l:eT,v7h:eP}=this;return[eu,ed,eg,em,eb,ew,e_,eE,eA,eS,eI,eC,eM,eO,eT,eP]}set(eu,ed,eg,em,eb,ew,e_,eE,eA,eS,eI,eC,eM,eO,eT,eP){this.v0l=0|eu,this.v0h=0|ed,this.v1l=0|eg,this.v1h=0|em,this.v2l=0|eb,this.v2h=0|ew,this.v3l=0|e_,this.v3h=0|eE,this.v4l=0|eA,this.v4h=0|eS,this.v5l=0|eI,this.v5h=0|eC,this.v6l=0|eM,this.v6h=0|eO,this.v7l=0|eT,this.v7h=0|eP}compress(eu,ed,eg){this.get().forEach((eu,ed)=>vp[ed]=eu),vp.set(vf,16);let{h:em,l:eb}=md(BigInt(this.length));vp[24]=vf[8]^eb,vp[25]=vf[9]^em,eg&&(vp[28]=~vp[28],vp[29]=~vp[29]);let ew=0,e_=vd;for(let eg=0;eg<12;eg++)vg(0,4,8,12,eu,ed+2*e_[ew++]),vy(0,4,8,12,eu,ed+2*e_[ew++]),vg(1,5,9,13,eu,ed+2*e_[ew++]),vy(1,5,9,13,eu,ed+2*e_[ew++]),vg(2,6,10,14,eu,ed+2*e_[ew++]),vy(2,6,10,14,eu,ed+2*e_[ew++]),vg(3,7,11,15,eu,ed+2*e_[ew++]),vy(3,7,11,15,eu,ed+2*e_[ew++]),vg(0,5,10,15,eu,ed+2*e_[ew++]),vy(0,5,10,15,eu,ed+2*e_[ew++]),vg(1,6,11,12,eu,ed+2*e_[ew++]),vy(1,6,11,12,eu,ed+2*e_[ew++]),vg(2,7,8,13,eu,ed+2*e_[ew++]),vy(2,7,8,13,eu,ed+2*e_[ew++]),vg(3,4,9,14,eu,ed+2*e_[ew++]),vy(3,4,9,14,eu,ed+2*e_[ew++]);this.v0l^=vp[0]^vp[16],this.v0h^=vp[1]^vp[17],this.v1l^=vp[2]^vp[18],this.v1h^=vp[3]^vp[19],this.v2l^=vp[4]^vp[20],this.v2h^=vp[5]^vp[21],this.v3l^=vp[6]^vp[22],this.v3h^=vp[7]^vp[23],this.v4l^=vp[8]^vp[24],this.v4h^=vp[9]^vp[25],this.v5l^=vp[10]^vp[26],this.v5h^=vp[11]^vp[27],this.v6l^=vp[12]^vp[28],this.v6h^=vp[13]^vp[29],this.v7l^=vp[14]^vp[30],this.v7h^=vp[15]^vp[31],mK(vp)}destroy(){this.destroyed=!0,mK(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}let vw=bu(eu=>new vv(eu)),v_="https://rpc.walletconnect.org/v1";function vE(eu){let ed=`Ethereum Signed Message:
${eu.length}`,eg=new TextEncoder().encode(ed+eu);return"0x"+yI.from(bk(eg)).toString("hex")}async function vA(eu,ed,eg,em,eb,ew){switch(eg.t){case"eip191":return await vS(eu,ed,eg.s);case"eip1271":return await vI(eu,ed,eg.s,em,eb,ew);default:throw Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${eg.t}`)}}async function vS(eu,ed,eg){return(await yv({hash:vE(ed),signature:eg})).toLowerCase()===eu.toLowerCase()}async function vI(eu,ed,eg,em,eb,ew){let e_=yC(em);if(!e_.namespace||!e_.reference)throw Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${em}`);try{let e_="0x1626ba7e",eE="0000000000000000000000000000000000000000000000000000000000000040",eA=eg.substring(2),eS=(eA.length/2).toString(16).padStart(64,"0"),eI=(ed.startsWith("0x")?ed:vE(ed)).substring(2),eC=e_+eI+eE+eS+eA,eM=await fetch(`${ew||v_}/?chainId=${em}&projectId=${eb}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:vx(),jsonrpc:"2.0",method:"eth_call",params:[{to:eu,data:eC},"latest"]})}),{result:eO}=await eM.json();return!!eO&&eO.slice(0,e_.length).toLowerCase()===e_.toLowerCase()}catch(eu){return console.error("isValidEip1271Signature: ",eu),!1}}function vx(){return Date.now()+Math.floor(1e3*Math.random())}function vC(eu){let ed=atob(eu),eg=new Uint8Array(ed.length);for(let eu=0;eu<ed.length;eu++)eg[eu]=ed.charCodeAt(eu);let em=eg[0];if(0===em)throw Error("No signatures found");let eb=1+64*em;if(eg.length<eb)throw Error("Transaction data too short for claimed signature count");if(eg.length<100)throw Error("Transaction too short");let ew=yI.from(eu,"base64").slice(1,65);return yw.encode(ew)}function vM(eu){let ed=new Uint8Array(yI.from(eu,"base64")),eg=Array.from("TransactionData::").map(eu=>eu.charCodeAt(0)),em=new Uint8Array(eg.length+ed.length);em.set(eg),em.set(ed,eg.length);let eb=vw(em,{dkLen:32});return yw.encode(eb)}function vO(eu){let ed=new Uint8Array(vs(vT(eu)));return yw.encode(ed)}function vT(eu){if(eu instanceof Uint8Array)return eu;if(Array.isArray(eu))return new Uint8Array(eu);if("object"==typeof eu&&null!=eu&&eu.data)return new Uint8Array(Object.values(eu.data));if("object"==typeof eu&&eu)return new Uint8Array(Object.values(eu));throw Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}function vP(eu){let ed=yI.from(eu,"base64"),eg=(0,y_.J)(ed).txn;if(!eg)throw Error("Invalid signed transaction: missing 'txn' field");let em=(0,yE.c)(eg),eb=yI.from("TX"),ew=yI.concat([eb,yI.from(em)]),e_=vh(ew);return yA.pJ.encode(e_).replace(/=+$/,"")}function vN(eu){let ed=[],eg=BigInt(eu);for(;eg>=BigInt(128);)ed.push(Number(eg&BigInt(127)|BigInt(128))),eg>>=BigInt(7);return ed.push(Number(eg)),yI.from(ed)}function vk(eu){let ed=yI.from(eu.signed.bodyBytes,"base64"),eg=yI.from(eu.signed.authInfoBytes,"base64"),em=yI.from(eu.signature.signature,"base64"),eb=[];eb.push(yI.from([10])),eb.push(vN(ed.length)),eb.push(ed),eb.push(yI.from([18])),eb.push(vN(eg.length)),eb.push(eg),eb.push(yI.from([26])),eb.push(vN(em.length)),eb.push(em);let ew=yI.concat(eb),e_=vs(ew);return yI.from(e_).toString("hex").toUpperCase()}var vR=Object.defineProperty,vD=Object.defineProperties,vB=Object.getOwnPropertyDescriptors,vU=Object.getOwnPropertySymbols,vL=Object.prototype.hasOwnProperty,vj=Object.prototype.propertyIsEnumerable,vF=(eu,ed,eg)=>ed in eu?vR(eu,ed,{enumerable:!0,configurable:!0,writable:!0,value:eg}):eu[ed]=eg,v$=(eu,ed)=>{for(var eg in ed||(ed={}))vL.call(ed,eg)&&vF(eu,eg,ed[eg]);if(vU)for(var eg of vU(ed))vj.call(ed,eg)&&vF(eu,eg,ed[eg]);return eu},vK=(eu,ed)=>vD(eu,vB(ed));let vq="did:pkh:",vz=eu=>eu?.split(":"),vH=eu=>{let ed=eu&&vz(eu);if(ed)return eu.includes(vq)?ed[3]:ed[1]},vV=eu=>{let ed=eu&&vz(eu);if(ed)return ed[2]+":"+ed[3]},vG=eu=>{let ed=eu&&vz(eu);if(ed)return ed.pop()};async function vW(eu){let{cacao:ed,projectId:eg}=eu,{s:em,p:eb}=ed,ew=vJ(eb,eb.iss),e_=vG(eb.iss);return await vA(e_,ew,em,vV(eb.iss),eg)}let vJ=(eu,ed)=>{let eg=`${eu.domain} wants you to sign in with your Ethereum account:`,em=vG(ed);if(!eu.aud&&!eu.uri)throw Error("Either `aud` or `uri` is required to construct the message");let eb=eu.statement||void 0,ew=`URI: ${eu.aud||eu.uri}`,e_=`Version: ${eu.version}`,eE=`Chain ID: ${vH(ed)}`,eA=`Nonce: ${eu.nonce}`,eS=`Issued At: ${eu.iat}`,eI=eu.exp?`Expiration Time: ${eu.exp}`:void 0,eC=eu.nbf?`Not Before: ${eu.nbf}`:void 0,eM=eu.requestId?`Request ID: ${eu.requestId}`:void 0,eO=eu.resources?`Resources:${eu.resources.map(eu=>`
- ${eu}`).join("")}`:void 0,eT=wg(eu.resources);if(eT){let eu=v8(eT);eb=wd(eb,eu)}return[eg,em,"",eb,"",ew,e_,eE,eA,eS,eI,eC,eM,eO].filter(eu=>null!=eu).join(`
`)};function vZ(eu){return yI.from(JSON.stringify(eu)).toString("base64")}function vY(eu){return JSON.parse(yI.from(eu,"base64").toString("utf-8"))}function vX(eu){if(!eu)throw Error("No recap provided, value is undefined");if(!eu.att)throw Error("No `att` property found");let ed=Object.keys(eu.att);if(!(null!=ed&&ed.length))throw Error("No resources found in `att` property");ed.forEach(ed=>{let eg=eu.att[ed];if(Array.isArray(eg)||"object"!=typeof eg)throw Error(`Resource must be an object: ${ed}`);if(!Object.keys(eg).length)throw Error(`Resource object is empty: ${ed}`);Object.keys(eg).forEach(eu=>{let ed=eg[eu];if(!Array.isArray(ed))throw Error(`Ability limits ${eu} must be an array of objects, found: ${ed}`);if(!ed.length)throw Error(`Value of ${eu} is empty array, must be an array with objects`);ed.forEach(ed=>{if("object"!=typeof ed)throw Error(`Ability limits (${eu}) must be an array of objects, found: ${ed}`)})})})}function vQ(eu,ed,eg,em={}){return eg?.sort((eu,ed)=>eu.localeCompare(ed)),{att:{[eu]:v0(ed,eg,em)}}}function v0(eu,ed,eg={}){ed=ed?.sort((eu,ed)=>eu.localeCompare(ed));let em=ed.map(ed=>({[`${eu}/${ed}`]:[eg]}));return Object.assign({},...em)}function v6(eu){return vX(eu),`urn:recap:${vZ(eu).replace(/=/g,"")}`}function v8(eu){let ed=vY(eu.replace("urn:recap:",""));return vX(ed),ed}function v5(eu,ed,eg){let em=vQ(eu,ed,eg);return v6(em)}function v4(eu){return eu&&eu.includes("urn:recap:")}function v9(eu,ed){let eg=v8(eu),em=v8(ed),eb=wu(eg,em);return v6(eb)}function wu(eu,ed){vX(eu),vX(ed);let eg=Object.keys(eu.att).concat(Object.keys(ed.att)).sort((eu,ed)=>eu.localeCompare(ed)),em={att:{}};return eg.forEach(eg=>{var eb,ew;Object.keys((null==(eb=eu.att)?void 0:eb[eg])||{}).concat(Object.keys((null==(ew=ed.att)?void 0:ew[eg])||{})).sort((eu,ed)=>eu.localeCompare(ed)).forEach(eb=>{var ew,e_;em.att[eg]=vK(v$({},em.att[eg]),{[eb]:(null==(ew=eu.att[eg])?void 0:ew[eb])||(null==(e_=ed.att[eg])?void 0:e_[eb])})})}),em}function wd(eu="",ed){vX(ed);let eg="I further authorize the stated URI to perform the following actions on my behalf: ";if(eu.includes(eg))return eu;let em=[],eb=0;Object.keys(ed.att).forEach(eu=>{let eg=Object.keys(ed.att[eu]).map(eu=>({ability:eu.split("/")[0],action:eu.split("/")[1]}));eg.sort((eu,ed)=>eu.action.localeCompare(ed.action));let ew={};eg.forEach(eu=>{ew[eu.ability]||(ew[eu.ability]=[]),ew[eu.ability].push(eu.action)});let e_=Object.keys(ew).map(ed=>`(${++eb}) '${ed}': '${ew[ed].join("', '")}' for '${eu}'.`);em.push(e_.join(", ").replace(".,","."))});let ew=em.join(" "),e_=`${eg}${ew}`;return`${eu?eu+" ":""}${e_}`}function wf(eu){var ed;let eg=v8(eu);vX(eg);let em=null==(ed=eg.att)?void 0:ed.eip155;return em?Object.keys(em).map(eu=>eu.split("/")[1]):[]}function wp(eu){let ed=v8(eu);vX(ed);let eg=[];return Object.values(ed.att).forEach(eu=>{Object.values(eu).forEach(eu=>{var ed;null!=(ed=eu?.[0])&&ed.chains&&eg.push(eu[0].chains)})}),[...new Set(eg.flat())]}function wg(eu){if(!eu)return;let ed=eu?.[eu.length-1];return v4(ed)?ed:void 0}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function wy(eu){return eu instanceof Uint8Array||ArrayBuffer.isView(eu)&&"Uint8Array"===eu.constructor.name}function wm(eu){if("boolean"!=typeof eu)throw Error(`boolean expected, not ${eu}`)}function wb(eu){if(!Number.isSafeInteger(eu)||eu<0)throw Error("positive integer expected, got "+eu)}function wv(eu,...ed){if(!wy(eu))throw Error("Uint8Array expected");if(ed.length>0&&!ed.includes(eu.length))throw Error("Uint8Array expected of length "+ed+", got length="+eu.length)}function ww(eu,ed=!0){if(eu.destroyed)throw Error("Hash instance has been destroyed");if(ed&&eu.finished)throw Error("Hash#digest() has already been called")}function w_(eu,ed){wv(eu);let eg=ed.outputLen;if(eu.length<eg)throw Error("digestInto() expects output buffer of length at least "+eg)}function wE(eu){return new Uint32Array(eu.buffer,eu.byteOffset,Math.floor(eu.byteLength/4))}function wA(...eu){for(let ed=0;ed<eu.length;ed++)eu[ed].fill(0)}function wS(eu){return new DataView(eu.buffer,eu.byteOffset,eu.byteLength)}let wI=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0];function wx(eu){if("string"!=typeof eu)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(eu))}function wC(eu){if("string"==typeof eu)eu=wx(eu);else if(wy(eu))eu=wD(eu);else throw Error("Uint8Array expected, got "+typeof eu);return eu}function wM(eu,ed){if(null==ed||"object"!=typeof ed)throw Error("options must be defined");return Object.assign(eu,ed)}function wO(eu,ed){if(eu.length!==ed.length)return!1;let eg=0;for(let em=0;em<eu.length;em++)eg|=eu[em]^ed[em];return 0===eg}let wT=(eu,ed)=>{function eg(em,...eb){if(wv(em),!wI)throw Error("Non little-endian hardware is not yet supported");if(void 0!==eu.nonceLength){let ed=eb[0];if(!ed)throw Error("nonce / iv required");eu.varSizeNonce?wv(ed):wv(ed,eu.nonceLength)}let ew=eu.tagLength;ew&&void 0!==eb[1]&&wv(eb[1]);let e_=ed(em,...eb),eE=(eu,ed)=>{if(void 0!==ed){if(2!==eu)throw Error("cipher output not supported");wv(ed)}},eA=!1;return{encrypt(eu,ed){if(eA)throw Error("cannot encrypt() twice with same key + nonce");return eA=!0,wv(eu),eE(e_.encrypt.length,ed),e_.encrypt(eu,ed)},decrypt(eu,ed){if(wv(eu),ew&&eu.length<ew)throw Error("invalid ciphertext length: smaller than tagLength="+ew);return eE(e_.decrypt.length,ed),e_.decrypt(eu,ed)}}}return Object.assign(eg,eu),eg};function wP(eu,ed,eg=!0){if(void 0===ed)return new Uint8Array(eu);if(ed.length!==eu)throw Error("invalid output length, expected "+eu+", got: "+ed.length);if(eg&&!wR(ed))throw Error("invalid output, must be aligned");return ed}function wN(eu,ed,eg,em){if("function"==typeof eu.setBigUint64)return eu.setBigUint64(ed,eg,em);let eb=BigInt(32),ew=BigInt(4294967295),e_=Number(eg>>eb&ew),eE=Number(eg&ew),eA=em?4:0,eS=em?0:4;eu.setUint32(ed+eA,e_,em),eu.setUint32(ed+eS,eE,em)}function wk(eu,ed,eg){wm(eg);let em=new Uint8Array(16),eb=wS(em);return wN(eb,0,BigInt(ed),eg),wN(eb,8,BigInt(eu),eg),em}function wR(eu){return eu.byteOffset%4==0}function wD(eu){return Uint8Array.from(eu)}let wB=eu=>Uint8Array.from(eu.split("").map(eu=>eu.charCodeAt(0))),wU=wB("expand 16-byte k"),wL=wB("expand 32-byte k"),wj=wE(wU),wF=wE(wL);function w$(eu,ed){return eu<<ed|eu>>>32-ed}function wK(eu){return eu.byteOffset%4==0}let wq=64,wz=16,wH=4294967296-1,wV=new Uint32Array;function wG(eu,ed,eg,em,eb,ew,e_,eE){let eA=eb.length,eS=new Uint8Array(wq),eI=wE(eS),eC=wK(eb)&&wK(ew),eM=eC?wE(eb):wV,eO=eC?wE(ew):wV;for(let eT=0;eT<eA;e_++){if(eu(ed,eg,em,eI,e_,eE),e_>=wH)throw Error("arx: counter overflow");let eP=Math.min(wq,eA-eT);if(eC&&eP===wq){let eu=eT/4;if(eT%4!=0)throw Error("arx: invalid block position");for(let ed=0,eg;ed<wz;ed++)eO[eg=eu+ed]=eM[eg]^eI[ed];eT+=wq;continue}for(let eu=0,ed;eu<eP;eu++)ew[ed=eT+eu]=eb[ed]^eS[eu];eT+=eP}}function wW(eu,ed){let{allowShortKeys:eg,extendNonceFn:em,counterLength:eb,counterRight:ew,rounds:e_}=wM({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},ed);if("function"!=typeof eu)throw Error("core must be a function");return wb(eb),wb(e_),wm(ew),wm(eg),(ed,eE,eA,eS,eI=0)=>{wv(ed),wv(eE),wv(eA);let eC=eA.length;if(void 0===eS&&(eS=new Uint8Array(eC)),wv(eS),wb(eI),eI<0||eI>=wH)throw Error("arx: counter overflow");if(eS.length<eC)throw Error(`arx: output (${eS.length}) is shorter than data (${eC})`);let eM=[],eO=ed.length,eT,eP;if(32===eO)eM.push(eT=wD(ed)),eP=wF;else if(16===eO&&eg)(eT=new Uint8Array(32)).set(ed),eT.set(ed,16),eP=wj,eM.push(eT);else throw Error(`arx: invalid 32-byte key, got length=${eO}`);wK(eE)||eM.push(eE=wD(eE));let eN=wE(eT);if(em){if(24!==eE.length)throw Error("arx: extended nonce must be 24 bytes");em(eP,eN,wE(eE.subarray(0,16)),eN),eE=eE.subarray(16)}let ek=16-eb;if(ek!==eE.length)throw Error(`arx: nonce must be ${ek} or 16 bytes`);if(12!==ek){let eu=new Uint8Array(12);eu.set(eE,ew?0:12-eE.length),eE=eu,eM.push(eE)}let eR=wE(eE);return wG(eu,eP,eN,eR,eA,eS,eI,e_),wA(...eM),eS}}let wJ=(eu,ed)=>255&eu[ed++]|(255&eu[ed++])<<8;class wZ{constructor(eu){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,wv(eu=wC(eu),32);let ed=wJ(eu,0),eg=wJ(eu,2),em=wJ(eu,4),eb=wJ(eu,6),ew=wJ(eu,8),e_=wJ(eu,10),eE=wJ(eu,12),eA=wJ(eu,14);this.r[0]=8191&ed,this.r[1]=(ed>>>13|eg<<3)&8191,this.r[2]=(eg>>>10|em<<6)&7939,this.r[3]=(em>>>7|eb<<9)&8191,this.r[4]=(eb>>>4|ew<<12)&255,this.r[5]=ew>>>1&8190,this.r[6]=(ew>>>14|e_<<2)&8191,this.r[7]=(e_>>>11|eE<<5)&8065,this.r[8]=(eE>>>8|eA<<8)&8191,this.r[9]=eA>>>5&127;for(let ed=0;ed<8;ed++)this.pad[ed]=wJ(eu,16+2*ed)}process(eu,ed,eg=!1){let em=eg?0:2048,{h:eb,r:ew}=this,e_=ew[0],eE=ew[1],eA=ew[2],eS=ew[3],eI=ew[4],eC=ew[5],eM=ew[6],eO=ew[7],eT=ew[8],eP=ew[9],eN=wJ(eu,ed+0),ek=wJ(eu,ed+2),eR=wJ(eu,ed+4),eD=wJ(eu,ed+6),eB=wJ(eu,ed+8),eU=wJ(eu,ed+10),eL=wJ(eu,ed+12),ej=wJ(eu,ed+14),eF=eb[0]+(8191&eN),e$=eb[1]+((eN>>>13|ek<<3)&8191),eK=eb[2]+((ek>>>10|eR<<6)&8191),eH=eb[3]+((eR>>>7|eD<<9)&8191),eV=eb[4]+((eD>>>4|eB<<12)&8191),eG=eb[5]+(eB>>>1&8191),eW=eb[6]+((eB>>>14|eU<<2)&8191),eJ=eb[7]+((eU>>>11|eL<<5)&8191),eZ=eb[8]+((eL>>>8|ej<<8)&8191),eY=eb[9]+(ej>>>5|em),eX=0,eQ=0+eF*e_+e$*(5*eP)+eK*(5*eT)+eH*(5*eO)+eV*(5*eM);eX=eQ>>>13,eQ&=8191,eQ+=eG*(5*eC)+eW*(5*eI)+eJ*(5*eS)+eZ*(5*eA)+eY*(5*eE),eX+=eQ>>>13,eQ&=8191;let e0=eX+eF*eE+e$*e_+eK*(5*eP)+eH*(5*eT)+eV*(5*eO);eX=e0>>>13,e0&=8191,e0+=eG*(5*eM)+eW*(5*eC)+eJ*(5*eI)+eZ*(5*eS)+eY*(5*eA),eX+=e0>>>13,e0&=8191;let e6=eX+eF*eA+e$*eE+eK*e_+eH*(5*eP)+eV*(5*eT);eX=e6>>>13,e6&=8191,e6+=eG*(5*eO)+eW*(5*eM)+eJ*(5*eC)+eZ*(5*eI)+eY*(5*eS),eX+=e6>>>13,e6&=8191;let e8=eX+eF*eS+e$*eA+eK*eE+eH*e_+eV*(5*eP);eX=e8>>>13,e8&=8191,e8+=eG*(5*eT)+eW*(5*eO)+eJ*(5*eM)+eZ*(5*eC)+eY*(5*eI),eX+=e8>>>13,e8&=8191;let e5=eX+eF*eI+e$*eS+eK*eA+eH*eE+eV*e_;eX=e5>>>13,e5&=8191,e5+=eG*(5*eP)+eW*(5*eT)+eJ*(5*eO)+eZ*(5*eM)+eY*(5*eC),eX+=e5>>>13,e5&=8191;let e9=eX+eF*eC+e$*eI+eK*eS+eH*eA+eV*eE;eX=e9>>>13,e9&=8191,e9+=eG*e_+eW*(5*eP)+eJ*(5*eT)+eZ*(5*eO)+eY*(5*eM),eX+=e9>>>13,e9&=8191;let e7=eX+eF*eM+e$*eC+eK*eI+eH*eS+eV*eA;eX=e7>>>13,e7&=8191,e7+=eG*eE+eW*e_+eJ*(5*eP)+eZ*(5*eT)+eY*(5*eO),eX+=e7>>>13,e7&=8191;let tu=eX+eF*eO+e$*eM+eK*eC+eH*eI+eV*eS;eX=tu>>>13,tu&=8191,tu+=eG*eA+eW*eE+eJ*e_+eZ*(5*eP)+eY*(5*eT),eX+=tu>>>13,tu&=8191;let th=eX+eF*eT+e$*eO+eK*eM+eH*eC+eV*eI;eX=th>>>13,th&=8191,th+=eG*eS+eW*eA+eJ*eE+eZ*e_+eY*(5*eP),eX+=th>>>13,th&=8191;let td=eX+eF*eP+e$*eT+eK*eO+eH*eM+eV*eC;eX=td>>>13,td&=8191,td+=eG*eI+eW*eS+eJ*eA+eZ*eE+eY*e_,eX+=td>>>13,td&=8191,eQ=8191&(eX=(eX=(eX<<2)+eX|0)+eQ|0),eX>>>=13,e0+=eX,eb[0]=eQ,eb[1]=e0,eb[2]=e6,eb[3]=e8,eb[4]=e5,eb[5]=e9,eb[6]=e7,eb[7]=tu,eb[8]=th,eb[9]=td}finalize(){let{h:eu,pad:ed}=this,eg=new Uint16Array(10),em=eu[1]>>>13;eu[1]&=8191;for(let ed=2;ed<10;ed++)eu[ed]+=em,em=eu[ed]>>>13,eu[ed]&=8191;eu[0]+=5*em,em=eu[0]>>>13,eu[0]&=8191,eu[1]+=em,em=eu[1]>>>13,eu[1]&=8191,eu[2]+=em,eg[0]=eu[0]+5,em=eg[0]>>>13,eg[0]&=8191;for(let ed=1;ed<10;ed++)eg[ed]=eu[ed]+em,em=eg[ed]>>>13,eg[ed]&=8191;eg[9]-=8192;let eb=(1^em)-1;for(let eu=0;eu<10;eu++)eg[eu]&=eb;eb=~eb;for(let ed=0;ed<10;ed++)eu[ed]=eu[ed]&eb|eg[ed];eu[0]=(eu[0]|eu[1]<<13)&65535,eu[1]=(eu[1]>>>3|eu[2]<<10)&65535,eu[2]=(eu[2]>>>6|eu[3]<<7)&65535,eu[3]=(eu[3]>>>9|eu[4]<<4)&65535,eu[4]=(eu[4]>>>12|eu[5]<<1|eu[6]<<14)&65535,eu[5]=(eu[6]>>>2|eu[7]<<11)&65535,eu[6]=(eu[7]>>>5|eu[8]<<8)&65535,eu[7]=(eu[8]>>>8|eu[9]<<5)&65535;let ew=eu[0]+ed[0];eu[0]=65535&ew;for(let eg=1;eg<8;eg++)ew=(eu[eg]+ed[eg]|0)+(ew>>>16)|0,eu[eg]=65535&ew;wA(eg)}update(eu){ww(this),wv(eu=wC(eu));let{buffer:ed,blockLen:eg}=this,em=eu.length;for(let eb=0;eb<em;){let ew=Math.min(eg-this.pos,em-eb);if(ew===eg){for(;eg<=em-eb;eb+=eg)this.process(eu,eb);continue}ed.set(eu.subarray(eb,eb+ew),this.pos),this.pos+=ew,eb+=ew,this.pos===eg&&(this.process(ed,0,!1),this.pos=0)}return this}destroy(){wA(this.h,this.r,this.buffer,this.pad)}digestInto(eu){ww(this),w_(eu,this),this.finished=!0;let{buffer:ed,h:eg}=this,{pos:em}=this;if(em){for(ed[em++]=1;em<16;em++)ed[em]=0;this.process(ed,0,!0)}this.finalize();let eb=0;for(let ed=0;ed<8;ed++)eu[eb++]=eg[ed]>>>0,eu[eb++]=eg[ed]>>>8;return eu}digest(){let{buffer:eu,outputLen:ed}=this;this.digestInto(eu);let eg=eu.slice(0,ed);return this.destroy(),eg}}function wY(eu){let ed=(ed,eg)=>eu(eg).update(wC(ed)).digest(),eg=eu(new Uint8Array(32));return ed.outputLen=eg.outputLen,ed.blockLen=eg.blockLen,ed.create=ed=>eu(ed),ed}let wX=wY(eu=>new wZ(eu));function wQ(eu,ed,eg,em,eb,ew=20){let e_=eu[0],eE=eu[1],eA=eu[2],eS=eu[3],eI=ed[0],eC=ed[1],eM=ed[2],eO=ed[3],eT=ed[4],eP=ed[5],eN=ed[6],ek=ed[7],eR=eb,eD=eg[0],eB=eg[1],eU=eg[2],eL=e_,ej=eE,eF=eA,e$=eS,eK=eI,eH=eC,eV=eM,eG=eO,eW=eT,eJ=eP,eZ=eN,eY=ek,eX=eR,eQ=eD,e0=eB,e6=eU;for(let eu=0;eu<ew;eu+=2)eW=eW+(eX=w$(eX^(eL=eL+eK|0),16))|0,eL=eL+(eK=w$(eK^eW,12))|0,eW=eW+(eX=w$(eX^eL,8))|0,eK=w$(eK^eW,7),eJ=eJ+(eQ=w$(eQ^(ej=ej+eH|0),16))|0,ej=ej+(eH=w$(eH^eJ,12))|0,eJ=eJ+(eQ=w$(eQ^ej,8))|0,eH=w$(eH^eJ,7),eZ=eZ+(e0=w$(e0^(eF=eF+eV|0),16))|0,eF=eF+(eV=w$(eV^eZ,12))|0,eZ=eZ+(e0=w$(e0^eF,8))|0,eV=w$(eV^eZ,7),eY=eY+(e6=w$(e6^(e$=e$+eG|0),16))|0,e$=e$+(eG=w$(eG^eY,12))|0,eY=eY+(e6=w$(e6^e$,8))|0,eG=w$(eG^eY,7),eZ=eZ+(e6=w$(e6^(eL=eL+eH|0),16))|0,eL=eL+(eH=w$(eH^eZ,12))|0,eZ=eZ+(e6=w$(e6^eL,8))|0,eH=w$(eH^eZ,7),eY=eY+(eX=w$(eX^(ej=ej+eV|0),16))|0,ej=ej+(eV=w$(eV^eY,12))|0,eY=eY+(eX=w$(eX^ej,8))|0,eV=w$(eV^eY,7),eW=eW+(eQ=w$(eQ^(eF=eF+eG|0),16))|0,eF=eF+(eG=w$(eG^eW,12))|0,eW=eW+(eQ=w$(eQ^eF,8))|0,eG=w$(eG^eW,7),eJ=eJ+(e0=w$(e0^(e$=e$+eK|0),16))|0,e$=e$+(eK=w$(eK^eJ,12))|0,eJ=eJ+(e0=w$(e0^e$,8))|0,eK=w$(eK^eJ,7);let e8=0;em[e8++]=e_+eL|0,em[e8++]=eE+ej|0,em[e8++]=eA+eF|0,em[e8++]=eS+e$|0,em[e8++]=eI+eK|0,em[e8++]=eC+eH|0,em[e8++]=eM+eV|0,em[e8++]=eO+eG|0,em[e8++]=eT+eW|0,em[e8++]=eP+eJ|0,em[e8++]=eN+eZ|0,em[e8++]=ek+eY|0,em[e8++]=eR+eX|0,em[e8++]=eD+eQ|0,em[e8++]=eB+e0|0,em[e8++]=eU+e6|0}let _u=wW(wQ,{counterRight:!1,counterLength:4,allowShortKeys:!1}),_p=new Uint8Array(16),_g=(eu,ed)=>{eu.update(ed);let eg=ed.length%16;eg&&eu.update(_p.subarray(eg))},_m=new Uint8Array(32);function _w(eu,ed,eg,em,eb){let ew=eu(ed,eg,_m),e_=wX.create(ew);eb&&_g(e_,eb),_g(e_,em);let eE=wk(em.length,eb?eb.length:0,!0);e_.update(eE);let eA=e_.digest();return wA(ew,eE),eA}let _E=eu=>(ed,eg,em)=>({encrypt(eb,ew){let e_=eb.length;(ew=wP(e_+16,ew,!1)).set(eb);let eE=ew.subarray(0,-16);eu(ed,eg,eE,eE,1);let eA=_w(eu,ed,eg,eE,em);return ew.set(eA,e_),wA(eA),ew},decrypt(eb,ew){ew=wP(eb.length-16,ew,!1);let e_=eb.subarray(0,-16),eE=eb.subarray(-16),eA=_w(eu,ed,eg,e_,em);if(!wO(eE,eA))throw Error("invalid tag");return ew.set(eb.subarray(0,-16)),eu(ed,eg,ew,ew,1),wA(eA),ew}});wT({blockSize:64,nonceLength:12,tagLength:16},_E(_u));class _A extends m9{constructor(eu,ed){super(),this.finished=!1,this.destroyed=!1,mL(eu);let eg=m5(ed);if(this.iHash=eu.create(),"function"!=typeof this.iHash.update)throw Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let em=this.blockLen,eb=new Uint8Array(em);eb.set(eg.length>em?eu.create().update(eg).digest():eg);for(let eu=0;eu<eb.length;eu++)eb[eu]^=54;this.iHash.update(eb),this.oHash=eu.create();for(let eu=0;eu<eb.length;eu++)eb[eu]^=106;this.oHash.update(eb),mK(eb)}update(eu){return mj(this),this.iHash.update(eu),this}digestInto(eu){mj(this),mU(eu,this.outputLen),this.finished=!0,this.iHash.digestInto(eu),this.oHash.update(eu),this.oHash.digestInto(eu),this.destroy()}digest(){let eu=new Uint8Array(this.oHash.outputLen);return this.digestInto(eu),eu}_cloneInto(eu){eu||(eu=Object.create(Object.getPrototypeOf(this),{}));let{oHash:ed,iHash:eg,finished:em,destroyed:eb,blockLen:ew,outputLen:e_}=this;return eu.finished=em,eu.destroyed=eb,eu.blockLen=ew,eu.outputLen=e_,eu.oHash=ed._cloneInto(eu.oHash),eu.iHash=eg._cloneInto(eu.iHash),eu}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}let _S=(eu,ed,eg)=>new _A(eu,ed).update(eg).digest();_S.create=(eu,ed)=>new _A(eu,ed),Uint8Array.from([0]),Uint8Array.of();let _I=vs,_C=BigInt(0),_M=BigInt(1);function _O(eu,ed){if("boolean"!=typeof ed)throw Error(eu+" boolean expected, got "+ed)}function _T(eu){let ed=eu.toString(16);return 1&ed.length?"0"+ed:ed}function _P(eu){if("string"!=typeof eu)throw Error("hex string expected, got "+typeof eu);return""===eu?_C:BigInt("0x"+eu)}function _N(eu){return _P(mX(eu))}function _k(eu){return mU(eu),_P(mX(Uint8Array.from(eu).reverse()))}function _R(eu,ed){return m6(eu.toString(16).padStart(2*ed,"0"))}function _D(eu,ed){return _R(eu,ed).reverse()}function _B(eu,ed,eg){let em;if("string"==typeof ed)try{em=m6(ed)}catch(ed){throw Error(eu+" must be hex string or Uint8Array, cause: "+ed)}else if(mD(ed))em=Uint8Array.from(ed);else throw Error(eu+" must be hex string or Uint8Array");let eb=em.length;if("number"==typeof eg&&eb!==eg)throw Error(eu+" of length "+eg+" expected, got "+eb);return em}let _U=eu=>"bigint"==typeof eu&&_C<=eu;function _L(eu,ed,eg){return _U(eu)&&_U(ed)&&_U(eg)&&ed<=eu&&eu<eg}function _j(eu,ed,eg,em){if(!_L(ed,eg,em))throw Error("expected valid "+eu+": "+eg+" <= n < "+em+", got "+ed)}function _F(eu){let ed;for(ed=0;eu>_C;eu>>=_M,ed+=1);return ed}let _$=eu=>(_M<<BigInt(eu))-_M;function _K(eu,ed,eg){if("number"!=typeof eu||eu<2)throw Error("hashLen must be a number");if("number"!=typeof ed||ed<2)throw Error("qByteLen must be a number");if("function"!=typeof eg)throw Error("hmacFn must be a function");let em=eu=>new Uint8Array(eu),eb=eu=>Uint8Array.of(eu),ew=em(eu),e_=em(eu),eE=0,eA=()=>{ew.fill(1),e_.fill(0),eE=0},eS=(...eu)=>eg(e_,ew,...eu),eI=(eu=em(0))=>{e_=eS(eb(0),eu),ew=eS(),0!==eu.length&&(e_=eS(eb(1),eu),ew=eS())},eC=()=>{if(eE++>=1e3)throw Error("drbg: tried 1000 values");let eu=0,eg=[];for(;eu<ed;){ew=eS();let ed=ew.slice();eg.push(ed),eu+=ew.length}return m4(...eg)};return(eu,ed)=>{let eg;for(eA(),eI(eu);!(eg=ed(eC()));)eI();return eA(),eg}}function _q(eu,ed,eg={}){if(!eu||"object"!=typeof eu)throw Error("expected valid options object");function em(ed,eg,em){let eb=eu[ed];if(em&&void 0===eb)return;let ew=typeof eb;if(ew!==eg||null===eb)throw Error(`param "${ed}" is invalid: expected ${eg}, got ${ew}`)}Object.entries(ed).forEach(([eu,ed])=>em(eu,ed,!1)),Object.entries(eg).forEach(([eu,ed])=>em(eu,ed,!0))}function _z(eu){let ed=new WeakMap;return(eg,...em)=>{let eb=ed.get(eg);if(void 0!==eb)return eb;let ew=eu(eg,...em);return ed.set(eg,ew),ew}}let _H=BigInt(0),_V=BigInt(1),_G=BigInt(2),_W=BigInt(3),_J=BigInt(4),_Z=BigInt(5),_Y=BigInt(8);function _X(eu,ed){let eg=eu%ed;return eg>=_H?eg:ed+eg}function _Q(eu,ed,eg){let em=eu;for(;ed-- >_H;)em*=em,em%=eg;return em}function _0(eu,ed){if(eu===_H)throw Error("invert: expected non-zero number");if(ed<=_H)throw Error("invert: expected positive modulus, got "+ed);let eg=_X(eu,ed),em=ed,eb=_H,ew=_V;for(;eg!==_H;){let eu=em/eg,ed=em%eg,e_=eb-ew*eu;em=eg,eg=ed,eb=ew,ew=e_}if(em!==_V)throw Error("invert: does not exist");return _X(eb,ed)}function _1(eu,ed){let eg=(eu.ORDER+_V)/_J,em=eu.pow(ed,eg);if(!eu.eql(eu.sqr(em),ed))throw Error("Cannot find square root");return em}function _2(eu,ed){let eg=(eu.ORDER-_Z)/_Y,em=eu.mul(ed,_G),eb=eu.pow(em,eg),ew=eu.mul(ed,eb),e_=eu.mul(eu.mul(ew,_G),eb),eE=eu.mul(ew,eu.sub(e_,eu.ONE));if(!eu.eql(eu.sqr(eE),ed))throw Error("Cannot find square root");return eE}function _6(eu){if(eu<BigInt(3))throw Error("sqrt is not defined for small field");let ed=eu-_V,eg=0;for(;ed%_G===_H;)ed/=_G,eg++;let em=_G,eb=Eu(eu);for(;1===_7(eb,em);)if(em++>1e3)throw Error("Cannot find square root: probably non-prime P");if(1===eg)return _1;let ew=eb.pow(em,ed),e_=(ed+_V)/_G;return function(eu,em){if(eu.is0(em))return em;if(1!==_7(eu,em))throw Error("Cannot find square root");let eb=eg,eE=eu.mul(eu.ONE,ew),eA=eu.pow(em,ed),eS=eu.pow(em,e_);for(;!eu.eql(eA,eu.ONE);){if(eu.is0(eA))return eu.ZERO;let ed=1,eg=eu.sqr(eA);for(;!eu.eql(eg,eu.ONE);)if(ed++,eg=eu.sqr(eg),ed===eb)throw Error("Cannot find square root");let em=_V<<BigInt(eb-ed-1),ew=eu.pow(eE,em);eb=ed,eE=eu.sqr(ew),eA=eu.mul(eA,eE),eS=eu.mul(eS,ew)}return eS}}function _3(eu){return eu%_J===_W?_1:eu%_Y===_Z?_2:_6(eu)}let _8=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function _5(eu){let ed={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},eg=_8.reduce((eu,ed)=>(eu[ed]="function",eu),ed);return _q(eu,eg),eu}function _4(eu,ed,eg){if(eg<_H)throw Error("invalid exponent, negatives unsupported");if(eg===_H)return eu.ONE;if(eg===_V)return ed;let em=eu.ONE,eb=ed;for(;eg>_H;)eg&_V&&(em=eu.mul(em,eb)),eb=eu.sqr(eb),eg>>=_V;return em}function _9(eu,ed,eg=!1){let em=Array(ed.length).fill(eg?eu.ZERO:void 0),eb=ed.reduce((ed,eg,eb)=>eu.is0(eg)?ed:(em[eb]=ed,eu.mul(ed,eg)),eu.ONE),ew=eu.inv(eb);return ed.reduceRight((ed,eg,eb)=>eu.is0(eg)?ed:(em[eb]=eu.mul(ed,em[eb]),eu.mul(ed,eg)),ew),em}function _7(eu,ed){let eg=(eu.ORDER-_V)/_G,em=eu.pow(ed,eg),eb=eu.eql(em,eu.ONE),ew=eu.eql(em,eu.ZERO),e_=eu.eql(em,eu.neg(eu.ONE));if(!eb&&!ew&&!e_)throw Error("invalid Legendre symbol result");return eb?1:ew?0:-1}function Es(eu,ed){void 0!==ed&&mB(ed);let eg=void 0!==ed?ed:eu.toString(2).length,em=Math.ceil(eg/8);return{nBitLength:eg,nByteLength:em}}function Eu(eu,ed,eg=!1,em={}){let eb,ew,e_;if(eu<=_H)throw Error("invalid field: expected ORDER > 0, got "+eu);if("object"==typeof ed&&null!=ed){if(em.sqrt||eg)throw Error("cannot specify opts in two arguments");let eu=ed;eu.BITS&&(eb=eu.BITS),eu.sqrt&&(ew=eu.sqrt),"boolean"==typeof eu.isLE&&(eg=eu.isLE)}else"number"==typeof ed&&(eb=ed),em.sqrt&&(ew=em.sqrt);let{nBitLength:eE,nByteLength:eA}=Es(eu,eb);if(eA>2048)throw Error("invalid field: expected ORDER of <= 2048 bytes");let eS=Object.freeze({ORDER:eu,isLE:eg,BITS:eE,BYTES:eA,MASK:_$(eE),ZERO:_H,ONE:_V,create:ed=>_X(ed,eu),isValid:ed=>{if("bigint"!=typeof ed)throw Error("invalid field element: expected bigint, got "+typeof ed);return _H<=ed&&ed<eu},is0:eu=>eu===_H,isValidNot0:eu=>!eS.is0(eu)&&eS.isValid(eu),isOdd:eu=>(eu&_V)===_V,neg:ed=>_X(-ed,eu),eql:(eu,ed)=>eu===ed,sqr:ed=>_X(ed*ed,eu),add:(ed,eg)=>_X(ed+eg,eu),sub:(ed,eg)=>_X(ed-eg,eu),mul:(ed,eg)=>_X(ed*eg,eu),pow:(eu,ed)=>_4(eS,eu,ed),div:(ed,eg)=>_X(ed*_0(eg,eu),eu),sqrN:eu=>eu*eu,addN:(eu,ed)=>eu+ed,subN:(eu,ed)=>eu-ed,mulN:(eu,ed)=>eu*ed,inv:ed=>_0(ed,eu),sqrt:ew||(ed=>(e_||(e_=_3(eu)),e_(eS,ed))),toBytes:eu=>eg?_D(eu,eA):_R(eu,eA),fromBytes:eu=>{if(eu.length!==eA)throw Error("Field.fromBytes: expected "+eA+" bytes, got "+eu.length);return eg?_k(eu):_N(eu)},invertBatch:eu=>_9(eS,eu),cmov:(eu,ed,eg)=>eg?ed:eu});return Object.freeze(eS)}function Ed(eu){if("bigint"!=typeof eu)throw Error("field order must be bigint");let ed=eu.toString(2).length;return Math.ceil(ed/8)}function Ep(eu){let ed=Ed(eu);return ed+Math.ceil(ed/2)}function Eg(eu,ed,eg=!1){let em=eu.length,eb=Ed(ed),ew=Ep(ed);if(em<16||em<ew||em>1024)throw Error("expected "+ew+"-1024 bytes of input, got "+em);let e_=eg?_k(eu):_N(eu),eE=_X(e_,ed-_V)+_V;return eg?_D(eE,eb):_R(eE,eb)}let Ey=BigInt(0),Em=BigInt(1);function Eb(eu,ed){let eg=ed.negate();return eu?eg:ed}function Ev(eu,ed,eg){let em="pz"===ed?eu=>eu.pz:eu=>eu.ez,eb=_9(eu.Fp,eg.map(em));return eg.map((eu,ed)=>eu.toAffine(eb[ed])).map(eu.fromAffine)}function Ew(eu,ed){if(!Number.isSafeInteger(eu)||eu<=0||eu>ed)throw Error("invalid window size, expected [1.."+ed+"], got W="+eu)}function E_(eu,ed){Ew(eu,ed);let eg=Math.ceil(ed/eu)+1,em=2**(eu-1),eb=2**eu,ew=_$(eu),e_=BigInt(eu);return{windows:eg,windowSize:em,mask:ew,maxNumber:eb,shiftBy:e_}}function EA(eu,ed,eg){let{windowSize:em,mask:eb,maxNumber:ew,shiftBy:e_}=eg,eE=Number(eu&eb),eA=eu>>e_;eE>em&&(eE-=ew,eA+=Em);let eS=ed*em,eI=eS+Math.abs(eE)-1,eC=0===eE,eM=eE<0,eO=ed%2!=0;return{nextN:eA,offset:eI,isZero:eC,isNeg:eM,isNegF:eO,offsetF:eS}}function ES(eu,ed){if(!Array.isArray(eu))throw Error("array expected");eu.forEach((eu,eg)=>{if(!(eu instanceof ed))throw Error("invalid point at index "+eg)})}function EI(eu,ed){if(!Array.isArray(eu))throw Error("array of scalars expected");eu.forEach((eu,eg)=>{if(!ed.isValid(eu))throw Error("invalid scalar at index "+eg)})}let Ex=new WeakMap,EM=new WeakMap;function EO(eu){return EM.get(eu)||1}function ET(eu){if(eu!==Ey)throw Error("invalid wNAF")}function EP(eu,ed){return{constTimeNegate:Eb,hasPrecomputes:eu=>1!==EO(eu),unsafeLadder(ed,eg,em=eu.ZERO){let eb=ed;for(;eg>Ey;)eg&Em&&(em=em.add(eb)),eb=eb.double(),eg>>=Em;return em},precomputeWindow(eu,eg){let{windows:em,windowSize:eb}=E_(eg,ed),ew=[],e_=eu,eE=e_;for(let eu=0;eu<em;eu++){eE=e_,ew.push(eE);for(let eu=1;eu<eb;eu++)eE=eE.add(e_),ew.push(eE);e_=eE.double()}return ew},wNAF(eg,em,eb){let ew=eu.ZERO,e_=eu.BASE,eE=E_(eg,ed);for(let eu=0;eu<eE.windows;eu++){let{nextN:ed,offset:eg,isZero:eA,isNeg:eS,isNegF:eI,offsetF:eC}=EA(eb,eu,eE);eb=ed,eA?e_=e_.add(Eb(eI,em[eC])):ew=ew.add(Eb(eS,em[eg]))}return ET(eb),{p:ew,f:e_}},wNAFUnsafe(eg,em,eb,ew=eu.ZERO){let e_=E_(eg,ed);for(let eu=0;eu<e_.windows&&eb!==Ey;eu++){let{nextN:ed,offset:eg,isZero:eE,isNeg:eA}=EA(eb,eu,e_);if(eb=ed,!eE){let eu=em[eg];ew=ew.add(eA?eu.negate():eu)}}return ET(eb),ew},getPrecomputes(eu,ed,eg){let em=Ex.get(ed);return em||(em=this.precomputeWindow(ed,eu),1!==eu&&("function"==typeof eg&&(em=eg(em)),Ex.set(ed,em))),em},wNAFCached(eu,ed,eg){let em=EO(eu);return this.wNAF(em,this.getPrecomputes(em,eu,eg),ed)},wNAFCachedUnsafe(eu,ed,eg,em){let eb=EO(eu);return 1===eb?this.unsafeLadder(eu,ed,em):this.wNAFUnsafe(eb,this.getPrecomputes(eb,eu,eg),ed,em)},setWindowSize(eu,eg){Ew(eg,ed),EM.set(eu,eg),Ex.delete(eu)}}}function EN(eu,ed,eg,em){let eb=ed,ew=eu.ZERO,e_=eu.ZERO;for(;eg>Ey||em>Ey;)eg&Em&&(ew=ew.add(eb)),em&Em&&(e_=e_.add(eb)),eb=eb.double(),eg>>=Em,em>>=Em;return{p1:ew,p2:e_}}function Ek(eu,ed,eg,em){ES(eg,eu),EI(em,ed);let eb=eg.length,ew=em.length;if(eb!==ew)throw Error("arrays of points and scalars must have equal length");let e_=eu.ZERO,eE=_F(BigInt(eb)),eA=1;eE>12?eA=eE-3:eE>4?eA=eE-2:eE>0&&(eA=2);let eS=_$(eA),eI=Array(Number(eS)+1).fill(e_),eC=Math.floor((ed.BITS-1)/eA)*eA,eM=e_;for(let eu=eC;eu>=0;eu-=eA){eI.fill(e_);for(let ed=0;ed<ew;ed++){let eb=em[ed],ew=Number(eb>>BigInt(eu)&eS);eI[ew]=eI[ew].add(eg[ed])}let ed=e_;for(let eu=eI.length-1,eg=e_;eu>0;eu--)eg=eg.add(eI[eu]),ed=ed.add(eg);if(eM=eM.add(ed),0!==eu)for(let eu=0;eu<eA;eu++)eM=eM.double()}return eM}function ER(eu,ed){if(!ed)return Eu(eu);if(ed.ORDER!==eu)throw Error("Field.ORDER must match order: Fp == p, Fn == n");return _5(ed),ed}function ED(eu,ed,eg={}){if(!ed||"object"!=typeof ed)throw Error(`expected valid ${eu} CURVE object`);for(let eu of["p","n","h"]){let eg=ed[eu];if(!("bigint"==typeof eg&&eg>Ey))throw Error(`CURVE.${eu} must be positive bigint`)}let em=ER(ed.p,eg.Fp),eb=ER(ed.n,eg.Fn),ew=["Gx","Gy","a","weierstrass"===eu?"b":"d"];for(let eu of ew)if(!em.isValid(ed[eu]))throw Error(`CURVE.${eu} must be valid field element of CURVE.Fp`);return{Fp:em,Fn:eb}}BigInt(0),BigInt(1),BigInt(2),BigInt(8);let EB=BigInt(0),EU=BigInt(1),EL=BigInt(2);function Ej(eu){return _q(eu,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...eu})}function EF(eu){let ed=Ej(eu),{P:eg,type:em,adjustScalarBytes:eb,powPminus2:ew,randomBytes:e_}=ed,eE="x25519"===em;if(!eE&&"x448"!==em)throw Error("invalid type");let eA=e_||bd,eS=eE?255:448,eI=eE?32:56,eC=BigInt(eE?9:5),eM=BigInt(eE?121665:39081),eO=eE?EL**BigInt(254):EL**BigInt(447),eT=eE?BigInt(8)*EL**BigInt(251)-EU:BigInt(4)*EL**BigInt(445)-EU,eP=eO+eT+EU,eN=eu=>_X(eu,eg),ek=eR(eC);function eR(eu){return _D(eN(eu),eI)}function eD(eu){let ed=_B("u coordinate",eu,eI);return eE&&(ed[31]&=127),eN(_k(ed))}function eB(eu){return _k(eb(_B("scalar",eu,eI)))}function eU(eu,ed){let eg=eF(eD(ed),eB(eu));if(eg===EB)throw Error("invalid private or public key received");return eR(eg)}function eL(eu){return eU(eu,ek)}function ej(eu,ed,eg){let em=eN(eu*(ed-eg));return{x_2:ed=eN(ed-em),x_3:eg=eN(eg+em)}}function eF(eu,ed){_j("u",eu,EB,eg),_j("scalar",ed,eO,eP);let em=ed,eb=eu,e_=EU,eE=EB,eA=eu,eI=EU,eC=EB;for(let eu=BigInt(eS-1);eu>=EB;eu--){let ed=em>>eu&EU;eC^=ed,({x_2:e_,x_3:eA}=ej(eC,e_,eA)),({x_2:eE,x_3:eI}=ej(eC,eE,eI)),eC=ed;let eg=e_+eE,ew=eN(eg*eg),eS=e_-eE,eO=eN(eS*eS),eT=ew-eO,eP=eA+eI,ek=eA-eI,eR=eN(ek*eg),eD=eN(eP*eS),eB=eR+eD,eU=eR-eD;eA=eN(eB*eB),eI=eN(eb*eN(eU*eU)),e_=eN(ew*eO),eE=eN(eT*(ew+eN(eM*eT)))}({x_2:e_,x_3:eA}=ej(eC,e_,eA)),{x_2:eE,x_3:eI}=ej(eC,eE,eI);let eT=ew(eE);return eN(e_*eT)}return{scalarMult:eU,scalarMultBase:eL,getSharedSecret:(eu,ed)=>eU(eu,ed),getPublicKey:eu=>eL(eu),utils:{randomPrivateKey:()=>eA(eI)},GuBytes:ek.slice()}}BigInt(0);let E$=BigInt(1),EK=BigInt(2),Eq=BigInt(3),Ez=BigInt(5),EH=BigInt(8),EV={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:EH,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function EG(eu){let ed=BigInt(10),eg=BigInt(20),em=BigInt(40),eb=BigInt(80),ew=EV.p,e_=eu*eu%ew*eu%ew,eE=_Q(e_,EK,ew)*e_%ew,eA=_Q(eE,E$,ew)*eu%ew,eS=_Q(eA,Ez,ew)*eA%ew,eI=_Q(eS,ed,ew)*eS%ew,eC=_Q(eI,eg,ew)*eI%ew,eM=_Q(eC,em,ew)*eC%ew,eO=_Q(eM,eb,ew)*eM%ew,eT=_Q(eO,eb,ew)*eM%ew,eP=_Q(eT,ed,ew)*eS%ew;return{pow_p_5_8:_Q(eP,EK,ew)*eu%ew,b2:e_}}function EW(eu){return eu[0]&=248,eu[31]&=127,eu[31]|=64,eu}function EJ(eu){void 0!==eu.lowS&&_O("lowS",eu.lowS),void 0!==eu.prehash&&_O("prehash",eu.prehash)}(()=>{let eu=EV.p;return EF({P:eu,type:"x25519",powPminus2:ed=>{let{pow_p_5_8:eg,b2:em}=EG(ed);return _X(_Q(eg,Eq,eu)*em,eu)},adjustScalarBytes:EW})})();class EZ extends Error{constructor(eu=""){super(eu)}}let EY={Err:EZ,_tlv:{encode:(eu,ed)=>{let{Err:eg}=EY;if(eu<0||eu>256)throw new eg("tlv.encode: wrong tag");if(1&ed.length)throw new eg("tlv.encode: unpadded data");let em=ed.length/2,eb=_T(em);if(eb.length/2&128)throw new eg("tlv.encode: long form length too big");let ew=em>127?_T(eb.length/2|128):"";return _T(eu)+ew+eb+ed},decode(eu,ed){let{Err:eg}=EY,em=0;if(eu<0||eu>256)throw new eg("tlv.encode: wrong tag");if(ed.length<2||ed[em++]!==eu)throw new eg("tlv.decode: wrong tlv");let eb=ed[em++],ew=!!(128&eb),e_=0;if(ew){let eu=127&eb;if(!eu)throw new eg("tlv.decode(long): indefinite length not supported");if(eu>4)throw new eg("tlv.decode(long): byte length is too big");let ew=ed.subarray(em,em+eu);if(ew.length!==eu)throw new eg("tlv.decode: length bytes not complete");if(0===ew[0])throw new eg("tlv.decode(long): zero leftmost byte");for(let eu of ew)e_=e_<<8|eu;if(em+=eu,e_<128)throw new eg("tlv.decode(long): not minimal encoding")}else e_=eb;let eE=ed.subarray(em,em+e_);if(eE.length!==e_)throw new eg("tlv.decode: wrong value length");return{v:eE,l:ed.subarray(em+e_)}}},_int:{encode(eu){let{Err:ed}=EY;if(eu<EX)throw new ed("integer: negative integers are not allowed");let eg=_T(eu);if(8&Number.parseInt(eg[0],16)&&(eg="00"+eg),1&eg.length)throw new ed("unexpected DER parsing assertion: unpadded hex");return eg},decode(eu){let{Err:ed}=EY;if(128&eu[0])throw new ed("invalid signature integer: negative");if(0===eu[0]&&!(128&eu[1]))throw new ed("invalid signature integer: unnecessary leading zero");return _N(eu)}},toSig(eu){let{Err:ed,_int:eg,_tlv:em}=EY,eb=_B("signature",eu),{v:ew,l:e_}=em.decode(48,eb);if(e_.length)throw new ed("invalid signature: left bytes after parsing");let{v:eE,l:eA}=em.decode(2,ew),{v:eS,l:eI}=em.decode(2,eA);if(eI.length)throw new ed("invalid signature: left bytes after parsing");return{r:eg.decode(eE),s:eg.decode(eS)}},hexFromSig(eu){let{_tlv:ed,_int:eg}=EY,em=ed.encode(2,eg.encode(eu.r)),eb=ed.encode(2,eg.encode(eu.s)),ew=em+eb;return ed.encode(48,ew)}},EX=BigInt(0),EQ=BigInt(1),E0=BigInt(2),E1=BigInt(3),E2=BigInt(4);function E6(eu,ed,eg){return function(em){let eb=eu.sqr(em),ew=eu.mul(eb,em);return eu.add(eu.add(ew,eu.mul(em,ed)),eg)}}function E3(eu,ed,eg){let{BYTES:em}=eu;return function(eb){let ew;if("bigint"==typeof eb)ew=eb;else{let eg=_B("private key",eb);if(ed){if(!ed.includes(2*eg.length))throw Error("invalid private key");let eu=new Uint8Array(em);eu.set(eg,eu.length-eg.length),eg=eu}try{ew=eu.fromBytes(eg)}catch{throw Error(`invalid private key: expected ui8a of size ${em}, got ${typeof eb}`)}}if(eg&&(ew=eu.create(ew)),!eu.isValidNot0(ew))throw Error("invalid private key: out of range [1..N-1]");return ew}}function E8(eu,ed={}){let{Fp:eg,Fn:em}=ED("weierstrass",eu,ed),{h:eb,n:ew}=eu;_q(ed,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});let{endo:e_}=ed;if(e_&&(!eg.is0(eu.a)||"bigint"!=typeof e_.beta||"function"!=typeof e_.splitScalar))throw Error('invalid endo: expected "beta": bigint and "splitScalar": function');function eE(){if(!eg.isOdd)throw Error("compression is not supported: Field does not have .isOdd()")}function eA(eu,ed,em){let{x:eb,y:ew}=ed.toAffine(),e_=eg.toBytes(eb);if(_O("isCompressed",em),!em)return m4(Uint8Array.of(4),e_,eg.toBytes(ew));{eE();let eu=!eg.isOdd(ew);return m4(E5(eu),e_)}}function eS(eu){mU(eu);let ed=eg.BYTES,em=ed+1,eb=2*ed+1,ew=eu.length,e_=eu[0],eA=eu.subarray(1);if(ew===em&&(2===e_||3===e_)){let eu;let ed=eg.fromBytes(eA);if(!eg.isValid(ed))throw Error("bad point: is not on curve, wrong x");let em=eM(ed);try{eu=eg.sqrt(em)}catch(ed){let eu=ed instanceof Error?": "+ed.message:"";throw Error("bad point: is not on curve, sqrt error"+eu)}eE();let eb=eg.isOdd(eu);return(1&e_)==1!==eb&&(eu=eg.neg(eu)),{x:ed,y:eu}}if(ew===eb&&4===e_){let eu=eg.fromBytes(eA.subarray(0*ed,1*ed)),em=eg.fromBytes(eA.subarray(1*ed,2*ed));if(!eO(eu,em))throw Error("bad point: is not on curve");return{x:eu,y:em}}throw Error(`bad point: got length ${ew}, expected compressed=${em} or uncompressed=${eb}`)}let eI=ed.toBytes||eA,eC=ed.fromBytes||eS,eM=E6(eg,eu.a,eu.b);function eO(eu,ed){let em=eg.sqr(ed),eb=eM(eu);return eg.eql(em,eb)}if(!eO(eu.Gx,eu.Gy))throw Error("bad curve params: generator point");let eT=eg.mul(eg.pow(eu.a,E1),E2),eP=eg.mul(eg.sqr(eu.b),BigInt(27));if(eg.is0(eg.add(eT,eP)))throw Error("bad curve params: a or b");function eN(eu,ed,em=!1){if(!eg.isValid(ed)||em&&eg.is0(ed))throw Error(`bad point coordinate ${eu}`);return ed}function ek(eu){if(!(eu instanceof eU))throw Error("ProjectivePoint expected")}let eR=_z((eu,ed)=>{let{px:em,py:eb,pz:ew}=eu;if(eg.eql(ew,eg.ONE))return{x:em,y:eb};let e_=eu.is0();null==ed&&(ed=e_?eg.ONE:eg.inv(ew));let eE=eg.mul(em,ed),eA=eg.mul(eb,ed),eS=eg.mul(ew,ed);if(e_)return{x:eg.ZERO,y:eg.ZERO};if(!eg.eql(eS,eg.ONE))throw Error("invZ was invalid");return{x:eE,y:eA}}),eD=_z(eu=>{if(eu.is0()){if(ed.allowInfinityPoint&&!eg.is0(eu.py))return;throw Error("bad point: ZERO")}let{x:em,y:eb}=eu.toAffine();if(!eg.isValid(em)||!eg.isValid(eb))throw Error("bad point: x or y not field elements");if(!eO(em,eb))throw Error("bad point: equation left != right");if(!eu.isTorsionFree())throw Error("bad point: not in prime-order subgroup");return!0});function eB(eu,ed,em,eb,ew){return em=new eU(eg.mul(em.px,eu),em.py,em.pz),ed=Eb(eb,ed),em=Eb(ew,em),ed.add(em)}class eU{constructor(eu,ed,eg){this.px=eN("x",eu),this.py=eN("y",ed,!0),this.pz=eN("z",eg),Object.freeze(this)}static fromAffine(eu){let{x:ed,y:em}=eu||{};if(!eu||!eg.isValid(ed)||!eg.isValid(em))throw Error("invalid affine point");if(eu instanceof eU)throw Error("projective point not allowed");return eg.is0(ed)&&eg.is0(em)?eU.ZERO:new eU(ed,em,eg.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(eu){return Ev(eU,"pz",eu)}static fromBytes(eu){return mU(eu),eU.fromHex(eu)}static fromHex(eu){let ed=eU.fromAffine(eC(_B("pointHex",eu)));return ed.assertValidity(),ed}static fromPrivateKey(eu){let eg=E3(em,ed.allowedPrivateKeyLengths,ed.wrapPrivateKey);return eU.BASE.multiply(eg(eu))}static msm(eu,ed){return Ek(eU,em,eu,ed)}precompute(eu=8,ed=!0){return ej.setWindowSize(this,eu),ed||this.multiply(E1),this}_setWindowSize(eu){this.precompute(eu)}assertValidity(){eD(this)}hasEvenY(){let{y:eu}=this.toAffine();if(!eg.isOdd)throw Error("Field doesn't support isOdd");return!eg.isOdd(eu)}equals(eu){ek(eu);let{px:ed,py:em,pz:eb}=this,{px:ew,py:e_,pz:eE}=eu,eA=eg.eql(eg.mul(ed,eE),eg.mul(ew,eb)),eS=eg.eql(eg.mul(em,eE),eg.mul(e_,eb));return eA&&eS}negate(){return new eU(this.px,eg.neg(this.py),this.pz)}double(){let{a:ed,b:em}=eu,eb=eg.mul(em,E1),{px:ew,py:e_,pz:eE}=this,eA=eg.ZERO,eS=eg.ZERO,eI=eg.ZERO,eC=eg.mul(ew,ew),eM=eg.mul(e_,e_),eO=eg.mul(eE,eE),eT=eg.mul(ew,e_);return eT=eg.add(eT,eT),eI=eg.mul(ew,eE),eI=eg.add(eI,eI),eA=eg.mul(ed,eI),eS=eg.mul(eb,eO),eS=eg.add(eA,eS),eA=eg.sub(eM,eS),eS=eg.add(eM,eS),eS=eg.mul(eA,eS),eA=eg.mul(eT,eA),eI=eg.mul(eb,eI),eO=eg.mul(ed,eO),eT=eg.sub(eC,eO),eT=eg.mul(ed,eT),eT=eg.add(eT,eI),eI=eg.add(eC,eC),eC=eg.add(eI,eC),eC=eg.add(eC,eO),eC=eg.mul(eC,eT),eS=eg.add(eS,eC),eO=eg.mul(e_,eE),eO=eg.add(eO,eO),eC=eg.mul(eO,eT),eA=eg.sub(eA,eC),eI=eg.mul(eO,eM),eI=eg.add(eI,eI),eI=eg.add(eI,eI),new eU(eA,eS,eI)}add(ed){ek(ed);let{px:em,py:eb,pz:ew}=this,{px:e_,py:eE,pz:eA}=ed,eS=eg.ZERO,eI=eg.ZERO,eC=eg.ZERO,eM=eu.a,eO=eg.mul(eu.b,E1),eT=eg.mul(em,e_),eP=eg.mul(eb,eE),eN=eg.mul(ew,eA),eR=eg.add(em,eb),eD=eg.add(e_,eE);eR=eg.mul(eR,eD),eD=eg.add(eT,eP),eR=eg.sub(eR,eD),eD=eg.add(em,ew);let eB=eg.add(e_,eA);return eD=eg.mul(eD,eB),eB=eg.add(eT,eN),eD=eg.sub(eD,eB),eB=eg.add(eb,ew),eS=eg.add(eE,eA),eB=eg.mul(eB,eS),eS=eg.add(eP,eN),eB=eg.sub(eB,eS),eC=eg.mul(eM,eD),eS=eg.mul(eO,eN),eC=eg.add(eS,eC),eS=eg.sub(eP,eC),eC=eg.add(eP,eC),eI=eg.mul(eS,eC),eP=eg.add(eT,eT),eP=eg.add(eP,eT),eN=eg.mul(eM,eN),eD=eg.mul(eO,eD),eP=eg.add(eP,eN),eN=eg.sub(eT,eN),eN=eg.mul(eM,eN),eD=eg.add(eD,eN),eT=eg.mul(eP,eD),eI=eg.add(eI,eT),eT=eg.mul(eB,eD),eS=eg.mul(eR,eS),eS=eg.sub(eS,eT),eT=eg.mul(eR,eP),eC=eg.mul(eB,eC),eC=eg.add(eC,eT),new eU(eS,eI,eC)}subtract(eu){return this.add(eu.negate())}is0(){return this.equals(eU.ZERO)}multiply(eu){let eg,eb;let{endo:ew}=ed;if(!em.isValidNot0(eu))throw Error("invalid scalar: out of range");let e_=eu=>ej.wNAFCached(this,eu,eU.normalizeZ);if(ew){let{k1neg:ed,k1:em,k2neg:eE,k2:eA}=ew.splitScalar(eu),{p:eS,f:eI}=e_(em),{p:eC,f:eM}=e_(eA);eb=eI.add(eM),eg=eB(ew.beta,eS,eC,ed,eE)}else{let{p:ed,f:em}=e_(eu);eg=ed,eb=em}return eU.normalizeZ([eg,eb])[0]}multiplyUnsafe(eu){let{endo:eg}=ed,eb=this;if(!em.isValid(eu))throw Error("invalid scalar: out of range");if(eu===EX||eb.is0())return eU.ZERO;if(eu===EQ)return eb;if(ej.hasPrecomputes(this))return this.multiply(eu);if(!eg)return ej.wNAFCachedUnsafe(eb,eu);{let{k1neg:ed,k1:em,k2neg:ew,k2:e_}=eg.splitScalar(eu),{p1:eE,p2:eA}=EN(eU,eb,em,e_);return eB(eg.beta,eE,eA,ed,ew)}}multiplyAndAddUnsafe(eu,ed,eg){let em=this.multiplyUnsafe(ed).add(eu.multiplyUnsafe(eg));return em.is0()?void 0:em}toAffine(eu){return eR(this,eu)}isTorsionFree(){let{isTorsionFree:eu}=ed;return eb===EQ||(eu?eu(eU,this):ej.wNAFCachedUnsafe(this,ew).is0())}clearCofactor(){let{clearCofactor:eu}=ed;return eb===EQ?this:eu?eu(eU,this):this.multiplyUnsafe(eb)}toBytes(eu=!0){return _O("isCompressed",eu),this.assertValidity(),eI(eU,this,eu)}toRawBytes(eu=!0){return this.toBytes(eu)}toHex(eu=!0){return mX(this.toBytes(eu))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}eU.BASE=new eU(eu.Gx,eu.Gy,eg.ONE),eU.ZERO=new eU(eg.ZERO,eg.ONE,eg.ZERO),eU.Fp=eg,eU.Fn=em;let eL=em.BITS,ej=EP(eU,ed.endo?Math.ceil(eL/2):eL);return eU}function E5(eu){return Uint8Array.of(eu?2:3)}function E4(eu,ed,eg={}){_q(ed,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});let em=ed.randomBytes||bd,eb=ed.hmac||((eu,...eg)=>_S(ed.hash,eu,m4(...eg))),{Fp:ew,Fn:e_}=eu,{ORDER:eE,BITS:eA}=e_;function eS(eu){let ed=eE>>EQ;return eu>ed}function eI(eu){return eS(eu)?e_.neg(eu):eu}function eC(eu,ed){if(!e_.isValidNot0(ed))throw Error(`invalid signature ${eu}: out of range 1..CURVE.n`)}class eM{constructor(eu,ed,eg){eC("r",eu),eC("s",ed),this.r=eu,this.s=ed,null!=eg&&(this.recovery=eg),Object.freeze(this)}static fromCompact(eu){let ed=e_.BYTES,eg=_B("compactSignature",eu,2*ed);return new eM(e_.fromBytes(eg.subarray(0,ed)),e_.fromBytes(eg.subarray(ed,2*ed)))}static fromDER(eu){let{r:ed,s:eg}=EY.toSig(_B("DER",eu));return new eM(ed,eg)}assertValidity(){}addRecoveryBit(eu){return new eM(this.r,this.s,eu)}recoverPublicKey(ed){let eg=ew.ORDER,{r:em,s:eb,recovery:eA}=this;if(null==eA||![0,1,2,3].includes(eA))throw Error("recovery id invalid");if(eE*E0<eg&&eA>1)throw Error("recovery id is ambiguous for h>1 curve");let eS=2===eA||3===eA?em+eE:em;if(!ew.isValid(eS))throw Error("recovery id 2 or 3 invalid");let eI=ew.toBytes(eS),eC=eu.fromHex(m4(E5((1&eA)==0),eI)),eM=e_.inv(eS),eO=eD(_B("msgHash",ed)),eT=e_.create(-eO*eM),eP=e_.create(eb*eM),eN=eu.BASE.multiplyUnsafe(eT).add(eC.multiplyUnsafe(eP));if(eN.is0())throw Error("point at infinify");return eN.assertValidity(),eN}hasHighS(){return eS(this.s)}normalizeS(){return this.hasHighS()?new eM(this.r,e_.neg(this.s),this.recovery):this}toBytes(eu){if("compact"===eu)return m4(e_.toBytes(this.r),e_.toBytes(this.s));if("der"===eu)return m6(EY.hexFromSig(this));throw Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return mX(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return mX(this.toBytes("compact"))}}let eO=E3(e_,eg.allowedPrivateKeyLengths,eg.wrapPrivateKey),eT={isValidPrivateKey(eu){try{return eO(eu),!0}catch{return!1}},normPrivateKeyToScalar:eO,randomPrivateKey:()=>{let eu=eE;return Eg(em(Ep(eu)),eu)},precompute:(ed=8,eg=eu.BASE)=>eg.precompute(ed,!1)};function eP(ed,eg=!0){return eu.fromPrivateKey(ed).toBytes(eg)}function eN(ed){if("bigint"==typeof ed)return!1;if(ed instanceof eu)return!0;let em=_B("key",ed).length,eb=ew.BYTES,eE=eb+1,eA=2*eb+1;if(!(eg.allowedPrivateKeyLengths||e_.BYTES===eE))return em===eE||em===eA}function ek(ed,eg,em=!0){if(!0===eN(ed))throw Error("first arg must be private key");if(!1===eN(eg))throw Error("second arg must be public key");return eu.fromHex(eg).multiply(eO(ed)).toBytes(em)}let eR=ed.bits2int||function(eu){if(eu.length>8192)throw Error("input is too large");let ed=_N(eu),eg=8*eu.length-eA;return eg>0?ed>>BigInt(eg):ed},eD=ed.bits2int_modN||function(eu){return e_.create(eR(eu))},eB=_$(eA);function eU(eu){return _j("num < 2^"+eA,eu,EX,eB),e_.toBytes(eu)}function eL(eg,eb,eE=ej){if(["recovered","canonical"].some(eu=>eu in eE))throw Error("sign() legacy options not supported");let{hash:eA}=ed,{lowS:eC,prehash:eT,extraEntropy:eP}=eE;null==eC&&(eC=!0),eg=_B("msgHash",eg),EJ(eE),eT&&(eg=_B("prehashed msgHash",eA(eg)));let eN=eD(eg),ek=eO(eb),eB=[eU(ek),eU(eN)];if(null!=eP&&!1!==eP){let eu=!0===eP?em(ew.BYTES):eP;eB.push(_B("extraEntropy",eu))}let eL=m4(...eB),eF=eN;return{seed:eL,k2sig:function(ed){let eg=eR(ed);if(!e_.isValidNot0(eg))return;let em=e_.inv(eg),eb=eu.BASE.multiply(eg).toAffine(),ew=e_.create(eb.x);if(ew===EX)return;let eE=e_.create(em*e_.create(eF+ew*ek));if(eE===EX)return;let eA=(eb.x===ew?0:2)|Number(eb.y&EQ),eO=eE;return eC&&eS(eE)&&(eO=eI(eE),eA^=1),new eM(ew,eO,eA)}}}let ej={lowS:ed.lowS,prehash:!1},eF={lowS:ed.lowS,prehash:!1};function e$(eu,eg,em=ej){let{seed:ew,k2sig:eE}=eL(eu,eg,em);return _K(ed.hash.outputLen,e_.BYTES,eb)(ew,eE)}return eu.BASE.precompute(8),Object.freeze({getPublicKey:eP,getSharedSecret:ek,sign:e$,verify:function(eg,em,eb,ew=eF){let eE,eA;let eS=eg;em=_B("msgHash",em),eb=_B("publicKey",eb),EJ(ew);let{lowS:eI,prehash:eC,format:eO}=ew;if("strict"in ew)throw Error("options.strict was renamed to lowS");if(void 0!==eO&&!["compact","der","js"].includes(eO))throw Error('format must be "compact", "der" or "js"');let eT="string"==typeof eS||mD(eS),eP=!eT&&!eO&&"object"==typeof eS&&null!==eS&&"bigint"==typeof eS.r&&"bigint"==typeof eS.s;if(!eT&&!eP)throw Error("invalid signature, expected Uint8Array, hex string or Signature instance");try{if(eP){if(void 0===eO||"js"===eO)eE=new eM(eS.r,eS.s);else throw Error("invalid format")}if(eT){try{"compact"!==eO&&(eE=eM.fromDER(eS))}catch(eu){if(!(eu instanceof EY.Err))throw eu}eE||"der"===eO||(eE=eM.fromCompact(eS))}eA=eu.fromHex(eb)}catch{return!1}if(!eE||eI&&eE.hasHighS())return!1;eC&&(em=ed.hash(em));let{r:eN,s:ek}=eE,eR=eD(em),eB=e_.inv(ek),eU=e_.create(eR*eB),eL=e_.create(eN*eB),ej=eu.BASE.multiplyUnsafe(eU).add(eA.multiplyUnsafe(eL));return!ej.is0()&&e_.create(ej.x)===eN},utils:eT,Point:eu,Signature:eM})}function E9(eu){let ed={a:eu.a,b:eu.b,p:eu.Fp.ORDER,n:eu.n,h:eu.h,Gx:eu.Gx,Gy:eu.Gy},eg=eu.Fp,em=Eu(ed.n,eu.nBitLength),eb={Fp:eg,Fn:em,allowedPrivateKeyLengths:eu.allowedPrivateKeyLengths,allowInfinityPoint:eu.allowInfinityPoint,endo:eu.endo,wrapPrivateKey:eu.wrapPrivateKey,isTorsionFree:eu.isTorsionFree,clearCofactor:eu.clearCofactor,fromBytes:eu.fromBytes,toBytes:eu.toBytes};return{CURVE:ed,curveOpts:eb}}function E7(eu){let{CURVE:ed,curveOpts:eg}=E9(eu),em={hash:eu.hash,hmac:eu.hmac,randomBytes:eu.randomBytes,lowS:eu.lowS,bits2int:eu.bits2int,bits2int_modN:eu.bits2int_modN};return{CURVE:ed,curveOpts:eg,ecdsaOpts:em}}function Au(eu,ed){return Object.assign({},ed,{ProjectivePoint:ed.Point,CURVE:eu})}function Ad(eu){let{CURVE:ed,curveOpts:eg,ecdsaOpts:em}=E7(eu),eb=E8(ed,eg),ew=E4(eb,em,eg);return Au(eu,ew)}function Ap(eu,ed){let eg=ed=>Ad({...eu,hash:ed});return{...eg(ed),create:eg}}let Ag={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},Ay={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},Am={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},Ab=Eu(Ag.p),Av=Eu(Ay.p),Aw=Eu(Am.p);Ap({...Ag,Fp:Ab,lowS:!1},vs),Ap({...Ay,Fp:Av,lowS:!1},vl),Ap({...Am,Fp:Aw,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},vu);let A_="base16",AE="base64pad",AS="base64url",AI="utf8",Ax=1,AC=2;function AM(eu){let ed=_I((0,e6.mL)(eu,A_));return(0,e6.BB)(ed,A_)}function AO(eu){let ed=_I((0,e6.mL)(eu,AI));return(0,e6.BB)(ed,A_)}function AT(eu,ed,eg){return`${eu}?wc_ev=${eg}&topic=${ed}`}var AP=Object.defineProperty,AN=Object.defineProperties,Ak=Object.getOwnPropertyDescriptors,AR=Object.getOwnPropertySymbols,AD=Object.prototype.hasOwnProperty,AB=Object.prototype.propertyIsEnumerable,AU=(eu,ed,eg)=>ed in eu?AP(eu,ed,{enumerable:!0,configurable:!0,writable:!0,value:eg}):eu[ed]=eg,AL=(eu,ed)=>{for(var eg in ed||(ed={}))AD.call(ed,eg)&&AU(eu,eg,ed[eg]);if(AR)for(var eg of AR(ed))AB.call(ed,eg)&&AU(eu,eg,ed[eg]);return eu},Aj=(eu,ed)=>AN(eu,Ak(ed));function AF(eu){let ed=[];return eu.forEach(eu=>{let[eg,em]=eu.split(":");ed.push(`${eg}:${em}`)}),ed}function A$(eu){let ed=[];return Object.values(eu).forEach(eu=>{ed.push(...AF(eu.accounts))}),ed}function AK(eu,ed){let eg=[];return Object.values(eu).forEach(eu=>{AF(eu.accounts).includes(ed)&&eg.push(...eu.methods)}),eg}function Aq(eu,ed){let eg=[];return Object.values(eu).forEach(eu=>{AF(eu.accounts).includes(ed)&&eg.push(...eu.events)}),eg}function Az(eu){return eu.includes(":")}function AH(eu){return Az(eu)?eu.split(":")[0]:eu}function AV(eu){var ed,eg,em;let eb={};if(!A1(eu))return eb;for(let[ew,e_]of Object.entries(eu)){let eu=Az(ew)?[ew]:e_.chains,eE=e_.methods||[],eA=e_.events||[],eS=AH(ew);eb[eS]=Aj(AL({},eb[eS]),{chains:yX(eu,null==(ed=eb[eS])?void 0:ed.chains),methods:yX(eE,null==(eg=eb[eS])?void 0:eg.methods),events:yX(eA,null==(em=eb[eS])?void 0:em.events)})}return eb}function AG(eu){let ed={};return eu?.forEach(eu=>{var eg;let[em,eb]=eu.split(":");ed[em]||(ed[em]={accounts:[],chains:[],events:[],methods:[]}),ed[em].accounts.push(eu),null==(eg=ed[em].chains)||eg.push(`${em}:${eb}`)}),ed}function AW(eu,ed){ed=ed.map(eu=>eu.replace("did:pkh:",""));let eg=AG(ed);for(let[ed,em]of Object.entries(eg))em.methods?em.methods=yX(em.methods,eu):em.methods=eu,em.events=["chainChanged","accountsChanged"];return eg}function AJ(eu,ed){var eg,em,eb,ew,e_,eE;let eA=AV(eu),eS=AV(ed),eI={},eC=Object.keys(eA).concat(Object.keys(eS));for(let eu of eC)eI[eu]={chains:yX(null==(eg=eA[eu])?void 0:eg.chains,null==(em=eS[eu])?void 0:em.chains),methods:yX(null==(eb=eA[eu])?void 0:eb.methods,null==(ew=eS[eu])?void 0:ew.methods),events:yX(null==(e_=eA[eu])?void 0:e_.events,null==(eE=eS[eu])?void 0:eE.events)};return eI}let AZ={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},AY={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function AX(eu,ed){let{message:eg,code:em}=AY[eu];return{message:ed?`${eg} ${ed}`:eg,code:em}}function AQ(eu,ed){let{message:eg,code:em}=AZ[eu];return{message:ed?`${eg} ${ed}`:eg,code:em}}function A0(eu,ed){return!!Array.isArray(eu)&&(!("u">typeof ed)||!eu.length||eu.every(ed))}function A1(eu){return Object.getPrototypeOf(eu)===Object.prototype&&Object.keys(eu).length}function A2(eu){return typeof eu>"u"}function A6(eu,ed){return!!(ed&&A2(eu))||"string"==typeof eu&&!!eu.trim().length}function A3(eu,ed){return!!(ed&&A2(eu))||"number"==typeof eu&&!isNaN(eu)}function A8(eu,ed){let{requiredNamespaces:eg}=ed,em=Object.keys(eu.namespaces),eb=Object.keys(eg),ew=!0;return!!yV(eb,em)&&(em.forEach(ed=>{let{accounts:em,methods:eb,events:e_}=eu.namespaces[ed],eE=AF(em),eA=eg[ed];yV(yM(ed,eA),eE)&&yV(eA.methods,eb)&&yV(eA.events,e_)||(ew=!1)}),ew)}function A5(eu){return!!(A6(eu,!1)&&eu.includes(":"))&&2===eu.split(":").length}function A4(eu){if(A6(eu,!1)&&eu.includes(":")){let ed=eu.split(":");if(3===ed.length){let eu=ed[0]+":"+ed[1];return!!ed[2]&&A5(eu)}}return!1}function A9(eu,ed){let eg=null;return A6(eu?.publicKey,!1)||(eg=AX("MISSING_OR_INVALID",`${ed} controller public key should be a string`)),eg}function A7(eu){let ed=!0;return A0(eu)?eu.length&&(ed=eu.every(eu=>A6(eu,!1))):ed=!1,ed}function Ss(eu,ed,eg){let em=null;return A0(ed)&&ed.length?ed.forEach(eu=>{em||A5(eu)||(em=AQ("UNSUPPORTED_CHAINS",`${eg}, chain ${eu} should be a string and conform to "namespace:chainId" format`))}):A5(eu)||(em=AQ("UNSUPPORTED_CHAINS",`${eg}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),em}function Su(eu,ed,eg){let em=null;return Object.entries(eu).forEach(([eu,eb])=>{if(em)return;let ew=Ss(eu,yM(eu,eb),`${ed} ${eg}`);ew&&(em=ew)}),em}function Sl(eu,ed){let eg=null;return A0(eu)?eu.forEach(eu=>{eg||A4(eu)||(eg=AQ("UNSUPPORTED_ACCOUNTS",`${ed}, account ${eu} should be a string and conform to "namespace:chainId:address" format`))}):eg=AQ("UNSUPPORTED_ACCOUNTS",`${ed}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),eg}function Sh(eu,ed){let eg=null;return Object.values(eu).forEach(eu=>{if(eg)return;let em=Sl(eu?.accounts,`${ed} namespace`);em&&(eg=em)}),eg}function Sd(eu,ed){let eg=null;return A7(eu?.methods)?A7(eu?.events)||(eg=AQ("UNSUPPORTED_EVENTS",`${ed}, events should be an array of strings or empty array for no events`)):eg=AQ("UNSUPPORTED_METHODS",`${ed}, methods should be an array of strings or empty array for no methods`),eg}function Sp(eu,ed){let eg=null;return Object.values(eu).forEach(eu=>{if(eg)return;let em=Sd(eu,`${ed}, namespace`);em&&(eg=em)}),eg}function Sg(eu,ed,eg){let em=null;if(eu&&A1(eu)){let eb=Sp(eu,ed);eb&&(em=eb);let ew=Su(eu,ed,eg);ew&&(em=ew)}else em=AX("MISSING_OR_INVALID",`${ed}, ${eg} should be an object with data`);return em}function Sy(eu,ed){let eg=null;if(eu&&A1(eu)){let em=Sp(eu,ed);em&&(eg=em);let eb=Sh(eu,ed);eb&&(eg=eb)}else eg=AX("MISSING_OR_INVALID",`${ed}, namespaces should be an object with data`);return eg}function Sm(eu){return A6(eu.protocol,!0)}function Sb(eu,ed){let eg=!1;return ed&&!eu?eg=!0:eu&&A0(eu)&&eu.length&&eu.forEach(eu=>{eg=Sm(eu)}),eg}function Sv(eu){return"number"==typeof eu}function Sw(eu){return"u">typeof eu}function S_(eu){return!(!eu||"object"!=typeof eu||!eu.code||!A3(eu.code,!1)||!eu.message||!A6(eu.message,!1))}function SE(eu){return!(A2(eu)||!A6(eu.method,!1))}function SA(eu){return!(A2(eu)||A2(eu.result)&&A2(eu.error)||!A3(eu.id,!1)||!A6(eu.jsonrpc,!1))}function SS(eu){return!(A2(eu)||!A6(eu.name,!1))}function SI(eu,ed){return!(!A5(ed)||!A$(eu).includes(ed))}function Sx(eu,ed,eg){return!!A6(eg,!1)&&AK(eu,ed).includes(eg)}function SC(eu,ed,eg){return!!A6(eg,!1)&&Aq(eu,ed).includes(eg)}function SM(eu,ed,eg){let em=null,eb=SO(eu),ew=SP(ed),e_=Object.keys(eb),eE=Object.keys(ew),eA=ST(Object.keys(eu)),eS=ST(Object.keys(ed)),eI=eA.filter(eu=>!eS.includes(eu));return eI.length&&(em=AX("NON_CONFORMING_NAMESPACES",`${eg} namespaces keys don't satisfy requiredNamespaces.
      Required: ${eI.toString()}
      Received: ${Object.keys(ed).toString()}`)),yV(e_,eE)||(em=AX("NON_CONFORMING_NAMESPACES",`${eg} namespaces chains don't satisfy required namespaces.
      Required: ${e_.toString()}
      Approved: ${eE.toString()}`)),Object.keys(ed).forEach(eu=>{if(!eu.includes(":")||em)return;let eb=AF(ed[eu].accounts);eb.includes(eu)||(em=AX("NON_CONFORMING_NAMESPACES",`${eg} namespaces accounts don't satisfy namespace accounts for ${eu}
        Required: ${eu}
        Approved: ${eb.toString()}`))}),e_.forEach(eu=>{em||(yV(eb[eu].methods,ew[eu].methods)?yV(eb[eu].events,ew[eu].events)||(em=AX("NON_CONFORMING_NAMESPACES",`${eg} namespaces events don't satisfy namespace events for ${eu}`)):em=AX("NON_CONFORMING_NAMESPACES",`${eg} namespaces methods don't satisfy namespace methods for ${eu}`))}),em}function SO(eu){let ed={};return Object.keys(eu).forEach(eg=>{var em;eg.includes(":")?ed[eg]=eu[eg]:null==(em=eu[eg].chains)||em.forEach(em=>{ed[em]={methods:eu[eg].methods,events:eu[eg].events}})}),ed}function ST(eu){return[...new Set(eu.map(eu=>eu.includes(":")?eu.split(":")[0]:eu))]}function SP(eu){let ed={};return Object.keys(eu).forEach(eg=>{if(eg.includes(":"))ed[eg]=eu[eg];else{let em=AF(eu[eg].accounts);em?.forEach(em=>{ed[em]={accounts:eu[eg].accounts.filter(eu=>eu.includes(`${em}:`)),methods:eu[eg].methods,events:eu[eg].events}})}}),ed}function SN(eu,ed){return A3(eu,!1)&&eu<=ed.max&&eu>=ed.min}let Sk={};class SR{static get(eu){return Sk[eu]}static set(eu,ed){Sk[eu]=ed}static delete(eu){delete Sk[eu]}}function SD(eu){let ed=yw.decode(eu);if(ed.length<33)throw Error("Too short to contain a public key");return ed.slice(1,33)}function SU({publicKey:eu,signature:ed,payload:eg}){var em;let eb=Sj(eg.method),ew=128|parseInt((null==(em=eg.version)?void 0:em.toString())||"4"),e_=S$(eg.address),eE="00"===eg.era?new Uint8Array([0]):Sj(eg.era);if(1!==eE.length&&2!==eE.length)throw Error("Invalid era length");let eA=parseInt(eg.nonce,16),eS=new Uint8Array([255&eA,eA>>8&255]),eI=BigInt(`0x${SF(eg.tip)}`),eC=Sq(eI),eM=new Uint8Array([0,...eu,e_,...ed,...eE,...eS,...eC,...eb]),eO=SK(eM.length+1);return new Uint8Array([...eO,ew,...eM])}function SL(eu){let ed=Sj(eu),eg=(0,e5.blake2b)(ed,void 0,32);return"0x"+yI.from(eg).toString("hex")}function Sj(eu){return new Uint8Array(eu.replace(/^0x/,"").match(/.{1,2}/g).map(eu=>parseInt(eu,16)))}function SF(eu){return eu.startsWith("0x")?eu.slice(2):eu}function S$(eu){let ed=yw.decode(eu)[0];return 42===ed?0:60===ed?2:1}function SK(eu){if(eu<64)return new Uint8Array([eu<<2]);if(eu<16384){let ed=eu<<2|1;return new Uint8Array([255&ed,ed>>8&255])}if(eu<1073741824){let ed=eu<<2|2;return new Uint8Array([255&ed,ed>>8&255,ed>>16&255,ed>>24&255])}throw Error("Compact encoding > 2^30 not supported")}function Sq(eu){if(eu<BigInt(1)<<BigInt(6))return new Uint8Array([Number(eu<<BigInt(2))]);if(eu<BigInt(1)<<BigInt(14)){let ed=eu<<BigInt(2)|BigInt(1);return new Uint8Array([Number(ed&BigInt(255)),Number(ed>>BigInt(8)&BigInt(255))])}if(eu<BigInt(1)<<BigInt(30)){let ed=eu<<BigInt(2)|BigInt(2);return new Uint8Array([Number(ed&BigInt(255)),Number(ed>>BigInt(8)&BigInt(255)),Number(ed>>BigInt(16)&BigInt(255)),Number(ed>>BigInt(24)&BigInt(255))])}throw Error("BigInt compact encoding not supported > 2^30")}function Sz(eu){let ed=Uint8Array.from(yI.from(eu.signature,"hex")),eg=SD(eu.transaction.address),em=SU({publicKey:eg,signature:ed,payload:eu.transaction}),eb=yI.from(em).toString("hex");return SL(eb)}let SH="wc",SV=2,SW="client",SJ=`${SH}@${SV}:${SW}:`,SZ={name:SW,logger:"error",controller:!1,relayUrl:"wss://relay.walletconnect.org"},SY="WALLETCONNECT_DEEPLINK_CHOICE",SX="proposal",SQ="Proposal expired",S0="session",S1=eJ.SEVEN_DAYS,S2="engine",S6={wc_sessionPropose:{req:{ttl:eJ.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:eJ.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:eJ.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:eJ.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:eJ.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:eJ.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:eJ.ONE_DAY,prompt:!1,tag:1104},res:{ttl:eJ.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:eJ.ONE_DAY,prompt:!1,tag:1106},res:{ttl:eJ.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:eJ.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:eJ.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:eJ.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:eJ.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:eJ.ONE_DAY,prompt:!1,tag:1112},res:{ttl:eJ.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:eJ.ONE_DAY,prompt:!1,tag:1114},res:{ttl:eJ.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:eJ.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:eJ.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:eJ.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:eJ.FIVE_MINUTES,prompt:!1,tag:1119}}},S3={min:eJ.FIVE_MINUTES,max:eJ.SEVEN_DAYS},S8={idle:"IDLE",active:"ACTIVE"},S5={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},S4="request",S9=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],S7="wc",Is="auth",Iu="authKeys",Il="pairingTopics",Ih="requests",Id=`${S7}@1.5:${Is}:`,Ip=`${Id}:PUB_KEY`;var Ig=Object.defineProperty,Iy=Object.defineProperties,Im=Object.getOwnPropertyDescriptors,Ib=Object.getOwnPropertySymbols,Iv=Object.prototype.hasOwnProperty,Iw=Object.prototype.propertyIsEnumerable,I_=(eu,ed,eg)=>ed in eu?Ig(eu,ed,{enumerable:!0,configurable:!0,writable:!0,value:eg}):eu[ed]=eg,IE=(eu,ed)=>{for(var eg in ed||(ed={}))Iv.call(ed,eg)&&I_(eu,eg,ed[eg]);if(Ib)for(var eg of Ib(ed))Iw.call(ed,eg)&&I_(eu,eg,ed[eg]);return eu},IA=(eu,ed)=>Iy(eu,Im(ed)),IS=(eu,ed,eg)=>I_(eu,"symbol"!=typeof ed?ed+"":ed,eg);class II extends eW{constructor(eu){super(eu),IS(this,"name",S2),IS(this,"events",new(eb())),IS(this,"initialized",!1),IS(this,"requestQueue",{state:S8.idle,queue:[]}),IS(this,"sessionRequestQueue",{state:S8.idle,queue:[]}),IS(this,"requestQueueDelay",eJ.ONE_SECOND),IS(this,"expectedPairingMethodMap",new Map),IS(this,"recentlyDeletedMap",new Map),IS(this,"recentlyDeletedLimit",200),IS(this,"relayMessageCache",[]),IS(this,"pendingSessions",new Map),IS(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(S6)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},(0,eJ.toMiliseconds)(this.requestQueueDelay)))}),IS(this,"connect",async eu=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();let ed=IA(IE({},eu),{requiredNamespaces:eu.requiredNamespaces||{},optionalNamespaces:eu.optionalNamespaces||{}});await this.isValidConnect(ed),ed.optionalNamespaces=AJ(ed.requiredNamespaces,ed.optionalNamespaces),ed.requiredNamespaces={};let{pairingTopic:eg,requiredNamespaces:em,optionalNamespaces:eb,sessionProperties:ew,scopedProperties:e_,relays:eE}=ed,eA=eg,eS,eI=!1;try{if(eA){let eu=this.client.core.pairing.pairings.get(eA);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),eI=eu.active}}catch(eu){throw this.client.logger.error(`connect() -> pairing.get(${eA}) failed`),eu}if(!eA||!eI){let{topic:eu,uri:ed}=await this.client.core.pairing.create();eA=eu,eS=ed}if(!eA){let{message:eu}=AX("NO_MATCHING_KEY",`connect() pairing topic: ${eA}`);throw Error(eu)}let eC=await this.client.core.crypto.generateKeyPair(),eM=S6.wc_sessionPropose.req.ttl||eJ.FIVE_MINUTES,eO=yJ(eM),eT=IA(IE(IE({requiredNamespaces:em,optionalNamespaces:eb,relays:eE??[{protocol:uA}],proposer:{publicKey:eC,metadata:this.client.metadata},expiryTimestamp:eO,pairingTopic:eA},ew&&{sessionProperties:ew}),e_&&{scopedProperties:e_}),{id:(0,c0.payloadId)()}),eP=yY("session_connect",eT.id),{reject:eN,resolve:ek,done:eR}=yG(eM,SQ),eD=({id:eu})=>{eu===eT.id&&(this.client.events.off("proposal_expire",eD),this.pendingSessions.delete(eT.id),this.events.emit(eP,{error:{message:SQ,code:0}}))};return this.client.events.on("proposal_expire",eD),this.events.once(eP,({error:eu,session:ed})=>{this.client.events.off("proposal_expire",eD),eu?eN(eu):ed&&ek(ed)}),await this.sendRequest({topic:eA,method:"wc_sessionPropose",params:eT,throwOnFailedPublish:!0,clientRpcId:eT.id}),await this.setProposal(eT.id,eT),{uri:eS,approval:eR}}),IS(this,"pair",async eu=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(eu)}catch(eu){throw this.client.logger.error("pair() failed"),eu}}),IS(this,"approve",async eu=>{var ed,eg,em;let eb=this.client.core.eventClient.createEvent({properties:{topic:null==(ed=eu?.id)?void 0:ed.toString(),trace:[lu.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(eu){throw eb.setError(ll.no_internet_connection),eu}try{await this.isValidProposalId(eu?.id)}catch(ed){throw this.client.logger.error(`approve() -> proposal.get(${eu?.id}) failed`),eb.setError(ll.proposal_not_found),ed}try{await this.isValidApprove(eu)}catch(eu){throw this.client.logger.error("approve() -> isValidApprove() failed"),eb.setError(ll.session_approve_namespace_validation_failure),eu}let{id:ew,relayProtocol:e_,namespaces:eE,sessionProperties:eA,scopedProperties:eS,sessionConfig:eI}=eu,eC=this.client.proposal.get(ew);this.client.core.eventClient.deleteEvent({eventId:eb.eventId});let{pairingTopic:eM,proposer:eO,requiredNamespaces:eT,optionalNamespaces:eP}=eC,eN=null==(eg=this.client.core.eventClient)?void 0:eg.getEvent({topic:eM});eN||(eN=null==(em=this.client.core.eventClient)?void 0:em.createEvent({type:lu.session_approve_started,properties:{topic:eM,trace:[lu.session_approve_started,lu.session_namespaces_validation_success]}}));let ek=await this.client.core.crypto.generateKeyPair(),eR=eO.publicKey,eD=await this.client.core.crypto.generateSharedKey(ek,eR),eB=IE(IE(IE({relay:{protocol:e_??"irn"},namespaces:eE,controller:{publicKey:ek,metadata:this.client.metadata},expiry:yJ(S1)},eA&&{sessionProperties:eA}),eS&&{scopedProperties:eS}),eI&&{sessionConfig:eI}),eU=uN.relay;eN.addTrace(lu.subscribing_session_topic);try{await this.client.core.relayer.subscribe(eD,{transportType:eU})}catch(eu){throw eN.setError(ll.subscribe_session_topic_failure),eu}eN.addTrace(lu.subscribe_session_topic_success);let eL=IA(IE({},eB),{topic:eD,requiredNamespaces:eT,optionalNamespaces:eP,pairingTopic:eM,acknowledged:!1,self:eB.controller,peer:{publicKey:eO.publicKey,metadata:eO.metadata},controller:ek,transportType:uN.relay});await this.client.session.set(eD,eL),eN.addTrace(lu.store_session);try{eN.addTrace(lu.publishing_session_settle),await this.sendRequest({topic:eD,method:"wc_sessionSettle",params:eB,throwOnFailedPublish:!0}).catch(eu=>{throw eN?.setError(ll.session_settle_publish_failure),eu}),eN.addTrace(lu.session_settle_publish_success),eN.addTrace(lu.publishing_session_approve),await this.sendResult({id:ew,topic:eM,result:{relay:{protocol:e_??"irn"},responderPublicKey:ek},throwOnFailedPublish:!0}).catch(eu=>{throw eN?.setError(ll.session_approve_publish_failure),eu}),eN.addTrace(lu.session_approve_publish_success)}catch(eu){throw this.client.logger.error(eu),this.client.session.delete(eD,AQ("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(eD),eu}return this.client.core.eventClient.deleteEvent({eventId:eN.eventId}),await this.client.core.pairing.updateMetadata({topic:eM,metadata:eO.metadata}),await this.deleteProposal(ew),await this.client.core.pairing.activate({topic:eM}),await this.setExpiry(eD,yJ(S1)),{topic:eD,acknowledged:()=>Promise.resolve(this.client.session.get(eD))}}),IS(this,"reject",async eu=>{let ed;this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(eu)}catch(eu){throw this.client.logger.error("reject() -> isValidReject() failed"),eu}let{id:eg,reason:em}=eu;try{ed=this.client.proposal.get(eg).pairingTopic}catch(eu){throw this.client.logger.error(`reject() -> proposal.get(${eg}) failed`),eu}ed&&await this.sendError({id:eg,topic:ed,error:em,rpcOpts:S6.wc_sessionPropose.reject}),await this.deleteProposal(eg)}),IS(this,"update",async eu=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(eu)}catch(eu){throw this.client.logger.error("update() -> isValidUpdate() failed"),eu}let{topic:ed,namespaces:eg}=eu,{done:em,resolve:eb,reject:ew}=yG(),e_=(0,c0.payloadId)(),eE=(0,c0.getBigIntRpcId)().toString(),eA=this.client.session.get(ed).namespaces;return this.events.once(yY("session_update",e_),({error:eu})=>{eu?ew(eu):eb()}),await this.client.session.update(ed,{namespaces:eg}),await this.sendRequest({topic:ed,method:"wc_sessionUpdate",params:{namespaces:eg},throwOnFailedPublish:!0,clientRpcId:e_,relayRpcId:eE}).catch(eu=>{this.client.logger.error(eu),this.client.session.update(ed,{namespaces:eA}),ew(eu)}),{acknowledged:em}}),IS(this,"extend",async eu=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(eu)}catch(eu){throw this.client.logger.error("extend() -> isValidExtend() failed"),eu}let{topic:ed}=eu,eg=(0,c0.payloadId)(),{done:em,resolve:eb,reject:ew}=yG();return this.events.once(yY("session_extend",eg),({error:eu})=>{eu?ew(eu):eb()}),await this.setExpiry(ed,yJ(S1)),this.sendRequest({topic:ed,method:"wc_sessionExtend",params:{},clientRpcId:eg,throwOnFailedPublish:!0}).catch(eu=>{ew(eu)}),{acknowledged:em}}),IS(this,"request",async eu=>{this.isInitialized();try{await this.isValidRequest(eu)}catch(eu){throw this.client.logger.error("request() -> isValidRequest() failed"),eu}let{chainId:ed,request:eg,topic:em,expiry:eb=S6.wc_sessionRequest.req.ttl}=eu,ew=this.client.session.get(em);ew?.transportType===uN.relay&&await this.confirmOnlineStateOrThrow();let e_=(0,c0.payloadId)(),eE=(0,c0.getBigIntRpcId)().toString(),{done:eA,resolve:eS,reject:eI}=yG(eb,"Request expired. Please try again.");this.events.once(yY("session_request",e_),({error:eu,result:ed})=>{eu?eI(eu):eS(ed)});let eC="wc_sessionRequest",eM=this.getAppLinkIfEnabled(ew.peer.metadata,ew.transportType);if(eM)return await this.sendRequest({clientRpcId:e_,relayRpcId:eE,topic:em,method:eC,params:{request:IA(IE({},eg),{expiryTimestamp:yJ(eb)}),chainId:ed},expiry:eb,throwOnFailedPublish:!0,appLink:eM}).catch(eu=>eI(eu)),this.client.events.emit("session_request_sent",{topic:em,request:eg,chainId:ed,id:e_}),await eA();let eO={request:IA(IE({},eg),{expiryTimestamp:yJ(eb)}),chainId:ed};return await Promise.all([new Promise(async eu=>{await this.sendRequest({clientRpcId:e_,relayRpcId:eE,topic:em,method:eC,params:eO,expiry:eb,throwOnFailedPublish:!0,tvf:this.getTVFParams(e_,eO)}).catch(eu=>eI(eu)),this.client.events.emit("session_request_sent",{topic:em,request:eg,chainId:ed,id:e_}),eu()}),new Promise(async eu=>{var ed;if(!(null!=(ed=ew.sessionConfig)&&ed.disableDeepLink)){let eu=await y8(this.client.core.storage,SY);await yQ({id:e_,topic:em,wcDeepLink:eu})}eu()}),eA()]).then(eu=>eu[2])}),IS(this,"respond",async eu=>{this.isInitialized(),await this.isValidRespond(eu);let{topic:ed,response:eg}=eu,{id:em}=eg,eb=this.client.session.get(ed);eb.transportType===uN.relay&&await this.confirmOnlineStateOrThrow();let ew=this.getAppLinkIfEnabled(eb.peer.metadata,eb.transportType);(0,c0.isJsonRpcResult)(eg)?await this.sendResult({id:em,topic:ed,result:eg.result,throwOnFailedPublish:!0,appLink:ew}):(0,c0.isJsonRpcError)(eg)&&await this.sendError({id:em,topic:ed,error:eg.error,appLink:ew}),this.cleanupAfterResponse(eu)}),IS(this,"ping",async eu=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(eu)}catch(eu){throw this.client.logger.error("ping() -> isValidPing() failed"),eu}let{topic:ed}=eu;if(this.client.session.keys.includes(ed)){let eu=(0,c0.payloadId)(),eg=(0,c0.getBigIntRpcId)().toString(),{done:em,resolve:eb,reject:ew}=yG();this.events.once(yY("session_ping",eu),({error:eu})=>{eu?ew(eu):eb()}),await Promise.all([this.sendRequest({topic:ed,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:eu,relayRpcId:eg}),em()])}else this.client.core.pairing.pairings.keys.includes(ed)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:ed}))}),IS(this,"emit",async eu=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(eu);let{topic:ed,event:eg,chainId:em}=eu,eb=(0,c0.getBigIntRpcId)().toString(),ew=(0,c0.payloadId)();await this.sendRequest({topic:ed,method:"wc_sessionEvent",params:{event:eg,chainId:em},throwOnFailedPublish:!0,relayRpcId:eb,clientRpcId:ew})}),IS(this,"disconnect",async eu=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(eu);let{topic:ed}=eu;if(this.client.session.keys.includes(ed))await this.sendRequest({topic:ed,method:"wc_sessionDelete",params:AQ("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:ed,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(ed))await this.client.core.pairing.disconnect({topic:ed});else{let{message:eu}=AX("MISMATCHED_TOPIC",`Session or pairing topic not found: ${ed}`);throw Error(eu)}}),IS(this,"find",eu=>(this.isInitialized(),this.client.session.getAll().filter(ed=>A8(ed,eu)))),IS(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),IS(this,"authenticate",async(eu,ed)=>{var eg;let em;this.isInitialized(),this.isValidAuthenticate(eu);let eb=ed&&this.client.core.linkModeSupportedApps.includes(ed)&&(null==(eg=this.client.metadata.redirect)?void 0:eg.linkMode),ew=eb?uN.link_mode:uN.relay;ew===uN.relay&&await this.confirmOnlineStateOrThrow();let{chains:e_,statement:eE="",uri:eA,domain:eS,nonce:eI,type:eC,exp:eM,nbf:eO,methods:eT=[],expiry:eP}=eu,eN=[...eu.resources||[]],{topic:ek,uri:eR}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:ew});this.client.logger.info({message:"Generated new pairing",pairing:{topic:ek,uri:eR}});let eD=await this.client.core.crypto.generateKeyPair(),eB=AM(eD);if(await Promise.all([this.client.auth.authKeys.set(Ip,{responseTopic:eB,publicKey:eD}),this.client.auth.pairingTopics.set(eB,{topic:eB,pairingTopic:ek})]),await this.client.core.relayer.subscribe(eB,{transportType:ew}),this.client.logger.info(`sending request to new pairing topic: ${ek}`),eT.length>0){let{namespace:eu}=yC(e_[0]),ed=v5(eu,"request",eT);wg(eN)&&(ed=v9(ed,eN.pop())),eN.push(ed)}let eU=eP&&eP>S6.wc_sessionAuthenticate.req.ttl?eP:S6.wc_sessionAuthenticate.req.ttl,eL={authPayload:{type:eC??"caip122",chains:e_,statement:eE,aud:eA,domain:eS,version:"1",nonce:eI,iat:new Date().toISOString(),exp:eM,nbf:eO,resources:eN},requester:{publicKey:eD,metadata:this.client.metadata},expiryTimestamp:yJ(eU)},ej={eip155:{chains:e_,methods:[...new Set(["personal_sign",...eT])],events:["chainChanged","accountsChanged"]}},eF={requiredNamespaces:{},optionalNamespaces:ej,relays:[{protocol:"irn"}],pairingTopic:ek,proposer:{publicKey:eD,metadata:this.client.metadata},expiryTimestamp:yJ(S6.wc_sessionPropose.req.ttl),id:(0,c0.payloadId)()},{done:e$,resolve:eK,reject:eH}=yG(eU,"Request expired"),eV=(0,c0.payloadId)(),eG=yY("session_connect",eF.id),eW=yY("session_request",eV),eJ=async({error:eu,session:ed})=>{this.events.off(eW,eZ),eu?eH(eu):ed&&eK({session:ed})},eZ=async eu=>{var eg,em,eb;let e_;if(await this.deletePendingAuthRequest(eV,{message:"fulfilled",code:0}),eu.error){let ed=AQ("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return eu.error.code===ed.code?void 0:(this.events.off(eG,eJ),eH(eu.error.message))}await this.deleteProposal(eF.id),this.events.off(eG,eJ);let{cacaos:eE,responder:eA}=eu.result,eS=[],eI=[];for(let eu of eE){await vW({cacao:eu,projectId:this.client.core.projectId})||(this.client.logger.error(eu,"Signature verification failed"),eH(AQ("SESSION_SETTLEMENT_FAILED","Signature verification failed")));let{p:ed}=eu,eg=wg(ed.resources),em=[vV(ed.iss)],eb=vG(ed.iss);if(eg){let eu=wf(eg),ed=wp(eg);eS.push(...eu),em.push(...ed)}for(let eu of em)eI.push(`${eu}:${eb}`)}let eC=await this.client.core.crypto.generateSharedKey(eD,eA.publicKey);eS.length>0&&(e_={topic:eC,acknowledged:!0,self:{publicKey:eD,metadata:this.client.metadata},peer:eA,controller:eA.publicKey,expiry:yJ(S1),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:ek,namespaces:AW([...new Set(eS)],[...new Set(eI)]),transportType:ew},await this.client.core.relayer.subscribe(eC,{transportType:ew}),await this.client.session.set(eC,e_),ek&&await this.client.core.pairing.updateMetadata({topic:ek,metadata:eA.metadata}),e_=this.client.session.get(eC)),null!=(eg=this.client.metadata.redirect)&&eg.linkMode&&null!=(em=eA.metadata.redirect)&&em.linkMode&&null!=(eb=eA.metadata.redirect)&&eb.universal&&ed&&(this.client.core.addLinkModeSupportedApp(eA.metadata.redirect.universal),this.client.session.update(eC,{transportType:uN.link_mode})),eK({auths:eE,session:e_})};this.events.once(eG,eJ),this.events.once(eW,eZ);try{if(eb){let eu=(0,c0.formatJsonRpcRequest)("wc_sessionAuthenticate",eL,eV);this.client.core.history.set(ek,eu);let eg=await this.client.core.crypto.encode("",eu,{type:AC,encoding:AS});em=AT(ed,ek,eg)}else await Promise.all([this.sendRequest({topic:ek,method:"wc_sessionAuthenticate",params:eL,expiry:eu.expiry,throwOnFailedPublish:!0,clientRpcId:eV}),this.sendRequest({topic:ek,method:"wc_sessionPropose",params:eF,expiry:S6.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:eF.id})])}catch(eu){throw this.events.off(eG,eJ),this.events.off(eW,eZ),eu}return await this.setProposal(eF.id,eF),await this.setAuthRequest(eV,{request:IA(IE({},eL),{verifyContext:{}}),pairingTopic:ek,transportType:ew}),{uri:em??eR,response:e$}}),IS(this,"approveSessionAuthenticate",async eu=>{let ed;let{id:eg,auths:em}=eu,eb=this.client.core.eventClient.createEvent({properties:{topic:eg.toString(),trace:[lh.authenticated_session_approve_started]}});try{this.isInitialized()}catch(eu){throw eb.setError(ld.no_internet_connection),eu}let ew=this.getPendingAuthRequest(eg);if(!ew)throw eb.setError(ld.authenticated_session_pending_request_not_found),Error(`Could not find pending auth request with id ${eg}`);let e_=ew.transportType||uN.relay;e_===uN.relay&&await this.confirmOnlineStateOrThrow();let eE=ew.requester.publicKey,eA=await this.client.core.crypto.generateKeyPair(),eS=AM(eE),eI={type:Ax,receiverPublicKey:eE,senderPublicKey:eA},eC=[],eM=[];for(let eu of em){if(!await vW({cacao:eu,projectId:this.client.core.projectId})){eb.setError(ld.invalid_cacao);let eu=AQ("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:eg,topic:eS,error:eu,encodeOpts:eI}),Error(eu.message)}eb.addTrace(lh.cacaos_verified);let{p:ed}=eu,em=wg(ed.resources),ew=[vV(ed.iss)],e_=vG(ed.iss);if(em){let eu=wf(em),ed=wp(em);eC.push(...eu),ew.push(...ed)}for(let eu of ew)eM.push(`${eu}:${e_}`)}let eO=await this.client.core.crypto.generateSharedKey(eA,eE);if(eb.addTrace(lh.create_authenticated_session_topic),eC?.length>0){ed={topic:eO,acknowledged:!0,self:{publicKey:eA,metadata:this.client.metadata},peer:{publicKey:eE,metadata:ew.requester.metadata},controller:eE,expiry:yJ(S1),authentication:em,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:ew.pairingTopic,namespaces:AW([...new Set(eC)],[...new Set(eM)]),transportType:e_},eb.addTrace(lh.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(eO,{transportType:e_})}catch(eu){throw eb.setError(ld.subscribe_authenticated_session_topic_failure),eu}eb.addTrace(lh.subscribe_authenticated_session_topic_success),await this.client.session.set(eO,ed),eb.addTrace(lh.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:ew.pairingTopic,metadata:ew.requester.metadata})}eb.addTrace(lh.publishing_authenticated_session_approve);try{await this.sendResult({topic:eS,id:eg,result:{cacaos:em,responder:{publicKey:eA,metadata:this.client.metadata}},encodeOpts:eI,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(ew.requester.metadata,e_)})}catch(eu){throw eb.setError(ld.authenticated_session_approve_publish_failure),eu}return await this.client.auth.requests.delete(eg,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:ew.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:eb.eventId}),{session:ed}}),IS(this,"rejectSessionAuthenticate",async eu=>{this.isInitialized();let{id:ed,reason:eg}=eu,em=this.getPendingAuthRequest(ed);if(!em)throw Error(`Could not find pending auth request with id ${ed}`);em.transportType===uN.relay&&await this.confirmOnlineStateOrThrow();let eb=em.requester.publicKey,ew=await this.client.core.crypto.generateKeyPair(),e_=AM(eb),eE={type:Ax,receiverPublicKey:eb,senderPublicKey:ew};await this.sendError({id:ed,topic:e_,error:eg,encodeOpts:eE,rpcOpts:S6.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(em.requester.metadata,em.transportType)}),await this.client.auth.requests.delete(ed,{message:"rejected",code:0}),await this.deleteProposal(ed)}),IS(this,"formatAuthMessage",eu=>{this.isInitialized();let{request:ed,iss:eg}=eu;return vJ(ed,eg)}),IS(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(0!==this.relayMessageCache.length)for(;this.relayMessageCache.length>0;)try{let eu=this.relayMessageCache.shift();eu&&await this.onRelayMessage(eu)}catch(eu){this.client.logger.error(eu)}},50)}),IS(this,"cleanupDuplicatePairings",async eu=>{if(eu.pairingTopic)try{let ed=this.client.core.pairing.pairings.get(eu.pairingTopic),eg=this.client.core.pairing.pairings.getAll().filter(eg=>{var em,eb;return(null==(em=eg.peerMetadata)?void 0:em.url)&&(null==(eb=eg.peerMetadata)?void 0:eb.url)===eu.peer.metadata.url&&eg.topic&&eg.topic!==ed.topic});if(0===eg.length)return;this.client.logger.info(`Cleaning up ${eg.length} duplicate pairing(s)`),await Promise.all(eg.map(eu=>this.client.core.pairing.disconnect({topic:eu.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(eu){this.client.logger.error(eu)}}),IS(this,"deleteSession",async eu=>{var ed;let{topic:eg,expirerHasDeleted:em=!1,emitEvent:eb=!0,id:ew=0}=eu,{self:e_}=this.client.session.get(eg);await this.client.core.relayer.unsubscribe(eg),await this.client.session.delete(eg,AQ("USER_DISCONNECTED")),this.addToRecentlyDeleted(eg,"session"),this.client.core.crypto.keychain.has(e_.publicKey)&&await this.client.core.crypto.deleteKeyPair(e_.publicKey),this.client.core.crypto.keychain.has(eg)&&await this.client.core.crypto.deleteSymKey(eg),em||this.client.core.expirer.del(eg),this.client.core.storage.removeItem(SY).catch(eu=>this.client.logger.warn(eu)),this.getPendingSessionRequests().forEach(eu=>{eu.topic===eg&&this.deletePendingSessionRequest(eu.id,AQ("USER_DISCONNECTED"))}),eg===(null==(ed=this.sessionRequestQueue.queue[0])?void 0:ed.topic)&&(this.sessionRequestQueue.state=S8.idle),eb&&this.client.events.emit("session_delete",{id:ew,topic:eg})}),IS(this,"deleteProposal",async(eu,ed)=>{if(ed)try{let ed=this.client.proposal.get(eu),eg=this.client.core.eventClient.getEvent({topic:ed.pairingTopic});eg?.setError(ll.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(eu,AQ("USER_DISCONNECTED")),ed?Promise.resolve():this.client.core.expirer.del(eu)]),this.addToRecentlyDeleted(eu,"proposal")}),IS(this,"deletePendingSessionRequest",async(eu,ed,eg=!1)=>{await Promise.all([this.client.pendingRequest.delete(eu,ed),eg?Promise.resolve():this.client.core.expirer.del(eu)]),this.addToRecentlyDeleted(eu,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(ed=>ed.id!==eu),eg&&(this.sessionRequestQueue.state=S8.idle,this.client.events.emit("session_request_expire",{id:eu}))}),IS(this,"deletePendingAuthRequest",async(eu,ed,eg=!1)=>{await Promise.all([this.client.auth.requests.delete(eu,ed),eg?Promise.resolve():this.client.core.expirer.del(eu)])}),IS(this,"setExpiry",async(eu,ed)=>{this.client.session.keys.includes(eu)&&(this.client.core.expirer.set(eu,ed),await this.client.session.update(eu,{expiry:ed}))}),IS(this,"setProposal",async(eu,ed)=>{this.client.core.expirer.set(eu,yJ(S6.wc_sessionPropose.req.ttl)),await this.client.proposal.set(eu,ed)}),IS(this,"setAuthRequest",async(eu,ed)=>{let{request:eg,pairingTopic:em,transportType:eb=uN.relay}=ed;this.client.core.expirer.set(eu,eg.expiryTimestamp),await this.client.auth.requests.set(eu,{authPayload:eg.authPayload,requester:eg.requester,expiryTimestamp:eg.expiryTimestamp,id:eu,pairingTopic:em,verifyContext:eg.verifyContext,transportType:eb})}),IS(this,"setPendingSessionRequest",async eu=>{let{id:ed,topic:eg,params:em,verifyContext:eb}=eu,ew=em.request.expiryTimestamp||yJ(S6.wc_sessionRequest.req.ttl);this.client.core.expirer.set(ed,ew),await this.client.pendingRequest.set(ed,{id:ed,topic:eg,params:em,verifyContext:eb})}),IS(this,"sendRequest",async eu=>{let ed,em;let{topic:eb,method:ew,params:e_,expiry:eE,relayRpcId:eA,clientRpcId:eS,throwOnFailedPublish:eI,appLink:eC,tvf:eM}=eu,eO=(0,c0.formatJsonRpcRequest)(ew,e_,eS),eT=!!eC;try{let eu=eT?AS:AE;ed=await this.client.core.crypto.encode(eb,eO,{encoding:eu})}catch(eu){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${eb} failed`),eu}if(S9.includes(ew)){let eu=AO(JSON.stringify(eO)),eg=AO(ed);em=await this.client.core.verify.register({id:eg,decryptedId:eu})}let eP=S6[ew].req;if(eP.attestation=em,eE&&(eP.ttl=eE),eA&&(eP.id=eA),this.client.core.history.set(eb,eO),eT){let eu=AT(eC,eb,ed);await eg.g.Linking.openURL(eu,this.client.name)}else{let eu=S6[ew].req;eE&&(eu.ttl=eE),eA&&(eu.id=eA),eu.tvf=IA(IE({},eM),{correlationId:eO.id}),eI?(eu.internal=IA(IE({},eu.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(eb,ed,eu)):this.client.core.relayer.publish(eb,ed,eu).catch(eu=>this.client.logger.error(eu))}return eO.id}),IS(this,"sendResult",async eu=>{let ed,em,eb;let{id:ew,topic:e_,result:eE,throwOnFailedPublish:eA,encodeOpts:eS,appLink:eI}=eu,eC=(0,c0.formatJsonRpcResult)(ew,eE),eM=eI&&"u">typeof(null==eg.g?void 0:eg.g.Linking);try{let eu=eM?AS:AE;ed=await this.client.core.crypto.encode(e_,eC,IA(IE({},eS||{}),{encoding:eu}))}catch(eu){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${e_} failed`),eu}try{em=await this.client.core.history.get(e_,ew);let eu=em.request;try{eb=this.getTVFParams(ew,eu.params,eE)}catch(eu){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${eu?.message}`)}}catch(eu){throw this.client.logger.error(`sendResult() -> history.get(${e_}, ${ew}) failed`),eu}if(eM){let eu=AT(eI,e_,ed);await eg.g.Linking.openURL(eu,this.client.name)}else{let eu=em.request.method,eg=S6[eu].res;eg.tvf=IA(IE({},eb),{correlationId:ew}),eA?(eg.internal=IA(IE({},eg.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(e_,ed,eg)):this.client.core.relayer.publish(e_,ed,eg).catch(eu=>this.client.logger.error(eu))}await this.client.core.history.resolve(eC)}),IS(this,"sendError",async eu=>{let ed,em;let{id:eb,topic:ew,error:e_,encodeOpts:eE,rpcOpts:eA,appLink:eS}=eu,eI=(0,c0.formatJsonRpcError)(eb,e_),eC=eS&&"u">typeof(null==eg.g?void 0:eg.g.Linking);try{let eu=eC?AS:AE;ed=await this.client.core.crypto.encode(ew,eI,IA(IE({},eE||{}),{encoding:eu}))}catch(eu){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${ew} failed`),eu}try{em=await this.client.core.history.get(ew,eb)}catch(eu){throw this.client.logger.error(`sendError() -> history.get(${ew}, ${eb}) failed`),eu}if(eC){let eu=AT(eS,ew,ed);await eg.g.Linking.openURL(eu,this.client.name)}else{let eu=em.request.method,eg=eA||S6[eu].res;this.client.core.relayer.publish(ew,ed,eg)}await this.client.core.history.resolve(eI)}),IS(this,"cleanup",async()=>{let eu=[],ed=[];this.client.session.getAll().forEach(ed=>{let eg=!1;yZ(ed.expiry)&&(eg=!0),this.client.core.crypto.keychain.has(ed.topic)||(eg=!0),eg&&eu.push(ed.topic)}),this.client.proposal.getAll().forEach(eu=>{yZ(eu.expiryTimestamp)&&ed.push(eu.id)}),await Promise.all([...eu.map(eu=>this.deleteSession({topic:eu})),...ed.map(eu=>this.deleteProposal(eu))])}),IS(this,"onProviderMessageEvent",async eu=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(eu):await this.onRelayMessage(eu)}),IS(this,"onRelayEventRequest",async eu=>{this.requestQueue.queue.push(eu),await this.processRequestsQueue()}),IS(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===S8.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=S8.active;let eu=this.requestQueue.queue.shift();if(eu)try{await this.processRequest(eu)}catch(eu){this.client.logger.warn(eu)}}this.requestQueue.state=S8.idle}),IS(this,"processRequest",async eu=>{let{topic:ed,payload:eg,attestation:em,transportType:eb,encryptedId:ew}=eu,e_=eg.method;if(!this.shouldIgnorePairingRequest({topic:ed,requestMethod:e_}))switch(e_){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:ed,payload:eg,attestation:em,encryptedId:ew});case"wc_sessionSettle":return await this.onSessionSettleRequest(ed,eg);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(ed,eg);case"wc_sessionExtend":return await this.onSessionExtendRequest(ed,eg);case"wc_sessionPing":return await this.onSessionPingRequest(ed,eg);case"wc_sessionDelete":return await this.onSessionDeleteRequest(ed,eg);case"wc_sessionRequest":return await this.onSessionRequest({topic:ed,payload:eg,attestation:em,encryptedId:ew,transportType:eb});case"wc_sessionEvent":return await this.onSessionEventRequest(ed,eg);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:ed,payload:eg,attestation:em,encryptedId:ew,transportType:eb});default:return this.client.logger.info(`Unsupported request method ${e_}`)}}),IS(this,"onRelayEventResponse",async eu=>{let{topic:ed,payload:eg,transportType:em}=eu,eb=(await this.client.core.history.get(ed,eg.id)).request.method;switch(eb){case"wc_sessionPropose":return this.onSessionProposeResponse(ed,eg,em);case"wc_sessionSettle":return this.onSessionSettleResponse(ed,eg);case"wc_sessionUpdate":return this.onSessionUpdateResponse(ed,eg);case"wc_sessionExtend":return this.onSessionExtendResponse(ed,eg);case"wc_sessionPing":return this.onSessionPingResponse(ed,eg);case"wc_sessionRequest":return this.onSessionRequestResponse(ed,eg);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(ed,eg);default:return this.client.logger.info(`Unsupported response method ${eb}`)}}),IS(this,"onRelayEventUnknownPayload",eu=>{let{topic:ed}=eu,{message:eg}=AX("MISSING_OR_INVALID",`Decoded payload on topic ${ed} is not identifiable as a JSON-RPC request or a response.`);throw Error(eg)}),IS(this,"shouldIgnorePairingRequest",eu=>{let{topic:ed,requestMethod:eg}=eu,em=this.expectedPairingMethodMap.get(ed);return!(!em||em.includes(eg))&&!!(em.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),IS(this,"onSessionProposeRequest",async eu=>{let{topic:ed,payload:eg,attestation:em,encryptedId:eb}=eu,{params:ew,id:e_}=eg;try{let eu=this.client.core.eventClient.getEvent({topic:ed});0===this.client.events.listenerCount("session_proposal")&&(console.warn("No listener for session_proposal event"),eu?.setError(u7.proposal_listener_not_found)),this.isValidConnect(IE({},eg.params));let eE=ew.expiryTimestamp||yJ(S6.wc_sessionPropose.req.ttl),eA=IE({id:e_,pairingTopic:ed,expiryTimestamp:eE,attestation:em,encryptedId:eb},ew);await this.setProposal(e_,eA);let eS=await this.getVerifyContext({attestationId:em,hash:AO(JSON.stringify(eg)),encryptedId:eb,metadata:eA.proposer.metadata});eu?.addTrace(u9.emit_session_proposal),this.client.events.emit("session_proposal",{id:e_,params:eA,verifyContext:eS})}catch(eu){await this.sendError({id:e_,topic:ed,error:eu,rpcOpts:S6.wc_sessionPropose.autoReject}),this.client.logger.error(eu)}}),IS(this,"onSessionProposeResponse",async(eu,ed,eg)=>{let{id:em}=ed;if((0,c0.isJsonRpcResult)(ed)){let{result:eb}=ed;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:eb});let ew=this.client.proposal.get(em);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:ew});let e_=ew.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:e_});let eE=eb.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:eE});let eA=await this.client.core.crypto.generateSharedKey(e_,eE);this.pendingSessions.set(em,{sessionTopic:eA,pairingTopic:eu,proposalId:em,publicKey:e_});let eS=await this.client.core.relayer.subscribe(eA,{transportType:eg});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:eS}),await this.client.core.pairing.activate({topic:eu})}else if((0,c0.isJsonRpcError)(ed)){await this.deleteProposal(em);let eu=yY("session_connect",em);if(0===this.events.listenerCount(eu))throw Error(`emitting ${eu} without any listeners, 954`);this.events.emit(eu,{error:ed.error})}}),IS(this,"onSessionSettleRequest",async(eu,ed)=>{let{id:eg,params:em}=ed;try{this.isValidSessionSettleRequest(em);let{relay:eg,controller:eb,expiry:ew,namespaces:e_,sessionProperties:eE,scopedProperties:eA,sessionConfig:eS}=ed.params,eI=[...this.pendingSessions.values()].find(ed=>ed.sessionTopic===eu);if(!eI)return this.client.logger.error(`Pending session not found for topic ${eu}`);let eC=this.client.proposal.get(eI.proposalId),eM=IA(IE(IE(IE({topic:eu,relay:eg,expiry:ew,namespaces:e_,acknowledged:!0,pairingTopic:eI.pairingTopic,requiredNamespaces:eC.requiredNamespaces,optionalNamespaces:eC.optionalNamespaces,controller:eb.publicKey,self:{publicKey:eI.publicKey,metadata:this.client.metadata},peer:{publicKey:eb.publicKey,metadata:eb.metadata}},eE&&{sessionProperties:eE}),eA&&{scopedProperties:eA}),eS&&{sessionConfig:eS}),{transportType:uN.relay});await this.client.session.set(eM.topic,eM),await this.setExpiry(eM.topic,eM.expiry),await this.client.core.pairing.updateMetadata({topic:eI.pairingTopic,metadata:eM.peer.metadata}),this.client.events.emit("session_connect",{session:eM}),this.events.emit(yY("session_connect",eI.proposalId),{session:eM}),this.pendingSessions.delete(eI.proposalId),this.deleteProposal(eI.proposalId,!1),this.cleanupDuplicatePairings(eM),await this.sendResult({id:ed.id,topic:eu,result:!0})}catch(ed){await this.sendError({id:eg,topic:eu,error:ed}),this.client.logger.error(ed)}}),IS(this,"onSessionSettleResponse",async(eu,ed)=>{let{id:eg}=ed;(0,c0.isJsonRpcResult)(ed)?(await this.client.session.update(eu,{acknowledged:!0}),this.events.emit(yY("session_approve",eg),{})):(0,c0.isJsonRpcError)(ed)&&(await this.client.session.delete(eu,AQ("USER_DISCONNECTED")),this.events.emit(yY("session_approve",eg),{error:ed.error}))}),IS(this,"onSessionUpdateRequest",async(eu,ed)=>{let{params:eg,id:em}=ed;try{let ed=`${eu}_session_update`,eb=SR.get(ed);if(eb&&this.isRequestOutOfSync(eb,em)){this.client.logger.warn(`Discarding out of sync request - ${em}`),this.sendError({id:em,topic:eu,error:AQ("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(IE({topic:eu},eg));try{SR.set(ed,em),await this.client.session.update(eu,{namespaces:eg.namespaces}),await this.sendResult({id:em,topic:eu,result:!0})}catch(eu){throw SR.delete(ed),eu}this.client.events.emit("session_update",{id:em,topic:eu,params:eg})}catch(ed){await this.sendError({id:em,topic:eu,error:ed}),this.client.logger.error(ed)}}),IS(this,"isRequestOutOfSync",(eu,ed)=>ed.toString().slice(0,-3)<eu.toString().slice(0,-3)),IS(this,"onSessionUpdateResponse",(eu,ed)=>{let{id:eg}=ed,em=yY("session_update",eg);if(0===this.events.listenerCount(em))throw Error(`emitting ${em} without any listeners`);(0,c0.isJsonRpcResult)(ed)?this.events.emit(yY("session_update",eg),{}):(0,c0.isJsonRpcError)(ed)&&this.events.emit(yY("session_update",eg),{error:ed.error})}),IS(this,"onSessionExtendRequest",async(eu,ed)=>{let{id:eg}=ed;try{this.isValidExtend({topic:eu}),await this.setExpiry(eu,yJ(S1)),await this.sendResult({id:eg,topic:eu,result:!0}),this.client.events.emit("session_extend",{id:eg,topic:eu})}catch(ed){await this.sendError({id:eg,topic:eu,error:ed}),this.client.logger.error(ed)}}),IS(this,"onSessionExtendResponse",(eu,ed)=>{let{id:eg}=ed,em=yY("session_extend",eg);if(0===this.events.listenerCount(em))throw Error(`emitting ${em} without any listeners`);(0,c0.isJsonRpcResult)(ed)?this.events.emit(yY("session_extend",eg),{}):(0,c0.isJsonRpcError)(ed)&&this.events.emit(yY("session_extend",eg),{error:ed.error})}),IS(this,"onSessionPingRequest",async(eu,ed)=>{let{id:eg}=ed;try{this.isValidPing({topic:eu}),await this.sendResult({id:eg,topic:eu,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:eg,topic:eu})}catch(ed){await this.sendError({id:eg,topic:eu,error:ed}),this.client.logger.error(ed)}}),IS(this,"onSessionPingResponse",(eu,ed)=>{let{id:eg}=ed,em=yY("session_ping",eg);setTimeout(()=>{if(0===this.events.listenerCount(em))throw Error(`emitting ${em} without any listeners 2176`);(0,c0.isJsonRpcResult)(ed)?this.events.emit(yY("session_ping",eg),{}):(0,c0.isJsonRpcError)(ed)&&this.events.emit(yY("session_ping",eg),{error:ed.error})},500)}),IS(this,"onSessionDeleteRequest",async(eu,ed)=>{let{id:eg}=ed;try{this.isValidDisconnect({topic:eu,reason:ed.params}),Promise.all([new Promise(ed=>{this.client.core.relayer.once(uC.publish,async()=>{ed(await this.deleteSession({topic:eu,id:eg}))})}),this.sendResult({id:eg,topic:eu,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:eu,error:AQ("USER_DISCONNECTED")})]).catch(eu=>this.client.logger.error(eu))}catch(eu){this.client.logger.error(eu)}}),IS(this,"onSessionRequest",async eu=>{var ed,eg,em;let{topic:eb,payload:ew,attestation:e_,encryptedId:eE,transportType:eA}=eu,{id:eS,params:eI}=ew;try{await this.isValidRequest(IE({topic:eb},eI));let eu=this.client.session.get(eb),ew=await this.getVerifyContext({attestationId:e_,hash:AO(JSON.stringify((0,c0.formatJsonRpcRequest)("wc_sessionRequest",eI,eS))),encryptedId:eE,metadata:eu.peer.metadata,transportType:eA}),eC={id:eS,topic:eb,params:eI,verifyContext:ew};await this.setPendingSessionRequest(eC),eA===uN.link_mode&&null!=(ed=eu.peer.metadata.redirect)&&ed.universal&&this.client.core.addLinkModeSupportedApp(null==(eg=eu.peer.metadata.redirect)?void 0:eg.universal),null!=(em=this.client.signConfig)&&em.disableRequestQueue?this.emitSessionRequest(eC):(this.addSessionRequestToSessionRequestQueue(eC),this.processSessionRequestQueue())}catch(eu){await this.sendError({id:eS,topic:eb,error:eu}),this.client.logger.error(eu)}}),IS(this,"onSessionRequestResponse",(eu,ed)=>{let{id:eg}=ed,em=yY("session_request",eg);if(0===this.events.listenerCount(em))throw Error(`emitting ${em} without any listeners`);(0,c0.isJsonRpcResult)(ed)?this.events.emit(yY("session_request",eg),{result:ed.result}):(0,c0.isJsonRpcError)(ed)&&this.events.emit(yY("session_request",eg),{error:ed.error})}),IS(this,"onSessionEventRequest",async(eu,ed)=>{let{id:eg,params:em}=ed;try{let ed=`${eu}_session_event_${em.event.name}`,eb=SR.get(ed);if(eb&&this.isRequestOutOfSync(eb,eg)){this.client.logger.info(`Discarding out of sync request - ${eg}`);return}this.isValidEmit(IE({topic:eu},em)),this.client.events.emit("session_event",{id:eg,topic:eu,params:em}),SR.set(ed,eg)}catch(ed){await this.sendError({id:eg,topic:eu,error:ed}),this.client.logger.error(ed)}}),IS(this,"onSessionAuthenticateResponse",(eu,ed)=>{let{id:eg}=ed;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:eu,payload:ed}),(0,c0.isJsonRpcResult)(ed)?this.events.emit(yY("session_request",eg),{result:ed.result}):(0,c0.isJsonRpcError)(ed)&&this.events.emit(yY("session_request",eg),{error:ed.error})}),IS(this,"onSessionAuthenticateRequest",async eu=>{var ed;let{topic:eg,payload:em,attestation:eb,encryptedId:ew,transportType:e_}=eu;try{let{requester:eu,authPayload:eE,expiryTimestamp:eA}=em.params,eS=await this.getVerifyContext({attestationId:eb,hash:AO(JSON.stringify(em)),encryptedId:ew,metadata:eu.metadata,transportType:e_}),eI={requester:eu,pairingTopic:eg,id:em.id,authPayload:eE,verifyContext:eS,expiryTimestamp:eA};await this.setAuthRequest(em.id,{request:eI,pairingTopic:eg,transportType:e_}),e_===uN.link_mode&&null!=(ed=eu.metadata.redirect)&&ed.universal&&this.client.core.addLinkModeSupportedApp(eu.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:eg,params:em.params,id:em.id,verifyContext:eS})}catch(eE){this.client.logger.error(eE);let eu=em.params.requester.publicKey,ed=await this.client.core.crypto.generateKeyPair(),eb=this.getAppLinkIfEnabled(em.params.requester.metadata,e_),ew={type:Ax,receiverPublicKey:eu,senderPublicKey:ed};await this.sendError({id:em.id,topic:eg,error:eE,encodeOpts:ew,rpcOpts:S6.wc_sessionAuthenticate.autoReject,appLink:eb})}}),IS(this,"addSessionRequestToSessionRequestQueue",eu=>{this.sessionRequestQueue.queue.push(eu)}),IS(this,"cleanupAfterResponse",eu=>{this.deletePendingSessionRequest(eu.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=S8.idle,this.processSessionRequestQueue()},(0,eJ.toMiliseconds)(this.requestQueueDelay))}),IS(this,"cleanupPendingSentRequestsForTopic",({topic:eu,error:ed})=>{let eg=this.client.core.history.pending;eg.length>0&&eg.filter(ed=>ed.topic===eu&&"wc_sessionRequest"===ed.request.method).forEach(eu=>{let eg=eu.request.id,em=yY("session_request",eg);if(0===this.events.listenerCount(em))throw Error(`emitting ${em} without any listeners`);this.events.emit(yY("session_request",eu.request.id),{error:ed})})}),IS(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===S8.active){this.client.logger.info("session request queue is already active.");return}let eu=this.sessionRequestQueue.queue[0];if(!eu){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=S8.active,this.emitSessionRequest(eu)}catch(eu){this.client.logger.error(eu)}}),IS(this,"emitSessionRequest",eu=>{this.client.events.emit("session_request",eu)}),IS(this,"onPairingCreated",eu=>{if(eu.methods&&this.expectedPairingMethodMap.set(eu.topic,eu.methods),eu.active)return;let ed=this.client.proposal.getAll().find(ed=>ed.pairingTopic===eu.topic);ed&&this.onSessionProposeRequest({topic:eu.topic,payload:(0,c0.formatJsonRpcRequest)("wc_sessionPropose",IA(IE({},ed),{requiredNamespaces:ed.requiredNamespaces,optionalNamespaces:ed.optionalNamespaces,relays:ed.relays,proposer:ed.proposer,sessionProperties:ed.sessionProperties,scopedProperties:ed.scopedProperties}),ed.id),attestation:ed.attestation,encryptedId:ed.encryptedId})}),IS(this,"isValidConnect",async eu=>{if(!Sw(eu)){let{message:ed}=AX("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(eu)}`);throw Error(ed)}let{pairingTopic:ed,requiredNamespaces:eg,optionalNamespaces:em,sessionProperties:eb,scopedProperties:ew,relays:e_}=eu;if(A2(ed)||await this.isValidPairingTopic(ed),!Sb(e_,!0)){let{message:eu}=AX("MISSING_OR_INVALID",`connect() relays: ${e_}`);throw Error(eu)}if(!A2(eg)&&0!==A1(eg)){let eu="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(eu):this.client.logger.warn(eu),this.validateNamespaces(eg,"requiredNamespaces")}if(A2(em)||0===A1(em)||this.validateNamespaces(em,"optionalNamespaces"),A2(eb)||this.validateSessionProps(eb,"sessionProperties"),!A2(ew)){this.validateSessionProps(ew,"scopedProperties");let eu=Object.keys(eg||{}).concat(Object.keys(em||{}));if(!Object.keys(ew).every(ed=>eu.includes(ed)))throw Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(ew)}, required/optional namespaces: ${JSON.stringify(eu)}`)}}),IS(this,"validateNamespaces",(eu,ed)=>{let eg=Sg(eu,"connect()",ed);if(eg)throw Error(eg.message)}),IS(this,"isValidApprove",async eu=>{if(!Sw(eu))throw Error(AX("MISSING_OR_INVALID",`approve() params: ${eu}`).message);let{id:ed,namespaces:eg,relayProtocol:em,sessionProperties:eb,scopedProperties:ew}=eu;this.checkRecentlyDeleted(ed),await this.isValidProposalId(ed);let e_=this.client.proposal.get(ed),eE=Sy(eg,"approve()");if(eE)throw Error(eE.message);let eA=SM(e_.requiredNamespaces,eg,"approve()");if(eA)throw Error(eA.message);if(!A6(em,!0)){let{message:eu}=AX("MISSING_OR_INVALID",`approve() relayProtocol: ${em}`);throw Error(eu)}if(A2(eb)||this.validateSessionProps(eb,"sessionProperties"),!A2(ew)){this.validateSessionProps(ew,"scopedProperties");let eu=new Set(Object.keys(eg));if(!Object.keys(ew).every(ed=>eu.has(ed)))throw Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(ew)}, approved namespaces: ${Array.from(eu).join(", ")}`)}}),IS(this,"isValidReject",async eu=>{if(!Sw(eu)){let{message:ed}=AX("MISSING_OR_INVALID",`reject() params: ${eu}`);throw Error(ed)}let{id:ed,reason:eg}=eu;if(this.checkRecentlyDeleted(ed),await this.isValidProposalId(ed),!S_(eg)){let{message:eu}=AX("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(eg)}`);throw Error(eu)}}),IS(this,"isValidSessionSettleRequest",eu=>{if(!Sw(eu)){let{message:ed}=AX("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${eu}`);throw Error(ed)}let{relay:ed,controller:eg,namespaces:em,expiry:eb}=eu;if(!Sm(ed)){let{message:eu}=AX("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw Error(eu)}let ew=A9(eg,"onSessionSettleRequest()");if(ew)throw Error(ew.message);let e_=Sy(em,"onSessionSettleRequest()");if(e_)throw Error(e_.message);if(yZ(eb)){let{message:eu}=AX("EXPIRED","onSessionSettleRequest()");throw Error(eu)}}),IS(this,"isValidUpdate",async eu=>{if(!Sw(eu)){let{message:ed}=AX("MISSING_OR_INVALID",`update() params: ${eu}`);throw Error(ed)}let{topic:ed,namespaces:eg}=eu;this.checkRecentlyDeleted(ed),await this.isValidSessionTopic(ed);let em=this.client.session.get(ed),eb=Sy(eg,"update()");if(eb)throw Error(eb.message);let ew=SM(em.requiredNamespaces,eg,"update()");if(ew)throw Error(ew.message)}),IS(this,"isValidExtend",async eu=>{if(!Sw(eu)){let{message:ed}=AX("MISSING_OR_INVALID",`extend() params: ${eu}`);throw Error(ed)}let{topic:ed}=eu;this.checkRecentlyDeleted(ed),await this.isValidSessionTopic(ed)}),IS(this,"isValidRequest",async eu=>{if(!Sw(eu)){let{message:ed}=AX("MISSING_OR_INVALID",`request() params: ${eu}`);throw Error(ed)}let{topic:ed,request:eg,chainId:em,expiry:eb}=eu;this.checkRecentlyDeleted(ed),await this.isValidSessionTopic(ed);let{namespaces:ew}=this.client.session.get(ed);if(!SI(ew,em)){let{message:eu}=AX("MISSING_OR_INVALID",`request() chainId: ${em}`);throw Error(eu)}if(!SE(eg)){let{message:eu}=AX("MISSING_OR_INVALID",`request() ${JSON.stringify(eg)}`);throw Error(eu)}if(!Sx(ew,em,eg.method)){let{message:eu}=AX("MISSING_OR_INVALID",`request() method: ${eg.method}`);throw Error(eu)}if(eb&&!SN(eb,S3)){let{message:eu}=AX("MISSING_OR_INVALID",`request() expiry: ${eb}. Expiry must be a number (in seconds) between ${S3.min} and ${S3.max}`);throw Error(eu)}}),IS(this,"isValidRespond",async eu=>{var ed;if(!Sw(eu)){let{message:ed}=AX("MISSING_OR_INVALID",`respond() params: ${eu}`);throw Error(ed)}let{topic:eg,response:em}=eu;try{await this.isValidSessionTopic(eg)}catch(eg){throw null!=(ed=eu?.response)&&ed.id&&this.cleanupAfterResponse(eu),eg}if(!SA(em)){let{message:eu}=AX("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(em)}`);throw Error(eu)}}),IS(this,"isValidPing",async eu=>{if(!Sw(eu)){let{message:ed}=AX("MISSING_OR_INVALID",`ping() params: ${eu}`);throw Error(ed)}let{topic:ed}=eu;await this.isValidSessionOrPairingTopic(ed)}),IS(this,"isValidEmit",async eu=>{if(!Sw(eu)){let{message:ed}=AX("MISSING_OR_INVALID",`emit() params: ${eu}`);throw Error(ed)}let{topic:ed,event:eg,chainId:em}=eu;await this.isValidSessionTopic(ed);let{namespaces:eb}=this.client.session.get(ed);if(!SI(eb,em)){let{message:eu}=AX("MISSING_OR_INVALID",`emit() chainId: ${em}`);throw Error(eu)}if(!SS(eg)){let{message:eu}=AX("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(eg)}`);throw Error(eu)}if(!SC(eb,em,eg.name)){let{message:eu}=AX("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(eg)}`);throw Error(eu)}}),IS(this,"isValidDisconnect",async eu=>{if(!Sw(eu)){let{message:ed}=AX("MISSING_OR_INVALID",`disconnect() params: ${eu}`);throw Error(ed)}let{topic:ed}=eu;await this.isValidSessionOrPairingTopic(ed)}),IS(this,"isValidAuthenticate",eu=>{let{chains:ed,uri:eg,domain:em,nonce:eb}=eu;if(!Array.isArray(ed)||0===ed.length)throw Error("chains is required and must be a non-empty array");if(!A6(eg,!1))throw Error("uri is required parameter");if(!A6(em,!1))throw Error("domain is required parameter");if(!A6(eb,!1))throw Error("nonce is required parameter");if([...new Set(ed.map(eu=>yC(eu).namespace))].length>1)throw Error("Multi-namespace requests are not supported. Please request single namespace only.");let{namespace:ew}=yC(ed[0]);if("eip155"!==ew)throw Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),IS(this,"getVerifyContext",async eu=>{let{attestationId:ed,hash:eg,encryptedId:em,metadata:eb,transportType:ew}=eu,e_={verified:{verifyUrl:eb.verifyUrl||uQ,validation:"UNKNOWN",origin:eb.url||""}};try{if(ew===uN.link_mode){let eu=this.getAppLinkIfEnabled(eb,ew);return e_.verified.validation=eu&&new URL(eu).origin===new URL(eb.url).origin?"VALID":"INVALID",e_}let eu=await this.client.core.verify.resolve({attestationId:ed,hash:eg,encryptedId:em,verifyUrl:eb.verifyUrl});eu&&(e_.verified.origin=eu.origin,e_.verified.isScam=eu.isScam,e_.verified.validation=eu.origin===new URL(eb.url).origin?"VALID":"INVALID")}catch(eu){this.client.logger.warn(eu)}return this.client.logger.debug(`Verify context: ${JSON.stringify(e_)}`),e_}),IS(this,"validateSessionProps",(eu,ed)=>{Object.values(eu).forEach((eg,em)=>{if(null==eg){let{message:eb}=AX("MISSING_OR_INVALID",`${ed} must contain an existing value for each key. Received: ${eg} for key ${Object.keys(eu)[em]}`);throw Error(eb)}})}),IS(this,"getPendingAuthRequest",eu=>{let ed=this.client.auth.requests.get(eu);return"object"==typeof ed?ed:void 0}),IS(this,"addToRecentlyDeleted",(eu,ed)=>{if(this.recentlyDeletedMap.set(eu,ed),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let eu=0,ed=this.recentlyDeletedLimit/2;for(let eg of this.recentlyDeletedMap.keys()){if(eu++>=ed)break;this.recentlyDeletedMap.delete(eg)}}}),IS(this,"checkRecentlyDeleted",eu=>{let ed=this.recentlyDeletedMap.get(eu);if(ed){let{message:eg}=AX("MISSING_OR_INVALID",`Record was recently deleted - ${ed}: ${eu}`);throw Error(eg)}}),IS(this,"isLinkModeEnabled",(eu,ed)=>{var em,eb,ew,e_,eE,eA,eS,eI,eC;return!!eu&&ed===uN.link_mode&&(null==(eb=null==(em=this.client.metadata)?void 0:em.redirect)?void 0:eb.linkMode)===!0&&(null==(e_=null==(ew=this.client.metadata)?void 0:ew.redirect)?void 0:e_.universal)!==void 0&&(null==(eA=null==(eE=this.client.metadata)?void 0:eE.redirect)?void 0:eA.universal)!==""&&(null==(eS=eu?.redirect)?void 0:eS.universal)!==void 0&&(null==(eI=eu?.redirect)?void 0:eI.universal)!==""&&(null==(eC=eu?.redirect)?void 0:eC.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(eu.redirect.universal)&&"u">typeof(null==eg.g?void 0:eg.g.Linking)}),IS(this,"getAppLinkIfEnabled",(eu,ed)=>{var eg;return this.isLinkModeEnabled(eu,ed)?null==(eg=eu?.redirect)?void 0:eg.universal:void 0}),IS(this,"handleLinkModeMessage",({url:eu})=>{if(!eu||!eu.includes("wc_ev")||!eu.includes("topic"))return;let ed=y5(eu,"topic")||"",eg=decodeURIComponent(y5(eu,"wc_ev")||""),em=this.client.session.keys.includes(ed);em&&this.client.session.update(ed,{transportType:uN.link_mode}),this.client.core.dispatchEnvelope({topic:ed,message:eg,sessionExists:em})}),IS(this,"registerLinkModeListeners",async()=>{var eu;if(y4()||y$()&&null!=(eu=this.client.metadata.redirect)&&eu.linkMode){let eu=null==eg.g?void 0:eg.g.Linking;if("u">typeof eu){eu.addEventListener("url",this.handleLinkModeMessage,this.client.name);let ed=await eu.getInitialURL();ed&&setTimeout(()=>{this.handleLinkModeMessage({url:ed})},50)}}}),IS(this,"getTVFParams",(eu,ed,eg)=>{var em,eb,ew;if(!(null!=(em=ed.request)&&em.method))return{};let e_={correlationId:eu,rpcMethods:[ed.request.method],chainId:ed.chainId};try{let eu=this.extractTxHashesFromResult(ed.request,eg);e_.txHashes=eu,e_.contractAddresses=this.isValidContractData(ed.request.params)?[null==(ew=null==(eb=ed.request.params)?void 0:eb[0])?void 0:ew.to]:[]}catch(eu){this.client.logger.warn("Error getting TVF params",eu)}return e_}),IS(this,"isValidContractData",eu=>{var ed;if(!eu)return!1;try{let eg=eu?.data||(null==(ed=eu?.[0])?void 0:ed.data);if(!eg.startsWith("0x"))return!1;let em=eg.slice(2);return!!/^[0-9a-fA-F]*$/.test(em)&&em.length%2==0}catch{}return!1}),IS(this,"extractTxHashesFromResult",(eu,ed)=>{var eg;try{if(!ed)return[];let em=eu.method,eb=S5[em];if("sui_signTransaction"===em)return[vM(ed.transactionBytes)];if("near_signTransaction"===em)return[vO(ed)];if("near_signTransactions"===em)return ed.map(eu=>vO(eu));if("xrpl_signTransactionFor"===em||"xrpl_signTransaction"===em)return[null==(eg=ed.tx_json)?void 0:eg.hash];if("polkadot_signTransaction"===em)return[Sz({transaction:eu.params.transactionPayload,signature:ed.signature})];if("algo_signTxn"===em)return A0(ed)?ed.map(eu=>vP(eu)):[vP(ed)];if("cosmos_signDirect"===em)return[vk(ed)];if("string"==typeof ed)return[ed];let ew=ed[eb.key];if(A0(ew))return"solana_signAllTransactions"===em?ew.map(eu=>vC(eu)):ew;if("string"==typeof ew)return[ew]}catch(eu){this.client.logger.warn("Error extracting tx hashes from result",eu)}return[]})}async processPendingMessageEvents(){try{let eu=this.client.session.keys,ed=this.client.core.relayer.messages.getWithoutAck(eu);for(let[eu,eg]of Object.entries(ed))for(let ed of eg)try{await this.onProviderMessageEvent({topic:eu,message:ed,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${eu}, message: ${ed}`)}}catch(eu){this.client.logger.warn("processPendingMessageEvents failed",eu)}}isInitialized(){if(!this.initialized){let{message:eu}=AX("NOT_INITIALIZED",this.name);throw Error(eu)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(uC.message,eu=>{this.onProviderMessageEvent(eu)})}async onRelayMessage(eu){let{topic:ed,message:eg,attestation:em,transportType:eb}=eu,{publicKey:ew}=this.client.auth.authKeys.keys.includes(Ip)?this.client.auth.authKeys.get(Ip):{responseTopic:void 0,publicKey:void 0};try{let eu=await this.client.core.crypto.decode(ed,eg,{receiverPublicKey:ew,encoding:eb===uN.link_mode?AS:AE});(0,c0.isJsonRpcRequest)(eu)?(this.client.core.history.set(ed,eu),await this.onRelayEventRequest({topic:ed,payload:eu,attestation:em,transportType:eb,encryptedId:AO(eg)})):(0,c0.isJsonRpcResponse)(eu)?(await this.client.core.history.resolve(eu),await this.onRelayEventResponse({topic:ed,payload:eu,transportType:eb}),this.client.core.history.delete(ed,eu.id)):await this.onRelayEventUnknownPayload({topic:ed,payload:eu,transportType:eb}),await this.client.core.relayer.messages.ack(ed,eg)}catch(eu){this.client.logger.error(eu)}}registerExpirerEvents(){this.client.core.expirer.on(uW.expired,async eu=>{let{topic:ed,id:eg}=yW(eu.target);return eg&&this.client.pendingRequest.keys.includes(eg)?await this.deletePendingSessionRequest(eg,AX("EXPIRED"),!0):eg&&this.client.auth.requests.keys.includes(eg)?await this.deletePendingAuthRequest(eg,AX("EXPIRED"),!0):void(ed?this.client.session.keys.includes(ed)&&(await this.deleteSession({topic:ed,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:ed})):eg&&(await this.deleteProposal(eg,!0),this.client.events.emit("proposal_expire",{id:eg})))})}registerPairingEvents(){this.client.core.pairing.events.on(uq.create,eu=>this.onPairingCreated(eu)),this.client.core.pairing.events.on(uq.delete,eu=>{this.addToRecentlyDeleted(eu.topic,"pairing")})}isValidPairingTopic(eu){if(!A6(eu,!1)){let{message:ed}=AX("MISSING_OR_INVALID",`pairing topic should be a string: ${eu}`);throw Error(ed)}if(!this.client.core.pairing.pairings.keys.includes(eu)){let{message:ed}=AX("NO_MATCHING_KEY",`pairing topic doesn't exist: ${eu}`);throw Error(ed)}if(yZ(this.client.core.pairing.pairings.get(eu).expiry)){let{message:ed}=AX("EXPIRED",`pairing topic: ${eu}`);throw Error(ed)}}async isValidSessionTopic(eu){if(!A6(eu,!1)){let{message:ed}=AX("MISSING_OR_INVALID",`session topic should be a string: ${eu}`);throw Error(ed)}if(this.checkRecentlyDeleted(eu),!this.client.session.keys.includes(eu)){let{message:ed}=AX("NO_MATCHING_KEY",`session topic doesn't exist: ${eu}`);throw Error(ed)}if(yZ(this.client.session.get(eu).expiry)){await this.deleteSession({topic:eu});let{message:ed}=AX("EXPIRED",`session topic: ${eu}`);throw Error(ed)}if(!this.client.core.crypto.keychain.has(eu)){let{message:ed}=AX("MISSING_OR_INVALID",`session topic does not exist in keychain: ${eu}`);throw await this.deleteSession({topic:eu}),Error(ed)}}async isValidSessionOrPairingTopic(eu){if(this.checkRecentlyDeleted(eu),this.client.session.keys.includes(eu))await this.isValidSessionTopic(eu);else if(this.client.core.pairing.pairings.keys.includes(eu))this.isValidPairingTopic(eu);else if(A6(eu,!1)){let{message:ed}=AX("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${eu}`);throw Error(ed)}else{let{message:ed}=AX("MISSING_OR_INVALID",`session or pairing topic should be a string: ${eu}`);throw Error(ed)}}async isValidProposalId(eu){if(!Sv(eu)){let{message:ed}=AX("MISSING_OR_INVALID",`proposal id should be a number: ${eu}`);throw Error(ed)}if(!this.client.proposal.keys.includes(eu)){let{message:ed}=AX("NO_MATCHING_KEY",`proposal id doesn't exist: ${eu}`);throw Error(ed)}if(yZ(this.client.proposal.get(eu).expiryTimestamp)){await this.deleteProposal(eu);let{message:ed}=AX("EXPIRED",`proposal id: ${eu}`);throw Error(ed)}}}class Ix extends pp{constructor(eu,ed){super(eu,ed,SX,SJ),this.core=eu,this.logger=ed}}class IC extends pp{constructor(eu,ed){super(eu,ed,S0,SJ),this.core=eu,this.logger=ed}}class IM extends pp{constructor(eu,ed){super(eu,ed,S4,SJ,eu=>eu.id),this.core=eu,this.logger=ed}}class IO extends pp{constructor(eu,ed){super(eu,ed,Iu,Id,()=>Ip),this.core=eu,this.logger=ed}}class IT extends pp{constructor(eu,ed){super(eu,ed,Il,Id),this.core=eu,this.logger=ed}}class IP extends pp{constructor(eu,ed){super(eu,ed,Ih,Id,eu=>eu.id),this.core=eu,this.logger=ed}}var IN=Object.defineProperty,Ik=(eu,ed,eg)=>ed in eu?IN(eu,ed,{enumerable:!0,configurable:!0,writable:!0,value:eg}):eu[ed]=eg,IR=(eu,ed,eg)=>Ik(eu,"symbol"!=typeof ed?ed+"":ed,eg);class ID{constructor(eu,ed){this.core=eu,this.logger=ed,IR(this,"authKeys"),IR(this,"pairingTopics"),IR(this,"requests"),this.authKeys=new IO(this.core,this.logger),this.pairingTopics=new IT(this.core,this.logger),this.requests=new IP(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var IB=Object.defineProperty,IU=(eu,ed,eg)=>ed in eu?IB(eu,ed,{enumerable:!0,configurable:!0,writable:!0,value:eg}):eu[ed]=eg,IL=(eu,ed,eg)=>IU(eu,"symbol"!=typeof ed?ed+"":ed,eg);class Ij extends eG{constructor(eu){super(eu),IL(this,"protocol",SH),IL(this,"version",SV),IL(this,"name",SZ.name),IL(this,"metadata"),IL(this,"core"),IL(this,"logger"),IL(this,"events",new em.EventEmitter),IL(this,"engine"),IL(this,"session"),IL(this,"proposal"),IL(this,"pendingRequest"),IL(this,"auth"),IL(this,"signConfig"),IL(this,"on",(eu,ed)=>this.events.on(eu,ed)),IL(this,"once",(eu,ed)=>this.events.once(eu,ed)),IL(this,"off",(eu,ed)=>this.events.off(eu,ed)),IL(this,"removeListener",(eu,ed)=>this.events.removeListener(eu,ed)),IL(this,"removeAllListeners",eu=>this.events.removeAllListeners(eu)),IL(this,"connect",async eu=>{try{return await this.engine.connect(eu)}catch(eu){throw this.logger.error(eu.message),eu}}),IL(this,"pair",async eu=>{try{return await this.engine.pair(eu)}catch(eu){throw this.logger.error(eu.message),eu}}),IL(this,"approve",async eu=>{try{return await this.engine.approve(eu)}catch(eu){throw this.logger.error(eu.message),eu}}),IL(this,"reject",async eu=>{try{return await this.engine.reject(eu)}catch(eu){throw this.logger.error(eu.message),eu}}),IL(this,"update",async eu=>{try{return await this.engine.update(eu)}catch(eu){throw this.logger.error(eu.message),eu}}),IL(this,"extend",async eu=>{try{return await this.engine.extend(eu)}catch(eu){throw this.logger.error(eu.message),eu}}),IL(this,"request",async eu=>{try{return await this.engine.request(eu)}catch(eu){throw this.logger.error(eu.message),eu}}),IL(this,"respond",async eu=>{try{return await this.engine.respond(eu)}catch(eu){throw this.logger.error(eu.message),eu}}),IL(this,"ping",async eu=>{try{return await this.engine.ping(eu)}catch(eu){throw this.logger.error(eu.message),eu}}),IL(this,"emit",async eu=>{try{return await this.engine.emit(eu)}catch(eu){throw this.logger.error(eu.message),eu}}),IL(this,"disconnect",async eu=>{try{return await this.engine.disconnect(eu)}catch(eu){throw this.logger.error(eu.message),eu}}),IL(this,"find",eu=>{try{return this.engine.find(eu)}catch(eu){throw this.logger.error(eu.message),eu}}),IL(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(eu){throw this.logger.error(eu.message),eu}}),IL(this,"authenticate",async(eu,ed)=>{try{return await this.engine.authenticate(eu,ed)}catch(eu){throw this.logger.error(eu.message),eu}}),IL(this,"formatAuthMessage",eu=>{try{return this.engine.formatAuthMessage(eu)}catch(eu){throw this.logger.error(eu.message),eu}}),IL(this,"approveSessionAuthenticate",async eu=>{try{return await this.engine.approveSessionAuthenticate(eu)}catch(eu){throw this.logger.error(eu.message),eu}}),IL(this,"rejectSessionAuthenticate",async eu=>{try{return await this.engine.rejectSessionAuthenticate(eu)}catch(eu){throw this.logger.error(eu.message),eu}}),this.name=eu?.name||SZ.name,this.metadata=yz(eu?.metadata),this.signConfig=eu?.signConfig;let ed="u">typeof eu?.logger&&"string"!=typeof eu?.logger?eu.logger:(0,eE.gw)((0,eE.jI)({level:eu?.logger||SZ.logger}));this.core=eu?.core||new pQ(eu),this.logger=(0,eE.Ep)(ed,this.name),this.session=new IC(this.core,this.logger),this.proposal=new Ix(this.core,this.logger),this.pendingRequest=new IM(this.core,this.logger),this.engine=new II(this),this.auth=new ID(this.core,this.logger)}static async init(eu){let ed=new Ij(eu);return await ed.initialize(),ed}get context(){return(0,eE.Fd)(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success"),setTimeout(()=>{this.engine.processRelayMessageCache()},(0,eJ.toMiliseconds)(eJ.ONE_SECOND))}catch(eu){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(eu.message),eu}}}var IF=eg(66282),I$=eg(48834).Buffer;let IK="error",Iq="wss://relay.walletconnect.org",Iz="wc",IH="universal_provider",IG=`${Iz}@2:${IH}:`,IW="https://rpc.walletconnect.org/v1/",IJ="generic",IZ=`${IW}bundler`,IY={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};function IX(eu){return null==eu||"object"!=typeof eu&&"function"!=typeof eu}function IQ(eu){return Object.getOwnPropertySymbols(eu).filter(ed=>Object.prototype.propertyIsEnumerable.call(eu,ed))}function I0(eu){return null==eu?void 0===eu?"[object Undefined]":"[object Null]":Object.prototype.toString.call(eu)}let I1="[object RegExp]",I2="[object String]",I6="[object Number]",I3="[object Boolean]",I8="[object Arguments]",I5="[object Symbol]",I4="[object Date]",I9="[object Map]",I7="[object Set]",xu="[object Array]",xf="[object ArrayBuffer]",xg="[object Object]",xy="[object DataView]",xb="[object Uint8Array]",xv="[object Uint8ClampedArray]",xw="[object Uint16Array]",x_="[object Uint32Array]",xE="[object Int8Array]",xA="[object Int16Array]",xS="[object Int32Array]",xI="[object Float32Array]",xC="[object Float64Array]";function xO(eu){return ArrayBuffer.isView(eu)&&!(eu instanceof DataView)}function xT(eu,ed){return xP(eu,void 0,eu,new Map,ed)}function xP(eu,ed,eg,em=new Map,eb){let ew=eb?.(eu,ed,eg,em);if(null!=ew)return ew;if(IX(eu))return eu;if(em.has(eu))return em.get(eu);if(Array.isArray(eu)){let ed=Array(eu.length);em.set(eu,ed);for(let ew=0;ew<eu.length;ew++)ed[ew]=xP(eu[ew],ew,eg,em,eb);return Object.hasOwn(eu,"index")&&(ed.index=eu.index),Object.hasOwn(eu,"input")&&(ed.input=eu.input),ed}if(eu instanceof Date)return new Date(eu.getTime());if(eu instanceof RegExp){let ed=new RegExp(eu.source,eu.flags);return ed.lastIndex=eu.lastIndex,ed}if(eu instanceof Map){let ed=new Map;for(let[ew,e_]of(em.set(eu,ed),eu))ed.set(ew,xP(e_,ew,eg,em,eb));return ed}if(eu instanceof Set){let ed=new Set;for(let ew of(em.set(eu,ed),eu))ed.add(xP(ew,void 0,eg,em,eb));return ed}if("u">typeof I$&&I$.isBuffer(eu))return eu.subarray();if(xO(eu)){let ed=new(Object.getPrototypeOf(eu)).constructor(eu.length);em.set(eu,ed);for(let ew=0;ew<eu.length;ew++)ed[ew]=xP(eu[ew],ew,eg,em,eb);return ed}if(eu instanceof ArrayBuffer||"u">typeof SharedArrayBuffer&&eu instanceof SharedArrayBuffer)return eu.slice(0);if(eu instanceof DataView){let ed=new DataView(eu.buffer.slice(0),eu.byteOffset,eu.byteLength);return em.set(eu,ed),xN(ed,eu,eg,em,eb),ed}if("u">typeof File&&eu instanceof File){let ed=new File([eu],eu.name,{type:eu.type});return em.set(eu,ed),xN(ed,eu,eg,em,eb),ed}if(eu instanceof Blob){let ed=new Blob([eu],{type:eu.type});return em.set(eu,ed),xN(ed,eu,eg,em,eb),ed}if(eu instanceof Error){let ed=new eu.constructor;return em.set(eu,ed),ed.message=eu.message,ed.name=eu.name,ed.stack=eu.stack,ed.cause=eu.cause,xN(ed,eu,eg,em,eb),ed}if("object"==typeof eu&&xk(eu)){let ed=Object.create(Object.getPrototypeOf(eu));return em.set(eu,ed),xN(ed,eu,eg,em,eb),ed}return eu}function xN(eu,ed,eg=eu,em,eb){let ew=[...Object.keys(ed),...IQ(ed)];for(let e_=0;e_<ew.length;e_++){let eE=ew[e_],eA=Object.getOwnPropertyDescriptor(eu,eE);(null==eA||eA.writable)&&(eu[eE]=xP(ed[eE],eE,eg,em,eb))}}function xk(eu){switch(I0(eu)){case I8:case xu:case xf:case xy:case I3:case I4:case xI:case xC:case xE:case xA:case xS:case I9:case I6:case xg:case I1:case I7:case I2:case I5:case xb:case xv:case xw:case x_:return!0;default:return!1}}function xR(eu,ed){return xT(eu,(eg,em,eb,ew)=>{let e_=ed?.(eg,em,eb,ew);if(null!=e_)return e_;if("object"==typeof eu)switch(Object.prototype.toString.call(eu)){case I6:case I2:case I3:{let ed=new eu.constructor(eu?.valueOf());return xN(ed,eu),ed}case I8:{let ed={};return xN(ed,eu),ed.length=eu.length,ed[Symbol.iterator]=eu[Symbol.iterator],ed}default:return}})}function xD(eu){return xR(eu)}function xB(eu){return null!==eu&&"object"==typeof eu&&"[object Arguments]"===I0(eu)}function xU(eu){return"object"==typeof eu&&null!==eu}function xL(){}function xj(eu){return xO(eu)}function xF(eu){if("object"!=typeof eu||null==eu)return!1;if(null===Object.getPrototypeOf(eu))return!0;if("[object Object]"!==Object.prototype.toString.call(eu)){let ed=eu[Symbol.toStringTag];return!!(null!=ed&&Object.getOwnPropertyDescriptor(eu,Symbol.toStringTag)?.writable)&&eu.toString()===`[object ${ed}]`}let ed=eu;for(;null!==Object.getPrototypeOf(ed);)ed=Object.getPrototypeOf(ed);return Object.getPrototypeOf(eu)===ed}function x$(eu){if(IX(eu))return eu;if(Array.isArray(eu)||xO(eu)||eu instanceof ArrayBuffer||"u">typeof SharedArrayBuffer&&eu instanceof SharedArrayBuffer)return eu.slice(0);let ed=Object.getPrototypeOf(eu),eg=ed.constructor;if(eu instanceof Date||eu instanceof Map||eu instanceof Set)return new eg(eu);if(eu instanceof RegExp){let ed=new eg(eu);return ed.lastIndex=eu.lastIndex,ed}if(eu instanceof DataView)return new eg(eu.buffer.slice(0));if(eu instanceof Error){let ed=new eg(eu.message);return ed.stack=eu.stack,ed.name=eu.name,ed.cause=eu.cause,ed}if("u">typeof File&&eu instanceof File)return new eg([eu],eu.name,{type:eu.type,lastModified:eu.lastModified});if("object"==typeof eu){let eg=Object.create(ed);return Object.assign(eg,eu)}return eu}function xK(eu,...ed){let eg=ed.slice(0,-1),em=ed[ed.length-1],eb=eu;for(let eu=0;eu<eg.length;eu++){let ed=eg[eu];eb=xq(eb,ed,em,new Map)}return eb}function xq(eu,ed,eg,em){if(IX(eu)&&(eu=Object(eu)),null==ed||"object"!=typeof ed)return eu;if(em.has(ed))return x$(em.get(ed));if(em.set(ed,eu),Array.isArray(ed)){ed=ed.slice();for(let eu=0;eu<ed.length;eu++)ed[eu]=ed[eu]??void 0}let eb=[...Object.keys(ed),...IQ(ed)];for(let ew=0;ew<eb.length;ew++){let e_=eb[ew],eE=ed[e_],eA=eu[e_];if(xB(eE)&&(eE={...eE}),xB(eA)&&(eA={...eA}),"u">typeof I$&&I$.isBuffer(eE)&&(eE=xD(eE)),Array.isArray(eE)){if("object"==typeof eA&&null!=eA){let eu=[],ed=Reflect.ownKeys(eA);for(let eg=0;eg<ed.length;eg++){let em=ed[eg];eu[em]=eA[em]}eA=eu}else eA=[]}let eS=eg(eA,eE,e_,eu,ed,em);null!=eS?eu[e_]=eS:Array.isArray(eE)||xU(eA)&&xU(eE)?eu[e_]=xq(eA,eE,eg,em):null==eA&&xF(eE)?eu[e_]=xq({},eE,eg,em):null==eA&&xj(eE)?eu[e_]=xD(eE):(void 0===eA||void 0!==eE)&&(eu[e_]=eE)}return eu}function xz(eu,...ed){return xK(eu,...ed,xL)}var xH=Object.defineProperty,xV=Object.defineProperties,xG=Object.getOwnPropertyDescriptors,xW=Object.getOwnPropertySymbols,xJ=Object.prototype.hasOwnProperty,xZ=Object.prototype.propertyIsEnumerable,xY=(eu,ed,eg)=>ed in eu?xH(eu,ed,{enumerable:!0,configurable:!0,writable:!0,value:eg}):eu[ed]=eg,xX=(eu,ed)=>{for(var eg in ed||(ed={}))xJ.call(ed,eg)&&xY(eu,eg,ed[eg]);if(xW)for(var eg of xW(ed))xZ.call(ed,eg)&&xY(eu,eg,ed[eg]);return eu},xQ=(eu,ed)=>xV(eu,xG(ed));function x6(eu,ed,eg){var em;let eb=yC(eu);return(null==(em=ed.rpcMap)?void 0:em[eb.reference])||`${IW}?chainId=${eb.namespace}:${eb.reference}&projectId=${eg}`}function x5(eu){return eu.includes(":")?eu.split(":")[1]:eu}function x9(eu){return eu.map(eu=>`${eu.split(":")[0]}:${eu.split(":")[1]}`)}function x7(eu,ed){let eg=Object.keys(ed.namespaces).filter(ed=>ed.includes(eu));if(!eg.length)return[];let em=[];return eg.forEach(eu=>{let eg=ed.namespaces[eu].accounts;em.push(...eg)}),em}function Cu(eu={},ed={}){let eg=Cd(eu),em=Cd(ed);return xz(eg,em)}function Cd(eu){var ed,eg,em,eb,ew;let e_={};if(!A1(eu))return e_;for(let[eE,eA]of Object.entries(eu)){let eu=Az(eE)?[eE]:eA.chains,eS=eA.methods||[],eI=eA.events||[],eC=eA.rpcMap||{},eM=AH(eE);e_[eM]=xQ(xX(xX({},e_[eM]),eA),{chains:yX(eu,null==(ed=e_[eM])?void 0:ed.chains),methods:yX(eS,null==(eg=e_[eM])?void 0:eg.methods),events:yX(eI,null==(em=e_[eM])?void 0:em.events)}),(A1(eC)||A1((null==(eb=e_[eM])?void 0:eb.rpcMap)||{}))&&(e_[eM].rpcMap=xX(xX({},eC),null==(ew=e_[eM])?void 0:ew.rpcMap))}return e_}function Cp(eu){return eu.includes(":")?eu.split(":")[2]:eu}function Cg(eu){let ed={};for(let[eg,em]of Object.entries(eu)){let eu=em.methods||[],eb=em.events||[],ew=em.accounts||[],e_=Az(eg)?[eg]:em.chains?em.chains:x9(em.accounts);ed[eg]={chains:e_,methods:eu,events:eb,accounts:ew}}return ed}function Cy(eu){return"number"==typeof eu?eu:eu.includes("0x")?parseInt(eu,16):isNaN(Number(eu=eu.includes(":")?eu.split(":")[1]:eu))?eu:Number(eu)}let Cm={},Cb=eu=>Cm[eu],Cv=(eu,ed)=>{Cm[eu]=ed};var Cw=Object.defineProperty,C_=(eu,ed,eg)=>ed in eu?Cw(eu,ed,{enumerable:!0,configurable:!0,writable:!0,value:eg}):eu[ed]=eg,CE=(eu,ed,eg)=>C_(eu,"symbol"!=typeof ed?ed+"":ed,eg);class CA{constructor(eu){CE(this,"name","polkadot"),CE(this,"client"),CE(this,"httpProviders"),CE(this,"events"),CE(this,"namespace"),CE(this,"chainId"),this.namespace=eu.namespace,this.events=Cb("events"),this.client=Cb("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(eu){this.namespace=Object.assign(this.namespace,eu)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let eu=this.namespace.chains[0];if(!eu)throw Error("ChainId not found");return eu.split(":")[1]}request(eu){return this.namespace.methods.includes(eu.request.method)?this.client.request(eu):this.getHttpProvider().request(eu.request)}setDefaultChain(eu,ed){this.httpProviders[eu]||this.setHttpProvider(eu,ed),this.chainId=eu,this.events.emit(IY.DEFAULT_CHAIN_CHANGED,`${this.name}:${eu}`)}getAccounts(){let eu=this.namespace.accounts;return eu&&eu.filter(eu=>eu.split(":")[1]===this.chainId.toString()).map(eu=>eu.split(":")[2])||[]}createHttpProviders(){let eu={};return this.namespace.chains.forEach(ed=>{var eg;let em=x5(ed);eu[em]=this.createHttpProvider(em,null==(eg=this.namespace.rpcMap)?void 0:eg[ed])}),eu}getHttpProvider(){let eu=`${this.name}:${this.chainId}`,ed=this.httpProviders[eu];if(typeof ed>"u")throw Error(`JSON-RPC provider for ${eu} not found`);return ed}setHttpProvider(eu,ed){let eg=this.createHttpProvider(eu,ed);eg&&(this.httpProviders[eu]=eg)}createHttpProvider(eu,ed){let eg=ed||x6(eu,this.namespace,this.client.core.projectId);if(!eg)throw Error(`No RPC url provided for chainId: ${eu}`);return new cQ.r(new IF.Z(eg,Cb("disableProviderPing")))}}var CS=Object.defineProperty,CI=Object.defineProperties,Cx=Object.getOwnPropertyDescriptors,CC=Object.getOwnPropertySymbols,CM=Object.prototype.hasOwnProperty,CO=Object.prototype.propertyIsEnumerable,CT=(eu,ed,eg)=>ed in eu?CS(eu,ed,{enumerable:!0,configurable:!0,writable:!0,value:eg}):eu[ed]=eg,CP=(eu,ed)=>{for(var eg in ed||(ed={}))CM.call(ed,eg)&&CT(eu,eg,ed[eg]);if(CC)for(var eg of CC(ed))CO.call(ed,eg)&&CT(eu,eg,ed[eg]);return eu},CN=(eu,ed)=>CI(eu,Cx(ed)),Ck=(eu,ed,eg)=>CT(eu,"symbol"!=typeof ed?ed+"":ed,eg);class CR{constructor(eu){Ck(this,"name","eip155"),Ck(this,"client"),Ck(this,"chainId"),Ck(this,"namespace"),Ck(this,"httpProviders"),Ck(this,"events"),this.namespace=eu.namespace,this.events=Cb("events"),this.client=Cb("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(eu){switch(eu.request.method){case"eth_requestAccounts":case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(eu);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(eu);case"wallet_getCallsStatus":return await this.getCallStatus(eu)}return this.namespace.methods.includes(eu.request.method)?await this.client.request(eu):this.getHttpProvider().request(eu.request)}updateNamespace(eu){this.namespace=Object.assign(this.namespace,eu)}setDefaultChain(eu,ed){this.httpProviders[eu]||this.setHttpProvider(parseInt(eu),ed),this.chainId=parseInt(eu),this.events.emit(IY.DEFAULT_CHAIN_CHANGED,`${this.name}:${eu}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;let eu=this.namespace.chains[0];if(!eu)throw Error("ChainId not found");return eu.split(":")[1]}createHttpProvider(eu,ed){let eg=ed||x6(`${this.name}:${eu}`,this.namespace,this.client.core.projectId);if(!eg)throw Error(`No RPC url provided for chainId: ${eu}`);return new cQ.r(new IF.k(eg,Cb("disableProviderPing")))}setHttpProvider(eu,ed){let eg=this.createHttpProvider(eu,ed);eg&&(this.httpProviders[eu]=eg)}createHttpProviders(){let eu={};return this.namespace.chains.forEach(ed=>{var eg;let em=parseInt(x5(ed));eu[em]=this.createHttpProvider(em,null==(eg=this.namespace.rpcMap)?void 0:eg[ed])}),eu}getAccounts(){let eu=this.namespace.accounts;return eu?[...new Set(eu.filter(eu=>eu.split(":")[1]===this.chainId.toString()).map(eu=>eu.split(":")[2]))]:[]}getHttpProvider(){let eu=this.chainId,ed=this.httpProviders[eu];if(typeof ed>"u")throw Error(`JSON-RPC provider for ${eu} not found`);return ed}async handleSwitchChain(eu){var ed,eg;let em=eu.request.params?null==(ed=eu.request.params[0])?void 0:ed.chainId:"0x0";em=em.startsWith("0x")?em:`0x${em}`;let eb=parseInt(em,16);if(this.isChainApproved(eb))this.setDefaultChain(`${eb}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:eu.topic,request:{method:eu.request.method,params:[{chainId:em}]},chainId:null==(eg=this.namespace.chains)?void 0:eg[0]}),this.setDefaultChain(`${eb}`);else throw Error(`Failed to switch to chain 'eip155:${eb}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(eu){return this.namespace.chains.includes(`${this.name}:${eu}`)}async getCapabilities(eu){var ed,eg,em,eb,ew;let e_=null==(eg=null==(ed=eu.request)?void 0:ed.params)?void 0:eg[0],eE=(null==(eb=null==(em=eu.request)?void 0:em.params)?void 0:eb[1])||[],eA=`${e_}${eE.join(",")}`;if(!e_)throw Error("Missing address parameter in `wallet_getCapabilities` request");let eS=this.client.session.get(eu.topic),eI=(null==(ew=eS?.sessionProperties)?void 0:ew.capabilities)||{};if(null!=eI&&eI[eA])return eI?.[eA];let eC=await this.client.request(eu);try{await this.client.session.update(eu.topic,{sessionProperties:CN(CP({},eS.sessionProperties||{}),{capabilities:CN(CP({},eI||{}),{[eA]:eC})})})}catch(eu){console.warn("Failed to update session with capabilities",eu)}return eC}async getCallStatus(eu){var ed,eg;let em=this.client.session.get(eu.topic),eb=null==(ed=em.sessionProperties)?void 0:ed.bundler_name;if(eb){let ed=this.getBundlerUrl(eu.chainId,eb);try{return await this.getUserOperationReceipt(ed,eu)}catch(eu){console.warn("Failed to fetch call status from bundler",eu,ed)}}let ew=null==(eg=em.sessionProperties)?void 0:eg.bundler_url;if(ew)try{return await this.getUserOperationReceipt(ew,eu)}catch(eu){console.warn("Failed to fetch call status from custom bundler",eu,ew)}if(this.namespace.methods.includes(eu.request.method))return await this.client.request(eu);throw Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(eu,ed){var eg;let em=new URL(eu),eb=await fetch(em,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify((0,c0.formatJsonRpcRequest)("eth_getUserOperationReceipt",[null==(eg=ed.request.params)?void 0:eg[0]]))});if(!eb.ok)throw Error(`Failed to fetch user operation receipt - ${eb.status}`);return await eb.json()}getBundlerUrl(eu,ed){return`${IZ}?projectId=${this.client.core.projectId}&chainId=${eu}&bundler=${ed}`}}var CD=Object.defineProperty,CU=(eu,ed,eg)=>ed in eu?CD(eu,ed,{enumerable:!0,configurable:!0,writable:!0,value:eg}):eu[ed]=eg,CL=(eu,ed,eg)=>CU(eu,"symbol"!=typeof ed?ed+"":ed,eg);class Cj{constructor(eu){CL(this,"name","solana"),CL(this,"client"),CL(this,"httpProviders"),CL(this,"events"),CL(this,"namespace"),CL(this,"chainId"),this.namespace=eu.namespace,this.events=Cb("events"),this.client=Cb("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(eu){this.namespace=Object.assign(this.namespace,eu)}requestAccounts(){return this.getAccounts()}request(eu){return this.namespace.methods.includes(eu.request.method)?this.client.request(eu):this.getHttpProvider().request(eu.request)}setDefaultChain(eu,ed){this.httpProviders[eu]||this.setHttpProvider(eu,ed),this.chainId=eu,this.events.emit(IY.DEFAULT_CHAIN_CHANGED,`${this.name}:${eu}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let eu=this.namespace.chains[0];if(!eu)throw Error("ChainId not found");return eu.split(":")[1]}getAccounts(){let eu=this.namespace.accounts;return eu?[...new Set(eu.filter(eu=>eu.split(":")[1]===this.chainId.toString()).map(eu=>eu.split(":")[2]))]:[]}createHttpProviders(){let eu={};return this.namespace.chains.forEach(ed=>{var eg;let em=x5(ed);eu[em]=this.createHttpProvider(em,null==(eg=this.namespace.rpcMap)?void 0:eg[ed])}),eu}getHttpProvider(){let eu=`${this.name}:${this.chainId}`,ed=this.httpProviders[eu];if(typeof ed>"u")throw Error(`JSON-RPC provider for ${eu} not found`);return ed}setHttpProvider(eu,ed){let eg=this.createHttpProvider(eu,ed);eg&&(this.httpProviders[eu]=eg)}createHttpProvider(eu,ed){let eg=ed||x6(eu,this.namespace,this.client.core.projectId);if(!eg)throw Error(`No RPC url provided for chainId: ${eu}`);return new cQ.r(new IF.Z(eg,Cb("disableProviderPing")))}}var CF=Object.defineProperty,C$=(eu,ed,eg)=>ed in eu?CF(eu,ed,{enumerable:!0,configurable:!0,writable:!0,value:eg}):eu[ed]=eg,CK=(eu,ed,eg)=>C$(eu,"symbol"!=typeof ed?ed+"":ed,eg);class Cq{constructor(eu){CK(this,"name","cosmos"),CK(this,"client"),CK(this,"httpProviders"),CK(this,"events"),CK(this,"namespace"),CK(this,"chainId"),this.namespace=eu.namespace,this.events=Cb("events"),this.client=Cb("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(eu){this.namespace=Object.assign(this.namespace,eu)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let eu=this.namespace.chains[0];if(!eu)throw Error("ChainId not found");return eu.split(":")[1]}request(eu){return this.namespace.methods.includes(eu.request.method)?this.client.request(eu):this.getHttpProvider().request(eu.request)}setDefaultChain(eu,ed){this.httpProviders[eu]||this.setHttpProvider(eu,ed),this.chainId=eu,this.events.emit(IY.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){let eu=this.namespace.accounts;return eu?[...new Set(eu.filter(eu=>eu.split(":")[1]===this.chainId.toString()).map(eu=>eu.split(":")[2]))]:[]}createHttpProviders(){let eu={};return this.namespace.chains.forEach(ed=>{var eg;let em=x5(ed);eu[em]=this.createHttpProvider(em,null==(eg=this.namespace.rpcMap)?void 0:eg[ed])}),eu}getHttpProvider(){let eu=`${this.name}:${this.chainId}`,ed=this.httpProviders[eu];if(typeof ed>"u")throw Error(`JSON-RPC provider for ${eu} not found`);return ed}setHttpProvider(eu,ed){let eg=this.createHttpProvider(eu,ed);eg&&(this.httpProviders[eu]=eg)}createHttpProvider(eu,ed){let eg=ed||x6(eu,this.namespace,this.client.core.projectId);if(!eg)throw Error(`No RPC url provided for chainId: ${eu}`);return new cQ.r(new IF.Z(eg,Cb("disableProviderPing")))}}var Cz=Object.defineProperty,CH=(eu,ed,eg)=>ed in eu?Cz(eu,ed,{enumerable:!0,configurable:!0,writable:!0,value:eg}):eu[ed]=eg,CV=(eu,ed,eg)=>CH(eu,"symbol"!=typeof ed?ed+"":ed,eg);class CG{constructor(eu){CV(this,"name","algorand"),CV(this,"client"),CV(this,"httpProviders"),CV(this,"events"),CV(this,"namespace"),CV(this,"chainId"),this.namespace=eu.namespace,this.events=Cb("events"),this.client=Cb("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(eu){this.namespace=Object.assign(this.namespace,eu)}requestAccounts(){return this.getAccounts()}request(eu){return this.namespace.methods.includes(eu.request.method)?this.client.request(eu):this.getHttpProvider().request(eu.request)}setDefaultChain(eu,ed){if(!this.httpProviders[eu]){let eg=ed||x6(`${this.name}:${eu}`,this.namespace,this.client.core.projectId);if(!eg)throw Error(`No RPC url provided for chainId: ${eu}`);this.setHttpProvider(eu,eg)}this.chainId=eu,this.events.emit(IY.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let eu=this.namespace.chains[0];if(!eu)throw Error("ChainId not found");return eu.split(":")[1]}getAccounts(){let eu=this.namespace.accounts;return eu?[...new Set(eu.filter(eu=>eu.split(":")[1]===this.chainId.toString()).map(eu=>eu.split(":")[2]))]:[]}createHttpProviders(){let eu={};return this.namespace.chains.forEach(ed=>{var eg;eu[ed]=this.createHttpProvider(ed,null==(eg=this.namespace.rpcMap)?void 0:eg[ed])}),eu}getHttpProvider(){let eu=`${this.name}:${this.chainId}`,ed=this.httpProviders[eu];if(typeof ed>"u")throw Error(`JSON-RPC provider for ${eu} not found`);return ed}setHttpProvider(eu,ed){let eg=this.createHttpProvider(eu,ed);eg&&(this.httpProviders[eu]=eg)}createHttpProvider(eu,ed){let eg=ed||x6(eu,this.namespace,this.client.core.projectId);return typeof eg>"u"?void 0:new cQ.r(new IF.Z(eg,Cb("disableProviderPing")))}}var CW=Object.defineProperty,CJ=(eu,ed,eg)=>ed in eu?CW(eu,ed,{enumerable:!0,configurable:!0,writable:!0,value:eg}):eu[ed]=eg,CZ=(eu,ed,eg)=>CJ(eu,"symbol"!=typeof ed?ed+"":ed,eg);class CY{constructor(eu){CZ(this,"name","cip34"),CZ(this,"client"),CZ(this,"httpProviders"),CZ(this,"events"),CZ(this,"namespace"),CZ(this,"chainId"),this.namespace=eu.namespace,this.events=Cb("events"),this.client=Cb("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(eu){this.namespace=Object.assign(this.namespace,eu)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let eu=this.namespace.chains[0];if(!eu)throw Error("ChainId not found");return eu.split(":")[1]}request(eu){return this.namespace.methods.includes(eu.request.method)?this.client.request(eu):this.getHttpProvider().request(eu.request)}setDefaultChain(eu,ed){this.httpProviders[eu]||this.setHttpProvider(eu,ed),this.chainId=eu,this.events.emit(IY.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){let eu=this.namespace.accounts;return eu?[...new Set(eu.filter(eu=>eu.split(":")[1]===this.chainId.toString()).map(eu=>eu.split(":")[2]))]:[]}createHttpProviders(){let eu={};return this.namespace.chains.forEach(ed=>{let eg=this.getCardanoRPCUrl(ed),em=x5(ed);eu[em]=this.createHttpProvider(em,eg)}),eu}getHttpProvider(){let eu=`${this.name}:${this.chainId}`,ed=this.httpProviders[eu];if(typeof ed>"u")throw Error(`JSON-RPC provider for ${eu} not found`);return ed}getCardanoRPCUrl(eu){let ed=this.namespace.rpcMap;if(ed)return ed[eu]}setHttpProvider(eu,ed){let eg=this.createHttpProvider(eu,ed);eg&&(this.httpProviders[eu]=eg)}createHttpProvider(eu,ed){let eg=ed||this.getCardanoRPCUrl(eu);if(!eg)throw Error(`No RPC url provided for chainId: ${eu}`);return new cQ.r(new IF.Z(eg,Cb("disableProviderPing")))}}var CX=Object.defineProperty,CQ=(eu,ed,eg)=>ed in eu?CX(eu,ed,{enumerable:!0,configurable:!0,writable:!0,value:eg}):eu[ed]=eg,C0=(eu,ed,eg)=>CQ(eu,"symbol"!=typeof ed?ed+"":ed,eg);class C1{constructor(eu){C0(this,"name","elrond"),C0(this,"client"),C0(this,"httpProviders"),C0(this,"events"),C0(this,"namespace"),C0(this,"chainId"),this.namespace=eu.namespace,this.events=Cb("events"),this.client=Cb("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(eu){this.namespace=Object.assign(this.namespace,eu)}requestAccounts(){return this.getAccounts()}request(eu){return this.namespace.methods.includes(eu.request.method)?this.client.request(eu):this.getHttpProvider().request(eu.request)}setDefaultChain(eu,ed){this.httpProviders[eu]||this.setHttpProvider(eu,ed),this.chainId=eu,this.events.emit(IY.DEFAULT_CHAIN_CHANGED,`${this.name}:${eu}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let eu=this.namespace.chains[0];if(!eu)throw Error("ChainId not found");return eu.split(":")[1]}getAccounts(){let eu=this.namespace.accounts;return eu?[...new Set(eu.filter(eu=>eu.split(":")[1]===this.chainId.toString()).map(eu=>eu.split(":")[2]))]:[]}createHttpProviders(){let eu={};return this.namespace.chains.forEach(ed=>{var eg;let em=x5(ed);eu[em]=this.createHttpProvider(em,null==(eg=this.namespace.rpcMap)?void 0:eg[ed])}),eu}getHttpProvider(){let eu=`${this.name}:${this.chainId}`,ed=this.httpProviders[eu];if(typeof ed>"u")throw Error(`JSON-RPC provider for ${eu} not found`);return ed}setHttpProvider(eu,ed){let eg=this.createHttpProvider(eu,ed);eg&&(this.httpProviders[eu]=eg)}createHttpProvider(eu,ed){let eg=ed||x6(eu,this.namespace,this.client.core.projectId);if(!eg)throw Error(`No RPC url provided for chainId: ${eu}`);return new cQ.r(new IF.Z(eg,Cb("disableProviderPing")))}}var C2=Object.defineProperty,C6=(eu,ed,eg)=>ed in eu?C2(eu,ed,{enumerable:!0,configurable:!0,writable:!0,value:eg}):eu[ed]=eg,C3=(eu,ed,eg)=>C6(eu,"symbol"!=typeof ed?ed+"":ed,eg);class C8{constructor(eu){C3(this,"name","multiversx"),C3(this,"client"),C3(this,"httpProviders"),C3(this,"events"),C3(this,"namespace"),C3(this,"chainId"),this.namespace=eu.namespace,this.events=Cb("events"),this.client=Cb("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(eu){this.namespace=Object.assign(this.namespace,eu)}requestAccounts(){return this.getAccounts()}request(eu){return this.namespace.methods.includes(eu.request.method)?this.client.request(eu):this.getHttpProvider().request(eu.request)}setDefaultChain(eu,ed){this.httpProviders[eu]||this.setHttpProvider(eu,ed),this.chainId=eu,this.events.emit(IY.DEFAULT_CHAIN_CHANGED,`${this.name}:${eu}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let eu=this.namespace.chains[0];if(!eu)throw Error("ChainId not found");return eu.split(":")[1]}getAccounts(){let eu=this.namespace.accounts;return eu?[...new Set(eu.filter(eu=>eu.split(":")[1]===this.chainId.toString()).map(eu=>eu.split(":")[2]))]:[]}createHttpProviders(){let eu={};return this.namespace.chains.forEach(ed=>{var eg;let em=x5(ed);eu[em]=this.createHttpProvider(em,null==(eg=this.namespace.rpcMap)?void 0:eg[ed])}),eu}getHttpProvider(){let eu=`${this.name}:${this.chainId}`,ed=this.httpProviders[eu];if(typeof ed>"u")throw Error(`JSON-RPC provider for ${eu} not found`);return ed}setHttpProvider(eu,ed){let eg=this.createHttpProvider(eu,ed);eg&&(this.httpProviders[eu]=eg)}createHttpProvider(eu,ed){let eg=ed||x6(eu,this.namespace,this.client.core.projectId);if(!eg)throw Error(`No RPC url provided for chainId: ${eu}`);return new cQ.r(new IF.Z(eg,Cb("disableProviderPing")))}}var C5=Object.defineProperty,C4=(eu,ed,eg)=>ed in eu?C5(eu,ed,{enumerable:!0,configurable:!0,writable:!0,value:eg}):eu[ed]=eg,C9=(eu,ed,eg)=>C4(eu,"symbol"!=typeof ed?ed+"":ed,eg);class C7{constructor(eu){C9(this,"name","near"),C9(this,"client"),C9(this,"httpProviders"),C9(this,"events"),C9(this,"namespace"),C9(this,"chainId"),this.namespace=eu.namespace,this.events=Cb("events"),this.client=Cb("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(eu){this.namespace=Object.assign(this.namespace,eu)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let eu=this.namespace.chains[0];if(!eu)throw Error("ChainId not found");return eu.split(":")[1]}request(eu){return this.namespace.methods.includes(eu.request.method)?this.client.request(eu):this.getHttpProvider().request(eu.request)}setDefaultChain(eu,ed){if(this.chainId=eu,!this.httpProviders[eu]){let eg=ed||x6(`${this.name}:${eu}`,this.namespace);if(!eg)throw Error(`No RPC url provided for chainId: ${eu}`);this.setHttpProvider(eu,eg)}this.events.emit(IY.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){let eu=this.namespace.accounts;return eu&&eu.filter(eu=>eu.split(":")[1]===this.chainId.toString()).map(eu=>eu.split(":")[2])||[]}createHttpProviders(){let eu={};return this.namespace.chains.forEach(ed=>{var eg;eu[ed]=this.createHttpProvider(ed,null==(eg=this.namespace.rpcMap)?void 0:eg[ed])}),eu}getHttpProvider(){let eu=`${this.name}:${this.chainId}`,ed=this.httpProviders[eu];if(typeof ed>"u")throw Error(`JSON-RPC provider for ${eu} not found`);return ed}setHttpProvider(eu,ed){let eg=this.createHttpProvider(eu,ed);eg&&(this.httpProviders[eu]=eg)}createHttpProvider(eu,ed){let eg=ed||x6(eu,this.namespace);return typeof eg>"u"?void 0:new cQ.r(new IF.Z(eg,Cb("disableProviderPing")))}}var Mu=Object.defineProperty,Ml=(eu,ed,eg)=>ed in eu?Mu(eu,ed,{enumerable:!0,configurable:!0,writable:!0,value:eg}):eu[ed]=eg,Mh=(eu,ed,eg)=>Ml(eu,"symbol"!=typeof ed?ed+"":ed,eg);class Md{constructor(eu){Mh(this,"name","tezos"),Mh(this,"client"),Mh(this,"httpProviders"),Mh(this,"events"),Mh(this,"namespace"),Mh(this,"chainId"),this.namespace=eu.namespace,this.events=Cb("events"),this.client=Cb("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(eu){this.namespace=Object.assign(this.namespace,eu)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let eu=this.namespace.chains[0];if(!eu)throw Error("ChainId not found");return eu.split(":")[1]}request(eu){return this.namespace.methods.includes(eu.request.method)?this.client.request(eu):this.getHttpProvider().request(eu.request)}setDefaultChain(eu,ed){if(this.chainId=eu,!this.httpProviders[eu]){let eg=ed||x6(`${this.name}:${eu}`,this.namespace);if(!eg)throw Error(`No RPC url provided for chainId: ${eu}`);this.setHttpProvider(eu,eg)}this.events.emit(IY.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){let eu=this.namespace.accounts;return eu&&eu.filter(eu=>eu.split(":")[1]===this.chainId.toString()).map(eu=>eu.split(":")[2])||[]}createHttpProviders(){let eu={};return this.namespace.chains.forEach(ed=>{eu[ed]=this.createHttpProvider(ed)}),eu}getHttpProvider(){let eu=`${this.name}:${this.chainId}`,ed=this.httpProviders[eu];if(typeof ed>"u")throw Error(`JSON-RPC provider for ${eu} not found`);return ed}setHttpProvider(eu,ed){let eg=this.createHttpProvider(eu,ed);eg&&(this.httpProviders[eu]=eg)}createHttpProvider(eu,ed){let eg=ed||x6(eu,this.namespace);return typeof eg>"u"?void 0:new cQ.r(new IF.Z(eg))}}var Mp=Object.defineProperty,Mg=(eu,ed,eg)=>ed in eu?Mp(eu,ed,{enumerable:!0,configurable:!0,writable:!0,value:eg}):eu[ed]=eg,My=(eu,ed,eg)=>Mg(eu,"symbol"!=typeof ed?ed+"":ed,eg);class Mm{constructor(eu){My(this,"name",IJ),My(this,"client"),My(this,"httpProviders"),My(this,"events"),My(this,"namespace"),My(this,"chainId"),this.namespace=eu.namespace,this.events=Cb("events"),this.client=Cb("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(eu){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(eu.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(eu.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(eu.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(eu.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(eu){return this.namespace.methods.includes(eu.request.method)?this.client.request(eu):this.getHttpProvider(eu.chainId).request(eu.request)}setDefaultChain(eu,ed){this.httpProviders[eu]||this.setHttpProvider(eu,ed),this.chainId=eu,this.events.emit(IY.DEFAULT_CHAIN_CHANGED,`${this.name}:${eu}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let eu=this.namespace.chains[0];if(!eu)throw Error("ChainId not found");return eu.split(":")[1]}getAccounts(){let eu=this.namespace.accounts;return eu?[...new Set(eu.filter(eu=>eu.split(":")[1]===this.chainId.toString()).map(eu=>eu.split(":")[2]))]:[]}createHttpProviders(){var eu,ed;let eg={};return null==(ed=null==(eu=this.namespace)?void 0:eu.accounts)||ed.forEach(eu=>{let ed=yC(eu);eg[`${ed.namespace}:${ed.reference}`]=this.createHttpProvider(eu)}),eg}getHttpProvider(eu){let ed=this.httpProviders[eu];if(typeof ed>"u")throw Error(`JSON-RPC provider for ${eu} not found`);return ed}setHttpProvider(eu,ed){let eg=this.createHttpProvider(eu,ed);eg&&(this.httpProviders[eu]=eg)}createHttpProvider(eu,ed){let eg=ed||x6(eu,this.namespace,this.client.core.projectId);if(!eg)throw Error(`No RPC url provided for chainId: ${eu}`);return new cQ.r(new IF.Z(eg,Cb("disableProviderPing")))}}var Mb=Object.defineProperty,Mv=Object.defineProperties,Mw=Object.getOwnPropertyDescriptors,M_=Object.getOwnPropertySymbols,ME=Object.prototype.hasOwnProperty,MA=Object.prototype.propertyIsEnumerable,MS=(eu,ed,eg)=>ed in eu?Mb(eu,ed,{enumerable:!0,configurable:!0,writable:!0,value:eg}):eu[ed]=eg,MI=(eu,ed)=>{for(var eg in ed||(ed={}))ME.call(ed,eg)&&MS(eu,eg,ed[eg]);if(M_)for(var eg of M_(ed))MA.call(ed,eg)&&MS(eu,eg,ed[eg]);return eu},Mx=(eu,ed)=>Mv(eu,Mw(ed)),MC=(eu,ed,eg)=>MS(eu,"symbol"!=typeof ed?ed+"":ed,eg);class MM{constructor(eu){MC(this,"client"),MC(this,"namespaces"),MC(this,"optionalNamespaces"),MC(this,"sessionProperties"),MC(this,"scopedProperties"),MC(this,"events",new(eb())),MC(this,"rpcProviders",{}),MC(this,"session"),MC(this,"providerOpts"),MC(this,"logger"),MC(this,"uri"),MC(this,"disableProviderPing",!1),this.providerOpts=eu,this.logger="u">typeof eu?.logger&&"string"!=typeof eu?.logger?eu.logger:(0,eE.gw)((0,eE.jI)({level:eu?.logger||IK})),this.disableProviderPing=eu?.disableProviderPing||!1}static async init(eu){let ed=new MM(eu);return await ed.initialize(),ed}async request(eu,ed,eg){let[em,eb]=this.validateChain(ed);if(!this.session)throw Error("Please call connect() before request()");return await this.getProvider(em).request({request:MI({},eu),chainId:`${em}:${eb}`,topic:this.session.topic,expiry:eg})}sendAsync(eu,ed,eg,em){let eb=new Date().getTime();this.request(eu,eg,em).then(eu=>ed(null,(0,c0.formatJsonRpcResult)(eb,eu))).catch(eu=>ed(eu,void 0))}async enable(){if(!this.client)throw Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var eu;if(!this.session)throw Error("Please call connect() before enable()");await this.client.disconnect({topic:null==(eu=this.session)?void 0:eu.topic,reason:AQ("USER_DISCONNECTED")}),await this.cleanup()}async connect(eu){if(!this.client)throw Error("Sign Client not initialized");if(this.setNamespaces(eu),await this.cleanupPendingPairings(),!eu.skipPairing)return await this.pair(eu.pairingTopic)}async authenticate(eu,ed){if(!this.client)throw Error("Sign Client not initialized");this.setNamespaces(eu),await this.cleanupPendingPairings();let{uri:eg,response:em}=await this.client.authenticate(eu,ed);eg&&(this.uri=eg,this.events.emit("display_uri",eg));let eb=await em();if(this.session=eb.session,this.session){let eu=Cg(this.session.namespaces);this.namespaces=Cu(this.namespaces,eu),await this.persist("namespaces",this.namespaces),this.onConnect()}return eb}on(eu,ed){this.events.on(eu,ed)}once(eu,ed){this.events.once(eu,ed)}removeListener(eu,ed){this.events.removeListener(eu,ed)}off(eu,ed){this.events.off(eu,ed)}get isWalletConnect(){return!0}async pair(eu){let{uri:ed,approval:eg}=await this.client.connect({pairingTopic:eu,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});ed&&(this.uri=ed,this.events.emit("display_uri",ed));let em=await eg();this.session=em;let eb=Cg(em.namespaces);return this.namespaces=Cu(this.namespaces,eb),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(eu,ed){try{if(!this.session)return;let[eg,em]=this.validateChain(eu),eb=this.getProvider(eg);eb.name===IJ?eb.setDefaultChain(`${eg}:${em}`,ed):eb.setDefaultChain(em,ed)}catch(eu){if(!/Please call connect/.test(eu.message))throw eu}}async cleanupPendingPairings(eu={}){this.logger.info("Cleaning up inactive pairings...");let ed=this.client.pairing.getAll();if(A0(ed)){for(let eg of ed)eu.deletePairings?this.client.core.expirer.set(eg.topic,0):await this.client.core.relayer.subscriber.unsubscribe(eg.topic);this.logger.info(`Inactive pairings cleared: ${ed.length}`)}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var eu,ed;if(this.client=this.providerOpts.client||await Ij.init({core:this.providerOpts.core,logger:this.providerOpts.logger||IK,relayUrl:this.providerOpts.relayUrl||Iq,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(eg){throw this.logger.error("Failed to get session",eg),Error(`The provided session: ${null==(ed=null==(eu=this.providerOpts)?void 0:eu.session)?void 0:ed.topic} doesn't exist in the Sign client`)}else{let eu=this.client.session.getAll();this.session=eu[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw Error("Sign Client not initialized");if(!this.session)throw Error("Session not initialized. Please call connect() before enable()");let eu=[...new Set(Object.keys(this.session.namespaces).map(eu=>AH(eu)))];Cv("client",this.client),Cv("events",this.events),Cv("disableProviderPing",this.disableProviderPing),eu.forEach(eu=>{if(!this.session)return;let ed=x7(eu,this.session),eg=x9(ed),em=Cu(this.namespaces,this.optionalNamespaces),eb=Mx(MI({},em[eu]),{accounts:ed,chains:eg});switch(eu){case"eip155":this.rpcProviders[eu]=new CR({namespace:eb});break;case"algorand":this.rpcProviders[eu]=new CG({namespace:eb});break;case"solana":this.rpcProviders[eu]=new Cj({namespace:eb});break;case"cosmos":this.rpcProviders[eu]=new Cq({namespace:eb});break;case"polkadot":this.rpcProviders[eu]=new CA({namespace:eb});break;case"cip34":this.rpcProviders[eu]=new CY({namespace:eb});break;case"elrond":this.rpcProviders[eu]=new C1({namespace:eb});break;case"multiversx":this.rpcProviders[eu]=new C8({namespace:eb});break;case"near":this.rpcProviders[eu]=new C7({namespace:eb});break;case"tezos":this.rpcProviders[eu]=new Md({namespace:eb});break;default:this.rpcProviders[IJ]?this.rpcProviders[IJ].updateNamespace(eb):this.rpcProviders[IJ]=new Mm({namespace:eb})}})}registerEventListeners(){if(typeof this.client>"u")throw Error("Sign Client is not initialized");this.client.on("session_ping",eu=>{var ed;let{topic:eg}=eu;eg===(null==(ed=this.session)?void 0:ed.topic)&&this.events.emit("session_ping",eu)}),this.client.on("session_event",eu=>{var ed;let{params:eg,topic:em}=eu;if(em!==(null==(ed=this.session)?void 0:ed.topic))return;let{event:eb}=eg;if("accountsChanged"===eb.name){let eu=eb.data;eu&&A0(eu)&&this.events.emit("accountsChanged",eu.map(Cp))}else if("chainChanged"===eb.name){let eu=eg.chainId,ed=eg.event.data,em=AH(eu),eb=Cy(eu)!==Cy(ed)?`${em}:${Cy(ed)}`:eu;this.onChainChanged(eb)}else this.events.emit(eb.name,eb.data);this.events.emit("session_event",eu)}),this.client.on("session_update",({topic:eu,params:ed})=>{var eg,em;if(eu!==(null==(eg=this.session)?void 0:eg.topic))return;let{namespaces:eb}=ed,ew=null==(em=this.client)?void 0:em.session.get(eu);this.session=Mx(MI({},ew),{namespaces:eb}),this.onSessionUpdate(),this.events.emit("session_update",{topic:eu,params:ed})}),this.client.on("session_delete",async eu=>{var ed;eu.topic===(null==(ed=this.session)?void 0:ed.topic)&&(await this.cleanup(),this.events.emit("session_delete",eu),this.events.emit("disconnect",Mx(MI({},AQ("USER_DISCONNECTED")),{data:eu.topic})))}),this.on(IY.DEFAULT_CHAIN_CHANGED,eu=>{this.onChainChanged(eu,!0)})}getProvider(eu){return this.rpcProviders[eu]||this.rpcProviders[IJ]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(eu=>{var ed;this.getProvider(eu).updateNamespace(null==(ed=this.session)?void 0:ed.namespaces[eu])})}setNamespaces(eu){let{namespaces:ed={},optionalNamespaces:eg={},sessionProperties:em,scopedProperties:eb}=eu;this.optionalNamespaces=Cu(ed,eg),this.sessionProperties=em,this.scopedProperties=eb}validateChain(eu){let[ed,eg]=eu?.split(":")||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[ed,eg];if(ed&&!Object.keys(this.namespaces||{}).map(eu=>AH(eu)).includes(ed))throw Error(`Namespace '${ed}' is not configured. Please call connect() first with namespace config.`);if(ed&&eg)return[ed,eg];let em=AH(Object.keys(this.namespaces)[0]),eb=this.rpcProviders[em].getDefaultChain();return[em,eb]}async requestAccounts(){let[eu]=this.validateChain();return await this.getProvider(eu).requestAccounts()}async onChainChanged(eu,ed=!1){if(!this.namespaces)return;let[eg,em]=this.validateChain(eu);if(!em)return;this.updateNamespaceChain(eg,em),this.events.emit("chainChanged",em);let eb=this.getProvider(eg).getDefaultChain();ed||this.getProvider(eg).setDefaultChain(em),this.emitAccountsChangedOnChainChange({namespace:eg,previousChainId:eb,newChainId:eu}),await this.persist("namespaces",this.namespaces)}emitAccountsChangedOnChainChange({namespace:eu,previousChainId:ed,newChainId:eg}){var em,eb;try{if(ed===eg)return;let ew=null==(eb=null==(em=this.session)?void 0:em.namespaces[eu])?void 0:eb.accounts;if(!ew)return;let e_=ew.filter(eu=>eu.includes(`${eg}:`)).map(Cp);if(!A0(e_))return;this.events.emit("accountsChanged",e_)}catch(eu){this.logger.warn("Failed to emit accountsChanged on chain change",eu)}}updateNamespaceChain(eu,ed){if(!this.namespaces)return;let eg=this.namespaces[eu]?eu:`${eu}:${ed}`,em={chains:[],methods:[],events:[],defaultChain:ed};this.namespaces[eg]?this.namespaces[eg]&&(this.namespaces[eg].defaultChain=ed):this.namespaces[eg]=em}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,await this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(eu,ed){var eg;let em=(null==(eg=this.session)?void 0:eg.topic)||"";await this.client.core.storage.setItem(`${IG}/${eu}${em}`,ed)}async getFromStore(eu){var ed;let eg=(null==(ed=this.session)?void 0:ed.topic)||"";return await this.client.core.storage.getItem(`${IG}/${eu}${eg}`)}async deleteFromStore(eu){var ed;let eg=(null==(ed=this.session)?void 0:ed.topic)||"";await this.client.core.storage.removeItem(`${IG}/${eu}${eg}`)}async cleanupStorage(){var eu;try{if((null==(eu=this.client)?void 0:eu.session.length)>0)return;let ed=await this.client.core.storage.getKeys();for(let eu of ed)eu.startsWith(IG)&&await this.client.core.storage.removeItem(eu)}catch(eu){this.logger.warn("Failed to cleanup storage",eu)}}}},4997:function(eu,ed){"use strict";function eg(eu){let ed;return"undefined"!=typeof window&&void 0!==window[eu]&&(ed=window[eu]),ed}function em(eu){let ed=eg(eu);if(!ed)throw Error(`${eu} is not defined in Window`);return ed}function eb(){return em("document")}function ew(){return eg("document")}function e_(){return em("navigator")}function eE(){return eg("navigator")}function eA(){return em("location")}function eS(){return eg("location")}function eI(){return em("crypto")}function eC(){return eg("crypto")}function eM(){return em("localStorage")}function eO(){return eg("localStorage")}Object.defineProperty(ed,"__esModule",{value:!0}),ed.getLocalStorage=ed.getLocalStorageOrThrow=ed.getCrypto=ed.getCryptoOrThrow=ed.getLocation=ed.getLocationOrThrow=ed.getNavigator=ed.getNavigatorOrThrow=ed.getDocument=ed.getDocumentOrThrow=ed.getFromWindowOrThrow=ed.getFromWindow=void 0,ed.getFromWindow=eg,ed.getFromWindowOrThrow=em,ed.getDocumentOrThrow=eb,ed.getDocument=ew,ed.getNavigatorOrThrow=e_,ed.getNavigator=eE,ed.getLocationOrThrow=eA,ed.getLocation=eS,ed.getCryptoOrThrow=eI,ed.getCrypto=eC,ed.getLocalStorageOrThrow=eM,ed.getLocalStorage=eO},51726:function(eu,ed,eg){"use strict";var em;em={value:!0},ed.D=void 0;let eb=eg(4997);function ew(){let eu,ed;try{eu=eb.getDocumentOrThrow(),ed=eb.getLocationOrThrow()}catch(eu){return null}function eg(){let eg=eu.getElementsByTagName("link"),em=[];for(let eu=0;eu<eg.length;eu++){let eb=eg[eu],ew=eb.getAttribute("rel");if(ew&&ew.toLowerCase().indexOf("icon")>-1){let eu=eb.getAttribute("href");if(eu){if(-1===eu.toLowerCase().indexOf("https:")&&-1===eu.toLowerCase().indexOf("http:")&&0!==eu.indexOf("//")){let eg=ed.protocol+"//"+ed.host;if(0===eu.indexOf("/"))eg+=eu;else{let em=ed.pathname.split("/");em.pop();let eb=em.join("/");eg+=eb+"/"+eu}em.push(eg)}else if(0===eu.indexOf("//")){let eg=ed.protocol+eu;em.push(eg)}else em.push(eu)}}}return em}function em(...ed){let eg=eu.getElementsByTagName("meta");for(let eu=0;eu<eg.length;eu++){let em=eg[eu],eb=["itemprop","property","name"].map(eu=>em.getAttribute(eu)).filter(eu=>!!eu&&ed.includes(eu));if(eb.length&&eb){let eu=em.getAttribute("content");if(eu)return eu}}return""}function ew(){let ed=em("name","og:site_name","og:title","twitter:title");return ed||(ed=eu.title),ed}function e_(){let eu=em("description","og:description","twitter:description","keywords");return eu}let eE=ew(),eA=e_(),eS=ed.origin,eI=eg(),eC={description:eA,url:eS,icons:eI,name:eE};return eC}ed.D=ew},22812:function(eu,ed,eg){var em=ed;em.bignum=eg(90735),em.define=eg(45192).define,em.base=eg(84798),em.constants=eg(96906),em.decoders=eg(18211),em.encoders=eg(89116)},45192:function(eu,ed,eg){var em=eg(22812),eb=eg(91285);function ew(eu,ed){this.name=eu,this.body=ed,this.decoders={},this.encoders={}}ed.define=function(eu,ed){return new ew(eu,ed)},ew.prototype._createNamed=function(eu){var ed;try{ed=eg(64339).runInThisContext("(function "+this.name+"(entity) {\n  this._initNamed(entity);\n})")}catch(eu){ed=function(eu){this._initNamed(eu)}}return eb(ed,eu),ed.prototype._initNamed=function(ed){eu.call(this,ed)},new ed(this)},ew.prototype._getDecoder=function(eu){return eu=eu||"der",this.decoders.hasOwnProperty(eu)||(this.decoders[eu]=this._createNamed(em.decoders[eu])),this.decoders[eu]},ew.prototype.decode=function(eu,ed,eg){return this._getDecoder(ed).decode(eu,eg)},ew.prototype._getEncoder=function(eu){return eu=eu||"der",this.encoders.hasOwnProperty(eu)||(this.encoders[eu]=this._createNamed(em.encoders[eu])),this.encoders[eu]},ew.prototype.encode=function(eu,ed,eg){return this._getEncoder(ed).encode(eu,eg)}},47362:function(eu,ed,eg){var em=eg(91285),eb=eg(84798).Reporter,ew=eg(48834).Buffer;function e_(eu,ed){if(eb.call(this,ed),!ew.isBuffer(eu)){this.error("Input not Buffer");return}this.base=eu,this.offset=0,this.length=eu.length}function eE(eu,ed){if(Array.isArray(eu))this.length=0,this.value=eu.map(function(eu){return eu instanceof eE||(eu=new eE(eu,ed)),this.length+=eu.length,eu},this);else if("number"==typeof eu){if(!(0<=eu&&eu<=255))return ed.error("non-byte EncoderBuffer value");this.value=eu,this.length=1}else if("string"==typeof eu)this.value=eu,this.length=ew.byteLength(eu);else{if(!ew.isBuffer(eu))return ed.error("Unsupported type: "+typeof eu);this.value=eu,this.length=eu.length}}em(e_,eb),ed.C=e_,e_.prototype.save=function(){return{offset:this.offset,reporter:eb.prototype.save.call(this)}},e_.prototype.restore=function(eu){var ed=new e_(this.base);return ed.offset=eu.offset,ed.length=this.offset,this.offset=eu.offset,eb.prototype.restore.call(this,eu.reporter),ed},e_.prototype.isEmpty=function(){return this.offset===this.length},e_.prototype.readUInt8=function(eu){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(eu||"DecoderBuffer overrun")},e_.prototype.skip=function(eu,ed){if(!(this.offset+eu<=this.length))return this.error(ed||"DecoderBuffer overrun");var eg=new e_(this.base);return eg._reporterState=this._reporterState,eg.offset=this.offset,eg.length=this.offset+eu,this.offset+=eu,eg},e_.prototype.raw=function(eu){return this.base.slice(eu?eu.offset:this.offset,this.length)},ed.R=eE,eE.prototype.join=function(eu,ed){return eu||(eu=new ew(this.length)),ed||(ed=0),0===this.length||(Array.isArray(this.value)?this.value.forEach(function(eg){eg.join(eu,ed),ed+=eg.length}):("number"==typeof this.value?eu[ed]=this.value:"string"==typeof this.value?eu.write(this.value,ed):ew.isBuffer(this.value)&&this.value.copy(eu,ed),ed+=this.length)),eu}},84798:function(eu,ed,eg){var em=ed;em.Reporter=eg(80126).b,em.DecoderBuffer=eg(47362).C,em.EncoderBuffer=eg(47362).R,em.Node=eg(80847)},80847:function(eu,ed,eg){var em=eg(84798).Reporter,eb=eg(84798).EncoderBuffer,ew=eg(84798).DecoderBuffer,e_=eg(79561),eE=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],eA=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(eE),eS=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function eI(eu,ed){var eg={};this._baseState=eg,eg.enc=eu,eg.parent=ed||null,eg.children=null,eg.tag=null,eg.args=null,eg.reverseArgs=null,eg.choice=null,eg.optional=!1,eg.any=!1,eg.obj=!1,eg.use=null,eg.useDecoder=null,eg.key=null,eg.default=null,eg.explicit=null,eg.implicit=null,eg.contains=null,eg.parent||(eg.children=[],this._wrap())}eu.exports=eI;var eC=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];eI.prototype.clone=function(){var eu=this._baseState,ed={};eC.forEach(function(eg){ed[eg]=eu[eg]});var eg=new this.constructor(ed.parent);return eg._baseState=ed,eg},eI.prototype._wrap=function(){var eu=this._baseState;eA.forEach(function(ed){this[ed]=function(){var eg=new this.constructor(this);return eu.children.push(eg),eg[ed].apply(eg,arguments)}},this)},eI.prototype._init=function(eu){var ed=this._baseState;e_(null===ed.parent),eu.call(this),ed.children=ed.children.filter(function(eu){return eu._baseState.parent===this},this),e_.equal(ed.children.length,1,"Root node can have only one child")},eI.prototype._useArgs=function(eu){var ed=this._baseState,eg=eu.filter(function(eu){return eu instanceof this.constructor},this);eu=eu.filter(function(eu){return!(eu instanceof this.constructor)},this),0!==eg.length&&(e_(null===ed.children),ed.children=eg,eg.forEach(function(eu){eu._baseState.parent=this},this)),0!==eu.length&&(e_(null===ed.args),ed.args=eu,ed.reverseArgs=eu.map(function(eu){if("object"!=typeof eu||eu.constructor!==Object)return eu;var ed={};return Object.keys(eu).forEach(function(eg){eg==(0|eg)&&(eg|=0),ed[eu[eg]]=eg}),ed}))},eS.forEach(function(eu){eI.prototype[eu]=function(){throw Error(eu+" not implemented for encoding: "+this._baseState.enc)}}),eE.forEach(function(eu){eI.prototype[eu]=function(){var ed=this._baseState,eg=Array.prototype.slice.call(arguments);return e_(null===ed.tag),ed.tag=eu,this._useArgs(eg),this}}),eI.prototype.use=function(eu){e_(eu);var ed=this._baseState;return e_(null===ed.use),ed.use=eu,this},eI.prototype.optional=function(){return this._baseState.optional=!0,this},eI.prototype.def=function(eu){var ed=this._baseState;return e_(null===ed.default),ed.default=eu,ed.optional=!0,this},eI.prototype.explicit=function(eu){var ed=this._baseState;return e_(null===ed.explicit&&null===ed.implicit),ed.explicit=eu,this},eI.prototype.implicit=function(eu){var ed=this._baseState;return e_(null===ed.explicit&&null===ed.implicit),ed.implicit=eu,this},eI.prototype.obj=function(){var eu=this._baseState,ed=Array.prototype.slice.call(arguments);return eu.obj=!0,0!==ed.length&&this._useArgs(ed),this},eI.prototype.key=function(eu){var ed=this._baseState;return e_(null===ed.key),ed.key=eu,this},eI.prototype.any=function(){return this._baseState.any=!0,this},eI.prototype.choice=function(eu){var ed=this._baseState;return e_(null===ed.choice),ed.choice=eu,this._useArgs(Object.keys(eu).map(function(ed){return eu[ed]})),this},eI.prototype.contains=function(eu){var ed=this._baseState;return e_(null===ed.use),ed.contains=eu,this},eI.prototype._decode=function(eu,ed){var eg,em=this._baseState;if(null===em.parent)return eu.wrapResult(em.children[0]._decode(eu,ed));var eb=em.default,e_=!0,eE=null;if(null!==em.key&&(eE=eu.enterKey(em.key)),em.optional){var eA=null;if(null!==em.explicit?eA=em.explicit:null!==em.implicit?eA=em.implicit:null!==em.tag&&(eA=em.tag),null!==eA||em.any){if(e_=this._peekTag(eu,eA,em.any),eu.isError(e_))return e_}else{var eS=eu.save();try{null===em.choice?this._decodeGeneric(em.tag,eu,ed):this._decodeChoice(eu,ed),e_=!0}catch(eu){e_=!1}eu.restore(eS)}}if(em.obj&&e_&&(eg=eu.enterObject()),e_){if(null!==em.explicit){var eI=this._decodeTag(eu,em.explicit);if(eu.isError(eI))return eI;eu=eI}var eC=eu.offset;if(null===em.use&&null===em.choice){if(em.any)var eS=eu.save();var eM=this._decodeTag(eu,null!==em.implicit?em.implicit:em.tag,em.any);if(eu.isError(eM))return eM;em.any?eb=eu.raw(eS):eu=eM}if(ed&&ed.track&&null!==em.tag&&ed.track(eu.path(),eC,eu.length,"tagged"),ed&&ed.track&&null!==em.tag&&ed.track(eu.path(),eu.offset,eu.length,"content"),em.any||(eb=null===em.choice?this._decodeGeneric(em.tag,eu,ed):this._decodeChoice(eu,ed)),eu.isError(eb))return eb;if(em.any||null!==em.choice||null===em.children||em.children.forEach(function(eg){eg._decode(eu,ed)}),em.contains&&("octstr"===em.tag||"bitstr"===em.tag)){var eO=new ew(eb);eb=this._getUse(em.contains,eu._reporterState.obj)._decode(eO,ed)}}return em.obj&&e_&&(eb=eu.leaveObject(eg)),null!==em.key&&(null!==eb||!0===e_)?eu.leaveKey(eE,em.key,eb):null!==eE&&eu.exitKey(eE),eb},eI.prototype._decodeGeneric=function(eu,ed,eg){var em=this._baseState;if("seq"===eu||"set"===eu)return null;if("seqof"===eu||"setof"===eu)return this._decodeList(ed,eu,em.args[0],eg);if(/str$/.test(eu))return this._decodeStr(ed,eu,eg);if("objid"===eu&&em.args)return this._decodeObjid(ed,em.args[0],em.args[1],eg);if("objid"===eu)return this._decodeObjid(ed,null,null,eg);if("gentime"===eu||"utctime"===eu)return this._decodeTime(ed,eu,eg);if("null_"===eu)return this._decodeNull(ed,eg);if("bool"===eu)return this._decodeBool(ed,eg);else if("objDesc"===eu)return this._decodeStr(ed,eu,eg);else if("int"===eu||"enum"===eu)return this._decodeInt(ed,em.args&&em.args[0],eg);return null!==em.use?this._getUse(em.use,ed._reporterState.obj)._decode(ed,eg):ed.error("unknown tag: "+eu)},eI.prototype._getUse=function(eu,ed){var eg=this._baseState;return eg.useDecoder=this._use(eu,ed),e_(null===eg.useDecoder._baseState.parent),eg.useDecoder=eg.useDecoder._baseState.children[0],eg.implicit!==eg.useDecoder._baseState.implicit&&(eg.useDecoder=eg.useDecoder.clone(),eg.useDecoder._baseState.implicit=eg.implicit),eg.useDecoder},eI.prototype._decodeChoice=function(eu,ed){var eg=this._baseState,em=null,eb=!1;return(Object.keys(eg.choice).some(function(ew){var e_=eu.save(),eE=eg.choice[ew];try{var eA=eE._decode(eu,ed);if(eu.isError(eA))return!1;em={type:ew,value:eA},eb=!0}catch(ed){return eu.restore(e_),!1}return!0},this),eb)?em:eu.error("Choice not matched")},eI.prototype._createEncoderBuffer=function(eu){return new eb(eu,this.reporter)},eI.prototype._encode=function(eu,ed,eg){var em=this._baseState;if(null===em.default||em.default!==eu){var eb=this._encodeValue(eu,ed,eg);if(void 0!==eb&&!this._skipDefault(eb,ed,eg))return eb}},eI.prototype._encodeValue=function(eu,ed,eg){var eb,ew=this._baseState;if(null===ew.parent)return ew.children[0]._encode(eu,ed||new em);var eb=null;if(this.reporter=ed,ew.optional&&void 0===eu){if(null===ew.default)return;eu=ew.default}var e_=null,eE=!1;if(ew.any)eb=this._createEncoderBuffer(eu);else if(ew.choice)eb=this._encodeChoice(eu,ed);else if(ew.contains)e_=this._getUse(ew.contains,eg)._encode(eu,ed),eE=!0;else if(ew.children)e_=ew.children.map(function(eg){if("null_"===eg._baseState.tag)return eg._encode(null,ed,eu);if(null===eg._baseState.key)return ed.error("Child should have a key");var em=ed.enterKey(eg._baseState.key);if("object"!=typeof eu)return ed.error("Child expected, but input is not object");var eb=eg._encode(eu[eg._baseState.key],ed,eu);return ed.leaveKey(em),eb},this).filter(function(eu){return eu}),e_=this._createEncoderBuffer(e_);else if("seqof"===ew.tag||"setof"===ew.tag){if(!(ew.args&&1===ew.args.length))return ed.error("Too many args for : "+ew.tag);if(!Array.isArray(eu))return ed.error("seqof/setof, but data is not Array");var eA=this.clone();eA._baseState.implicit=null,e_=this._createEncoderBuffer(eu.map(function(eg){var em=this._baseState;return this._getUse(em.args[0],eu)._encode(eg,ed)},eA))}else null!==ew.use?eb=this._getUse(ew.use,eg)._encode(eu,ed):(e_=this._encodePrimitive(ew.tag,eu),eE=!0);if(!ew.any&&null===ew.choice){var eS=null!==ew.implicit?ew.implicit:ew.tag,eI=null===ew.implicit?"universal":"context";null===eS?null===ew.use&&ed.error("Tag could be omitted only for .use()"):null===ew.use&&(eb=this._encodeComposite(eS,eE,eI,e_))}return null!==ew.explicit&&(eb=this._encodeComposite(ew.explicit,!1,"context",eb)),eb},eI.prototype._encodeChoice=function(eu,ed){var eg=this._baseState,em=eg.choice[eu.type];return em||e_(!1,eu.type+" not found in "+JSON.stringify(Object.keys(eg.choice))),em._encode(eu.value,ed)},eI.prototype._encodePrimitive=function(eu,ed){var eg=this._baseState;if(/str$/.test(eu))return this._encodeStr(ed,eu);if("objid"===eu&&eg.args)return this._encodeObjid(ed,eg.reverseArgs[0],eg.args[1]);if("objid"===eu)return this._encodeObjid(ed,null,null);if("gentime"===eu||"utctime"===eu)return this._encodeTime(ed,eu);if("null_"===eu)return this._encodeNull();if("int"===eu||"enum"===eu)return this._encodeInt(ed,eg.args&&eg.reverseArgs[0]);if("bool"===eu)return this._encodeBool(ed);else if("objDesc"===eu)return this._encodeStr(ed,eu);else throw Error("Unsupported tag: "+eu)},eI.prototype._isNumstr=function(eu){return/^[0-9 ]*$/.test(eu)},eI.prototype._isPrintstr=function(eu){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(eu)}},80126:function(eu,ed,eg){var em=eg(91285);function eb(eu){this._reporterState={obj:null,path:[],options:eu||{},errors:[]}}function ew(eu,ed){this.path=eu,this.rethrow(ed)}ed.b=eb,eb.prototype.isError=function(eu){return eu instanceof ew},eb.prototype.save=function(){var eu=this._reporterState;return{obj:eu.obj,pathLen:eu.path.length}},eb.prototype.restore=function(eu){var ed=this._reporterState;ed.obj=eu.obj,ed.path=ed.path.slice(0,eu.pathLen)},eb.prototype.enterKey=function(eu){return this._reporterState.path.push(eu)},eb.prototype.exitKey=function(eu){var ed=this._reporterState;ed.path=ed.path.slice(0,eu-1)},eb.prototype.leaveKey=function(eu,ed,eg){var em=this._reporterState;this.exitKey(eu),null!==em.obj&&(em.obj[ed]=eg)},eb.prototype.path=function(){return this._reporterState.path.join("/")},eb.prototype.enterObject=function(){var eu=this._reporterState,ed=eu.obj;return eu.obj={},ed},eb.prototype.leaveObject=function(eu){var ed=this._reporterState,eg=ed.obj;return ed.obj=eu,eg},eb.prototype.error=function(eu){var ed,eg=this._reporterState,em=eu instanceof ew;if(ed=em?eu:new ew(eg.path.map(function(eu){return"["+JSON.stringify(eu)+"]"}).join(""),eu.message||eu,eu.stack),!eg.options.partial)throw ed;return em||eg.errors.push(ed),ed},eb.prototype.wrapResult=function(eu){var ed=this._reporterState;return ed.options.partial?{result:this.isError(eu)?null:eu,errors:ed.errors}:eu},em(ew,Error),ew.prototype.rethrow=function(eu){if(this.message=eu+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,ew),!this.stack)try{throw Error(this.message)}catch(eu){this.stack=eu.stack}return this}},4131:function(eu,ed,eg){var em=eg(96906);ed.tagClass={0:"universal",1:"application",2:"context",3:"private"},ed.tagClassByName=em._reverse(ed.tagClass),ed.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},ed.tagByName=em._reverse(ed.tag)},96906:function(eu,ed,eg){var em=ed;em._reverse=function(eu){var ed={};return Object.keys(eu).forEach(function(eg){(0|eg)==eg&&(eg|=0),ed[eu[eg]]=eg}),ed},em.der=eg(4131)},41066:function(eu,ed,eg){var em=eg(91285),eb=eg(22812),ew=eb.base,e_=eb.bignum,eE=eb.constants.der;function eA(eu){this.enc="der",this.name=eu.name,this.entity=eu,this.tree=new eS,this.tree._init(eu.body)}function eS(eu){ew.Node.call(this,"der",eu)}function eI(eu,ed){var eg=eu.readUInt8(ed);if(eu.isError(eg))return eg;var em=eE.tagClass[eg>>6],eb=(32&eg)==0;if((31&eg)==31){var ew=eg;for(eg=0;(128&ew)==128;){if(ew=eu.readUInt8(ed),eu.isError(ew))return ew;eg<<=7,eg|=127&ew}}else eg&=31;var e_=eE.tag[eg];return{cls:em,primitive:eb,tag:eg,tagStr:e_}}function eC(eu,ed,eg){var em=eu.readUInt8(eg);if(eu.isError(em))return em;if(!ed&&128===em)return null;if((128&em)==0)return em;var eb=127&em;if(eb>4)return eu.error("length octect is too long");em=0;for(var ew=0;ew<eb;ew++){em<<=8;var e_=eu.readUInt8(eg);if(eu.isError(e_))return e_;em|=e_}return em}eu.exports=eA,eA.prototype.decode=function(eu,ed){return eu instanceof ew.DecoderBuffer||(eu=new ew.DecoderBuffer(eu,ed)),this.tree._decode(eu,ed)},em(eS,ew.Node),eS.prototype._peekTag=function(eu,ed,eg){if(eu.isEmpty())return!1;var em=eu.save(),eb=eI(eu,'Failed to peek tag: "'+ed+'"');return eu.isError(eb)?eb:(eu.restore(em),eb.tag===ed||eb.tagStr===ed||eb.tagStr+"of"===ed||eg)},eS.prototype._decodeTag=function(eu,ed,eg){var em=eI(eu,'Failed to decode tag of "'+ed+'"');if(eu.isError(em))return em;var eb=eC(eu,em.primitive,'Failed to get length of "'+ed+'"');if(eu.isError(eb))return eb;if(!eg&&em.tag!==ed&&em.tagStr!==ed&&em.tagStr+"of"!==ed)return eu.error('Failed to match tag: "'+ed+'"');if(em.primitive||null!==eb)return eu.skip(eb,'Failed to match body of: "'+ed+'"');var ew=eu.save(),e_=this._skipUntilEnd(eu,'Failed to skip indefinite length body: "'+this.tag+'"');return eu.isError(e_)?e_:(eb=eu.offset-ew.offset,eu.restore(ew),eu.skip(eb,'Failed to match body of: "'+ed+'"'))},eS.prototype._skipUntilEnd=function(eu,ed){for(;;){var eg,em=eI(eu,ed);if(eu.isError(em))return em;var eb=eC(eu,em.primitive,ed);if(eu.isError(eb))return eb;if(eg=em.primitive||null!==eb?eu.skip(eb):this._skipUntilEnd(eu,ed),eu.isError(eg))return eg;if("end"===em.tagStr)break}},eS.prototype._decodeList=function(eu,ed,eg,em){for(var eb=[];!eu.isEmpty();){var ew=this._peekTag(eu,"end");if(eu.isError(ew))return ew;var e_=eg.decode(eu,"der",em);if(eu.isError(e_)&&ew)break;eb.push(e_)}return eb},eS.prototype._decodeStr=function(eu,ed){if("bitstr"===ed){var eg=eu.readUInt8();return eu.isError(eg)?eg:{unused:eg,data:eu.raw()}}if("bmpstr"===ed){var em=eu.raw();if(em.length%2==1)return eu.error("Decoding of string type: bmpstr length mismatch");for(var eb="",ew=0;ew<em.length/2;ew++)eb+=String.fromCharCode(em.readUInt16BE(2*ew));return eb}if("numstr"===ed){var e_=eu.raw().toString("ascii");return this._isNumstr(e_)?e_:eu.error("Decoding of string type: numstr unsupported characters")}if("octstr"===ed)return eu.raw();if("objDesc"===ed)return eu.raw();if("printstr"===ed){var eE=eu.raw().toString("ascii");return this._isPrintstr(eE)?eE:eu.error("Decoding of string type: printstr unsupported characters")}if(/str$/.test(ed))return eu.raw().toString();else return eu.error("Decoding of string type: "+ed+" unsupported")},eS.prototype._decodeObjid=function(eu,ed,eg){for(var em,eb=[],ew=0;!eu.isEmpty();){var e_=eu.readUInt8();ew<<=7,ew|=127&e_,(128&e_)==0&&(eb.push(ew),ew=0)}128&e_&&eb.push(ew);var eE=eb[0]/40|0,eA=eb[0]%40;if(em=eg?eb:[eE,eA].concat(eb.slice(1)),ed){var eS=ed[em.join(" ")];void 0===eS&&(eS=ed[em.join(".")]),void 0!==eS&&(em=eS)}return em},eS.prototype._decodeTime=function(eu,ed){var eg=eu.raw().toString();if("gentime"===ed)var em=0|eg.slice(0,4),eb=0|eg.slice(4,6),ew=0|eg.slice(6,8),e_=0|eg.slice(8,10),eE=0|eg.slice(10,12),eA=0|eg.slice(12,14);else{if("utctime"!==ed)return eu.error("Decoding "+ed+" time is not supported yet");var em=0|eg.slice(0,2),eb=0|eg.slice(2,4),ew=0|eg.slice(4,6),e_=0|eg.slice(6,8),eE=0|eg.slice(8,10),eA=0|eg.slice(10,12);em=em<70?2e3+em:1900+em}return Date.UTC(em,eb-1,ew,e_,eE,eA,0)},eS.prototype._decodeNull=function(eu){return null},eS.prototype._decodeBool=function(eu){var ed=eu.readUInt8();return eu.isError(ed)?ed:0!==ed},eS.prototype._decodeInt=function(eu,ed){var eg=eu.raw(),em=new e_(eg);return ed&&(em=ed[em.toString(10)]||em),em},eS.prototype._use=function(eu,ed){return"function"==typeof eu&&(eu=eu(ed)),eu._getDecoder("der").tree}},18211:function(eu,ed,eg){var em=ed;em.der=eg(41066),em.pem=eg(63956)},63956:function(eu,ed,eg){var em=eg(91285),eb=eg(48834).Buffer,ew=eg(41066);function e_(eu){ew.call(this,eu),this.enc="pem"}em(e_,ew),eu.exports=e_,e_.prototype.decode=function(eu,ed){for(var eg=eu.toString().split(/[\r\n]+/g),em=ed.label.toUpperCase(),e_=/^-----(BEGIN|END) ([^-]+)-----$/,eE=-1,eA=-1,eS=0;eS<eg.length;eS++){var eI=eg[eS].match(e_);if(null!==eI&&eI[2]===em){if(-1===eE){if("BEGIN"!==eI[1])break;eE=eS}else{if("END"!==eI[1])break;eA=eS;break}}}if(-1===eE||-1===eA)throw Error("PEM section not found for: "+em);var eC=eg.slice(eE+1,eA).join("");eC.replace(/[^a-z0-9\+\/=]+/gi,"");var eM=new eb(eC,"base64");return ew.prototype.decode.call(this,eM,ed)}},95758:function(eu,ed,eg){var em=eg(91285),eb=eg(48834).Buffer,ew=eg(22812),e_=ew.base,eE=ew.constants.der;function eA(eu){this.enc="der",this.name=eu.name,this.entity=eu,this.tree=new eS,this.tree._init(eu.body)}function eS(eu){e_.Node.call(this,"der",eu)}function eI(eu){return eu<10?"0"+eu:eu}function eC(eu,ed,eg,em){var eb;if("seqof"===eu?eu="seq":"setof"===eu&&(eu="set"),eE.tagByName.hasOwnProperty(eu))eb=eE.tagByName[eu];else{if("number"!=typeof eu||(0|eu)!==eu)return em.error("Unknown tag: "+eu);eb=eu}return eb>=31?em.error("Multi-octet tag encoding unsupported"):(ed||(eb|=32),eb|=eE.tagClassByName[eg||"universal"]<<6)}eu.exports=eA,eA.prototype.encode=function(eu,ed){return this.tree._encode(eu,ed).join()},em(eS,e_.Node),eS.prototype._encodeComposite=function(eu,ed,eg,em){var ew=eC(eu,ed,eg,this.reporter);if(em.length<128){var e_=new eb(2);return e_[0]=ew,e_[1]=em.length,this._createEncoderBuffer([e_,em])}for(var eE=1,eA=em.length;eA>=256;eA>>=8)eE++;var e_=new eb(2+eE);e_[0]=ew,e_[1]=128|eE;for(var eA=1+eE,eS=em.length;eS>0;eA--,eS>>=8)e_[eA]=255&eS;return this._createEncoderBuffer([e_,em])},eS.prototype._encodeStr=function(eu,ed){if("bitstr"===ed)return this._createEncoderBuffer([0|eu.unused,eu.data]);if("bmpstr"===ed){for(var eg=new eb(2*eu.length),em=0;em<eu.length;em++)eg.writeUInt16BE(eu.charCodeAt(em),2*em);return this._createEncoderBuffer(eg)}return"numstr"===ed?this._isNumstr(eu)?this._createEncoderBuffer(eu):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===ed?this._isPrintstr(eu)?this._createEncoderBuffer(eu):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(ed)?this._createEncoderBuffer(eu):"objDesc"===ed?this._createEncoderBuffer(eu):this.reporter.error("Encoding of string type: "+ed+" unsupported")},eS.prototype._encodeObjid=function(eu,ed,eg){if("string"==typeof eu){if(!ed)return this.reporter.error("string objid given, but no values map found");if(!ed.hasOwnProperty(eu))return this.reporter.error("objid not found in values map");eu=ed[eu].split(/[\s\.]+/g);for(var em=0;em<eu.length;em++)eu[em]|=0}else if(Array.isArray(eu)){eu=eu.slice();for(var em=0;em<eu.length;em++)eu[em]|=0}if(!Array.isArray(eu))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(eu));if(!eg){if(eu[1]>=40)return this.reporter.error("Second objid identifier OOB");eu.splice(0,2,40*eu[0]+eu[1])}for(var ew=0,em=0;em<eu.length;em++){var e_=eu[em];for(ew++;e_>=128;e_>>=7)ew++}for(var eE=new eb(ew),eA=eE.length-1,em=eu.length-1;em>=0;em--){var e_=eu[em];for(eE[eA--]=127&e_;(e_>>=7)>0;)eE[eA--]=128|127&e_}return this._createEncoderBuffer(eE)},eS.prototype._encodeTime=function(eu,ed){var eg,em=new Date(eu);return"gentime"===ed?eg=[eI(em.getFullYear()),eI(em.getUTCMonth()+1),eI(em.getUTCDate()),eI(em.getUTCHours()),eI(em.getUTCMinutes()),eI(em.getUTCSeconds()),"Z"].join(""):"utctime"===ed?eg=[eI(em.getFullYear()%100),eI(em.getUTCMonth()+1),eI(em.getUTCDate()),eI(em.getUTCHours()),eI(em.getUTCMinutes()),eI(em.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+ed+" time is not supported yet"),this._encodeStr(eg,"octstr")},eS.prototype._encodeNull=function(){return this._createEncoderBuffer("")},eS.prototype._encodeInt=function(eu,ed){if("string"==typeof eu){if(!ed)return this.reporter.error("String int or enum given, but no values map");if(!ed.hasOwnProperty(eu))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(eu));eu=ed[eu]}if("number"!=typeof eu&&!eb.isBuffer(eu)){var eg=eu.toArray();!eu.sign&&128&eg[0]&&eg.unshift(0),eu=new eb(eg)}if(eb.isBuffer(eu)){var em=eu.length;0===eu.length&&em++;var ew=new eb(em);return eu.copy(ew),0===eu.length&&(ew[0]=0),this._createEncoderBuffer(ew)}if(eu<128)return this._createEncoderBuffer(eu);if(eu<256)return this._createEncoderBuffer([0,eu]);for(var em=1,e_=eu;e_>=256;e_>>=8)em++;for(var ew=Array(em),e_=ew.length-1;e_>=0;e_--)ew[e_]=255&eu,eu>>=8;return 128&ew[0]&&ew.unshift(0),this._createEncoderBuffer(new eb(ew))},eS.prototype._encodeBool=function(eu){return this._createEncoderBuffer(eu?255:0)},eS.prototype._use=function(eu,ed){return"function"==typeof eu&&(eu=eu(ed)),eu._getEncoder("der").tree},eS.prototype._skipDefault=function(eu,ed,eg){var em,eb=this._baseState;if(null===eb.default)return!1;var ew=eu.join();if(void 0===eb.defaultBuffer&&(eb.defaultBuffer=this._encodeValue(eb.default,ed,eg).join()),ew.length!==eb.defaultBuffer.length)return!1;for(em=0;em<ew.length;em++)if(ew[em]!==eb.defaultBuffer[em])return!1;return!0}},89116:function(eu,ed,eg){var em=ed;em.der=eg(95758),em.pem=eg(99245)},99245:function(eu,ed,eg){var em=eg(91285),eb=eg(95758);function ew(eu){eb.call(this,eu),this.enc="pem"}em(ew,eb),eu.exports=ew,ew.prototype.encode=function(eu,ed){for(var eg=eb.prototype.encode.call(this,eu).toString("base64"),em=["-----BEGIN "+ed.label+"-----"],ew=0;ew<eg.length;ew+=64)em.push(eg.slice(ew,ew+64));return em.push("-----END "+ed.label+"-----"),em.join("\n")}},90735:function(eu,ed,eg){!function(eu,ed){"use strict";function em(eu,ed){if(!eu)throw Error(ed||"Assertion failed")}function eb(eu,ed){eu.super_=ed;var eg=function(){};eg.prototype=ed.prototype,eu.prototype=new eg,eu.prototype.constructor=eu}function ew(eu,ed,eg){if(ew.isBN(eu))return eu;this.negative=0,this.words=null,this.length=0,this.red=null,null!==eu&&(("le"===ed||"be"===ed)&&(eg=ed,ed=10),this._init(eu||0,ed||10,eg||"be"))}"object"==typeof eu?eu.exports=ew:ed.BN=ew,ew.BN=ew,ew.wordSize=26;try{eS="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:eg(83397).Buffer}catch(eu){}function e_(eu,ed){var eg=eu.charCodeAt(ed);return eg>=65&&eg<=70?eg-55:eg>=97&&eg<=102?eg-87:eg-48&15}function eE(eu,ed,eg){var em=e_(eu,eg);return eg-1>=ed&&(em|=e_(eu,eg-1)<<4),em}function eA(eu,ed,eg,em){for(var eb=0,ew=Math.min(eu.length,eg),e_=ed;e_<ew;e_++){var eE=eu.charCodeAt(e_)-48;eb*=em,eE>=49?eb+=eE-49+10:eE>=17?eb+=eE-17+10:eb+=eE}return eb}ew.isBN=function(eu){return eu instanceof ew||null!==eu&&"object"==typeof eu&&eu.constructor.wordSize===ew.wordSize&&Array.isArray(eu.words)},ew.max=function(eu,ed){return eu.cmp(ed)>0?eu:ed},ew.min=function(eu,ed){return 0>eu.cmp(ed)?eu:ed},ew.prototype._init=function(eu,ed,eg){if("number"==typeof eu)return this._initNumber(eu,ed,eg);if("object"==typeof eu)return this._initArray(eu,ed,eg);"hex"===ed&&(ed=16),em(ed===(0|ed)&&ed>=2&&ed<=36);var eb=0;"-"===(eu=eu.toString().replace(/\s+/g,""))[0]&&(eb++,this.negative=1),eb<eu.length&&(16===ed?this._parseHex(eu,eb,eg):(this._parseBase(eu,ed,eb),"le"===eg&&this._initArray(this.toArray(),ed,eg)))},ew.prototype._initNumber=function(eu,ed,eg){eu<0&&(this.negative=1,eu=-eu),eu<67108864?(this.words=[67108863&eu],this.length=1):eu<4503599627370496?(this.words=[67108863&eu,eu/67108864&67108863],this.length=2):(em(eu<9007199254740992),this.words=[67108863&eu,eu/67108864&67108863,1],this.length=3),"le"===eg&&this._initArray(this.toArray(),ed,eg)},ew.prototype._initArray=function(eu,ed,eg){if(em("number"==typeof eu.length),eu.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(eu.length/3),this.words=Array(this.length);for(var eb,ew,e_=0;e_<this.length;e_++)this.words[e_]=0;var eE=0;if("be"===eg)for(e_=eu.length-1,eb=0;e_>=0;e_-=3)ew=eu[e_]|eu[e_-1]<<8|eu[e_-2]<<16,this.words[eb]|=ew<<eE&67108863,this.words[eb+1]=ew>>>26-eE&67108863,(eE+=24)>=26&&(eE-=26,eb++);else if("le"===eg)for(e_=0,eb=0;e_<eu.length;e_+=3)ew=eu[e_]|eu[e_+1]<<8|eu[e_+2]<<16,this.words[eb]|=ew<<eE&67108863,this.words[eb+1]=ew>>>26-eE&67108863,(eE+=24)>=26&&(eE-=26,eb++);return this.strip()},ew.prototype._parseHex=function(eu,ed,eg){this.length=Math.ceil((eu.length-ed)/6),this.words=Array(this.length);for(var em,eb=0;eb<this.length;eb++)this.words[eb]=0;var ew=0,e_=0;if("be"===eg)for(eb=eu.length-1;eb>=ed;eb-=2)em=eE(eu,ed,eb)<<ew,this.words[e_]|=67108863&em,ew>=18?(ew-=18,e_+=1,this.words[e_]|=em>>>26):ew+=8;else for(eb=(eu.length-ed)%2==0?ed+1:ed;eb<eu.length;eb+=2)em=eE(eu,ed,eb)<<ew,this.words[e_]|=67108863&em,ew>=18?(ew-=18,e_+=1,this.words[e_]|=em>>>26):ew+=8;this.strip()},ew.prototype._parseBase=function(eu,ed,eg){this.words=[0],this.length=1;for(var em=0,eb=1;eb<=67108863;eb*=ed)em++;em--,eb=eb/ed|0;for(var ew=eu.length-eg,e_=ew%em,eE=Math.min(ew,ew-e_)+eg,eS=0,eI=eg;eI<eE;eI+=em)eS=eA(eu,eI,eI+em,ed),this.imuln(eb),this.words[0]+eS<67108864?this.words[0]+=eS:this._iaddn(eS);if(0!==e_){var eC=1;for(eS=eA(eu,eI,eu.length,ed),eI=0;eI<e_;eI++)eC*=ed;this.imuln(eC),this.words[0]+eS<67108864?this.words[0]+=eS:this._iaddn(eS)}this.strip()},ew.prototype.copy=function(eu){eu.words=Array(this.length);for(var ed=0;ed<this.length;ed++)eu.words[ed]=this.words[ed];eu.length=this.length,eu.negative=this.negative,eu.red=this.red},ew.prototype.clone=function(){var eu=new ew(null);return this.copy(eu),eu},ew.prototype._expand=function(eu){for(;this.length<eu;)this.words[this.length++]=0;return this},ew.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},ew.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},ew.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var eS,eI=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],eC=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],eM=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function eO(eu){for(var ed=Array(eu.bitLength()),eg=0;eg<ed.length;eg++){var em=eg/26|0,eb=eg%26;ed[eg]=(eu.words[em]&1<<eb)>>>eb}return ed}function eT(eu,ed,eg){eg.negative=ed.negative^eu.negative;var em=eu.length+ed.length|0;eg.length=em,em=em-1|0;var eb=0|eu.words[0],ew=0|ed.words[0],e_=eb*ew,eE=67108863&e_,eA=e_/67108864|0;eg.words[0]=eE;for(var eS=1;eS<em;eS++){for(var eI=eA>>>26,eC=67108863&eA,eM=Math.min(eS,ed.length-1),eO=Math.max(0,eS-eu.length+1);eO<=eM;eO++){var eT=eS-eO|0;eI+=(e_=(eb=0|eu.words[eT])*(ew=0|ed.words[eO])+eC)/67108864|0,eC=67108863&e_}eg.words[eS]=0|eC,eA=0|eI}return 0!==eA?eg.words[eS]=0|eA:eg.length--,eg.strip()}ew.prototype.toString=function(eu,ed){if(ed=0|ed||1,16===(eu=eu||10)||"hex"===eu){eg="";for(var eg,eb=0,ew=0,e_=0;e_<this.length;e_++){var eE=this.words[e_],eA=((eE<<eb|ew)&16777215).toString(16);ew=eE>>>24-eb&16777215,(eb+=2)>=26&&(eb-=26,e_--),eg=0!==ew||e_!==this.length-1?eI[6-eA.length]+eA+eg:eA+eg}for(0!==ew&&(eg=ew.toString(16)+eg);eg.length%ed!=0;)eg="0"+eg;return 0!==this.negative&&(eg="-"+eg),eg}if(eu===(0|eu)&&eu>=2&&eu<=36){var eS=eC[eu],eO=eM[eu];eg="";var eT=this.clone();for(eT.negative=0;!eT.isZero();){var eP=eT.modn(eO).toString(eu);eg=(eT=eT.idivn(eO)).isZero()?eP+eg:eI[eS-eP.length]+eP+eg}for(this.isZero()&&(eg="0"+eg);eg.length%ed!=0;)eg="0"+eg;return 0!==this.negative&&(eg="-"+eg),eg}em(!1,"Base should be between 2 and 36")},ew.prototype.toNumber=function(){var eu=this.words[0];return 2===this.length?eu+=67108864*this.words[1]:3===this.length&&1===this.words[2]?eu+=4503599627370496+67108864*this.words[1]:this.length>2&&em(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-eu:eu},ew.prototype.toJSON=function(){return this.toString(16)},ew.prototype.toBuffer=function(eu,ed){return em(void 0!==eS),this.toArrayLike(eS,eu,ed)},ew.prototype.toArray=function(eu,ed){return this.toArrayLike(Array,eu,ed)},ew.prototype.toArrayLike=function(eu,ed,eg){var eb,ew,e_=this.byteLength(),eE=eg||Math.max(1,e_);em(e_<=eE,"byte array longer than desired length"),em(eE>0,"Requested array length <= 0"),this.strip();var eA="le"===ed,eS=new eu(eE),eI=this.clone();if(eA){for(ew=0;!eI.isZero();ew++)eb=eI.andln(255),eI.iushrn(8),eS[ew]=eb;for(;ew<eE;ew++)eS[ew]=0}else{for(ew=0;ew<eE-e_;ew++)eS[ew]=0;for(ew=0;!eI.isZero();ew++)eb=eI.andln(255),eI.iushrn(8),eS[eE-ew-1]=eb}return eS},Math.clz32?ew.prototype._countBits=function(eu){return 32-Math.clz32(eu)}:ew.prototype._countBits=function(eu){var ed=eu,eg=0;return ed>=4096&&(eg+=13,ed>>>=13),ed>=64&&(eg+=7,ed>>>=7),ed>=8&&(eg+=4,ed>>>=4),ed>=2&&(eg+=2,ed>>>=2),eg+ed},ew.prototype._zeroBits=function(eu){if(0===eu)return 26;var ed=eu,eg=0;return(8191&ed)==0&&(eg+=13,ed>>>=13),(127&ed)==0&&(eg+=7,ed>>>=7),(15&ed)==0&&(eg+=4,ed>>>=4),(3&ed)==0&&(eg+=2,ed>>>=2),(1&ed)==0&&eg++,eg},ew.prototype.bitLength=function(){var eu=this.words[this.length-1],ed=this._countBits(eu);return(this.length-1)*26+ed},ew.prototype.zeroBits=function(){if(this.isZero())return 0;for(var eu=0,ed=0;ed<this.length;ed++){var eg=this._zeroBits(this.words[ed]);if(eu+=eg,26!==eg)break}return eu},ew.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},ew.prototype.toTwos=function(eu){return 0!==this.negative?this.abs().inotn(eu).iaddn(1):this.clone()},ew.prototype.fromTwos=function(eu){return this.testn(eu-1)?this.notn(eu).iaddn(1).ineg():this.clone()},ew.prototype.isNeg=function(){return 0!==this.negative},ew.prototype.neg=function(){return this.clone().ineg()},ew.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},ew.prototype.iuor=function(eu){for(;this.length<eu.length;)this.words[this.length++]=0;for(var ed=0;ed<eu.length;ed++)this.words[ed]=this.words[ed]|eu.words[ed];return this.strip()},ew.prototype.ior=function(eu){return em((this.negative|eu.negative)==0),this.iuor(eu)},ew.prototype.or=function(eu){return this.length>eu.length?this.clone().ior(eu):eu.clone().ior(this)},ew.prototype.uor=function(eu){return this.length>eu.length?this.clone().iuor(eu):eu.clone().iuor(this)},ew.prototype.iuand=function(eu){var ed;ed=this.length>eu.length?eu:this;for(var eg=0;eg<ed.length;eg++)this.words[eg]=this.words[eg]&eu.words[eg];return this.length=ed.length,this.strip()},ew.prototype.iand=function(eu){return em((this.negative|eu.negative)==0),this.iuand(eu)},ew.prototype.and=function(eu){return this.length>eu.length?this.clone().iand(eu):eu.clone().iand(this)},ew.prototype.uand=function(eu){return this.length>eu.length?this.clone().iuand(eu):eu.clone().iuand(this)},ew.prototype.iuxor=function(eu){this.length>eu.length?(ed=this,eg=eu):(ed=eu,eg=this);for(var ed,eg,em=0;em<eg.length;em++)this.words[em]=ed.words[em]^eg.words[em];if(this!==ed)for(;em<ed.length;em++)this.words[em]=ed.words[em];return this.length=ed.length,this.strip()},ew.prototype.ixor=function(eu){return em((this.negative|eu.negative)==0),this.iuxor(eu)},ew.prototype.xor=function(eu){return this.length>eu.length?this.clone().ixor(eu):eu.clone().ixor(this)},ew.prototype.uxor=function(eu){return this.length>eu.length?this.clone().iuxor(eu):eu.clone().iuxor(this)},ew.prototype.inotn=function(eu){em("number"==typeof eu&&eu>=0);var ed=0|Math.ceil(eu/26),eg=eu%26;this._expand(ed),eg>0&&ed--;for(var eb=0;eb<ed;eb++)this.words[eb]=67108863&~this.words[eb];return eg>0&&(this.words[eb]=~this.words[eb]&67108863>>26-eg),this.strip()},ew.prototype.notn=function(eu){return this.clone().inotn(eu)},ew.prototype.setn=function(eu,ed){em("number"==typeof eu&&eu>=0);var eg=eu/26|0,eb=eu%26;return this._expand(eg+1),ed?this.words[eg]=this.words[eg]|1<<eb:this.words[eg]=this.words[eg]&~(1<<eb),this.strip()},ew.prototype.iadd=function(eu){if(0!==this.negative&&0===eu.negative)return this.negative=0,ed=this.isub(eu),this.negative^=1,this._normSign();if(0===this.negative&&0!==eu.negative)return eu.negative=0,ed=this.isub(eu),eu.negative=1,ed._normSign();this.length>eu.length?(eg=this,em=eu):(eg=eu,em=this);for(var ed,eg,em,eb=0,ew=0;ew<em.length;ew++)ed=(0|eg.words[ew])+(0|em.words[ew])+eb,this.words[ew]=67108863&ed,eb=ed>>>26;for(;0!==eb&&ew<eg.length;ew++)ed=(0|eg.words[ew])+eb,this.words[ew]=67108863&ed,eb=ed>>>26;if(this.length=eg.length,0!==eb)this.words[this.length]=eb,this.length++;else if(eg!==this)for(;ew<eg.length;ew++)this.words[ew]=eg.words[ew];return this},ew.prototype.add=function(eu){var ed;return 0!==eu.negative&&0===this.negative?(eu.negative=0,ed=this.sub(eu),eu.negative^=1,ed):0===eu.negative&&0!==this.negative?(this.negative=0,ed=eu.sub(this),this.negative=1,ed):this.length>eu.length?this.clone().iadd(eu):eu.clone().iadd(this)},ew.prototype.isub=function(eu){if(0!==eu.negative){eu.negative=0;var ed,eg,em=this.iadd(eu);return eu.negative=1,em._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(eu),this.negative=1,this._normSign();var eb=this.cmp(eu);if(0===eb)return this.negative=0,this.length=1,this.words[0]=0,this;eb>0?(ed=this,eg=eu):(ed=eu,eg=this);for(var ew=0,e_=0;e_<eg.length;e_++)ew=(em=(0|ed.words[e_])-(0|eg.words[e_])+ew)>>26,this.words[e_]=67108863&em;for(;0!==ew&&e_<ed.length;e_++)ew=(em=(0|ed.words[e_])+ew)>>26,this.words[e_]=67108863&em;if(0===ew&&e_<ed.length&&ed!==this)for(;e_<ed.length;e_++)this.words[e_]=ed.words[e_];return this.length=Math.max(this.length,e_),ed!==this&&(this.negative=1),this.strip()},ew.prototype.sub=function(eu){return this.clone().isub(eu)};var eP=function(eu,ed,eg){var em,eb,ew,e_=eu.words,eE=ed.words,eA=eg.words,eS=0,eI=0|e_[0],eC=8191&eI,eM=eI>>>13,eO=0|e_[1],eT=8191&eO,eP=eO>>>13,eN=0|e_[2],ek=8191&eN,eR=eN>>>13,eD=0|e_[3],eB=8191&eD,eU=eD>>>13,eL=0|e_[4],ej=8191&eL,eF=eL>>>13,e$=0|e_[5],eK=8191&e$,eH=e$>>>13,eV=0|e_[6],eG=8191&eV,eW=eV>>>13,eJ=0|e_[7],eZ=8191&eJ,eY=eJ>>>13,eX=0|e_[8],eQ=8191&eX,e0=eX>>>13,e6=0|e_[9],e8=8191&e6,e5=e6>>>13,e9=0|eE[0],e7=8191&e9,tu=e9>>>13,th=0|eE[1],td=8191&th,tg=th>>>13,ty=0|eE[2],tb=8191&ty,tw=ty>>>13,t_=0|eE[3],tE=8191&t_,tA=t_>>>13,tS=0|eE[4],tI=8191&tS,tC=tS>>>13,tO=0|eE[5],tT=8191&tO,tP=tO>>>13,tN=0|eE[6],tR=8191&tN,tD=tN>>>13,tB=0|eE[7],tU=8191&tB,tL=tB>>>13,tj=0|eE[8],tF=8191&tj,t$=tj>>>13,tK=0|eE[9],tq=8191&tK,tz=tK>>>13;eg.negative=eu.negative^ed.negative,eg.length=19;var tH=(eS+(em=Math.imul(eC,e7))|0)+((8191&(eb=(eb=Math.imul(eC,tu))+Math.imul(eM,e7)|0))<<13)|0;eS=((ew=Math.imul(eM,tu))+(eb>>>13)|0)+(tH>>>26)|0,tH&=67108863,em=Math.imul(eT,e7),eb=(eb=Math.imul(eT,tu))+Math.imul(eP,e7)|0,ew=Math.imul(eP,tu);var tV=(eS+(em=em+Math.imul(eC,td)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eC,tg)|0)+Math.imul(eM,td)|0))<<13)|0;eS=((ew=ew+Math.imul(eM,tg)|0)+(eb>>>13)|0)+(tV>>>26)|0,tV&=67108863,em=Math.imul(ek,e7),eb=(eb=Math.imul(ek,tu))+Math.imul(eR,e7)|0,ew=Math.imul(eR,tu),em=em+Math.imul(eT,td)|0,eb=(eb=eb+Math.imul(eT,tg)|0)+Math.imul(eP,td)|0,ew=ew+Math.imul(eP,tg)|0;var tG=(eS+(em=em+Math.imul(eC,tb)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eC,tw)|0)+Math.imul(eM,tb)|0))<<13)|0;eS=((ew=ew+Math.imul(eM,tw)|0)+(eb>>>13)|0)+(tG>>>26)|0,tG&=67108863,em=Math.imul(eB,e7),eb=(eb=Math.imul(eB,tu))+Math.imul(eU,e7)|0,ew=Math.imul(eU,tu),em=em+Math.imul(ek,td)|0,eb=(eb=eb+Math.imul(ek,tg)|0)+Math.imul(eR,td)|0,ew=ew+Math.imul(eR,tg)|0,em=em+Math.imul(eT,tb)|0,eb=(eb=eb+Math.imul(eT,tw)|0)+Math.imul(eP,tb)|0,ew=ew+Math.imul(eP,tw)|0;var tW=(eS+(em=em+Math.imul(eC,tE)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eC,tA)|0)+Math.imul(eM,tE)|0))<<13)|0;eS=((ew=ew+Math.imul(eM,tA)|0)+(eb>>>13)|0)+(tW>>>26)|0,tW&=67108863,em=Math.imul(ej,e7),eb=(eb=Math.imul(ej,tu))+Math.imul(eF,e7)|0,ew=Math.imul(eF,tu),em=em+Math.imul(eB,td)|0,eb=(eb=eb+Math.imul(eB,tg)|0)+Math.imul(eU,td)|0,ew=ew+Math.imul(eU,tg)|0,em=em+Math.imul(ek,tb)|0,eb=(eb=eb+Math.imul(ek,tw)|0)+Math.imul(eR,tb)|0,ew=ew+Math.imul(eR,tw)|0,em=em+Math.imul(eT,tE)|0,eb=(eb=eb+Math.imul(eT,tA)|0)+Math.imul(eP,tE)|0,ew=ew+Math.imul(eP,tA)|0;var tJ=(eS+(em=em+Math.imul(eC,tI)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eC,tC)|0)+Math.imul(eM,tI)|0))<<13)|0;eS=((ew=ew+Math.imul(eM,tC)|0)+(eb>>>13)|0)+(tJ>>>26)|0,tJ&=67108863,em=Math.imul(eK,e7),eb=(eb=Math.imul(eK,tu))+Math.imul(eH,e7)|0,ew=Math.imul(eH,tu),em=em+Math.imul(ej,td)|0,eb=(eb=eb+Math.imul(ej,tg)|0)+Math.imul(eF,td)|0,ew=ew+Math.imul(eF,tg)|0,em=em+Math.imul(eB,tb)|0,eb=(eb=eb+Math.imul(eB,tw)|0)+Math.imul(eU,tb)|0,ew=ew+Math.imul(eU,tw)|0,em=em+Math.imul(ek,tE)|0,eb=(eb=eb+Math.imul(ek,tA)|0)+Math.imul(eR,tE)|0,ew=ew+Math.imul(eR,tA)|0,em=em+Math.imul(eT,tI)|0,eb=(eb=eb+Math.imul(eT,tC)|0)+Math.imul(eP,tI)|0,ew=ew+Math.imul(eP,tC)|0;var tZ=(eS+(em=em+Math.imul(eC,tT)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eC,tP)|0)+Math.imul(eM,tT)|0))<<13)|0;eS=((ew=ew+Math.imul(eM,tP)|0)+(eb>>>13)|0)+(tZ>>>26)|0,tZ&=67108863,em=Math.imul(eG,e7),eb=(eb=Math.imul(eG,tu))+Math.imul(eW,e7)|0,ew=Math.imul(eW,tu),em=em+Math.imul(eK,td)|0,eb=(eb=eb+Math.imul(eK,tg)|0)+Math.imul(eH,td)|0,ew=ew+Math.imul(eH,tg)|0,em=em+Math.imul(ej,tb)|0,eb=(eb=eb+Math.imul(ej,tw)|0)+Math.imul(eF,tb)|0,ew=ew+Math.imul(eF,tw)|0,em=em+Math.imul(eB,tE)|0,eb=(eb=eb+Math.imul(eB,tA)|0)+Math.imul(eU,tE)|0,ew=ew+Math.imul(eU,tA)|0,em=em+Math.imul(ek,tI)|0,eb=(eb=eb+Math.imul(ek,tC)|0)+Math.imul(eR,tI)|0,ew=ew+Math.imul(eR,tC)|0,em=em+Math.imul(eT,tT)|0,eb=(eb=eb+Math.imul(eT,tP)|0)+Math.imul(eP,tT)|0,ew=ew+Math.imul(eP,tP)|0;var tY=(eS+(em=em+Math.imul(eC,tR)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eC,tD)|0)+Math.imul(eM,tR)|0))<<13)|0;eS=((ew=ew+Math.imul(eM,tD)|0)+(eb>>>13)|0)+(tY>>>26)|0,tY&=67108863,em=Math.imul(eZ,e7),eb=(eb=Math.imul(eZ,tu))+Math.imul(eY,e7)|0,ew=Math.imul(eY,tu),em=em+Math.imul(eG,td)|0,eb=(eb=eb+Math.imul(eG,tg)|0)+Math.imul(eW,td)|0,ew=ew+Math.imul(eW,tg)|0,em=em+Math.imul(eK,tb)|0,eb=(eb=eb+Math.imul(eK,tw)|0)+Math.imul(eH,tb)|0,ew=ew+Math.imul(eH,tw)|0,em=em+Math.imul(ej,tE)|0,eb=(eb=eb+Math.imul(ej,tA)|0)+Math.imul(eF,tE)|0,ew=ew+Math.imul(eF,tA)|0,em=em+Math.imul(eB,tI)|0,eb=(eb=eb+Math.imul(eB,tC)|0)+Math.imul(eU,tI)|0,ew=ew+Math.imul(eU,tC)|0,em=em+Math.imul(ek,tT)|0,eb=(eb=eb+Math.imul(ek,tP)|0)+Math.imul(eR,tT)|0,ew=ew+Math.imul(eR,tP)|0,em=em+Math.imul(eT,tR)|0,eb=(eb=eb+Math.imul(eT,tD)|0)+Math.imul(eP,tR)|0,ew=ew+Math.imul(eP,tD)|0;var tX=(eS+(em=em+Math.imul(eC,tU)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eC,tL)|0)+Math.imul(eM,tU)|0))<<13)|0;eS=((ew=ew+Math.imul(eM,tL)|0)+(eb>>>13)|0)+(tX>>>26)|0,tX&=67108863,em=Math.imul(eQ,e7),eb=(eb=Math.imul(eQ,tu))+Math.imul(e0,e7)|0,ew=Math.imul(e0,tu),em=em+Math.imul(eZ,td)|0,eb=(eb=eb+Math.imul(eZ,tg)|0)+Math.imul(eY,td)|0,ew=ew+Math.imul(eY,tg)|0,em=em+Math.imul(eG,tb)|0,eb=(eb=eb+Math.imul(eG,tw)|0)+Math.imul(eW,tb)|0,ew=ew+Math.imul(eW,tw)|0,em=em+Math.imul(eK,tE)|0,eb=(eb=eb+Math.imul(eK,tA)|0)+Math.imul(eH,tE)|0,ew=ew+Math.imul(eH,tA)|0,em=em+Math.imul(ej,tI)|0,eb=(eb=eb+Math.imul(ej,tC)|0)+Math.imul(eF,tI)|0,ew=ew+Math.imul(eF,tC)|0,em=em+Math.imul(eB,tT)|0,eb=(eb=eb+Math.imul(eB,tP)|0)+Math.imul(eU,tT)|0,ew=ew+Math.imul(eU,tP)|0,em=em+Math.imul(ek,tR)|0,eb=(eb=eb+Math.imul(ek,tD)|0)+Math.imul(eR,tR)|0,ew=ew+Math.imul(eR,tD)|0,em=em+Math.imul(eT,tU)|0,eb=(eb=eb+Math.imul(eT,tL)|0)+Math.imul(eP,tU)|0,ew=ew+Math.imul(eP,tL)|0;var tQ=(eS+(em=em+Math.imul(eC,tF)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eC,t$)|0)+Math.imul(eM,tF)|0))<<13)|0;eS=((ew=ew+Math.imul(eM,t$)|0)+(eb>>>13)|0)+(tQ>>>26)|0,tQ&=67108863,em=Math.imul(e8,e7),eb=(eb=Math.imul(e8,tu))+Math.imul(e5,e7)|0,ew=Math.imul(e5,tu),em=em+Math.imul(eQ,td)|0,eb=(eb=eb+Math.imul(eQ,tg)|0)+Math.imul(e0,td)|0,ew=ew+Math.imul(e0,tg)|0,em=em+Math.imul(eZ,tb)|0,eb=(eb=eb+Math.imul(eZ,tw)|0)+Math.imul(eY,tb)|0,ew=ew+Math.imul(eY,tw)|0,em=em+Math.imul(eG,tE)|0,eb=(eb=eb+Math.imul(eG,tA)|0)+Math.imul(eW,tE)|0,ew=ew+Math.imul(eW,tA)|0,em=em+Math.imul(eK,tI)|0,eb=(eb=eb+Math.imul(eK,tC)|0)+Math.imul(eH,tI)|0,ew=ew+Math.imul(eH,tC)|0,em=em+Math.imul(ej,tT)|0,eb=(eb=eb+Math.imul(ej,tP)|0)+Math.imul(eF,tT)|0,ew=ew+Math.imul(eF,tP)|0,em=em+Math.imul(eB,tR)|0,eb=(eb=eb+Math.imul(eB,tD)|0)+Math.imul(eU,tR)|0,ew=ew+Math.imul(eU,tD)|0,em=em+Math.imul(ek,tU)|0,eb=(eb=eb+Math.imul(ek,tL)|0)+Math.imul(eR,tU)|0,ew=ew+Math.imul(eR,tL)|0,em=em+Math.imul(eT,tF)|0,eb=(eb=eb+Math.imul(eT,t$)|0)+Math.imul(eP,tF)|0,ew=ew+Math.imul(eP,t$)|0;var t6=(eS+(em=em+Math.imul(eC,tq)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eC,tz)|0)+Math.imul(eM,tq)|0))<<13)|0;eS=((ew=ew+Math.imul(eM,tz)|0)+(eb>>>13)|0)+(t6>>>26)|0,t6&=67108863,em=Math.imul(e8,td),eb=(eb=Math.imul(e8,tg))+Math.imul(e5,td)|0,ew=Math.imul(e5,tg),em=em+Math.imul(eQ,tb)|0,eb=(eb=eb+Math.imul(eQ,tw)|0)+Math.imul(e0,tb)|0,ew=ew+Math.imul(e0,tw)|0,em=em+Math.imul(eZ,tE)|0,eb=(eb=eb+Math.imul(eZ,tA)|0)+Math.imul(eY,tE)|0,ew=ew+Math.imul(eY,tA)|0,em=em+Math.imul(eG,tI)|0,eb=(eb=eb+Math.imul(eG,tC)|0)+Math.imul(eW,tI)|0,ew=ew+Math.imul(eW,tC)|0,em=em+Math.imul(eK,tT)|0,eb=(eb=eb+Math.imul(eK,tP)|0)+Math.imul(eH,tT)|0,ew=ew+Math.imul(eH,tP)|0,em=em+Math.imul(ej,tR)|0,eb=(eb=eb+Math.imul(ej,tD)|0)+Math.imul(eF,tR)|0,ew=ew+Math.imul(eF,tD)|0,em=em+Math.imul(eB,tU)|0,eb=(eb=eb+Math.imul(eB,tL)|0)+Math.imul(eU,tU)|0,ew=ew+Math.imul(eU,tL)|0,em=em+Math.imul(ek,tF)|0,eb=(eb=eb+Math.imul(ek,t$)|0)+Math.imul(eR,tF)|0,ew=ew+Math.imul(eR,t$)|0;var t8=(eS+(em=em+Math.imul(eT,tq)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eT,tz)|0)+Math.imul(eP,tq)|0))<<13)|0;eS=((ew=ew+Math.imul(eP,tz)|0)+(eb>>>13)|0)+(t8>>>26)|0,t8&=67108863,em=Math.imul(e8,tb),eb=(eb=Math.imul(e8,tw))+Math.imul(e5,tb)|0,ew=Math.imul(e5,tw),em=em+Math.imul(eQ,tE)|0,eb=(eb=eb+Math.imul(eQ,tA)|0)+Math.imul(e0,tE)|0,ew=ew+Math.imul(e0,tA)|0,em=em+Math.imul(eZ,tI)|0,eb=(eb=eb+Math.imul(eZ,tC)|0)+Math.imul(eY,tI)|0,ew=ew+Math.imul(eY,tC)|0,em=em+Math.imul(eG,tT)|0,eb=(eb=eb+Math.imul(eG,tP)|0)+Math.imul(eW,tT)|0,ew=ew+Math.imul(eW,tP)|0,em=em+Math.imul(eK,tR)|0,eb=(eb=eb+Math.imul(eK,tD)|0)+Math.imul(eH,tR)|0,ew=ew+Math.imul(eH,tD)|0,em=em+Math.imul(ej,tU)|0,eb=(eb=eb+Math.imul(ej,tL)|0)+Math.imul(eF,tU)|0,ew=ew+Math.imul(eF,tL)|0,em=em+Math.imul(eB,tF)|0,eb=(eb=eb+Math.imul(eB,t$)|0)+Math.imul(eU,tF)|0,ew=ew+Math.imul(eU,t$)|0;var t5=(eS+(em=em+Math.imul(ek,tq)|0)|0)+((8191&(eb=(eb=eb+Math.imul(ek,tz)|0)+Math.imul(eR,tq)|0))<<13)|0;eS=((ew=ew+Math.imul(eR,tz)|0)+(eb>>>13)|0)+(t5>>>26)|0,t5&=67108863,em=Math.imul(e8,tE),eb=(eb=Math.imul(e8,tA))+Math.imul(e5,tE)|0,ew=Math.imul(e5,tA),em=em+Math.imul(eQ,tI)|0,eb=(eb=eb+Math.imul(eQ,tC)|0)+Math.imul(e0,tI)|0,ew=ew+Math.imul(e0,tC)|0,em=em+Math.imul(eZ,tT)|0,eb=(eb=eb+Math.imul(eZ,tP)|0)+Math.imul(eY,tT)|0,ew=ew+Math.imul(eY,tP)|0,em=em+Math.imul(eG,tR)|0,eb=(eb=eb+Math.imul(eG,tD)|0)+Math.imul(eW,tR)|0,ew=ew+Math.imul(eW,tD)|0,em=em+Math.imul(eK,tU)|0,eb=(eb=eb+Math.imul(eK,tL)|0)+Math.imul(eH,tU)|0,ew=ew+Math.imul(eH,tL)|0,em=em+Math.imul(ej,tF)|0,eb=(eb=eb+Math.imul(ej,t$)|0)+Math.imul(eF,tF)|0,ew=ew+Math.imul(eF,t$)|0;var t4=(eS+(em=em+Math.imul(eB,tq)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eB,tz)|0)+Math.imul(eU,tq)|0))<<13)|0;eS=((ew=ew+Math.imul(eU,tz)|0)+(eb>>>13)|0)+(t4>>>26)|0,t4&=67108863,em=Math.imul(e8,tI),eb=(eb=Math.imul(e8,tC))+Math.imul(e5,tI)|0,ew=Math.imul(e5,tC),em=em+Math.imul(eQ,tT)|0,eb=(eb=eb+Math.imul(eQ,tP)|0)+Math.imul(e0,tT)|0,ew=ew+Math.imul(e0,tP)|0,em=em+Math.imul(eZ,tR)|0,eb=(eb=eb+Math.imul(eZ,tD)|0)+Math.imul(eY,tR)|0,ew=ew+Math.imul(eY,tD)|0,em=em+Math.imul(eG,tU)|0,eb=(eb=eb+Math.imul(eG,tL)|0)+Math.imul(eW,tU)|0,ew=ew+Math.imul(eW,tL)|0,em=em+Math.imul(eK,tF)|0,eb=(eb=eb+Math.imul(eK,t$)|0)+Math.imul(eH,tF)|0,ew=ew+Math.imul(eH,t$)|0;var t9=(eS+(em=em+Math.imul(ej,tq)|0)|0)+((8191&(eb=(eb=eb+Math.imul(ej,tz)|0)+Math.imul(eF,tq)|0))<<13)|0;eS=((ew=ew+Math.imul(eF,tz)|0)+(eb>>>13)|0)+(t9>>>26)|0,t9&=67108863,em=Math.imul(e8,tT),eb=(eb=Math.imul(e8,tP))+Math.imul(e5,tT)|0,ew=Math.imul(e5,tP),em=em+Math.imul(eQ,tR)|0,eb=(eb=eb+Math.imul(eQ,tD)|0)+Math.imul(e0,tR)|0,ew=ew+Math.imul(e0,tD)|0,em=em+Math.imul(eZ,tU)|0,eb=(eb=eb+Math.imul(eZ,tL)|0)+Math.imul(eY,tU)|0,ew=ew+Math.imul(eY,tL)|0,em=em+Math.imul(eG,tF)|0,eb=(eb=eb+Math.imul(eG,t$)|0)+Math.imul(eW,tF)|0,ew=ew+Math.imul(eW,t$)|0;var t7=(eS+(em=em+Math.imul(eK,tq)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eK,tz)|0)+Math.imul(eH,tq)|0))<<13)|0;eS=((ew=ew+Math.imul(eH,tz)|0)+(eb>>>13)|0)+(t7>>>26)|0,t7&=67108863,em=Math.imul(e8,tR),eb=(eb=Math.imul(e8,tD))+Math.imul(e5,tR)|0,ew=Math.imul(e5,tD),em=em+Math.imul(eQ,tU)|0,eb=(eb=eb+Math.imul(eQ,tL)|0)+Math.imul(e0,tU)|0,ew=ew+Math.imul(e0,tL)|0,em=em+Math.imul(eZ,tF)|0,eb=(eb=eb+Math.imul(eZ,t$)|0)+Math.imul(eY,tF)|0,ew=ew+Math.imul(eY,t$)|0;var ru=(eS+(em=em+Math.imul(eG,tq)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eG,tz)|0)+Math.imul(eW,tq)|0))<<13)|0;eS=((ew=ew+Math.imul(eW,tz)|0)+(eb>>>13)|0)+(ru>>>26)|0,ru&=67108863,em=Math.imul(e8,tU),eb=(eb=Math.imul(e8,tL))+Math.imul(e5,tU)|0,ew=Math.imul(e5,tL),em=em+Math.imul(eQ,tF)|0,eb=(eb=eb+Math.imul(eQ,t$)|0)+Math.imul(e0,tF)|0,ew=ew+Math.imul(e0,t$)|0;var rd=(eS+(em=em+Math.imul(eZ,tq)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eZ,tz)|0)+Math.imul(eY,tq)|0))<<13)|0;eS=((ew=ew+Math.imul(eY,tz)|0)+(eb>>>13)|0)+(rd>>>26)|0,rd&=67108863,em=Math.imul(e8,tF),eb=(eb=Math.imul(e8,t$))+Math.imul(e5,tF)|0,ew=Math.imul(e5,t$);var rp=(eS+(em=em+Math.imul(eQ,tq)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eQ,tz)|0)+Math.imul(e0,tq)|0))<<13)|0;eS=((ew=ew+Math.imul(e0,tz)|0)+(eb>>>13)|0)+(rp>>>26)|0,rp&=67108863;var rg=(eS+(em=Math.imul(e8,tq))|0)+((8191&(eb=(eb=Math.imul(e8,tz))+Math.imul(e5,tq)|0))<<13)|0;return eS=((ew=Math.imul(e5,tz))+(eb>>>13)|0)+(rg>>>26)|0,rg&=67108863,eA[0]=tH,eA[1]=tV,eA[2]=tG,eA[3]=tW,eA[4]=tJ,eA[5]=tZ,eA[6]=tY,eA[7]=tX,eA[8]=tQ,eA[9]=t6,eA[10]=t8,eA[11]=t5,eA[12]=t4,eA[13]=t9,eA[14]=t7,eA[15]=ru,eA[16]=rd,eA[17]=rp,eA[18]=rg,0!==eS&&(eA[19]=eS,eg.length++),eg};function eN(eu,ed,eg){eg.negative=ed.negative^eu.negative,eg.length=eu.length+ed.length;for(var em=0,eb=0,ew=0;ew<eg.length-1;ew++){var e_=eb;eb=0;for(var eE=67108863&em,eA=Math.min(ew,ed.length-1),eS=Math.max(0,ew-eu.length+1);eS<=eA;eS++){var eI=ew-eS,eC=(0|eu.words[eI])*(0|ed.words[eS]),eM=67108863&eC;e_=e_+(eC/67108864|0)|0,eE=67108863&(eM=eM+eE|0),eb+=(e_=e_+(eM>>>26)|0)>>>26,e_&=67108863}eg.words[ew]=eE,em=e_,e_=eb}return 0!==em?eg.words[ew]=em:eg.length--,eg.strip()}function ek(eu,ed,eg){return new eR().mulp(eu,ed,eg)}function eR(eu,ed){this.x=eu,this.y=ed}Math.imul||(eP=eT),ew.prototype.mulTo=function(eu,ed){var eg=this.length+eu.length;return 10===this.length&&10===eu.length?eP(this,eu,ed):eg<63?eT(this,eu,ed):eg<1024?eN(this,eu,ed):ek(this,eu,ed)},eR.prototype.makeRBT=function(eu){for(var ed=Array(eu),eg=ew.prototype._countBits(eu)-1,em=0;em<eu;em++)ed[em]=this.revBin(em,eg,eu);return ed},eR.prototype.revBin=function(eu,ed,eg){if(0===eu||eu===eg-1)return eu;for(var em=0,eb=0;eb<ed;eb++)em|=(1&eu)<<ed-eb-1,eu>>=1;return em},eR.prototype.permute=function(eu,ed,eg,em,eb,ew){for(var e_=0;e_<ew;e_++)em[e_]=ed[eu[e_]],eb[e_]=eg[eu[e_]]},eR.prototype.transform=function(eu,ed,eg,em,eb,ew){this.permute(ew,eu,ed,eg,em,eb);for(var e_=1;e_<eb;e_<<=1)for(var eE=e_<<1,eA=Math.cos(2*Math.PI/eE),eS=Math.sin(2*Math.PI/eE),eI=0;eI<eb;eI+=eE)for(var eC=eA,eM=eS,eO=0;eO<e_;eO++){var eT=eg[eI+eO],eP=em[eI+eO],eN=eg[eI+eO+e_],ek=em[eI+eO+e_],eR=eC*eN-eM*ek;ek=eC*ek+eM*eN,eN=eR,eg[eI+eO]=eT+eN,em[eI+eO]=eP+ek,eg[eI+eO+e_]=eT-eN,em[eI+eO+e_]=eP-ek,eO!==eE&&(eR=eA*eC-eS*eM,eM=eA*eM+eS*eC,eC=eR)}},eR.prototype.guessLen13b=function(eu,ed){var eg=1|Math.max(ed,eu),em=1&eg,eb=0;for(eg=eg/2|0;eg;eg>>>=1)eb++;return 1<<eb+1+em},eR.prototype.conjugate=function(eu,ed,eg){if(!(eg<=1))for(var em=0;em<eg/2;em++){var eb=eu[em];eu[em]=eu[eg-em-1],eu[eg-em-1]=eb,eb=ed[em],ed[em]=-ed[eg-em-1],ed[eg-em-1]=-eb}},eR.prototype.normalize13b=function(eu,ed){for(var eg=0,em=0;em<ed/2;em++){var eb=8192*Math.round(eu[2*em+1]/ed)+Math.round(eu[2*em]/ed)+eg;eu[em]=67108863&eb,eg=eb<67108864?0:eb/67108864|0}return eu},eR.prototype.convert13b=function(eu,ed,eg,eb){for(var ew=0,e_=0;e_<ed;e_++)ew+=0|eu[e_],eg[2*e_]=8191&ew,ew>>>=13,eg[2*e_+1]=8191&ew,ew>>>=13;for(e_=2*ed;e_<eb;++e_)eg[e_]=0;em(0===ew),em((-8192&ew)==0)},eR.prototype.stub=function(eu){for(var ed=Array(eu),eg=0;eg<eu;eg++)ed[eg]=0;return ed},eR.prototype.mulp=function(eu,ed,eg){var em=2*this.guessLen13b(eu.length,ed.length),eb=this.makeRBT(em),ew=this.stub(em),e_=Array(em),eE=Array(em),eA=Array(em),eS=Array(em),eI=Array(em),eC=Array(em),eM=eg.words;eM.length=em,this.convert13b(eu.words,eu.length,e_,em),this.convert13b(ed.words,ed.length,eS,em),this.transform(e_,ew,eE,eA,em,eb),this.transform(eS,ew,eI,eC,em,eb);for(var eO=0;eO<em;eO++){var eT=eE[eO]*eI[eO]-eA[eO]*eC[eO];eA[eO]=eE[eO]*eC[eO]+eA[eO]*eI[eO],eE[eO]=eT}return this.conjugate(eE,eA,em),this.transform(eE,eA,eM,ew,em,eb),this.conjugate(eM,ew,em),this.normalize13b(eM,em),eg.negative=eu.negative^ed.negative,eg.length=eu.length+ed.length,eg.strip()},ew.prototype.mul=function(eu){var ed=new ew(null);return ed.words=Array(this.length+eu.length),this.mulTo(eu,ed)},ew.prototype.mulf=function(eu){var ed=new ew(null);return ed.words=Array(this.length+eu.length),ek(this,eu,ed)},ew.prototype.imul=function(eu){return this.clone().mulTo(eu,this)},ew.prototype.imuln=function(eu){em("number"==typeof eu),em(eu<67108864);for(var ed=0,eg=0;eg<this.length;eg++){var eb=(0|this.words[eg])*eu,ew=(67108863&eb)+(67108863&ed);ed>>=26,ed+=(eb/67108864|0)+(ew>>>26),this.words[eg]=67108863&ew}return 0!==ed&&(this.words[eg]=ed,this.length++),this.length=0===eu?1:this.length,this},ew.prototype.muln=function(eu){return this.clone().imuln(eu)},ew.prototype.sqr=function(){return this.mul(this)},ew.prototype.isqr=function(){return this.imul(this.clone())},ew.prototype.pow=function(eu){var ed=eO(eu);if(0===ed.length)return new ew(1);for(var eg=this,em=0;em<ed.length&&0===ed[em];em++,eg=eg.sqr());if(++em<ed.length)for(var eb=eg.sqr();em<ed.length;em++,eb=eb.sqr())0!==ed[em]&&(eg=eg.mul(eb));return eg},ew.prototype.iushln=function(eu){em("number"==typeof eu&&eu>=0);var ed,eg=eu%26,eb=(eu-eg)/26,ew=67108863>>>26-eg<<26-eg;if(0!==eg){var e_=0;for(ed=0;ed<this.length;ed++){var eE=this.words[ed]&ew,eA=(0|this.words[ed])-eE<<eg;this.words[ed]=eA|e_,e_=eE>>>26-eg}e_&&(this.words[ed]=e_,this.length++)}if(0!==eb){for(ed=this.length-1;ed>=0;ed--)this.words[ed+eb]=this.words[ed];for(ed=0;ed<eb;ed++)this.words[ed]=0;this.length+=eb}return this.strip()},ew.prototype.ishln=function(eu){return em(0===this.negative),this.iushln(eu)},ew.prototype.iushrn=function(eu,ed,eg){em("number"==typeof eu&&eu>=0),eb=ed?(ed-ed%26)/26:0;var eb,ew=eu%26,e_=Math.min((eu-ew)/26,this.length),eE=67108863^67108863>>>ew<<ew,eA=eg;if(eb-=e_,eb=Math.max(0,eb),eA){for(var eS=0;eS<e_;eS++)eA.words[eS]=this.words[eS];eA.length=e_}if(0===e_);else if(this.length>e_)for(this.length-=e_,eS=0;eS<this.length;eS++)this.words[eS]=this.words[eS+e_];else this.words[0]=0,this.length=1;var eI=0;for(eS=this.length-1;eS>=0&&(0!==eI||eS>=eb);eS--){var eC=0|this.words[eS];this.words[eS]=eI<<26-ew|eC>>>ew,eI=eC&eE}return eA&&0!==eI&&(eA.words[eA.length++]=eI),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},ew.prototype.ishrn=function(eu,ed,eg){return em(0===this.negative),this.iushrn(eu,ed,eg)},ew.prototype.shln=function(eu){return this.clone().ishln(eu)},ew.prototype.ushln=function(eu){return this.clone().iushln(eu)},ew.prototype.shrn=function(eu){return this.clone().ishrn(eu)},ew.prototype.ushrn=function(eu){return this.clone().iushrn(eu)},ew.prototype.testn=function(eu){em("number"==typeof eu&&eu>=0);var ed=eu%26,eg=(eu-ed)/26,eb=1<<ed;return!(this.length<=eg)&&!!(this.words[eg]&eb)},ew.prototype.imaskn=function(eu){em("number"==typeof eu&&eu>=0);var ed=eu%26,eg=(eu-ed)/26;if(em(0===this.negative,"imaskn works only with positive numbers"),this.length<=eg)return this;if(0!==ed&&eg++,this.length=Math.min(eg,this.length),0!==ed){var eb=67108863^67108863>>>ed<<ed;this.words[this.length-1]&=eb}return this.strip()},ew.prototype.maskn=function(eu){return this.clone().imaskn(eu)},ew.prototype.iaddn=function(eu){return(em("number"==typeof eu),em(eu<67108864),eu<0)?this.isubn(-eu):0!==this.negative?1===this.length&&(0|this.words[0])<eu?(this.words[0]=eu-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(eu),this.negative=1,this):this._iaddn(eu)},ew.prototype._iaddn=function(eu){this.words[0]+=eu;for(var ed=0;ed<this.length&&this.words[ed]>=67108864;ed++)this.words[ed]-=67108864,ed===this.length-1?this.words[ed+1]=1:this.words[ed+1]++;return this.length=Math.max(this.length,ed+1),this},ew.prototype.isubn=function(eu){if(em("number"==typeof eu),em(eu<67108864),eu<0)return this.iaddn(-eu);if(0!==this.negative)return this.negative=0,this.iaddn(eu),this.negative=1,this;if(this.words[0]-=eu,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var ed=0;ed<this.length&&this.words[ed]<0;ed++)this.words[ed]+=67108864,this.words[ed+1]-=1;return this.strip()},ew.prototype.addn=function(eu){return this.clone().iaddn(eu)},ew.prototype.subn=function(eu){return this.clone().isubn(eu)},ew.prototype.iabs=function(){return this.negative=0,this},ew.prototype.abs=function(){return this.clone().iabs()},ew.prototype._ishlnsubmul=function(eu,ed,eg){var eb,ew,e_=eu.length+eg;this._expand(e_);var eE=0;for(eb=0;eb<eu.length;eb++){ew=(0|this.words[eb+eg])+eE;var eA=(0|eu.words[eb])*ed;ew-=67108863&eA,eE=(ew>>26)-(eA/67108864|0),this.words[eb+eg]=67108863&ew}for(;eb<this.length-eg;eb++)eE=(ew=(0|this.words[eb+eg])+eE)>>26,this.words[eb+eg]=67108863&ew;if(0===eE)return this.strip();for(em(-1===eE),eE=0,eb=0;eb<this.length;eb++)eE=(ew=-(0|this.words[eb])+eE)>>26,this.words[eb]=67108863&ew;return this.negative=1,this.strip()},ew.prototype._wordDiv=function(eu,ed){var eg,em=this.length-eu.length,eb=this.clone(),e_=eu,eE=0|e_.words[e_.length-1];0!=(em=26-this._countBits(eE))&&(e_=e_.ushln(em),eb.iushln(em),eE=0|e_.words[e_.length-1]);var eA=eb.length-e_.length;if("mod"!==ed){(eg=new ew(null)).length=eA+1,eg.words=Array(eg.length);for(var eS=0;eS<eg.length;eS++)eg.words[eS]=0}var eI=eb.clone()._ishlnsubmul(e_,1,eA);0===eI.negative&&(eb=eI,eg&&(eg.words[eA]=1));for(var eC=eA-1;eC>=0;eC--){var eM=(0|eb.words[e_.length+eC])*67108864+(0|eb.words[e_.length+eC-1]);for(eM=Math.min(eM/eE|0,67108863),eb._ishlnsubmul(e_,eM,eC);0!==eb.negative;)eM--,eb.negative=0,eb._ishlnsubmul(e_,1,eC),eb.isZero()||(eb.negative^=1);eg&&(eg.words[eC]=eM)}return eg&&eg.strip(),eb.strip(),"div"!==ed&&0!==em&&eb.iushrn(em),{div:eg||null,mod:eb}},ew.prototype.divmod=function(eu,ed,eg){var eb,e_,eE;return(em(!eu.isZero()),this.isZero())?{div:new ew(0),mod:new ew(0)}:0!==this.negative&&0===eu.negative?(eE=this.neg().divmod(eu,ed),"mod"!==ed&&(eb=eE.div.neg()),"div"!==ed&&(e_=eE.mod.neg(),eg&&0!==e_.negative&&e_.iadd(eu)),{div:eb,mod:e_}):0===this.negative&&0!==eu.negative?(eE=this.divmod(eu.neg(),ed),"mod"!==ed&&(eb=eE.div.neg()),{div:eb,mod:eE.mod}):(this.negative&eu.negative)!=0?(eE=this.neg().divmod(eu.neg(),ed),"div"!==ed&&(e_=eE.mod.neg(),eg&&0!==e_.negative&&e_.isub(eu)),{div:eE.div,mod:e_}):eu.length>this.length||0>this.cmp(eu)?{div:new ew(0),mod:this}:1===eu.length?"div"===ed?{div:this.divn(eu.words[0]),mod:null}:"mod"===ed?{div:null,mod:new ew(this.modn(eu.words[0]))}:{div:this.divn(eu.words[0]),mod:new ew(this.modn(eu.words[0]))}:this._wordDiv(eu,ed)},ew.prototype.div=function(eu){return this.divmod(eu,"div",!1).div},ew.prototype.mod=function(eu){return this.divmod(eu,"mod",!1).mod},ew.prototype.umod=function(eu){return this.divmod(eu,"mod",!0).mod},ew.prototype.divRound=function(eu){var ed=this.divmod(eu);if(ed.mod.isZero())return ed.div;var eg=0!==ed.div.negative?ed.mod.isub(eu):ed.mod,em=eu.ushrn(1),eb=eu.andln(1),ew=eg.cmp(em);return ew<0||1===eb&&0===ew?ed.div:0!==ed.div.negative?ed.div.isubn(1):ed.div.iaddn(1)},ew.prototype.modn=function(eu){em(eu<=67108863);for(var ed=67108864%eu,eg=0,eb=this.length-1;eb>=0;eb--)eg=(ed*eg+(0|this.words[eb]))%eu;return eg},ew.prototype.idivn=function(eu){em(eu<=67108863);for(var ed=0,eg=this.length-1;eg>=0;eg--){var eb=(0|this.words[eg])+67108864*ed;this.words[eg]=eb/eu|0,ed=eb%eu}return this.strip()},ew.prototype.divn=function(eu){return this.clone().idivn(eu)},ew.prototype.egcd=function(eu){em(0===eu.negative),em(!eu.isZero());var ed=this,eg=eu.clone();ed=0!==ed.negative?ed.umod(eu):ed.clone();for(var eb=new ew(1),e_=new ew(0),eE=new ew(0),eA=new ew(1),eS=0;ed.isEven()&&eg.isEven();)ed.iushrn(1),eg.iushrn(1),++eS;for(var eI=eg.clone(),eC=ed.clone();!ed.isZero();){for(var eM=0,eO=1;(ed.words[0]&eO)==0&&eM<26;++eM,eO<<=1);if(eM>0)for(ed.iushrn(eM);eM-- >0;)(eb.isOdd()||e_.isOdd())&&(eb.iadd(eI),e_.isub(eC)),eb.iushrn(1),e_.iushrn(1);for(var eT=0,eP=1;(eg.words[0]&eP)==0&&eT<26;++eT,eP<<=1);if(eT>0)for(eg.iushrn(eT);eT-- >0;)(eE.isOdd()||eA.isOdd())&&(eE.iadd(eI),eA.isub(eC)),eE.iushrn(1),eA.iushrn(1);ed.cmp(eg)>=0?(ed.isub(eg),eb.isub(eE),e_.isub(eA)):(eg.isub(ed),eE.isub(eb),eA.isub(e_))}return{a:eE,b:eA,gcd:eg.iushln(eS)}},ew.prototype._invmp=function(eu){em(0===eu.negative),em(!eu.isZero());var ed,eg=this,eb=eu.clone();eg=0!==eg.negative?eg.umod(eu):eg.clone();for(var e_=new ew(1),eE=new ew(0),eA=eb.clone();eg.cmpn(1)>0&&eb.cmpn(1)>0;){for(var eS=0,eI=1;(eg.words[0]&eI)==0&&eS<26;++eS,eI<<=1);if(eS>0)for(eg.iushrn(eS);eS-- >0;)e_.isOdd()&&e_.iadd(eA),e_.iushrn(1);for(var eC=0,eM=1;(eb.words[0]&eM)==0&&eC<26;++eC,eM<<=1);if(eC>0)for(eb.iushrn(eC);eC-- >0;)eE.isOdd()&&eE.iadd(eA),eE.iushrn(1);eg.cmp(eb)>=0?(eg.isub(eb),e_.isub(eE)):(eb.isub(eg),eE.isub(e_))}return 0>(ed=0===eg.cmpn(1)?e_:eE).cmpn(0)&&ed.iadd(eu),ed},ew.prototype.gcd=function(eu){if(this.isZero())return eu.abs();if(eu.isZero())return this.abs();var ed=this.clone(),eg=eu.clone();ed.negative=0,eg.negative=0;for(var em=0;ed.isEven()&&eg.isEven();em++)ed.iushrn(1),eg.iushrn(1);for(;;){for(;ed.isEven();)ed.iushrn(1);for(;eg.isEven();)eg.iushrn(1);var eb=ed.cmp(eg);if(eb<0){var ew=ed;ed=eg,eg=ew}else if(0===eb||0===eg.cmpn(1))break;ed.isub(eg)}return eg.iushln(em)},ew.prototype.invm=function(eu){return this.egcd(eu).a.umod(eu)},ew.prototype.isEven=function(){return(1&this.words[0])==0},ew.prototype.isOdd=function(){return(1&this.words[0])==1},ew.prototype.andln=function(eu){return this.words[0]&eu},ew.prototype.bincn=function(eu){em("number"==typeof eu);var ed=eu%26,eg=(eu-ed)/26,eb=1<<ed;if(this.length<=eg)return this._expand(eg+1),this.words[eg]|=eb,this;for(var ew=eb,e_=eg;0!==ew&&e_<this.length;e_++){var eE=0|this.words[e_];eE+=ew,ew=eE>>>26,eE&=67108863,this.words[e_]=eE}return 0!==ew&&(this.words[e_]=ew,this.length++),this},ew.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},ew.prototype.cmpn=function(eu){var ed,eg=eu<0;if(0!==this.negative&&!eg)return -1;if(0===this.negative&&eg)return 1;if(this.strip(),this.length>1)ed=1;else{eg&&(eu=-eu),em(eu<=67108863,"Number is too big");var eb=0|this.words[0];ed=eb===eu?0:eb<eu?-1:1}return 0!==this.negative?0|-ed:ed},ew.prototype.cmp=function(eu){if(0!==this.negative&&0===eu.negative)return -1;if(0===this.negative&&0!==eu.negative)return 1;var ed=this.ucmp(eu);return 0!==this.negative?0|-ed:ed},ew.prototype.ucmp=function(eu){if(this.length>eu.length)return 1;if(this.length<eu.length)return -1;for(var ed=0,eg=this.length-1;eg>=0;eg--){var em=0|this.words[eg],eb=0|eu.words[eg];if(em!==eb){em<eb?ed=-1:em>eb&&(ed=1);break}}return ed},ew.prototype.gtn=function(eu){return 1===this.cmpn(eu)},ew.prototype.gt=function(eu){return 1===this.cmp(eu)},ew.prototype.gten=function(eu){return this.cmpn(eu)>=0},ew.prototype.gte=function(eu){return this.cmp(eu)>=0},ew.prototype.ltn=function(eu){return -1===this.cmpn(eu)},ew.prototype.lt=function(eu){return -1===this.cmp(eu)},ew.prototype.lten=function(eu){return 0>=this.cmpn(eu)},ew.prototype.lte=function(eu){return 0>=this.cmp(eu)},ew.prototype.eqn=function(eu){return 0===this.cmpn(eu)},ew.prototype.eq=function(eu){return 0===this.cmp(eu)},ew.red=function(eu){return new e$(eu)},ew.prototype.toRed=function(eu){return em(!this.red,"Already a number in reduction context"),em(0===this.negative,"red works only with positives"),eu.convertTo(this)._forceRed(eu)},ew.prototype.fromRed=function(){return em(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},ew.prototype._forceRed=function(eu){return this.red=eu,this},ew.prototype.forceRed=function(eu){return em(!this.red,"Already a number in reduction context"),this._forceRed(eu)},ew.prototype.redAdd=function(eu){return em(this.red,"redAdd works only with red numbers"),this.red.add(this,eu)},ew.prototype.redIAdd=function(eu){return em(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,eu)},ew.prototype.redSub=function(eu){return em(this.red,"redSub works only with red numbers"),this.red.sub(this,eu)},ew.prototype.redISub=function(eu){return em(this.red,"redISub works only with red numbers"),this.red.isub(this,eu)},ew.prototype.redShl=function(eu){return em(this.red,"redShl works only with red numbers"),this.red.shl(this,eu)},ew.prototype.redMul=function(eu){return em(this.red,"redMul works only with red numbers"),this.red._verify2(this,eu),this.red.mul(this,eu)},ew.prototype.redIMul=function(eu){return em(this.red,"redMul works only with red numbers"),this.red._verify2(this,eu),this.red.imul(this,eu)},ew.prototype.redSqr=function(){return em(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},ew.prototype.redISqr=function(){return em(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},ew.prototype.redSqrt=function(){return em(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},ew.prototype.redInvm=function(){return em(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},ew.prototype.redNeg=function(){return em(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},ew.prototype.redPow=function(eu){return em(this.red&&!eu.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,eu)};var eD={k256:null,p224:null,p192:null,p25519:null};function eB(eu,ed){this.name=eu,this.p=new ew(ed,16),this.n=this.p.bitLength(),this.k=new ew(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function eU(){eB.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function eL(){eB.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function ej(){eB.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function eF(){eB.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function e$(eu){if("string"==typeof eu){var ed=ew._prime(eu);this.m=ed.p,this.prime=ed}else em(eu.gtn(1),"modulus must be greater than 1"),this.m=eu,this.prime=null}function eK(eu){e$.call(this,eu),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new ew(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}eB.prototype._tmp=function(){var eu=new ew(null);return eu.words=Array(Math.ceil(this.n/13)),eu},eB.prototype.ireduce=function(eu){var ed,eg=eu;do this.split(eg,this.tmp),ed=(eg=(eg=this.imulK(eg)).iadd(this.tmp)).bitLength();while(ed>this.n);var em=ed<this.n?-1:eg.ucmp(this.p);return 0===em?(eg.words[0]=0,eg.length=1):em>0?eg.isub(this.p):void 0!==eg.strip?eg.strip():eg._strip(),eg},eB.prototype.split=function(eu,ed){eu.iushrn(this.n,0,ed)},eB.prototype.imulK=function(eu){return eu.imul(this.k)},eb(eU,eB),eU.prototype.split=function(eu,ed){for(var eg=4194303,em=Math.min(eu.length,9),eb=0;eb<em;eb++)ed.words[eb]=eu.words[eb];if(ed.length=em,eu.length<=9){eu.words[0]=0,eu.length=1;return}var ew=eu.words[9];for(eb=10,ed.words[ed.length++]=ew&eg;eb<eu.length;eb++){var e_=0|eu.words[eb];eu.words[eb-10]=(e_&eg)<<4|ew>>>22,ew=e_}ew>>>=22,eu.words[eb-10]=ew,0===ew&&eu.length>10?eu.length-=10:eu.length-=9},eU.prototype.imulK=function(eu){eu.words[eu.length]=0,eu.words[eu.length+1]=0,eu.length+=2;for(var ed=0,eg=0;eg<eu.length;eg++){var em=0|eu.words[eg];ed+=977*em,eu.words[eg]=67108863&ed,ed=64*em+(ed/67108864|0)}return 0===eu.words[eu.length-1]&&(eu.length--,0===eu.words[eu.length-1]&&eu.length--),eu},eb(eL,eB),eb(ej,eB),eb(eF,eB),eF.prototype.imulK=function(eu){for(var ed=0,eg=0;eg<eu.length;eg++){var em=(0|eu.words[eg])*19+ed,eb=67108863&em;em>>>=26,eu.words[eg]=eb,ed=em}return 0!==ed&&(eu.words[eu.length++]=ed),eu},ew._prime=function(eu){var ed;if(eD[eu])return eD[eu];if("k256"===eu)ed=new eU;else if("p224"===eu)ed=new eL;else if("p192"===eu)ed=new ej;else if("p25519"===eu)ed=new eF;else throw Error("Unknown prime "+eu);return eD[eu]=ed,ed},e$.prototype._verify1=function(eu){em(0===eu.negative,"red works only with positives"),em(eu.red,"red works only with red numbers")},e$.prototype._verify2=function(eu,ed){em((eu.negative|ed.negative)==0,"red works only with positives"),em(eu.red&&eu.red===ed.red,"red works only with red numbers")},e$.prototype.imod=function(eu){return this.prime?this.prime.ireduce(eu)._forceRed(this):eu.umod(this.m)._forceRed(this)},e$.prototype.neg=function(eu){return eu.isZero()?eu.clone():this.m.sub(eu)._forceRed(this)},e$.prototype.add=function(eu,ed){this._verify2(eu,ed);var eg=eu.add(ed);return eg.cmp(this.m)>=0&&eg.isub(this.m),eg._forceRed(this)},e$.prototype.iadd=function(eu,ed){this._verify2(eu,ed);var eg=eu.iadd(ed);return eg.cmp(this.m)>=0&&eg.isub(this.m),eg},e$.prototype.sub=function(eu,ed){this._verify2(eu,ed);var eg=eu.sub(ed);return 0>eg.cmpn(0)&&eg.iadd(this.m),eg._forceRed(this)},e$.prototype.isub=function(eu,ed){this._verify2(eu,ed);var eg=eu.isub(ed);return 0>eg.cmpn(0)&&eg.iadd(this.m),eg},e$.prototype.shl=function(eu,ed){return this._verify1(eu),this.imod(eu.ushln(ed))},e$.prototype.imul=function(eu,ed){return this._verify2(eu,ed),this.imod(eu.imul(ed))},e$.prototype.mul=function(eu,ed){return this._verify2(eu,ed),this.imod(eu.mul(ed))},e$.prototype.isqr=function(eu){return this.imul(eu,eu.clone())},e$.prototype.sqr=function(eu){return this.mul(eu,eu)},e$.prototype.sqrt=function(eu){if(eu.isZero())return eu.clone();var ed=this.m.andln(3);if(em(ed%2==1),3===ed){var eg=this.m.add(new ew(1)).iushrn(2);return this.pow(eu,eg)}for(var eb=this.m.subn(1),e_=0;!eb.isZero()&&0===eb.andln(1);)e_++,eb.iushrn(1);em(!eb.isZero());var eE=new ew(1).toRed(this),eA=eE.redNeg(),eS=this.m.subn(1).iushrn(1),eI=this.m.bitLength();for(eI=new ew(2*eI*eI).toRed(this);0!==this.pow(eI,eS).cmp(eA);)eI.redIAdd(eA);for(var eC=this.pow(eI,eb),eM=this.pow(eu,eb.addn(1).iushrn(1)),eO=this.pow(eu,eb),eT=e_;0!==eO.cmp(eE);){for(var eP=eO,eN=0;0!==eP.cmp(eE);eN++)eP=eP.redSqr();em(eN<eT);var ek=this.pow(eC,new ew(1).iushln(eT-eN-1));eM=eM.redMul(ek),eC=ek.redSqr(),eO=eO.redMul(eC),eT=eN}return eM},e$.prototype.invm=function(eu){var ed=eu._invmp(this.m);return 0!==ed.negative?(ed.negative=0,this.imod(ed).redNeg()):this.imod(ed)},e$.prototype.pow=function(eu,ed){if(ed.isZero())return new ew(1).toRed(this);if(0===ed.cmpn(1))return eu.clone();var eg=4,em=Array(16);em[0]=new ew(1).toRed(this),em[1]=eu;for(var eb=2;eb<em.length;eb++)em[eb]=this.mul(em[eb-1],eu);var e_=em[0],eE=0,eA=0,eS=ed.bitLength()%26;for(0===eS&&(eS=26),eb=ed.length-1;eb>=0;eb--){for(var eI=ed.words[eb],eC=eS-1;eC>=0;eC--){var eM=eI>>eC&1;if(e_!==em[0]&&(e_=this.sqr(e_)),0===eM&&0===eE){eA=0;continue}eE<<=1,eE|=eM,(++eA===eg||0===eb&&0===eC)&&(e_=this.mul(e_,em[eE]),eA=0,eE=0)}eS=26}return e_},e$.prototype.convertTo=function(eu){var ed=eu.umod(this.m);return ed===eu?ed.clone():ed},e$.prototype.convertFrom=function(eu){var ed=eu.clone();return ed.red=null,ed},ew.mont=function(eu){return new eK(eu)},eb(eK,e$),eK.prototype.convertTo=function(eu){return this.imod(eu.ushln(this.shift))},eK.prototype.convertFrom=function(eu){var ed=this.imod(eu.mul(this.rinv));return ed.red=null,ed},eK.prototype.imul=function(eu,ed){if(eu.isZero()||ed.isZero())return eu.words[0]=0,eu.length=1,eu;var eg=eu.imul(ed),em=eg.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),eb=eg.isub(em).iushrn(this.shift),ew=eb;return eb.cmp(this.m)>=0?ew=eb.isub(this.m):0>eb.cmpn(0)&&(ew=eb.iadd(this.m)),ew._forceRed(this)},eK.prototype.mul=function(eu,ed){if(eu.isZero()||ed.isZero())return new ew(0)._forceRed(this);var eg=eu.mul(ed),em=eg.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),eb=eg.isub(em).iushrn(this.shift),e_=eb;return eb.cmp(this.m)>=0?e_=eb.isub(this.m):0>eb.cmpn(0)&&(e_=eb.iadd(this.m)),e_._forceRed(this)},eK.prototype.invm=function(eu){return this.imod(eu._invmp(this.m).mul(this.r2))._forceRed(this)}}(eu=eg.nmd(eu),this)},18166:function(eu,ed,eg){"use strict";var em=eg(77834).Buffer;function eb(eu){if(eu.length>=255)throw TypeError("Alphabet too long");for(var ed=new Uint8Array(256),eg=0;eg<ed.length;eg++)ed[eg]=255;for(var eb=0;eb<eu.length;eb++){var ew=eu.charAt(eb),e_=ew.charCodeAt(0);if(255!==ed[e_])throw TypeError(ew+" is ambiguous");ed[e_]=eb}var eE=eu.length,eA=eu.charAt(0),eS=Math.log(eE)/Math.log(256),eI=Math.log(256)/Math.log(eE);function eC(eu){if("string"!=typeof eu)throw TypeError("Expected String");if(0===eu.length)return em.alloc(0);for(var eg=0,eb=0,ew=0;eu[eg]===eA;)eb++,eg++;for(var e_=(eu.length-eg)*eS+1>>>0,eI=new Uint8Array(e_);eg<eu.length;){var eC=eu.charCodeAt(eg);if(eC>255)return;var eM=ed[eC];if(255===eM)return;for(var eO=0,eT=e_-1;(0!==eM||eO<ew)&&-1!==eT;eT--,eO++)eM+=eE*eI[eT]>>>0,eI[eT]=eM%256>>>0,eM=eM/256>>>0;if(0!==eM)throw Error("Non-zero carry");ew=eO,eg++}for(var eP=e_-ew;eP!==e_&&0===eI[eP];)eP++;var eN=em.allocUnsafe(eb+(e_-eP));eN.fill(0,0,eb);for(var ek=eb;eP!==e_;)eN[ek++]=eI[eP++];return eN}function eM(eu){var ed=eC(eu);if(ed)return ed;throw Error("Non-base"+eE+" character")}return{encode:function(ed){if((Array.isArray(ed)||ed instanceof Uint8Array)&&(ed=em.from(ed)),!em.isBuffer(ed))throw TypeError("Expected Buffer");if(0===ed.length)return"";for(var eg=0,eb=0,ew=0,e_=ed.length;ew!==e_&&0===ed[ew];)ew++,eg++;for(var eS=(e_-ew)*eI+1>>>0,eC=new Uint8Array(eS);ew!==e_;){for(var eM=ed[ew],eO=0,eT=eS-1;(0!==eM||eO<eb)&&-1!==eT;eT--,eO++)eM+=256*eC[eT]>>>0,eC[eT]=eM%eE>>>0,eM=eM/eE>>>0;if(0!==eM)throw Error("Non-zero carry");eb=eO,ew++}for(var eP=eS-eb;eP!==eS&&0===eC[eP];)eP++;for(var eN=eA.repeat(eg);eP<eS;++eP)eN+=eu.charAt(eC[eP]);return eN},decodeUnsafe:eC,decode:eM}}eu.exports=eb},95766:function(eu,ed){"use strict";ed.byteLength=eS,ed.toByteArray=eC,ed.fromByteArray=eT;for(var eg=[],em=[],eb="undefined"!=typeof Uint8Array?Uint8Array:Array,ew="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e_=0,eE=ew.length;e_<eE;++e_)eg[e_]=ew[e_],em[ew.charCodeAt(e_)]=e_;function eA(eu){var ed=eu.length;if(ed%4>0)throw Error("Invalid string. Length must be a multiple of 4");var eg=eu.indexOf("=");-1===eg&&(eg=ed);var em=eg===ed?0:4-eg%4;return[eg,em]}function eS(eu){var ed=eA(eu),eg=ed[0],em=ed[1];return(eg+em)*3/4-em}function eI(eu,ed,eg){return(ed+eg)*3/4-eg}function eC(eu){var ed,eg,ew=eA(eu),e_=ew[0],eE=ew[1],eS=new eb(eI(eu,e_,eE)),eC=0,eM=eE>0?e_-4:e_;for(eg=0;eg<eM;eg+=4)ed=em[eu.charCodeAt(eg)]<<18|em[eu.charCodeAt(eg+1)]<<12|em[eu.charCodeAt(eg+2)]<<6|em[eu.charCodeAt(eg+3)],eS[eC++]=ed>>16&255,eS[eC++]=ed>>8&255,eS[eC++]=255&ed;return 2===eE&&(ed=em[eu.charCodeAt(eg)]<<2|em[eu.charCodeAt(eg+1)]>>4,eS[eC++]=255&ed),1===eE&&(ed=em[eu.charCodeAt(eg)]<<10|em[eu.charCodeAt(eg+1)]<<4|em[eu.charCodeAt(eg+2)]>>2,eS[eC++]=ed>>8&255,eS[eC++]=255&ed),eS}function eM(eu){return eg[eu>>18&63]+eg[eu>>12&63]+eg[eu>>6&63]+eg[63&eu]}function eO(eu,ed,eg){for(var em=[],eb=ed;eb<eg;eb+=3)em.push(eM((eu[eb]<<16&16711680)+(eu[eb+1]<<8&65280)+(255&eu[eb+2])));return em.join("")}function eT(eu){for(var ed,em=eu.length,eb=em%3,ew=[],e_=16383,eE=0,eA=em-eb;eE<eA;eE+=e_)ew.push(eO(eu,eE,eE+e_>eA?eA:eE+e_));return 1===eb?ew.push(eg[(ed=eu[em-1])>>2]+eg[ed<<4&63]+"=="):2===eb&&ew.push(eg[(ed=(eu[em-2]<<8)+eu[em-1])>>10]+eg[ed>>4&63]+eg[ed<<2&63]+"="),ew.join("")}em["-".charCodeAt(0)]=62,em["_".charCodeAt(0)]=63},70651:function(eu,ed,eg){let em=eg(7967);function eb(eu,ed,eg){let em=eu[ed]+eu[eg],eb=eu[ed+1]+eu[eg+1];em>=4294967296&&eb++,eu[ed]=em,eu[ed+1]=eb}function ew(eu,ed,eg,em){let eb=eu[ed]+eg;eg<0&&(eb+=4294967296);let ew=eu[ed+1]+em;eb>=4294967296&&ew++,eu[ed]=eb,eu[ed+1]=ew}function e_(eu,ed){return eu[ed]^eu[ed+1]<<8^eu[ed+2]<<16^eu[ed+3]<<24}function eE(eu,ed,eg,em,e_,eE){let eA=eM[e_],eS=eM[e_+1],eI=eM[eE],eO=eM[eE+1];eb(eC,eu,ed),ew(eC,eu,eA,eS);let eT=eC[em]^eC[eu],eP=eC[em+1]^eC[eu+1];eC[em]=eP,eC[em+1]=eT,eb(eC,eg,em),eT=eC[ed]^eC[eg],eP=eC[ed+1]^eC[eg+1],eC[ed]=eT>>>24^eP<<8,eC[ed+1]=eP>>>24^eT<<8,eb(eC,eu,ed),ew(eC,eu,eI,eO),eT=eC[em]^eC[eu],eP=eC[em+1]^eC[eu+1],eC[em]=eT>>>16^eP<<16,eC[em+1]=eP>>>16^eT<<16,eb(eC,eg,em),eT=eC[ed]^eC[eg],eP=eC[ed+1]^eC[eg+1],eC[ed]=eP>>>31^eT<<1,eC[ed+1]=eT>>>31^eP<<1}let eA=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),eS=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],eI=new Uint8Array(eS.map(function(eu){return 2*eu})),eC=new Uint32Array(32),eM=new Uint32Array(32);function eO(eu,ed){let eg=0;for(eg=0;eg<16;eg++)eC[eg]=eu.h[eg],eC[eg+16]=eA[eg];for(eC[24]=eC[24]^eu.t,eC[25]=eC[25]^eu.t/4294967296,ed&&(eC[28]=~eC[28],eC[29]=~eC[29]),eg=0;eg<32;eg++)eM[eg]=e_(eu.b,4*eg);for(eg=0;eg<12;eg++)eE(0,8,16,24,eI[16*eg+0],eI[16*eg+1]),eE(2,10,18,26,eI[16*eg+2],eI[16*eg+3]),eE(4,12,20,28,eI[16*eg+4],eI[16*eg+5]),eE(6,14,22,30,eI[16*eg+6],eI[16*eg+7]),eE(0,10,20,30,eI[16*eg+8],eI[16*eg+9]),eE(2,12,22,24,eI[16*eg+10],eI[16*eg+11]),eE(4,14,16,26,eI[16*eg+12],eI[16*eg+13]),eE(6,8,18,28,eI[16*eg+14],eI[16*eg+15]);for(eg=0;eg<16;eg++)eu.h[eg]=eu.h[eg]^eC[eg]^eC[eg+16]}let eT=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function eP(eu,ed,eg,em){if(0===eu||eu>64)throw Error("Illegal output length, expected 0 < length <= 64");if(ed&&ed.length>64)throw Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(eg&&16!==eg.length)throw Error("Illegal salt, expected Uint8Array with length is 16");if(em&&16!==em.length)throw Error("Illegal personal, expected Uint8Array with length is 16");let eb={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:eu};eT.fill(0),eT[0]=eu,ed&&(eT[1]=ed.length),eT[2]=1,eT[3]=1,eg&&eT.set(eg,32),em&&eT.set(em,48);for(let eu=0;eu<16;eu++)eb.h[eu]=eA[eu]^e_(eT,4*eu);return ed&&(eN(eb,ed),eb.c=128),eb}function eN(eu,ed){for(let eg=0;eg<ed.length;eg++)128===eu.c&&(eu.t+=eu.c,eO(eu,!1),eu.c=0),eu.b[eu.c++]=ed[eg]}function ek(eu){for(eu.t+=eu.c;eu.c<128;)eu.b[eu.c++]=0;eO(eu,!0);let ed=new Uint8Array(eu.outlen);for(let eg=0;eg<eu.outlen;eg++)ed[eg]=eu.h[eg>>2]>>8*(3&eg);return ed}function eR(eu,ed,eg,eb,ew){eg=eg||64,eu=em.normalizeInput(eu),eb&&(eb=em.normalizeInput(eb)),ew&&(ew=em.normalizeInput(ew));let e_=eP(eg,ed,eb,ew);return eN(e_,eu),ek(e_)}function eD(eu,ed,eg,eb,ew){let e_=eR(eu,ed,eg,eb,ew);return em.toHex(e_)}eu.exports={blake2b:eR,blake2bHex:eD,blake2bInit:eP,blake2bUpdate:eN,blake2bFinal:ek}},39962:function(eu,ed,eg){let em=eg(7967);function eb(eu,ed){return eu[ed]^eu[ed+1]<<8^eu[ed+2]<<16^eu[ed+3]<<24}function ew(eu,ed,eg,em,eb,ew){eS[eu]=eS[eu]+eS[ed]+eb,eS[em]=e_(eS[em]^eS[eu],16),eS[eg]=eS[eg]+eS[em],eS[ed]=e_(eS[ed]^eS[eg],12),eS[eu]=eS[eu]+eS[ed]+ew,eS[em]=e_(eS[em]^eS[eu],8),eS[eg]=eS[eg]+eS[em],eS[ed]=e_(eS[ed]^eS[eg],7)}function e_(eu,ed){return eu>>>ed^eu<<32-ed}let eE=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),eA=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),eS=new Uint32Array(16),eI=new Uint32Array(16);function eC(eu,ed){let eg=0;for(eg=0;eg<8;eg++)eS[eg]=eu.h[eg],eS[eg+8]=eE[eg];for(eS[12]^=eu.t,eS[13]^=eu.t/4294967296,ed&&(eS[14]=~eS[14]),eg=0;eg<16;eg++)eI[eg]=eb(eu.b,4*eg);for(eg=0;eg<10;eg++)ew(0,4,8,12,eI[eA[16*eg+0]],eI[eA[16*eg+1]]),ew(1,5,9,13,eI[eA[16*eg+2]],eI[eA[16*eg+3]]),ew(2,6,10,14,eI[eA[16*eg+4]],eI[eA[16*eg+5]]),ew(3,7,11,15,eI[eA[16*eg+6]],eI[eA[16*eg+7]]),ew(0,5,10,15,eI[eA[16*eg+8]],eI[eA[16*eg+9]]),ew(1,6,11,12,eI[eA[16*eg+10]],eI[eA[16*eg+11]]),ew(2,7,8,13,eI[eA[16*eg+12]],eI[eA[16*eg+13]]),ew(3,4,9,14,eI[eA[16*eg+14]],eI[eA[16*eg+15]]);for(eg=0;eg<8;eg++)eu.h[eg]^=eS[eg]^eS[eg+8]}function eM(eu,ed){if(!(eu>0&&eu<=32))throw Error("Incorrect output length, should be in [1, 32]");let eg=ed?ed.length:0;if(ed&&!(eg>0&&eg<=32))throw Error("Incorrect key length, should be in [1, 32]");let em={h:new Uint32Array(eE),b:new Uint8Array(64),c:0,t:0,outlen:eu};return em.h[0]^=16842752^eg<<8^eu,eg>0&&(eO(em,ed),em.c=64),em}function eO(eu,ed){for(let eg=0;eg<ed.length;eg++)64===eu.c&&(eu.t+=eu.c,eC(eu,!1),eu.c=0),eu.b[eu.c++]=ed[eg]}function eT(eu){for(eu.t+=eu.c;eu.c<64;)eu.b[eu.c++]=0;eC(eu,!0);let ed=new Uint8Array(eu.outlen);for(let eg=0;eg<eu.outlen;eg++)ed[eg]=eu.h[eg>>2]>>8*(3&eg)&255;return ed}function eP(eu,ed,eg){eg=eg||32,eu=em.normalizeInput(eu);let eb=eM(eg,ed);return eO(eb,eu),eT(eb)}function eN(eu,ed,eg){let eb=eP(eu,ed,eg);return em.toHex(eb)}eu.exports={blake2s:eP,blake2sHex:eN,blake2sInit:eM,blake2sUpdate:eO,blake2sFinal:eT}},81395:function(eu,ed,eg){let em=eg(70651),eb=eg(39962);eu.exports={blake2b:em.blake2b,blake2bHex:em.blake2bHex,blake2bInit:em.blake2bInit,blake2bUpdate:em.blake2bUpdate,blake2bFinal:em.blake2bFinal,blake2s:eb.blake2s,blake2sHex:eb.blake2sHex,blake2sInit:eb.blake2sInit,blake2sUpdate:eb.blake2sUpdate,blake2sFinal:eb.blake2sFinal}},7967:function(eu){let ed="Input must be an string, Buffer or Uint8Array";function eg(eu){let eg;if(eu instanceof Uint8Array)eg=eu;else if("string"==typeof eu){let ed=new TextEncoder;eg=ed.encode(eu)}else throw Error(ed);return eg}function em(eu){return Array.prototype.map.call(eu,function(eu){return(eu<16?"0":"")+eu.toString(16)}).join("")}function eb(eu){return(4294967296+eu).toString(16).substring(1)}function ew(eu,ed,eg){let em="\n"+eu+" = ";for(let ew=0;ew<ed.length;ew+=2){if(32===eg)em+=eb(ed[ew]).toUpperCase()+" "+eb(ed[ew+1]).toUpperCase();else if(64===eg)em+=eb(ed[ew+1]).toUpperCase()+eb(ed[ew]).toUpperCase();else throw Error("Invalid size "+eg);ew%6==4?em+="\n"+Array(eu.length+4).join(" "):ew<ed.length-2&&(em+=" ")}console.log(em)}function e_(eu,ed,eg){let em=new Date().getTime(),eb=new Uint8Array(ed);for(let eu=0;eu<ed;eu++)eb[eu]=eu%256;let ew=new Date().getTime();console.log("Generated random input in "+(ew-em)+"ms"),em=ew;for(let ew=0;ew<eg;ew++){let eg=eu(eb),ew=new Date().getTime(),e_=ew-em;em=ew,console.log("Hashed in "+e_+"ms: "+eg.substring(0,20)+"..."),console.log(Math.round(ed/1048576/(e_/1e3)*100)/100+" MB PER SECOND")}}eu.exports={normalizeInput:eg,toHex:em,debugPrint:ew,testSpeed:e_}},62197:function(eu,ed,eg){!function(eu,ed){"use strict";function em(eu,ed){if(!eu)throw Error(ed||"Assertion failed")}function eb(eu,ed){eu.super_=ed;var eg=function(){};eg.prototype=ed.prototype,eu.prototype=new eg,eu.prototype.constructor=eu}function ew(eu,ed,eg){if(ew.isBN(eu))return eu;this.negative=0,this.words=null,this.length=0,this.red=null,null!==eu&&(("le"===ed||"be"===ed)&&(eg=ed,ed=10),this._init(eu||0,ed||10,eg||"be"))}"object"==typeof eu?eu.exports=ew:ed.BN=ew,ew.BN=ew,ew.wordSize=26;try{eC="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:eg(33196).Buffer}catch(eu){}function e_(eu,ed){var eg=eu.charCodeAt(ed);return eg>=48&&eg<=57?eg-48:eg>=65&&eg<=70?eg-55:eg>=97&&eg<=102?eg-87:void em(!1,"Invalid character in "+eu)}function eE(eu,ed,eg){var em=e_(eu,eg);return eg-1>=ed&&(em|=e_(eu,eg-1)<<4),em}function eA(eu,ed,eg,eb){for(var ew=0,e_=0,eE=Math.min(eu.length,eg),eA=ed;eA<eE;eA++){var eS=eu.charCodeAt(eA)-48;ew*=eb,e_=eS>=49?eS-49+10:eS>=17?eS-17+10:eS,em(eS>=0&&e_<eb,"Invalid character"),ew+=e_}return ew}function eS(eu,ed){eu.words=ed.words,eu.length=ed.length,eu.negative=ed.negative,eu.red=ed.red}if(ew.isBN=function(eu){return eu instanceof ew||null!==eu&&"object"==typeof eu&&eu.constructor.wordSize===ew.wordSize&&Array.isArray(eu.words)},ew.max=function(eu,ed){return eu.cmp(ed)>0?eu:ed},ew.min=function(eu,ed){return 0>eu.cmp(ed)?eu:ed},ew.prototype._init=function(eu,ed,eg){if("number"==typeof eu)return this._initNumber(eu,ed,eg);if("object"==typeof eu)return this._initArray(eu,ed,eg);"hex"===ed&&(ed=16),em(ed===(0|ed)&&ed>=2&&ed<=36);var eb=0;"-"===(eu=eu.toString().replace(/\s+/g,""))[0]&&(eb++,this.negative=1),eb<eu.length&&(16===ed?this._parseHex(eu,eb,eg):(this._parseBase(eu,ed,eb),"le"===eg&&this._initArray(this.toArray(),ed,eg)))},ew.prototype._initNumber=function(eu,ed,eg){eu<0&&(this.negative=1,eu=-eu),eu<67108864?(this.words=[67108863&eu],this.length=1):eu<4503599627370496?(this.words=[67108863&eu,eu/67108864&67108863],this.length=2):(em(eu<9007199254740992),this.words=[67108863&eu,eu/67108864&67108863,1],this.length=3),"le"===eg&&this._initArray(this.toArray(),ed,eg)},ew.prototype._initArray=function(eu,ed,eg){if(em("number"==typeof eu.length),eu.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(eu.length/3),this.words=Array(this.length);for(var eb,ew,e_=0;e_<this.length;e_++)this.words[e_]=0;var eE=0;if("be"===eg)for(e_=eu.length-1,eb=0;e_>=0;e_-=3)ew=eu[e_]|eu[e_-1]<<8|eu[e_-2]<<16,this.words[eb]|=ew<<eE&67108863,this.words[eb+1]=ew>>>26-eE&67108863,(eE+=24)>=26&&(eE-=26,eb++);else if("le"===eg)for(e_=0,eb=0;e_<eu.length;e_+=3)ew=eu[e_]|eu[e_+1]<<8|eu[e_+2]<<16,this.words[eb]|=ew<<eE&67108863,this.words[eb+1]=ew>>>26-eE&67108863,(eE+=24)>=26&&(eE-=26,eb++);return this._strip()},ew.prototype._parseHex=function(eu,ed,eg){this.length=Math.ceil((eu.length-ed)/6),this.words=Array(this.length);for(var em,eb=0;eb<this.length;eb++)this.words[eb]=0;var ew=0,e_=0;if("be"===eg)for(eb=eu.length-1;eb>=ed;eb-=2)em=eE(eu,ed,eb)<<ew,this.words[e_]|=67108863&em,ew>=18?(ew-=18,e_+=1,this.words[e_]|=em>>>26):ew+=8;else for(eb=(eu.length-ed)%2==0?ed+1:ed;eb<eu.length;eb+=2)em=eE(eu,ed,eb)<<ew,this.words[e_]|=67108863&em,ew>=18?(ew-=18,e_+=1,this.words[e_]|=em>>>26):ew+=8;this._strip()},ew.prototype._parseBase=function(eu,ed,eg){this.words=[0],this.length=1;for(var em=0,eb=1;eb<=67108863;eb*=ed)em++;em--,eb=eb/ed|0;for(var ew=eu.length-eg,e_=ew%em,eE=Math.min(ew,ew-e_)+eg,eS=0,eI=eg;eI<eE;eI+=em)eS=eA(eu,eI,eI+em,ed),this.imuln(eb),this.words[0]+eS<67108864?this.words[0]+=eS:this._iaddn(eS);if(0!==e_){var eC=1;for(eS=eA(eu,eI,eu.length,ed),eI=0;eI<e_;eI++)eC*=ed;this.imuln(eC),this.words[0]+eS<67108864?this.words[0]+=eS:this._iaddn(eS)}this._strip()},ew.prototype.copy=function(eu){eu.words=Array(this.length);for(var ed=0;ed<this.length;ed++)eu.words[ed]=this.words[ed];eu.length=this.length,eu.negative=this.negative,eu.red=this.red},ew.prototype._move=function(eu){eS(eu,this)},ew.prototype.clone=function(){var eu=new ew(null);return this.copy(eu),eu},ew.prototype._expand=function(eu){for(;this.length<eu;)this.words[this.length++]=0;return this},ew.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},ew.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{ew.prototype[Symbol.for("nodejs.util.inspect.custom")]=eI}catch(eu){ew.prototype.inspect=eI}else ew.prototype.inspect=eI;function eI(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var eC,eM=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],eO=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],eT=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];ew.prototype.toString=function(eu,ed){if(ed=0|ed||1,16===(eu=eu||10)||"hex"===eu){eg="";for(var eg,eb=0,ew=0,e_=0;e_<this.length;e_++){var eE=this.words[e_],eA=((eE<<eb|ew)&16777215).toString(16);ew=eE>>>24-eb&16777215,(eb+=2)>=26&&(eb-=26,e_--),eg=0!==ew||e_!==this.length-1?eM[6-eA.length]+eA+eg:eA+eg}for(0!==ew&&(eg=ew.toString(16)+eg);eg.length%ed!=0;)eg="0"+eg;return 0!==this.negative&&(eg="-"+eg),eg}if(eu===(0|eu)&&eu>=2&&eu<=36){var eS=eO[eu],eI=eT[eu];eg="";var eC=this.clone();for(eC.negative=0;!eC.isZero();){var eP=eC.modrn(eI).toString(eu);eg=(eC=eC.idivn(eI)).isZero()?eP+eg:eM[eS-eP.length]+eP+eg}for(this.isZero()&&(eg="0"+eg);eg.length%ed!=0;)eg="0"+eg;return 0!==this.negative&&(eg="-"+eg),eg}em(!1,"Base should be between 2 and 36")},ew.prototype.toNumber=function(){var eu=this.words[0];return 2===this.length?eu+=67108864*this.words[1]:3===this.length&&1===this.words[2]?eu+=4503599627370496+67108864*this.words[1]:this.length>2&&em(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-eu:eu},ew.prototype.toJSON=function(){return this.toString(16,2)},eC&&(ew.prototype.toBuffer=function(eu,ed){return this.toArrayLike(eC,eu,ed)}),ew.prototype.toArray=function(eu,ed){return this.toArrayLike(Array,eu,ed)};var eP=function(eu,ed){return eu.allocUnsafe?eu.allocUnsafe(ed):new eu(ed)};function eN(eu){for(var ed=Array(eu.bitLength()),eg=0;eg<ed.length;eg++){var em=eg/26|0,eb=eg%26;ed[eg]=eu.words[em]>>>eb&1}return ed}function ek(eu,ed,eg){eg.negative=ed.negative^eu.negative;var em=eu.length+ed.length|0;eg.length=em,em=em-1|0;var eb=0|eu.words[0],ew=0|ed.words[0],e_=eb*ew,eE=67108863&e_,eA=e_/67108864|0;eg.words[0]=eE;for(var eS=1;eS<em;eS++){for(var eI=eA>>>26,eC=67108863&eA,eM=Math.min(eS,ed.length-1),eO=Math.max(0,eS-eu.length+1);eO<=eM;eO++){var eT=eS-eO|0;eI+=(e_=(eb=0|eu.words[eT])*(ew=0|ed.words[eO])+eC)/67108864|0,eC=67108863&e_}eg.words[eS]=0|eC,eA=0|eI}return 0!==eA?eg.words[eS]=0|eA:eg.length--,eg._strip()}ew.prototype.toArrayLike=function(eu,ed,eg){this._strip();var eb=this.byteLength(),ew=eg||Math.max(1,eb);em(eb<=ew,"byte array longer than desired length"),em(ew>0,"Requested array length <= 0");var e_=eP(eu,ew);return this["_toArrayLike"+("le"===ed?"LE":"BE")](e_,eb),e_},ew.prototype._toArrayLikeLE=function(eu,ed){for(var eg=0,em=0,eb=0,ew=0;eb<this.length;eb++){var e_=this.words[eb]<<ew|em;eu[eg++]=255&e_,eg<eu.length&&(eu[eg++]=e_>>8&255),eg<eu.length&&(eu[eg++]=e_>>16&255),6===ew?(eg<eu.length&&(eu[eg++]=e_>>24&255),em=0,ew=0):(em=e_>>>24,ew+=2)}if(eg<eu.length)for(eu[eg++]=em;eg<eu.length;)eu[eg++]=0},ew.prototype._toArrayLikeBE=function(eu,ed){for(var eg=eu.length-1,em=0,eb=0,ew=0;eb<this.length;eb++){var e_=this.words[eb]<<ew|em;eu[eg--]=255&e_,eg>=0&&(eu[eg--]=e_>>8&255),eg>=0&&(eu[eg--]=e_>>16&255),6===ew?(eg>=0&&(eu[eg--]=e_>>24&255),em=0,ew=0):(em=e_>>>24,ew+=2)}if(eg>=0)for(eu[eg--]=em;eg>=0;)eu[eg--]=0},Math.clz32?ew.prototype._countBits=function(eu){return 32-Math.clz32(eu)}:ew.prototype._countBits=function(eu){var ed=eu,eg=0;return ed>=4096&&(eg+=13,ed>>>=13),ed>=64&&(eg+=7,ed>>>=7),ed>=8&&(eg+=4,ed>>>=4),ed>=2&&(eg+=2,ed>>>=2),eg+ed},ew.prototype._zeroBits=function(eu){if(0===eu)return 26;var ed=eu,eg=0;return(8191&ed)==0&&(eg+=13,ed>>>=13),(127&ed)==0&&(eg+=7,ed>>>=7),(15&ed)==0&&(eg+=4,ed>>>=4),(3&ed)==0&&(eg+=2,ed>>>=2),(1&ed)==0&&eg++,eg},ew.prototype.bitLength=function(){var eu=this.words[this.length-1],ed=this._countBits(eu);return(this.length-1)*26+ed},ew.prototype.zeroBits=function(){if(this.isZero())return 0;for(var eu=0,ed=0;ed<this.length;ed++){var eg=this._zeroBits(this.words[ed]);if(eu+=eg,26!==eg)break}return eu},ew.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},ew.prototype.toTwos=function(eu){return 0!==this.negative?this.abs().inotn(eu).iaddn(1):this.clone()},ew.prototype.fromTwos=function(eu){return this.testn(eu-1)?this.notn(eu).iaddn(1).ineg():this.clone()},ew.prototype.isNeg=function(){return 0!==this.negative},ew.prototype.neg=function(){return this.clone().ineg()},ew.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},ew.prototype.iuor=function(eu){for(;this.length<eu.length;)this.words[this.length++]=0;for(var ed=0;ed<eu.length;ed++)this.words[ed]=this.words[ed]|eu.words[ed];return this._strip()},ew.prototype.ior=function(eu){return em((this.negative|eu.negative)==0),this.iuor(eu)},ew.prototype.or=function(eu){return this.length>eu.length?this.clone().ior(eu):eu.clone().ior(this)},ew.prototype.uor=function(eu){return this.length>eu.length?this.clone().iuor(eu):eu.clone().iuor(this)},ew.prototype.iuand=function(eu){var ed;ed=this.length>eu.length?eu:this;for(var eg=0;eg<ed.length;eg++)this.words[eg]=this.words[eg]&eu.words[eg];return this.length=ed.length,this._strip()},ew.prototype.iand=function(eu){return em((this.negative|eu.negative)==0),this.iuand(eu)},ew.prototype.and=function(eu){return this.length>eu.length?this.clone().iand(eu):eu.clone().iand(this)},ew.prototype.uand=function(eu){return this.length>eu.length?this.clone().iuand(eu):eu.clone().iuand(this)},ew.prototype.iuxor=function(eu){this.length>eu.length?(ed=this,eg=eu):(ed=eu,eg=this);for(var ed,eg,em=0;em<eg.length;em++)this.words[em]=ed.words[em]^eg.words[em];if(this!==ed)for(;em<ed.length;em++)this.words[em]=ed.words[em];return this.length=ed.length,this._strip()},ew.prototype.ixor=function(eu){return em((this.negative|eu.negative)==0),this.iuxor(eu)},ew.prototype.xor=function(eu){return this.length>eu.length?this.clone().ixor(eu):eu.clone().ixor(this)},ew.prototype.uxor=function(eu){return this.length>eu.length?this.clone().iuxor(eu):eu.clone().iuxor(this)},ew.prototype.inotn=function(eu){em("number"==typeof eu&&eu>=0);var ed=0|Math.ceil(eu/26),eg=eu%26;this._expand(ed),eg>0&&ed--;for(var eb=0;eb<ed;eb++)this.words[eb]=67108863&~this.words[eb];return eg>0&&(this.words[eb]=~this.words[eb]&67108863>>26-eg),this._strip()},ew.prototype.notn=function(eu){return this.clone().inotn(eu)},ew.prototype.setn=function(eu,ed){em("number"==typeof eu&&eu>=0);var eg=eu/26|0,eb=eu%26;return this._expand(eg+1),ed?this.words[eg]=this.words[eg]|1<<eb:this.words[eg]=this.words[eg]&~(1<<eb),this._strip()},ew.prototype.iadd=function(eu){if(0!==this.negative&&0===eu.negative)return this.negative=0,ed=this.isub(eu),this.negative^=1,this._normSign();if(0===this.negative&&0!==eu.negative)return eu.negative=0,ed=this.isub(eu),eu.negative=1,ed._normSign();this.length>eu.length?(eg=this,em=eu):(eg=eu,em=this);for(var ed,eg,em,eb=0,ew=0;ew<em.length;ew++)ed=(0|eg.words[ew])+(0|em.words[ew])+eb,this.words[ew]=67108863&ed,eb=ed>>>26;for(;0!==eb&&ew<eg.length;ew++)ed=(0|eg.words[ew])+eb,this.words[ew]=67108863&ed,eb=ed>>>26;if(this.length=eg.length,0!==eb)this.words[this.length]=eb,this.length++;else if(eg!==this)for(;ew<eg.length;ew++)this.words[ew]=eg.words[ew];return this},ew.prototype.add=function(eu){var ed;return 0!==eu.negative&&0===this.negative?(eu.negative=0,ed=this.sub(eu),eu.negative^=1,ed):0===eu.negative&&0!==this.negative?(this.negative=0,ed=eu.sub(this),this.negative=1,ed):this.length>eu.length?this.clone().iadd(eu):eu.clone().iadd(this)},ew.prototype.isub=function(eu){if(0!==eu.negative){eu.negative=0;var ed,eg,em=this.iadd(eu);return eu.negative=1,em._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(eu),this.negative=1,this._normSign();var eb=this.cmp(eu);if(0===eb)return this.negative=0,this.length=1,this.words[0]=0,this;eb>0?(ed=this,eg=eu):(ed=eu,eg=this);for(var ew=0,e_=0;e_<eg.length;e_++)ew=(em=(0|ed.words[e_])-(0|eg.words[e_])+ew)>>26,this.words[e_]=67108863&em;for(;0!==ew&&e_<ed.length;e_++)ew=(em=(0|ed.words[e_])+ew)>>26,this.words[e_]=67108863&em;if(0===ew&&e_<ed.length&&ed!==this)for(;e_<ed.length;e_++)this.words[e_]=ed.words[e_];return this.length=Math.max(this.length,e_),ed!==this&&(this.negative=1),this._strip()},ew.prototype.sub=function(eu){return this.clone().isub(eu)};var eR=function(eu,ed,eg){var em,eb,ew,e_=eu.words,eE=ed.words,eA=eg.words,eS=0,eI=0|e_[0],eC=8191&eI,eM=eI>>>13,eO=0|e_[1],eT=8191&eO,eP=eO>>>13,eN=0|e_[2],ek=8191&eN,eR=eN>>>13,eD=0|e_[3],eB=8191&eD,eU=eD>>>13,eL=0|e_[4],ej=8191&eL,eF=eL>>>13,e$=0|e_[5],eK=8191&e$,eH=e$>>>13,eV=0|e_[6],eG=8191&eV,eW=eV>>>13,eJ=0|e_[7],eZ=8191&eJ,eY=eJ>>>13,eX=0|e_[8],eQ=8191&eX,e0=eX>>>13,e6=0|e_[9],e8=8191&e6,e5=e6>>>13,e9=0|eE[0],e7=8191&e9,tu=e9>>>13,th=0|eE[1],td=8191&th,tg=th>>>13,ty=0|eE[2],tb=8191&ty,tw=ty>>>13,t_=0|eE[3],tE=8191&t_,tA=t_>>>13,tS=0|eE[4],tI=8191&tS,tC=tS>>>13,tO=0|eE[5],tT=8191&tO,tP=tO>>>13,tN=0|eE[6],tR=8191&tN,tD=tN>>>13,tB=0|eE[7],tU=8191&tB,tL=tB>>>13,tj=0|eE[8],tF=8191&tj,t$=tj>>>13,tK=0|eE[9],tq=8191&tK,tz=tK>>>13;eg.negative=eu.negative^ed.negative,eg.length=19;var tH=(eS+(em=Math.imul(eC,e7))|0)+((8191&(eb=(eb=Math.imul(eC,tu))+Math.imul(eM,e7)|0))<<13)|0;eS=((ew=Math.imul(eM,tu))+(eb>>>13)|0)+(tH>>>26)|0,tH&=67108863,em=Math.imul(eT,e7),eb=(eb=Math.imul(eT,tu))+Math.imul(eP,e7)|0,ew=Math.imul(eP,tu);var tV=(eS+(em=em+Math.imul(eC,td)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eC,tg)|0)+Math.imul(eM,td)|0))<<13)|0;eS=((ew=ew+Math.imul(eM,tg)|0)+(eb>>>13)|0)+(tV>>>26)|0,tV&=67108863,em=Math.imul(ek,e7),eb=(eb=Math.imul(ek,tu))+Math.imul(eR,e7)|0,ew=Math.imul(eR,tu),em=em+Math.imul(eT,td)|0,eb=(eb=eb+Math.imul(eT,tg)|0)+Math.imul(eP,td)|0,ew=ew+Math.imul(eP,tg)|0;var tG=(eS+(em=em+Math.imul(eC,tb)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eC,tw)|0)+Math.imul(eM,tb)|0))<<13)|0;eS=((ew=ew+Math.imul(eM,tw)|0)+(eb>>>13)|0)+(tG>>>26)|0,tG&=67108863,em=Math.imul(eB,e7),eb=(eb=Math.imul(eB,tu))+Math.imul(eU,e7)|0,ew=Math.imul(eU,tu),em=em+Math.imul(ek,td)|0,eb=(eb=eb+Math.imul(ek,tg)|0)+Math.imul(eR,td)|0,ew=ew+Math.imul(eR,tg)|0,em=em+Math.imul(eT,tb)|0,eb=(eb=eb+Math.imul(eT,tw)|0)+Math.imul(eP,tb)|0,ew=ew+Math.imul(eP,tw)|0;var tW=(eS+(em=em+Math.imul(eC,tE)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eC,tA)|0)+Math.imul(eM,tE)|0))<<13)|0;eS=((ew=ew+Math.imul(eM,tA)|0)+(eb>>>13)|0)+(tW>>>26)|0,tW&=67108863,em=Math.imul(ej,e7),eb=(eb=Math.imul(ej,tu))+Math.imul(eF,e7)|0,ew=Math.imul(eF,tu),em=em+Math.imul(eB,td)|0,eb=(eb=eb+Math.imul(eB,tg)|0)+Math.imul(eU,td)|0,ew=ew+Math.imul(eU,tg)|0,em=em+Math.imul(ek,tb)|0,eb=(eb=eb+Math.imul(ek,tw)|0)+Math.imul(eR,tb)|0,ew=ew+Math.imul(eR,tw)|0,em=em+Math.imul(eT,tE)|0,eb=(eb=eb+Math.imul(eT,tA)|0)+Math.imul(eP,tE)|0,ew=ew+Math.imul(eP,tA)|0;var tJ=(eS+(em=em+Math.imul(eC,tI)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eC,tC)|0)+Math.imul(eM,tI)|0))<<13)|0;eS=((ew=ew+Math.imul(eM,tC)|0)+(eb>>>13)|0)+(tJ>>>26)|0,tJ&=67108863,em=Math.imul(eK,e7),eb=(eb=Math.imul(eK,tu))+Math.imul(eH,e7)|0,ew=Math.imul(eH,tu),em=em+Math.imul(ej,td)|0,eb=(eb=eb+Math.imul(ej,tg)|0)+Math.imul(eF,td)|0,ew=ew+Math.imul(eF,tg)|0,em=em+Math.imul(eB,tb)|0,eb=(eb=eb+Math.imul(eB,tw)|0)+Math.imul(eU,tb)|0,ew=ew+Math.imul(eU,tw)|0,em=em+Math.imul(ek,tE)|0,eb=(eb=eb+Math.imul(ek,tA)|0)+Math.imul(eR,tE)|0,ew=ew+Math.imul(eR,tA)|0,em=em+Math.imul(eT,tI)|0,eb=(eb=eb+Math.imul(eT,tC)|0)+Math.imul(eP,tI)|0,ew=ew+Math.imul(eP,tC)|0;var tZ=(eS+(em=em+Math.imul(eC,tT)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eC,tP)|0)+Math.imul(eM,tT)|0))<<13)|0;eS=((ew=ew+Math.imul(eM,tP)|0)+(eb>>>13)|0)+(tZ>>>26)|0,tZ&=67108863,em=Math.imul(eG,e7),eb=(eb=Math.imul(eG,tu))+Math.imul(eW,e7)|0,ew=Math.imul(eW,tu),em=em+Math.imul(eK,td)|0,eb=(eb=eb+Math.imul(eK,tg)|0)+Math.imul(eH,td)|0,ew=ew+Math.imul(eH,tg)|0,em=em+Math.imul(ej,tb)|0,eb=(eb=eb+Math.imul(ej,tw)|0)+Math.imul(eF,tb)|0,ew=ew+Math.imul(eF,tw)|0,em=em+Math.imul(eB,tE)|0,eb=(eb=eb+Math.imul(eB,tA)|0)+Math.imul(eU,tE)|0,ew=ew+Math.imul(eU,tA)|0,em=em+Math.imul(ek,tI)|0,eb=(eb=eb+Math.imul(ek,tC)|0)+Math.imul(eR,tI)|0,ew=ew+Math.imul(eR,tC)|0,em=em+Math.imul(eT,tT)|0,eb=(eb=eb+Math.imul(eT,tP)|0)+Math.imul(eP,tT)|0,ew=ew+Math.imul(eP,tP)|0;var tY=(eS+(em=em+Math.imul(eC,tR)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eC,tD)|0)+Math.imul(eM,tR)|0))<<13)|0;eS=((ew=ew+Math.imul(eM,tD)|0)+(eb>>>13)|0)+(tY>>>26)|0,tY&=67108863,em=Math.imul(eZ,e7),eb=(eb=Math.imul(eZ,tu))+Math.imul(eY,e7)|0,ew=Math.imul(eY,tu),em=em+Math.imul(eG,td)|0,eb=(eb=eb+Math.imul(eG,tg)|0)+Math.imul(eW,td)|0,ew=ew+Math.imul(eW,tg)|0,em=em+Math.imul(eK,tb)|0,eb=(eb=eb+Math.imul(eK,tw)|0)+Math.imul(eH,tb)|0,ew=ew+Math.imul(eH,tw)|0,em=em+Math.imul(ej,tE)|0,eb=(eb=eb+Math.imul(ej,tA)|0)+Math.imul(eF,tE)|0,ew=ew+Math.imul(eF,tA)|0,em=em+Math.imul(eB,tI)|0,eb=(eb=eb+Math.imul(eB,tC)|0)+Math.imul(eU,tI)|0,ew=ew+Math.imul(eU,tC)|0,em=em+Math.imul(ek,tT)|0,eb=(eb=eb+Math.imul(ek,tP)|0)+Math.imul(eR,tT)|0,ew=ew+Math.imul(eR,tP)|0,em=em+Math.imul(eT,tR)|0,eb=(eb=eb+Math.imul(eT,tD)|0)+Math.imul(eP,tR)|0,ew=ew+Math.imul(eP,tD)|0;var tX=(eS+(em=em+Math.imul(eC,tU)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eC,tL)|0)+Math.imul(eM,tU)|0))<<13)|0;eS=((ew=ew+Math.imul(eM,tL)|0)+(eb>>>13)|0)+(tX>>>26)|0,tX&=67108863,em=Math.imul(eQ,e7),eb=(eb=Math.imul(eQ,tu))+Math.imul(e0,e7)|0,ew=Math.imul(e0,tu),em=em+Math.imul(eZ,td)|0,eb=(eb=eb+Math.imul(eZ,tg)|0)+Math.imul(eY,td)|0,ew=ew+Math.imul(eY,tg)|0,em=em+Math.imul(eG,tb)|0,eb=(eb=eb+Math.imul(eG,tw)|0)+Math.imul(eW,tb)|0,ew=ew+Math.imul(eW,tw)|0,em=em+Math.imul(eK,tE)|0,eb=(eb=eb+Math.imul(eK,tA)|0)+Math.imul(eH,tE)|0,ew=ew+Math.imul(eH,tA)|0,em=em+Math.imul(ej,tI)|0,eb=(eb=eb+Math.imul(ej,tC)|0)+Math.imul(eF,tI)|0,ew=ew+Math.imul(eF,tC)|0,em=em+Math.imul(eB,tT)|0,eb=(eb=eb+Math.imul(eB,tP)|0)+Math.imul(eU,tT)|0,ew=ew+Math.imul(eU,tP)|0,em=em+Math.imul(ek,tR)|0,eb=(eb=eb+Math.imul(ek,tD)|0)+Math.imul(eR,tR)|0,ew=ew+Math.imul(eR,tD)|0,em=em+Math.imul(eT,tU)|0,eb=(eb=eb+Math.imul(eT,tL)|0)+Math.imul(eP,tU)|0,ew=ew+Math.imul(eP,tL)|0;var tQ=(eS+(em=em+Math.imul(eC,tF)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eC,t$)|0)+Math.imul(eM,tF)|0))<<13)|0;eS=((ew=ew+Math.imul(eM,t$)|0)+(eb>>>13)|0)+(tQ>>>26)|0,tQ&=67108863,em=Math.imul(e8,e7),eb=(eb=Math.imul(e8,tu))+Math.imul(e5,e7)|0,ew=Math.imul(e5,tu),em=em+Math.imul(eQ,td)|0,eb=(eb=eb+Math.imul(eQ,tg)|0)+Math.imul(e0,td)|0,ew=ew+Math.imul(e0,tg)|0,em=em+Math.imul(eZ,tb)|0,eb=(eb=eb+Math.imul(eZ,tw)|0)+Math.imul(eY,tb)|0,ew=ew+Math.imul(eY,tw)|0,em=em+Math.imul(eG,tE)|0,eb=(eb=eb+Math.imul(eG,tA)|0)+Math.imul(eW,tE)|0,ew=ew+Math.imul(eW,tA)|0,em=em+Math.imul(eK,tI)|0,eb=(eb=eb+Math.imul(eK,tC)|0)+Math.imul(eH,tI)|0,ew=ew+Math.imul(eH,tC)|0,em=em+Math.imul(ej,tT)|0,eb=(eb=eb+Math.imul(ej,tP)|0)+Math.imul(eF,tT)|0,ew=ew+Math.imul(eF,tP)|0,em=em+Math.imul(eB,tR)|0,eb=(eb=eb+Math.imul(eB,tD)|0)+Math.imul(eU,tR)|0,ew=ew+Math.imul(eU,tD)|0,em=em+Math.imul(ek,tU)|0,eb=(eb=eb+Math.imul(ek,tL)|0)+Math.imul(eR,tU)|0,ew=ew+Math.imul(eR,tL)|0,em=em+Math.imul(eT,tF)|0,eb=(eb=eb+Math.imul(eT,t$)|0)+Math.imul(eP,tF)|0,ew=ew+Math.imul(eP,t$)|0;var t6=(eS+(em=em+Math.imul(eC,tq)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eC,tz)|0)+Math.imul(eM,tq)|0))<<13)|0;eS=((ew=ew+Math.imul(eM,tz)|0)+(eb>>>13)|0)+(t6>>>26)|0,t6&=67108863,em=Math.imul(e8,td),eb=(eb=Math.imul(e8,tg))+Math.imul(e5,td)|0,ew=Math.imul(e5,tg),em=em+Math.imul(eQ,tb)|0,eb=(eb=eb+Math.imul(eQ,tw)|0)+Math.imul(e0,tb)|0,ew=ew+Math.imul(e0,tw)|0,em=em+Math.imul(eZ,tE)|0,eb=(eb=eb+Math.imul(eZ,tA)|0)+Math.imul(eY,tE)|0,ew=ew+Math.imul(eY,tA)|0,em=em+Math.imul(eG,tI)|0,eb=(eb=eb+Math.imul(eG,tC)|0)+Math.imul(eW,tI)|0,ew=ew+Math.imul(eW,tC)|0,em=em+Math.imul(eK,tT)|0,eb=(eb=eb+Math.imul(eK,tP)|0)+Math.imul(eH,tT)|0,ew=ew+Math.imul(eH,tP)|0,em=em+Math.imul(ej,tR)|0,eb=(eb=eb+Math.imul(ej,tD)|0)+Math.imul(eF,tR)|0,ew=ew+Math.imul(eF,tD)|0,em=em+Math.imul(eB,tU)|0,eb=(eb=eb+Math.imul(eB,tL)|0)+Math.imul(eU,tU)|0,ew=ew+Math.imul(eU,tL)|0,em=em+Math.imul(ek,tF)|0,eb=(eb=eb+Math.imul(ek,t$)|0)+Math.imul(eR,tF)|0,ew=ew+Math.imul(eR,t$)|0;var t8=(eS+(em=em+Math.imul(eT,tq)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eT,tz)|0)+Math.imul(eP,tq)|0))<<13)|0;eS=((ew=ew+Math.imul(eP,tz)|0)+(eb>>>13)|0)+(t8>>>26)|0,t8&=67108863,em=Math.imul(e8,tb),eb=(eb=Math.imul(e8,tw))+Math.imul(e5,tb)|0,ew=Math.imul(e5,tw),em=em+Math.imul(eQ,tE)|0,eb=(eb=eb+Math.imul(eQ,tA)|0)+Math.imul(e0,tE)|0,ew=ew+Math.imul(e0,tA)|0,em=em+Math.imul(eZ,tI)|0,eb=(eb=eb+Math.imul(eZ,tC)|0)+Math.imul(eY,tI)|0,ew=ew+Math.imul(eY,tC)|0,em=em+Math.imul(eG,tT)|0,eb=(eb=eb+Math.imul(eG,tP)|0)+Math.imul(eW,tT)|0,ew=ew+Math.imul(eW,tP)|0,em=em+Math.imul(eK,tR)|0,eb=(eb=eb+Math.imul(eK,tD)|0)+Math.imul(eH,tR)|0,ew=ew+Math.imul(eH,tD)|0,em=em+Math.imul(ej,tU)|0,eb=(eb=eb+Math.imul(ej,tL)|0)+Math.imul(eF,tU)|0,ew=ew+Math.imul(eF,tL)|0,em=em+Math.imul(eB,tF)|0,eb=(eb=eb+Math.imul(eB,t$)|0)+Math.imul(eU,tF)|0,ew=ew+Math.imul(eU,t$)|0;var t5=(eS+(em=em+Math.imul(ek,tq)|0)|0)+((8191&(eb=(eb=eb+Math.imul(ek,tz)|0)+Math.imul(eR,tq)|0))<<13)|0;eS=((ew=ew+Math.imul(eR,tz)|0)+(eb>>>13)|0)+(t5>>>26)|0,t5&=67108863,em=Math.imul(e8,tE),eb=(eb=Math.imul(e8,tA))+Math.imul(e5,tE)|0,ew=Math.imul(e5,tA),em=em+Math.imul(eQ,tI)|0,eb=(eb=eb+Math.imul(eQ,tC)|0)+Math.imul(e0,tI)|0,ew=ew+Math.imul(e0,tC)|0,em=em+Math.imul(eZ,tT)|0,eb=(eb=eb+Math.imul(eZ,tP)|0)+Math.imul(eY,tT)|0,ew=ew+Math.imul(eY,tP)|0,em=em+Math.imul(eG,tR)|0,eb=(eb=eb+Math.imul(eG,tD)|0)+Math.imul(eW,tR)|0,ew=ew+Math.imul(eW,tD)|0,em=em+Math.imul(eK,tU)|0,eb=(eb=eb+Math.imul(eK,tL)|0)+Math.imul(eH,tU)|0,ew=ew+Math.imul(eH,tL)|0,em=em+Math.imul(ej,tF)|0,eb=(eb=eb+Math.imul(ej,t$)|0)+Math.imul(eF,tF)|0,ew=ew+Math.imul(eF,t$)|0;var t4=(eS+(em=em+Math.imul(eB,tq)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eB,tz)|0)+Math.imul(eU,tq)|0))<<13)|0;eS=((ew=ew+Math.imul(eU,tz)|0)+(eb>>>13)|0)+(t4>>>26)|0,t4&=67108863,em=Math.imul(e8,tI),eb=(eb=Math.imul(e8,tC))+Math.imul(e5,tI)|0,ew=Math.imul(e5,tC),em=em+Math.imul(eQ,tT)|0,eb=(eb=eb+Math.imul(eQ,tP)|0)+Math.imul(e0,tT)|0,ew=ew+Math.imul(e0,tP)|0,em=em+Math.imul(eZ,tR)|0,eb=(eb=eb+Math.imul(eZ,tD)|0)+Math.imul(eY,tR)|0,ew=ew+Math.imul(eY,tD)|0,em=em+Math.imul(eG,tU)|0,eb=(eb=eb+Math.imul(eG,tL)|0)+Math.imul(eW,tU)|0,ew=ew+Math.imul(eW,tL)|0,em=em+Math.imul(eK,tF)|0,eb=(eb=eb+Math.imul(eK,t$)|0)+Math.imul(eH,tF)|0,ew=ew+Math.imul(eH,t$)|0;var t9=(eS+(em=em+Math.imul(ej,tq)|0)|0)+((8191&(eb=(eb=eb+Math.imul(ej,tz)|0)+Math.imul(eF,tq)|0))<<13)|0;eS=((ew=ew+Math.imul(eF,tz)|0)+(eb>>>13)|0)+(t9>>>26)|0,t9&=67108863,em=Math.imul(e8,tT),eb=(eb=Math.imul(e8,tP))+Math.imul(e5,tT)|0,ew=Math.imul(e5,tP),em=em+Math.imul(eQ,tR)|0,eb=(eb=eb+Math.imul(eQ,tD)|0)+Math.imul(e0,tR)|0,ew=ew+Math.imul(e0,tD)|0,em=em+Math.imul(eZ,tU)|0,eb=(eb=eb+Math.imul(eZ,tL)|0)+Math.imul(eY,tU)|0,ew=ew+Math.imul(eY,tL)|0,em=em+Math.imul(eG,tF)|0,eb=(eb=eb+Math.imul(eG,t$)|0)+Math.imul(eW,tF)|0,ew=ew+Math.imul(eW,t$)|0;var t7=(eS+(em=em+Math.imul(eK,tq)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eK,tz)|0)+Math.imul(eH,tq)|0))<<13)|0;eS=((ew=ew+Math.imul(eH,tz)|0)+(eb>>>13)|0)+(t7>>>26)|0,t7&=67108863,em=Math.imul(e8,tR),eb=(eb=Math.imul(e8,tD))+Math.imul(e5,tR)|0,ew=Math.imul(e5,tD),em=em+Math.imul(eQ,tU)|0,eb=(eb=eb+Math.imul(eQ,tL)|0)+Math.imul(e0,tU)|0,ew=ew+Math.imul(e0,tL)|0,em=em+Math.imul(eZ,tF)|0,eb=(eb=eb+Math.imul(eZ,t$)|0)+Math.imul(eY,tF)|0,ew=ew+Math.imul(eY,t$)|0;var ru=(eS+(em=em+Math.imul(eG,tq)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eG,tz)|0)+Math.imul(eW,tq)|0))<<13)|0;eS=((ew=ew+Math.imul(eW,tz)|0)+(eb>>>13)|0)+(ru>>>26)|0,ru&=67108863,em=Math.imul(e8,tU),eb=(eb=Math.imul(e8,tL))+Math.imul(e5,tU)|0,ew=Math.imul(e5,tL),em=em+Math.imul(eQ,tF)|0,eb=(eb=eb+Math.imul(eQ,t$)|0)+Math.imul(e0,tF)|0,ew=ew+Math.imul(e0,t$)|0;var rd=(eS+(em=em+Math.imul(eZ,tq)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eZ,tz)|0)+Math.imul(eY,tq)|0))<<13)|0;eS=((ew=ew+Math.imul(eY,tz)|0)+(eb>>>13)|0)+(rd>>>26)|0,rd&=67108863,em=Math.imul(e8,tF),eb=(eb=Math.imul(e8,t$))+Math.imul(e5,tF)|0,ew=Math.imul(e5,t$);var rp=(eS+(em=em+Math.imul(eQ,tq)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eQ,tz)|0)+Math.imul(e0,tq)|0))<<13)|0;eS=((ew=ew+Math.imul(e0,tz)|0)+(eb>>>13)|0)+(rp>>>26)|0,rp&=67108863;var rg=(eS+(em=Math.imul(e8,tq))|0)+((8191&(eb=(eb=Math.imul(e8,tz))+Math.imul(e5,tq)|0))<<13)|0;return eS=((ew=Math.imul(e5,tz))+(eb>>>13)|0)+(rg>>>26)|0,rg&=67108863,eA[0]=tH,eA[1]=tV,eA[2]=tG,eA[3]=tW,eA[4]=tJ,eA[5]=tZ,eA[6]=tY,eA[7]=tX,eA[8]=tQ,eA[9]=t6,eA[10]=t8,eA[11]=t5,eA[12]=t4,eA[13]=t9,eA[14]=t7,eA[15]=ru,eA[16]=rd,eA[17]=rp,eA[18]=rg,0!==eS&&(eA[19]=eS,eg.length++),eg};function eD(eu,ed,eg){eg.negative=ed.negative^eu.negative,eg.length=eu.length+ed.length;for(var em=0,eb=0,ew=0;ew<eg.length-1;ew++){var e_=eb;eb=0;for(var eE=67108863&em,eA=Math.min(ew,ed.length-1),eS=Math.max(0,ew-eu.length+1);eS<=eA;eS++){var eI=ew-eS,eC=(0|eu.words[eI])*(0|ed.words[eS]),eM=67108863&eC;e_=e_+(eC/67108864|0)|0,eE=67108863&(eM=eM+eE|0),eb+=(e_=e_+(eM>>>26)|0)>>>26,e_&=67108863}eg.words[ew]=eE,em=e_,e_=eb}return 0!==em?eg.words[ew]=em:eg.length--,eg._strip()}function eB(eu,ed,eg){return eD(eu,ed,eg)}function eU(eu,ed){this.x=eu,this.y=ed}Math.imul||(eR=ek),ew.prototype.mulTo=function(eu,ed){var eg=this.length+eu.length;return 10===this.length&&10===eu.length?eR(this,eu,ed):eg<63?ek(this,eu,ed):eg<1024?eD(this,eu,ed):eB(this,eu,ed)},eU.prototype.makeRBT=function(eu){for(var ed=Array(eu),eg=ew.prototype._countBits(eu)-1,em=0;em<eu;em++)ed[em]=this.revBin(em,eg,eu);return ed},eU.prototype.revBin=function(eu,ed,eg){if(0===eu||eu===eg-1)return eu;for(var em=0,eb=0;eb<ed;eb++)em|=(1&eu)<<ed-eb-1,eu>>=1;return em},eU.prototype.permute=function(eu,ed,eg,em,eb,ew){for(var e_=0;e_<ew;e_++)em[e_]=ed[eu[e_]],eb[e_]=eg[eu[e_]]},eU.prototype.transform=function(eu,ed,eg,em,eb,ew){this.permute(ew,eu,ed,eg,em,eb);for(var e_=1;e_<eb;e_<<=1)for(var eE=e_<<1,eA=Math.cos(2*Math.PI/eE),eS=Math.sin(2*Math.PI/eE),eI=0;eI<eb;eI+=eE)for(var eC=eA,eM=eS,eO=0;eO<e_;eO++){var eT=eg[eI+eO],eP=em[eI+eO],eN=eg[eI+eO+e_],ek=em[eI+eO+e_],eR=eC*eN-eM*ek;ek=eC*ek+eM*eN,eN=eR,eg[eI+eO]=eT+eN,em[eI+eO]=eP+ek,eg[eI+eO+e_]=eT-eN,em[eI+eO+e_]=eP-ek,eO!==eE&&(eR=eA*eC-eS*eM,eM=eA*eM+eS*eC,eC=eR)}},eU.prototype.guessLen13b=function(eu,ed){var eg=1|Math.max(ed,eu),em=1&eg,eb=0;for(eg=eg/2|0;eg;eg>>>=1)eb++;return 1<<eb+1+em},eU.prototype.conjugate=function(eu,ed,eg){if(!(eg<=1))for(var em=0;em<eg/2;em++){var eb=eu[em];eu[em]=eu[eg-em-1],eu[eg-em-1]=eb,eb=ed[em],ed[em]=-ed[eg-em-1],ed[eg-em-1]=-eb}},eU.prototype.normalize13b=function(eu,ed){for(var eg=0,em=0;em<ed/2;em++){var eb=8192*Math.round(eu[2*em+1]/ed)+Math.round(eu[2*em]/ed)+eg;eu[em]=67108863&eb,eg=eb<67108864?0:eb/67108864|0}return eu},eU.prototype.convert13b=function(eu,ed,eg,eb){for(var ew=0,e_=0;e_<ed;e_++)ew+=0|eu[e_],eg[2*e_]=8191&ew,ew>>>=13,eg[2*e_+1]=8191&ew,ew>>>=13;for(e_=2*ed;e_<eb;++e_)eg[e_]=0;em(0===ew),em((-8192&ew)==0)},eU.prototype.stub=function(eu){for(var ed=Array(eu),eg=0;eg<eu;eg++)ed[eg]=0;return ed},eU.prototype.mulp=function(eu,ed,eg){var em=2*this.guessLen13b(eu.length,ed.length),eb=this.makeRBT(em),ew=this.stub(em),e_=Array(em),eE=Array(em),eA=Array(em),eS=Array(em),eI=Array(em),eC=Array(em),eM=eg.words;eM.length=em,this.convert13b(eu.words,eu.length,e_,em),this.convert13b(ed.words,ed.length,eS,em),this.transform(e_,ew,eE,eA,em,eb),this.transform(eS,ew,eI,eC,em,eb);for(var eO=0;eO<em;eO++){var eT=eE[eO]*eI[eO]-eA[eO]*eC[eO];eA[eO]=eE[eO]*eC[eO]+eA[eO]*eI[eO],eE[eO]=eT}return this.conjugate(eE,eA,em),this.transform(eE,eA,eM,ew,em,eb),this.conjugate(eM,ew,em),this.normalize13b(eM,em),eg.negative=eu.negative^ed.negative,eg.length=eu.length+ed.length,eg._strip()},ew.prototype.mul=function(eu){var ed=new ew(null);return ed.words=Array(this.length+eu.length),this.mulTo(eu,ed)},ew.prototype.mulf=function(eu){var ed=new ew(null);return ed.words=Array(this.length+eu.length),eB(this,eu,ed)},ew.prototype.imul=function(eu){return this.clone().mulTo(eu,this)},ew.prototype.imuln=function(eu){var ed=eu<0;ed&&(eu=-eu),em("number"==typeof eu),em(eu<67108864);for(var eg=0,eb=0;eb<this.length;eb++){var ew=(0|this.words[eb])*eu,e_=(67108863&ew)+(67108863&eg);eg>>=26,eg+=(ew/67108864|0)+(e_>>>26),this.words[eb]=67108863&e_}return 0!==eg&&(this.words[eb]=eg,this.length++),this.length=0===eu?1:this.length,ed?this.ineg():this},ew.prototype.muln=function(eu){return this.clone().imuln(eu)},ew.prototype.sqr=function(){return this.mul(this)},ew.prototype.isqr=function(){return this.imul(this.clone())},ew.prototype.pow=function(eu){var ed=eN(eu);if(0===ed.length)return new ew(1);for(var eg=this,em=0;em<ed.length&&0===ed[em];em++,eg=eg.sqr());if(++em<ed.length)for(var eb=eg.sqr();em<ed.length;em++,eb=eb.sqr())0!==ed[em]&&(eg=eg.mul(eb));return eg},ew.prototype.iushln=function(eu){em("number"==typeof eu&&eu>=0);var ed,eg=eu%26,eb=(eu-eg)/26,ew=67108863>>>26-eg<<26-eg;if(0!==eg){var e_=0;for(ed=0;ed<this.length;ed++){var eE=this.words[ed]&ew,eA=(0|this.words[ed])-eE<<eg;this.words[ed]=eA|e_,e_=eE>>>26-eg}e_&&(this.words[ed]=e_,this.length++)}if(0!==eb){for(ed=this.length-1;ed>=0;ed--)this.words[ed+eb]=this.words[ed];for(ed=0;ed<eb;ed++)this.words[ed]=0;this.length+=eb}return this._strip()},ew.prototype.ishln=function(eu){return em(0===this.negative),this.iushln(eu)},ew.prototype.iushrn=function(eu,ed,eg){em("number"==typeof eu&&eu>=0),eb=ed?(ed-ed%26)/26:0;var eb,ew=eu%26,e_=Math.min((eu-ew)/26,this.length),eE=67108863^67108863>>>ew<<ew,eA=eg;if(eb-=e_,eb=Math.max(0,eb),eA){for(var eS=0;eS<e_;eS++)eA.words[eS]=this.words[eS];eA.length=e_}if(0===e_);else if(this.length>e_)for(this.length-=e_,eS=0;eS<this.length;eS++)this.words[eS]=this.words[eS+e_];else this.words[0]=0,this.length=1;var eI=0;for(eS=this.length-1;eS>=0&&(0!==eI||eS>=eb);eS--){var eC=0|this.words[eS];this.words[eS]=eI<<26-ew|eC>>>ew,eI=eC&eE}return eA&&0!==eI&&(eA.words[eA.length++]=eI),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},ew.prototype.ishrn=function(eu,ed,eg){return em(0===this.negative),this.iushrn(eu,ed,eg)},ew.prototype.shln=function(eu){return this.clone().ishln(eu)},ew.prototype.ushln=function(eu){return this.clone().iushln(eu)},ew.prototype.shrn=function(eu){return this.clone().ishrn(eu)},ew.prototype.ushrn=function(eu){return this.clone().iushrn(eu)},ew.prototype.testn=function(eu){em("number"==typeof eu&&eu>=0);var ed=eu%26,eg=(eu-ed)/26,eb=1<<ed;return!(this.length<=eg)&&!!(this.words[eg]&eb)},ew.prototype.imaskn=function(eu){em("number"==typeof eu&&eu>=0);var ed=eu%26,eg=(eu-ed)/26;if(em(0===this.negative,"imaskn works only with positive numbers"),this.length<=eg)return this;if(0!==ed&&eg++,this.length=Math.min(eg,this.length),0!==ed){var eb=67108863^67108863>>>ed<<ed;this.words[this.length-1]&=eb}return this._strip()},ew.prototype.maskn=function(eu){return this.clone().imaskn(eu)},ew.prototype.iaddn=function(eu){return(em("number"==typeof eu),em(eu<67108864),eu<0)?this.isubn(-eu):0!==this.negative?1===this.length&&(0|this.words[0])<=eu?(this.words[0]=eu-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(eu),this.negative=1,this):this._iaddn(eu)},ew.prototype._iaddn=function(eu){this.words[0]+=eu;for(var ed=0;ed<this.length&&this.words[ed]>=67108864;ed++)this.words[ed]-=67108864,ed===this.length-1?this.words[ed+1]=1:this.words[ed+1]++;return this.length=Math.max(this.length,ed+1),this},ew.prototype.isubn=function(eu){if(em("number"==typeof eu),em(eu<67108864),eu<0)return this.iaddn(-eu);if(0!==this.negative)return this.negative=0,this.iaddn(eu),this.negative=1,this;if(this.words[0]-=eu,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var ed=0;ed<this.length&&this.words[ed]<0;ed++)this.words[ed]+=67108864,this.words[ed+1]-=1;return this._strip()},ew.prototype.addn=function(eu){return this.clone().iaddn(eu)},ew.prototype.subn=function(eu){return this.clone().isubn(eu)},ew.prototype.iabs=function(){return this.negative=0,this},ew.prototype.abs=function(){return this.clone().iabs()},ew.prototype._ishlnsubmul=function(eu,ed,eg){var eb,ew,e_=eu.length+eg;this._expand(e_);var eE=0;for(eb=0;eb<eu.length;eb++){ew=(0|this.words[eb+eg])+eE;var eA=(0|eu.words[eb])*ed;ew-=67108863&eA,eE=(ew>>26)-(eA/67108864|0),this.words[eb+eg]=67108863&ew}for(;eb<this.length-eg;eb++)eE=(ew=(0|this.words[eb+eg])+eE)>>26,this.words[eb+eg]=67108863&ew;if(0===eE)return this._strip();for(em(-1===eE),eE=0,eb=0;eb<this.length;eb++)eE=(ew=-(0|this.words[eb])+eE)>>26,this.words[eb]=67108863&ew;return this.negative=1,this._strip()},ew.prototype._wordDiv=function(eu,ed){var eg,em=this.length-eu.length,eb=this.clone(),e_=eu,eE=0|e_.words[e_.length-1];0!=(em=26-this._countBits(eE))&&(e_=e_.ushln(em),eb.iushln(em),eE=0|e_.words[e_.length-1]);var eA=eb.length-e_.length;if("mod"!==ed){(eg=new ew(null)).length=eA+1,eg.words=Array(eg.length);for(var eS=0;eS<eg.length;eS++)eg.words[eS]=0}var eI=eb.clone()._ishlnsubmul(e_,1,eA);0===eI.negative&&(eb=eI,eg&&(eg.words[eA]=1));for(var eC=eA-1;eC>=0;eC--){var eM=(0|eb.words[e_.length+eC])*67108864+(0|eb.words[e_.length+eC-1]);for(eM=Math.min(eM/eE|0,67108863),eb._ishlnsubmul(e_,eM,eC);0!==eb.negative;)eM--,eb.negative=0,eb._ishlnsubmul(e_,1,eC),eb.isZero()||(eb.negative^=1);eg&&(eg.words[eC]=eM)}return eg&&eg._strip(),eb._strip(),"div"!==ed&&0!==em&&eb.iushrn(em),{div:eg||null,mod:eb}},ew.prototype.divmod=function(eu,ed,eg){var eb,e_,eE;return(em(!eu.isZero()),this.isZero())?{div:new ew(0),mod:new ew(0)}:0!==this.negative&&0===eu.negative?(eE=this.neg().divmod(eu,ed),"mod"!==ed&&(eb=eE.div.neg()),"div"!==ed&&(e_=eE.mod.neg(),eg&&0!==e_.negative&&e_.iadd(eu)),{div:eb,mod:e_}):0===this.negative&&0!==eu.negative?(eE=this.divmod(eu.neg(),ed),"mod"!==ed&&(eb=eE.div.neg()),{div:eb,mod:eE.mod}):(this.negative&eu.negative)!=0?(eE=this.neg().divmod(eu.neg(),ed),"div"!==ed&&(e_=eE.mod.neg(),eg&&0!==e_.negative&&e_.isub(eu)),{div:eE.div,mod:e_}):eu.length>this.length||0>this.cmp(eu)?{div:new ew(0),mod:this}:1===eu.length?"div"===ed?{div:this.divn(eu.words[0]),mod:null}:"mod"===ed?{div:null,mod:new ew(this.modrn(eu.words[0]))}:{div:this.divn(eu.words[0]),mod:new ew(this.modrn(eu.words[0]))}:this._wordDiv(eu,ed)},ew.prototype.div=function(eu){return this.divmod(eu,"div",!1).div},ew.prototype.mod=function(eu){return this.divmod(eu,"mod",!1).mod},ew.prototype.umod=function(eu){return this.divmod(eu,"mod",!0).mod},ew.prototype.divRound=function(eu){var ed=this.divmod(eu);if(ed.mod.isZero())return ed.div;var eg=0!==ed.div.negative?ed.mod.isub(eu):ed.mod,em=eu.ushrn(1),eb=eu.andln(1),ew=eg.cmp(em);return ew<0||1===eb&&0===ew?ed.div:0!==ed.div.negative?ed.div.isubn(1):ed.div.iaddn(1)},ew.prototype.modrn=function(eu){var ed=eu<0;ed&&(eu=-eu),em(eu<=67108863);for(var eg=67108864%eu,eb=0,ew=this.length-1;ew>=0;ew--)eb=(eg*eb+(0|this.words[ew]))%eu;return ed?-eb:eb},ew.prototype.modn=function(eu){return this.modrn(eu)},ew.prototype.idivn=function(eu){var ed=eu<0;ed&&(eu=-eu),em(eu<=67108863);for(var eg=0,eb=this.length-1;eb>=0;eb--){var ew=(0|this.words[eb])+67108864*eg;this.words[eb]=ew/eu|0,eg=ew%eu}return this._strip(),ed?this.ineg():this},ew.prototype.divn=function(eu){return this.clone().idivn(eu)},ew.prototype.egcd=function(eu){em(0===eu.negative),em(!eu.isZero());var ed=this,eg=eu.clone();ed=0!==ed.negative?ed.umod(eu):ed.clone();for(var eb=new ew(1),e_=new ew(0),eE=new ew(0),eA=new ew(1),eS=0;ed.isEven()&&eg.isEven();)ed.iushrn(1),eg.iushrn(1),++eS;for(var eI=eg.clone(),eC=ed.clone();!ed.isZero();){for(var eM=0,eO=1;(ed.words[0]&eO)==0&&eM<26;++eM,eO<<=1);if(eM>0)for(ed.iushrn(eM);eM-- >0;)(eb.isOdd()||e_.isOdd())&&(eb.iadd(eI),e_.isub(eC)),eb.iushrn(1),e_.iushrn(1);for(var eT=0,eP=1;(eg.words[0]&eP)==0&&eT<26;++eT,eP<<=1);if(eT>0)for(eg.iushrn(eT);eT-- >0;)(eE.isOdd()||eA.isOdd())&&(eE.iadd(eI),eA.isub(eC)),eE.iushrn(1),eA.iushrn(1);ed.cmp(eg)>=0?(ed.isub(eg),eb.isub(eE),e_.isub(eA)):(eg.isub(ed),eE.isub(eb),eA.isub(e_))}return{a:eE,b:eA,gcd:eg.iushln(eS)}},ew.prototype._invmp=function(eu){em(0===eu.negative),em(!eu.isZero());var ed,eg=this,eb=eu.clone();eg=0!==eg.negative?eg.umod(eu):eg.clone();for(var e_=new ew(1),eE=new ew(0),eA=eb.clone();eg.cmpn(1)>0&&eb.cmpn(1)>0;){for(var eS=0,eI=1;(eg.words[0]&eI)==0&&eS<26;++eS,eI<<=1);if(eS>0)for(eg.iushrn(eS);eS-- >0;)e_.isOdd()&&e_.iadd(eA),e_.iushrn(1);for(var eC=0,eM=1;(eb.words[0]&eM)==0&&eC<26;++eC,eM<<=1);if(eC>0)for(eb.iushrn(eC);eC-- >0;)eE.isOdd()&&eE.iadd(eA),eE.iushrn(1);eg.cmp(eb)>=0?(eg.isub(eb),e_.isub(eE)):(eb.isub(eg),eE.isub(e_))}return 0>(ed=0===eg.cmpn(1)?e_:eE).cmpn(0)&&ed.iadd(eu),ed},ew.prototype.gcd=function(eu){if(this.isZero())return eu.abs();if(eu.isZero())return this.abs();var ed=this.clone(),eg=eu.clone();ed.negative=0,eg.negative=0;for(var em=0;ed.isEven()&&eg.isEven();em++)ed.iushrn(1),eg.iushrn(1);for(;;){for(;ed.isEven();)ed.iushrn(1);for(;eg.isEven();)eg.iushrn(1);var eb=ed.cmp(eg);if(eb<0){var ew=ed;ed=eg,eg=ew}else if(0===eb||0===eg.cmpn(1))break;ed.isub(eg)}return eg.iushln(em)},ew.prototype.invm=function(eu){return this.egcd(eu).a.umod(eu)},ew.prototype.isEven=function(){return(1&this.words[0])==0},ew.prototype.isOdd=function(){return(1&this.words[0])==1},ew.prototype.andln=function(eu){return this.words[0]&eu},ew.prototype.bincn=function(eu){em("number"==typeof eu);var ed=eu%26,eg=(eu-ed)/26,eb=1<<ed;if(this.length<=eg)return this._expand(eg+1),this.words[eg]|=eb,this;for(var ew=eb,e_=eg;0!==ew&&e_<this.length;e_++){var eE=0|this.words[e_];eE+=ew,ew=eE>>>26,eE&=67108863,this.words[e_]=eE}return 0!==ew&&(this.words[e_]=ew,this.length++),this},ew.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},ew.prototype.cmpn=function(eu){var ed,eg=eu<0;if(0!==this.negative&&!eg)return -1;if(0===this.negative&&eg)return 1;if(this._strip(),this.length>1)ed=1;else{eg&&(eu=-eu),em(eu<=67108863,"Number is too big");var eb=0|this.words[0];ed=eb===eu?0:eb<eu?-1:1}return 0!==this.negative?0|-ed:ed},ew.prototype.cmp=function(eu){if(0!==this.negative&&0===eu.negative)return -1;if(0===this.negative&&0!==eu.negative)return 1;var ed=this.ucmp(eu);return 0!==this.negative?0|-ed:ed},ew.prototype.ucmp=function(eu){if(this.length>eu.length)return 1;if(this.length<eu.length)return -1;for(var ed=0,eg=this.length-1;eg>=0;eg--){var em=0|this.words[eg],eb=0|eu.words[eg];if(em!==eb){em<eb?ed=-1:em>eb&&(ed=1);break}}return ed},ew.prototype.gtn=function(eu){return 1===this.cmpn(eu)},ew.prototype.gt=function(eu){return 1===this.cmp(eu)},ew.prototype.gten=function(eu){return this.cmpn(eu)>=0},ew.prototype.gte=function(eu){return this.cmp(eu)>=0},ew.prototype.ltn=function(eu){return -1===this.cmpn(eu)},ew.prototype.lt=function(eu){return -1===this.cmp(eu)},ew.prototype.lten=function(eu){return 0>=this.cmpn(eu)},ew.prototype.lte=function(eu){return 0>=this.cmp(eu)},ew.prototype.eqn=function(eu){return 0===this.cmpn(eu)},ew.prototype.eq=function(eu){return 0===this.cmp(eu)},ew.red=function(eu){return new eV(eu)},ew.prototype.toRed=function(eu){return em(!this.red,"Already a number in reduction context"),em(0===this.negative,"red works only with positives"),eu.convertTo(this)._forceRed(eu)},ew.prototype.fromRed=function(){return em(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},ew.prototype._forceRed=function(eu){return this.red=eu,this},ew.prototype.forceRed=function(eu){return em(!this.red,"Already a number in reduction context"),this._forceRed(eu)},ew.prototype.redAdd=function(eu){return em(this.red,"redAdd works only with red numbers"),this.red.add(this,eu)},ew.prototype.redIAdd=function(eu){return em(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,eu)},ew.prototype.redSub=function(eu){return em(this.red,"redSub works only with red numbers"),this.red.sub(this,eu)},ew.prototype.redISub=function(eu){return em(this.red,"redISub works only with red numbers"),this.red.isub(this,eu)},ew.prototype.redShl=function(eu){return em(this.red,"redShl works only with red numbers"),this.red.shl(this,eu)},ew.prototype.redMul=function(eu){return em(this.red,"redMul works only with red numbers"),this.red._verify2(this,eu),this.red.mul(this,eu)},ew.prototype.redIMul=function(eu){return em(this.red,"redMul works only with red numbers"),this.red._verify2(this,eu),this.red.imul(this,eu)},ew.prototype.redSqr=function(){return em(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},ew.prototype.redISqr=function(){return em(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},ew.prototype.redSqrt=function(){return em(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},ew.prototype.redInvm=function(){return em(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},ew.prototype.redNeg=function(){return em(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},ew.prototype.redPow=function(eu){return em(this.red&&!eu.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,eu)};var eL={k256:null,p224:null,p192:null,p25519:null};function ej(eu,ed){this.name=eu,this.p=new ew(ed,16),this.n=this.p.bitLength(),this.k=new ew(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function eF(){ej.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function e$(){ej.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function eK(){ej.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function eH(){ej.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function eV(eu){if("string"==typeof eu){var ed=ew._prime(eu);this.m=ed.p,this.prime=ed}else em(eu.gtn(1),"modulus must be greater than 1"),this.m=eu,this.prime=null}function eG(eu){eV.call(this,eu),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new ew(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ej.prototype._tmp=function(){var eu=new ew(null);return eu.words=Array(Math.ceil(this.n/13)),eu},ej.prototype.ireduce=function(eu){var ed,eg=eu;do this.split(eg,this.tmp),ed=(eg=(eg=this.imulK(eg)).iadd(this.tmp)).bitLength();while(ed>this.n);var em=ed<this.n?-1:eg.ucmp(this.p);return 0===em?(eg.words[0]=0,eg.length=1):em>0?eg.isub(this.p):void 0!==eg.strip?eg.strip():eg._strip(),eg},ej.prototype.split=function(eu,ed){eu.iushrn(this.n,0,ed)},ej.prototype.imulK=function(eu){return eu.imul(this.k)},eb(eF,ej),eF.prototype.split=function(eu,ed){for(var eg=4194303,em=Math.min(eu.length,9),eb=0;eb<em;eb++)ed.words[eb]=eu.words[eb];if(ed.length=em,eu.length<=9){eu.words[0]=0,eu.length=1;return}var ew=eu.words[9];for(eb=10,ed.words[ed.length++]=ew&eg;eb<eu.length;eb++){var e_=0|eu.words[eb];eu.words[eb-10]=(e_&eg)<<4|ew>>>22,ew=e_}ew>>>=22,eu.words[eb-10]=ew,0===ew&&eu.length>10?eu.length-=10:eu.length-=9},eF.prototype.imulK=function(eu){eu.words[eu.length]=0,eu.words[eu.length+1]=0,eu.length+=2;for(var ed=0,eg=0;eg<eu.length;eg++){var em=0|eu.words[eg];ed+=977*em,eu.words[eg]=67108863&ed,ed=64*em+(ed/67108864|0)}return 0===eu.words[eu.length-1]&&(eu.length--,0===eu.words[eu.length-1]&&eu.length--),eu},eb(e$,ej),eb(eK,ej),eb(eH,ej),eH.prototype.imulK=function(eu){for(var ed=0,eg=0;eg<eu.length;eg++){var em=(0|eu.words[eg])*19+ed,eb=67108863&em;em>>>=26,eu.words[eg]=eb,ed=em}return 0!==ed&&(eu.words[eu.length++]=ed),eu},ew._prime=function(eu){var ed;if(eL[eu])return eL[eu];if("k256"===eu)ed=new eF;else if("p224"===eu)ed=new e$;else if("p192"===eu)ed=new eK;else if("p25519"===eu)ed=new eH;else throw Error("Unknown prime "+eu);return eL[eu]=ed,ed},eV.prototype._verify1=function(eu){em(0===eu.negative,"red works only with positives"),em(eu.red,"red works only with red numbers")},eV.prototype._verify2=function(eu,ed){em((eu.negative|ed.negative)==0,"red works only with positives"),em(eu.red&&eu.red===ed.red,"red works only with red numbers")},eV.prototype.imod=function(eu){return this.prime?this.prime.ireduce(eu)._forceRed(this):(eS(eu,eu.umod(this.m)._forceRed(this)),eu)},eV.prototype.neg=function(eu){return eu.isZero()?eu.clone():this.m.sub(eu)._forceRed(this)},eV.prototype.add=function(eu,ed){this._verify2(eu,ed);var eg=eu.add(ed);return eg.cmp(this.m)>=0&&eg.isub(this.m),eg._forceRed(this)},eV.prototype.iadd=function(eu,ed){this._verify2(eu,ed);var eg=eu.iadd(ed);return eg.cmp(this.m)>=0&&eg.isub(this.m),eg},eV.prototype.sub=function(eu,ed){this._verify2(eu,ed);var eg=eu.sub(ed);return 0>eg.cmpn(0)&&eg.iadd(this.m),eg._forceRed(this)},eV.prototype.isub=function(eu,ed){this._verify2(eu,ed);var eg=eu.isub(ed);return 0>eg.cmpn(0)&&eg.iadd(this.m),eg},eV.prototype.shl=function(eu,ed){return this._verify1(eu),this.imod(eu.ushln(ed))},eV.prototype.imul=function(eu,ed){return this._verify2(eu,ed),this.imod(eu.imul(ed))},eV.prototype.mul=function(eu,ed){return this._verify2(eu,ed),this.imod(eu.mul(ed))},eV.prototype.isqr=function(eu){return this.imul(eu,eu.clone())},eV.prototype.sqr=function(eu){return this.mul(eu,eu)},eV.prototype.sqrt=function(eu){if(eu.isZero())return eu.clone();var ed=this.m.andln(3);if(em(ed%2==1),3===ed){var eg=this.m.add(new ew(1)).iushrn(2);return this.pow(eu,eg)}for(var eb=this.m.subn(1),e_=0;!eb.isZero()&&0===eb.andln(1);)e_++,eb.iushrn(1);em(!eb.isZero());var eE=new ew(1).toRed(this),eA=eE.redNeg(),eS=this.m.subn(1).iushrn(1),eI=this.m.bitLength();for(eI=new ew(2*eI*eI).toRed(this);0!==this.pow(eI,eS).cmp(eA);)eI.redIAdd(eA);for(var eC=this.pow(eI,eb),eM=this.pow(eu,eb.addn(1).iushrn(1)),eO=this.pow(eu,eb),eT=e_;0!==eO.cmp(eE);){for(var eP=eO,eN=0;0!==eP.cmp(eE);eN++)eP=eP.redSqr();em(eN<eT);var ek=this.pow(eC,new ew(1).iushln(eT-eN-1));eM=eM.redMul(ek),eC=ek.redSqr(),eO=eO.redMul(eC),eT=eN}return eM},eV.prototype.invm=function(eu){var ed=eu._invmp(this.m);return 0!==ed.negative?(ed.negative=0,this.imod(ed).redNeg()):this.imod(ed)},eV.prototype.pow=function(eu,ed){if(ed.isZero())return new ew(1).toRed(this);if(0===ed.cmpn(1))return eu.clone();var eg=4,em=Array(16);em[0]=new ew(1).toRed(this),em[1]=eu;for(var eb=2;eb<em.length;eb++)em[eb]=this.mul(em[eb-1],eu);var e_=em[0],eE=0,eA=0,eS=ed.bitLength()%26;for(0===eS&&(eS=26),eb=ed.length-1;eb>=0;eb--){for(var eI=ed.words[eb],eC=eS-1;eC>=0;eC--){var eM=eI>>eC&1;if(e_!==em[0]&&(e_=this.sqr(e_)),0===eM&&0===eE){eA=0;continue}eE<<=1,eE|=eM,(++eA===eg||0===eb&&0===eC)&&(e_=this.mul(e_,em[eE]),eA=0,eE=0)}eS=26}return e_},eV.prototype.convertTo=function(eu){var ed=eu.umod(this.m);return ed===eu?ed.clone():ed},eV.prototype.convertFrom=function(eu){var ed=eu.clone();return ed.red=null,ed},ew.mont=function(eu){return new eG(eu)},eb(eG,eV),eG.prototype.convertTo=function(eu){return this.imod(eu.ushln(this.shift))},eG.prototype.convertFrom=function(eu){var ed=this.imod(eu.mul(this.rinv));return ed.red=null,ed},eG.prototype.imul=function(eu,ed){if(eu.isZero()||ed.isZero())return eu.words[0]=0,eu.length=1,eu;var eg=eu.imul(ed),em=eg.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),eb=eg.isub(em).iushrn(this.shift),ew=eb;return eb.cmp(this.m)>=0?ew=eb.isub(this.m):0>eb.cmpn(0)&&(ew=eb.iadd(this.m)),ew._forceRed(this)},eG.prototype.mul=function(eu,ed){if(eu.isZero()||ed.isZero())return new ew(0)._forceRed(this);var eg=eu.mul(ed),em=eg.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),eb=eg.isub(em).iushrn(this.shift),e_=eb;return eb.cmp(this.m)>=0?e_=eb.isub(this.m):0>eb.cmpn(0)&&(e_=eb.iadd(this.m)),e_._forceRed(this)},eG.prototype.invm=function(eu){return this.imod(eu._invmp(this.m).mul(this.r2))._forceRed(this)}}(eu=eg.nmd(eu),this)},73427:function(eu,ed){"use strict";ed.__esModule=!0,ed.DecodeBuffer=ed.EncodeBuffer=void 0;var eg=function(){function eu(){this.offset=0,this.buffer_size=256,this.buffer=new ArrayBuffer(this.buffer_size),this.view=new DataView(this.buffer)}return eu.prototype.resize_if_necessary=function(eu){if(this.buffer_size-this.offset<eu){this.buffer_size=Math.max(2*this.buffer_size,this.buffer_size+eu);var ed=new ArrayBuffer(this.buffer_size);new Uint8Array(ed).set(new Uint8Array(this.buffer)),this.buffer=ed,this.view=new DataView(ed)}},eu.prototype.get_used_buffer=function(){return new Uint8Array(this.buffer).slice(0,this.offset)},eu.prototype.store_value=function(eu,ed){var eg=ed.substring(1),em=parseInt(eg)/8;this.resize_if_necessary(em);var eb="f"===ed[0]?"setFloat".concat(eg):"i"===ed[0]?"setInt".concat(eg):"setUint".concat(eg);this.view[eb](this.offset,eu,!0),this.offset+=em},eu.prototype.store_bytes=function(eu){this.resize_if_necessary(eu.length),new Uint8Array(this.buffer).set(new Uint8Array(eu),this.offset),this.offset+=eu.length},eu}();ed.EncodeBuffer=eg;var em=function(){function eu(eu){this.offset=0,this.buffer_size=eu.length,this.buffer=new ArrayBuffer(eu.length),new Uint8Array(this.buffer).set(eu),this.view=new DataView(this.buffer)}return eu.prototype.assert_enough_buffer=function(eu){if(this.offset+eu>this.buffer.byteLength)throw Error("Error in schema, the buffer is smaller than expected")},eu.prototype.consume_value=function(eu){var ed=eu.substring(1),eg=parseInt(ed)/8;this.assert_enough_buffer(eg);var em="f"===eu[0]?"getFloat".concat(ed):"i"===eu[0]?"getInt".concat(ed):"getUint".concat(ed),eb=this.view[em](this.offset,!0);return this.offset+=eg,eb},eu.prototype.consume_bytes=function(eu){this.assert_enough_buffer(eu);var ed=this.buffer.slice(this.offset,this.offset+eu);return this.offset+=eu,ed},eu}();ed.DecodeBuffer=em},73762:function(eu,ed,eg){"use strict";ed.__esModule=!0,ed.BorshDeserializer=void 0;var em=eg(19194),eb=eg(73427),ew=function(){function eu(eu){this.buffer=new eb.DecodeBuffer(eu)}return eu.prototype.decode=function(eu){return this.decode_value(eu)},eu.prototype.decode_value=function(eu){if("string"==typeof eu){if(em.integers.includes(eu))return this.decode_integer(eu);if("string"===eu)return this.decode_string();if("bool"===eu)return this.decode_boolean()}if("object"==typeof eu){if("option"in eu)return this.decode_option(eu);if("enum"in eu)return this.decode_enum(eu);if("array"in eu)return this.decode_array(eu);if("set"in eu)return this.decode_set(eu);if("map"in eu)return this.decode_map(eu);if("struct"in eu)return this.decode_struct(eu)}throw Error("Unsupported type: ".concat(eu))},eu.prototype.decode_integer=function(eu){var ed=parseInt(eu.substring(1));return ed<=32||"f64"==eu?this.buffer.consume_value(eu):this.decode_bigint(ed,eu.startsWith("i"))},eu.prototype.decode_bigint=function(eu,ed){void 0===ed&&(ed=!1);var eg=eu/8,em=new Uint8Array(this.buffer.consume_bytes(eg)),eb=em.reduceRight(function(eu,ed){return eu+ed.toString(16).padStart(2,"0")},"");return ed&&em[eg-1]?BigInt.asIntN(eu,BigInt("0x".concat(eb))):BigInt("0x".concat(eb))},eu.prototype.decode_string=function(){for(var eu=this.decode_integer("u32"),ed=new Uint8Array(this.buffer.consume_bytes(eu)),eg=[],em=0;em<eu;++em){var eb=ed[em];if(eb<128)eg.push(eb);else if(eb<224)eg.push((31&eb)<<6|63&ed[++em]);else if(eb<240)eg.push((15&eb)<<12|(63&ed[++em])<<6|63&ed[++em]);else{var ew=(7&eb)<<18|(63&ed[++em])<<12|(63&ed[++em])<<6|63&ed[++em];eg.push(ew)}}return String.fromCodePoint.apply(String,eg)},eu.prototype.decode_boolean=function(){return this.buffer.consume_value("u8")>0},eu.prototype.decode_option=function(eu){var ed=this.buffer.consume_value("u8");if(1===ed)return this.decode_value(eu.option);if(0!==ed)throw Error("Invalid option ".concat(ed));return null},eu.prototype.decode_enum=function(eu){var ed,eg=this.buffer.consume_value("u8");if(eg>eu.enum.length)throw Error("Enum option ".concat(eg," is not available"));var em=eu.enum[eg].struct,eb=Object.keys(em)[0];return(ed={})[eb]=this.decode_value(em[eb]),ed},eu.prototype.decode_array=function(eu){for(var ed=[],eg=eu.array.len?eu.array.len:this.decode_integer("u32"),em=0;em<eg;++em)ed.push(this.decode_value(eu.array.type));return ed},eu.prototype.decode_set=function(eu){for(var ed=this.decode_integer("u32"),eg=new Set,em=0;em<ed;++em)eg.add(this.decode_value(eu.set));return eg},eu.prototype.decode_map=function(eu){for(var ed=this.decode_integer("u32"),eg=new Map,em=0;em<ed;++em){var eb=this.decode_value(eu.map.key),ew=this.decode_value(eu.map.value);eg.set(eb,ew)}return eg},eu.prototype.decode_struct=function(eu){var ed={};for(var eg in eu.struct)ed[eg]=this.decode_value(eu.struct[eg]);return ed},eu}();ed.BorshDeserializer=ew},66066:function(eu,ed,eg){"use strict";var em=this&&this.__createBinding||(Object.create?function(eu,ed,eg,em){void 0===em&&(em=eg);var eb=Object.getOwnPropertyDescriptor(ed,eg);(!eb||("get"in eb?!ed.__esModule:eb.writable||eb.configurable))&&(eb={enumerable:!0,get:function(){return ed[eg]}}),Object.defineProperty(eu,em,eb)}:function(eu,ed,eg,em){void 0===em&&(em=eg),eu[em]=ed[eg]}),eb=this&&this.__setModuleDefault||(Object.create?function(eu,ed){Object.defineProperty(eu,"default",{enumerable:!0,value:ed})}:function(eu,ed){eu.default=ed}),ew=this&&this.__importStar||function(eu){if(eu&&eu.__esModule)return eu;var ed={};if(null!=eu)for(var eg in eu)"default"!==eg&&Object.prototype.hasOwnProperty.call(eu,eg)&&em(ed,eu,eg);return eb(ed,eu),ed};ed.__esModule=!0,ed.deserialize=ed.serialize=void 0;var e_=eg(45836),eE=eg(73762),eA=ew(eg(92451));function eS(eu,ed,eg){return void 0===eg&&(eg=!0),eg&&eA.validate_schema(eu),new e_.BorshSerializer(eg).encode(ed,eu)}function eI(eu,ed,eg){return void 0===eg&&(eg=!0),eg&&eA.validate_schema(eu),new eE.BorshDeserializer(ed).decode(eu)}ed.serialize=eS,ed.deserialize=eI},45836:function(eu,ed,eg){"use strict";var em=this&&this.__createBinding||(Object.create?function(eu,ed,eg,em){void 0===em&&(em=eg);var eb=Object.getOwnPropertyDescriptor(ed,eg);(!eb||("get"in eb?!ed.__esModule:eb.writable||eb.configurable))&&(eb={enumerable:!0,get:function(){return ed[eg]}}),Object.defineProperty(eu,em,eb)}:function(eu,ed,eg,em){void 0===em&&(em=eg),eu[em]=ed[eg]}),eb=this&&this.__setModuleDefault||(Object.create?function(eu,ed){Object.defineProperty(eu,"default",{enumerable:!0,value:ed})}:function(eu,ed){eu.default=ed}),ew=this&&this.__importStar||function(eu){if(eu&&eu.__esModule)return eu;var ed={};if(null!=eu)for(var eg in eu)"default"!==eg&&Object.prototype.hasOwnProperty.call(eu,eg)&&em(ed,eu,eg);return eb(ed,eu),ed};ed.__esModule=!0,ed.BorshSerializer=void 0;var e_=eg(19194),eE=eg(73427),eA=ew(eg(92451)),eS=function(){function eu(eu){this.encoded=new eE.EncodeBuffer,this.fieldPath=["value"],this.checkTypes=eu}return eu.prototype.encode=function(eu,ed){return this.encode_value(eu,ed),this.encoded.get_used_buffer()},eu.prototype.encode_value=function(eu,ed){if("string"==typeof ed){if(e_.integers.includes(ed))return this.encode_integer(eu,ed);if("string"===ed)return this.encode_string(eu);if("bool"===ed)return this.encode_boolean(eu)}if("object"==typeof ed){if("option"in ed)return this.encode_option(eu,ed);if("enum"in ed)return this.encode_enum(eu,ed);if("array"in ed)return this.encode_array(eu,ed);if("set"in ed)return this.encode_set(eu,ed);if("map"in ed)return this.encode_map(eu,ed);if("struct"in ed)return this.encode_struct(eu,ed)}},eu.prototype.encode_integer=function(eu,ed){var eg=parseInt(ed.substring(1));eg<=32||"f64"==ed?(this.checkTypes&&eA.expect_type(eu,"number",this.fieldPath),this.encoded.store_value(eu,ed)):(this.checkTypes&&eA.expect_bigint(eu,this.fieldPath),this.encode_bigint(BigInt(eu),eg))},eu.prototype.encode_bigint=function(eu,ed){for(var eg=ed/8,em=new Uint8Array(eg),eb=0;eb<eg;eb++)em[eb]=Number(eu&BigInt(255)),eu>>=BigInt(8);this.encoded.store_bytes(new Uint8Array(em))},eu.prototype.encode_string=function(eu){this.checkTypes&&eA.expect_type(eu,"string",this.fieldPath);for(var ed=eu,eg=[],em=0;em<ed.length;em++){var eb=ed.charCodeAt(em);eb<128?eg.push(eb):eb<2048?eg.push(192|eb>>6,128|63&eb):eb<55296||eb>=57344?eg.push(224|eb>>12,128|eb>>6&63,128|63&eb):(em++,eb=65536+((1023&eb)<<10|1023&ed.charCodeAt(em)),eg.push(240|eb>>18,128|eb>>12&63,128|eb>>6&63,128|63&eb))}this.encoded.store_value(eg.length,"u32"),this.encoded.store_bytes(new Uint8Array(eg))},eu.prototype.encode_boolean=function(eu){this.checkTypes&&eA.expect_type(eu,"boolean",this.fieldPath),this.encoded.store_value(eu?1:0,"u8")},eu.prototype.encode_option=function(eu,ed){null==eu?this.encoded.store_value(0,"u8"):(this.encoded.store_value(1,"u8"),this.encode_value(eu,ed.option))},eu.prototype.encode_enum=function(eu,ed){this.checkTypes&&eA.expect_enum(eu,this.fieldPath);for(var eg=Object.keys(eu)[0],em=0;em<ed.enum.length;em++){var eb=ed.enum[em];if(eg===Object.keys(eb.struct)[0])return this.encoded.store_value(em,"u8"),this.encode_struct(eu,eb)}throw Error("Enum key (".concat(eg,") not found in enum schema: ").concat(JSON.stringify(ed)," at ").concat(this.fieldPath.join(".")))},eu.prototype.encode_array=function(eu,ed){if(eA.isArrayLike(eu))return this.encode_arraylike(eu,ed);if(eu instanceof ArrayBuffer)return this.encode_buffer(eu,ed);throw Error("Expected Array-like not ".concat(typeof eu,"(").concat(eu,") at ").concat(this.fieldPath.join(".")))},eu.prototype.encode_arraylike=function(eu,ed){ed.array.len?eA.expect_same_size(eu.length,ed.array.len,this.fieldPath):this.encoded.store_value(eu.length,"u32");for(var eg=0;eg<eu.length;eg++)this.encode_value(eu[eg],ed.array.type)},eu.prototype.encode_buffer=function(eu,ed){ed.array.len?eA.expect_same_size(eu.byteLength,ed.array.len,this.fieldPath):this.encoded.store_value(eu.byteLength,"u32"),this.encoded.store_bytes(new Uint8Array(eu))},eu.prototype.encode_set=function(eu,ed){this.checkTypes&&eA.expect_type(eu,"object",this.fieldPath);var eg=eu instanceof Set?Array.from(eu.values()):Object.values(eu);this.encoded.store_value(eg.length,"u32");for(var em=0,eb=eg;em<eb.length;em++){var ew=eb[em];this.encode_value(ew,ed.set)}},eu.prototype.encode_map=function(eu,ed){this.checkTypes&&eA.expect_type(eu,"object",this.fieldPath);var eg=eu instanceof Map,em=eg?Array.from(eu.keys()):Object.keys(eu);this.encoded.store_value(em.length,"u32");for(var eb=0,ew=em;eb<ew.length;eb++){var e_=ew[eb];this.encode_value(e_,ed.map.key),this.encode_value(eg?eu.get(e_):eu[e_],ed.map.value)}},eu.prototype.encode_struct=function(eu,ed){this.checkTypes&&eA.expect_type(eu,"object",this.fieldPath);for(var eg=0,em=Object.keys(ed.struct);eg<em.length;eg++){var eb=em[eg];this.fieldPath.push(eb),this.encode_value(eu[eb],ed.struct[eb]),this.fieldPath.pop()}},eu}();ed.BorshSerializer=eS},19194:function(eu,ed){"use strict";ed.__esModule=!0,ed.integers=void 0,ed.integers=["u8","u16","u32","u64","u128","i8","i16","i32","i64","i128","f32","f64"]},92451:function(eu,ed,eg){"use strict";var em=this&&this.__extends||function(){var eu=function(ed,eg){return(eu=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(eu,ed){eu.__proto__=ed}||function(eu,ed){for(var eg in ed)Object.prototype.hasOwnProperty.call(ed,eg)&&(eu[eg]=ed[eg])})(ed,eg)};return function(ed,eg){if("function"!=typeof eg&&null!==eg)throw TypeError("Class extends value "+String(eg)+" is not a constructor or null");function em(){this.constructor=ed}eu(ed,eg),ed.prototype=null===eg?Object.create(eg):(em.prototype=eg.prototype,new em)}}();ed.__esModule=!0,ed.validate_schema=ed.ErrorSchema=ed.expect_enum=ed.expect_same_size=ed.expect_bigint=ed.expect_type=ed.isArrayLike=void 0;var eb=eg(19194);function ew(eu){return Array.isArray(eu)||!!eu&&"object"==typeof eu&&"length"in eu&&"number"==typeof eu.length&&(0===eu.length||eu.length>0&&eu.length-1 in eu)}function e_(eu,ed,eg){if(typeof eu!==ed)throw Error("Expected ".concat(ed," not ").concat(typeof eu,"(").concat(eu,") at ").concat(eg.join(".")))}function eE(eu,ed){var eg=["number","string","bigint","boolean"].includes(typeof eu),em="object"==typeof eu&&null!==eu&&"toString"in eu;if(!eg&&!em)throw Error("Expected bigint, number, boolean or string not ".concat(typeof eu,"(").concat(eu,") at ").concat(ed.join(".")))}function eA(eu,ed,eg){if(eu!==ed)throw Error("Array length ".concat(eu," does not match schema length ").concat(ed," at ").concat(eg.join(".")))}function eS(eu,ed){if("object"!=typeof eu||null===eu)throw Error("Expected object not ".concat(typeof eu,"(").concat(eu,") at ").concat(ed.join(".")))}ed.isArrayLike=ew,ed.expect_type=e_,ed.expect_bigint=eE,ed.expect_same_size=eA,ed.expect_enum=eS;var eI=eb.integers.concat(["bool","string"]),eC=["option","enum","array","set","map","struct"],eM=function(eu){function ed(ed,eg){var em="Invalid schema: ".concat(JSON.stringify(ed)," expected ").concat(eg);return eu.call(this,em)||this}return em(ed,eu),ed}(Error);function eO(eu){if(!("string"==typeof eu&&eI.includes(eu))){if(eu&&"object"==typeof eu){var ed=Object.keys(eu);if(1===ed.length&&eC.includes(ed[0])){var eg=ed[0];if("option"===eg)return eO(eu[eg]);if("enum"===eg)return eT(eu[eg]);if("array"===eg)return eP(eu[eg]);if("set"===eg)return eO(eu[eg]);if("map"===eg)return eN(eu[eg]);if("struct"===eg)return ek(eu[eg])}}throw new eM(eu,eC.join(", ")+" or "+eI.join(", "))}}function eT(eu){if(!Array.isArray(eu))throw new eM(eu,"Array");for(var ed=0,eg=eu;ed<eg.length;ed++){var em=eg[ed];if("object"!=typeof em||!("struct"in em))throw Error('Missing "struct" key in enum schema');if("object"!=typeof em.struct||1!==Object.keys(em.struct).length)throw Error('The "struct" in each enum must have a single key');eO({struct:em.struct})}}function eP(eu){if("object"!=typeof eu)throw new eM(eu,"{ type, len? }");if(eu.len&&"number"!=typeof eu.len)throw Error("Invalid schema: ".concat(eu));if("type"in eu)return eO(eu.type);throw new eM(eu,"{ type, len? }")}function eN(eu){if("object"==typeof eu&&"key"in eu&&"value"in eu)eO(eu.key),eO(eu.value);else throw new eM(eu,"{ key, value }")}function ek(eu){if("object"!=typeof eu)throw new eM(eu,"object");for(var ed in eu)eO(eu[ed])}ed.ErrorSchema=eM,ed.validate_schema=eO},82745:function(eu,ed,eg){var em;function eb(eu){this.rand=eu}if(eu.exports=function(eu){return em||(em=new eb(null)),em.generate(eu)},eu.exports.Rand=eb,eb.prototype.generate=function(eu){return this._rand(eu)},eb.prototype._rand=function(eu){if(this.rand.getBytes)return this.rand.getBytes(eu);for(var ed=new Uint8Array(eu),eg=0;eg<ed.length;eg++)ed[eg]=this.rand.getByte();return ed},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?eb.prototype._rand=function(eu){var ed=new Uint8Array(eu);return self.crypto.getRandomValues(ed),ed}:self.msCrypto&&self.msCrypto.getRandomValues?eb.prototype._rand=function(eu){var ed=new Uint8Array(eu);return self.msCrypto.getRandomValues(ed),ed}:"object"==typeof window&&(eb.prototype._rand=function(){throw Error("Not implemented yet")});else try{var ew=eg(5634);if("function"!=typeof ew.randomBytes)throw Error("Not supported");eb.prototype._rand=function(eu){return ew.randomBytes(eu)}}catch(eu){}},52970:function(eu,ed,eg){var em=eg(77834).Buffer;function eb(eu){em.isBuffer(eu)||(eu=em.from(eu));for(var ed=eu.length/4|0,eg=Array(ed),eb=0;eb<ed;eb++)eg[eb]=eu.readUInt32BE(4*eb);return eg}function ew(eu){for(var ed=0;ed<eu.length;eu++)eu[ed]=0}function e_(eu,ed,eg,em,eb){for(var ew,e_,eE,eA,eS=eg[0],eI=eg[1],eC=eg[2],eM=eg[3],eO=eu[0]^ed[0],eT=eu[1]^ed[1],eP=eu[2]^ed[2],eN=eu[3]^ed[3],ek=4,eR=1;eR<eb;eR++)ew=eS[eO>>>24]^eI[eT>>>16&255]^eC[eP>>>8&255]^eM[255&eN]^ed[ek++],e_=eS[eT>>>24]^eI[eP>>>16&255]^eC[eN>>>8&255]^eM[255&eO]^ed[ek++],eE=eS[eP>>>24]^eI[eN>>>16&255]^eC[eO>>>8&255]^eM[255&eT]^ed[ek++],eA=eS[eN>>>24]^eI[eO>>>16&255]^eC[eT>>>8&255]^eM[255&eP]^ed[ek++],eO=ew,eT=e_,eP=eE,eN=eA;return ew=(em[eO>>>24]<<24|em[eT>>>16&255]<<16|em[eP>>>8&255]<<8|em[255&eN])^ed[ek++],e_=(em[eT>>>24]<<24|em[eP>>>16&255]<<16|em[eN>>>8&255]<<8|em[255&eO])^ed[ek++],[ew>>>=0,e_>>>=0,eE=((em[eP>>>24]<<24|em[eN>>>16&255]<<16|em[eO>>>8&255]<<8|em[255&eT])^ed[ek++])>>>0,eA=((em[eN>>>24]<<24|em[eO>>>16&255]<<16|em[eT>>>8&255]<<8|em[255&eP])^ed[ek++])>>>0]}var eE=[0,1,2,4,8,16,32,64,128,27,54],eA=function(){for(var eu=Array(256),ed=0;ed<256;ed++)ed<128?eu[ed]=ed<<1:eu[ed]=ed<<1^283;for(var eg=[],em=[],eb=[[],[],[],[]],ew=[[],[],[],[]],e_=0,eE=0,eA=0;eA<256;++eA){var eS=eE^eE<<1^eE<<2^eE<<3^eE<<4;eS=eS>>>8^255&eS^99,eg[e_]=eS,em[eS]=e_;var eI=eu[e_],eC=eu[eI],eM=eu[eC],eO=257*eu[eS]^16843008*eS;eb[0][e_]=eO<<24|eO>>>8,eb[1][e_]=eO<<16|eO>>>16,eb[2][e_]=eO<<8|eO>>>24,eb[3][e_]=eO,eO=16843009*eM^65537*eC^257*eI^16843008*e_,ew[0][eS]=eO<<24|eO>>>8,ew[1][eS]=eO<<16|eO>>>16,ew[2][eS]=eO<<8|eO>>>24,ew[3][eS]=eO,0===e_?e_=eE=1:(e_=eI^eu[eu[eu[eM^eI]]],eE^=eu[eu[eE]])}return{SBOX:eg,INV_SBOX:em,SUB_MIX:eb,INV_SUB_MIX:ew}}();function eS(eu){this._key=eb(eu),this._reset()}eS.blockSize=16,eS.keySize=32,eS.prototype.blockSize=eS.blockSize,eS.prototype.keySize=eS.keySize,eS.prototype._reset=function(){for(var eu=this._key,ed=eu.length,eg=ed+6,em=(eg+1)*4,eb=[],ew=0;ew<ed;ew++)eb[ew]=eu[ew];for(ew=ed;ew<em;ew++){var e_=eb[ew-1];ew%ed==0?(e_=e_<<8|e_>>>24,e_=(eA.SBOX[e_>>>24]<<24|eA.SBOX[e_>>>16&255]<<16|eA.SBOX[e_>>>8&255]<<8|eA.SBOX[255&e_])^eE[ew/ed|0]<<24):ed>6&&ew%ed==4&&(e_=eA.SBOX[e_>>>24]<<24|eA.SBOX[e_>>>16&255]<<16|eA.SBOX[e_>>>8&255]<<8|eA.SBOX[255&e_]),eb[ew]=eb[ew-ed]^e_}for(var eS=[],eI=0;eI<em;eI++){var eC=em-eI,eM=eb[eC-(eI%4?0:4)];eI<4||eC<=4?eS[eI]=eM:eS[eI]=eA.INV_SUB_MIX[0][eA.SBOX[eM>>>24]]^eA.INV_SUB_MIX[1][eA.SBOX[eM>>>16&255]]^eA.INV_SUB_MIX[2][eA.SBOX[eM>>>8&255]]^eA.INV_SUB_MIX[3][eA.SBOX[255&eM]]}this._nRounds=eg,this._keySchedule=eb,this._invKeySchedule=eS},eS.prototype.encryptBlockRaw=function(eu){return e_(eu=eb(eu),this._keySchedule,eA.SUB_MIX,eA.SBOX,this._nRounds)},eS.prototype.encryptBlock=function(eu){var ed=this.encryptBlockRaw(eu),eg=em.allocUnsafe(16);return eg.writeUInt32BE(ed[0],0),eg.writeUInt32BE(ed[1],4),eg.writeUInt32BE(ed[2],8),eg.writeUInt32BE(ed[3],12),eg},eS.prototype.decryptBlock=function(eu){var ed=(eu=eb(eu))[1];eu[1]=eu[3],eu[3]=ed;var eg=e_(eu,this._invKeySchedule,eA.INV_SUB_MIX,eA.INV_SBOX,this._nRounds),ew=em.allocUnsafe(16);return ew.writeUInt32BE(eg[0],0),ew.writeUInt32BE(eg[3],4),ew.writeUInt32BE(eg[2],8),ew.writeUInt32BE(eg[1],12),ew},eS.prototype.scrub=function(){ew(this._keySchedule),ew(this._invKeySchedule),ew(this._key)},eu.exports.AES=eS},3313:function(eu,ed,eg){var em=eg(52970),eb=eg(77834).Buffer,ew=eg(13973),e_=eg(91285),eE=eg(42895),eA=eg(31313),eS=eg(14182);function eI(eu,ed){var eg=0;eu.length!==ed.length&&eg++;for(var em=Math.min(eu.length,ed.length),eb=0;eb<em;++eb)eg+=eu[eb]^ed[eb];return eg}function eC(eu,ed,eg){if(12===ed.length)return eu._finID=eb.concat([ed,eb.from([0,0,0,1])]),eb.concat([ed,eb.from([0,0,0,2])]);var em=new eE(eg),ew=ed.length,e_=ew%16;em.update(ed),e_&&(e_=16-e_,em.update(eb.alloc(e_,0))),em.update(eb.alloc(8,0));var eA=8*ew,eI=eb.alloc(8);eI.writeUIntBE(eA,0,8),em.update(eI),eu._finID=em.state;var eC=eb.from(eu._finID);return eS(eC),eC}function eM(eu,ed,eg,e_){ew.call(this);var eA=eb.alloc(4,0);this._cipher=new em.AES(ed);var eS=this._cipher.encryptBlock(eA);this._ghash=new eE(eS),eg=eC(this,eg,eS),this._prev=eb.from(eg),this._cache=eb.allocUnsafe(0),this._secCache=eb.allocUnsafe(0),this._decrypt=e_,this._alen=0,this._len=0,this._mode=eu,this._authTag=null,this._called=!1}e_(eM,ew),eM.prototype._update=function(eu){if(!this._called&&this._alen){var ed=16-this._alen%16;ed<16&&(ed=eb.alloc(ed,0),this._ghash.update(ed))}this._called=!0;var eg=this._mode.encrypt(this,eu);return this._decrypt?this._ghash.update(eu):this._ghash.update(eg),this._len+=eu.length,eg},eM.prototype._final=function(){if(this._decrypt&&!this._authTag)throw Error("Unsupported state or unable to authenticate data");var eu=eA(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&eI(eu,this._authTag))throw Error("Unsupported state or unable to authenticate data");this._authTag=eu,this._cipher.scrub()},eM.prototype.getAuthTag=function(){if(this._decrypt||!eb.isBuffer(this._authTag))throw Error("Attempting to get auth tag in unsupported state");return this._authTag},eM.prototype.setAuthTag=function(eu){if(!this._decrypt)throw Error("Attempting to set auth tag in unsupported state");this._authTag=eu},eM.prototype.setAAD=function(eu){if(this._called)throw Error("Attempting to set AAD in unsupported state");this._ghash.update(eu),this._alen+=eu.length},eu.exports=eM},10010:function(eu,ed,eg){var em=eg(89309),eb=eg(57612),ew=eg(49234);function e_(){return Object.keys(ew)}ed.createCipher=ed.Cipher=em.createCipher,ed.createCipheriv=ed.Cipheriv=em.createCipheriv,ed.createDecipher=ed.Decipher=eb.createDecipher,ed.createDecipheriv=ed.Decipheriv=eb.createDecipheriv,ed.listCiphers=ed.getCiphers=e_},57612:function(eu,ed,eg){var em=eg(3313),eb=eg(77834).Buffer,ew=eg(68702),e_=eg(37041),eE=eg(13973),eA=eg(52970),eS=eg(59341);function eI(eu,ed,eg){eE.call(this),this._cache=new eC,this._last=void 0,this._cipher=new eA.AES(ed),this._prev=eb.from(eg),this._mode=eu,this._autopadding=!0}function eC(){this.cache=eb.allocUnsafe(0)}function eM(eu){var ed=eu[15];if(ed<1||ed>16)throw Error("unable to decrypt data");for(var eg=-1;++eg<ed;)if(eu[eg+(16-ed)]!==ed)throw Error("unable to decrypt data");if(16!==ed)return eu.slice(0,16-ed)}function eO(eu,ed,eg){var eE=ew[eu.toLowerCase()];if(!eE)throw TypeError("invalid suite type");if("string"==typeof eg&&(eg=eb.from(eg)),"GCM"!==eE.mode&&eg.length!==eE.iv)throw TypeError("invalid iv length "+eg.length);if("string"==typeof ed&&(ed=eb.from(ed)),ed.length!==eE.key/8)throw TypeError("invalid key length "+ed.length);return"stream"===eE.type?new e_(eE.module,ed,eg,!0):"auth"===eE.type?new em(eE.module,ed,eg,!0):new eI(eE.module,ed,eg)}function eT(eu,ed){var eg=ew[eu.toLowerCase()];if(!eg)throw TypeError("invalid suite type");var em=eS(ed,!1,eg.key,eg.iv);return eO(eu,em.key,em.iv)}eg(91285)(eI,eE),eI.prototype._update=function(eu){this._cache.add(eu);for(var ed,eg,em=[];ed=this._cache.get(this._autopadding);)eg=this._mode.decrypt(this,ed),em.push(eg);return eb.concat(em)},eI.prototype._final=function(){var eu=this._cache.flush();if(this._autopadding)return eM(this._mode.decrypt(this,eu));if(eu)throw Error("data not multiple of block length")},eI.prototype.setAutoPadding=function(eu){return this._autopadding=!!eu,this},eC.prototype.add=function(eu){this.cache=eb.concat([this.cache,eu])},eC.prototype.get=function(eu){var ed;if(eu){if(this.cache.length>16)return ed=this.cache.slice(0,16),this.cache=this.cache.slice(16),ed}else if(this.cache.length>=16)return ed=this.cache.slice(0,16),this.cache=this.cache.slice(16),ed;return null},eC.prototype.flush=function(){if(this.cache.length)return this.cache},ed.createDecipher=eT,ed.createDecipheriv=eO},89309:function(eu,ed,eg){var em=eg(68702),eb=eg(3313),ew=eg(77834).Buffer,e_=eg(37041),eE=eg(13973),eA=eg(52970),eS=eg(59341);function eI(eu,ed,eg){eE.call(this),this._cache=new eM,this._cipher=new eA.AES(ed),this._prev=ew.from(eg),this._mode=eu,this._autopadding=!0}eg(91285)(eI,eE),eI.prototype._update=function(eu){this._cache.add(eu);for(var ed,eg,em=[];ed=this._cache.get();)eg=this._mode.encrypt(this,ed),em.push(eg);return ew.concat(em)};var eC=ew.alloc(16,16);function eM(){this.cache=ew.allocUnsafe(0)}function eO(eu,ed,eg){var eE=em[eu.toLowerCase()];if(!eE)throw TypeError("invalid suite type");if("string"==typeof ed&&(ed=ew.from(ed)),ed.length!==eE.key/8)throw TypeError("invalid key length "+ed.length);if("string"==typeof eg&&(eg=ew.from(eg)),"GCM"!==eE.mode&&eg.length!==eE.iv)throw TypeError("invalid iv length "+eg.length);return"stream"===eE.type?new e_(eE.module,ed,eg):"auth"===eE.type?new eb(eE.module,ed,eg):new eI(eE.module,ed,eg)}function eT(eu,ed){var eg=em[eu.toLowerCase()];if(!eg)throw TypeError("invalid suite type");var eb=eS(ed,!1,eg.key,eg.iv);return eO(eu,eb.key,eb.iv)}eI.prototype._final=function(){var eu=this._cache.flush();if(this._autopadding)return eu=this._mode.encrypt(this,eu),this._cipher.scrub(),eu;if(!eu.equals(eC))throw this._cipher.scrub(),Error("data not multiple of block length")},eI.prototype.setAutoPadding=function(eu){return this._autopadding=!!eu,this},eM.prototype.add=function(eu){this.cache=ew.concat([this.cache,eu])},eM.prototype.get=function(){if(this.cache.length>15){var eu=this.cache.slice(0,16);return this.cache=this.cache.slice(16),eu}return null},eM.prototype.flush=function(){for(var eu=16-this.cache.length,ed=ew.allocUnsafe(eu),eg=-1;++eg<eu;)ed.writeUInt8(eu,eg);return ew.concat([this.cache,ed])},ed.createCipheriv=eO,ed.createCipher=eT},42895:function(eu,ed,eg){var em=eg(77834).Buffer,eb=em.alloc(16,0);function ew(eu){return[eu.readUInt32BE(0),eu.readUInt32BE(4),eu.readUInt32BE(8),eu.readUInt32BE(12)]}function e_(eu){var ed=em.allocUnsafe(16);return ed.writeUInt32BE(eu[0]>>>0,0),ed.writeUInt32BE(eu[1]>>>0,4),ed.writeUInt32BE(eu[2]>>>0,8),ed.writeUInt32BE(eu[3]>>>0,12),ed}function eE(eu){this.h=eu,this.state=em.alloc(16,0),this.cache=em.allocUnsafe(0)}eE.prototype.ghash=function(eu){for(var ed=-1;++ed<eu.length;)this.state[ed]^=eu[ed];this._multiply()},eE.prototype._multiply=function(){for(var eu,ed,eg=ew(this.h),em=[0,0,0,0],eb=-1;++eb<128;){for((this.state[~~(eb/8)]&1<<7-eb%8)!=0&&(em[0]^=eg[0],em[1]^=eg[1],em[2]^=eg[2],em[3]^=eg[3]),ed=(1&eg[3])!=0,eu=3;eu>0;eu--)eg[eu]=eg[eu]>>>1|(1&eg[eu-1])<<31;eg[0]=eg[0]>>>1,ed&&(eg[0]=-520093696^eg[0])}this.state=e_(em)},eE.prototype.update=function(eu){var ed;for(this.cache=em.concat([this.cache,eu]);this.cache.length>=16;)ed=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(ed)},eE.prototype.final=function(eu,ed){return this.cache.length&&this.ghash(em.concat([this.cache,eb],16)),this.ghash(e_([0,eu,0,ed])),this.state},eu.exports=eE},14182:function(eu){function ed(eu){for(var ed,eg=eu.length;eg--;)if(255===(ed=eu.readUInt8(eg)))eu.writeUInt8(0,eg);else{ed++,eu.writeUInt8(ed,eg);break}}eu.exports=ed},8796:function(eu,ed,eg){var em=eg(31313);ed.encrypt=function(eu,ed){var eg=em(ed,eu._prev);return eu._prev=eu._cipher.encryptBlock(eg),eu._prev},ed.decrypt=function(eu,ed){var eg=eu._prev;return eu._prev=ed,em(eu._cipher.decryptBlock(ed),eg)}},76528:function(eu,ed,eg){var em=eg(77834).Buffer,eb=eg(31313);function ew(eu,ed,eg){var ew=ed.length,e_=eb(ed,eu._cache);return eu._cache=eu._cache.slice(ew),eu._prev=em.concat([eu._prev,eg?ed:e_]),e_}ed.encrypt=function(eu,ed,eg){for(var eb,e_=em.allocUnsafe(0);ed.length;)if(0===eu._cache.length&&(eu._cache=eu._cipher.encryptBlock(eu._prev),eu._prev=em.allocUnsafe(0)),eu._cache.length<=ed.length)eb=eu._cache.length,e_=em.concat([e_,ew(eu,ed.slice(0,eb),eg)]),ed=ed.slice(eb);else{e_=em.concat([e_,ew(eu,ed,eg)]);break}return e_}},60918:function(eu,ed,eg){var em=eg(77834).Buffer;function eb(eu,ed,eg){for(var em,eb,e_,eE=-1,eA=8,eS=0;++eE<eA;)em=eu._cipher.encryptBlock(eu._prev),eb=ed&1<<7-eE?128:0,eS+=(128&(e_=em[0]^eb))>>eE%8,eu._prev=ew(eu._prev,eg?eb:e_);return eS}function ew(eu,ed){var eg=eu.length,eb=-1,ew=em.allocUnsafe(eu.length);for(eu=em.concat([eu,em.from([ed])]);++eb<eg;)ew[eb]=eu[eb]<<1|eu[eb+1]>>7;return ew}ed.encrypt=function(eu,ed,eg){for(var ew=ed.length,e_=em.allocUnsafe(ew),eE=-1;++eE<ew;)e_[eE]=eb(eu,ed[eE],eg);return e_}},27263:function(eu,ed,eg){var em=eg(77834).Buffer;function eb(eu,ed,eg){var eb=eu._cipher.encryptBlock(eu._prev)[0]^ed;return eu._prev=em.concat([eu._prev.slice(1),em.from([eg?ed:eb])]),eb}ed.encrypt=function(eu,ed,eg){for(var ew=ed.length,e_=em.allocUnsafe(ew),eE=-1;++eE<ew;)e_[eE]=eb(eu,ed[eE],eg);return e_}},48219:function(eu,ed,eg){var em=eg(31313),eb=eg(77834).Buffer,ew=eg(14182);function e_(eu){var ed=eu._cipher.encryptBlockRaw(eu._prev);return ew(eu._prev),ed}var eE=16;ed.encrypt=function(eu,ed){var eg=Math.ceil(ed.length/eE),ew=eu._cache.length;eu._cache=eb.concat([eu._cache,eb.allocUnsafe(eg*eE)]);for(var eA=0;eA<eg;eA++){var eS=e_(eu),eI=ew+eA*eE;eu._cache.writeUInt32BE(eS[0],eI+0),eu._cache.writeUInt32BE(eS[1],eI+4),eu._cache.writeUInt32BE(eS[2],eI+8),eu._cache.writeUInt32BE(eS[3],eI+12)}var eC=eu._cache.slice(0,ed.length);return eu._cache=eu._cache.slice(ed.length),em(ed,eC)}},57028:function(eu,ed){ed.encrypt=function(eu,ed){return eu._cipher.encryptBlock(ed)},ed.decrypt=function(eu,ed){return eu._cipher.decryptBlock(ed)}},68702:function(eu,ed,eg){var em={ECB:eg(57028),CBC:eg(8796),CFB:eg(76528),CFB8:eg(27263),CFB1:eg(60918),OFB:eg(34256),CTR:eg(48219),GCM:eg(48219)},eb=eg(49234);for(var ew in eb)eb[ew].module=em[eb[ew].mode];eu.exports=eb},34256:function(eu,ed,eg){var em=eg(48834).Buffer,eb=eg(31313);function ew(eu){return eu._prev=eu._cipher.encryptBlock(eu._prev),eu._prev}ed.encrypt=function(eu,ed){for(;eu._cache.length<ed.length;)eu._cache=em.concat([eu._cache,ew(eu)]);var eg=eu._cache.slice(0,ed.length);return eu._cache=eu._cache.slice(ed.length),eb(ed,eg)}},37041:function(eu,ed,eg){var em=eg(52970),eb=eg(77834).Buffer,ew=eg(13973);function e_(eu,ed,eg,e_){ew.call(this),this._cipher=new em.AES(ed),this._prev=eb.from(eg),this._cache=eb.allocUnsafe(0),this._secCache=eb.allocUnsafe(0),this._decrypt=e_,this._mode=eu}eg(91285)(e_,ew),e_.prototype._update=function(eu){return this._mode.encrypt(this,eu,this._decrypt)},e_.prototype._final=function(){this._cipher.scrub()},eu.exports=e_},93667:function(eu,ed,eg){var em=eg(37214),eb=eg(10010),ew=eg(68702),e_=eg(62820),eE=eg(59341);function eA(eu,ed){if(ew[eu=eu.toLowerCase()])eg=ew[eu].key,em=ew[eu].iv;else if(e_[eu])eg=8*e_[eu].key,em=e_[eu].iv;else throw TypeError("invalid suite type");var eg,em,eb=eE(ed,!1,eg,em);return eI(eu,eb.key,eb.iv)}function eS(eu,ed){if(ew[eu=eu.toLowerCase()])eg=ew[eu].key,em=ew[eu].iv;else if(e_[eu])eg=8*e_[eu].key,em=e_[eu].iv;else throw TypeError("invalid suite type");var eg,em,eb=eE(ed,!1,eg,em);return eC(eu,eb.key,eb.iv)}function eI(eu,ed,eg){if(ew[eu=eu.toLowerCase()])return eb.createCipheriv(eu,ed,eg);if(e_[eu])return new em({key:ed,iv:eg,mode:eu});throw TypeError("invalid suite type")}function eC(eu,ed,eg){if(ew[eu=eu.toLowerCase()])return eb.createDecipheriv(eu,ed,eg);if(e_[eu])return new em({key:ed,iv:eg,mode:eu,decrypt:!0});throw TypeError("invalid suite type")}function eM(){return Object.keys(e_).concat(eb.getCiphers())}ed.createCipher=ed.Cipher=eA,ed.createCipheriv=ed.Cipheriv=eI,ed.createDecipher=ed.Decipher=eS,ed.createDecipheriv=ed.Decipheriv=eC,ed.listCiphers=ed.getCiphers=eM},37214:function(eu,ed,eg){var em=eg(13973),eb=eg(84387),ew=eg(91285),e_=eg(77834).Buffer,eE={"des-ede3-cbc":eb.CBC.instantiate(eb.EDE),"des-ede3":eb.EDE,"des-ede-cbc":eb.CBC.instantiate(eb.EDE),"des-ede":eb.EDE,"des-cbc":eb.CBC.instantiate(eb.DES),"des-ecb":eb.DES};function eA(eu){em.call(this);var ed,eg=eu.mode.toLowerCase(),eb=eE[eg];ed=eu.decrypt?"decrypt":"encrypt";var ew=eu.key;e_.isBuffer(ew)||(ew=e_.from(ew)),("des-ede"===eg||"des-ede-cbc"===eg)&&(ew=e_.concat([ew,ew.slice(0,8)]));var eA=eu.iv;e_.isBuffer(eA)||(eA=e_.from(eA)),this._des=eb.create({key:ew,iv:eA,type:ed})}eE.des=eE["des-cbc"],eE.des3=eE["des-ede3-cbc"],eu.exports=eA,ew(eA,em),eA.prototype._update=function(eu){return e_.from(this._des.update(eu))},eA.prototype._final=function(){return e_.from(this._des.final())}},62820:function(eu,ed){ed["des-ecb"]={key:8,iv:0},ed["des-cbc"]=ed.des={key:8,iv:8},ed["des-ede3-cbc"]=ed.des3={key:24,iv:8},ed["des-ede3"]={key:24,iv:0},ed["des-ede-cbc"]={key:16,iv:8},ed["des-ede"]={key:16,iv:0}},91857:function(eu,ed,eg){"use strict";var em=eg(62197),eb=eg(95003),ew=eg(77834).Buffer;function e_(eu){var ed,eg=eu.modulus.byteLength();do ed=new em(eb(eg));while(ed.cmp(eu.modulus)>=0||!ed.umod(eu.prime1)||!ed.umod(eu.prime2));return ed}function eE(eu){var ed=e_(eu);return{blinder:ed.toRed(em.mont(eu.modulus)).redPow(new em(eu.publicExponent)).fromRed(),unblinder:ed.invm(eu.modulus)}}function eA(eu,ed){var eg=eE(ed),eb=ed.modulus.byteLength(),e_=new em(eu).mul(eg.blinder).umod(ed.modulus),eA=e_.toRed(em.mont(ed.prime1)),eS=e_.toRed(em.mont(ed.prime2)),eI=ed.coefficient,eC=ed.prime1,eM=ed.prime2,eO=eA.redPow(ed.exponent1).fromRed(),eT=eS.redPow(ed.exponent2).fromRed(),eP=eO.isub(eT).imul(eI).umod(eC).imul(eM);return eT.iadd(eP).imul(eg.unblinder).umod(ed.modulus).toArrayLike(ew,"be",eb)}eA.getr=e_,eu.exports=eA},24778:function(eu,ed,eg){"use strict";eu.exports=eg(40026)},95263:function(eu,ed,eg){"use strict";var em=eg(77834).Buffer,eb=eg(16162),ew=eg(45543),e_=eg(91285),eE=eg(262),eA=eg(5643),eS=eg(40026);function eI(eu){ew.Writable.call(this);var ed=eS[eu];if(!ed)throw Error("Unknown message digest");this._hashType=ed.hash,this._hash=eb(ed.hash),this._tag=ed.id,this._signType=ed.sign}function eC(eu){ew.Writable.call(this);var ed=eS[eu];if(!ed)throw Error("Unknown message digest");this._hash=eb(ed.hash),this._tag=ed.id,this._signType=ed.sign}function eM(eu){return new eI(eu)}function eO(eu){return new eC(eu)}Object.keys(eS).forEach(function(eu){eS[eu].id=em.from(eS[eu].id,"hex"),eS[eu.toLowerCase()]=eS[eu]}),e_(eI,ew.Writable),eI.prototype._write=function(eu,ed,eg){this._hash.update(eu),eg()},eI.prototype.update=function(eu,ed){return this._hash.update("string"==typeof eu?em.from(eu,ed):eu),this},eI.prototype.sign=function(eu,ed){this.end();var eg=eE(this._hash.digest(),eu,this._hashType,this._signType,this._tag);return ed?eg.toString(ed):eg},e_(eC,ew.Writable),eC.prototype._write=function(eu,ed,eg){this._hash.update(eu),eg()},eC.prototype.update=function(eu,ed){return this._hash.update("string"==typeof eu?em.from(eu,ed):eu),this},eC.prototype.verify=function(eu,ed,eg){var eb="string"==typeof ed?em.from(ed,eg):ed;return this.end(),eA(eb,this._hash.digest(),eu,this._signType,this._tag)},eu.exports={Sign:eM,Verify:eO,createSign:eM,createVerify:eO}},262:function(eu,ed,eg){"use strict";var em=eg(77834).Buffer,eb=eg(50011),ew=eg(91857),e_=eg(87554).ec,eE=eg(62197),eA=eg(28016),eS=eg(39167),eI=1;function eC(eu,ed,eg,eb,e_){var eE=eA(ed);if(eE.curve){if("ecdsa"!==eb&&"ecdsa/rsa"!==eb)throw Error("wrong private key type");return eM(eu,eE)}if("dsa"===eE.type){if("dsa"!==eb)throw Error("wrong private key type");return eO(eu,eE,eg)}if("rsa"!==eb&&"ecdsa/rsa"!==eb)throw Error("wrong private key type");if(void 0!==ed.padding&&ed.padding!==eI)throw Error("illegal or unsupported padding mode");eu=em.concat([e_,eu]);for(var eS=eE.modulus.byteLength(),eC=[0,1];eu.length+eC.length+1<eS;)eC.push(255);eC.push(0);for(var eT=-1;++eT<eu.length;)eC.push(eu[eT]);return ew(eC,eE)}function eM(eu,ed){var eg=eS[ed.curve.join(".")];if(!eg)throw Error("unknown curve "+ed.curve.join("."));var eb=new e_(eg).keyFromPrivate(ed.privateKey).sign(eu);return em.from(eb.toDER())}function eO(eu,ed,eg){for(var em,eb=ed.params.priv_key,ew=ed.params.p,e_=ed.params.q,eA=ed.params.g,eS=new eE(0),eI=eN(eu,e_).mod(e_),eC=!1,eM=eP(eb,e_,eu,eg);!1===eC;)eS=eD(eA,em=eR(e_,eM,eg),ew,e_),0===(eC=em.invm(e_).imul(eI.add(eb.mul(eS))).mod(e_)).cmpn(0)&&(eC=!1,eS=new eE(0));return eT(eS,eC)}function eT(eu,ed){eu=eu.toArray(),ed=ed.toArray(),128&eu[0]&&(eu=[0].concat(eu)),128&ed[0]&&(ed=[0].concat(ed));var eg=[48,eu.length+ed.length+4,2,eu.length];return eg=eg.concat(eu,[2,ed.length],ed),em.from(eg)}function eP(eu,ed,eg,ew){if((eu=em.from(eu.toArray())).length<ed.byteLength()){var e_=em.alloc(ed.byteLength()-eu.length);eu=em.concat([e_,eu])}var eE=eg.length,eA=ek(eg,ed),eS=em.alloc(eE);eS.fill(1);var eI=em.alloc(eE);return eI=eb(ew,eI).update(eS).update(em.from([0])).update(eu).update(eA).digest(),eS=eb(ew,eI).update(eS).digest(),eI=eb(ew,eI).update(eS).update(em.from([1])).update(eu).update(eA).digest(),eS=eb(ew,eI).update(eS).digest(),{k:eI,v:eS}}function eN(eu,ed){var eg=new eE(eu),em=(eu.length<<3)-ed.bitLength();return em>0&&eg.ishrn(em),eg}function ek(eu,ed){eu=(eu=eN(eu,ed)).mod(ed);var eg=em.from(eu.toArray());if(eg.length<ed.byteLength()){var eb=em.alloc(ed.byteLength()-eg.length);eg=em.concat([eb,eg])}return eg}function eR(eu,ed,eg){var ew,e_;do{for(ew=em.alloc(0);8*ew.length<eu.bitLength();)ed.v=eb(eg,ed.k).update(ed.v).digest(),ew=em.concat([ew,ed.v]);e_=eN(ew,eu),ed.k=eb(eg,ed.k).update(ed.v).update(em.from([0])).digest(),ed.v=eb(eg,ed.k).update(ed.v).digest()}while(-1!==e_.cmp(eu));return e_}function eD(eu,ed,eg,em){return eu.toRed(eE.mont(eg)).redPow(ed).fromRed().mod(em)}eu.exports=eC,eu.exports.getKey=eP,eu.exports.makeKey=eR},5643:function(eu,ed,eg){"use strict";var em=eg(77834).Buffer,eb=eg(62197),ew=eg(87554).ec,e_=eg(28016),eE=eg(39167);function eA(eu,ed,eg,ew,eE){var eA=e_(eg);if("ec"===eA.type){if("ecdsa"!==ew&&"ecdsa/rsa"!==ew)throw Error("wrong public key type");return eS(eu,ed,eA)}if("dsa"===eA.type){if("dsa"!==ew)throw Error("wrong public key type");return eI(eu,ed,eA)}if("rsa"!==ew&&"ecdsa/rsa"!==ew)throw Error("wrong public key type");ed=em.concat([eE,ed]);for(var eC=eA.modulus.byteLength(),eM=[1],eO=0;ed.length+eM.length+2<eC;)eM.push(255),eO+=1;eM.push(0);for(var eT=-1;++eT<ed.length;)eM.push(ed[eT]);eM=em.from(eM);var eP=eb.mont(eA.modulus);eu=(eu=new eb(eu).toRed(eP)).redPow(new eb(eA.publicExponent));var eN=eO<8?1:0;for(eC=Math.min((eu=em.from(eu.fromRed().toArray())).length,eM.length),eu.length!==eM.length&&(eN=1),eT=-1;++eT<eC;)eN|=eu[eT]^eM[eT];return 0===eN}function eS(eu,ed,eg){var em=eE[eg.data.algorithm.curve.join(".")];if(!em)throw Error("unknown curve "+eg.data.algorithm.curve.join("."));var eb=new ew(em),e_=eg.data.subjectPrivateKey.data;return eb.verify(ed,eu,e_)}function eI(eu,ed,eg){var em=eg.data.p,ew=eg.data.q,eE=eg.data.g,eA=eg.data.pub_key,eS=e_.signature.decode(eu,"der"),eI=eS.s,eM=eS.r;eC(eI,ew),eC(eM,ew);var eO=eb.mont(em),eT=eI.invm(ew);return 0===eE.toRed(eO).redPow(new eb(ed).mul(eT).mod(ew)).fromRed().mul(eA.toRed(eO).redPow(eM.mul(eT).mod(ew)).fromRed()).mod(em).mod(ew).cmp(eM)}function eC(eu,ed){if(0>=eu.cmpn(0)||eu.cmp(ed)>=0)throw Error("invalid sig")}eu.exports=eA},226:function(eu){var ed={}.toString;eu.exports=Array.isArray||function(eu){return"[object Array]"==ed.call(eu)}},54791:function(eu,ed,eg){"use strict";var em=eg(82884),eb=Object.keys||function(eu){var ed=[];for(var eg in eu)ed.push(eg);return ed};eu.exports=eC;var ew=Object.create(eg(7646));ew.inherits=eg(91285);var e_=eg(65799),eE=eg(74909);ew.inherits(eC,e_);for(var eA=eb(eE.prototype),eS=0;eS<eA.length;eS++){var eI=eA[eS];eC.prototype[eI]||(eC.prototype[eI]=eE.prototype[eI])}function eC(eu){if(!(this instanceof eC))return new eC(eu);e_.call(this,eu),eE.call(this,eu),eu&&!1===eu.readable&&(this.readable=!1),eu&&!1===eu.writable&&(this.writable=!1),this.allowHalfOpen=!0,eu&&!1===eu.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",eM)}function eM(){this.allowHalfOpen||this._writableState.ended||em.nextTick(eO,this)}function eO(eu){eu.end()}Object.defineProperty(eC.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(eC.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(eu){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=eu,this._writableState.destroyed=eu)}}),eC.prototype._destroy=function(eu,ed){this.push(null),this.end(),em.nextTick(ed,eu)}},2622:function(eu,ed,eg){"use strict";eu.exports=ew;var em=eg(12607),eb=Object.create(eg(7646));function ew(eu){if(!(this instanceof ew))return new ew(eu);em.call(this,eu)}eb.inherits=eg(91285),eb.inherits(ew,em),ew.prototype._transform=function(eu,ed,eg){eg(null,eu)}},65799:function(eu,ed,eg){"use strict";var em,eb,ew=eg(34406),e_=eg(82884);eu.exports=eL;var eE=eg(226);eL.ReadableState=eU,eg(22699).EventEmitter;var eA=function(eu,ed){return eu.listeners(ed).length},eS=eg(711),eI=eg(1110).Buffer,eC=(void 0!==eg.g?eg.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};function eM(eu){return eI.from(eu)}function eO(eu){return eI.isBuffer(eu)||eu instanceof eC}var eT=Object.create(eg(7646));eT.inherits=eg(91285);var eP=eg(39415),eN=void 0;eN=eP&&eP.debuglog?eP.debuglog("stream"):function(){};var ek=eg(64986),eR=eg(20119);eT.inherits(eL,eS);var eD=["error","close","destroy","pause","resume"];function eB(eu,ed,eg){if("function"==typeof eu.prependListener)return eu.prependListener(ed,eg);eu._events&&eu._events[ed]?eE(eu._events[ed])?eu._events[ed].unshift(eg):eu._events[ed]=[eg,eu._events[ed]]:eu.on(ed,eg)}function eU(eu,ed){em=em||eg(54791),eu=eu||{};var ew=ed instanceof em;this.objectMode=!!eu.objectMode,ew&&(this.objectMode=this.objectMode||!!eu.readableObjectMode);var e_=eu.highWaterMark,eE=eu.readableHighWaterMark,eA=this.objectMode?16:16384;e_||0===e_?this.highWaterMark=e_:ew&&(eE||0===eE)?this.highWaterMark=eE:this.highWaterMark=eA,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new ek,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=eu.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,eu.encoding&&(eb||(eb=eg(7563).s),this.decoder=new eb(eu.encoding),this.encoding=eu.encoding)}function eL(eu){if(em=em||eg(54791),!(this instanceof eL))return new eL(eu);this._readableState=new eU(eu,this),this.readable=!0,eu&&("function"==typeof eu.read&&(this._read=eu.read),"function"==typeof eu.destroy&&(this._destroy=eu.destroy)),eS.call(this)}function ej(eu,ed,eg,em,eb){var ew,e_=eu._readableState;return null===ed?(e_.reading=!1,eW(eu,e_)):(eb||(ew=e$(e_,ed)),ew?eu.emit("error",ew):e_.objectMode||ed&&ed.length>0?("string"==typeof ed||e_.objectMode||Object.getPrototypeOf(ed)===eI.prototype||(ed=eM(ed)),em?e_.endEmitted?eu.emit("error",Error("stream.unshift() after end event")):eF(eu,e_,ed,!0):e_.ended?eu.emit("error",Error("stream.push() after EOF")):(e_.reading=!1,e_.decoder&&!eg?(ed=e_.decoder.write(ed),e_.objectMode||0!==ed.length?eF(eu,e_,ed,!1):eY(eu,e_)):eF(eu,e_,ed,!1))):em||(e_.reading=!1)),eK(e_)}function eF(eu,ed,eg,em){ed.flowing&&0===ed.length&&!ed.sync?(eu.emit("data",eg),eu.read(0)):(ed.length+=ed.objectMode?1:eg.length,em?ed.buffer.unshift(eg):ed.buffer.push(eg),ed.needReadable&&eJ(eu)),eY(eu,ed)}function e$(eu,ed){var eg;return eO(ed)||"string"==typeof ed||void 0===ed||eu.objectMode||(eg=TypeError("Invalid non-string/buffer chunk")),eg}function eK(eu){return!eu.ended&&(eu.needReadable||eu.length<eu.highWaterMark||0===eu.length)}Object.defineProperty(eL.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(eu){this._readableState&&(this._readableState.destroyed=eu)}}),eL.prototype.destroy=eR.destroy,eL.prototype._undestroy=eR.undestroy,eL.prototype._destroy=function(eu,ed){this.push(null),ed(eu)},eL.prototype.push=function(eu,ed){var eg,em=this._readableState;return em.objectMode?eg=!0:"string"==typeof eu&&((ed=ed||em.defaultEncoding)!==em.encoding&&(eu=eI.from(eu,ed),ed=""),eg=!0),ej(this,eu,ed,!1,eg)},eL.prototype.unshift=function(eu){return ej(this,eu,null,!0,!1)},eL.prototype.isPaused=function(){return!1===this._readableState.flowing},eL.prototype.setEncoding=function(eu){return eb||(eb=eg(7563).s),this._readableState.decoder=new eb(eu),this._readableState.encoding=eu,this};var eH=8388608;function eV(eu){return eu>=eH?eu=eH:(eu--,eu|=eu>>>1,eu|=eu>>>2,eu|=eu>>>4,eu|=eu>>>8,eu|=eu>>>16,eu++),eu}function eG(eu,ed){return eu<=0||0===ed.length&&ed.ended?0:ed.objectMode?1:eu!=eu?ed.flowing&&ed.length?ed.buffer.head.data.length:ed.length:(eu>ed.highWaterMark&&(ed.highWaterMark=eV(eu)),eu<=ed.length)?eu:ed.ended?ed.length:(ed.needReadable=!0,0)}function eW(eu,ed){if(!ed.ended){if(ed.decoder){var eg=ed.decoder.end();eg&&eg.length&&(ed.buffer.push(eg),ed.length+=ed.objectMode?1:eg.length)}ed.ended=!0,eJ(eu)}}function eJ(eu){var ed=eu._readableState;ed.needReadable=!1,ed.emittedReadable||(eN("emitReadable",ed.flowing),ed.emittedReadable=!0,ed.sync?e_.nextTick(eZ,eu):eZ(eu))}function eZ(eu){eN("emit readable"),eu.emit("readable"),e5(eu)}function eY(eu,ed){ed.readingMore||(ed.readingMore=!0,e_.nextTick(eX,eu,ed))}function eX(eu,ed){for(var eg=ed.length;!ed.reading&&!ed.flowing&&!ed.ended&&ed.length<ed.highWaterMark&&(eN("maybeReadMore read 0"),eu.read(0),eg!==ed.length);)eg=ed.length;ed.readingMore=!1}function eQ(eu){return function(){var ed=eu._readableState;eN("pipeOnDrain",ed.awaitDrain),ed.awaitDrain&&ed.awaitDrain--,0===ed.awaitDrain&&eA(eu,"data")&&(ed.flowing=!0,e5(eu))}}function e0(eu){eN("readable nexttick read 0"),eu.read(0)}function e6(eu,ed){ed.resumeScheduled||(ed.resumeScheduled=!0,e_.nextTick(e8,eu,ed))}function e8(eu,ed){ed.reading||(eN("resume read 0"),eu.read(0)),ed.resumeScheduled=!1,ed.awaitDrain=0,eu.emit("resume"),e5(eu),ed.flowing&&!ed.reading&&eu.read(0)}function e5(eu){var ed=eu._readableState;for(eN("flow",ed.flowing);ed.flowing&&null!==eu.read(););}function e9(eu,ed){var eg;return 0===ed.length?null:(ed.objectMode?eg=ed.buffer.shift():!eu||eu>=ed.length?(eg=ed.decoder?ed.buffer.join(""):1===ed.buffer.length?ed.buffer.head.data:ed.buffer.concat(ed.length),ed.buffer.clear()):eg=e7(eu,ed.buffer,ed.decoder),eg)}function e7(eu,ed,eg){var em;return eu<ed.head.data.length?(em=ed.head.data.slice(0,eu),ed.head.data=ed.head.data.slice(eu)):em=eu===ed.head.data.length?ed.shift():eg?tu(eu,ed):th(eu,ed),em}function tu(eu,ed){var eg=ed.head,em=1,eb=eg.data;for(eu-=eb.length;eg=eg.next;){var ew=eg.data,e_=eu>ew.length?ew.length:eu;if(e_===ew.length?eb+=ew:eb+=ew.slice(0,eu),0==(eu-=e_)){e_===ew.length?(++em,eg.next?ed.head=eg.next:ed.head=ed.tail=null):(ed.head=eg,eg.data=ew.slice(e_));break}++em}return ed.length-=em,eb}function th(eu,ed){var eg=eI.allocUnsafe(eu),em=ed.head,eb=1;for(em.data.copy(eg),eu-=em.data.length;em=em.next;){var ew=em.data,e_=eu>ew.length?ew.length:eu;if(ew.copy(eg,eg.length-eu,0,e_),0==(eu-=e_)){e_===ew.length?(++eb,em.next?ed.head=em.next:ed.head=ed.tail=null):(ed.head=em,em.data=ew.slice(e_));break}++eb}return ed.length-=eb,eg}function td(eu){var ed=eu._readableState;if(ed.length>0)throw Error('"endReadable()" called on non-empty stream');ed.endEmitted||(ed.ended=!0,e_.nextTick(tg,ed,eu))}function tg(eu,ed){eu.endEmitted||0!==eu.length||(eu.endEmitted=!0,ed.readable=!1,ed.emit("end"))}function ty(eu,ed){for(var eg=0,em=eu.length;eg<em;eg++)if(eu[eg]===ed)return eg;return -1}eL.prototype.read=function(eu){eN("read",eu),eu=parseInt(eu,10);var ed,eg=this._readableState,em=eu;if(0!==eu&&(eg.emittedReadable=!1),0===eu&&eg.needReadable&&(eg.length>=eg.highWaterMark||eg.ended))return eN("read: emitReadable",eg.length,eg.ended),0===eg.length&&eg.ended?td(this):eJ(this),null;if(0===(eu=eG(eu,eg))&&eg.ended)return 0===eg.length&&td(this),null;var eb=eg.needReadable;return eN("need readable",eb),(0===eg.length||eg.length-eu<eg.highWaterMark)&&eN("length less than watermark",eb=!0),eg.ended||eg.reading?eN("reading or ended",eb=!1):eb&&(eN("do read"),eg.reading=!0,eg.sync=!0,0===eg.length&&(eg.needReadable=!0),this._read(eg.highWaterMark),eg.sync=!1,eg.reading||(eu=eG(em,eg))),null===(ed=eu>0?e9(eu,eg):null)?(eg.needReadable=!0,eu=0):eg.length-=eu,0===eg.length&&(eg.ended||(eg.needReadable=!0),em!==eu&&eg.ended&&td(this)),null!==ed&&this.emit("data",ed),ed},eL.prototype._read=function(eu){this.emit("error",Error("_read() is not implemented"))},eL.prototype.pipe=function(eu,ed){var eg=this,em=this._readableState;switch(em.pipesCount){case 0:em.pipes=eu;break;case 1:em.pipes=[em.pipes,eu];break;default:em.pipes.push(eu)}em.pipesCount+=1,eN("pipe count=%d opts=%j",em.pipesCount,ed);var eb=ed&&!1===ed.end||eu===ew.stdout||eu===ew.stderr?eD:eS;function eE(eu,ed){eN("onunpipe"),eu===eg&&ed&&!1===ed.hasUnpiped&&(ed.hasUnpiped=!0,eM())}function eS(){eN("onend"),eu.end()}em.endEmitted?e_.nextTick(eb):eg.once("end",eb),eu.on("unpipe",eE);var eI=eQ(eg);eu.on("drain",eI);var eC=!1;function eM(){eN("cleanup"),eu.removeListener("close",ek),eu.removeListener("finish",eR),eu.removeListener("drain",eI),eu.removeListener("error",eP),eu.removeListener("unpipe",eE),eg.removeListener("end",eS),eg.removeListener("end",eD),eg.removeListener("data",eT),eC=!0,em.awaitDrain&&(!eu._writableState||eu._writableState.needDrain)&&eI()}var eO=!1;function eT(ed){eN("ondata"),eO=!1,!1!==eu.write(ed)||eO||((1===em.pipesCount&&em.pipes===eu||em.pipesCount>1&&-1!==ty(em.pipes,eu))&&!eC&&(eN("false write response, pause",em.awaitDrain),em.awaitDrain++,eO=!0),eg.pause())}function eP(ed){eN("onerror",ed),eD(),eu.removeListener("error",eP),0===eA(eu,"error")&&eu.emit("error",ed)}function ek(){eu.removeListener("finish",eR),eD()}function eR(){eN("onfinish"),eu.removeListener("close",ek),eD()}function eD(){eN("unpipe"),eg.unpipe(eu)}return eg.on("data",eT),eB(eu,"error",eP),eu.once("close",ek),eu.once("finish",eR),eu.emit("pipe",eg),em.flowing||(eN("pipe resume"),eg.resume()),eu},eL.prototype.unpipe=function(eu){var ed=this._readableState,eg={hasUnpiped:!1};if(0===ed.pipesCount)return this;if(1===ed.pipesCount)return eu&&eu!==ed.pipes||(eu||(eu=ed.pipes),ed.pipes=null,ed.pipesCount=0,ed.flowing=!1,eu&&eu.emit("unpipe",this,eg)),this;if(!eu){var em=ed.pipes,eb=ed.pipesCount;ed.pipes=null,ed.pipesCount=0,ed.flowing=!1;for(var ew=0;ew<eb;ew++)em[ew].emit("unpipe",this,{hasUnpiped:!1});return this}var e_=ty(ed.pipes,eu);return -1===e_||(ed.pipes.splice(e_,1),ed.pipesCount-=1,1===ed.pipesCount&&(ed.pipes=ed.pipes[0]),eu.emit("unpipe",this,eg)),this},eL.prototype.on=function(eu,ed){var eg=eS.prototype.on.call(this,eu,ed);if("data"===eu)!1!==this._readableState.flowing&&this.resume();else if("readable"===eu){var em=this._readableState;em.endEmitted||em.readableListening||(em.readableListening=em.needReadable=!0,em.emittedReadable=!1,em.reading?em.length&&eJ(this):e_.nextTick(e0,this))}return eg},eL.prototype.addListener=eL.prototype.on,eL.prototype.resume=function(){var eu=this._readableState;return eu.flowing||(eN("resume"),eu.flowing=!0,e6(this,eu)),this},eL.prototype.pause=function(){return eN("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(eN("pause"),this._readableState.flowing=!1,this.emit("pause")),this},eL.prototype.wrap=function(eu){var ed=this,eg=this._readableState,em=!1;for(var eb in eu.on("end",function(){if(eN("wrapped end"),eg.decoder&&!eg.ended){var eu=eg.decoder.end();eu&&eu.length&&ed.push(eu)}ed.push(null)}),eu.on("data",function(eb){eN("wrapped data"),eg.decoder&&(eb=eg.decoder.write(eb)),(!eg.objectMode||null!=eb)&&(eg.objectMode||eb&&eb.length)&&(ed.push(eb)||(em=!0,eu.pause()))}),eu)void 0===this[eb]&&"function"==typeof eu[eb]&&(this[eb]=function(ed){return function(){return eu[ed].apply(eu,arguments)}}(eb));for(var ew=0;ew<eD.length;ew++)eu.on(eD[ew],this.emit.bind(this,eD[ew]));return this._read=function(ed){eN("wrapped _read",ed),em&&(em=!1,eu.resume())},this},Object.defineProperty(eL.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),eL._fromList=e9},12607:function(eu,ed,eg){"use strict";eu.exports=e_;var em=eg(54791),eb=Object.create(eg(7646));function ew(eu,ed){var eg=this._transformState;eg.transforming=!1;var em=eg.writecb;if(!em)return this.emit("error",Error("write callback called multiple times"));eg.writechunk=null,eg.writecb=null,null!=ed&&this.push(ed),em(eu);var eb=this._readableState;eb.reading=!1,(eb.needReadable||eb.length<eb.highWaterMark)&&this._read(eb.highWaterMark)}function e_(eu){if(!(this instanceof e_))return new e_(eu);em.call(this,eu),this._transformState={afterTransform:ew.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,eu&&("function"==typeof eu.transform&&(this._transform=eu.transform),"function"==typeof eu.flush&&(this._flush=eu.flush)),this.on("prefinish",eE)}function eE(){var eu=this;"function"==typeof this._flush?this._flush(function(ed,eg){eA(eu,ed,eg)}):eA(this,null,null)}function eA(eu,ed,eg){if(ed)return eu.emit("error",ed);if(null!=eg&&eu.push(eg),eu._writableState.length)throw Error("Calling transform done when ws.length != 0");if(eu._transformState.transforming)throw Error("Calling transform done when still transforming");return eu.push(null)}eb.inherits=eg(91285),eb.inherits(e_,em),e_.prototype.push=function(eu,ed){return this._transformState.needTransform=!1,em.prototype.push.call(this,eu,ed)},e_.prototype._transform=function(eu,ed,eg){throw Error("_transform() is not implemented")},e_.prototype._write=function(eu,ed,eg){var em=this._transformState;if(em.writecb=eg,em.writechunk=eu,em.writeencoding=ed,!em.transforming){var eb=this._readableState;(em.needTransform||eb.needReadable||eb.length<eb.highWaterMark)&&this._read(eb.highWaterMark)}},e_.prototype._read=function(eu){var ed=this._transformState;null!==ed.writechunk&&ed.writecb&&!ed.transforming?(ed.transforming=!0,this._transform(ed.writechunk,ed.writeencoding,ed.afterTransform)):ed.needTransform=!0},e_.prototype._destroy=function(eu,ed){var eg=this;em.prototype._destroy.call(this,eu,function(eu){ed(eu),eg.emit("close")})}},74909:function(eu,ed,eg){"use strict";var em,eb,ew=eg(82884);function e_(eu){var ed=this;this.next=null,this.entry=null,this.finish=function(){eQ(ed,eu)}}eu.exports=eR;var eE=ew.nextTick;eR.WritableState=ek;var eA=Object.create(eg(7646));eA.inherits=eg(91285);var eS={deprecate:eg(5803)},eI=eg(711),eC=eg(1110).Buffer,eM=(void 0!==eg.g?eg.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};function eO(eu){return eC.from(eu)}function eT(eu){return eC.isBuffer(eu)||eu instanceof eM}var eP=eg(20119);function eN(){}function ek(eu,ed){em=em||eg(54791),eu=eu||{};var eb=ed instanceof em;this.objectMode=!!eu.objectMode,eb&&(this.objectMode=this.objectMode||!!eu.writableObjectMode);var ew=eu.highWaterMark,eE=eu.writableHighWaterMark,eA=this.objectMode?16:16384;ew||0===ew?this.highWaterMark=ew:eb&&(eE||0===eE)?this.highWaterMark=eE:this.highWaterMark=eA,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var eS=!1===eu.decodeStrings;this.decodeStrings=!eS,this.defaultEncoding=eu.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(eu){eK(ed,eu)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new e_(this)}function eR(eu){if(em=em||eg(54791),!eb.call(eR,this)&&!(this instanceof em))return new eR(eu);this._writableState=new ek(eu,this),this.writable=!0,eu&&("function"==typeof eu.write&&(this._write=eu.write),"function"==typeof eu.writev&&(this._writev=eu.writev),"function"==typeof eu.destroy&&(this._destroy=eu.destroy),"function"==typeof eu.final&&(this._final=eu.final)),eI.call(this)}function eD(eu,ed){var eg=Error("write after end");eu.emit("error",eg),ew.nextTick(ed,eg)}function eB(eu,ed,eg,em){var eb=!0,e_=!1;return null===eg?e_=TypeError("May not write null values to stream"):"string"==typeof eg||void 0===eg||ed.objectMode||(e_=TypeError("Invalid non-string/buffer chunk")),e_&&(eu.emit("error",e_),ew.nextTick(em,e_),eb=!1),eb}function eU(eu,ed,eg){return eu.objectMode||!1===eu.decodeStrings||"string"!=typeof ed||(ed=eC.from(ed,eg)),ed}function eL(eu,ed,eg,em,eb,ew){if(!eg){var e_=eU(ed,em,eb);em!==e_&&(eg=!0,eb="buffer",em=e_)}var eE=ed.objectMode?1:em.length;ed.length+=eE;var eA=ed.length<ed.highWaterMark;if(eA||(ed.needDrain=!0),ed.writing||ed.corked){var eS=ed.lastBufferedRequest;ed.lastBufferedRequest={chunk:em,encoding:eb,isBuf:eg,callback:ew,next:null},eS?eS.next=ed.lastBufferedRequest:ed.bufferedRequest=ed.lastBufferedRequest,ed.bufferedRequestCount+=1}else ej(eu,ed,!1,eE,em,eb,ew);return eA}function ej(eu,ed,eg,em,eb,ew,e_){ed.writelen=em,ed.writecb=e_,ed.writing=!0,ed.sync=!0,eg?eu._writev(eb,ed.onwrite):eu._write(eb,ew,ed.onwrite),ed.sync=!1}function eF(eu,ed,eg,em,eb){--ed.pendingcb,eg?(ew.nextTick(eb,em),ew.nextTick(eY,eu,ed),eu._writableState.errorEmitted=!0,eu.emit("error",em)):(eb(em),eu._writableState.errorEmitted=!0,eu.emit("error",em),eY(eu,ed))}function e$(eu){eu.writing=!1,eu.writecb=null,eu.length-=eu.writelen,eu.writelen=0}function eK(eu,ed){var eg=eu._writableState,em=eg.sync,eb=eg.writecb;if(e$(eg),ed)eF(eu,eg,em,ed,eb);else{var ew=eW(eg);ew||eg.corked||eg.bufferProcessing||!eg.bufferedRequest||eG(eu,eg),em?eE(eH,eu,eg,ew,eb):eH(eu,eg,ew,eb)}}function eH(eu,ed,eg,em){eg||eV(eu,ed),ed.pendingcb--,em(),eY(eu,ed)}function eV(eu,ed){0===ed.length&&ed.needDrain&&(ed.needDrain=!1,eu.emit("drain"))}function eG(eu,ed){ed.bufferProcessing=!0;var eg=ed.bufferedRequest;if(eu._writev&&eg&&eg.next){var em=Array(ed.bufferedRequestCount),eb=ed.corkedRequestsFree;eb.entry=eg;for(var ew=0,eE=!0;eg;)em[ew]=eg,eg.isBuf||(eE=!1),eg=eg.next,ew+=1;em.allBuffers=eE,ej(eu,ed,!0,ed.length,em,"",eb.finish),ed.pendingcb++,ed.lastBufferedRequest=null,eb.next?(ed.corkedRequestsFree=eb.next,eb.next=null):ed.corkedRequestsFree=new e_(ed),ed.bufferedRequestCount=0}else{for(;eg;){var eA=eg.chunk,eS=eg.encoding,eI=eg.callback,eC=ed.objectMode?1:eA.length;if(ej(eu,ed,!1,eC,eA,eS,eI),eg=eg.next,ed.bufferedRequestCount--,ed.writing)break}null===eg&&(ed.lastBufferedRequest=null)}ed.bufferedRequest=eg,ed.bufferProcessing=!1}function eW(eu){return eu.ending&&0===eu.length&&null===eu.bufferedRequest&&!eu.finished&&!eu.writing}function eJ(eu,ed){eu._final(function(eg){ed.pendingcb--,eg&&eu.emit("error",eg),ed.prefinished=!0,eu.emit("prefinish"),eY(eu,ed)})}function eZ(eu,ed){ed.prefinished||ed.finalCalled||("function"==typeof eu._final?(ed.pendingcb++,ed.finalCalled=!0,ew.nextTick(eJ,eu,ed)):(ed.prefinished=!0,eu.emit("prefinish")))}function eY(eu,ed){var eg=eW(ed);return eg&&(eZ(eu,ed),0===ed.pendingcb&&(ed.finished=!0,eu.emit("finish"))),eg}function eX(eu,ed,eg){ed.ending=!0,eY(eu,ed),eg&&(ed.finished?ew.nextTick(eg):eu.once("finish",eg)),ed.ended=!0,eu.writable=!1}function eQ(eu,ed,eg){var em=eu.entry;for(eu.entry=null;em;){var eb=em.callback;ed.pendingcb--,eb(eg),em=em.next}ed.corkedRequestsFree.next=eu}eA.inherits(eR,eI),ek.prototype.getBuffer=function(){for(var eu=this.bufferedRequest,ed=[];eu;)ed.push(eu),eu=eu.next;return ed},function(){try{Object.defineProperty(ek.prototype,"buffer",{get:eS.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(eu){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(eb=Function.prototype[Symbol.hasInstance],Object.defineProperty(eR,Symbol.hasInstance,{value:function(eu){return!!eb.call(this,eu)||this===eR&&eu&&eu._writableState instanceof ek}})):eb=function(eu){return eu instanceof this},eR.prototype.pipe=function(){this.emit("error",Error("Cannot pipe, not readable"))},eR.prototype.write=function(eu,ed,eg){var em=this._writableState,eb=!1,ew=!em.objectMode&&eT(eu);return ew&&!eC.isBuffer(eu)&&(eu=eO(eu)),"function"==typeof ed&&(eg=ed,ed=null),ew?ed="buffer":ed||(ed=em.defaultEncoding),"function"!=typeof eg&&(eg=eN),em.ended?eD(this,eg):(ew||eB(this,em,eu,eg))&&(em.pendingcb++,eb=eL(this,em,ew,eu,ed,eg)),eb},eR.prototype.cork=function(){var eu=this._writableState;eu.corked++},eR.prototype.uncork=function(){var eu=this._writableState;!eu.corked||(eu.corked--,eu.writing||eu.corked||eu.bufferProcessing||!eu.bufferedRequest||eG(this,eu))},eR.prototype.setDefaultEncoding=function(eu){if("string"==typeof eu&&(eu=eu.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((eu+"").toLowerCase())>-1))throw TypeError("Unknown encoding: "+eu);return this._writableState.defaultEncoding=eu,this},Object.defineProperty(eR.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),eR.prototype._write=function(eu,ed,eg){eg(Error("_write() is not implemented"))},eR.prototype._writev=null,eR.prototype.end=function(eu,ed,eg){var em=this._writableState;"function"==typeof eu?(eg=eu,eu=null,ed=null):"function"==typeof ed&&(eg=ed,ed=null),null!=eu&&this.write(eu,ed),em.corked&&(em.corked=1,this.uncork()),em.ending||eX(this,em,eg)},Object.defineProperty(eR.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(eu){this._writableState&&(this._writableState.destroyed=eu)}}),eR.prototype.destroy=eP.destroy,eR.prototype._undestroy=eP.undestroy,eR.prototype._destroy=function(eu,ed){this.end(),ed(eu)}},64986:function(eu,ed,eg){"use strict";function em(eu,ed){if(!(eu instanceof ed))throw TypeError("Cannot call a class as a function")}var eb=eg(1110).Buffer,ew=eg(27464);function e_(eu,ed,eg){eu.copy(ed,eg)}eu.exports=function(){function eu(){em(this,eu),this.head=null,this.tail=null,this.length=0}return eu.prototype.push=function(eu){var ed={data:eu,next:null};this.length>0?this.tail.next=ed:this.head=ed,this.tail=ed,++this.length},eu.prototype.unshift=function(eu){var ed={data:eu,next:this.head};0===this.length&&(this.tail=ed),this.head=ed,++this.length},eu.prototype.shift=function(){if(0!==this.length){var eu=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,eu}},eu.prototype.clear=function(){this.head=this.tail=null,this.length=0},eu.prototype.join=function(eu){if(0===this.length)return"";for(var ed=this.head,eg=""+ed.data;ed=ed.next;)eg+=eu+ed.data;return eg},eu.prototype.concat=function(eu){if(0===this.length)return eb.alloc(0);for(var ed=eb.allocUnsafe(eu>>>0),eg=this.head,em=0;eg;)e_(eg.data,ed,em),em+=eg.data.length,eg=eg.next;return ed},eu}(),ew&&ew.inspect&&ew.inspect.custom&&(eu.exports.prototype[ew.inspect.custom]=function(){var eu=ew.inspect({length:this.length});return this.constructor.name+" "+eu})},20119:function(eu,ed,eg){"use strict";var em=eg(82884);function eb(eu,ed){var eg=this,eb=this._readableState&&this._readableState.destroyed,ew=this._writableState&&this._writableState.destroyed;return eb||ew?(ed?ed(eu):eu&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,em.nextTick(e_,this,eu)):em.nextTick(e_,this,eu)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(eu||null,function(eu){!ed&&eu?eg._writableState?eg._writableState.errorEmitted||(eg._writableState.errorEmitted=!0,em.nextTick(e_,eg,eu)):em.nextTick(e_,eg,eu):ed&&ed(eu)}),this)}function ew(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function e_(eu,ed){eu.emit("error",ed)}eu.exports={destroy:eb,undestroy:ew}},711:function(eu,ed,eg){eu.exports=eg(22699).EventEmitter},1110:function(eu,ed,eg){var em=eg(48834),eb=em.Buffer;function ew(eu,ed){for(var eg in eu)ed[eg]=eu[eg]}function e_(eu,ed,eg){return eb(eu,ed,eg)}eb.from&&eb.alloc&&eb.allocUnsafe&&eb.allocUnsafeSlow?eu.exports=em:(ew(em,ed),ed.Buffer=e_),ew(eb,e_),e_.from=function(eu,ed,eg){if("number"==typeof eu)throw TypeError("Argument must not be a number");return eb(eu,ed,eg)},e_.alloc=function(eu,ed,eg){if("number"!=typeof eu)throw TypeError("Argument must be a number");var em=eb(eu);return void 0!==ed?"string"==typeof eg?em.fill(ed,eg):em.fill(ed):em.fill(0),em},e_.allocUnsafe=function(eu){if("number"!=typeof eu)throw TypeError("Argument must be a number");return eb(eu)},e_.allocUnsafeSlow=function(eu){if("number"!=typeof eu)throw TypeError("Argument must be a number");return em.SlowBuffer(eu)}},45543:function(eu,ed,eg){(ed=eu.exports=eg(65799)).Stream=ed,ed.Readable=ed,ed.Writable=eg(74909),ed.Duplex=eg(54791),ed.Transform=eg(12607),ed.PassThrough=eg(2622)},7563:function(eu,ed,eg){"use strict";var em=eg(35458).Buffer,eb=em.isEncoding||function(eu){switch((eu=""+eu)&&eu.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function ew(eu){var ed;if(!eu)return"utf8";for(;;)switch(eu){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return eu;default:if(ed)return;eu=(""+eu).toLowerCase(),ed=!0}}function e_(eu){var ed=ew(eu);if("string"!=typeof ed&&(em.isEncoding===eb||!eb(eu)))throw Error("Unknown encoding: "+eu);return ed||eu}function eE(eu){var ed;switch(this.encoding=e_(eu),this.encoding){case"utf16le":this.text=eT,this.end=eP,ed=4;break;case"utf8":this.fillLast=eC,ed=4;break;case"base64":this.text=eN,this.end=ek,ed=3;break;default:this.write=eR,this.end=eD;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=em.allocUnsafe(ed)}function eA(eu){return eu<=127?0:eu>>5==6?2:eu>>4==14?3:eu>>3==30?4:eu>>6==2?-1:-2}function eS(eu,ed,eg){var em=ed.length-1;if(em<eg)return 0;var eb=eA(ed[em]);return eb>=0?(eb>0&&(eu.lastNeed=eb-1),eb):--em<eg||-2===eb?0:(eb=eA(ed[em]))>=0?(eb>0&&(eu.lastNeed=eb-2),eb):--em<eg||-2===eb?0:(eb=eA(ed[em]))>=0?(eb>0&&(2===eb?eb=0:eu.lastNeed=eb-3),eb):0}function eI(eu,ed,eg){if((192&ed[0])!=128)return eu.lastNeed=0,"";if(eu.lastNeed>1&&ed.length>1){if((192&ed[1])!=128)return eu.lastNeed=1,"";if(eu.lastNeed>2&&ed.length>2&&(192&ed[2])!=128)return eu.lastNeed=2,""}}function eC(eu){var ed=this.lastTotal-this.lastNeed,eg=eI(this,eu,ed);return void 0!==eg?eg:this.lastNeed<=eu.length?(eu.copy(this.lastChar,ed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):void(eu.copy(this.lastChar,ed,0,eu.length),this.lastNeed-=eu.length)}function eM(eu,ed){var eg=eS(this,eu,ed);if(!this.lastNeed)return eu.toString("utf8",ed);this.lastTotal=eg;var em=eu.length-(eg-this.lastNeed);return eu.copy(this.lastChar,0,em),eu.toString("utf8",ed,em)}function eO(eu){var ed=eu&&eu.length?this.write(eu):"";return this.lastNeed?ed+"":ed}function eT(eu,ed){if((eu.length-ed)%2==0){var eg=eu.toString("utf16le",ed);if(eg){var em=eg.charCodeAt(eg.length-1);if(em>=55296&&em<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=eu[eu.length-2],this.lastChar[1]=eu[eu.length-1],eg.slice(0,-1)}return eg}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=eu[eu.length-1],eu.toString("utf16le",ed,eu.length-1)}function eP(eu){var ed=eu&&eu.length?this.write(eu):"";if(this.lastNeed){var eg=this.lastTotal-this.lastNeed;return ed+this.lastChar.toString("utf16le",0,eg)}return ed}function eN(eu,ed){var eg=(eu.length-ed)%3;return 0===eg?eu.toString("base64",ed):(this.lastNeed=3-eg,this.lastTotal=3,1===eg?this.lastChar[0]=eu[eu.length-1]:(this.lastChar[0]=eu[eu.length-2],this.lastChar[1]=eu[eu.length-1]),eu.toString("base64",ed,eu.length-eg))}function ek(eu){var ed=eu&&eu.length?this.write(eu):"";return this.lastNeed?ed+this.lastChar.toString("base64",0,3-this.lastNeed):ed}function eR(eu){return eu.toString(this.encoding)}function eD(eu){return eu&&eu.length?this.write(eu):""}ed.s=eE,eE.prototype.write=function(eu){var ed,eg;if(0===eu.length)return"";if(this.lastNeed){if(void 0===(ed=this.fillLast(eu)))return"";eg=this.lastNeed,this.lastNeed=0}else eg=0;return eg<eu.length?ed?ed+this.text(eu,eg):this.text(eu,eg):ed||""},eE.prototype.end=eO,eE.prototype.text=eM,eE.prototype.fillLast=function(eu){if(this.lastNeed<=eu.length)return eu.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);eu.copy(this.lastChar,this.lastTotal-this.lastNeed,0,eu.length),this.lastNeed-=eu.length}},35458:function(eu,ed,eg){var em=eg(48834),eb=em.Buffer;function ew(eu,ed){for(var eg in eu)ed[eg]=eu[eg]}function e_(eu,ed,eg){return eb(eu,ed,eg)}eb.from&&eb.alloc&&eb.allocUnsafe&&eb.allocUnsafeSlow?eu.exports=em:(ew(em,ed),ed.Buffer=e_),ew(eb,e_),e_.from=function(eu,ed,eg){if("number"==typeof eu)throw TypeError("Argument must not be a number");return eb(eu,ed,eg)},e_.alloc=function(eu,ed,eg){if("number"!=typeof eu)throw TypeError("Argument must be a number");var em=eb(eu);return void 0!==ed?"string"==typeof eg?em.fill(ed,eg):em.fill(ed):em.fill(0),em},e_.allocUnsafe=function(eu){if("number"!=typeof eu)throw TypeError("Argument must be a number");return eb(eu)},e_.allocUnsafeSlow=function(eu){if("number"!=typeof eu)throw TypeError("Argument must be a number");return em.SlowBuffer(eu)}},17022:function(eu,ed,eg){let em=eg(7773),eb="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";eu.exports=em(eb)},7773:function(eu){"use strict";function ed(eu){if(eu.length>=255)throw TypeError("Alphabet too long");for(var ed=new Uint8Array(256),eg=0;eg<ed.length;eg++)ed[eg]=255;for(var em=0;em<eu.length;em++){var eb=eu.charAt(em),ew=eb.charCodeAt(0);if(255!==ed[ew])throw TypeError(eb+" is ambiguous");ed[ew]=em}var e_=eu.length,eE=eu.charAt(0),eA=Math.log(e_)/Math.log(256),eS=Math.log(256)/Math.log(e_);function eI(eu){if("string"!=typeof eu)throw TypeError("Expected String");if(0===eu.length)return new Uint8Array;for(var eg=0,em=0,eb=0;eu[eg]===eE;)em++,eg++;for(var ew=(eu.length-eg)*eA+1>>>0,eS=new Uint8Array(ew);eu[eg];){var eI=eu.charCodeAt(eg);if(eI>255)return;var eC=ed[eI];if(255===eC)return;for(var eM=0,eO=ew-1;(0!==eC||eM<eb)&&-1!==eO;eO--,eM++)eC+=e_*eS[eO]>>>0,eS[eO]=eC%256>>>0,eC=eC/256>>>0;if(0!==eC)throw Error("Non-zero carry");eb=eM,eg++}for(var eT=ew-eb;eT!==ew&&0===eS[eT];)eT++;for(var eP=new Uint8Array(em+(ew-eT)),eN=em;eT!==ew;)eP[eN++]=eS[eT++];return eP}function eC(eu){var ed=eI(eu);if(ed)return ed;throw Error("Non-base"+e_+" character")}return{encode:function(ed){if(ed instanceof Uint8Array||(ArrayBuffer.isView(ed)?ed=new Uint8Array(ed.buffer,ed.byteOffset,ed.byteLength):Array.isArray(ed)&&(ed=Uint8Array.from(ed))),!(ed instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===ed.length)return"";for(var eg=0,em=0,eb=0,ew=ed.length;eb!==ew&&0===ed[eb];)eb++,eg++;for(var eA=(ew-eb)*eS+1>>>0,eI=new Uint8Array(eA);eb!==ew;){for(var eC=ed[eb],eM=0,eO=eA-1;(0!==eC||eM<em)&&-1!==eO;eO--,eM++)eC+=256*eI[eO]>>>0,eI[eO]=eC%e_>>>0,eC=eC/e_>>>0;if(0!==eC)throw Error("Non-zero carry");em=eM,eb++}for(var eT=eA-em;eT!==eA&&0===eI[eT];)eT++;for(var eP=eE.repeat(eg);eT<eA;++eT)eP+=eu.charAt(eI[eT]);return eP},decodeUnsafe:eI,decode:eC}}eu.exports=ed},31313:function(eu,ed,eg){var em=eg(48834).Buffer;eu.exports=function(eu,ed){for(var eg=Math.min(eu.length,ed.length),eb=new em(eg),ew=0;ew<eg;++ew)eb[ew]=eu[ew]^ed[ew];return eb}},48834:function(eu,ed,eg){"use strict";/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */let em=eg(95766),eb=eg(62333),ew="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;ed.Buffer=eS,ed.SlowBuffer=eB,ed.INSPECT_MAX_BYTES=50;let e_=2147483647;function eE(){try{let eu=new Uint8Array(1),ed={foo:function(){return 42}};return Object.setPrototypeOf(ed,Uint8Array.prototype),Object.setPrototypeOf(eu,ed),42===eu.foo()}catch(eu){return!1}}function eA(eu){if(eu>e_)throw RangeError('The value "'+eu+'" is invalid for option "size"');let ed=new Uint8Array(eu);return Object.setPrototypeOf(ed,eS.prototype),ed}function eS(eu,ed,eg){if("number"==typeof eu){if("string"==typeof ed)throw TypeError('The "string" argument must be of type string. Received type number');return eO(eu)}return eI(eu,ed,eg)}function eI(eu,ed,eg){if("string"==typeof eu)return eT(eu,ed);if(ArrayBuffer.isView(eu))return eN(eu);if(null==eu)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof eu);if(tD(eu,ArrayBuffer)||eu&&tD(eu.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(tD(eu,SharedArrayBuffer)||eu&&tD(eu.buffer,SharedArrayBuffer)))return ek(eu,ed,eg);if("number"==typeof eu)throw TypeError('The "value" argument must not be of type number. Received type number');let em=eu.valueOf&&eu.valueOf();if(null!=em&&em!==eu)return eS.from(em,ed,eg);let eb=eR(eu);if(eb)return eb;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof eu[Symbol.toPrimitive])return eS.from(eu[Symbol.toPrimitive]("string"),ed,eg);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof eu)}function eC(eu){if("number"!=typeof eu)throw TypeError('"size" argument must be of type number');if(eu<0)throw RangeError('The value "'+eu+'" is invalid for option "size"')}function eM(eu,ed,eg){return(eC(eu),eu<=0)?eA(eu):void 0!==ed?"string"==typeof eg?eA(eu).fill(ed,eg):eA(eu).fill(ed):eA(eu)}function eO(eu){return eC(eu),eA(eu<0?0:0|eD(eu))}function eT(eu,ed){if(("string"!=typeof ed||""===ed)&&(ed="utf8"),!eS.isEncoding(ed))throw TypeError("Unknown encoding: "+ed);let eg=0|eU(eu,ed),em=eA(eg),eb=em.write(eu,ed);return eb!==eg&&(em=em.slice(0,eb)),em}function eP(eu){let ed=eu.length<0?0:0|eD(eu.length),eg=eA(ed);for(let em=0;em<ed;em+=1)eg[em]=255&eu[em];return eg}function eN(eu){if(tD(eu,Uint8Array)){let ed=new Uint8Array(eu);return ek(ed.buffer,ed.byteOffset,ed.byteLength)}return eP(eu)}function ek(eu,ed,eg){let em;if(ed<0||eu.byteLength<ed)throw RangeError('"offset" is outside of buffer bounds');if(eu.byteLength<ed+(eg||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(em=void 0===ed&&void 0===eg?new Uint8Array(eu):void 0===eg?new Uint8Array(eu,ed):new Uint8Array(eu,ed,eg),eS.prototype),em}function eR(eu){if(eS.isBuffer(eu)){let ed=0|eD(eu.length),eg=eA(ed);return 0===eg.length||eu.copy(eg,0,0,ed),eg}return void 0!==eu.length?"number"!=typeof eu.length||tB(eu.length)?eA(0):eP(eu):"Buffer"===eu.type&&Array.isArray(eu.data)?eP(eu.data):void 0}function eD(eu){if(eu>=e_)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+e_.toString(16)+" bytes");return 0|eu}function eB(eu){return+eu!=eu&&(eu=0),eS.alloc(+eu)}function eU(eu,ed){if(eS.isBuffer(eu))return eu.length;if(ArrayBuffer.isView(eu)||tD(eu,ArrayBuffer))return eu.byteLength;if("string"!=typeof eu)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof eu);let eg=eu.length,em=arguments.length>2&&!0===arguments[2];if(!em&&0===eg)return 0;let eb=!1;for(;;)switch(ed){case"ascii":case"latin1":case"binary":return eg;case"utf8":case"utf-8":return tO(eu).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*eg;case"hex":return eg>>>1;case"base64":return tN(eu).length;default:if(eb)return em?-1:tO(eu).length;ed=(""+ed).toLowerCase(),eb=!0}}function eL(eu,ed,eg){let em=!1;if((void 0===ed||ed<0)&&(ed=0),ed>this.length||((void 0===eg||eg>this.length)&&(eg=this.length),eg<=0||(eg>>>=0)<=(ed>>>=0)))return"";for(eu||(eu="utf8");;)switch(eu){case"hex":return e6(this,ed,eg);case"utf8":case"utf-8":return eZ(this,ed,eg);case"ascii":return eQ(this,ed,eg);case"latin1":case"binary":return e0(this,ed,eg);case"base64":return eJ(this,ed,eg);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return e8(this,ed,eg);default:if(em)throw TypeError("Unknown encoding: "+eu);eu=(eu+"").toLowerCase(),em=!0}}function ej(eu,ed,eg){let em=eu[ed];eu[ed]=eu[eg],eu[eg]=em}function eF(eu,ed,eg,em,eb){if(0===eu.length)return -1;if("string"==typeof eg?(em=eg,eg=0):eg>2147483647?eg=2147483647:eg<-2147483648&&(eg=-2147483648),tB(eg=+eg)&&(eg=eb?0:eu.length-1),eg<0&&(eg=eu.length+eg),eg>=eu.length){if(eb)return -1;eg=eu.length-1}else if(eg<0){if(!eb)return -1;eg=0}if("string"==typeof ed&&(ed=eS.from(ed,em)),eS.isBuffer(ed))return 0===ed.length?-1:e$(eu,ed,eg,em,eb);if("number"==typeof ed)return(ed&=255,"function"==typeof Uint8Array.prototype.indexOf)?eb?Uint8Array.prototype.indexOf.call(eu,ed,eg):Uint8Array.prototype.lastIndexOf.call(eu,ed,eg):e$(eu,[ed],eg,em,eb);throw TypeError("val must be string, number or Buffer")}function e$(eu,ed,eg,em,eb){let ew,e_=1,eE=eu.length,eA=ed.length;if(void 0!==em&&("ucs2"===(em=String(em).toLowerCase())||"ucs-2"===em||"utf16le"===em||"utf-16le"===em)){if(eu.length<2||ed.length<2)return -1;e_=2,eE/=2,eA/=2,eg/=2}function eS(eu,ed){return 1===e_?eu[ed]:eu.readUInt16BE(ed*e_)}if(eb){let em=-1;for(ew=eg;ew<eE;ew++)if(eS(eu,ew)===eS(ed,-1===em?0:ew-em)){if(-1===em&&(em=ew),ew-em+1===eA)return em*e_}else -1!==em&&(ew-=ew-em),em=-1}else for(eg+eA>eE&&(eg=eE-eA),ew=eg;ew>=0;ew--){let eg=!0;for(let em=0;em<eA;em++)if(eS(eu,ew+em)!==eS(ed,em)){eg=!1;break}if(eg)return ew}return -1}function eK(eu,ed,eg,em){let eb;eg=Number(eg)||0;let ew=eu.length-eg;em?(em=Number(em))>ew&&(em=ew):em=ew;let e_=ed.length;for(em>e_/2&&(em=e_/2),eb=0;eb<em;++eb){let em=parseInt(ed.substr(2*eb,2),16);if(tB(em))break;eu[eg+eb]=em}return eb}function eH(eu,ed,eg,em){return tR(tO(ed,eu.length-eg),eu,eg,em)}function eV(eu,ed,eg,em){return tR(tT(ed),eu,eg,em)}function eG(eu,ed,eg,em){return tR(tN(ed),eu,eg,em)}function eW(eu,ed,eg,em){return tR(tP(ed,eu.length-eg),eu,eg,em)}function eJ(eu,ed,eg){return 0===ed&&eg===eu.length?em.fromByteArray(eu):em.fromByteArray(eu.slice(ed,eg))}function eZ(eu,ed,eg){eg=Math.min(eu.length,eg);let em=[],eb=ed;for(;eb<eg;){let ed=eu[eb],ew=null,e_=ed>239?4:ed>223?3:ed>191?2:1;if(eb+e_<=eg){let eg,em,eE,eA;switch(e_){case 1:ed<128&&(ew=ed);break;case 2:(192&(eg=eu[eb+1]))==128&&(eA=(31&ed)<<6|63&eg)>127&&(ew=eA);break;case 3:eg=eu[eb+1],em=eu[eb+2],(192&eg)==128&&(192&em)==128&&(eA=(15&ed)<<12|(63&eg)<<6|63&em)>2047&&(eA<55296||eA>57343)&&(ew=eA);break;case 4:eg=eu[eb+1],em=eu[eb+2],eE=eu[eb+3],(192&eg)==128&&(192&em)==128&&(192&eE)==128&&(eA=(15&ed)<<18|(63&eg)<<12|(63&em)<<6|63&eE)>65535&&eA<1114112&&(ew=eA)}}null===ew?(ew=65533,e_=1):ew>65535&&(ew-=65536,em.push(ew>>>10&1023|55296),ew=56320|1023&ew),em.push(ew),eb+=e_}return eX(em)}ed.kMaxLength=e_,eS.TYPED_ARRAY_SUPPORT=eE(),eS.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(eS.prototype,"parent",{enumerable:!0,get:function(){if(eS.isBuffer(this))return this.buffer}}),Object.defineProperty(eS.prototype,"offset",{enumerable:!0,get:function(){if(eS.isBuffer(this))return this.byteOffset}}),eS.poolSize=8192,eS.from=function(eu,ed,eg){return eI(eu,ed,eg)},Object.setPrototypeOf(eS.prototype,Uint8Array.prototype),Object.setPrototypeOf(eS,Uint8Array),eS.alloc=function(eu,ed,eg){return eM(eu,ed,eg)},eS.allocUnsafe=function(eu){return eO(eu)},eS.allocUnsafeSlow=function(eu){return eO(eu)},eS.isBuffer=function(eu){return null!=eu&&!0===eu._isBuffer&&eu!==eS.prototype},eS.compare=function(eu,ed){if(tD(eu,Uint8Array)&&(eu=eS.from(eu,eu.offset,eu.byteLength)),tD(ed,Uint8Array)&&(ed=eS.from(ed,ed.offset,ed.byteLength)),!eS.isBuffer(eu)||!eS.isBuffer(ed))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(eu===ed)return 0;let eg=eu.length,em=ed.length;for(let eb=0,ew=Math.min(eg,em);eb<ew;++eb)if(eu[eb]!==ed[eb]){eg=eu[eb],em=ed[eb];break}return eg<em?-1:em<eg?1:0},eS.isEncoding=function(eu){switch(String(eu).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},eS.concat=function(eu,ed){let eg;if(!Array.isArray(eu))throw TypeError('"list" argument must be an Array of Buffers');if(0===eu.length)return eS.alloc(0);if(void 0===ed)for(eg=0,ed=0;eg<eu.length;++eg)ed+=eu[eg].length;let em=eS.allocUnsafe(ed),eb=0;for(eg=0;eg<eu.length;++eg){let ed=eu[eg];if(tD(ed,Uint8Array))eb+ed.length>em.length?(eS.isBuffer(ed)||(ed=eS.from(ed)),ed.copy(em,eb)):Uint8Array.prototype.set.call(em,ed,eb);else if(eS.isBuffer(ed))ed.copy(em,eb);else throw TypeError('"list" argument must be an Array of Buffers');eb+=ed.length}return em},eS.byteLength=eU,eS.prototype._isBuffer=!0,eS.prototype.swap16=function(){let eu=this.length;if(eu%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let ed=0;ed<eu;ed+=2)ej(this,ed,ed+1);return this},eS.prototype.swap32=function(){let eu=this.length;if(eu%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let ed=0;ed<eu;ed+=4)ej(this,ed,ed+3),ej(this,ed+1,ed+2);return this},eS.prototype.swap64=function(){let eu=this.length;if(eu%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let ed=0;ed<eu;ed+=8)ej(this,ed,ed+7),ej(this,ed+1,ed+6),ej(this,ed+2,ed+5),ej(this,ed+3,ed+4);return this},eS.prototype.toString=function(){let eu=this.length;return 0===eu?"":0==arguments.length?eZ(this,0,eu):eL.apply(this,arguments)},eS.prototype.toLocaleString=eS.prototype.toString,eS.prototype.equals=function(eu){if(!eS.isBuffer(eu))throw TypeError("Argument must be a Buffer");return this===eu||0===eS.compare(this,eu)},eS.prototype.inspect=function(){let eu="",eg=ed.INSPECT_MAX_BYTES;return eu=this.toString("hex",0,eg).replace(/(.{2})/g,"$1 ").trim(),this.length>eg&&(eu+=" ... "),"<Buffer "+eu+">"},ew&&(eS.prototype[ew]=eS.prototype.inspect),eS.prototype.compare=function(eu,ed,eg,em,eb){if(tD(eu,Uint8Array)&&(eu=eS.from(eu,eu.offset,eu.byteLength)),!eS.isBuffer(eu))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof eu);if(void 0===ed&&(ed=0),void 0===eg&&(eg=eu?eu.length:0),void 0===em&&(em=0),void 0===eb&&(eb=this.length),ed<0||eg>eu.length||em<0||eb>this.length)throw RangeError("out of range index");if(em>=eb&&ed>=eg)return 0;if(em>=eb)return -1;if(ed>=eg)return 1;if(ed>>>=0,eg>>>=0,em>>>=0,eb>>>=0,this===eu)return 0;let ew=eb-em,e_=eg-ed,eE=Math.min(ew,e_),eA=this.slice(em,eb),eI=eu.slice(ed,eg);for(let eu=0;eu<eE;++eu)if(eA[eu]!==eI[eu]){ew=eA[eu],e_=eI[eu];break}return ew<e_?-1:e_<ew?1:0},eS.prototype.includes=function(eu,ed,eg){return -1!==this.indexOf(eu,ed,eg)},eS.prototype.indexOf=function(eu,ed,eg){return eF(this,eu,ed,eg,!0)},eS.prototype.lastIndexOf=function(eu,ed,eg){return eF(this,eu,ed,eg,!1)},eS.prototype.write=function(eu,ed,eg,em){if(void 0===ed)em="utf8",eg=this.length,ed=0;else if(void 0===eg&&"string"==typeof ed)em=ed,eg=this.length,ed=0;else if(isFinite(ed))ed>>>=0,isFinite(eg)?(eg>>>=0,void 0===em&&(em="utf8")):(em=eg,eg=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let eb=this.length-ed;if((void 0===eg||eg>eb)&&(eg=eb),eu.length>0&&(eg<0||ed<0)||ed>this.length)throw RangeError("Attempt to write outside buffer bounds");em||(em="utf8");let ew=!1;for(;;)switch(em){case"hex":return eK(this,eu,ed,eg);case"utf8":case"utf-8":return eH(this,eu,ed,eg);case"ascii":case"latin1":case"binary":return eV(this,eu,ed,eg);case"base64":return eG(this,eu,ed,eg);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return eW(this,eu,ed,eg);default:if(ew)throw TypeError("Unknown encoding: "+em);em=(""+em).toLowerCase(),ew=!0}},eS.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};let eY=4096;function eX(eu){let ed=eu.length;if(ed<=eY)return String.fromCharCode.apply(String,eu);let eg="",em=0;for(;em<ed;)eg+=String.fromCharCode.apply(String,eu.slice(em,em+=eY));return eg}function eQ(eu,ed,eg){let em="";eg=Math.min(eu.length,eg);for(let eb=ed;eb<eg;++eb)em+=String.fromCharCode(127&eu[eb]);return em}function e0(eu,ed,eg){let em="";eg=Math.min(eu.length,eg);for(let eb=ed;eb<eg;++eb)em+=String.fromCharCode(eu[eb]);return em}function e6(eu,ed,eg){let em=eu.length;(!ed||ed<0)&&(ed=0),(!eg||eg<0||eg>em)&&(eg=em);let eb="";for(let em=ed;em<eg;++em)eb+=tU[eu[em]];return eb}function e8(eu,ed,eg){let em=eu.slice(ed,eg),eb="";for(let eu=0;eu<em.length-1;eu+=2)eb+=String.fromCharCode(em[eu]+256*em[eu+1]);return eb}function e5(eu,ed,eg){if(eu%1!=0||eu<0)throw RangeError("offset is not uint");if(eu+ed>eg)throw RangeError("Trying to access beyond buffer length")}function e9(eu,ed,eg,em,eb,ew){if(!eS.isBuffer(eu))throw TypeError('"buffer" argument must be a Buffer instance');if(ed>eb||ed<ew)throw RangeError('"value" argument is out of bounds');if(eg+em>eu.length)throw RangeError("Index out of range")}function e7(eu,ed,eg,em,eb){tE(ed,em,eb,eu,eg,7);let ew=Number(ed&BigInt(4294967295));eu[eg++]=ew,ew>>=8,eu[eg++]=ew,ew>>=8,eu[eg++]=ew,ew>>=8,eu[eg++]=ew;let e_=Number(ed>>BigInt(32)&BigInt(4294967295));return eu[eg++]=e_,e_>>=8,eu[eg++]=e_,e_>>=8,eu[eg++]=e_,e_>>=8,eu[eg++]=e_,eg}function tu(eu,ed,eg,em,eb){tE(ed,em,eb,eu,eg,7);let ew=Number(ed&BigInt(4294967295));eu[eg+7]=ew,ew>>=8,eu[eg+6]=ew,ew>>=8,eu[eg+5]=ew,ew>>=8,eu[eg+4]=ew;let e_=Number(ed>>BigInt(32)&BigInt(4294967295));return eu[eg+3]=e_,e_>>=8,eu[eg+2]=e_,e_>>=8,eu[eg+1]=e_,e_>>=8,eu[eg]=e_,eg+8}function th(eu,ed,eg,em,eb,ew){if(eg+em>eu.length||eg<0)throw RangeError("Index out of range")}function td(eu,ed,eg,em,ew){return ed=+ed,eg>>>=0,ew||th(eu,ed,eg,4,34028234663852886e22,-34028234663852886e22),eb.write(eu,ed,eg,em,23,4),eg+4}function tg(eu,ed,eg,em,ew){return ed=+ed,eg>>>=0,ew||th(eu,ed,eg,8,17976931348623157e292,-17976931348623157e292),eb.write(eu,ed,eg,em,52,8),eg+8}eS.prototype.slice=function(eu,ed){let eg=this.length;eu=~~eu,ed=void 0===ed?eg:~~ed,eu<0?(eu+=eg)<0&&(eu=0):eu>eg&&(eu=eg),ed<0?(ed+=eg)<0&&(ed=0):ed>eg&&(ed=eg),ed<eu&&(ed=eu);let em=this.subarray(eu,ed);return Object.setPrototypeOf(em,eS.prototype),em},eS.prototype.readUintLE=eS.prototype.readUIntLE=function(eu,ed,eg){eu>>>=0,ed>>>=0,eg||e5(eu,ed,this.length);let em=this[eu],eb=1,ew=0;for(;++ew<ed&&(eb*=256);)em+=this[eu+ew]*eb;return em},eS.prototype.readUintBE=eS.prototype.readUIntBE=function(eu,ed,eg){eu>>>=0,ed>>>=0,eg||e5(eu,ed,this.length);let em=this[eu+--ed],eb=1;for(;ed>0&&(eb*=256);)em+=this[eu+--ed]*eb;return em},eS.prototype.readUint8=eS.prototype.readUInt8=function(eu,ed){return eu>>>=0,ed||e5(eu,1,this.length),this[eu]},eS.prototype.readUint16LE=eS.prototype.readUInt16LE=function(eu,ed){return eu>>>=0,ed||e5(eu,2,this.length),this[eu]|this[eu+1]<<8},eS.prototype.readUint16BE=eS.prototype.readUInt16BE=function(eu,ed){return eu>>>=0,ed||e5(eu,2,this.length),this[eu]<<8|this[eu+1]},eS.prototype.readUint32LE=eS.prototype.readUInt32LE=function(eu,ed){return eu>>>=0,ed||e5(eu,4,this.length),(this[eu]|this[eu+1]<<8|this[eu+2]<<16)+16777216*this[eu+3]},eS.prototype.readUint32BE=eS.prototype.readUInt32BE=function(eu,ed){return eu>>>=0,ed||e5(eu,4,this.length),16777216*this[eu]+(this[eu+1]<<16|this[eu+2]<<8|this[eu+3])},eS.prototype.readBigUInt64LE=tL(function(eu){tA(eu>>>=0,"offset");let ed=this[eu],eg=this[eu+7];(void 0===ed||void 0===eg)&&tS(eu,this.length-8);let em=ed+256*this[++eu]+65536*this[++eu]+16777216*this[++eu],eb=this[++eu]+256*this[++eu]+65536*this[++eu]+16777216*eg;return BigInt(em)+(BigInt(eb)<<BigInt(32))}),eS.prototype.readBigUInt64BE=tL(function(eu){tA(eu>>>=0,"offset");let ed=this[eu],eg=this[eu+7];(void 0===ed||void 0===eg)&&tS(eu,this.length-8);let em=16777216*ed+65536*this[++eu]+256*this[++eu]+this[++eu],eb=16777216*this[++eu]+65536*this[++eu]+256*this[++eu]+eg;return(BigInt(em)<<BigInt(32))+BigInt(eb)}),eS.prototype.readIntLE=function(eu,ed,eg){eu>>>=0,ed>>>=0,eg||e5(eu,ed,this.length);let em=this[eu],eb=1,ew=0;for(;++ew<ed&&(eb*=256);)em+=this[eu+ew]*eb;return em>=(eb*=128)&&(em-=Math.pow(2,8*ed)),em},eS.prototype.readIntBE=function(eu,ed,eg){eu>>>=0,ed>>>=0,eg||e5(eu,ed,this.length);let em=ed,eb=1,ew=this[eu+--em];for(;em>0&&(eb*=256);)ew+=this[eu+--em]*eb;return ew>=(eb*=128)&&(ew-=Math.pow(2,8*ed)),ew},eS.prototype.readInt8=function(eu,ed){return(eu>>>=0,ed||e5(eu,1,this.length),128&this[eu])?-((255-this[eu]+1)*1):this[eu]},eS.prototype.readInt16LE=function(eu,ed){eu>>>=0,ed||e5(eu,2,this.length);let eg=this[eu]|this[eu+1]<<8;return 32768&eg?4294901760|eg:eg},eS.prototype.readInt16BE=function(eu,ed){eu>>>=0,ed||e5(eu,2,this.length);let eg=this[eu+1]|this[eu]<<8;return 32768&eg?4294901760|eg:eg},eS.prototype.readInt32LE=function(eu,ed){return eu>>>=0,ed||e5(eu,4,this.length),this[eu]|this[eu+1]<<8|this[eu+2]<<16|this[eu+3]<<24},eS.prototype.readInt32BE=function(eu,ed){return eu>>>=0,ed||e5(eu,4,this.length),this[eu]<<24|this[eu+1]<<16|this[eu+2]<<8|this[eu+3]},eS.prototype.readBigInt64LE=tL(function(eu){tA(eu>>>=0,"offset");let ed=this[eu],eg=this[eu+7];(void 0===ed||void 0===eg)&&tS(eu,this.length-8);let em=this[eu+4]+256*this[eu+5]+65536*this[eu+6]+(eg<<24);return(BigInt(em)<<BigInt(32))+BigInt(ed+256*this[++eu]+65536*this[++eu]+16777216*this[++eu])}),eS.prototype.readBigInt64BE=tL(function(eu){tA(eu>>>=0,"offset");let ed=this[eu],eg=this[eu+7];(void 0===ed||void 0===eg)&&tS(eu,this.length-8);let em=(ed<<24)+65536*this[++eu]+256*this[++eu]+this[++eu];return(BigInt(em)<<BigInt(32))+BigInt(16777216*this[++eu]+65536*this[++eu]+256*this[++eu]+eg)}),eS.prototype.readFloatLE=function(eu,ed){return eu>>>=0,ed||e5(eu,4,this.length),eb.read(this,eu,!0,23,4)},eS.prototype.readFloatBE=function(eu,ed){return eu>>>=0,ed||e5(eu,4,this.length),eb.read(this,eu,!1,23,4)},eS.prototype.readDoubleLE=function(eu,ed){return eu>>>=0,ed||e5(eu,8,this.length),eb.read(this,eu,!0,52,8)},eS.prototype.readDoubleBE=function(eu,ed){return eu>>>=0,ed||e5(eu,8,this.length),eb.read(this,eu,!1,52,8)},eS.prototype.writeUintLE=eS.prototype.writeUIntLE=function(eu,ed,eg,em){if(eu=+eu,ed>>>=0,eg>>>=0,!em){let em=Math.pow(2,8*eg)-1;e9(this,eu,ed,eg,em,0)}let eb=1,ew=0;for(this[ed]=255&eu;++ew<eg&&(eb*=256);)this[ed+ew]=eu/eb&255;return ed+eg},eS.prototype.writeUintBE=eS.prototype.writeUIntBE=function(eu,ed,eg,em){if(eu=+eu,ed>>>=0,eg>>>=0,!em){let em=Math.pow(2,8*eg)-1;e9(this,eu,ed,eg,em,0)}let eb=eg-1,ew=1;for(this[ed+eb]=255&eu;--eb>=0&&(ew*=256);)this[ed+eb]=eu/ew&255;return ed+eg},eS.prototype.writeUint8=eS.prototype.writeUInt8=function(eu,ed,eg){return eu=+eu,ed>>>=0,eg||e9(this,eu,ed,1,255,0),this[ed]=255&eu,ed+1},eS.prototype.writeUint16LE=eS.prototype.writeUInt16LE=function(eu,ed,eg){return eu=+eu,ed>>>=0,eg||e9(this,eu,ed,2,65535,0),this[ed]=255&eu,this[ed+1]=eu>>>8,ed+2},eS.prototype.writeUint16BE=eS.prototype.writeUInt16BE=function(eu,ed,eg){return eu=+eu,ed>>>=0,eg||e9(this,eu,ed,2,65535,0),this[ed]=eu>>>8,this[ed+1]=255&eu,ed+2},eS.prototype.writeUint32LE=eS.prototype.writeUInt32LE=function(eu,ed,eg){return eu=+eu,ed>>>=0,eg||e9(this,eu,ed,4,4294967295,0),this[ed+3]=eu>>>24,this[ed+2]=eu>>>16,this[ed+1]=eu>>>8,this[ed]=255&eu,ed+4},eS.prototype.writeUint32BE=eS.prototype.writeUInt32BE=function(eu,ed,eg){return eu=+eu,ed>>>=0,eg||e9(this,eu,ed,4,4294967295,0),this[ed]=eu>>>24,this[ed+1]=eu>>>16,this[ed+2]=eu>>>8,this[ed+3]=255&eu,ed+4},eS.prototype.writeBigUInt64LE=tL(function(eu,ed=0){return e7(this,eu,ed,BigInt(0),BigInt("0xffffffffffffffff"))}),eS.prototype.writeBigUInt64BE=tL(function(eu,ed=0){return tu(this,eu,ed,BigInt(0),BigInt("0xffffffffffffffff"))}),eS.prototype.writeIntLE=function(eu,ed,eg,em){if(eu=+eu,ed>>>=0,!em){let em=Math.pow(2,8*eg-1);e9(this,eu,ed,eg,em-1,-em)}let eb=0,ew=1,e_=0;for(this[ed]=255&eu;++eb<eg&&(ew*=256);)eu<0&&0===e_&&0!==this[ed+eb-1]&&(e_=1),this[ed+eb]=(eu/ew>>0)-e_&255;return ed+eg},eS.prototype.writeIntBE=function(eu,ed,eg,em){if(eu=+eu,ed>>>=0,!em){let em=Math.pow(2,8*eg-1);e9(this,eu,ed,eg,em-1,-em)}let eb=eg-1,ew=1,e_=0;for(this[ed+eb]=255&eu;--eb>=0&&(ew*=256);)eu<0&&0===e_&&0!==this[ed+eb+1]&&(e_=1),this[ed+eb]=(eu/ew>>0)-e_&255;return ed+eg},eS.prototype.writeInt8=function(eu,ed,eg){return eu=+eu,ed>>>=0,eg||e9(this,eu,ed,1,127,-128),eu<0&&(eu=255+eu+1),this[ed]=255&eu,ed+1},eS.prototype.writeInt16LE=function(eu,ed,eg){return eu=+eu,ed>>>=0,eg||e9(this,eu,ed,2,32767,-32768),this[ed]=255&eu,this[ed+1]=eu>>>8,ed+2},eS.prototype.writeInt16BE=function(eu,ed,eg){return eu=+eu,ed>>>=0,eg||e9(this,eu,ed,2,32767,-32768),this[ed]=eu>>>8,this[ed+1]=255&eu,ed+2},eS.prototype.writeInt32LE=function(eu,ed,eg){return eu=+eu,ed>>>=0,eg||e9(this,eu,ed,4,2147483647,-2147483648),this[ed]=255&eu,this[ed+1]=eu>>>8,this[ed+2]=eu>>>16,this[ed+3]=eu>>>24,ed+4},eS.prototype.writeInt32BE=function(eu,ed,eg){return eu=+eu,ed>>>=0,eg||e9(this,eu,ed,4,2147483647,-2147483648),eu<0&&(eu=4294967295+eu+1),this[ed]=eu>>>24,this[ed+1]=eu>>>16,this[ed+2]=eu>>>8,this[ed+3]=255&eu,ed+4},eS.prototype.writeBigInt64LE=tL(function(eu,ed=0){return e7(this,eu,ed,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),eS.prototype.writeBigInt64BE=tL(function(eu,ed=0){return tu(this,eu,ed,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),eS.prototype.writeFloatLE=function(eu,ed,eg){return td(this,eu,ed,!0,eg)},eS.prototype.writeFloatBE=function(eu,ed,eg){return td(this,eu,ed,!1,eg)},eS.prototype.writeDoubleLE=function(eu,ed,eg){return tg(this,eu,ed,!0,eg)},eS.prototype.writeDoubleBE=function(eu,ed,eg){return tg(this,eu,ed,!1,eg)},eS.prototype.copy=function(eu,ed,eg,em){if(!eS.isBuffer(eu))throw TypeError("argument should be a Buffer");if(eg||(eg=0),em||0===em||(em=this.length),ed>=eu.length&&(ed=eu.length),ed||(ed=0),em>0&&em<eg&&(em=eg),em===eg||0===eu.length||0===this.length)return 0;if(ed<0)throw RangeError("targetStart out of bounds");if(eg<0||eg>=this.length)throw RangeError("Index out of range");if(em<0)throw RangeError("sourceEnd out of bounds");em>this.length&&(em=this.length),eu.length-ed<em-eg&&(em=eu.length-ed+eg);let eb=em-eg;return this===eu&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(ed,eg,em):Uint8Array.prototype.set.call(eu,this.subarray(eg,em),ed),eb},eS.prototype.fill=function(eu,ed,eg,em){let eb;if("string"==typeof eu){if("string"==typeof ed?(em=ed,ed=0,eg=this.length):"string"==typeof eg&&(em=eg,eg=this.length),void 0!==em&&"string"!=typeof em)throw TypeError("encoding must be a string");if("string"==typeof em&&!eS.isEncoding(em))throw TypeError("Unknown encoding: "+em);if(1===eu.length){let ed=eu.charCodeAt(0);("utf8"===em&&ed<128||"latin1"===em)&&(eu=ed)}}else"number"==typeof eu?eu&=255:"boolean"==typeof eu&&(eu=Number(eu));if(ed<0||this.length<ed||this.length<eg)throw RangeError("Out of range index");if(eg<=ed)return this;if(ed>>>=0,eg=void 0===eg?this.length:eg>>>0,eu||(eu=0),"number"==typeof eu)for(eb=ed;eb<eg;++eb)this[eb]=eu;else{let ew=eS.isBuffer(eu)?eu:eS.from(eu,em),e_=ew.length;if(0===e_)throw TypeError('The value "'+eu+'" is invalid for argument "value"');for(eb=0;eb<eg-ed;++eb)this[eb+ed]=ew[eb%e_]}return this};let ty={};function tb(eu,ed,eg){ty[eu]=class extends eg{constructor(){super(),Object.defineProperty(this,"message",{value:ed.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${eu}]`,this.stack,delete this.name}get code(){return eu}set code(eu){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:eu,writable:!0})}toString(){return`${this.name} [${eu}]: ${this.message}`}}}function tw(eu){let ed="",eg=eu.length,em="-"===eu[0]?1:0;for(;eg>=em+4;eg-=3)ed=`_${eu.slice(eg-3,eg)}${ed}`;return`${eu.slice(0,eg)}${ed}`}function t_(eu,ed,eg){tA(ed,"offset"),(void 0===eu[ed]||void 0===eu[ed+eg])&&tS(ed,eu.length-(eg+1))}function tE(eu,ed,eg,em,eb,ew){if(eu>eg||eu<ed){let em;let eb="bigint"==typeof ed?"n":"";throw em=ew>3?0===ed||ed===BigInt(0)?`>= 0${eb} and < 2${eb} ** ${(ew+1)*8}${eb}`:`>= -(2${eb} ** ${(ew+1)*8-1}${eb}) and < 2 ** ${(ew+1)*8-1}${eb}`:`>= ${ed}${eb} and <= ${eg}${eb}`,new ty.ERR_OUT_OF_RANGE("value",em,eu)}t_(em,eb,ew)}function tA(eu,ed){if("number"!=typeof eu)throw new ty.ERR_INVALID_ARG_TYPE(ed,"number",eu)}function tS(eu,ed,eg){if(Math.floor(eu)!==eu)throw tA(eu,eg),new ty.ERR_OUT_OF_RANGE(eg||"offset","an integer",eu);if(ed<0)throw new ty.ERR_BUFFER_OUT_OF_BOUNDS;throw new ty.ERR_OUT_OF_RANGE(eg||"offset",`>= ${eg?1:0} and <= ${ed}`,eu)}tb("ERR_BUFFER_OUT_OF_BOUNDS",function(eu){return eu?`${eu} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),tb("ERR_INVALID_ARG_TYPE",function(eu,ed){return`The "${eu}" argument must be of type number. Received type ${typeof ed}`},TypeError),tb("ERR_OUT_OF_RANGE",function(eu,ed,eg){let em=`The value of "${eu}" is out of range.`,eb=eg;return Number.isInteger(eg)&&Math.abs(eg)>4294967296?eb=tw(String(eg)):"bigint"==typeof eg&&(eb=String(eg),(eg>BigInt(2)**BigInt(32)||eg<-(BigInt(2)**BigInt(32)))&&(eb=tw(eb)),eb+="n"),em+=` It must be ${ed}. Received ${eb}`},RangeError);let tI=/[^+/0-9A-Za-z-_]/g;function tC(eu){if((eu=(eu=eu.split("=")[0]).trim().replace(tI,"")).length<2)return"";for(;eu.length%4!=0;)eu+="=";return eu}function tO(eu,ed){let eg;ed=ed||1/0;let em=eu.length,eb=null,ew=[];for(let e_=0;e_<em;++e_){if((eg=eu.charCodeAt(e_))>55295&&eg<57344){if(!eb){if(eg>56319||e_+1===em){(ed-=3)>-1&&ew.push(239,191,189);continue}eb=eg;continue}if(eg<56320){(ed-=3)>-1&&ew.push(239,191,189),eb=eg;continue}eg=(eb-55296<<10|eg-56320)+65536}else eb&&(ed-=3)>-1&&ew.push(239,191,189);if(eb=null,eg<128){if((ed-=1)<0)break;ew.push(eg)}else if(eg<2048){if((ed-=2)<0)break;ew.push(eg>>6|192,63&eg|128)}else if(eg<65536){if((ed-=3)<0)break;ew.push(eg>>12|224,eg>>6&63|128,63&eg|128)}else if(eg<1114112){if((ed-=4)<0)break;ew.push(eg>>18|240,eg>>12&63|128,eg>>6&63|128,63&eg|128)}else throw Error("Invalid code point")}return ew}function tT(eu){let ed=[];for(let eg=0;eg<eu.length;++eg)ed.push(255&eu.charCodeAt(eg));return ed}function tP(eu,ed){let eg,em;let eb=[];for(let ew=0;ew<eu.length&&!((ed-=2)<0);++ew)em=(eg=eu.charCodeAt(ew))>>8,eb.push(eg%256),eb.push(em);return eb}function tN(eu){return em.toByteArray(tC(eu))}function tR(eu,ed,eg,em){let eb;for(eb=0;eb<em&&!(eb+eg>=ed.length)&&!(eb>=eu.length);++eb)ed[eb+eg]=eu[eb];return eb}function tD(eu,ed){return eu instanceof ed||null!=eu&&null!=eu.constructor&&null!=eu.constructor.name&&eu.constructor.name===ed.name}function tB(eu){return eu!=eu}let tU=function(){let eu="0123456789abcdef",ed=Array(256);for(let eg=0;eg<16;++eg){let em=16*eg;for(let eb=0;eb<16;++eb)ed[em+eb]=eu[eg]+eu[eb]}return ed}();function tL(eu){return"undefined"==typeof BigInt?tj:eu}function tj(){throw Error("BigInt not supported")}},26744:function(eu){eu.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},29919:function(eu,ed,eg){"use strict";var em=eg(4090),eb=eg(49638),ew=eg(68418),e_=eg(36476);eu.exports=e_||em.call(ew,eb)},26497:function(eu,ed,eg){"use strict";var em=eg(4090),eb=eg(49638),ew=eg(29919);eu.exports=function(){return ew(em,eb,arguments)}},49638:function(eu){"use strict";eu.exports=Function.prototype.apply},68418:function(eu){"use strict";eu.exports=Function.prototype.call},68381:function(eu,ed,eg){"use strict";var em=eg(4090),eb=eg(5408),ew=eg(68418),e_=eg(29919);eu.exports=function(eu){if(eu.length<1||"function"!=typeof eu[0])throw new eb("a function is required");return e_(em,ew,eu)}},36476:function(eu){"use strict";eu.exports="undefined"!=typeof Reflect&&Reflect&&Reflect.apply},89429:function(eu,ed,eg){"use strict";var em=eg(47669),eb=eg(70999),ew=eg(68381),e_=eg(26497);eu.exports=function(eu){var ed=ew(arguments),eg=eu.length-(arguments.length-1);return em(ed,1+(eg>0?eg:0),!0)},eb?eb(eu.exports,"apply",{value:e_}):eu.exports.apply=e_},8435:function(eu,ed,eg){"use strict";var em=eg(67286),eb=eg(68381),ew=eb([em("%String.prototype.indexOf%")]);eu.exports=function(eu,ed){var eg=em(eu,!!ed);return"function"==typeof eg&&ew(eu,".prototype.")>-1?eb([eg]):eg}},5792:function(eu){var ed={utf8:{stringToBytes:function(eu){return ed.bin.stringToBytes(unescape(encodeURIComponent(eu)))},bytesToString:function(eu){return decodeURIComponent(escape(ed.bin.bytesToString(eu)))}},bin:{stringToBytes:function(eu){for(var ed=[],eg=0;eg<eu.length;eg++)ed.push(255&eu.charCodeAt(eg));return ed},bytesToString:function(eu){for(var ed=[],eg=0;eg<eu.length;eg++)ed.push(String.fromCharCode(eu[eg]));return ed.join("")}}};eu.exports=ed},13973:function(eu,ed,eg){"use strict";var em=eg(77834).Buffer,eb=eg(54851).Transform,ew=eg(30214).s;function e_(eu){eb.call(this),this.hashMode="string"==typeof eu,this.hashMode?this[eu]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}eg(91285)(e_,eb);var eE="undefined"!=typeof Uint8Array,eA="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&ArrayBuffer.isView&&(em.prototype instanceof Uint8Array||em.TYPED_ARRAY_SUPPORT);function eS(eu,ed){if(eu instanceof em)return eu;if("string"==typeof eu)return em.from(eu,ed);if(eA&&ArrayBuffer.isView(eu)){if(0===eu.byteLength)return em.alloc(0);var eg=em.from(eu.buffer,eu.byteOffset,eu.byteLength);if(eg.byteLength===eu.byteLength)return eg}if(eE&&eu instanceof Uint8Array||em.isBuffer(eu)&&eu.constructor&&"function"==typeof eu.constructor.isBuffer&&eu.constructor.isBuffer(eu))return em.from(eu);throw TypeError('The "data" argument must be of type string or an instance of Buffer, TypedArray, or DataView.')}e_.prototype.update=function(eu,ed,eg){var em=eS(eu,ed),eb=this._update(em);return this.hashMode?this:(eg&&(eb=this._toString(eb,eg)),eb)},e_.prototype.setAutoPadding=function(){},e_.prototype.getAuthTag=function(){throw Error("trying to get auth tag in unsupported state")},e_.prototype.setAuthTag=function(){throw Error("trying to set auth tag in unsupported state")},e_.prototype.setAAD=function(){throw Error("trying to set aad in unsupported state")},e_.prototype._transform=function(eu,ed,eg){var em;try{this.hashMode?this._update(eu):this.push(this._update(eu))}catch(eu){em=eu}finally{eg(em)}},e_.prototype._flush=function(eu){var ed;try{this.push(this.__final())}catch(eu){ed=eu}eu(ed)},e_.prototype._finalOrDigest=function(eu){var ed=this.__final()||em.alloc(0);return eu&&(ed=this._toString(ed,eu,!0)),ed},e_.prototype._toString=function(eu,ed,eg){if(this._decoder||(this._decoder=new ew(ed),this._encoding=ed),this._encoding!==ed)throw Error("cant switch encodings");var em=this._decoder.write(eu);return eg&&(em+=this._decoder.end()),em},eu.exports=e_},50381:function(eu,ed,eg){"use strict";var em=eg(91706),eb={"text/plain":"Text","text/html":"Url",default:"Text"},ew="Copy to clipboard: #{key}, Enter";function e_(eu){var ed=(/mac os x/i.test(navigator.userAgent)?"":"Ctrl")+"+C";return eu.replace(/#{\s*key\s*}/g,ed)}function eE(eu,ed){var eg,eE,eA,eS,eI,eC,eM=!1;ed||(ed={}),eg=ed.debug||!1;try{if(eA=em(),eS=document.createRange(),eI=document.getSelection(),(eC=document.createElement("span")).textContent=eu,eC.ariaHidden="true",eC.style.all="unset",eC.style.position="fixed",eC.style.top=0,eC.style.clip="rect(0, 0, 0, 0)",eC.style.whiteSpace="pre",eC.style.webkitUserSelect="text",eC.style.MozUserSelect="text",eC.style.msUserSelect="text",eC.style.userSelect="text",eC.addEventListener("copy",function(em){if(em.stopPropagation(),ed.format){if(em.preventDefault(),void 0===em.clipboardData){eg&&console.warn("unable to use e.clipboardData"),eg&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var ew=eb[ed.format]||eb.default;window.clipboardData.setData(ew,eu)}else em.clipboardData.clearData(),em.clipboardData.setData(ed.format,eu)}ed.onCopy&&(em.preventDefault(),ed.onCopy(em.clipboardData))}),document.body.appendChild(eC),eS.selectNodeContents(eC),eI.addRange(eS),!document.execCommand("copy"))throw Error("copy command was unsuccessful");eM=!0}catch(em){eg&&console.error("unable to copy using execCommand: ",em),eg&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(ed.format||"text",eu),ed.onCopy&&ed.onCopy(window.clipboardData),eM=!0}catch(em){eg&&console.error("unable to copy using clipboardData: ",em),eg&&console.error("falling back to prompt"),eE=e_("message"in ed?ed.message:ew),window.prompt(eE,eu)}}finally{eI&&("function"==typeof eI.removeRange?eI.removeRange(eS):eI.removeAllRanges()),eC&&document.body.removeChild(eC),eA()}return eM}eu.exports=eE},7646:function(eu,ed,eg){function em(eu){return Array.isArray?Array.isArray(eu):"[object Array]"===ek(eu)}function eb(eu){return"boolean"==typeof eu}function ew(eu){return null===eu}function e_(eu){return null==eu}function eE(eu){return"number"==typeof eu}function eA(eu){return"string"==typeof eu}function eS(eu){return"symbol"==typeof eu}function eI(eu){return void 0===eu}function eC(eu){return"[object RegExp]"===ek(eu)}function eM(eu){return"object"==typeof eu&&null!==eu}function eO(eu){return"[object Date]"===ek(eu)}function eT(eu){return"[object Error]"===ek(eu)||eu instanceof Error}function eP(eu){return"function"==typeof eu}function eN(eu){return null===eu||"boolean"==typeof eu||"number"==typeof eu||"string"==typeof eu||"symbol"==typeof eu||void 0===eu}function ek(eu){return Object.prototype.toString.call(eu)}ed.isArray=em,ed.isBoolean=eb,ed.isNull=ew,ed.isNullOrUndefined=e_,ed.isNumber=eE,ed.isString=eA,ed.isSymbol=eS,ed.isUndefined=eI,ed.isRegExp=eC,ed.isObject=eM,ed.isDate=eO,ed.isError=eT,ed.isFunction=eP,ed.isPrimitive=eN,ed.isBuffer=eg(48834).Buffer.isBuffer},95363:function(eu,ed,eg){var em=eg(48834).Buffer,eb=eg(87554),ew=eg(59239);eu.exports=function(eu){return new eE(eu)};var e_={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function eE(eu){this.curveType=e_[eu],this.curveType||(this.curveType={name:eu}),this.curve=new eb.ec(this.curveType.name),this.keys=void 0}function eA(eu,ed,eg){Array.isArray(eu)||(eu=eu.toArray());var eb=new em(eu);if(eg&&eb.length<eg){var ew=new em(eg-eb.length);ew.fill(0),eb=em.concat([ew,eb])}return ed?eb.toString(ed):eb}e_.p224=e_.secp224r1,e_.p256=e_.secp256r1=e_.prime256v1,e_.p192=e_.secp192r1=e_.prime192v1,e_.p384=e_.secp384r1,e_.p521=e_.secp521r1,eE.prototype.generateKeys=function(eu,ed){return this.keys=this.curve.genKeyPair(),this.getPublicKey(eu,ed)},eE.prototype.computeSecret=function(eu,ed,eg){return ed=ed||"utf8",em.isBuffer(eu)||(eu=new em(eu,ed)),eA(this.curve.keyFromPublic(eu).getPublic().mul(this.keys.getPrivate()).getX(),eg,this.curveType.byteLength)},eE.prototype.getPublicKey=function(eu,ed){var eg=this.keys.getPublic("compressed"===ed,!0);return"hybrid"===ed&&(eg[eg.length-1]%2?eg[0]=7:eg[0]=6),eA(eg,eu)},eE.prototype.getPrivateKey=function(eu){return eA(this.keys.getPrivate(),eu)},eE.prototype.setPublicKey=function(eu,ed){return ed=ed||"utf8",em.isBuffer(eu)||(eu=new em(eu,ed)),this.keys._importPublic(eu),this},eE.prototype.setPrivateKey=function(eu,ed){ed=ed||"utf8",em.isBuffer(eu)||(eu=new em(eu,ed));var eg=new ew(eu);return eg=eg.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(eg),this}},59239:function(eu,ed,eg){!function(eu,ed){"use strict";function em(eu,ed){if(!eu)throw Error(ed||"Assertion failed")}function eb(eu,ed){eu.super_=ed;var eg=function(){};eg.prototype=ed.prototype,eu.prototype=new eg,eu.prototype.constructor=eu}function ew(eu,ed,eg){if(ew.isBN(eu))return eu;this.negative=0,this.words=null,this.length=0,this.red=null,null!==eu&&(("le"===ed||"be"===ed)&&(eg=ed,ed=10),this._init(eu||0,ed||10,eg||"be"))}"object"==typeof eu?eu.exports=ew:ed.BN=ew,ew.BN=ew,ew.wordSize=26;try{eS="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:eg(30633).Buffer}catch(eu){}function e_(eu,ed){var eg=eu.charCodeAt(ed);return eg>=65&&eg<=70?eg-55:eg>=97&&eg<=102?eg-87:eg-48&15}function eE(eu,ed,eg){var em=e_(eu,eg);return eg-1>=ed&&(em|=e_(eu,eg-1)<<4),em}function eA(eu,ed,eg,em){for(var eb=0,ew=Math.min(eu.length,eg),e_=ed;e_<ew;e_++){var eE=eu.charCodeAt(e_)-48;eb*=em,eE>=49?eb+=eE-49+10:eE>=17?eb+=eE-17+10:eb+=eE}return eb}ew.isBN=function(eu){return eu instanceof ew||null!==eu&&"object"==typeof eu&&eu.constructor.wordSize===ew.wordSize&&Array.isArray(eu.words)},ew.max=function(eu,ed){return eu.cmp(ed)>0?eu:ed},ew.min=function(eu,ed){return 0>eu.cmp(ed)?eu:ed},ew.prototype._init=function(eu,ed,eg){if("number"==typeof eu)return this._initNumber(eu,ed,eg);if("object"==typeof eu)return this._initArray(eu,ed,eg);"hex"===ed&&(ed=16),em(ed===(0|ed)&&ed>=2&&ed<=36);var eb=0;"-"===(eu=eu.toString().replace(/\s+/g,""))[0]&&(eb++,this.negative=1),eb<eu.length&&(16===ed?this._parseHex(eu,eb,eg):(this._parseBase(eu,ed,eb),"le"===eg&&this._initArray(this.toArray(),ed,eg)))},ew.prototype._initNumber=function(eu,ed,eg){eu<0&&(this.negative=1,eu=-eu),eu<67108864?(this.words=[67108863&eu],this.length=1):eu<4503599627370496?(this.words=[67108863&eu,eu/67108864&67108863],this.length=2):(em(eu<9007199254740992),this.words=[67108863&eu,eu/67108864&67108863,1],this.length=3),"le"===eg&&this._initArray(this.toArray(),ed,eg)},ew.prototype._initArray=function(eu,ed,eg){if(em("number"==typeof eu.length),eu.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(eu.length/3),this.words=Array(this.length);for(var eb,ew,e_=0;e_<this.length;e_++)this.words[e_]=0;var eE=0;if("be"===eg)for(e_=eu.length-1,eb=0;e_>=0;e_-=3)ew=eu[e_]|eu[e_-1]<<8|eu[e_-2]<<16,this.words[eb]|=ew<<eE&67108863,this.words[eb+1]=ew>>>26-eE&67108863,(eE+=24)>=26&&(eE-=26,eb++);else if("le"===eg)for(e_=0,eb=0;e_<eu.length;e_+=3)ew=eu[e_]|eu[e_+1]<<8|eu[e_+2]<<16,this.words[eb]|=ew<<eE&67108863,this.words[eb+1]=ew>>>26-eE&67108863,(eE+=24)>=26&&(eE-=26,eb++);return this.strip()},ew.prototype._parseHex=function(eu,ed,eg){this.length=Math.ceil((eu.length-ed)/6),this.words=Array(this.length);for(var em,eb=0;eb<this.length;eb++)this.words[eb]=0;var ew=0,e_=0;if("be"===eg)for(eb=eu.length-1;eb>=ed;eb-=2)em=eE(eu,ed,eb)<<ew,this.words[e_]|=67108863&em,ew>=18?(ew-=18,e_+=1,this.words[e_]|=em>>>26):ew+=8;else for(eb=(eu.length-ed)%2==0?ed+1:ed;eb<eu.length;eb+=2)em=eE(eu,ed,eb)<<ew,this.words[e_]|=67108863&em,ew>=18?(ew-=18,e_+=1,this.words[e_]|=em>>>26):ew+=8;this.strip()},ew.prototype._parseBase=function(eu,ed,eg){this.words=[0],this.length=1;for(var em=0,eb=1;eb<=67108863;eb*=ed)em++;em--,eb=eb/ed|0;for(var ew=eu.length-eg,e_=ew%em,eE=Math.min(ew,ew-e_)+eg,eS=0,eI=eg;eI<eE;eI+=em)eS=eA(eu,eI,eI+em,ed),this.imuln(eb),this.words[0]+eS<67108864?this.words[0]+=eS:this._iaddn(eS);if(0!==e_){var eC=1;for(eS=eA(eu,eI,eu.length,ed),eI=0;eI<e_;eI++)eC*=ed;this.imuln(eC),this.words[0]+eS<67108864?this.words[0]+=eS:this._iaddn(eS)}this.strip()},ew.prototype.copy=function(eu){eu.words=Array(this.length);for(var ed=0;ed<this.length;ed++)eu.words[ed]=this.words[ed];eu.length=this.length,eu.negative=this.negative,eu.red=this.red},ew.prototype.clone=function(){var eu=new ew(null);return this.copy(eu),eu},ew.prototype._expand=function(eu){for(;this.length<eu;)this.words[this.length++]=0;return this},ew.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},ew.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},ew.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var eS,eI=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],eC=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],eM=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function eO(eu){for(var ed=Array(eu.bitLength()),eg=0;eg<ed.length;eg++){var em=eg/26|0,eb=eg%26;ed[eg]=(eu.words[em]&1<<eb)>>>eb}return ed}function eT(eu,ed,eg){eg.negative=ed.negative^eu.negative;var em=eu.length+ed.length|0;eg.length=em,em=em-1|0;var eb=0|eu.words[0],ew=0|ed.words[0],e_=eb*ew,eE=67108863&e_,eA=e_/67108864|0;eg.words[0]=eE;for(var eS=1;eS<em;eS++){for(var eI=eA>>>26,eC=67108863&eA,eM=Math.min(eS,ed.length-1),eO=Math.max(0,eS-eu.length+1);eO<=eM;eO++){var eT=eS-eO|0;eI+=(e_=(eb=0|eu.words[eT])*(ew=0|ed.words[eO])+eC)/67108864|0,eC=67108863&e_}eg.words[eS]=0|eC,eA=0|eI}return 0!==eA?eg.words[eS]=0|eA:eg.length--,eg.strip()}ew.prototype.toString=function(eu,ed){if(ed=0|ed||1,16===(eu=eu||10)||"hex"===eu){eg="";for(var eg,eb=0,ew=0,e_=0;e_<this.length;e_++){var eE=this.words[e_],eA=((eE<<eb|ew)&16777215).toString(16);ew=eE>>>24-eb&16777215,(eb+=2)>=26&&(eb-=26,e_--),eg=0!==ew||e_!==this.length-1?eI[6-eA.length]+eA+eg:eA+eg}for(0!==ew&&(eg=ew.toString(16)+eg);eg.length%ed!=0;)eg="0"+eg;return 0!==this.negative&&(eg="-"+eg),eg}if(eu===(0|eu)&&eu>=2&&eu<=36){var eS=eC[eu],eO=eM[eu];eg="";var eT=this.clone();for(eT.negative=0;!eT.isZero();){var eP=eT.modn(eO).toString(eu);eg=(eT=eT.idivn(eO)).isZero()?eP+eg:eI[eS-eP.length]+eP+eg}for(this.isZero()&&(eg="0"+eg);eg.length%ed!=0;)eg="0"+eg;return 0!==this.negative&&(eg="-"+eg),eg}em(!1,"Base should be between 2 and 36")},ew.prototype.toNumber=function(){var eu=this.words[0];return 2===this.length?eu+=67108864*this.words[1]:3===this.length&&1===this.words[2]?eu+=4503599627370496+67108864*this.words[1]:this.length>2&&em(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-eu:eu},ew.prototype.toJSON=function(){return this.toString(16)},ew.prototype.toBuffer=function(eu,ed){return em(void 0!==eS),this.toArrayLike(eS,eu,ed)},ew.prototype.toArray=function(eu,ed){return this.toArrayLike(Array,eu,ed)},ew.prototype.toArrayLike=function(eu,ed,eg){var eb,ew,e_=this.byteLength(),eE=eg||Math.max(1,e_);em(e_<=eE,"byte array longer than desired length"),em(eE>0,"Requested array length <= 0"),this.strip();var eA="le"===ed,eS=new eu(eE),eI=this.clone();if(eA){for(ew=0;!eI.isZero();ew++)eb=eI.andln(255),eI.iushrn(8),eS[ew]=eb;for(;ew<eE;ew++)eS[ew]=0}else{for(ew=0;ew<eE-e_;ew++)eS[ew]=0;for(ew=0;!eI.isZero();ew++)eb=eI.andln(255),eI.iushrn(8),eS[eE-ew-1]=eb}return eS},Math.clz32?ew.prototype._countBits=function(eu){return 32-Math.clz32(eu)}:ew.prototype._countBits=function(eu){var ed=eu,eg=0;return ed>=4096&&(eg+=13,ed>>>=13),ed>=64&&(eg+=7,ed>>>=7),ed>=8&&(eg+=4,ed>>>=4),ed>=2&&(eg+=2,ed>>>=2),eg+ed},ew.prototype._zeroBits=function(eu){if(0===eu)return 26;var ed=eu,eg=0;return(8191&ed)==0&&(eg+=13,ed>>>=13),(127&ed)==0&&(eg+=7,ed>>>=7),(15&ed)==0&&(eg+=4,ed>>>=4),(3&ed)==0&&(eg+=2,ed>>>=2),(1&ed)==0&&eg++,eg},ew.prototype.bitLength=function(){var eu=this.words[this.length-1],ed=this._countBits(eu);return(this.length-1)*26+ed},ew.prototype.zeroBits=function(){if(this.isZero())return 0;for(var eu=0,ed=0;ed<this.length;ed++){var eg=this._zeroBits(this.words[ed]);if(eu+=eg,26!==eg)break}return eu},ew.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},ew.prototype.toTwos=function(eu){return 0!==this.negative?this.abs().inotn(eu).iaddn(1):this.clone()},ew.prototype.fromTwos=function(eu){return this.testn(eu-1)?this.notn(eu).iaddn(1).ineg():this.clone()},ew.prototype.isNeg=function(){return 0!==this.negative},ew.prototype.neg=function(){return this.clone().ineg()},ew.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},ew.prototype.iuor=function(eu){for(;this.length<eu.length;)this.words[this.length++]=0;for(var ed=0;ed<eu.length;ed++)this.words[ed]=this.words[ed]|eu.words[ed];return this.strip()},ew.prototype.ior=function(eu){return em((this.negative|eu.negative)==0),this.iuor(eu)},ew.prototype.or=function(eu){return this.length>eu.length?this.clone().ior(eu):eu.clone().ior(this)},ew.prototype.uor=function(eu){return this.length>eu.length?this.clone().iuor(eu):eu.clone().iuor(this)},ew.prototype.iuand=function(eu){var ed;ed=this.length>eu.length?eu:this;for(var eg=0;eg<ed.length;eg++)this.words[eg]=this.words[eg]&eu.words[eg];return this.length=ed.length,this.strip()},ew.prototype.iand=function(eu){return em((this.negative|eu.negative)==0),this.iuand(eu)},ew.prototype.and=function(eu){return this.length>eu.length?this.clone().iand(eu):eu.clone().iand(this)},ew.prototype.uand=function(eu){return this.length>eu.length?this.clone().iuand(eu):eu.clone().iuand(this)},ew.prototype.iuxor=function(eu){this.length>eu.length?(ed=this,eg=eu):(ed=eu,eg=this);for(var ed,eg,em=0;em<eg.length;em++)this.words[em]=ed.words[em]^eg.words[em];if(this!==ed)for(;em<ed.length;em++)this.words[em]=ed.words[em];return this.length=ed.length,this.strip()},ew.prototype.ixor=function(eu){return em((this.negative|eu.negative)==0),this.iuxor(eu)},ew.prototype.xor=function(eu){return this.length>eu.length?this.clone().ixor(eu):eu.clone().ixor(this)},ew.prototype.uxor=function(eu){return this.length>eu.length?this.clone().iuxor(eu):eu.clone().iuxor(this)},ew.prototype.inotn=function(eu){em("number"==typeof eu&&eu>=0);var ed=0|Math.ceil(eu/26),eg=eu%26;this._expand(ed),eg>0&&ed--;for(var eb=0;eb<ed;eb++)this.words[eb]=67108863&~this.words[eb];return eg>0&&(this.words[eb]=~this.words[eb]&67108863>>26-eg),this.strip()},ew.prototype.notn=function(eu){return this.clone().inotn(eu)},ew.prototype.setn=function(eu,ed){em("number"==typeof eu&&eu>=0);var eg=eu/26|0,eb=eu%26;return this._expand(eg+1),ed?this.words[eg]=this.words[eg]|1<<eb:this.words[eg]=this.words[eg]&~(1<<eb),this.strip()},ew.prototype.iadd=function(eu){if(0!==this.negative&&0===eu.negative)return this.negative=0,ed=this.isub(eu),this.negative^=1,this._normSign();if(0===this.negative&&0!==eu.negative)return eu.negative=0,ed=this.isub(eu),eu.negative=1,ed._normSign();this.length>eu.length?(eg=this,em=eu):(eg=eu,em=this);for(var ed,eg,em,eb=0,ew=0;ew<em.length;ew++)ed=(0|eg.words[ew])+(0|em.words[ew])+eb,this.words[ew]=67108863&ed,eb=ed>>>26;for(;0!==eb&&ew<eg.length;ew++)ed=(0|eg.words[ew])+eb,this.words[ew]=67108863&ed,eb=ed>>>26;if(this.length=eg.length,0!==eb)this.words[this.length]=eb,this.length++;else if(eg!==this)for(;ew<eg.length;ew++)this.words[ew]=eg.words[ew];return this},ew.prototype.add=function(eu){var ed;return 0!==eu.negative&&0===this.negative?(eu.negative=0,ed=this.sub(eu),eu.negative^=1,ed):0===eu.negative&&0!==this.negative?(this.negative=0,ed=eu.sub(this),this.negative=1,ed):this.length>eu.length?this.clone().iadd(eu):eu.clone().iadd(this)},ew.prototype.isub=function(eu){if(0!==eu.negative){eu.negative=0;var ed,eg,em=this.iadd(eu);return eu.negative=1,em._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(eu),this.negative=1,this._normSign();var eb=this.cmp(eu);if(0===eb)return this.negative=0,this.length=1,this.words[0]=0,this;eb>0?(ed=this,eg=eu):(ed=eu,eg=this);for(var ew=0,e_=0;e_<eg.length;e_++)ew=(em=(0|ed.words[e_])-(0|eg.words[e_])+ew)>>26,this.words[e_]=67108863&em;for(;0!==ew&&e_<ed.length;e_++)ew=(em=(0|ed.words[e_])+ew)>>26,this.words[e_]=67108863&em;if(0===ew&&e_<ed.length&&ed!==this)for(;e_<ed.length;e_++)this.words[e_]=ed.words[e_];return this.length=Math.max(this.length,e_),ed!==this&&(this.negative=1),this.strip()},ew.prototype.sub=function(eu){return this.clone().isub(eu)};var eP=function(eu,ed,eg){var em,eb,ew,e_=eu.words,eE=ed.words,eA=eg.words,eS=0,eI=0|e_[0],eC=8191&eI,eM=eI>>>13,eO=0|e_[1],eT=8191&eO,eP=eO>>>13,eN=0|e_[2],ek=8191&eN,eR=eN>>>13,eD=0|e_[3],eB=8191&eD,eU=eD>>>13,eL=0|e_[4],ej=8191&eL,eF=eL>>>13,e$=0|e_[5],eK=8191&e$,eH=e$>>>13,eV=0|e_[6],eG=8191&eV,eW=eV>>>13,eJ=0|e_[7],eZ=8191&eJ,eY=eJ>>>13,eX=0|e_[8],eQ=8191&eX,e0=eX>>>13,e6=0|e_[9],e8=8191&e6,e5=e6>>>13,e9=0|eE[0],e7=8191&e9,tu=e9>>>13,th=0|eE[1],td=8191&th,tg=th>>>13,ty=0|eE[2],tb=8191&ty,tw=ty>>>13,t_=0|eE[3],tE=8191&t_,tA=t_>>>13,tS=0|eE[4],tI=8191&tS,tC=tS>>>13,tO=0|eE[5],tT=8191&tO,tP=tO>>>13,tN=0|eE[6],tR=8191&tN,tD=tN>>>13,tB=0|eE[7],tU=8191&tB,tL=tB>>>13,tj=0|eE[8],tF=8191&tj,t$=tj>>>13,tK=0|eE[9],tq=8191&tK,tz=tK>>>13;eg.negative=eu.negative^ed.negative,eg.length=19;var tH=(eS+(em=Math.imul(eC,e7))|0)+((8191&(eb=(eb=Math.imul(eC,tu))+Math.imul(eM,e7)|0))<<13)|0;eS=((ew=Math.imul(eM,tu))+(eb>>>13)|0)+(tH>>>26)|0,tH&=67108863,em=Math.imul(eT,e7),eb=(eb=Math.imul(eT,tu))+Math.imul(eP,e7)|0,ew=Math.imul(eP,tu);var tV=(eS+(em=em+Math.imul(eC,td)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eC,tg)|0)+Math.imul(eM,td)|0))<<13)|0;eS=((ew=ew+Math.imul(eM,tg)|0)+(eb>>>13)|0)+(tV>>>26)|0,tV&=67108863,em=Math.imul(ek,e7),eb=(eb=Math.imul(ek,tu))+Math.imul(eR,e7)|0,ew=Math.imul(eR,tu),em=em+Math.imul(eT,td)|0,eb=(eb=eb+Math.imul(eT,tg)|0)+Math.imul(eP,td)|0,ew=ew+Math.imul(eP,tg)|0;var tG=(eS+(em=em+Math.imul(eC,tb)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eC,tw)|0)+Math.imul(eM,tb)|0))<<13)|0;eS=((ew=ew+Math.imul(eM,tw)|0)+(eb>>>13)|0)+(tG>>>26)|0,tG&=67108863,em=Math.imul(eB,e7),eb=(eb=Math.imul(eB,tu))+Math.imul(eU,e7)|0,ew=Math.imul(eU,tu),em=em+Math.imul(ek,td)|0,eb=(eb=eb+Math.imul(ek,tg)|0)+Math.imul(eR,td)|0,ew=ew+Math.imul(eR,tg)|0,em=em+Math.imul(eT,tb)|0,eb=(eb=eb+Math.imul(eT,tw)|0)+Math.imul(eP,tb)|0,ew=ew+Math.imul(eP,tw)|0;var tW=(eS+(em=em+Math.imul(eC,tE)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eC,tA)|0)+Math.imul(eM,tE)|0))<<13)|0;eS=((ew=ew+Math.imul(eM,tA)|0)+(eb>>>13)|0)+(tW>>>26)|0,tW&=67108863,em=Math.imul(ej,e7),eb=(eb=Math.imul(ej,tu))+Math.imul(eF,e7)|0,ew=Math.imul(eF,tu),em=em+Math.imul(eB,td)|0,eb=(eb=eb+Math.imul(eB,tg)|0)+Math.imul(eU,td)|0,ew=ew+Math.imul(eU,tg)|0,em=em+Math.imul(ek,tb)|0,eb=(eb=eb+Math.imul(ek,tw)|0)+Math.imul(eR,tb)|0,ew=ew+Math.imul(eR,tw)|0,em=em+Math.imul(eT,tE)|0,eb=(eb=eb+Math.imul(eT,tA)|0)+Math.imul(eP,tE)|0,ew=ew+Math.imul(eP,tA)|0;var tJ=(eS+(em=em+Math.imul(eC,tI)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eC,tC)|0)+Math.imul(eM,tI)|0))<<13)|0;eS=((ew=ew+Math.imul(eM,tC)|0)+(eb>>>13)|0)+(tJ>>>26)|0,tJ&=67108863,em=Math.imul(eK,e7),eb=(eb=Math.imul(eK,tu))+Math.imul(eH,e7)|0,ew=Math.imul(eH,tu),em=em+Math.imul(ej,td)|0,eb=(eb=eb+Math.imul(ej,tg)|0)+Math.imul(eF,td)|0,ew=ew+Math.imul(eF,tg)|0,em=em+Math.imul(eB,tb)|0,eb=(eb=eb+Math.imul(eB,tw)|0)+Math.imul(eU,tb)|0,ew=ew+Math.imul(eU,tw)|0,em=em+Math.imul(ek,tE)|0,eb=(eb=eb+Math.imul(ek,tA)|0)+Math.imul(eR,tE)|0,ew=ew+Math.imul(eR,tA)|0,em=em+Math.imul(eT,tI)|0,eb=(eb=eb+Math.imul(eT,tC)|0)+Math.imul(eP,tI)|0,ew=ew+Math.imul(eP,tC)|0;var tZ=(eS+(em=em+Math.imul(eC,tT)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eC,tP)|0)+Math.imul(eM,tT)|0))<<13)|0;eS=((ew=ew+Math.imul(eM,tP)|0)+(eb>>>13)|0)+(tZ>>>26)|0,tZ&=67108863,em=Math.imul(eG,e7),eb=(eb=Math.imul(eG,tu))+Math.imul(eW,e7)|0,ew=Math.imul(eW,tu),em=em+Math.imul(eK,td)|0,eb=(eb=eb+Math.imul(eK,tg)|0)+Math.imul(eH,td)|0,ew=ew+Math.imul(eH,tg)|0,em=em+Math.imul(ej,tb)|0,eb=(eb=eb+Math.imul(ej,tw)|0)+Math.imul(eF,tb)|0,ew=ew+Math.imul(eF,tw)|0,em=em+Math.imul(eB,tE)|0,eb=(eb=eb+Math.imul(eB,tA)|0)+Math.imul(eU,tE)|0,ew=ew+Math.imul(eU,tA)|0,em=em+Math.imul(ek,tI)|0,eb=(eb=eb+Math.imul(ek,tC)|0)+Math.imul(eR,tI)|0,ew=ew+Math.imul(eR,tC)|0,em=em+Math.imul(eT,tT)|0,eb=(eb=eb+Math.imul(eT,tP)|0)+Math.imul(eP,tT)|0,ew=ew+Math.imul(eP,tP)|0;var tY=(eS+(em=em+Math.imul(eC,tR)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eC,tD)|0)+Math.imul(eM,tR)|0))<<13)|0;eS=((ew=ew+Math.imul(eM,tD)|0)+(eb>>>13)|0)+(tY>>>26)|0,tY&=67108863,em=Math.imul(eZ,e7),eb=(eb=Math.imul(eZ,tu))+Math.imul(eY,e7)|0,ew=Math.imul(eY,tu),em=em+Math.imul(eG,td)|0,eb=(eb=eb+Math.imul(eG,tg)|0)+Math.imul(eW,td)|0,ew=ew+Math.imul(eW,tg)|0,em=em+Math.imul(eK,tb)|0,eb=(eb=eb+Math.imul(eK,tw)|0)+Math.imul(eH,tb)|0,ew=ew+Math.imul(eH,tw)|0,em=em+Math.imul(ej,tE)|0,eb=(eb=eb+Math.imul(ej,tA)|0)+Math.imul(eF,tE)|0,ew=ew+Math.imul(eF,tA)|0,em=em+Math.imul(eB,tI)|0,eb=(eb=eb+Math.imul(eB,tC)|0)+Math.imul(eU,tI)|0,ew=ew+Math.imul(eU,tC)|0,em=em+Math.imul(ek,tT)|0,eb=(eb=eb+Math.imul(ek,tP)|0)+Math.imul(eR,tT)|0,ew=ew+Math.imul(eR,tP)|0,em=em+Math.imul(eT,tR)|0,eb=(eb=eb+Math.imul(eT,tD)|0)+Math.imul(eP,tR)|0,ew=ew+Math.imul(eP,tD)|0;var tX=(eS+(em=em+Math.imul(eC,tU)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eC,tL)|0)+Math.imul(eM,tU)|0))<<13)|0;eS=((ew=ew+Math.imul(eM,tL)|0)+(eb>>>13)|0)+(tX>>>26)|0,tX&=67108863,em=Math.imul(eQ,e7),eb=(eb=Math.imul(eQ,tu))+Math.imul(e0,e7)|0,ew=Math.imul(e0,tu),em=em+Math.imul(eZ,td)|0,eb=(eb=eb+Math.imul(eZ,tg)|0)+Math.imul(eY,td)|0,ew=ew+Math.imul(eY,tg)|0,em=em+Math.imul(eG,tb)|0,eb=(eb=eb+Math.imul(eG,tw)|0)+Math.imul(eW,tb)|0,ew=ew+Math.imul(eW,tw)|0,em=em+Math.imul(eK,tE)|0,eb=(eb=eb+Math.imul(eK,tA)|0)+Math.imul(eH,tE)|0,ew=ew+Math.imul(eH,tA)|0,em=em+Math.imul(ej,tI)|0,eb=(eb=eb+Math.imul(ej,tC)|0)+Math.imul(eF,tI)|0,ew=ew+Math.imul(eF,tC)|0,em=em+Math.imul(eB,tT)|0,eb=(eb=eb+Math.imul(eB,tP)|0)+Math.imul(eU,tT)|0,ew=ew+Math.imul(eU,tP)|0,em=em+Math.imul(ek,tR)|0,eb=(eb=eb+Math.imul(ek,tD)|0)+Math.imul(eR,tR)|0,ew=ew+Math.imul(eR,tD)|0,em=em+Math.imul(eT,tU)|0,eb=(eb=eb+Math.imul(eT,tL)|0)+Math.imul(eP,tU)|0,ew=ew+Math.imul(eP,tL)|0;var tQ=(eS+(em=em+Math.imul(eC,tF)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eC,t$)|0)+Math.imul(eM,tF)|0))<<13)|0;eS=((ew=ew+Math.imul(eM,t$)|0)+(eb>>>13)|0)+(tQ>>>26)|0,tQ&=67108863,em=Math.imul(e8,e7),eb=(eb=Math.imul(e8,tu))+Math.imul(e5,e7)|0,ew=Math.imul(e5,tu),em=em+Math.imul(eQ,td)|0,eb=(eb=eb+Math.imul(eQ,tg)|0)+Math.imul(e0,td)|0,ew=ew+Math.imul(e0,tg)|0,em=em+Math.imul(eZ,tb)|0,eb=(eb=eb+Math.imul(eZ,tw)|0)+Math.imul(eY,tb)|0,ew=ew+Math.imul(eY,tw)|0,em=em+Math.imul(eG,tE)|0,eb=(eb=eb+Math.imul(eG,tA)|0)+Math.imul(eW,tE)|0,ew=ew+Math.imul(eW,tA)|0,em=em+Math.imul(eK,tI)|0,eb=(eb=eb+Math.imul(eK,tC)|0)+Math.imul(eH,tI)|0,ew=ew+Math.imul(eH,tC)|0,em=em+Math.imul(ej,tT)|0,eb=(eb=eb+Math.imul(ej,tP)|0)+Math.imul(eF,tT)|0,ew=ew+Math.imul(eF,tP)|0,em=em+Math.imul(eB,tR)|0,eb=(eb=eb+Math.imul(eB,tD)|0)+Math.imul(eU,tR)|0,ew=ew+Math.imul(eU,tD)|0,em=em+Math.imul(ek,tU)|0,eb=(eb=eb+Math.imul(ek,tL)|0)+Math.imul(eR,tU)|0,ew=ew+Math.imul(eR,tL)|0,em=em+Math.imul(eT,tF)|0,eb=(eb=eb+Math.imul(eT,t$)|0)+Math.imul(eP,tF)|0,ew=ew+Math.imul(eP,t$)|0;var t6=(eS+(em=em+Math.imul(eC,tq)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eC,tz)|0)+Math.imul(eM,tq)|0))<<13)|0;eS=((ew=ew+Math.imul(eM,tz)|0)+(eb>>>13)|0)+(t6>>>26)|0,t6&=67108863,em=Math.imul(e8,td),eb=(eb=Math.imul(e8,tg))+Math.imul(e5,td)|0,ew=Math.imul(e5,tg),em=em+Math.imul(eQ,tb)|0,eb=(eb=eb+Math.imul(eQ,tw)|0)+Math.imul(e0,tb)|0,ew=ew+Math.imul(e0,tw)|0,em=em+Math.imul(eZ,tE)|0,eb=(eb=eb+Math.imul(eZ,tA)|0)+Math.imul(eY,tE)|0,ew=ew+Math.imul(eY,tA)|0,em=em+Math.imul(eG,tI)|0,eb=(eb=eb+Math.imul(eG,tC)|0)+Math.imul(eW,tI)|0,ew=ew+Math.imul(eW,tC)|0,em=em+Math.imul(eK,tT)|0,eb=(eb=eb+Math.imul(eK,tP)|0)+Math.imul(eH,tT)|0,ew=ew+Math.imul(eH,tP)|0,em=em+Math.imul(ej,tR)|0,eb=(eb=eb+Math.imul(ej,tD)|0)+Math.imul(eF,tR)|0,ew=ew+Math.imul(eF,tD)|0,em=em+Math.imul(eB,tU)|0,eb=(eb=eb+Math.imul(eB,tL)|0)+Math.imul(eU,tU)|0,ew=ew+Math.imul(eU,tL)|0,em=em+Math.imul(ek,tF)|0,eb=(eb=eb+Math.imul(ek,t$)|0)+Math.imul(eR,tF)|0,ew=ew+Math.imul(eR,t$)|0;var t8=(eS+(em=em+Math.imul(eT,tq)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eT,tz)|0)+Math.imul(eP,tq)|0))<<13)|0;eS=((ew=ew+Math.imul(eP,tz)|0)+(eb>>>13)|0)+(t8>>>26)|0,t8&=67108863,em=Math.imul(e8,tb),eb=(eb=Math.imul(e8,tw))+Math.imul(e5,tb)|0,ew=Math.imul(e5,tw),em=em+Math.imul(eQ,tE)|0,eb=(eb=eb+Math.imul(eQ,tA)|0)+Math.imul(e0,tE)|0,ew=ew+Math.imul(e0,tA)|0,em=em+Math.imul(eZ,tI)|0,eb=(eb=eb+Math.imul(eZ,tC)|0)+Math.imul(eY,tI)|0,ew=ew+Math.imul(eY,tC)|0,em=em+Math.imul(eG,tT)|0,eb=(eb=eb+Math.imul(eG,tP)|0)+Math.imul(eW,tT)|0,ew=ew+Math.imul(eW,tP)|0,em=em+Math.imul(eK,tR)|0,eb=(eb=eb+Math.imul(eK,tD)|0)+Math.imul(eH,tR)|0,ew=ew+Math.imul(eH,tD)|0,em=em+Math.imul(ej,tU)|0,eb=(eb=eb+Math.imul(ej,tL)|0)+Math.imul(eF,tU)|0,ew=ew+Math.imul(eF,tL)|0,em=em+Math.imul(eB,tF)|0,eb=(eb=eb+Math.imul(eB,t$)|0)+Math.imul(eU,tF)|0,ew=ew+Math.imul(eU,t$)|0;var t5=(eS+(em=em+Math.imul(ek,tq)|0)|0)+((8191&(eb=(eb=eb+Math.imul(ek,tz)|0)+Math.imul(eR,tq)|0))<<13)|0;eS=((ew=ew+Math.imul(eR,tz)|0)+(eb>>>13)|0)+(t5>>>26)|0,t5&=67108863,em=Math.imul(e8,tE),eb=(eb=Math.imul(e8,tA))+Math.imul(e5,tE)|0,ew=Math.imul(e5,tA),em=em+Math.imul(eQ,tI)|0,eb=(eb=eb+Math.imul(eQ,tC)|0)+Math.imul(e0,tI)|0,ew=ew+Math.imul(e0,tC)|0,em=em+Math.imul(eZ,tT)|0,eb=(eb=eb+Math.imul(eZ,tP)|0)+Math.imul(eY,tT)|0,ew=ew+Math.imul(eY,tP)|0,em=em+Math.imul(eG,tR)|0,eb=(eb=eb+Math.imul(eG,tD)|0)+Math.imul(eW,tR)|0,ew=ew+Math.imul(eW,tD)|0,em=em+Math.imul(eK,tU)|0,eb=(eb=eb+Math.imul(eK,tL)|0)+Math.imul(eH,tU)|0,ew=ew+Math.imul(eH,tL)|0,em=em+Math.imul(ej,tF)|0,eb=(eb=eb+Math.imul(ej,t$)|0)+Math.imul(eF,tF)|0,ew=ew+Math.imul(eF,t$)|0;var t4=(eS+(em=em+Math.imul(eB,tq)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eB,tz)|0)+Math.imul(eU,tq)|0))<<13)|0;eS=((ew=ew+Math.imul(eU,tz)|0)+(eb>>>13)|0)+(t4>>>26)|0,t4&=67108863,em=Math.imul(e8,tI),eb=(eb=Math.imul(e8,tC))+Math.imul(e5,tI)|0,ew=Math.imul(e5,tC),em=em+Math.imul(eQ,tT)|0,eb=(eb=eb+Math.imul(eQ,tP)|0)+Math.imul(e0,tT)|0,ew=ew+Math.imul(e0,tP)|0,em=em+Math.imul(eZ,tR)|0,eb=(eb=eb+Math.imul(eZ,tD)|0)+Math.imul(eY,tR)|0,ew=ew+Math.imul(eY,tD)|0,em=em+Math.imul(eG,tU)|0,eb=(eb=eb+Math.imul(eG,tL)|0)+Math.imul(eW,tU)|0,ew=ew+Math.imul(eW,tL)|0,em=em+Math.imul(eK,tF)|0,eb=(eb=eb+Math.imul(eK,t$)|0)+Math.imul(eH,tF)|0,ew=ew+Math.imul(eH,t$)|0;var t9=(eS+(em=em+Math.imul(ej,tq)|0)|0)+((8191&(eb=(eb=eb+Math.imul(ej,tz)|0)+Math.imul(eF,tq)|0))<<13)|0;eS=((ew=ew+Math.imul(eF,tz)|0)+(eb>>>13)|0)+(t9>>>26)|0,t9&=67108863,em=Math.imul(e8,tT),eb=(eb=Math.imul(e8,tP))+Math.imul(e5,tT)|0,ew=Math.imul(e5,tP),em=em+Math.imul(eQ,tR)|0,eb=(eb=eb+Math.imul(eQ,tD)|0)+Math.imul(e0,tR)|0,ew=ew+Math.imul(e0,tD)|0,em=em+Math.imul(eZ,tU)|0,eb=(eb=eb+Math.imul(eZ,tL)|0)+Math.imul(eY,tU)|0,ew=ew+Math.imul(eY,tL)|0,em=em+Math.imul(eG,tF)|0,eb=(eb=eb+Math.imul(eG,t$)|0)+Math.imul(eW,tF)|0,ew=ew+Math.imul(eW,t$)|0;var t7=(eS+(em=em+Math.imul(eK,tq)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eK,tz)|0)+Math.imul(eH,tq)|0))<<13)|0;eS=((ew=ew+Math.imul(eH,tz)|0)+(eb>>>13)|0)+(t7>>>26)|0,t7&=67108863,em=Math.imul(e8,tR),eb=(eb=Math.imul(e8,tD))+Math.imul(e5,tR)|0,ew=Math.imul(e5,tD),em=em+Math.imul(eQ,tU)|0,eb=(eb=eb+Math.imul(eQ,tL)|0)+Math.imul(e0,tU)|0,ew=ew+Math.imul(e0,tL)|0,em=em+Math.imul(eZ,tF)|0,eb=(eb=eb+Math.imul(eZ,t$)|0)+Math.imul(eY,tF)|0,ew=ew+Math.imul(eY,t$)|0;var ru=(eS+(em=em+Math.imul(eG,tq)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eG,tz)|0)+Math.imul(eW,tq)|0))<<13)|0;eS=((ew=ew+Math.imul(eW,tz)|0)+(eb>>>13)|0)+(ru>>>26)|0,ru&=67108863,em=Math.imul(e8,tU),eb=(eb=Math.imul(e8,tL))+Math.imul(e5,tU)|0,ew=Math.imul(e5,tL),em=em+Math.imul(eQ,tF)|0,eb=(eb=eb+Math.imul(eQ,t$)|0)+Math.imul(e0,tF)|0,ew=ew+Math.imul(e0,t$)|0;var rd=(eS+(em=em+Math.imul(eZ,tq)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eZ,tz)|0)+Math.imul(eY,tq)|0))<<13)|0;eS=((ew=ew+Math.imul(eY,tz)|0)+(eb>>>13)|0)+(rd>>>26)|0,rd&=67108863,em=Math.imul(e8,tF),eb=(eb=Math.imul(e8,t$))+Math.imul(e5,tF)|0,ew=Math.imul(e5,t$);var rp=(eS+(em=em+Math.imul(eQ,tq)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eQ,tz)|0)+Math.imul(e0,tq)|0))<<13)|0;eS=((ew=ew+Math.imul(e0,tz)|0)+(eb>>>13)|0)+(rp>>>26)|0,rp&=67108863;var rg=(eS+(em=Math.imul(e8,tq))|0)+((8191&(eb=(eb=Math.imul(e8,tz))+Math.imul(e5,tq)|0))<<13)|0;return eS=((ew=Math.imul(e5,tz))+(eb>>>13)|0)+(rg>>>26)|0,rg&=67108863,eA[0]=tH,eA[1]=tV,eA[2]=tG,eA[3]=tW,eA[4]=tJ,eA[5]=tZ,eA[6]=tY,eA[7]=tX,eA[8]=tQ,eA[9]=t6,eA[10]=t8,eA[11]=t5,eA[12]=t4,eA[13]=t9,eA[14]=t7,eA[15]=ru,eA[16]=rd,eA[17]=rp,eA[18]=rg,0!==eS&&(eA[19]=eS,eg.length++),eg};function eN(eu,ed,eg){eg.negative=ed.negative^eu.negative,eg.length=eu.length+ed.length;for(var em=0,eb=0,ew=0;ew<eg.length-1;ew++){var e_=eb;eb=0;for(var eE=67108863&em,eA=Math.min(ew,ed.length-1),eS=Math.max(0,ew-eu.length+1);eS<=eA;eS++){var eI=ew-eS,eC=(0|eu.words[eI])*(0|ed.words[eS]),eM=67108863&eC;e_=e_+(eC/67108864|0)|0,eE=67108863&(eM=eM+eE|0),eb+=(e_=e_+(eM>>>26)|0)>>>26,e_&=67108863}eg.words[ew]=eE,em=e_,e_=eb}return 0!==em?eg.words[ew]=em:eg.length--,eg.strip()}function ek(eu,ed,eg){return new eR().mulp(eu,ed,eg)}function eR(eu,ed){this.x=eu,this.y=ed}Math.imul||(eP=eT),ew.prototype.mulTo=function(eu,ed){var eg=this.length+eu.length;return 10===this.length&&10===eu.length?eP(this,eu,ed):eg<63?eT(this,eu,ed):eg<1024?eN(this,eu,ed):ek(this,eu,ed)},eR.prototype.makeRBT=function(eu){for(var ed=Array(eu),eg=ew.prototype._countBits(eu)-1,em=0;em<eu;em++)ed[em]=this.revBin(em,eg,eu);return ed},eR.prototype.revBin=function(eu,ed,eg){if(0===eu||eu===eg-1)return eu;for(var em=0,eb=0;eb<ed;eb++)em|=(1&eu)<<ed-eb-1,eu>>=1;return em},eR.prototype.permute=function(eu,ed,eg,em,eb,ew){for(var e_=0;e_<ew;e_++)em[e_]=ed[eu[e_]],eb[e_]=eg[eu[e_]]},eR.prototype.transform=function(eu,ed,eg,em,eb,ew){this.permute(ew,eu,ed,eg,em,eb);for(var e_=1;e_<eb;e_<<=1)for(var eE=e_<<1,eA=Math.cos(2*Math.PI/eE),eS=Math.sin(2*Math.PI/eE),eI=0;eI<eb;eI+=eE)for(var eC=eA,eM=eS,eO=0;eO<e_;eO++){var eT=eg[eI+eO],eP=em[eI+eO],eN=eg[eI+eO+e_],ek=em[eI+eO+e_],eR=eC*eN-eM*ek;ek=eC*ek+eM*eN,eN=eR,eg[eI+eO]=eT+eN,em[eI+eO]=eP+ek,eg[eI+eO+e_]=eT-eN,em[eI+eO+e_]=eP-ek,eO!==eE&&(eR=eA*eC-eS*eM,eM=eA*eM+eS*eC,eC=eR)}},eR.prototype.guessLen13b=function(eu,ed){var eg=1|Math.max(ed,eu),em=1&eg,eb=0;for(eg=eg/2|0;eg;eg>>>=1)eb++;return 1<<eb+1+em},eR.prototype.conjugate=function(eu,ed,eg){if(!(eg<=1))for(var em=0;em<eg/2;em++){var eb=eu[em];eu[em]=eu[eg-em-1],eu[eg-em-1]=eb,eb=ed[em],ed[em]=-ed[eg-em-1],ed[eg-em-1]=-eb}},eR.prototype.normalize13b=function(eu,ed){for(var eg=0,em=0;em<ed/2;em++){var eb=8192*Math.round(eu[2*em+1]/ed)+Math.round(eu[2*em]/ed)+eg;eu[em]=67108863&eb,eg=eb<67108864?0:eb/67108864|0}return eu},eR.prototype.convert13b=function(eu,ed,eg,eb){for(var ew=0,e_=0;e_<ed;e_++)ew+=0|eu[e_],eg[2*e_]=8191&ew,ew>>>=13,eg[2*e_+1]=8191&ew,ew>>>=13;for(e_=2*ed;e_<eb;++e_)eg[e_]=0;em(0===ew),em((-8192&ew)==0)},eR.prototype.stub=function(eu){for(var ed=Array(eu),eg=0;eg<eu;eg++)ed[eg]=0;return ed},eR.prototype.mulp=function(eu,ed,eg){var em=2*this.guessLen13b(eu.length,ed.length),eb=this.makeRBT(em),ew=this.stub(em),e_=Array(em),eE=Array(em),eA=Array(em),eS=Array(em),eI=Array(em),eC=Array(em),eM=eg.words;eM.length=em,this.convert13b(eu.words,eu.length,e_,em),this.convert13b(ed.words,ed.length,eS,em),this.transform(e_,ew,eE,eA,em,eb),this.transform(eS,ew,eI,eC,em,eb);for(var eO=0;eO<em;eO++){var eT=eE[eO]*eI[eO]-eA[eO]*eC[eO];eA[eO]=eE[eO]*eC[eO]+eA[eO]*eI[eO],eE[eO]=eT}return this.conjugate(eE,eA,em),this.transform(eE,eA,eM,ew,em,eb),this.conjugate(eM,ew,em),this.normalize13b(eM,em),eg.negative=eu.negative^ed.negative,eg.length=eu.length+ed.length,eg.strip()},ew.prototype.mul=function(eu){var ed=new ew(null);return ed.words=Array(this.length+eu.length),this.mulTo(eu,ed)},ew.prototype.mulf=function(eu){var ed=new ew(null);return ed.words=Array(this.length+eu.length),ek(this,eu,ed)},ew.prototype.imul=function(eu){return this.clone().mulTo(eu,this)},ew.prototype.imuln=function(eu){em("number"==typeof eu),em(eu<67108864);for(var ed=0,eg=0;eg<this.length;eg++){var eb=(0|this.words[eg])*eu,ew=(67108863&eb)+(67108863&ed);ed>>=26,ed+=(eb/67108864|0)+(ew>>>26),this.words[eg]=67108863&ew}return 0!==ed&&(this.words[eg]=ed,this.length++),this.length=0===eu?1:this.length,this},ew.prototype.muln=function(eu){return this.clone().imuln(eu)},ew.prototype.sqr=function(){return this.mul(this)},ew.prototype.isqr=function(){return this.imul(this.clone())},ew.prototype.pow=function(eu){var ed=eO(eu);if(0===ed.length)return new ew(1);for(var eg=this,em=0;em<ed.length&&0===ed[em];em++,eg=eg.sqr());if(++em<ed.length)for(var eb=eg.sqr();em<ed.length;em++,eb=eb.sqr())0!==ed[em]&&(eg=eg.mul(eb));return eg},ew.prototype.iushln=function(eu){em("number"==typeof eu&&eu>=0);var ed,eg=eu%26,eb=(eu-eg)/26,ew=67108863>>>26-eg<<26-eg;if(0!==eg){var e_=0;for(ed=0;ed<this.length;ed++){var eE=this.words[ed]&ew,eA=(0|this.words[ed])-eE<<eg;this.words[ed]=eA|e_,e_=eE>>>26-eg}e_&&(this.words[ed]=e_,this.length++)}if(0!==eb){for(ed=this.length-1;ed>=0;ed--)this.words[ed+eb]=this.words[ed];for(ed=0;ed<eb;ed++)this.words[ed]=0;this.length+=eb}return this.strip()},ew.prototype.ishln=function(eu){return em(0===this.negative),this.iushln(eu)},ew.prototype.iushrn=function(eu,ed,eg){em("number"==typeof eu&&eu>=0),eb=ed?(ed-ed%26)/26:0;var eb,ew=eu%26,e_=Math.min((eu-ew)/26,this.length),eE=67108863^67108863>>>ew<<ew,eA=eg;if(eb-=e_,eb=Math.max(0,eb),eA){for(var eS=0;eS<e_;eS++)eA.words[eS]=this.words[eS];eA.length=e_}if(0===e_);else if(this.length>e_)for(this.length-=e_,eS=0;eS<this.length;eS++)this.words[eS]=this.words[eS+e_];else this.words[0]=0,this.length=1;var eI=0;for(eS=this.length-1;eS>=0&&(0!==eI||eS>=eb);eS--){var eC=0|this.words[eS];this.words[eS]=eI<<26-ew|eC>>>ew,eI=eC&eE}return eA&&0!==eI&&(eA.words[eA.length++]=eI),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},ew.prototype.ishrn=function(eu,ed,eg){return em(0===this.negative),this.iushrn(eu,ed,eg)},ew.prototype.shln=function(eu){return this.clone().ishln(eu)},ew.prototype.ushln=function(eu){return this.clone().iushln(eu)},ew.prototype.shrn=function(eu){return this.clone().ishrn(eu)},ew.prototype.ushrn=function(eu){return this.clone().iushrn(eu)},ew.prototype.testn=function(eu){em("number"==typeof eu&&eu>=0);var ed=eu%26,eg=(eu-ed)/26,eb=1<<ed;return!(this.length<=eg)&&!!(this.words[eg]&eb)},ew.prototype.imaskn=function(eu){em("number"==typeof eu&&eu>=0);var ed=eu%26,eg=(eu-ed)/26;if(em(0===this.negative,"imaskn works only with positive numbers"),this.length<=eg)return this;if(0!==ed&&eg++,this.length=Math.min(eg,this.length),0!==ed){var eb=67108863^67108863>>>ed<<ed;this.words[this.length-1]&=eb}return this.strip()},ew.prototype.maskn=function(eu){return this.clone().imaskn(eu)},ew.prototype.iaddn=function(eu){return(em("number"==typeof eu),em(eu<67108864),eu<0)?this.isubn(-eu):0!==this.negative?1===this.length&&(0|this.words[0])<eu?(this.words[0]=eu-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(eu),this.negative=1,this):this._iaddn(eu)},ew.prototype._iaddn=function(eu){this.words[0]+=eu;for(var ed=0;ed<this.length&&this.words[ed]>=67108864;ed++)this.words[ed]-=67108864,ed===this.length-1?this.words[ed+1]=1:this.words[ed+1]++;return this.length=Math.max(this.length,ed+1),this},ew.prototype.isubn=function(eu){if(em("number"==typeof eu),em(eu<67108864),eu<0)return this.iaddn(-eu);if(0!==this.negative)return this.negative=0,this.iaddn(eu),this.negative=1,this;if(this.words[0]-=eu,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var ed=0;ed<this.length&&this.words[ed]<0;ed++)this.words[ed]+=67108864,this.words[ed+1]-=1;return this.strip()},ew.prototype.addn=function(eu){return this.clone().iaddn(eu)},ew.prototype.subn=function(eu){return this.clone().isubn(eu)},ew.prototype.iabs=function(){return this.negative=0,this},ew.prototype.abs=function(){return this.clone().iabs()},ew.prototype._ishlnsubmul=function(eu,ed,eg){var eb,ew,e_=eu.length+eg;this._expand(e_);var eE=0;for(eb=0;eb<eu.length;eb++){ew=(0|this.words[eb+eg])+eE;var eA=(0|eu.words[eb])*ed;ew-=67108863&eA,eE=(ew>>26)-(eA/67108864|0),this.words[eb+eg]=67108863&ew}for(;eb<this.length-eg;eb++)eE=(ew=(0|this.words[eb+eg])+eE)>>26,this.words[eb+eg]=67108863&ew;if(0===eE)return this.strip();for(em(-1===eE),eE=0,eb=0;eb<this.length;eb++)eE=(ew=-(0|this.words[eb])+eE)>>26,this.words[eb]=67108863&ew;return this.negative=1,this.strip()},ew.prototype._wordDiv=function(eu,ed){var eg,em=this.length-eu.length,eb=this.clone(),e_=eu,eE=0|e_.words[e_.length-1];0!=(em=26-this._countBits(eE))&&(e_=e_.ushln(em),eb.iushln(em),eE=0|e_.words[e_.length-1]);var eA=eb.length-e_.length;if("mod"!==ed){(eg=new ew(null)).length=eA+1,eg.words=Array(eg.length);for(var eS=0;eS<eg.length;eS++)eg.words[eS]=0}var eI=eb.clone()._ishlnsubmul(e_,1,eA);0===eI.negative&&(eb=eI,eg&&(eg.words[eA]=1));for(var eC=eA-1;eC>=0;eC--){var eM=(0|eb.words[e_.length+eC])*67108864+(0|eb.words[e_.length+eC-1]);for(eM=Math.min(eM/eE|0,67108863),eb._ishlnsubmul(e_,eM,eC);0!==eb.negative;)eM--,eb.negative=0,eb._ishlnsubmul(e_,1,eC),eb.isZero()||(eb.negative^=1);eg&&(eg.words[eC]=eM)}return eg&&eg.strip(),eb.strip(),"div"!==ed&&0!==em&&eb.iushrn(em),{div:eg||null,mod:eb}},ew.prototype.divmod=function(eu,ed,eg){var eb,e_,eE;return(em(!eu.isZero()),this.isZero())?{div:new ew(0),mod:new ew(0)}:0!==this.negative&&0===eu.negative?(eE=this.neg().divmod(eu,ed),"mod"!==ed&&(eb=eE.div.neg()),"div"!==ed&&(e_=eE.mod.neg(),eg&&0!==e_.negative&&e_.iadd(eu)),{div:eb,mod:e_}):0===this.negative&&0!==eu.negative?(eE=this.divmod(eu.neg(),ed),"mod"!==ed&&(eb=eE.div.neg()),{div:eb,mod:eE.mod}):(this.negative&eu.negative)!=0?(eE=this.neg().divmod(eu.neg(),ed),"div"!==ed&&(e_=eE.mod.neg(),eg&&0!==e_.negative&&e_.isub(eu)),{div:eE.div,mod:e_}):eu.length>this.length||0>this.cmp(eu)?{div:new ew(0),mod:this}:1===eu.length?"div"===ed?{div:this.divn(eu.words[0]),mod:null}:"mod"===ed?{div:null,mod:new ew(this.modn(eu.words[0]))}:{div:this.divn(eu.words[0]),mod:new ew(this.modn(eu.words[0]))}:this._wordDiv(eu,ed)},ew.prototype.div=function(eu){return this.divmod(eu,"div",!1).div},ew.prototype.mod=function(eu){return this.divmod(eu,"mod",!1).mod},ew.prototype.umod=function(eu){return this.divmod(eu,"mod",!0).mod},ew.prototype.divRound=function(eu){var ed=this.divmod(eu);if(ed.mod.isZero())return ed.div;var eg=0!==ed.div.negative?ed.mod.isub(eu):ed.mod,em=eu.ushrn(1),eb=eu.andln(1),ew=eg.cmp(em);return ew<0||1===eb&&0===ew?ed.div:0!==ed.div.negative?ed.div.isubn(1):ed.div.iaddn(1)},ew.prototype.modn=function(eu){em(eu<=67108863);for(var ed=67108864%eu,eg=0,eb=this.length-1;eb>=0;eb--)eg=(ed*eg+(0|this.words[eb]))%eu;return eg},ew.prototype.idivn=function(eu){em(eu<=67108863);for(var ed=0,eg=this.length-1;eg>=0;eg--){var eb=(0|this.words[eg])+67108864*ed;this.words[eg]=eb/eu|0,ed=eb%eu}return this.strip()},ew.prototype.divn=function(eu){return this.clone().idivn(eu)},ew.prototype.egcd=function(eu){em(0===eu.negative),em(!eu.isZero());var ed=this,eg=eu.clone();ed=0!==ed.negative?ed.umod(eu):ed.clone();for(var eb=new ew(1),e_=new ew(0),eE=new ew(0),eA=new ew(1),eS=0;ed.isEven()&&eg.isEven();)ed.iushrn(1),eg.iushrn(1),++eS;for(var eI=eg.clone(),eC=ed.clone();!ed.isZero();){for(var eM=0,eO=1;(ed.words[0]&eO)==0&&eM<26;++eM,eO<<=1);if(eM>0)for(ed.iushrn(eM);eM-- >0;)(eb.isOdd()||e_.isOdd())&&(eb.iadd(eI),e_.isub(eC)),eb.iushrn(1),e_.iushrn(1);for(var eT=0,eP=1;(eg.words[0]&eP)==0&&eT<26;++eT,eP<<=1);if(eT>0)for(eg.iushrn(eT);eT-- >0;)(eE.isOdd()||eA.isOdd())&&(eE.iadd(eI),eA.isub(eC)),eE.iushrn(1),eA.iushrn(1);ed.cmp(eg)>=0?(ed.isub(eg),eb.isub(eE),e_.isub(eA)):(eg.isub(ed),eE.isub(eb),eA.isub(e_))}return{a:eE,b:eA,gcd:eg.iushln(eS)}},ew.prototype._invmp=function(eu){em(0===eu.negative),em(!eu.isZero());var ed,eg=this,eb=eu.clone();eg=0!==eg.negative?eg.umod(eu):eg.clone();for(var e_=new ew(1),eE=new ew(0),eA=eb.clone();eg.cmpn(1)>0&&eb.cmpn(1)>0;){for(var eS=0,eI=1;(eg.words[0]&eI)==0&&eS<26;++eS,eI<<=1);if(eS>0)for(eg.iushrn(eS);eS-- >0;)e_.isOdd()&&e_.iadd(eA),e_.iushrn(1);for(var eC=0,eM=1;(eb.words[0]&eM)==0&&eC<26;++eC,eM<<=1);if(eC>0)for(eb.iushrn(eC);eC-- >0;)eE.isOdd()&&eE.iadd(eA),eE.iushrn(1);eg.cmp(eb)>=0?(eg.isub(eb),e_.isub(eE)):(eb.isub(eg),eE.isub(e_))}return 0>(ed=0===eg.cmpn(1)?e_:eE).cmpn(0)&&ed.iadd(eu),ed},ew.prototype.gcd=function(eu){if(this.isZero())return eu.abs();if(eu.isZero())return this.abs();var ed=this.clone(),eg=eu.clone();ed.negative=0,eg.negative=0;for(var em=0;ed.isEven()&&eg.isEven();em++)ed.iushrn(1),eg.iushrn(1);for(;;){for(;ed.isEven();)ed.iushrn(1);for(;eg.isEven();)eg.iushrn(1);var eb=ed.cmp(eg);if(eb<0){var ew=ed;ed=eg,eg=ew}else if(0===eb||0===eg.cmpn(1))break;ed.isub(eg)}return eg.iushln(em)},ew.prototype.invm=function(eu){return this.egcd(eu).a.umod(eu)},ew.prototype.isEven=function(){return(1&this.words[0])==0},ew.prototype.isOdd=function(){return(1&this.words[0])==1},ew.prototype.andln=function(eu){return this.words[0]&eu},ew.prototype.bincn=function(eu){em("number"==typeof eu);var ed=eu%26,eg=(eu-ed)/26,eb=1<<ed;if(this.length<=eg)return this._expand(eg+1),this.words[eg]|=eb,this;for(var ew=eb,e_=eg;0!==ew&&e_<this.length;e_++){var eE=0|this.words[e_];eE+=ew,ew=eE>>>26,eE&=67108863,this.words[e_]=eE}return 0!==ew&&(this.words[e_]=ew,this.length++),this},ew.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},ew.prototype.cmpn=function(eu){var ed,eg=eu<0;if(0!==this.negative&&!eg)return -1;if(0===this.negative&&eg)return 1;if(this.strip(),this.length>1)ed=1;else{eg&&(eu=-eu),em(eu<=67108863,"Number is too big");var eb=0|this.words[0];ed=eb===eu?0:eb<eu?-1:1}return 0!==this.negative?0|-ed:ed},ew.prototype.cmp=function(eu){if(0!==this.negative&&0===eu.negative)return -1;if(0===this.negative&&0!==eu.negative)return 1;var ed=this.ucmp(eu);return 0!==this.negative?0|-ed:ed},ew.prototype.ucmp=function(eu){if(this.length>eu.length)return 1;if(this.length<eu.length)return -1;for(var ed=0,eg=this.length-1;eg>=0;eg--){var em=0|this.words[eg],eb=0|eu.words[eg];if(em!==eb){em<eb?ed=-1:em>eb&&(ed=1);break}}return ed},ew.prototype.gtn=function(eu){return 1===this.cmpn(eu)},ew.prototype.gt=function(eu){return 1===this.cmp(eu)},ew.prototype.gten=function(eu){return this.cmpn(eu)>=0},ew.prototype.gte=function(eu){return this.cmp(eu)>=0},ew.prototype.ltn=function(eu){return -1===this.cmpn(eu)},ew.prototype.lt=function(eu){return -1===this.cmp(eu)},ew.prototype.lten=function(eu){return 0>=this.cmpn(eu)},ew.prototype.lte=function(eu){return 0>=this.cmp(eu)},ew.prototype.eqn=function(eu){return 0===this.cmpn(eu)},ew.prototype.eq=function(eu){return 0===this.cmp(eu)},ew.red=function(eu){return new e$(eu)},ew.prototype.toRed=function(eu){return em(!this.red,"Already a number in reduction context"),em(0===this.negative,"red works only with positives"),eu.convertTo(this)._forceRed(eu)},ew.prototype.fromRed=function(){return em(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},ew.prototype._forceRed=function(eu){return this.red=eu,this},ew.prototype.forceRed=function(eu){return em(!this.red,"Already a number in reduction context"),this._forceRed(eu)},ew.prototype.redAdd=function(eu){return em(this.red,"redAdd works only with red numbers"),this.red.add(this,eu)},ew.prototype.redIAdd=function(eu){return em(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,eu)},ew.prototype.redSub=function(eu){return em(this.red,"redSub works only with red numbers"),this.red.sub(this,eu)},ew.prototype.redISub=function(eu){return em(this.red,"redISub works only with red numbers"),this.red.isub(this,eu)},ew.prototype.redShl=function(eu){return em(this.red,"redShl works only with red numbers"),this.red.shl(this,eu)},ew.prototype.redMul=function(eu){return em(this.red,"redMul works only with red numbers"),this.red._verify2(this,eu),this.red.mul(this,eu)},ew.prototype.redIMul=function(eu){return em(this.red,"redMul works only with red numbers"),this.red._verify2(this,eu),this.red.imul(this,eu)},ew.prototype.redSqr=function(){return em(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},ew.prototype.redISqr=function(){return em(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},ew.prototype.redSqrt=function(){return em(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},ew.prototype.redInvm=function(){return em(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},ew.prototype.redNeg=function(){return em(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},ew.prototype.redPow=function(eu){return em(this.red&&!eu.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,eu)};var eD={k256:null,p224:null,p192:null,p25519:null};function eB(eu,ed){this.name=eu,this.p=new ew(ed,16),this.n=this.p.bitLength(),this.k=new ew(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function eU(){eB.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function eL(){eB.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function ej(){eB.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function eF(){eB.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function e$(eu){if("string"==typeof eu){var ed=ew._prime(eu);this.m=ed.p,this.prime=ed}else em(eu.gtn(1),"modulus must be greater than 1"),this.m=eu,this.prime=null}function eK(eu){e$.call(this,eu),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new ew(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}eB.prototype._tmp=function(){var eu=new ew(null);return eu.words=Array(Math.ceil(this.n/13)),eu},eB.prototype.ireduce=function(eu){var ed,eg=eu;do this.split(eg,this.tmp),ed=(eg=(eg=this.imulK(eg)).iadd(this.tmp)).bitLength();while(ed>this.n);var em=ed<this.n?-1:eg.ucmp(this.p);return 0===em?(eg.words[0]=0,eg.length=1):em>0?eg.isub(this.p):void 0!==eg.strip?eg.strip():eg._strip(),eg},eB.prototype.split=function(eu,ed){eu.iushrn(this.n,0,ed)},eB.prototype.imulK=function(eu){return eu.imul(this.k)},eb(eU,eB),eU.prototype.split=function(eu,ed){for(var eg=4194303,em=Math.min(eu.length,9),eb=0;eb<em;eb++)ed.words[eb]=eu.words[eb];if(ed.length=em,eu.length<=9){eu.words[0]=0,eu.length=1;return}var ew=eu.words[9];for(eb=10,ed.words[ed.length++]=ew&eg;eb<eu.length;eb++){var e_=0|eu.words[eb];eu.words[eb-10]=(e_&eg)<<4|ew>>>22,ew=e_}ew>>>=22,eu.words[eb-10]=ew,0===ew&&eu.length>10?eu.length-=10:eu.length-=9},eU.prototype.imulK=function(eu){eu.words[eu.length]=0,eu.words[eu.length+1]=0,eu.length+=2;for(var ed=0,eg=0;eg<eu.length;eg++){var em=0|eu.words[eg];ed+=977*em,eu.words[eg]=67108863&ed,ed=64*em+(ed/67108864|0)}return 0===eu.words[eu.length-1]&&(eu.length--,0===eu.words[eu.length-1]&&eu.length--),eu},eb(eL,eB),eb(ej,eB),eb(eF,eB),eF.prototype.imulK=function(eu){for(var ed=0,eg=0;eg<eu.length;eg++){var em=(0|eu.words[eg])*19+ed,eb=67108863&em;em>>>=26,eu.words[eg]=eb,ed=em}return 0!==ed&&(eu.words[eu.length++]=ed),eu},ew._prime=function(eu){var ed;if(eD[eu])return eD[eu];if("k256"===eu)ed=new eU;else if("p224"===eu)ed=new eL;else if("p192"===eu)ed=new ej;else if("p25519"===eu)ed=new eF;else throw Error("Unknown prime "+eu);return eD[eu]=ed,ed},e$.prototype._verify1=function(eu){em(0===eu.negative,"red works only with positives"),em(eu.red,"red works only with red numbers")},e$.prototype._verify2=function(eu,ed){em((eu.negative|ed.negative)==0,"red works only with positives"),em(eu.red&&eu.red===ed.red,"red works only with red numbers")},e$.prototype.imod=function(eu){return this.prime?this.prime.ireduce(eu)._forceRed(this):eu.umod(this.m)._forceRed(this)},e$.prototype.neg=function(eu){return eu.isZero()?eu.clone():this.m.sub(eu)._forceRed(this)},e$.prototype.add=function(eu,ed){this._verify2(eu,ed);var eg=eu.add(ed);return eg.cmp(this.m)>=0&&eg.isub(this.m),eg._forceRed(this)},e$.prototype.iadd=function(eu,ed){this._verify2(eu,ed);var eg=eu.iadd(ed);return eg.cmp(this.m)>=0&&eg.isub(this.m),eg},e$.prototype.sub=function(eu,ed){this._verify2(eu,ed);var eg=eu.sub(ed);return 0>eg.cmpn(0)&&eg.iadd(this.m),eg._forceRed(this)},e$.prototype.isub=function(eu,ed){this._verify2(eu,ed);var eg=eu.isub(ed);return 0>eg.cmpn(0)&&eg.iadd(this.m),eg},e$.prototype.shl=function(eu,ed){return this._verify1(eu),this.imod(eu.ushln(ed))},e$.prototype.imul=function(eu,ed){return this._verify2(eu,ed),this.imod(eu.imul(ed))},e$.prototype.mul=function(eu,ed){return this._verify2(eu,ed),this.imod(eu.mul(ed))},e$.prototype.isqr=function(eu){return this.imul(eu,eu.clone())},e$.prototype.sqr=function(eu){return this.mul(eu,eu)},e$.prototype.sqrt=function(eu){if(eu.isZero())return eu.clone();var ed=this.m.andln(3);if(em(ed%2==1),3===ed){var eg=this.m.add(new ew(1)).iushrn(2);return this.pow(eu,eg)}for(var eb=this.m.subn(1),e_=0;!eb.isZero()&&0===eb.andln(1);)e_++,eb.iushrn(1);em(!eb.isZero());var eE=new ew(1).toRed(this),eA=eE.redNeg(),eS=this.m.subn(1).iushrn(1),eI=this.m.bitLength();for(eI=new ew(2*eI*eI).toRed(this);0!==this.pow(eI,eS).cmp(eA);)eI.redIAdd(eA);for(var eC=this.pow(eI,eb),eM=this.pow(eu,eb.addn(1).iushrn(1)),eO=this.pow(eu,eb),eT=e_;0!==eO.cmp(eE);){for(var eP=eO,eN=0;0!==eP.cmp(eE);eN++)eP=eP.redSqr();em(eN<eT);var ek=this.pow(eC,new ew(1).iushln(eT-eN-1));eM=eM.redMul(ek),eC=ek.redSqr(),eO=eO.redMul(eC),eT=eN}return eM},e$.prototype.invm=function(eu){var ed=eu._invmp(this.m);return 0!==ed.negative?(ed.negative=0,this.imod(ed).redNeg()):this.imod(ed)},e$.prototype.pow=function(eu,ed){if(ed.isZero())return new ew(1).toRed(this);if(0===ed.cmpn(1))return eu.clone();var eg=4,em=Array(16);em[0]=new ew(1).toRed(this),em[1]=eu;for(var eb=2;eb<em.length;eb++)em[eb]=this.mul(em[eb-1],eu);var e_=em[0],eE=0,eA=0,eS=ed.bitLength()%26;for(0===eS&&(eS=26),eb=ed.length-1;eb>=0;eb--){for(var eI=ed.words[eb],eC=eS-1;eC>=0;eC--){var eM=eI>>eC&1;if(e_!==em[0]&&(e_=this.sqr(e_)),0===eM&&0===eE){eA=0;continue}eE<<=1,eE|=eM,(++eA===eg||0===eb&&0===eC)&&(e_=this.mul(e_,em[eE]),eA=0,eE=0)}eS=26}return e_},e$.prototype.convertTo=function(eu){var ed=eu.umod(this.m);return ed===eu?ed.clone():ed},e$.prototype.convertFrom=function(eu){var ed=eu.clone();return ed.red=null,ed},ew.mont=function(eu){return new eK(eu)},eb(eK,e$),eK.prototype.convertTo=function(eu){return this.imod(eu.ushln(this.shift))},eK.prototype.convertFrom=function(eu){var ed=this.imod(eu.mul(this.rinv));return ed.red=null,ed},eK.prototype.imul=function(eu,ed){if(eu.isZero()||ed.isZero())return eu.words[0]=0,eu.length=1,eu;var eg=eu.imul(ed),em=eg.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),eb=eg.isub(em).iushrn(this.shift),ew=eb;return eb.cmp(this.m)>=0?ew=eb.isub(this.m):0>eb.cmpn(0)&&(ew=eb.iadd(this.m)),ew._forceRed(this)},eK.prototype.mul=function(eu,ed){if(eu.isZero()||ed.isZero())return new ew(0)._forceRed(this);var eg=eu.mul(ed),em=eg.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),eb=eg.isub(em).iushrn(this.shift),e_=eb;return eb.cmp(this.m)>=0?e_=eb.isub(this.m):0>eb.cmpn(0)&&(e_=eb.iadd(this.m)),e_._forceRed(this)},eK.prototype.invm=function(eu){return this.imod(eu._invmp(this.m).mul(this.r2))._forceRed(this)}}(eu=eg.nmd(eu),this)},16162:function(eu,ed,eg){"use strict";var em=eg(91285),eb=eg(27993),ew=eg(51445),e_=eg(9065),eE=eg(13973);function eA(eu){eE.call(this,"digest"),this._hash=eu}em(eA,eE),eA.prototype._update=function(eu){this._hash.update(eu)},eA.prototype._final=function(){return this._hash.digest()},eu.exports=function(eu){return"md5"===(eu=eu.toLowerCase())?new eb:"rmd160"===eu||"ripemd160"===eu?new ew:new eA(e_(eu))}},22511:function(eu,ed,eg){var em=eg(27993);eu.exports=function(eu){return new em().update(eu).digest()}},50011:function(eu,ed,eg){"use strict";var em=eg(91285),eb=eg(6456),ew=eg(13973),e_=eg(77834).Buffer,eE=eg(22511),eA=eg(51445),eS=eg(9065),eI=e_.alloc(128);function eC(eu,ed){ew.call(this,"digest"),"string"==typeof ed&&(ed=e_.from(ed));var eg="sha512"===eu||"sha384"===eu?128:64;this._alg=eu,this._key=ed,ed.length>eg?ed=("rmd160"===eu?new eA:eS(eu)).update(ed).digest():ed.length<eg&&(ed=e_.concat([ed,eI],eg));for(var em=this._ipad=e_.allocUnsafe(eg),eb=this._opad=e_.allocUnsafe(eg),eE=0;eE<eg;eE++)em[eE]=54^ed[eE],eb[eE]=92^ed[eE];this._hash="rmd160"===eu?new eA:eS(eu),this._hash.update(em)}em(eC,ew),eC.prototype._update=function(eu){this._hash.update(eu)},eC.prototype._final=function(){var eu=this._hash.digest();return("rmd160"===this._alg?new eA:eS(this._alg)).update(this._opad).update(eu).digest()},eu.exports=function(eu,ed){return"rmd160"===(eu=eu.toLowerCase())||"ripemd160"===eu?new eC("rmd160",ed):"md5"===eu?new eb(eE,ed):new eC(eu,ed)}},6456:function(eu,ed,eg){"use strict";var em=eg(91285),eb=eg(77834).Buffer,ew=eg(13973),e_=eb.alloc(128),eE=64;function eA(eu,ed){ew.call(this,"digest"),"string"==typeof ed&&(ed=eb.from(ed)),this._alg=eu,this._key=ed,ed.length>eE?ed=eu(ed):ed.length<eE&&(ed=eb.concat([ed,e_],eE));for(var eg=this._ipad=eb.allocUnsafe(eE),em=this._opad=eb.allocUnsafe(eE),eA=0;eA<eE;eA++)eg[eA]=54^ed[eA],em[eA]=92^ed[eA];this._hash=[eg]}em(eA,ew),eA.prototype._update=function(eu){this._hash.push(eu)},eA.prototype._final=function(){var eu=this._alg(eb.concat(this._hash));return this._alg(eb.concat([this._opad,eu]))},eu.exports=eA},19562:function(eu){!function(){var ed="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",eg={rotl:function(eu,ed){return eu<<ed|eu>>>32-ed},rotr:function(eu,ed){return eu<<32-ed|eu>>>ed},endian:function(eu){if(eu.constructor==Number)return 16711935&eg.rotl(eu,8)|4278255360&eg.rotl(eu,24);for(var ed=0;ed<eu.length;ed++)eu[ed]=eg.endian(eu[ed]);return eu},randomBytes:function(eu){for(var ed=[];eu>0;eu--)ed.push(Math.floor(256*Math.random()));return ed},bytesToWords:function(eu){for(var ed=[],eg=0,em=0;eg<eu.length;eg++,em+=8)ed[em>>>5]|=eu[eg]<<24-em%32;return ed},wordsToBytes:function(eu){for(var ed=[],eg=0;eg<32*eu.length;eg+=8)ed.push(eu[eg>>>5]>>>24-eg%32&255);return ed},bytesToHex:function(eu){for(var ed=[],eg=0;eg<eu.length;eg++)ed.push((eu[eg]>>>4).toString(16)),ed.push((15&eu[eg]).toString(16));return ed.join("")},hexToBytes:function(eu){for(var ed=[],eg=0;eg<eu.length;eg+=2)ed.push(parseInt(eu.substr(eg,2),16));return ed},bytesToBase64:function(eu){for(var eg=[],em=0;em<eu.length;em+=3)for(var eb=eu[em]<<16|eu[em+1]<<8|eu[em+2],ew=0;ew<4;ew++)8*em+6*ew<=8*eu.length?eg.push(ed.charAt(eb>>>6*(3-ew)&63)):eg.push("=");return eg.join("")},base64ToBytes:function(eu){eu=eu.replace(/[^A-Z0-9+\/]/ig,"");for(var eg=[],em=0,eb=0;em<eu.length;eb=++em%4)0!=eb&&eg.push((ed.indexOf(eu.charAt(em-1))&Math.pow(2,-2*eb+8)-1)<<2*eb|ed.indexOf(eu.charAt(em))>>>6-2*eb);return eg}};eu.exports=eg}()},5634:function(eu,ed,eg){"use strict";ed.randomBytes=ed.rng=ed.pseudoRandomBytes=ed.prng=eg(95003),ed.createHash=ed.Hash=eg(16162),ed.createHmac=ed.Hmac=eg(50011);var em=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(Object.keys(eg(24778)));ed.getHashes=function(){return em};var eb=eg(30499);ed.pbkdf2=eb.pbkdf2,ed.pbkdf2Sync=eb.pbkdf2Sync;var ew=eg(93667);ed.Cipher=ew.Cipher,ed.createCipher=ew.createCipher,ed.Cipheriv=ew.Cipheriv,ed.createCipheriv=ew.createCipheriv,ed.Decipher=ew.Decipher,ed.createDecipher=ew.createDecipher,ed.Decipheriv=ew.Decipheriv,ed.createDecipheriv=ew.createDecipheriv,ed.getCiphers=ew.getCiphers,ed.listCiphers=ew.listCiphers;var e_=eg(67602);ed.DiffieHellmanGroup=e_.DiffieHellmanGroup,ed.createDiffieHellmanGroup=e_.createDiffieHellmanGroup,ed.getDiffieHellman=e_.getDiffieHellman,ed.createDiffieHellman=e_.createDiffieHellman,ed.DiffieHellman=e_.DiffieHellman;var eE=eg(95263);ed.createSign=eE.createSign,ed.Sign=eE.Sign,ed.createVerify=eE.createVerify,ed.Verify=eE.Verify,ed.createECDH=eg(95363);var eA=eg(8493);ed.publicEncrypt=eA.publicEncrypt,ed.privateEncrypt=eA.privateEncrypt,ed.publicDecrypt=eA.publicDecrypt,ed.privateDecrypt=eA.privateDecrypt;var eS=eg(69631);ed.randomFill=eS.randomFill,ed.randomFillSync=eS.randomFillSync,ed.createCredentials=function(){throw Error("sorry, createCredentials is not implemented yet\nwe accept pull requests\nhttps://github.com/crypto-browserify/crypto-browserify")},ed.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},28879:function(eu){!function(ed,eg){eu.exports=eg()}(0,function(){"use strict";var eu=1e3,ed=6e4,eg=36e5,em="millisecond",eb="second",ew="minute",e_="hour",eE="day",eA="week",eS="month",eI="quarter",eC="year",eM="date",eO="Invalid Date",eT=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,eP=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,eN={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(eu){var ed=["th","st","nd","rd"],eg=eu%100;return"["+eu+(ed[(eg-20)%10]||ed[eg]||ed[0])+"]"}},ek=function(eu,ed,eg){var em=String(eu);return!em||em.length>=ed?eu:""+Array(ed+1-em.length).join(eg)+eu},eR={s:ek,z:function(eu){var ed=-eu.utcOffset(),eg=Math.abs(ed),em=Math.floor(eg/60),eb=eg%60;return(ed<=0?"+":"-")+ek(em,2,"0")+":"+ek(eb,2,"0")},m:function eu(ed,eg){if(ed.date()<eg.date())return-eu(eg,ed);var em=12*(eg.year()-ed.year())+(eg.month()-ed.month()),eb=ed.clone().add(em,eS),ew=eg-eb<0,e_=ed.clone().add(em+(ew?-1:1),eS);return+(-(em+(eg-eb)/(ew?eb-e_:e_-eb))||0)},a:function(eu){return eu<0?Math.ceil(eu)||0:Math.floor(eu)},p:function(eu){return({M:eS,y:eC,w:eA,d:eE,D:eM,h:e_,m:ew,s:eb,ms:em,Q:eI})[eu]||String(eu||"").toLowerCase().replace(/s$/,"")},u:function(eu){return void 0===eu}},eD="en",eB={};eB[eD]=eN;var eU="$isDayjsObject",eL=function(eu){return eu instanceof eK||!(!eu||!eu[eU])},ej=function eu(ed,eg,em){var eb;if(!ed)return eD;if("string"==typeof ed){var ew=ed.toLowerCase();eB[ew]&&(eb=ew),eg&&(eB[ew]=eg,eb=ew);var e_=ed.split("-");if(!eb&&e_.length>1)return eu(e_[0])}else{var eE=ed.name;eB[eE]=ed,eb=eE}return!em&&eb&&(eD=eb),eb||!em&&eD},eF=function(eu,ed){if(eL(eu))return eu.clone();var eg="object"==typeof ed?ed:{};return eg.date=eu,eg.args=arguments,new eK(eg)},e$=eR;e$.l=ej,e$.i=eL,e$.w=function(eu,ed){return eF(eu,{locale:ed.$L,utc:ed.$u,x:ed.$x,$offset:ed.$offset})};var eK=function(){function eN(eu){this.$L=ej(eu.locale,null,!0),this.parse(eu),this.$x=this.$x||eu.x||{},this[eU]=!0}var ek=eN.prototype;return ek.parse=function(eu){this.$d=function(eu){var ed=eu.date,eg=eu.utc;if(null===ed)return new Date(NaN);if(e$.u(ed))return new Date;if(ed instanceof Date)return new Date(ed);if("string"==typeof ed&&!/Z$/i.test(ed)){var em=ed.match(eT);if(em){var eb=em[2]-1||0,ew=(em[7]||"0").substring(0,3);return eg?new Date(Date.UTC(em[1],eb,em[3]||1,em[4]||0,em[5]||0,em[6]||0,ew)):new Date(em[1],eb,em[3]||1,em[4]||0,em[5]||0,em[6]||0,ew)}}return new Date(ed)}(eu),this.init()},ek.init=function(){var eu=this.$d;this.$y=eu.getFullYear(),this.$M=eu.getMonth(),this.$D=eu.getDate(),this.$W=eu.getDay(),this.$H=eu.getHours(),this.$m=eu.getMinutes(),this.$s=eu.getSeconds(),this.$ms=eu.getMilliseconds()},ek.$utils=function(){return e$},ek.isValid=function(){return this.$d.toString()!==eO},ek.isSame=function(eu,ed){var eg=eF(eu);return this.startOf(ed)<=eg&&eg<=this.endOf(ed)},ek.isAfter=function(eu,ed){return eF(eu)<this.startOf(ed)},ek.isBefore=function(eu,ed){return this.endOf(ed)<eF(eu)},ek.$g=function(eu,ed,eg){return e$.u(eu)?this[ed]:this.set(eg,eu)},ek.unix=function(){return Math.floor(this.valueOf()/1e3)},ek.valueOf=function(){return this.$d.getTime()},ek.startOf=function(eu,ed){var eg=this,em=!!e$.u(ed)||ed,eI=e$.p(eu),eO=function(eu,ed){var eb=e$.w(eg.$u?Date.UTC(eg.$y,ed,eu):new Date(eg.$y,ed,eu),eg);return em?eb:eb.endOf(eE)},eT=function(eu,ed){return e$.w(eg.toDate()[eu].apply(eg.toDate("s"),(em?[0,0,0,0]:[23,59,59,999]).slice(ed)),eg)},eP=this.$W,eN=this.$M,ek=this.$D,eR="set"+(this.$u?"UTC":"");switch(eI){case eC:return em?eO(1,0):eO(31,11);case eS:return em?eO(1,eN):eO(0,eN+1);case eA:var eD=this.$locale().weekStart||0,eB=(eP<eD?eP+7:eP)-eD;return eO(em?ek-eB:ek+(6-eB),eN);case eE:case eM:return eT(eR+"Hours",0);case e_:return eT(eR+"Minutes",1);case ew:return eT(eR+"Seconds",2);case eb:return eT(eR+"Milliseconds",3);default:return this.clone()}},ek.endOf=function(eu){return this.startOf(eu,!1)},ek.$set=function(eu,ed){var eg,eA=e$.p(eu),eI="set"+(this.$u?"UTC":""),eO=((eg={})[eE]=eI+"Date",eg[eM]=eI+"Date",eg[eS]=eI+"Month",eg[eC]=eI+"FullYear",eg[e_]=eI+"Hours",eg[ew]=eI+"Minutes",eg[eb]=eI+"Seconds",eg[em]=eI+"Milliseconds",eg)[eA],eT=eA===eE?this.$D+(ed-this.$W):ed;if(eA===eS||eA===eC){var eP=this.clone().set(eM,1);eP.$d[eO](eT),eP.init(),this.$d=eP.set(eM,Math.min(this.$D,eP.daysInMonth())).$d}else eO&&this.$d[eO](eT);return this.init(),this},ek.set=function(eu,ed){return this.clone().$set(eu,ed)},ek.get=function(eu){return this[e$.p(eu)]()},ek.add=function(em,eI){var eM,eO=this;em=Number(em);var eT=e$.p(eI),eP=function(eu){var ed=eF(eO);return e$.w(ed.date(ed.date()+Math.round(eu*em)),eO)};if(eT===eS)return this.set(eS,this.$M+em);if(eT===eC)return this.set(eC,this.$y+em);if(eT===eE)return eP(1);if(eT===eA)return eP(7);var eN=((eM={})[ew]=ed,eM[e_]=eg,eM[eb]=eu,eM)[eT]||1,ek=this.$d.getTime()+em*eN;return e$.w(ek,this)},ek.subtract=function(eu,ed){return this.add(-1*eu,ed)},ek.format=function(eu){var ed=this,eg=this.$locale();if(!this.isValid())return eg.invalidDate||eO;var em=eu||"YYYY-MM-DDTHH:mm:ssZ",eb=e$.z(this),ew=this.$H,e_=this.$m,eE=this.$M,eA=eg.weekdays,eS=eg.months,eI=eg.meridiem,eC=function(eu,eg,eb,ew){return eu&&(eu[eg]||eu(ed,em))||eb[eg].slice(0,ew)},eM=function(eu){return e$.s(ew%12||12,eu,"0")},eT=eI||function(eu,ed,eg){var em=eu<12?"AM":"PM";return eg?em.toLowerCase():em};return em.replace(eP,function(eu,em){return em||function(eu){switch(eu){case"YY":return String(ed.$y).slice(-2);case"YYYY":return e$.s(ed.$y,4,"0");case"M":return eE+1;case"MM":return e$.s(eE+1,2,"0");case"MMM":return eC(eg.monthsShort,eE,eS,3);case"MMMM":return eC(eS,eE);case"D":return ed.$D;case"DD":return e$.s(ed.$D,2,"0");case"d":return String(ed.$W);case"dd":return eC(eg.weekdaysMin,ed.$W,eA,2);case"ddd":return eC(eg.weekdaysShort,ed.$W,eA,3);case"dddd":return eA[ed.$W];case"H":return String(ew);case"HH":return e$.s(ew,2,"0");case"h":return eM(1);case"hh":return eM(2);case"a":return eT(ew,e_,!0);case"A":return eT(ew,e_,!1);case"m":return String(e_);case"mm":return e$.s(e_,2,"0");case"s":return String(ed.$s);case"ss":return e$.s(ed.$s,2,"0");case"SSS":return e$.s(ed.$ms,3,"0");case"Z":return eb}return null}(eu)||eb.replace(":","")})},ek.utcOffset=function(){return-(15*Math.round(this.$d.getTimezoneOffset()/15))},ek.diff=function(em,eM,eO){var eT,eP=this,eN=e$.p(eM),ek=eF(em),eR=(ek.utcOffset()-this.utcOffset())*ed,eD=this-ek,eB=function(){return e$.m(eP,ek)};switch(eN){case eC:eT=eB()/12;break;case eS:eT=eB();break;case eI:eT=eB()/3;break;case eA:eT=(eD-eR)/6048e5;break;case eE:eT=(eD-eR)/864e5;break;case e_:eT=eD/eg;break;case ew:eT=eD/ed;break;case eb:eT=eD/eu;break;default:eT=eD}return eO?eT:e$.a(eT)},ek.daysInMonth=function(){return this.endOf(eS).$D},ek.$locale=function(){return eB[this.$L]},ek.locale=function(eu,ed){if(!eu)return this.$L;var eg=this.clone(),em=ej(eu,ed,!0);return em&&(eg.$L=em),eg},ek.clone=function(){return e$.w(this.$d,this)},ek.toDate=function(){return new Date(this.valueOf())},ek.toJSON=function(){return this.isValid()?this.toISOString():null},ek.toISOString=function(){return this.$d.toISOString()},ek.toString=function(){return this.$d.toUTCString()},eN}(),eH=eK.prototype;return eF.prototype=eH,[["$ms",em],["$s",eb],["$m",ew],["$H",e_],["$W",eE],["$M",eS],["$y",eC],["$D",eM]].forEach(function(eu){eH[eu[1]]=function(ed){return this.$g(ed,eu[0],eu[1])}}),eF.extend=function(eu,ed){return eu.$i||(eu(ed,eK,eF),eu.$i=!0),eF},eF.locale=ej,eF.isDayjs=eL,eF.unix=function(eu){return eF(1e3*eu)},eF.en=eB[eD],eF.Ls=eB,eF.p={},eF})},16017:function(eu){!function(ed,eg){eu.exports=eg()}(0,function(){return{name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(eu){var ed=["th","st","nd","rd"],eg=eu%100;return"["+eu+(ed[(eg-20)%10]||ed[eg]||ed[0])+"]"}}})},77491:function(eu){!function(ed,eg){eu.exports=eg()}(0,function(){return function(eu,ed,eg){eu=eu||{};var em=ed.prototype,eb={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function ew(eu,ed,eg,eb){return em.fromToBase(eu,ed,eg,eb)}eg.en.relativeTime=eb,em.fromToBase=function(ed,em,ew,e_,eE){for(var eA,eS,eI,eC=ew.$locale().relativeTime||eb,eM=eu.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],eO=eM.length,eT=0;eT<eO;eT+=1){var eP=eM[eT];eP.d&&(eA=e_?eg(ed).diff(ew,eP.d,!0):ew.diff(ed,eP.d,!0));var eN=(eu.rounding||Math.round)(Math.abs(eA));if(eI=eA>0,eN<=eP.r||!eP.r){eN<=1&&eT>0&&(eP=eM[eT-1]);var ek=eC[eP.l];eE&&(eN=eE(""+eN)),eS="string"==typeof ek?ek.replace("%d",eN):ek(eN,em,eP.l,eI);break}}if(em)return eS;var eR=eI?eC.future:eC.past;return"function"==typeof eR?eR(eS):eR.replace("%s",eS)},em.to=function(eu,ed){return ew(eu,ed,this,!0)},em.from=function(eu,ed){return ew(eu,ed,this)};var e_=function(eu){return eu.$u?eg.utc():eg()};em.toNow=function(eu){return this.to(e_(this),eu)},em.fromNow=function(eu){return this.from(e_(this),eu)}}})},53193:function(eu){!function(ed,eg){eu.exports=eg()}(0,function(){return function(eu,ed,eg){eg.updateLocale=function(eu,ed){var em=eg.Ls[eu];if(em)return(ed?Object.keys(ed):[]).forEach(function(eu){em[eu]=ed[eu]}),em}}})},15554:function(eu){"use strict";var ed="%[a-f0-9]{2}",eg=RegExp("("+ed+")|([^%]+?)","gi"),em=RegExp("("+ed+")+","gi");function eb(eu,ed){try{return[decodeURIComponent(eu.join(""))]}catch(eu){}if(1===eu.length)return eu;ed=ed||1;var eg=eu.slice(0,ed),em=eu.slice(ed);return Array.prototype.concat.call([],eb(eg),eb(em))}function ew(eu){try{return decodeURIComponent(eu)}catch(ew){for(var ed=eu.match(eg)||[],em=1;em<ed.length;em++)ed=(eu=eb(ed,em).join("")).match(eg)||[];return eu}}function e_(eu){for(var ed={"%FE%FF":"","%FF%FE":""},eg=em.exec(eu);eg;){try{ed[eg[0]]=decodeURIComponent(eg[0])}catch(eu){var eb=ew(eg[0]);eb!==eg[0]&&(ed[eg[0]]=eb)}eg=em.exec(eu)}ed["%C2"]="";for(var e_=Object.keys(ed),eE=0;eE<e_.length;eE++){var eA=e_[eE];eu=eu.replace(RegExp(eA,"g"),ed[eA])}return eu}eu.exports=function(eu){if("string"!=typeof eu)throw TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof eu+"`");try{return eu=eu.replace(/\+/g," "),decodeURIComponent(eu)}catch(ed){return e_(eu)}}},75195:function(eu,ed,eg){"use strict";var em=eg(70999),eb=eg(48342),ew=eg(5408),e_=eg(50326);eu.exports=function(eu,ed,eg){if(!eu||"object"!=typeof eu&&"function"!=typeof eu)throw new ew("`obj` must be an object or a function`");if("string"!=typeof ed&&"symbol"!=typeof ed)throw new ew("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new ew("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new ew("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new ew("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new ew("`loose`, if provided, must be a boolean");var eE=arguments.length>3?arguments[3]:null,eA=arguments.length>4?arguments[4]:null,eS=arguments.length>5?arguments[5]:null,eI=arguments.length>6&&arguments[6],eC=!!e_&&e_(eu,ed);if(em)em(eu,ed,{configurable:null===eS&&eC?eC.configurable:!eS,enumerable:null===eE&&eC?eC.enumerable:!eE,value:eg,writable:null===eA&&eC?eC.writable:!eA});else if(!eI&&(eE||eA||eS))throw new eb("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");else eu[ed]=eg}},64410:function(eu){"use strict";function ed(eu){if(!eu)throw TypeError("argument namespace is required");function ed(eu){}return ed._file=void 0,ed._ignored=!0,ed._namespace=eu,ed._traced=!1,ed._warned=Object.create(null),ed.function=eg,ed.property=em,ed}function eg(eu,ed){if("function"!=typeof eu)throw TypeError("argument fn must be a function");return eu}function em(eu,ed,eg){if(!eu||"object"!=typeof eu&&"function"!=typeof eu)throw TypeError("argument obj must be object");var em=Object.getOwnPropertyDescriptor(eu,ed);if(!em)throw TypeError("must call property on owner object");if(!em.configurable)throw TypeError("property must be configurable")}/*!
 * depd
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */eu.exports=ed},84387:function(eu,ed,eg){"use strict";ed.utils=eg(94112),ed.Cipher=eg(43639),ed.DES=eg(4225),ed.CBC=eg(59692),ed.EDE=eg(4335)},59692:function(eu,ed,eg){"use strict";var em=eg(79561),eb=eg(91285),ew={};function e_(eu){em.equal(eu.length,8,"Invalid IV length"),this.iv=Array(8);for(var ed=0;ed<this.iv.length;ed++)this.iv[ed]=eu[ed]}function eE(eu){function ed(ed){eu.call(this,ed),this._cbcInit()}eb(ed,eu);for(var eg=Object.keys(ew),em=0;em<eg.length;em++){var e_=eg[em];ed.prototype[e_]=ew[e_]}return ed.create=function(eu){return new ed(eu)},ed}ed.instantiate=eE,ew._cbcInit=function(){var eu=new e_(this.options.iv);this._cbcState=eu},ew._update=function(eu,ed,eg,em){var eb=this._cbcState,ew=this.constructor.super_.prototype,e_=eb.iv;if("encrypt"===this.type){for(var eE=0;eE<this.blockSize;eE++)e_[eE]^=eu[ed+eE];ew._update.call(this,e_,0,eg,em);for(var eE=0;eE<this.blockSize;eE++)e_[eE]=eg[em+eE]}else{ew._update.call(this,eu,ed,eg,em);for(var eE=0;eE<this.blockSize;eE++)eg[em+eE]^=e_[eE];for(var eE=0;eE<this.blockSize;eE++)e_[eE]=eu[ed+eE]}}},43639:function(eu,ed,eg){"use strict";var em=eg(79561);function eb(eu){this.options=eu,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=Array(this.blockSize),this.bufferOff=0,this.padding=!1!==eu.padding}eu.exports=eb,eb.prototype._init=function(){},eb.prototype.update=function(eu){return 0===eu.length?[]:"decrypt"===this.type?this._updateDecrypt(eu):this._updateEncrypt(eu)},eb.prototype._buffer=function(eu,ed){for(var eg=Math.min(this.buffer.length-this.bufferOff,eu.length-ed),em=0;em<eg;em++)this.buffer[this.bufferOff+em]=eu[ed+em];return this.bufferOff+=eg,eg},eb.prototype._flushBuffer=function(eu,ed){return this._update(this.buffer,0,eu,ed),this.bufferOff=0,this.blockSize},eb.prototype._updateEncrypt=function(eu){var ed=0,eg=0,em=Array(((this.bufferOff+eu.length)/this.blockSize|0)*this.blockSize);0!==this.bufferOff&&(ed+=this._buffer(eu,ed),this.bufferOff===this.buffer.length&&(eg+=this._flushBuffer(em,eg)));for(var eb=eu.length-(eu.length-ed)%this.blockSize;ed<eb;ed+=this.blockSize)this._update(eu,ed,em,eg),eg+=this.blockSize;for(;ed<eu.length;ed++,this.bufferOff++)this.buffer[this.bufferOff]=eu[ed];return em},eb.prototype._updateDecrypt=function(eu){for(var ed=0,eg=0,em=Math.ceil((this.bufferOff+eu.length)/this.blockSize)-1,eb=Array(em*this.blockSize);em>0;em--)ed+=this._buffer(eu,ed),eg+=this._flushBuffer(eb,eg);return ed+=this._buffer(eu,ed),eb},eb.prototype.final=function(eu){var ed,eg;return(eu&&(ed=this.update(eu)),eg="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),ed)?ed.concat(eg):eg},eb.prototype._pad=function(eu,ed){if(0===ed)return!1;for(;ed<eu.length;)eu[ed++]=0;return!0},eb.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var eu=Array(this.blockSize);return this._update(this.buffer,0,eu,0),eu},eb.prototype._unpad=function(eu){return eu},eb.prototype._finalDecrypt=function(){em.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var eu=Array(this.blockSize);return this._flushBuffer(eu,0),this._unpad(eu)}},4225:function(eu,ed,eg){"use strict";var em=eg(79561),eb=eg(91285),ew=eg(94112),e_=eg(43639);function eE(){this.tmp=[,,],this.keys=null}function eA(eu){e_.call(this,eu);var ed=new eE;this._desState=ed,this.deriveKeys(ed,eu.key)}eb(eA,e_),eu.exports=eA,eA.create=function(eu){return new eA(eu)};var eS=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];eA.prototype.deriveKeys=function(eu,ed){eu.keys=Array(32),em.equal(ed.length,this.blockSize,"Invalid key length");var eg=ew.readUInt32BE(ed,0),eb=ew.readUInt32BE(ed,4);ew.pc1(eg,eb,eu.tmp,0),eg=eu.tmp[0],eb=eu.tmp[1];for(var e_=0;e_<eu.keys.length;e_+=2){var eE=eS[e_>>>1];eg=ew.r28shl(eg,eE),eb=ew.r28shl(eb,eE),ew.pc2(eg,eb,eu.keys,e_)}},eA.prototype._update=function(eu,ed,eg,em){var eb=this._desState,e_=ew.readUInt32BE(eu,ed),eE=ew.readUInt32BE(eu,ed+4);ew.ip(e_,eE,eb.tmp,0),e_=eb.tmp[0],eE=eb.tmp[1],"encrypt"===this.type?this._encrypt(eb,e_,eE,eb.tmp,0):this._decrypt(eb,e_,eE,eb.tmp,0),e_=eb.tmp[0],eE=eb.tmp[1],ew.writeUInt32BE(eg,e_,em),ew.writeUInt32BE(eg,eE,em+4)},eA.prototype._pad=function(eu,ed){if(!1===this.padding)return!1;for(var eg=eu.length-ed,em=ed;em<eu.length;em++)eu[em]=eg;return!0},eA.prototype._unpad=function(eu){if(!1===this.padding)return eu;for(var ed=eu[eu.length-1],eg=eu.length-ed;eg<eu.length;eg++)em.equal(eu[eg],ed);return eu.slice(0,eu.length-ed)},eA.prototype._encrypt=function(eu,ed,eg,em,eb){for(var e_=ed,eE=eg,eA=0;eA<eu.keys.length;eA+=2){var eS=eu.keys[eA],eI=eu.keys[eA+1];ew.expand(eE,eu.tmp,0),eS^=eu.tmp[0],eI^=eu.tmp[1];var eC=ew.substitute(eS,eI),eM=ew.permute(eC),eO=eE;eE=(e_^eM)>>>0,e_=eO}ew.rip(eE,e_,em,eb)},eA.prototype._decrypt=function(eu,ed,eg,em,eb){for(var e_=eg,eE=ed,eA=eu.keys.length-2;eA>=0;eA-=2){var eS=eu.keys[eA],eI=eu.keys[eA+1];ew.expand(e_,eu.tmp,0),eS^=eu.tmp[0],eI^=eu.tmp[1];var eC=ew.substitute(eS,eI),eM=ew.permute(eC),eO=e_;e_=(eE^eM)>>>0,eE=eO}ew.rip(e_,eE,em,eb)}},4335:function(eu,ed,eg){"use strict";var em=eg(79561),eb=eg(91285),ew=eg(43639),e_=eg(4225);function eE(eu,ed){em.equal(ed.length,24,"Invalid key length");var eg=ed.slice(0,8),eb=ed.slice(8,16),ew=ed.slice(16,24);"encrypt"===eu?this.ciphers=[e_.create({type:"encrypt",key:eg}),e_.create({type:"decrypt",key:eb}),e_.create({type:"encrypt",key:ew})]:this.ciphers=[e_.create({type:"decrypt",key:ew}),e_.create({type:"encrypt",key:eb}),e_.create({type:"decrypt",key:eg})]}function eA(eu){ew.call(this,eu);var ed=new eE(this.type,this.options.key);this._edeState=ed}eb(eA,ew),eu.exports=eA,eA.create=function(eu){return new eA(eu)},eA.prototype._update=function(eu,ed,eg,em){var eb=this._edeState;eb.ciphers[0]._update(eu,ed,eg,em),eb.ciphers[1]._update(eg,em,eg,em),eb.ciphers[2]._update(eg,em,eg,em)},eA.prototype._pad=e_.prototype._pad,eA.prototype._unpad=e_.prototype._unpad},94112:function(eu,ed){"use strict";ed.readUInt32BE=function(eu,ed){return(eu[0+ed]<<24|eu[1+ed]<<16|eu[2+ed]<<8|eu[3+ed])>>>0},ed.writeUInt32BE=function(eu,ed,eg){eu[0+eg]=ed>>>24,eu[1+eg]=ed>>>16&255,eu[2+eg]=ed>>>8&255,eu[3+eg]=255&ed},ed.ip=function(eu,ed,eg,em){for(var eb=0,ew=0,e_=6;e_>=0;e_-=2){for(var eE=0;eE<=24;eE+=8)eb<<=1,eb|=ed>>>eE+e_&1;for(var eE=0;eE<=24;eE+=8)eb<<=1,eb|=eu>>>eE+e_&1}for(var e_=6;e_>=0;e_-=2){for(var eE=1;eE<=25;eE+=8)ew<<=1,ew|=ed>>>eE+e_&1;for(var eE=1;eE<=25;eE+=8)ew<<=1,ew|=eu>>>eE+e_&1}eg[em+0]=eb>>>0,eg[em+1]=ew>>>0},ed.rip=function(eu,ed,eg,em){for(var eb=0,ew=0,e_=0;e_<4;e_++)for(var eE=24;eE>=0;eE-=8)eb<<=1,eb|=ed>>>eE+e_&1,eb<<=1,eb|=eu>>>eE+e_&1;for(var e_=4;e_<8;e_++)for(var eE=24;eE>=0;eE-=8)ew<<=1,ew|=ed>>>eE+e_&1,ew<<=1,ew|=eu>>>eE+e_&1;eg[em+0]=eb>>>0,eg[em+1]=ew>>>0},ed.pc1=function(eu,ed,eg,em){for(var eb=0,ew=0,e_=7;e_>=5;e_--){for(var eE=0;eE<=24;eE+=8)eb<<=1,eb|=ed>>eE+e_&1;for(var eE=0;eE<=24;eE+=8)eb<<=1,eb|=eu>>eE+e_&1}for(var eE=0;eE<=24;eE+=8)eb<<=1,eb|=ed>>eE+e_&1;for(var e_=1;e_<=3;e_++){for(var eE=0;eE<=24;eE+=8)ew<<=1,ew|=ed>>eE+e_&1;for(var eE=0;eE<=24;eE+=8)ew<<=1,ew|=eu>>eE+e_&1}for(var eE=0;eE<=24;eE+=8)ew<<=1,ew|=eu>>eE+e_&1;eg[em+0]=eb>>>0,eg[em+1]=ew>>>0},ed.r28shl=function(eu,ed){return eu<<ed&268435455|eu>>>28-ed};var eg=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];ed.pc2=function(eu,ed,em,eb){for(var ew=0,e_=0,eE=eg.length>>>1,eA=0;eA<eE;eA++)ew<<=1,ew|=eu>>>eg[eA]&1;for(var eA=eE;eA<eg.length;eA++)e_<<=1,e_|=ed>>>eg[eA]&1;em[eb+0]=ew>>>0,em[eb+1]=e_>>>0},ed.expand=function(eu,ed,eg){var em=0,eb=0;em=(1&eu)<<5|eu>>>27;for(var ew=23;ew>=15;ew-=4)em<<=6,em|=eu>>>ew&63;for(var ew=11;ew>=3;ew-=4)eb|=eu>>>ew&63,eb<<=6;eb|=(31&eu)<<1|eu>>>31,ed[eg+0]=em>>>0,ed[eg+1]=eb>>>0};var em=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];ed.substitute=function(eu,ed){for(var eg=0,eb=0;eb<4;eb++){var ew=eu>>>18-6*eb&63,e_=em[64*eb+ew];eg<<=4,eg|=e_}for(var eb=0;eb<4;eb++){var ew=ed>>>18-6*eb&63,e_=em[256+64*eb+ew];eg<<=4,eg|=e_}return eg>>>0};var eb=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];ed.permute=function(eu){for(var ed=0,eg=0;eg<eb.length;eg++)ed<<=1,ed|=eu>>>eb[eg]&1;return ed>>>0},ed.padSplit=function(eu,ed,eg){for(var em=eu.toString(2);em.length<ed;)em="0"+em;for(var eb=[],ew=0;ew<ed;ew+=eg)eb.push(em.slice(ew,ew+eg));return eb.join(" ")}},54924:function(eu,ed,eg){"use strict";eg.d(ed,{qY:function(){return eT}});var em=eg(34406),eb=function(eu,ed,eg){if(eg||2==arguments.length)for(var em,eb=0,ew=ed.length;eb<ew;eb++)!em&&eb in ed||(em||(em=Array.prototype.slice.call(ed,0,eb)),em[eb]=ed[eb]);return eu.concat(em||Array.prototype.slice.call(ed))},ew=function(){return function(eu,ed,eg){this.name=eu,this.version=ed,this.os=eg,this.type="browser"}}(),e_=function(){return function(eu){this.version=eu,this.type="node",this.name="node",this.os=em.platform}}(),eE=function(){return function(eu,ed,eg,em){this.name=eu,this.version=ed,this.os=eg,this.bot=em,this.type="bot-device"}}(),eA=function(){return function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}}(),eS=function(){return function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}}(),eI=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,eC=3,eM=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],eO=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function eT(eu){return eu?eN(eu):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new eS:"undefined"!=typeof navigator?eN(navigator.userAgent):eR()}function eP(eu){return""!==eu&&eM.reduce(function(ed,eg){var em=eg[0],eb=eg[1];if(ed)return ed;var ew=eb.exec(eu);return!!ew&&[em,ew]},!1)}function eN(eu){var ed=eP(eu);if(!ed)return null;var eg=ed[0],em=ed[1];if("searchbot"===eg)return new eA;var e_=em[1]&&em[1].split(".").join("_").split("_").slice(0,3);e_?e_.length<eC&&(e_=eb(eb([],e_,!0),eD(eC-e_.length),!0)):e_=[];var eS=e_.join("."),eM=ek(eu),eO=eI.exec(eu);return eO&&eO[1]?new eE(eg,eS,eM,eO[1]):new ew(eg,eS,eM)}function ek(eu){for(var ed=0,eg=eO.length;ed<eg;ed++){var em=eO[ed],eb=em[0];if(em[1].exec(eu))return eb}return null}function eR(){return void 0!==em&&em.version?new e_(em.version.slice(1)):null}function eD(eu){for(var ed=[],eg=0;eg<eu;eg++)ed.push("0");return ed}},67602:function(eu,ed,eg){var em=eg(48834).Buffer,eb=eg(32808),ew=eg(23418),e_=eg(30767);function eE(eu){var ed=new em(ew[eu].prime,"hex"),eg=new em(ew[eu].gen,"hex");return new e_(ed,eg)}var eA={binary:!0,hex:!0,base64:!0};function eS(eu,ed,eg,ew){return em.isBuffer(ed)||void 0===eA[ed]?eS(eu,"binary",ed,eg):(ed=ed||"binary",ew=ew||"binary",eg=eg||new em([2]),em.isBuffer(eg)||(eg=new em(eg,ew)),"number"==typeof eu)?new e_(eb(eu,eg),eg,!0):(em.isBuffer(eu)||(eu=new em(eu,ed)),new e_(eu,eg,!0))}ed.DiffieHellmanGroup=ed.createDiffieHellmanGroup=ed.getDiffieHellman=eE,ed.createDiffieHellman=ed.DiffieHellman=eS},30767:function(eu,ed,eg){var em=eg(48834).Buffer,eb=eg(3908),ew=new(eg(46676)),e_=new eb(24),eE=new eb(11),eA=new eb(10),eS=new eb(3),eI=new eb(7),eC=eg(32808),eM=eg(95003);function eO(eu,ed){return ed=ed||"utf8",em.isBuffer(eu)||(eu=new em(eu,ed)),this._pub=new eb(eu),this}function eT(eu,ed){return ed=ed||"utf8",em.isBuffer(eu)||(eu=new em(eu,ed)),this._priv=new eb(eu),this}eu.exports=ek;var eP={};function eN(eu,ed){var eg,em=ed.toString("hex"),eb=[em,eu.toString(16)].join("_");if(eb in eP)return eP[eb];var eM=0;if(eu.isEven()||!eC.simpleSieve||!eC.fermatTest(eu)||!ew.test(eu))return eM+=1,"02"===em||"05"===em?eM+=8:eM+=4,eP[eb]=eM,eM;switch(ew.test(eu.shrn(1))||(eM+=2),em){case"02":eu.mod(e_).cmp(eE)&&(eM+=8);break;case"05":(eg=eu.mod(eA)).cmp(eS)&&eg.cmp(eI)&&(eM+=8);break;default:eM+=4}return eP[eb]=eM,eM}function ek(eu,ed,eg){this.setGenerator(ed),this.__prime=new eb(eu),this._prime=eb.mont(this.__prime),this._primeLen=eu.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,eg?(this.setPublicKey=eO,this.setPrivateKey=eT):this._primeCode=8}function eR(eu,ed){var eg=new em(eu.toArray());return ed?eg.toString(ed):eg}Object.defineProperty(ek.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=eN(this.__prime,this.__gen)),this._primeCode}}),ek.prototype.generateKeys=function(){return this._priv||(this._priv=new eb(eM(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},ek.prototype.computeSecret=function(eu){var ed=(eu=(eu=new eb(eu)).toRed(this._prime)).redPow(this._priv).fromRed(),eg=new em(ed.toArray()),ew=this.getPrime();if(eg.length<ew.length){var e_=new em(ew.length-eg.length);e_.fill(0),eg=em.concat([e_,eg])}return eg},ek.prototype.getPublicKey=function(eu){return eR(this._pub,eu)},ek.prototype.getPrivateKey=function(eu){return eR(this._priv,eu)},ek.prototype.getPrime=function(eu){return eR(this.__prime,eu)},ek.prototype.getGenerator=function(eu){return eR(this._gen,eu)},ek.prototype.setGenerator=function(eu,ed){return ed=ed||"utf8",em.isBuffer(eu)||(eu=new em(eu,ed)),this.__gen=eu,this._gen=new eb(eu),this}},32808:function(eu,ed,eg){var em=eg(95003);eu.exports=eR,eR.simpleSieve=eN,eR.fermatTest=ek;var eb=eg(3908),ew=new eb(24),e_=new(eg(46676)),eE=new eb(1),eA=new eb(2),eS=new eb(5);new eb(16),new eb(8);var eI=new eb(10),eC=new eb(3);new eb(7);var eM=new eb(11),eO=new eb(4);new eb(12);var eT=null;function eP(){if(null!==eT)return eT;var eu=1048576,ed=[];ed[0]=2;for(var eg=1,em=3;em<eu;em+=2){for(var eb=Math.ceil(Math.sqrt(em)),ew=0;ew<eg&&ed[ew]<=eb&&em%ed[ew]!=0;ew++);eg!==ew&&ed[ew]<=eb||(ed[eg++]=em)}return eT=ed,ed}function eN(eu){for(var ed=eP(),eg=0;eg<ed.length;eg++)if(0===eu.modn(ed[eg])){if(0!==eu.cmpn(ed[eg]))return!1;break}return!0}function ek(eu){var ed=eb.mont(eu);return 0===eA.toRed(ed).redPow(eu.subn(1)).fromRed().cmpn(1)}function eR(eu,ed){var eg,eT;if(eu<16)return new eb(2===ed||5===ed?[140,123]:[140,39]);for(ed=new eb(ed);;){for(eg=new eb(em(Math.ceil(eu/8)));eg.bitLength()>eu;)eg.ishrn(1);if(eg.isEven()&&eg.iadd(eE),eg.testn(1)||eg.iadd(eA),ed.cmp(eA)){if(!ed.cmp(eS))for(;eg.mod(eI).cmp(eC);)eg.iadd(eO)}else for(;eg.mod(ew).cmp(eM);)eg.iadd(eO);if(eN(eT=eg.shrn(1))&&eN(eg)&&ek(eT)&&ek(eg)&&e_.test(eT)&&e_.test(eg))return eg}}},3908:function(eu,ed,eg){!function(eu,ed){"use strict";function em(eu,ed){if(!eu)throw Error(ed||"Assertion failed")}function eb(eu,ed){eu.super_=ed;var eg=function(){};eg.prototype=ed.prototype,eu.prototype=new eg,eu.prototype.constructor=eu}function ew(eu,ed,eg){if(ew.isBN(eu))return eu;this.negative=0,this.words=null,this.length=0,this.red=null,null!==eu&&(("le"===ed||"be"===ed)&&(eg=ed,ed=10),this._init(eu||0,ed||10,eg||"be"))}"object"==typeof eu?eu.exports=ew:ed.BN=ew,ew.BN=ew,ew.wordSize=26;try{eS="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:eg(20395).Buffer}catch(eu){}function e_(eu,ed){var eg=eu.charCodeAt(ed);return eg>=65&&eg<=70?eg-55:eg>=97&&eg<=102?eg-87:eg-48&15}function eE(eu,ed,eg){var em=e_(eu,eg);return eg-1>=ed&&(em|=e_(eu,eg-1)<<4),em}function eA(eu,ed,eg,em){for(var eb=0,ew=Math.min(eu.length,eg),e_=ed;e_<ew;e_++){var eE=eu.charCodeAt(e_)-48;eb*=em,eE>=49?eb+=eE-49+10:eE>=17?eb+=eE-17+10:eb+=eE}return eb}ew.isBN=function(eu){return eu instanceof ew||null!==eu&&"object"==typeof eu&&eu.constructor.wordSize===ew.wordSize&&Array.isArray(eu.words)},ew.max=function(eu,ed){return eu.cmp(ed)>0?eu:ed},ew.min=function(eu,ed){return 0>eu.cmp(ed)?eu:ed},ew.prototype._init=function(eu,ed,eg){if("number"==typeof eu)return this._initNumber(eu,ed,eg);if("object"==typeof eu)return this._initArray(eu,ed,eg);"hex"===ed&&(ed=16),em(ed===(0|ed)&&ed>=2&&ed<=36);var eb=0;"-"===(eu=eu.toString().replace(/\s+/g,""))[0]&&(eb++,this.negative=1),eb<eu.length&&(16===ed?this._parseHex(eu,eb,eg):(this._parseBase(eu,ed,eb),"le"===eg&&this._initArray(this.toArray(),ed,eg)))},ew.prototype._initNumber=function(eu,ed,eg){eu<0&&(this.negative=1,eu=-eu),eu<67108864?(this.words=[67108863&eu],this.length=1):eu<4503599627370496?(this.words=[67108863&eu,eu/67108864&67108863],this.length=2):(em(eu<9007199254740992),this.words=[67108863&eu,eu/67108864&67108863,1],this.length=3),"le"===eg&&this._initArray(this.toArray(),ed,eg)},ew.prototype._initArray=function(eu,ed,eg){if(em("number"==typeof eu.length),eu.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(eu.length/3),this.words=Array(this.length);for(var eb,ew,e_=0;e_<this.length;e_++)this.words[e_]=0;var eE=0;if("be"===eg)for(e_=eu.length-1,eb=0;e_>=0;e_-=3)ew=eu[e_]|eu[e_-1]<<8|eu[e_-2]<<16,this.words[eb]|=ew<<eE&67108863,this.words[eb+1]=ew>>>26-eE&67108863,(eE+=24)>=26&&(eE-=26,eb++);else if("le"===eg)for(e_=0,eb=0;e_<eu.length;e_+=3)ew=eu[e_]|eu[e_+1]<<8|eu[e_+2]<<16,this.words[eb]|=ew<<eE&67108863,this.words[eb+1]=ew>>>26-eE&67108863,(eE+=24)>=26&&(eE-=26,eb++);return this.strip()},ew.prototype._parseHex=function(eu,ed,eg){this.length=Math.ceil((eu.length-ed)/6),this.words=Array(this.length);for(var em,eb=0;eb<this.length;eb++)this.words[eb]=0;var ew=0,e_=0;if("be"===eg)for(eb=eu.length-1;eb>=ed;eb-=2)em=eE(eu,ed,eb)<<ew,this.words[e_]|=67108863&em,ew>=18?(ew-=18,e_+=1,this.words[e_]|=em>>>26):ew+=8;else for(eb=(eu.length-ed)%2==0?ed+1:ed;eb<eu.length;eb+=2)em=eE(eu,ed,eb)<<ew,this.words[e_]|=67108863&em,ew>=18?(ew-=18,e_+=1,this.words[e_]|=em>>>26):ew+=8;this.strip()},ew.prototype._parseBase=function(eu,ed,eg){this.words=[0],this.length=1;for(var em=0,eb=1;eb<=67108863;eb*=ed)em++;em--,eb=eb/ed|0;for(var ew=eu.length-eg,e_=ew%em,eE=Math.min(ew,ew-e_)+eg,eS=0,eI=eg;eI<eE;eI+=em)eS=eA(eu,eI,eI+em,ed),this.imuln(eb),this.words[0]+eS<67108864?this.words[0]+=eS:this._iaddn(eS);if(0!==e_){var eC=1;for(eS=eA(eu,eI,eu.length,ed),eI=0;eI<e_;eI++)eC*=ed;this.imuln(eC),this.words[0]+eS<67108864?this.words[0]+=eS:this._iaddn(eS)}this.strip()},ew.prototype.copy=function(eu){eu.words=Array(this.length);for(var ed=0;ed<this.length;ed++)eu.words[ed]=this.words[ed];eu.length=this.length,eu.negative=this.negative,eu.red=this.red},ew.prototype.clone=function(){var eu=new ew(null);return this.copy(eu),eu},ew.prototype._expand=function(eu){for(;this.length<eu;)this.words[this.length++]=0;return this},ew.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},ew.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},ew.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var eS,eI=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],eC=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],eM=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function eO(eu){for(var ed=Array(eu.bitLength()),eg=0;eg<ed.length;eg++){var em=eg/26|0,eb=eg%26;ed[eg]=(eu.words[em]&1<<eb)>>>eb}return ed}function eT(eu,ed,eg){eg.negative=ed.negative^eu.negative;var em=eu.length+ed.length|0;eg.length=em,em=em-1|0;var eb=0|eu.words[0],ew=0|ed.words[0],e_=eb*ew,eE=67108863&e_,eA=e_/67108864|0;eg.words[0]=eE;for(var eS=1;eS<em;eS++){for(var eI=eA>>>26,eC=67108863&eA,eM=Math.min(eS,ed.length-1),eO=Math.max(0,eS-eu.length+1);eO<=eM;eO++){var eT=eS-eO|0;eI+=(e_=(eb=0|eu.words[eT])*(ew=0|ed.words[eO])+eC)/67108864|0,eC=67108863&e_}eg.words[eS]=0|eC,eA=0|eI}return 0!==eA?eg.words[eS]=0|eA:eg.length--,eg.strip()}ew.prototype.toString=function(eu,ed){if(ed=0|ed||1,16===(eu=eu||10)||"hex"===eu){eg="";for(var eg,eb=0,ew=0,e_=0;e_<this.length;e_++){var eE=this.words[e_],eA=((eE<<eb|ew)&16777215).toString(16);ew=eE>>>24-eb&16777215,(eb+=2)>=26&&(eb-=26,e_--),eg=0!==ew||e_!==this.length-1?eI[6-eA.length]+eA+eg:eA+eg}for(0!==ew&&(eg=ew.toString(16)+eg);eg.length%ed!=0;)eg="0"+eg;return 0!==this.negative&&(eg="-"+eg),eg}if(eu===(0|eu)&&eu>=2&&eu<=36){var eS=eC[eu],eO=eM[eu];eg="";var eT=this.clone();for(eT.negative=0;!eT.isZero();){var eP=eT.modn(eO).toString(eu);eg=(eT=eT.idivn(eO)).isZero()?eP+eg:eI[eS-eP.length]+eP+eg}for(this.isZero()&&(eg="0"+eg);eg.length%ed!=0;)eg="0"+eg;return 0!==this.negative&&(eg="-"+eg),eg}em(!1,"Base should be between 2 and 36")},ew.prototype.toNumber=function(){var eu=this.words[0];return 2===this.length?eu+=67108864*this.words[1]:3===this.length&&1===this.words[2]?eu+=4503599627370496+67108864*this.words[1]:this.length>2&&em(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-eu:eu},ew.prototype.toJSON=function(){return this.toString(16)},ew.prototype.toBuffer=function(eu,ed){return em(void 0!==eS),this.toArrayLike(eS,eu,ed)},ew.prototype.toArray=function(eu,ed){return this.toArrayLike(Array,eu,ed)},ew.prototype.toArrayLike=function(eu,ed,eg){var eb,ew,e_=this.byteLength(),eE=eg||Math.max(1,e_);em(e_<=eE,"byte array longer than desired length"),em(eE>0,"Requested array length <= 0"),this.strip();var eA="le"===ed,eS=new eu(eE),eI=this.clone();if(eA){for(ew=0;!eI.isZero();ew++)eb=eI.andln(255),eI.iushrn(8),eS[ew]=eb;for(;ew<eE;ew++)eS[ew]=0}else{for(ew=0;ew<eE-e_;ew++)eS[ew]=0;for(ew=0;!eI.isZero();ew++)eb=eI.andln(255),eI.iushrn(8),eS[eE-ew-1]=eb}return eS},Math.clz32?ew.prototype._countBits=function(eu){return 32-Math.clz32(eu)}:ew.prototype._countBits=function(eu){var ed=eu,eg=0;return ed>=4096&&(eg+=13,ed>>>=13),ed>=64&&(eg+=7,ed>>>=7),ed>=8&&(eg+=4,ed>>>=4),ed>=2&&(eg+=2,ed>>>=2),eg+ed},ew.prototype._zeroBits=function(eu){if(0===eu)return 26;var ed=eu,eg=0;return(8191&ed)==0&&(eg+=13,ed>>>=13),(127&ed)==0&&(eg+=7,ed>>>=7),(15&ed)==0&&(eg+=4,ed>>>=4),(3&ed)==0&&(eg+=2,ed>>>=2),(1&ed)==0&&eg++,eg},ew.prototype.bitLength=function(){var eu=this.words[this.length-1],ed=this._countBits(eu);return(this.length-1)*26+ed},ew.prototype.zeroBits=function(){if(this.isZero())return 0;for(var eu=0,ed=0;ed<this.length;ed++){var eg=this._zeroBits(this.words[ed]);if(eu+=eg,26!==eg)break}return eu},ew.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},ew.prototype.toTwos=function(eu){return 0!==this.negative?this.abs().inotn(eu).iaddn(1):this.clone()},ew.prototype.fromTwos=function(eu){return this.testn(eu-1)?this.notn(eu).iaddn(1).ineg():this.clone()},ew.prototype.isNeg=function(){return 0!==this.negative},ew.prototype.neg=function(){return this.clone().ineg()},ew.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},ew.prototype.iuor=function(eu){for(;this.length<eu.length;)this.words[this.length++]=0;for(var ed=0;ed<eu.length;ed++)this.words[ed]=this.words[ed]|eu.words[ed];return this.strip()},ew.prototype.ior=function(eu){return em((this.negative|eu.negative)==0),this.iuor(eu)},ew.prototype.or=function(eu){return this.length>eu.length?this.clone().ior(eu):eu.clone().ior(this)},ew.prototype.uor=function(eu){return this.length>eu.length?this.clone().iuor(eu):eu.clone().iuor(this)},ew.prototype.iuand=function(eu){var ed;ed=this.length>eu.length?eu:this;for(var eg=0;eg<ed.length;eg++)this.words[eg]=this.words[eg]&eu.words[eg];return this.length=ed.length,this.strip()},ew.prototype.iand=function(eu){return em((this.negative|eu.negative)==0),this.iuand(eu)},ew.prototype.and=function(eu){return this.length>eu.length?this.clone().iand(eu):eu.clone().iand(this)},ew.prototype.uand=function(eu){return this.length>eu.length?this.clone().iuand(eu):eu.clone().iuand(this)},ew.prototype.iuxor=function(eu){this.length>eu.length?(ed=this,eg=eu):(ed=eu,eg=this);for(var ed,eg,em=0;em<eg.length;em++)this.words[em]=ed.words[em]^eg.words[em];if(this!==ed)for(;em<ed.length;em++)this.words[em]=ed.words[em];return this.length=ed.length,this.strip()},ew.prototype.ixor=function(eu){return em((this.negative|eu.negative)==0),this.iuxor(eu)},ew.prototype.xor=function(eu){return this.length>eu.length?this.clone().ixor(eu):eu.clone().ixor(this)},ew.prototype.uxor=function(eu){return this.length>eu.length?this.clone().iuxor(eu):eu.clone().iuxor(this)},ew.prototype.inotn=function(eu){em("number"==typeof eu&&eu>=0);var ed=0|Math.ceil(eu/26),eg=eu%26;this._expand(ed),eg>0&&ed--;for(var eb=0;eb<ed;eb++)this.words[eb]=67108863&~this.words[eb];return eg>0&&(this.words[eb]=~this.words[eb]&67108863>>26-eg),this.strip()},ew.prototype.notn=function(eu){return this.clone().inotn(eu)},ew.prototype.setn=function(eu,ed){em("number"==typeof eu&&eu>=0);var eg=eu/26|0,eb=eu%26;return this._expand(eg+1),ed?this.words[eg]=this.words[eg]|1<<eb:this.words[eg]=this.words[eg]&~(1<<eb),this.strip()},ew.prototype.iadd=function(eu){if(0!==this.negative&&0===eu.negative)return this.negative=0,ed=this.isub(eu),this.negative^=1,this._normSign();if(0===this.negative&&0!==eu.negative)return eu.negative=0,ed=this.isub(eu),eu.negative=1,ed._normSign();this.length>eu.length?(eg=this,em=eu):(eg=eu,em=this);for(var ed,eg,em,eb=0,ew=0;ew<em.length;ew++)ed=(0|eg.words[ew])+(0|em.words[ew])+eb,this.words[ew]=67108863&ed,eb=ed>>>26;for(;0!==eb&&ew<eg.length;ew++)ed=(0|eg.words[ew])+eb,this.words[ew]=67108863&ed,eb=ed>>>26;if(this.length=eg.length,0!==eb)this.words[this.length]=eb,this.length++;else if(eg!==this)for(;ew<eg.length;ew++)this.words[ew]=eg.words[ew];return this},ew.prototype.add=function(eu){var ed;return 0!==eu.negative&&0===this.negative?(eu.negative=0,ed=this.sub(eu),eu.negative^=1,ed):0===eu.negative&&0!==this.negative?(this.negative=0,ed=eu.sub(this),this.negative=1,ed):this.length>eu.length?this.clone().iadd(eu):eu.clone().iadd(this)},ew.prototype.isub=function(eu){if(0!==eu.negative){eu.negative=0;var ed,eg,em=this.iadd(eu);return eu.negative=1,em._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(eu),this.negative=1,this._normSign();var eb=this.cmp(eu);if(0===eb)return this.negative=0,this.length=1,this.words[0]=0,this;eb>0?(ed=this,eg=eu):(ed=eu,eg=this);for(var ew=0,e_=0;e_<eg.length;e_++)ew=(em=(0|ed.words[e_])-(0|eg.words[e_])+ew)>>26,this.words[e_]=67108863&em;for(;0!==ew&&e_<ed.length;e_++)ew=(em=(0|ed.words[e_])+ew)>>26,this.words[e_]=67108863&em;if(0===ew&&e_<ed.length&&ed!==this)for(;e_<ed.length;e_++)this.words[e_]=ed.words[e_];return this.length=Math.max(this.length,e_),ed!==this&&(this.negative=1),this.strip()},ew.prototype.sub=function(eu){return this.clone().isub(eu)};var eP=function(eu,ed,eg){var em,eb,ew,e_=eu.words,eE=ed.words,eA=eg.words,eS=0,eI=0|e_[0],eC=8191&eI,eM=eI>>>13,eO=0|e_[1],eT=8191&eO,eP=eO>>>13,eN=0|e_[2],ek=8191&eN,eR=eN>>>13,eD=0|e_[3],eB=8191&eD,eU=eD>>>13,eL=0|e_[4],ej=8191&eL,eF=eL>>>13,e$=0|e_[5],eK=8191&e$,eH=e$>>>13,eV=0|e_[6],eG=8191&eV,eW=eV>>>13,eJ=0|e_[7],eZ=8191&eJ,eY=eJ>>>13,eX=0|e_[8],eQ=8191&eX,e0=eX>>>13,e6=0|e_[9],e8=8191&e6,e5=e6>>>13,e9=0|eE[0],e7=8191&e9,tu=e9>>>13,th=0|eE[1],td=8191&th,tg=th>>>13,ty=0|eE[2],tb=8191&ty,tw=ty>>>13,t_=0|eE[3],tE=8191&t_,tA=t_>>>13,tS=0|eE[4],tI=8191&tS,tC=tS>>>13,tO=0|eE[5],tT=8191&tO,tP=tO>>>13,tN=0|eE[6],tR=8191&tN,tD=tN>>>13,tB=0|eE[7],tU=8191&tB,tL=tB>>>13,tj=0|eE[8],tF=8191&tj,t$=tj>>>13,tK=0|eE[9],tq=8191&tK,tz=tK>>>13;eg.negative=eu.negative^ed.negative,eg.length=19;var tH=(eS+(em=Math.imul(eC,e7))|0)+((8191&(eb=(eb=Math.imul(eC,tu))+Math.imul(eM,e7)|0))<<13)|0;eS=((ew=Math.imul(eM,tu))+(eb>>>13)|0)+(tH>>>26)|0,tH&=67108863,em=Math.imul(eT,e7),eb=(eb=Math.imul(eT,tu))+Math.imul(eP,e7)|0,ew=Math.imul(eP,tu);var tV=(eS+(em=em+Math.imul(eC,td)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eC,tg)|0)+Math.imul(eM,td)|0))<<13)|0;eS=((ew=ew+Math.imul(eM,tg)|0)+(eb>>>13)|0)+(tV>>>26)|0,tV&=67108863,em=Math.imul(ek,e7),eb=(eb=Math.imul(ek,tu))+Math.imul(eR,e7)|0,ew=Math.imul(eR,tu),em=em+Math.imul(eT,td)|0,eb=(eb=eb+Math.imul(eT,tg)|0)+Math.imul(eP,td)|0,ew=ew+Math.imul(eP,tg)|0;var tG=(eS+(em=em+Math.imul(eC,tb)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eC,tw)|0)+Math.imul(eM,tb)|0))<<13)|0;eS=((ew=ew+Math.imul(eM,tw)|0)+(eb>>>13)|0)+(tG>>>26)|0,tG&=67108863,em=Math.imul(eB,e7),eb=(eb=Math.imul(eB,tu))+Math.imul(eU,e7)|0,ew=Math.imul(eU,tu),em=em+Math.imul(ek,td)|0,eb=(eb=eb+Math.imul(ek,tg)|0)+Math.imul(eR,td)|0,ew=ew+Math.imul(eR,tg)|0,em=em+Math.imul(eT,tb)|0,eb=(eb=eb+Math.imul(eT,tw)|0)+Math.imul(eP,tb)|0,ew=ew+Math.imul(eP,tw)|0;var tW=(eS+(em=em+Math.imul(eC,tE)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eC,tA)|0)+Math.imul(eM,tE)|0))<<13)|0;eS=((ew=ew+Math.imul(eM,tA)|0)+(eb>>>13)|0)+(tW>>>26)|0,tW&=67108863,em=Math.imul(ej,e7),eb=(eb=Math.imul(ej,tu))+Math.imul(eF,e7)|0,ew=Math.imul(eF,tu),em=em+Math.imul(eB,td)|0,eb=(eb=eb+Math.imul(eB,tg)|0)+Math.imul(eU,td)|0,ew=ew+Math.imul(eU,tg)|0,em=em+Math.imul(ek,tb)|0,eb=(eb=eb+Math.imul(ek,tw)|0)+Math.imul(eR,tb)|0,ew=ew+Math.imul(eR,tw)|0,em=em+Math.imul(eT,tE)|0,eb=(eb=eb+Math.imul(eT,tA)|0)+Math.imul(eP,tE)|0,ew=ew+Math.imul(eP,tA)|0;var tJ=(eS+(em=em+Math.imul(eC,tI)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eC,tC)|0)+Math.imul(eM,tI)|0))<<13)|0;eS=((ew=ew+Math.imul(eM,tC)|0)+(eb>>>13)|0)+(tJ>>>26)|0,tJ&=67108863,em=Math.imul(eK,e7),eb=(eb=Math.imul(eK,tu))+Math.imul(eH,e7)|0,ew=Math.imul(eH,tu),em=em+Math.imul(ej,td)|0,eb=(eb=eb+Math.imul(ej,tg)|0)+Math.imul(eF,td)|0,ew=ew+Math.imul(eF,tg)|0,em=em+Math.imul(eB,tb)|0,eb=(eb=eb+Math.imul(eB,tw)|0)+Math.imul(eU,tb)|0,ew=ew+Math.imul(eU,tw)|0,em=em+Math.imul(ek,tE)|0,eb=(eb=eb+Math.imul(ek,tA)|0)+Math.imul(eR,tE)|0,ew=ew+Math.imul(eR,tA)|0,em=em+Math.imul(eT,tI)|0,eb=(eb=eb+Math.imul(eT,tC)|0)+Math.imul(eP,tI)|0,ew=ew+Math.imul(eP,tC)|0;var tZ=(eS+(em=em+Math.imul(eC,tT)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eC,tP)|0)+Math.imul(eM,tT)|0))<<13)|0;eS=((ew=ew+Math.imul(eM,tP)|0)+(eb>>>13)|0)+(tZ>>>26)|0,tZ&=67108863,em=Math.imul(eG,e7),eb=(eb=Math.imul(eG,tu))+Math.imul(eW,e7)|0,ew=Math.imul(eW,tu),em=em+Math.imul(eK,td)|0,eb=(eb=eb+Math.imul(eK,tg)|0)+Math.imul(eH,td)|0,ew=ew+Math.imul(eH,tg)|0,em=em+Math.imul(ej,tb)|0,eb=(eb=eb+Math.imul(ej,tw)|0)+Math.imul(eF,tb)|0,ew=ew+Math.imul(eF,tw)|0,em=em+Math.imul(eB,tE)|0,eb=(eb=eb+Math.imul(eB,tA)|0)+Math.imul(eU,tE)|0,ew=ew+Math.imul(eU,tA)|0,em=em+Math.imul(ek,tI)|0,eb=(eb=eb+Math.imul(ek,tC)|0)+Math.imul(eR,tI)|0,ew=ew+Math.imul(eR,tC)|0,em=em+Math.imul(eT,tT)|0,eb=(eb=eb+Math.imul(eT,tP)|0)+Math.imul(eP,tT)|0,ew=ew+Math.imul(eP,tP)|0;var tY=(eS+(em=em+Math.imul(eC,tR)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eC,tD)|0)+Math.imul(eM,tR)|0))<<13)|0;eS=((ew=ew+Math.imul(eM,tD)|0)+(eb>>>13)|0)+(tY>>>26)|0,tY&=67108863,em=Math.imul(eZ,e7),eb=(eb=Math.imul(eZ,tu))+Math.imul(eY,e7)|0,ew=Math.imul(eY,tu),em=em+Math.imul(eG,td)|0,eb=(eb=eb+Math.imul(eG,tg)|0)+Math.imul(eW,td)|0,ew=ew+Math.imul(eW,tg)|0,em=em+Math.imul(eK,tb)|0,eb=(eb=eb+Math.imul(eK,tw)|0)+Math.imul(eH,tb)|0,ew=ew+Math.imul(eH,tw)|0,em=em+Math.imul(ej,tE)|0,eb=(eb=eb+Math.imul(ej,tA)|0)+Math.imul(eF,tE)|0,ew=ew+Math.imul(eF,tA)|0,em=em+Math.imul(eB,tI)|0,eb=(eb=eb+Math.imul(eB,tC)|0)+Math.imul(eU,tI)|0,ew=ew+Math.imul(eU,tC)|0,em=em+Math.imul(ek,tT)|0,eb=(eb=eb+Math.imul(ek,tP)|0)+Math.imul(eR,tT)|0,ew=ew+Math.imul(eR,tP)|0,em=em+Math.imul(eT,tR)|0,eb=(eb=eb+Math.imul(eT,tD)|0)+Math.imul(eP,tR)|0,ew=ew+Math.imul(eP,tD)|0;var tX=(eS+(em=em+Math.imul(eC,tU)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eC,tL)|0)+Math.imul(eM,tU)|0))<<13)|0;eS=((ew=ew+Math.imul(eM,tL)|0)+(eb>>>13)|0)+(tX>>>26)|0,tX&=67108863,em=Math.imul(eQ,e7),eb=(eb=Math.imul(eQ,tu))+Math.imul(e0,e7)|0,ew=Math.imul(e0,tu),em=em+Math.imul(eZ,td)|0,eb=(eb=eb+Math.imul(eZ,tg)|0)+Math.imul(eY,td)|0,ew=ew+Math.imul(eY,tg)|0,em=em+Math.imul(eG,tb)|0,eb=(eb=eb+Math.imul(eG,tw)|0)+Math.imul(eW,tb)|0,ew=ew+Math.imul(eW,tw)|0,em=em+Math.imul(eK,tE)|0,eb=(eb=eb+Math.imul(eK,tA)|0)+Math.imul(eH,tE)|0,ew=ew+Math.imul(eH,tA)|0,em=em+Math.imul(ej,tI)|0,eb=(eb=eb+Math.imul(ej,tC)|0)+Math.imul(eF,tI)|0,ew=ew+Math.imul(eF,tC)|0,em=em+Math.imul(eB,tT)|0,eb=(eb=eb+Math.imul(eB,tP)|0)+Math.imul(eU,tT)|0,ew=ew+Math.imul(eU,tP)|0,em=em+Math.imul(ek,tR)|0,eb=(eb=eb+Math.imul(ek,tD)|0)+Math.imul(eR,tR)|0,ew=ew+Math.imul(eR,tD)|0,em=em+Math.imul(eT,tU)|0,eb=(eb=eb+Math.imul(eT,tL)|0)+Math.imul(eP,tU)|0,ew=ew+Math.imul(eP,tL)|0;var tQ=(eS+(em=em+Math.imul(eC,tF)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eC,t$)|0)+Math.imul(eM,tF)|0))<<13)|0;eS=((ew=ew+Math.imul(eM,t$)|0)+(eb>>>13)|0)+(tQ>>>26)|0,tQ&=67108863,em=Math.imul(e8,e7),eb=(eb=Math.imul(e8,tu))+Math.imul(e5,e7)|0,ew=Math.imul(e5,tu),em=em+Math.imul(eQ,td)|0,eb=(eb=eb+Math.imul(eQ,tg)|0)+Math.imul(e0,td)|0,ew=ew+Math.imul(e0,tg)|0,em=em+Math.imul(eZ,tb)|0,eb=(eb=eb+Math.imul(eZ,tw)|0)+Math.imul(eY,tb)|0,ew=ew+Math.imul(eY,tw)|0,em=em+Math.imul(eG,tE)|0,eb=(eb=eb+Math.imul(eG,tA)|0)+Math.imul(eW,tE)|0,ew=ew+Math.imul(eW,tA)|0,em=em+Math.imul(eK,tI)|0,eb=(eb=eb+Math.imul(eK,tC)|0)+Math.imul(eH,tI)|0,ew=ew+Math.imul(eH,tC)|0,em=em+Math.imul(ej,tT)|0,eb=(eb=eb+Math.imul(ej,tP)|0)+Math.imul(eF,tT)|0,ew=ew+Math.imul(eF,tP)|0,em=em+Math.imul(eB,tR)|0,eb=(eb=eb+Math.imul(eB,tD)|0)+Math.imul(eU,tR)|0,ew=ew+Math.imul(eU,tD)|0,em=em+Math.imul(ek,tU)|0,eb=(eb=eb+Math.imul(ek,tL)|0)+Math.imul(eR,tU)|0,ew=ew+Math.imul(eR,tL)|0,em=em+Math.imul(eT,tF)|0,eb=(eb=eb+Math.imul(eT,t$)|0)+Math.imul(eP,tF)|0,ew=ew+Math.imul(eP,t$)|0;var t6=(eS+(em=em+Math.imul(eC,tq)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eC,tz)|0)+Math.imul(eM,tq)|0))<<13)|0;eS=((ew=ew+Math.imul(eM,tz)|0)+(eb>>>13)|0)+(t6>>>26)|0,t6&=67108863,em=Math.imul(e8,td),eb=(eb=Math.imul(e8,tg))+Math.imul(e5,td)|0,ew=Math.imul(e5,tg),em=em+Math.imul(eQ,tb)|0,eb=(eb=eb+Math.imul(eQ,tw)|0)+Math.imul(e0,tb)|0,ew=ew+Math.imul(e0,tw)|0,em=em+Math.imul(eZ,tE)|0,eb=(eb=eb+Math.imul(eZ,tA)|0)+Math.imul(eY,tE)|0,ew=ew+Math.imul(eY,tA)|0,em=em+Math.imul(eG,tI)|0,eb=(eb=eb+Math.imul(eG,tC)|0)+Math.imul(eW,tI)|0,ew=ew+Math.imul(eW,tC)|0,em=em+Math.imul(eK,tT)|0,eb=(eb=eb+Math.imul(eK,tP)|0)+Math.imul(eH,tT)|0,ew=ew+Math.imul(eH,tP)|0,em=em+Math.imul(ej,tR)|0,eb=(eb=eb+Math.imul(ej,tD)|0)+Math.imul(eF,tR)|0,ew=ew+Math.imul(eF,tD)|0,em=em+Math.imul(eB,tU)|0,eb=(eb=eb+Math.imul(eB,tL)|0)+Math.imul(eU,tU)|0,ew=ew+Math.imul(eU,tL)|0,em=em+Math.imul(ek,tF)|0,eb=(eb=eb+Math.imul(ek,t$)|0)+Math.imul(eR,tF)|0,ew=ew+Math.imul(eR,t$)|0;var t8=(eS+(em=em+Math.imul(eT,tq)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eT,tz)|0)+Math.imul(eP,tq)|0))<<13)|0;eS=((ew=ew+Math.imul(eP,tz)|0)+(eb>>>13)|0)+(t8>>>26)|0,t8&=67108863,em=Math.imul(e8,tb),eb=(eb=Math.imul(e8,tw))+Math.imul(e5,tb)|0,ew=Math.imul(e5,tw),em=em+Math.imul(eQ,tE)|0,eb=(eb=eb+Math.imul(eQ,tA)|0)+Math.imul(e0,tE)|0,ew=ew+Math.imul(e0,tA)|0,em=em+Math.imul(eZ,tI)|0,eb=(eb=eb+Math.imul(eZ,tC)|0)+Math.imul(eY,tI)|0,ew=ew+Math.imul(eY,tC)|0,em=em+Math.imul(eG,tT)|0,eb=(eb=eb+Math.imul(eG,tP)|0)+Math.imul(eW,tT)|0,ew=ew+Math.imul(eW,tP)|0,em=em+Math.imul(eK,tR)|0,eb=(eb=eb+Math.imul(eK,tD)|0)+Math.imul(eH,tR)|0,ew=ew+Math.imul(eH,tD)|0,em=em+Math.imul(ej,tU)|0,eb=(eb=eb+Math.imul(ej,tL)|0)+Math.imul(eF,tU)|0,ew=ew+Math.imul(eF,tL)|0,em=em+Math.imul(eB,tF)|0,eb=(eb=eb+Math.imul(eB,t$)|0)+Math.imul(eU,tF)|0,ew=ew+Math.imul(eU,t$)|0;var t5=(eS+(em=em+Math.imul(ek,tq)|0)|0)+((8191&(eb=(eb=eb+Math.imul(ek,tz)|0)+Math.imul(eR,tq)|0))<<13)|0;eS=((ew=ew+Math.imul(eR,tz)|0)+(eb>>>13)|0)+(t5>>>26)|0,t5&=67108863,em=Math.imul(e8,tE),eb=(eb=Math.imul(e8,tA))+Math.imul(e5,tE)|0,ew=Math.imul(e5,tA),em=em+Math.imul(eQ,tI)|0,eb=(eb=eb+Math.imul(eQ,tC)|0)+Math.imul(e0,tI)|0,ew=ew+Math.imul(e0,tC)|0,em=em+Math.imul(eZ,tT)|0,eb=(eb=eb+Math.imul(eZ,tP)|0)+Math.imul(eY,tT)|0,ew=ew+Math.imul(eY,tP)|0,em=em+Math.imul(eG,tR)|0,eb=(eb=eb+Math.imul(eG,tD)|0)+Math.imul(eW,tR)|0,ew=ew+Math.imul(eW,tD)|0,em=em+Math.imul(eK,tU)|0,eb=(eb=eb+Math.imul(eK,tL)|0)+Math.imul(eH,tU)|0,ew=ew+Math.imul(eH,tL)|0,em=em+Math.imul(ej,tF)|0,eb=(eb=eb+Math.imul(ej,t$)|0)+Math.imul(eF,tF)|0,ew=ew+Math.imul(eF,t$)|0;var t4=(eS+(em=em+Math.imul(eB,tq)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eB,tz)|0)+Math.imul(eU,tq)|0))<<13)|0;eS=((ew=ew+Math.imul(eU,tz)|0)+(eb>>>13)|0)+(t4>>>26)|0,t4&=67108863,em=Math.imul(e8,tI),eb=(eb=Math.imul(e8,tC))+Math.imul(e5,tI)|0,ew=Math.imul(e5,tC),em=em+Math.imul(eQ,tT)|0,eb=(eb=eb+Math.imul(eQ,tP)|0)+Math.imul(e0,tT)|0,ew=ew+Math.imul(e0,tP)|0,em=em+Math.imul(eZ,tR)|0,eb=(eb=eb+Math.imul(eZ,tD)|0)+Math.imul(eY,tR)|0,ew=ew+Math.imul(eY,tD)|0,em=em+Math.imul(eG,tU)|0,eb=(eb=eb+Math.imul(eG,tL)|0)+Math.imul(eW,tU)|0,ew=ew+Math.imul(eW,tL)|0,em=em+Math.imul(eK,tF)|0,eb=(eb=eb+Math.imul(eK,t$)|0)+Math.imul(eH,tF)|0,ew=ew+Math.imul(eH,t$)|0;var t9=(eS+(em=em+Math.imul(ej,tq)|0)|0)+((8191&(eb=(eb=eb+Math.imul(ej,tz)|0)+Math.imul(eF,tq)|0))<<13)|0;eS=((ew=ew+Math.imul(eF,tz)|0)+(eb>>>13)|0)+(t9>>>26)|0,t9&=67108863,em=Math.imul(e8,tT),eb=(eb=Math.imul(e8,tP))+Math.imul(e5,tT)|0,ew=Math.imul(e5,tP),em=em+Math.imul(eQ,tR)|0,eb=(eb=eb+Math.imul(eQ,tD)|0)+Math.imul(e0,tR)|0,ew=ew+Math.imul(e0,tD)|0,em=em+Math.imul(eZ,tU)|0,eb=(eb=eb+Math.imul(eZ,tL)|0)+Math.imul(eY,tU)|0,ew=ew+Math.imul(eY,tL)|0,em=em+Math.imul(eG,tF)|0,eb=(eb=eb+Math.imul(eG,t$)|0)+Math.imul(eW,tF)|0,ew=ew+Math.imul(eW,t$)|0;var t7=(eS+(em=em+Math.imul(eK,tq)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eK,tz)|0)+Math.imul(eH,tq)|0))<<13)|0;eS=((ew=ew+Math.imul(eH,tz)|0)+(eb>>>13)|0)+(t7>>>26)|0,t7&=67108863,em=Math.imul(e8,tR),eb=(eb=Math.imul(e8,tD))+Math.imul(e5,tR)|0,ew=Math.imul(e5,tD),em=em+Math.imul(eQ,tU)|0,eb=(eb=eb+Math.imul(eQ,tL)|0)+Math.imul(e0,tU)|0,ew=ew+Math.imul(e0,tL)|0,em=em+Math.imul(eZ,tF)|0,eb=(eb=eb+Math.imul(eZ,t$)|0)+Math.imul(eY,tF)|0,ew=ew+Math.imul(eY,t$)|0;var ru=(eS+(em=em+Math.imul(eG,tq)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eG,tz)|0)+Math.imul(eW,tq)|0))<<13)|0;eS=((ew=ew+Math.imul(eW,tz)|0)+(eb>>>13)|0)+(ru>>>26)|0,ru&=67108863,em=Math.imul(e8,tU),eb=(eb=Math.imul(e8,tL))+Math.imul(e5,tU)|0,ew=Math.imul(e5,tL),em=em+Math.imul(eQ,tF)|0,eb=(eb=eb+Math.imul(eQ,t$)|0)+Math.imul(e0,tF)|0,ew=ew+Math.imul(e0,t$)|0;var rd=(eS+(em=em+Math.imul(eZ,tq)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eZ,tz)|0)+Math.imul(eY,tq)|0))<<13)|0;eS=((ew=ew+Math.imul(eY,tz)|0)+(eb>>>13)|0)+(rd>>>26)|0,rd&=67108863,em=Math.imul(e8,tF),eb=(eb=Math.imul(e8,t$))+Math.imul(e5,tF)|0,ew=Math.imul(e5,t$);var rp=(eS+(em=em+Math.imul(eQ,tq)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eQ,tz)|0)+Math.imul(e0,tq)|0))<<13)|0;eS=((ew=ew+Math.imul(e0,tz)|0)+(eb>>>13)|0)+(rp>>>26)|0,rp&=67108863;var rg=(eS+(em=Math.imul(e8,tq))|0)+((8191&(eb=(eb=Math.imul(e8,tz))+Math.imul(e5,tq)|0))<<13)|0;return eS=((ew=Math.imul(e5,tz))+(eb>>>13)|0)+(rg>>>26)|0,rg&=67108863,eA[0]=tH,eA[1]=tV,eA[2]=tG,eA[3]=tW,eA[4]=tJ,eA[5]=tZ,eA[6]=tY,eA[7]=tX,eA[8]=tQ,eA[9]=t6,eA[10]=t8,eA[11]=t5,eA[12]=t4,eA[13]=t9,eA[14]=t7,eA[15]=ru,eA[16]=rd,eA[17]=rp,eA[18]=rg,0!==eS&&(eA[19]=eS,eg.length++),eg};function eN(eu,ed,eg){eg.negative=ed.negative^eu.negative,eg.length=eu.length+ed.length;for(var em=0,eb=0,ew=0;ew<eg.length-1;ew++){var e_=eb;eb=0;for(var eE=67108863&em,eA=Math.min(ew,ed.length-1),eS=Math.max(0,ew-eu.length+1);eS<=eA;eS++){var eI=ew-eS,eC=(0|eu.words[eI])*(0|ed.words[eS]),eM=67108863&eC;e_=e_+(eC/67108864|0)|0,eE=67108863&(eM=eM+eE|0),eb+=(e_=e_+(eM>>>26)|0)>>>26,e_&=67108863}eg.words[ew]=eE,em=e_,e_=eb}return 0!==em?eg.words[ew]=em:eg.length--,eg.strip()}function ek(eu,ed,eg){return new eR().mulp(eu,ed,eg)}function eR(eu,ed){this.x=eu,this.y=ed}Math.imul||(eP=eT),ew.prototype.mulTo=function(eu,ed){var eg=this.length+eu.length;return 10===this.length&&10===eu.length?eP(this,eu,ed):eg<63?eT(this,eu,ed):eg<1024?eN(this,eu,ed):ek(this,eu,ed)},eR.prototype.makeRBT=function(eu){for(var ed=Array(eu),eg=ew.prototype._countBits(eu)-1,em=0;em<eu;em++)ed[em]=this.revBin(em,eg,eu);return ed},eR.prototype.revBin=function(eu,ed,eg){if(0===eu||eu===eg-1)return eu;for(var em=0,eb=0;eb<ed;eb++)em|=(1&eu)<<ed-eb-1,eu>>=1;return em},eR.prototype.permute=function(eu,ed,eg,em,eb,ew){for(var e_=0;e_<ew;e_++)em[e_]=ed[eu[e_]],eb[e_]=eg[eu[e_]]},eR.prototype.transform=function(eu,ed,eg,em,eb,ew){this.permute(ew,eu,ed,eg,em,eb);for(var e_=1;e_<eb;e_<<=1)for(var eE=e_<<1,eA=Math.cos(2*Math.PI/eE),eS=Math.sin(2*Math.PI/eE),eI=0;eI<eb;eI+=eE)for(var eC=eA,eM=eS,eO=0;eO<e_;eO++){var eT=eg[eI+eO],eP=em[eI+eO],eN=eg[eI+eO+e_],ek=em[eI+eO+e_],eR=eC*eN-eM*ek;ek=eC*ek+eM*eN,eN=eR,eg[eI+eO]=eT+eN,em[eI+eO]=eP+ek,eg[eI+eO+e_]=eT-eN,em[eI+eO+e_]=eP-ek,eO!==eE&&(eR=eA*eC-eS*eM,eM=eA*eM+eS*eC,eC=eR)}},eR.prototype.guessLen13b=function(eu,ed){var eg=1|Math.max(ed,eu),em=1&eg,eb=0;for(eg=eg/2|0;eg;eg>>>=1)eb++;return 1<<eb+1+em},eR.prototype.conjugate=function(eu,ed,eg){if(!(eg<=1))for(var em=0;em<eg/2;em++){var eb=eu[em];eu[em]=eu[eg-em-1],eu[eg-em-1]=eb,eb=ed[em],ed[em]=-ed[eg-em-1],ed[eg-em-1]=-eb}},eR.prototype.normalize13b=function(eu,ed){for(var eg=0,em=0;em<ed/2;em++){var eb=8192*Math.round(eu[2*em+1]/ed)+Math.round(eu[2*em]/ed)+eg;eu[em]=67108863&eb,eg=eb<67108864?0:eb/67108864|0}return eu},eR.prototype.convert13b=function(eu,ed,eg,eb){for(var ew=0,e_=0;e_<ed;e_++)ew+=0|eu[e_],eg[2*e_]=8191&ew,ew>>>=13,eg[2*e_+1]=8191&ew,ew>>>=13;for(e_=2*ed;e_<eb;++e_)eg[e_]=0;em(0===ew),em((-8192&ew)==0)},eR.prototype.stub=function(eu){for(var ed=Array(eu),eg=0;eg<eu;eg++)ed[eg]=0;return ed},eR.prototype.mulp=function(eu,ed,eg){var em=2*this.guessLen13b(eu.length,ed.length),eb=this.makeRBT(em),ew=this.stub(em),e_=Array(em),eE=Array(em),eA=Array(em),eS=Array(em),eI=Array(em),eC=Array(em),eM=eg.words;eM.length=em,this.convert13b(eu.words,eu.length,e_,em),this.convert13b(ed.words,ed.length,eS,em),this.transform(e_,ew,eE,eA,em,eb),this.transform(eS,ew,eI,eC,em,eb);for(var eO=0;eO<em;eO++){var eT=eE[eO]*eI[eO]-eA[eO]*eC[eO];eA[eO]=eE[eO]*eC[eO]+eA[eO]*eI[eO],eE[eO]=eT}return this.conjugate(eE,eA,em),this.transform(eE,eA,eM,ew,em,eb),this.conjugate(eM,ew,em),this.normalize13b(eM,em),eg.negative=eu.negative^ed.negative,eg.length=eu.length+ed.length,eg.strip()},ew.prototype.mul=function(eu){var ed=new ew(null);return ed.words=Array(this.length+eu.length),this.mulTo(eu,ed)},ew.prototype.mulf=function(eu){var ed=new ew(null);return ed.words=Array(this.length+eu.length),ek(this,eu,ed)},ew.prototype.imul=function(eu){return this.clone().mulTo(eu,this)},ew.prototype.imuln=function(eu){em("number"==typeof eu),em(eu<67108864);for(var ed=0,eg=0;eg<this.length;eg++){var eb=(0|this.words[eg])*eu,ew=(67108863&eb)+(67108863&ed);ed>>=26,ed+=(eb/67108864|0)+(ew>>>26),this.words[eg]=67108863&ew}return 0!==ed&&(this.words[eg]=ed,this.length++),this.length=0===eu?1:this.length,this},ew.prototype.muln=function(eu){return this.clone().imuln(eu)},ew.prototype.sqr=function(){return this.mul(this)},ew.prototype.isqr=function(){return this.imul(this.clone())},ew.prototype.pow=function(eu){var ed=eO(eu);if(0===ed.length)return new ew(1);for(var eg=this,em=0;em<ed.length&&0===ed[em];em++,eg=eg.sqr());if(++em<ed.length)for(var eb=eg.sqr();em<ed.length;em++,eb=eb.sqr())0!==ed[em]&&(eg=eg.mul(eb));return eg},ew.prototype.iushln=function(eu){em("number"==typeof eu&&eu>=0);var ed,eg=eu%26,eb=(eu-eg)/26,ew=67108863>>>26-eg<<26-eg;if(0!==eg){var e_=0;for(ed=0;ed<this.length;ed++){var eE=this.words[ed]&ew,eA=(0|this.words[ed])-eE<<eg;this.words[ed]=eA|e_,e_=eE>>>26-eg}e_&&(this.words[ed]=e_,this.length++)}if(0!==eb){for(ed=this.length-1;ed>=0;ed--)this.words[ed+eb]=this.words[ed];for(ed=0;ed<eb;ed++)this.words[ed]=0;this.length+=eb}return this.strip()},ew.prototype.ishln=function(eu){return em(0===this.negative),this.iushln(eu)},ew.prototype.iushrn=function(eu,ed,eg){em("number"==typeof eu&&eu>=0),eb=ed?(ed-ed%26)/26:0;var eb,ew=eu%26,e_=Math.min((eu-ew)/26,this.length),eE=67108863^67108863>>>ew<<ew,eA=eg;if(eb-=e_,eb=Math.max(0,eb),eA){for(var eS=0;eS<e_;eS++)eA.words[eS]=this.words[eS];eA.length=e_}if(0===e_);else if(this.length>e_)for(this.length-=e_,eS=0;eS<this.length;eS++)this.words[eS]=this.words[eS+e_];else this.words[0]=0,this.length=1;var eI=0;for(eS=this.length-1;eS>=0&&(0!==eI||eS>=eb);eS--){var eC=0|this.words[eS];this.words[eS]=eI<<26-ew|eC>>>ew,eI=eC&eE}return eA&&0!==eI&&(eA.words[eA.length++]=eI),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},ew.prototype.ishrn=function(eu,ed,eg){return em(0===this.negative),this.iushrn(eu,ed,eg)},ew.prototype.shln=function(eu){return this.clone().ishln(eu)},ew.prototype.ushln=function(eu){return this.clone().iushln(eu)},ew.prototype.shrn=function(eu){return this.clone().ishrn(eu)},ew.prototype.ushrn=function(eu){return this.clone().iushrn(eu)},ew.prototype.testn=function(eu){em("number"==typeof eu&&eu>=0);var ed=eu%26,eg=(eu-ed)/26,eb=1<<ed;return!(this.length<=eg)&&!!(this.words[eg]&eb)},ew.prototype.imaskn=function(eu){em("number"==typeof eu&&eu>=0);var ed=eu%26,eg=(eu-ed)/26;if(em(0===this.negative,"imaskn works only with positive numbers"),this.length<=eg)return this;if(0!==ed&&eg++,this.length=Math.min(eg,this.length),0!==ed){var eb=67108863^67108863>>>ed<<ed;this.words[this.length-1]&=eb}return this.strip()},ew.prototype.maskn=function(eu){return this.clone().imaskn(eu)},ew.prototype.iaddn=function(eu){return(em("number"==typeof eu),em(eu<67108864),eu<0)?this.isubn(-eu):0!==this.negative?1===this.length&&(0|this.words[0])<eu?(this.words[0]=eu-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(eu),this.negative=1,this):this._iaddn(eu)},ew.prototype._iaddn=function(eu){this.words[0]+=eu;for(var ed=0;ed<this.length&&this.words[ed]>=67108864;ed++)this.words[ed]-=67108864,ed===this.length-1?this.words[ed+1]=1:this.words[ed+1]++;return this.length=Math.max(this.length,ed+1),this},ew.prototype.isubn=function(eu){if(em("number"==typeof eu),em(eu<67108864),eu<0)return this.iaddn(-eu);if(0!==this.negative)return this.negative=0,this.iaddn(eu),this.negative=1,this;if(this.words[0]-=eu,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var ed=0;ed<this.length&&this.words[ed]<0;ed++)this.words[ed]+=67108864,this.words[ed+1]-=1;return this.strip()},ew.prototype.addn=function(eu){return this.clone().iaddn(eu)},ew.prototype.subn=function(eu){return this.clone().isubn(eu)},ew.prototype.iabs=function(){return this.negative=0,this},ew.prototype.abs=function(){return this.clone().iabs()},ew.prototype._ishlnsubmul=function(eu,ed,eg){var eb,ew,e_=eu.length+eg;this._expand(e_);var eE=0;for(eb=0;eb<eu.length;eb++){ew=(0|this.words[eb+eg])+eE;var eA=(0|eu.words[eb])*ed;ew-=67108863&eA,eE=(ew>>26)-(eA/67108864|0),this.words[eb+eg]=67108863&ew}for(;eb<this.length-eg;eb++)eE=(ew=(0|this.words[eb+eg])+eE)>>26,this.words[eb+eg]=67108863&ew;if(0===eE)return this.strip();for(em(-1===eE),eE=0,eb=0;eb<this.length;eb++)eE=(ew=-(0|this.words[eb])+eE)>>26,this.words[eb]=67108863&ew;return this.negative=1,this.strip()},ew.prototype._wordDiv=function(eu,ed){var eg,em=this.length-eu.length,eb=this.clone(),e_=eu,eE=0|e_.words[e_.length-1];0!=(em=26-this._countBits(eE))&&(e_=e_.ushln(em),eb.iushln(em),eE=0|e_.words[e_.length-1]);var eA=eb.length-e_.length;if("mod"!==ed){(eg=new ew(null)).length=eA+1,eg.words=Array(eg.length);for(var eS=0;eS<eg.length;eS++)eg.words[eS]=0}var eI=eb.clone()._ishlnsubmul(e_,1,eA);0===eI.negative&&(eb=eI,eg&&(eg.words[eA]=1));for(var eC=eA-1;eC>=0;eC--){var eM=(0|eb.words[e_.length+eC])*67108864+(0|eb.words[e_.length+eC-1]);for(eM=Math.min(eM/eE|0,67108863),eb._ishlnsubmul(e_,eM,eC);0!==eb.negative;)eM--,eb.negative=0,eb._ishlnsubmul(e_,1,eC),eb.isZero()||(eb.negative^=1);eg&&(eg.words[eC]=eM)}return eg&&eg.strip(),eb.strip(),"div"!==ed&&0!==em&&eb.iushrn(em),{div:eg||null,mod:eb}},ew.prototype.divmod=function(eu,ed,eg){var eb,e_,eE;return(em(!eu.isZero()),this.isZero())?{div:new ew(0),mod:new ew(0)}:0!==this.negative&&0===eu.negative?(eE=this.neg().divmod(eu,ed),"mod"!==ed&&(eb=eE.div.neg()),"div"!==ed&&(e_=eE.mod.neg(),eg&&0!==e_.negative&&e_.iadd(eu)),{div:eb,mod:e_}):0===this.negative&&0!==eu.negative?(eE=this.divmod(eu.neg(),ed),"mod"!==ed&&(eb=eE.div.neg()),{div:eb,mod:eE.mod}):(this.negative&eu.negative)!=0?(eE=this.neg().divmod(eu.neg(),ed),"div"!==ed&&(e_=eE.mod.neg(),eg&&0!==e_.negative&&e_.isub(eu)),{div:eE.div,mod:e_}):eu.length>this.length||0>this.cmp(eu)?{div:new ew(0),mod:this}:1===eu.length?"div"===ed?{div:this.divn(eu.words[0]),mod:null}:"mod"===ed?{div:null,mod:new ew(this.modn(eu.words[0]))}:{div:this.divn(eu.words[0]),mod:new ew(this.modn(eu.words[0]))}:this._wordDiv(eu,ed)},ew.prototype.div=function(eu){return this.divmod(eu,"div",!1).div},ew.prototype.mod=function(eu){return this.divmod(eu,"mod",!1).mod},ew.prototype.umod=function(eu){return this.divmod(eu,"mod",!0).mod},ew.prototype.divRound=function(eu){var ed=this.divmod(eu);if(ed.mod.isZero())return ed.div;var eg=0!==ed.div.negative?ed.mod.isub(eu):ed.mod,em=eu.ushrn(1),eb=eu.andln(1),ew=eg.cmp(em);return ew<0||1===eb&&0===ew?ed.div:0!==ed.div.negative?ed.div.isubn(1):ed.div.iaddn(1)},ew.prototype.modn=function(eu){em(eu<=67108863);for(var ed=67108864%eu,eg=0,eb=this.length-1;eb>=0;eb--)eg=(ed*eg+(0|this.words[eb]))%eu;return eg},ew.prototype.idivn=function(eu){em(eu<=67108863);for(var ed=0,eg=this.length-1;eg>=0;eg--){var eb=(0|this.words[eg])+67108864*ed;this.words[eg]=eb/eu|0,ed=eb%eu}return this.strip()},ew.prototype.divn=function(eu){return this.clone().idivn(eu)},ew.prototype.egcd=function(eu){em(0===eu.negative),em(!eu.isZero());var ed=this,eg=eu.clone();ed=0!==ed.negative?ed.umod(eu):ed.clone();for(var eb=new ew(1),e_=new ew(0),eE=new ew(0),eA=new ew(1),eS=0;ed.isEven()&&eg.isEven();)ed.iushrn(1),eg.iushrn(1),++eS;for(var eI=eg.clone(),eC=ed.clone();!ed.isZero();){for(var eM=0,eO=1;(ed.words[0]&eO)==0&&eM<26;++eM,eO<<=1);if(eM>0)for(ed.iushrn(eM);eM-- >0;)(eb.isOdd()||e_.isOdd())&&(eb.iadd(eI),e_.isub(eC)),eb.iushrn(1),e_.iushrn(1);for(var eT=0,eP=1;(eg.words[0]&eP)==0&&eT<26;++eT,eP<<=1);if(eT>0)for(eg.iushrn(eT);eT-- >0;)(eE.isOdd()||eA.isOdd())&&(eE.iadd(eI),eA.isub(eC)),eE.iushrn(1),eA.iushrn(1);ed.cmp(eg)>=0?(ed.isub(eg),eb.isub(eE),e_.isub(eA)):(eg.isub(ed),eE.isub(eb),eA.isub(e_))}return{a:eE,b:eA,gcd:eg.iushln(eS)}},ew.prototype._invmp=function(eu){em(0===eu.negative),em(!eu.isZero());var ed,eg=this,eb=eu.clone();eg=0!==eg.negative?eg.umod(eu):eg.clone();for(var e_=new ew(1),eE=new ew(0),eA=eb.clone();eg.cmpn(1)>0&&eb.cmpn(1)>0;){for(var eS=0,eI=1;(eg.words[0]&eI)==0&&eS<26;++eS,eI<<=1);if(eS>0)for(eg.iushrn(eS);eS-- >0;)e_.isOdd()&&e_.iadd(eA),e_.iushrn(1);for(var eC=0,eM=1;(eb.words[0]&eM)==0&&eC<26;++eC,eM<<=1);if(eC>0)for(eb.iushrn(eC);eC-- >0;)eE.isOdd()&&eE.iadd(eA),eE.iushrn(1);eg.cmp(eb)>=0?(eg.isub(eb),e_.isub(eE)):(eb.isub(eg),eE.isub(e_))}return 0>(ed=0===eg.cmpn(1)?e_:eE).cmpn(0)&&ed.iadd(eu),ed},ew.prototype.gcd=function(eu){if(this.isZero())return eu.abs();if(eu.isZero())return this.abs();var ed=this.clone(),eg=eu.clone();ed.negative=0,eg.negative=0;for(var em=0;ed.isEven()&&eg.isEven();em++)ed.iushrn(1),eg.iushrn(1);for(;;){for(;ed.isEven();)ed.iushrn(1);for(;eg.isEven();)eg.iushrn(1);var eb=ed.cmp(eg);if(eb<0){var ew=ed;ed=eg,eg=ew}else if(0===eb||0===eg.cmpn(1))break;ed.isub(eg)}return eg.iushln(em)},ew.prototype.invm=function(eu){return this.egcd(eu).a.umod(eu)},ew.prototype.isEven=function(){return(1&this.words[0])==0},ew.prototype.isOdd=function(){return(1&this.words[0])==1},ew.prototype.andln=function(eu){return this.words[0]&eu},ew.prototype.bincn=function(eu){em("number"==typeof eu);var ed=eu%26,eg=(eu-ed)/26,eb=1<<ed;if(this.length<=eg)return this._expand(eg+1),this.words[eg]|=eb,this;for(var ew=eb,e_=eg;0!==ew&&e_<this.length;e_++){var eE=0|this.words[e_];eE+=ew,ew=eE>>>26,eE&=67108863,this.words[e_]=eE}return 0!==ew&&(this.words[e_]=ew,this.length++),this},ew.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},ew.prototype.cmpn=function(eu){var ed,eg=eu<0;if(0!==this.negative&&!eg)return -1;if(0===this.negative&&eg)return 1;if(this.strip(),this.length>1)ed=1;else{eg&&(eu=-eu),em(eu<=67108863,"Number is too big");var eb=0|this.words[0];ed=eb===eu?0:eb<eu?-1:1}return 0!==this.negative?0|-ed:ed},ew.prototype.cmp=function(eu){if(0!==this.negative&&0===eu.negative)return -1;if(0===this.negative&&0!==eu.negative)return 1;var ed=this.ucmp(eu);return 0!==this.negative?0|-ed:ed},ew.prototype.ucmp=function(eu){if(this.length>eu.length)return 1;if(this.length<eu.length)return -1;for(var ed=0,eg=this.length-1;eg>=0;eg--){var em=0|this.words[eg],eb=0|eu.words[eg];if(em!==eb){em<eb?ed=-1:em>eb&&(ed=1);break}}return ed},ew.prototype.gtn=function(eu){return 1===this.cmpn(eu)},ew.prototype.gt=function(eu){return 1===this.cmp(eu)},ew.prototype.gten=function(eu){return this.cmpn(eu)>=0},ew.prototype.gte=function(eu){return this.cmp(eu)>=0},ew.prototype.ltn=function(eu){return -1===this.cmpn(eu)},ew.prototype.lt=function(eu){return -1===this.cmp(eu)},ew.prototype.lten=function(eu){return 0>=this.cmpn(eu)},ew.prototype.lte=function(eu){return 0>=this.cmp(eu)},ew.prototype.eqn=function(eu){return 0===this.cmpn(eu)},ew.prototype.eq=function(eu){return 0===this.cmp(eu)},ew.red=function(eu){return new e$(eu)},ew.prototype.toRed=function(eu){return em(!this.red,"Already a number in reduction context"),em(0===this.negative,"red works only with positives"),eu.convertTo(this)._forceRed(eu)},ew.prototype.fromRed=function(){return em(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},ew.prototype._forceRed=function(eu){return this.red=eu,this},ew.prototype.forceRed=function(eu){return em(!this.red,"Already a number in reduction context"),this._forceRed(eu)},ew.prototype.redAdd=function(eu){return em(this.red,"redAdd works only with red numbers"),this.red.add(this,eu)},ew.prototype.redIAdd=function(eu){return em(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,eu)},ew.prototype.redSub=function(eu){return em(this.red,"redSub works only with red numbers"),this.red.sub(this,eu)},ew.prototype.redISub=function(eu){return em(this.red,"redISub works only with red numbers"),this.red.isub(this,eu)},ew.prototype.redShl=function(eu){return em(this.red,"redShl works only with red numbers"),this.red.shl(this,eu)},ew.prototype.redMul=function(eu){return em(this.red,"redMul works only with red numbers"),this.red._verify2(this,eu),this.red.mul(this,eu)},ew.prototype.redIMul=function(eu){return em(this.red,"redMul works only with red numbers"),this.red._verify2(this,eu),this.red.imul(this,eu)},ew.prototype.redSqr=function(){return em(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},ew.prototype.redISqr=function(){return em(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},ew.prototype.redSqrt=function(){return em(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},ew.prototype.redInvm=function(){return em(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},ew.prototype.redNeg=function(){return em(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},ew.prototype.redPow=function(eu){return em(this.red&&!eu.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,eu)};var eD={k256:null,p224:null,p192:null,p25519:null};function eB(eu,ed){this.name=eu,this.p=new ew(ed,16),this.n=this.p.bitLength(),this.k=new ew(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function eU(){eB.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function eL(){eB.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function ej(){eB.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function eF(){eB.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function e$(eu){if("string"==typeof eu){var ed=ew._prime(eu);this.m=ed.p,this.prime=ed}else em(eu.gtn(1),"modulus must be greater than 1"),this.m=eu,this.prime=null}function eK(eu){e$.call(this,eu),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new ew(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}eB.prototype._tmp=function(){var eu=new ew(null);return eu.words=Array(Math.ceil(this.n/13)),eu},eB.prototype.ireduce=function(eu){var ed,eg=eu;do this.split(eg,this.tmp),ed=(eg=(eg=this.imulK(eg)).iadd(this.tmp)).bitLength();while(ed>this.n);var em=ed<this.n?-1:eg.ucmp(this.p);return 0===em?(eg.words[0]=0,eg.length=1):em>0?eg.isub(this.p):void 0!==eg.strip?eg.strip():eg._strip(),eg},eB.prototype.split=function(eu,ed){eu.iushrn(this.n,0,ed)},eB.prototype.imulK=function(eu){return eu.imul(this.k)},eb(eU,eB),eU.prototype.split=function(eu,ed){for(var eg=4194303,em=Math.min(eu.length,9),eb=0;eb<em;eb++)ed.words[eb]=eu.words[eb];if(ed.length=em,eu.length<=9){eu.words[0]=0,eu.length=1;return}var ew=eu.words[9];for(eb=10,ed.words[ed.length++]=ew&eg;eb<eu.length;eb++){var e_=0|eu.words[eb];eu.words[eb-10]=(e_&eg)<<4|ew>>>22,ew=e_}ew>>>=22,eu.words[eb-10]=ew,0===ew&&eu.length>10?eu.length-=10:eu.length-=9},eU.prototype.imulK=function(eu){eu.words[eu.length]=0,eu.words[eu.length+1]=0,eu.length+=2;for(var ed=0,eg=0;eg<eu.length;eg++){var em=0|eu.words[eg];ed+=977*em,eu.words[eg]=67108863&ed,ed=64*em+(ed/67108864|0)}return 0===eu.words[eu.length-1]&&(eu.length--,0===eu.words[eu.length-1]&&eu.length--),eu},eb(eL,eB),eb(ej,eB),eb(eF,eB),eF.prototype.imulK=function(eu){for(var ed=0,eg=0;eg<eu.length;eg++){var em=(0|eu.words[eg])*19+ed,eb=67108863&em;em>>>=26,eu.words[eg]=eb,ed=em}return 0!==ed&&(eu.words[eu.length++]=ed),eu},ew._prime=function(eu){var ed;if(eD[eu])return eD[eu];if("k256"===eu)ed=new eU;else if("p224"===eu)ed=new eL;else if("p192"===eu)ed=new ej;else if("p25519"===eu)ed=new eF;else throw Error("Unknown prime "+eu);return eD[eu]=ed,ed},e$.prototype._verify1=function(eu){em(0===eu.negative,"red works only with positives"),em(eu.red,"red works only with red numbers")},e$.prototype._verify2=function(eu,ed){em((eu.negative|ed.negative)==0,"red works only with positives"),em(eu.red&&eu.red===ed.red,"red works only with red numbers")},e$.prototype.imod=function(eu){return this.prime?this.prime.ireduce(eu)._forceRed(this):eu.umod(this.m)._forceRed(this)},e$.prototype.neg=function(eu){return eu.isZero()?eu.clone():this.m.sub(eu)._forceRed(this)},e$.prototype.add=function(eu,ed){this._verify2(eu,ed);var eg=eu.add(ed);return eg.cmp(this.m)>=0&&eg.isub(this.m),eg._forceRed(this)},e$.prototype.iadd=function(eu,ed){this._verify2(eu,ed);var eg=eu.iadd(ed);return eg.cmp(this.m)>=0&&eg.isub(this.m),eg},e$.prototype.sub=function(eu,ed){this._verify2(eu,ed);var eg=eu.sub(ed);return 0>eg.cmpn(0)&&eg.iadd(this.m),eg._forceRed(this)},e$.prototype.isub=function(eu,ed){this._verify2(eu,ed);var eg=eu.isub(ed);return 0>eg.cmpn(0)&&eg.iadd(this.m),eg},e$.prototype.shl=function(eu,ed){return this._verify1(eu),this.imod(eu.ushln(ed))},e$.prototype.imul=function(eu,ed){return this._verify2(eu,ed),this.imod(eu.imul(ed))},e$.prototype.mul=function(eu,ed){return this._verify2(eu,ed),this.imod(eu.mul(ed))},e$.prototype.isqr=function(eu){return this.imul(eu,eu.clone())},e$.prototype.sqr=function(eu){return this.mul(eu,eu)},e$.prototype.sqrt=function(eu){if(eu.isZero())return eu.clone();var ed=this.m.andln(3);if(em(ed%2==1),3===ed){var eg=this.m.add(new ew(1)).iushrn(2);return this.pow(eu,eg)}for(var eb=this.m.subn(1),e_=0;!eb.isZero()&&0===eb.andln(1);)e_++,eb.iushrn(1);em(!eb.isZero());var eE=new ew(1).toRed(this),eA=eE.redNeg(),eS=this.m.subn(1).iushrn(1),eI=this.m.bitLength();for(eI=new ew(2*eI*eI).toRed(this);0!==this.pow(eI,eS).cmp(eA);)eI.redIAdd(eA);for(var eC=this.pow(eI,eb),eM=this.pow(eu,eb.addn(1).iushrn(1)),eO=this.pow(eu,eb),eT=e_;0!==eO.cmp(eE);){for(var eP=eO,eN=0;0!==eP.cmp(eE);eN++)eP=eP.redSqr();em(eN<eT);var ek=this.pow(eC,new ew(1).iushln(eT-eN-1));eM=eM.redMul(ek),eC=ek.redSqr(),eO=eO.redMul(eC),eT=eN}return eM},e$.prototype.invm=function(eu){var ed=eu._invmp(this.m);return 0!==ed.negative?(ed.negative=0,this.imod(ed).redNeg()):this.imod(ed)},e$.prototype.pow=function(eu,ed){if(ed.isZero())return new ew(1).toRed(this);if(0===ed.cmpn(1))return eu.clone();var eg=4,em=Array(16);em[0]=new ew(1).toRed(this),em[1]=eu;for(var eb=2;eb<em.length;eb++)em[eb]=this.mul(em[eb-1],eu);var e_=em[0],eE=0,eA=0,eS=ed.bitLength()%26;for(0===eS&&(eS=26),eb=ed.length-1;eb>=0;eb--){for(var eI=ed.words[eb],eC=eS-1;eC>=0;eC--){var eM=eI>>eC&1;if(e_!==em[0]&&(e_=this.sqr(e_)),0===eM&&0===eE){eA=0;continue}eE<<=1,eE|=eM,(++eA===eg||0===eb&&0===eC)&&(e_=this.mul(e_,em[eE]),eA=0,eE=0)}eS=26}return e_},e$.prototype.convertTo=function(eu){var ed=eu.umod(this.m);return ed===eu?ed.clone():ed},e$.prototype.convertFrom=function(eu){var ed=eu.clone();return ed.red=null,ed},ew.mont=function(eu){return new eK(eu)},eb(eK,e$),eK.prototype.convertTo=function(eu){return this.imod(eu.ushln(this.shift))},eK.prototype.convertFrom=function(eu){var ed=this.imod(eu.mul(this.rinv));return ed.red=null,ed},eK.prototype.imul=function(eu,ed){if(eu.isZero()||ed.isZero())return eu.words[0]=0,eu.length=1,eu;var eg=eu.imul(ed),em=eg.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),eb=eg.isub(em).iushrn(this.shift),ew=eb;return eb.cmp(this.m)>=0?ew=eb.isub(this.m):0>eb.cmpn(0)&&(ew=eb.iadd(this.m)),ew._forceRed(this)},eK.prototype.mul=function(eu,ed){if(eu.isZero()||ed.isZero())return new ew(0)._forceRed(this);var eg=eu.mul(ed),em=eg.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),eb=eg.isub(em).iushrn(this.shift),e_=eb;return eb.cmp(this.m)>=0?e_=eb.isub(this.m):0>eb.cmpn(0)&&(e_=eb.iadd(this.m)),e_._forceRed(this)},eK.prototype.invm=function(eu){return this.imod(eu._invmp(this.m).mul(this.r2))._forceRed(this)}}(eu=eg.nmd(eu),this)},44271:function(eu){"use strict";var ed={single_source_shortest_paths:function(eu,eg,em){var eb,ew,e_,eE,eA,eS,eI,eC={},eM={};eM[eg]=0;var eO=ed.PriorityQueue.make();for(eO.push(eg,0);!eO.empty();)for(e_ in ew=(eb=eO.pop()).value,eE=eb.cost,eA=eu[ew]||{})eA.hasOwnProperty(e_)&&(eS=eE+eA[e_],eI=eM[e_],(void 0===eM[e_]||eI>eS)&&(eM[e_]=eS,eO.push(e_,eS),eC[e_]=ew));if(void 0!==em&&void 0===eM[em])throw Error(["Could not find a path from ",eg," to ",em,"."].join(""));return eC},extract_shortest_path_from_predecessor_list:function(eu,ed){for(var eg,em=[],eb=ed;eb;)em.push(eb),eg=eu[eb],eb=eu[eb];return em.reverse(),em},find_path:function(eu,eg,em){var eb=ed.single_source_shortest_paths(eu,eg,em);return ed.extract_shortest_path_from_predecessor_list(eb,em)},PriorityQueue:{make:function(eu){var eg,em=ed.PriorityQueue,eb={};for(eg in eu=eu||{},em)em.hasOwnProperty(eg)&&(eb[eg]=em[eg]);return eb.queue=[],eb.sorter=eu.sorter||em.default_sorter,eb},default_sorter:function(eu,ed){return eu.cost-ed.cost},push:function(eu,ed){var eg={value:eu,cost:ed};this.queue.push(eg),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};eu.exports=ed},5141:function(eu,ed,eg){"use strict";var em,eb=eg(68381),ew=eg(50326);try{em=[].__proto__===Array.prototype}catch(eu){if(!eu||"object"!=typeof eu||!("code"in eu)||"ERR_PROTO_ACCESS"!==eu.code)throw eu}var e_=!!em&&ew&&ew(Object.prototype,"__proto__"),eE=Object,eA=eE.getPrototypeOf;eu.exports=e_&&"function"==typeof e_.get?eb([e_.get]):"function"==typeof eA&&function(eu){return eA(null==eu?eu:eE(eu))}},87554:function(eu,ed,eg){"use strict";var em=ed;em.version=eg(40763).i8,em.utils=eg(18288),em.rand=eg(82745),em.curve=eg(48610),em.curves=eg(41479),em.ec=eg(38596),em.eddsa=eg(39208)},48919:function(eu,ed,eg){"use strict";var em=eg(72140),eb=eg(18288),ew=eb.getNAF,e_=eb.getJSF,eE=eb.assert;function eA(eu,ed){this.type=eu,this.p=new em(ed.p,16),this.red=ed.prime?em.red(ed.prime):em.mont(this.p),this.zero=new em(0).toRed(this.red),this.one=new em(1).toRed(this.red),this.two=new em(2).toRed(this.red),this.n=ed.n&&new em(ed.n,16),this.g=ed.g&&this.pointFromJSON(ed.g,ed.gRed),this._wnafT1=[,,,,],this._wnafT2=[,,,,],this._wnafT3=[,,,,],this._wnafT4=[,,,,],this._bitLength=this.n?this.n.bitLength():0;var eg=this.n&&this.p.div(this.n);!eg||eg.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function eS(eu,ed){this.curve=eu,this.type=ed,this.precomputed=null}eu.exports=eA,eA.prototype.point=function(){throw Error("Not implemented")},eA.prototype.validate=function(){throw Error("Not implemented")},eA.prototype._fixedNafMul=function(eu,ed){eE(eu.precomputed);var eg,em,eb=eu._getDoubles(),e_=ew(ed,1,this._bitLength),eA=(1<<eb.step+1)-(eb.step%2==0?2:1);eA/=3;var eS=[];for(eg=0;eg<e_.length;eg+=eb.step){em=0;for(var eI=eg+eb.step-1;eI>=eg;eI--)em=(em<<1)+e_[eI];eS.push(em)}for(var eC=this.jpoint(null,null,null),eM=this.jpoint(null,null,null),eO=eA;eO>0;eO--){for(eg=0;eg<eS.length;eg++)(em=eS[eg])===eO?eM=eM.mixedAdd(eb.points[eg]):em===-eO&&(eM=eM.mixedAdd(eb.points[eg].neg()));eC=eC.add(eM)}return eC.toP()},eA.prototype._wnafMul=function(eu,ed){var eg=4,em=eu._getNAFPoints(eg);eg=em.wnd;for(var eb=em.points,e_=ew(ed,eg,this._bitLength),eA=this.jpoint(null,null,null),eS=e_.length-1;eS>=0;eS--){for(var eI=0;eS>=0&&0===e_[eS];eS--)eI++;if(eS>=0&&eI++,eA=eA.dblp(eI),eS<0)break;var eC=e_[eS];eE(0!==eC),eA="affine"===eu.type?eC>0?eA.mixedAdd(eb[eC-1>>1]):eA.mixedAdd(eb[-eC-1>>1].neg()):eC>0?eA.add(eb[eC-1>>1]):eA.add(eb[-eC-1>>1].neg())}return"affine"===eu.type?eA.toP():eA},eA.prototype._wnafMulAdd=function(eu,ed,eg,em,eb){var eE,eA,eS,eI=this._wnafT1,eC=this._wnafT2,eM=this._wnafT3,eO=0;for(eE=0;eE<em;eE++){var eT=(eS=ed[eE])._getNAFPoints(eu);eI[eE]=eT.wnd,eC[eE]=eT.points}for(eE=em-1;eE>=1;eE-=2){var eP=eE-1,eN=eE;if(1!==eI[eP]||1!==eI[eN]){eM[eP]=ew(eg[eP],eI[eP],this._bitLength),eM[eN]=ew(eg[eN],eI[eN],this._bitLength),eO=Math.max(eM[eP].length,eO),eO=Math.max(eM[eN].length,eO);continue}var ek=[ed[eP],null,null,ed[eN]];0===ed[eP].y.cmp(ed[eN].y)?(ek[1]=ed[eP].add(ed[eN]),ek[2]=ed[eP].toJ().mixedAdd(ed[eN].neg())):0===ed[eP].y.cmp(ed[eN].y.redNeg())?(ek[1]=ed[eP].toJ().mixedAdd(ed[eN]),ek[2]=ed[eP].add(ed[eN].neg())):(ek[1]=ed[eP].toJ().mixedAdd(ed[eN]),ek[2]=ed[eP].toJ().mixedAdd(ed[eN].neg()));var eR=[-3,-1,-5,-7,0,7,5,1,3],eD=e_(eg[eP],eg[eN]);for(eA=0,eO=Math.max(eD[0].length,eO),eM[eP]=Array(eO),eM[eN]=Array(eO);eA<eO;eA++){var eB=0|eD[0][eA],eU=0|eD[1][eA];eM[eP][eA]=eR[(eB+1)*3+(eU+1)],eM[eN][eA]=0,eC[eP]=ek}}var eL=this.jpoint(null,null,null),ej=this._wnafT4;for(eE=eO;eE>=0;eE--){for(var eF=0;eE>=0;){var e$=!0;for(eA=0;eA<em;eA++)ej[eA]=0|eM[eA][eE],0!==ej[eA]&&(e$=!1);if(!e$)break;eF++,eE--}if(eE>=0&&eF++,eL=eL.dblp(eF),eE<0)break;for(eA=0;eA<em;eA++){var eK=ej[eA];0!==eK&&(eK>0?eS=eC[eA][eK-1>>1]:eK<0&&(eS=eC[eA][-eK-1>>1].neg()),eL="affine"===eS.type?eL.mixedAdd(eS):eL.add(eS))}}for(eE=0;eE<em;eE++)eC[eE]=null;return eb?eL:eL.toP()},eA.BasePoint=eS,eS.prototype.eq=function(){throw Error("Not implemented")},eS.prototype.validate=function(){return this.curve.validate(this)},eA.prototype.decodePoint=function(eu,ed){eu=eb.toArray(eu,ed);var eg=this.p.byteLength();if((4===eu[0]||6===eu[0]||7===eu[0])&&eu.length-1==2*eg)return 6===eu[0]?eE(eu[eu.length-1]%2==0):7===eu[0]&&eE(eu[eu.length-1]%2==1),this.point(eu.slice(1,1+eg),eu.slice(1+eg,1+2*eg));if((2===eu[0]||3===eu[0])&&eu.length-1===eg)return this.pointFromX(eu.slice(1,1+eg),3===eu[0]);throw Error("Unknown point format")},eS.prototype.encodeCompressed=function(eu){return this.encode(eu,!0)},eS.prototype._encode=function(eu){var ed=this.curve.p.byteLength(),eg=this.getX().toArray("be",ed);return eu?[this.getY().isEven()?2:3].concat(eg):[4].concat(eg,this.getY().toArray("be",ed))},eS.prototype.encode=function(eu,ed){return eb.encode(this._encode(ed),eu)},eS.prototype.precompute=function(eu){if(this.precomputed)return this;var ed={doubles:null,naf:null,beta:null};return ed.naf=this._getNAFPoints(8),ed.doubles=this._getDoubles(4,eu),ed.beta=this._getBeta(),this.precomputed=ed,this},eS.prototype._hasDoubles=function(eu){if(!this.precomputed)return!1;var ed=this.precomputed.doubles;return!!ed&&ed.points.length>=Math.ceil((eu.bitLength()+1)/ed.step)},eS.prototype._getDoubles=function(eu,ed){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var eg=[this],em=this,eb=0;eb<ed;eb+=eu){for(var ew=0;ew<eu;ew++)em=em.dbl();eg.push(em)}return{step:eu,points:eg}},eS.prototype._getNAFPoints=function(eu){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var ed=[this],eg=(1<<eu)-1,em=1===eg?null:this.dbl(),eb=1;eb<eg;eb++)ed[eb]=ed[eb-1].add(em);return{wnd:eu,points:ed}},eS.prototype._getBeta=function(){return null},eS.prototype.dblp=function(eu){for(var ed=this,eg=0;eg<eu;eg++)ed=ed.dbl();return ed}},37105:function(eu,ed,eg){"use strict";var em=eg(18288),eb=eg(72140),ew=eg(91285),e_=eg(48919),eE=em.assert;function eA(eu){this.twisted=(0|eu.a)!=1,this.mOneA=this.twisted&&(0|eu.a)==-1,this.extended=this.mOneA,e_.call(this,"edwards",eu),this.a=new eb(eu.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new eb(eu.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new eb(eu.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),eE(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=(0|eu.c)==1}function eS(eu,ed,eg,em,ew){e_.BasePoint.call(this,eu,"projective"),null===ed&&null===eg&&null===em?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new eb(ed,16),this.y=new eb(eg,16),this.z=em?new eb(em,16):this.curve.one,this.t=ew&&new eb(ew,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,!this.curve.extended||this.t||(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}ew(eA,e_),eu.exports=eA,eA.prototype._mulA=function(eu){return this.mOneA?eu.redNeg():this.a.redMul(eu)},eA.prototype._mulC=function(eu){return this.oneC?eu:this.c.redMul(eu)},eA.prototype.jpoint=function(eu,ed,eg,em){return this.point(eu,ed,eg,em)},eA.prototype.pointFromX=function(eu,ed){(eu=new eb(eu,16)).red||(eu=eu.toRed(this.red));var eg=eu.redSqr(),em=this.c2.redSub(this.a.redMul(eg)),ew=this.one.redSub(this.c2.redMul(this.d).redMul(eg)),e_=em.redMul(ew.redInvm()),eE=e_.redSqrt();if(0!==eE.redSqr().redSub(e_).cmp(this.zero))throw Error("invalid point");var eA=eE.fromRed().isOdd();return(ed&&!eA||!ed&&eA)&&(eE=eE.redNeg()),this.point(eu,eE)},eA.prototype.pointFromY=function(eu,ed){(eu=new eb(eu,16)).red||(eu=eu.toRed(this.red));var eg=eu.redSqr(),em=eg.redSub(this.c2),ew=eg.redMul(this.d).redMul(this.c2).redSub(this.a),e_=em.redMul(ew.redInvm());if(0===e_.cmp(this.zero)){if(!ed)return this.point(this.zero,eu);throw Error("invalid point")}var eE=e_.redSqrt();if(0!==eE.redSqr().redSub(e_).cmp(this.zero))throw Error("invalid point");return eE.fromRed().isOdd()!==ed&&(eE=eE.redNeg()),this.point(eE,eu)},eA.prototype.validate=function(eu){if(eu.isInfinity())return!0;eu.normalize();var ed=eu.x.redSqr(),eg=eu.y.redSqr(),em=ed.redMul(this.a).redAdd(eg),eb=this.c2.redMul(this.one.redAdd(this.d.redMul(ed).redMul(eg)));return 0===em.cmp(eb)},ew(eS,e_.BasePoint),eA.prototype.pointFromJSON=function(eu){return eS.fromJSON(this,eu)},eA.prototype.point=function(eu,ed,eg,em){return new eS(this,eu,ed,eg,em)},eS.fromJSON=function(eu,ed){return new eS(eu,ed[0],ed[1],ed[2])},eS.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},eS.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},eS.prototype._extDbl=function(){var eu=this.x.redSqr(),ed=this.y.redSqr(),eg=this.z.redSqr();eg=eg.redIAdd(eg);var em=this.curve._mulA(eu),eb=this.x.redAdd(this.y).redSqr().redISub(eu).redISub(ed),ew=em.redAdd(ed),e_=ew.redSub(eg),eE=em.redSub(ed),eA=eb.redMul(e_),eS=ew.redMul(eE),eI=eb.redMul(eE),eC=e_.redMul(ew);return this.curve.point(eA,eS,eC,eI)},eS.prototype._projDbl=function(){var eu,ed,eg,em,eb,ew,e_=this.x.redAdd(this.y).redSqr(),eE=this.x.redSqr(),eA=this.y.redSqr();if(this.curve.twisted){var eS=(em=this.curve._mulA(eE)).redAdd(eA);this.zOne?(eu=e_.redSub(eE).redSub(eA).redMul(eS.redSub(this.curve.two)),ed=eS.redMul(em.redSub(eA)),eg=eS.redSqr().redSub(eS).redSub(eS)):(eb=this.z.redSqr(),ew=eS.redSub(eb).redISub(eb),eu=e_.redSub(eE).redISub(eA).redMul(ew),ed=eS.redMul(em.redSub(eA)),eg=eS.redMul(ew))}else em=eE.redAdd(eA),eb=this.curve._mulC(this.z).redSqr(),ew=em.redSub(eb).redSub(eb),eu=this.curve._mulC(e_.redISub(em)).redMul(ew),ed=this.curve._mulC(em).redMul(eE.redISub(eA)),eg=em.redMul(ew);return this.curve.point(eu,ed,eg)},eS.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},eS.prototype._extAdd=function(eu){var ed=this.y.redSub(this.x).redMul(eu.y.redSub(eu.x)),eg=this.y.redAdd(this.x).redMul(eu.y.redAdd(eu.x)),em=this.t.redMul(this.curve.dd).redMul(eu.t),eb=this.z.redMul(eu.z.redAdd(eu.z)),ew=eg.redSub(ed),e_=eb.redSub(em),eE=eb.redAdd(em),eA=eg.redAdd(ed),eS=ew.redMul(e_),eI=eE.redMul(eA),eC=ew.redMul(eA),eM=e_.redMul(eE);return this.curve.point(eS,eI,eM,eC)},eS.prototype._projAdd=function(eu){var ed,eg,em=this.z.redMul(eu.z),eb=em.redSqr(),ew=this.x.redMul(eu.x),e_=this.y.redMul(eu.y),eE=this.curve.d.redMul(ew).redMul(e_),eA=eb.redSub(eE),eS=eb.redAdd(eE),eI=this.x.redAdd(this.y).redMul(eu.x.redAdd(eu.y)).redISub(ew).redISub(e_),eC=em.redMul(eA).redMul(eI);return this.curve.twisted?(ed=em.redMul(eS).redMul(e_.redSub(this.curve._mulA(ew))),eg=eA.redMul(eS)):(ed=em.redMul(eS).redMul(e_.redSub(ew)),eg=this.curve._mulC(eA).redMul(eS)),this.curve.point(eC,ed,eg)},eS.prototype.add=function(eu){return this.isInfinity()?eu:eu.isInfinity()?this:this.curve.extended?this._extAdd(eu):this._projAdd(eu)},eS.prototype.mul=function(eu){return this._hasDoubles(eu)?this.curve._fixedNafMul(this,eu):this.curve._wnafMul(this,eu)},eS.prototype.mulAdd=function(eu,ed,eg){return this.curve._wnafMulAdd(1,[this,ed],[eu,eg],2,!1)},eS.prototype.jmulAdd=function(eu,ed,eg){return this.curve._wnafMulAdd(1,[this,ed],[eu,eg],2,!0)},eS.prototype.normalize=function(){if(this.zOne)return this;var eu=this.z.redInvm();return this.x=this.x.redMul(eu),this.y=this.y.redMul(eu),this.t&&(this.t=this.t.redMul(eu)),this.z=this.curve.one,this.zOne=!0,this},eS.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},eS.prototype.getX=function(){return this.normalize(),this.x.fromRed()},eS.prototype.getY=function(){return this.normalize(),this.y.fromRed()},eS.prototype.eq=function(eu){return this===eu||0===this.getX().cmp(eu.getX())&&0===this.getY().cmp(eu.getY())},eS.prototype.eqXToP=function(eu){var ed=eu.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(ed))return!0;for(var eg=eu.clone(),em=this.curve.redN.redMul(this.z);;){if(eg.iadd(this.curve.n),eg.cmp(this.curve.p)>=0)return!1;if(ed.redIAdd(em),0===this.x.cmp(ed))return!0}},eS.prototype.toP=eS.prototype.normalize,eS.prototype.mixedAdd=eS.prototype.add},48610:function(eu,ed,eg){"use strict";var em=ed;em.base=eg(48919),em.short=eg(27715),em.mont=eg(95125),em.edwards=eg(37105)},95125:function(eu,ed,eg){"use strict";var em=eg(72140),eb=eg(91285),ew=eg(48919),e_=eg(18288);function eE(eu){ew.call(this,"mont",eu),this.a=new em(eu.a,16).toRed(this.red),this.b=new em(eu.b,16).toRed(this.red),this.i4=new em(4).toRed(this.red).redInvm(),this.two=new em(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function eA(eu,ed,eg){ew.BasePoint.call(this,eu,"projective"),null===ed&&null===eg?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new em(ed,16),this.z=new em(eg,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}eb(eE,ew),eu.exports=eE,eE.prototype.validate=function(eu){var ed=eu.normalize().x,eg=ed.redSqr(),em=eg.redMul(ed).redAdd(eg.redMul(this.a)).redAdd(ed);return 0===em.redSqrt().redSqr().cmp(em)},eb(eA,ew.BasePoint),eE.prototype.decodePoint=function(eu,ed){return this.point(e_.toArray(eu,ed),1)},eE.prototype.point=function(eu,ed){return new eA(this,eu,ed)},eE.prototype.pointFromJSON=function(eu){return eA.fromJSON(this,eu)},eA.prototype.precompute=function(){},eA.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},eA.fromJSON=function(eu,ed){return new eA(eu,ed[0],ed[1]||eu.one)},eA.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},eA.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},eA.prototype.dbl=function(){var eu=this.x.redAdd(this.z).redSqr(),ed=this.x.redSub(this.z).redSqr(),eg=eu.redSub(ed),em=eu.redMul(ed),eb=eg.redMul(ed.redAdd(this.curve.a24.redMul(eg)));return this.curve.point(em,eb)},eA.prototype.add=function(){throw Error("Not supported on Montgomery curve")},eA.prototype.diffAdd=function(eu,ed){var eg=this.x.redAdd(this.z),em=this.x.redSub(this.z),eb=eu.x.redAdd(eu.z),ew=eu.x.redSub(eu.z).redMul(eg),e_=eb.redMul(em),eE=ed.z.redMul(ew.redAdd(e_).redSqr()),eA=ed.x.redMul(ew.redISub(e_).redSqr());return this.curve.point(eE,eA)},eA.prototype.mul=function(eu){for(var ed=eu.clone(),eg=this,em=this.curve.point(null,null),eb=this,ew=[];0!==ed.cmpn(0);ed.iushrn(1))ew.push(ed.andln(1));for(var e_=ew.length-1;e_>=0;e_--)0===ew[e_]?(eg=eg.diffAdd(em,eb),em=em.dbl()):(em=eg.diffAdd(em,eb),eg=eg.dbl());return em},eA.prototype.mulAdd=function(){throw Error("Not supported on Montgomery curve")},eA.prototype.jumlAdd=function(){throw Error("Not supported on Montgomery curve")},eA.prototype.eq=function(eu){return 0===this.getX().cmp(eu.getX())},eA.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},eA.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},27715:function(eu,ed,eg){"use strict";var em=eg(18288),eb=eg(72140),ew=eg(91285),e_=eg(48919),eE=em.assert;function eA(eu){e_.call(this,"short",eu),this.a=new eb(eu.a,16).toRed(this.red),this.b=new eb(eu.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(eu),this._endoWnafT1=[,,,,],this._endoWnafT2=[,,,,]}function eS(eu,ed,eg,em){e_.BasePoint.call(this,eu,"affine"),null===ed&&null===eg?(this.x=null,this.y=null,this.inf=!0):(this.x=new eb(ed,16),this.y=new eb(eg,16),em&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function eI(eu,ed,eg,em){e_.BasePoint.call(this,eu,"jacobian"),null===ed&&null===eg&&null===em?(this.x=this.curve.one,this.y=this.curve.one,this.z=new eb(0)):(this.x=new eb(ed,16),this.y=new eb(eg,16),this.z=new eb(em,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}ew(eA,e_),eu.exports=eA,eA.prototype._getEndomorphism=function(eu){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){if(eu.beta)ed=new eb(eu.beta,16).toRed(this.red);else{var ed,eg,em,ew=this._getEndoRoots(this.p);ed=(ed=0>ew[0].cmp(ew[1])?ew[0]:ew[1]).toRed(this.red)}if(eu.lambda)eg=new eb(eu.lambda,16);else{var e_=this._getEndoRoots(this.n);0===this.g.mul(e_[0]).x.cmp(this.g.x.redMul(ed))?eg=e_[0]:(eg=e_[1],eE(0===this.g.mul(eg).x.cmp(this.g.x.redMul(ed))))}return em=eu.basis?eu.basis.map(function(eu){return{a:new eb(eu.a,16),b:new eb(eu.b,16)}}):this._getEndoBasis(eg),{beta:ed,lambda:eg,basis:em}}},eA.prototype._getEndoRoots=function(eu){var ed=eu===this.p?this.red:eb.mont(eu),eg=new eb(2).toRed(ed).redInvm(),em=eg.redNeg(),ew=new eb(3).toRed(ed).redNeg().redSqrt().redMul(eg);return[em.redAdd(ew).fromRed(),em.redSub(ew).fromRed()]},eA.prototype._getEndoBasis=function(eu){for(var ed,eg,em,ew,e_,eE,eA,eS,eI,eC=this.n.ushrn(Math.floor(this.n.bitLength()/2)),eM=eu,eO=this.n.clone(),eT=new eb(1),eP=new eb(0),eN=new eb(0),ek=new eb(1),eR=0;0!==eM.cmpn(0);){var eD=eO.div(eM);eS=eO.sub(eD.mul(eM)),eI=eN.sub(eD.mul(eT));var eB=ek.sub(eD.mul(eP));if(!em&&0>eS.cmp(eC))ed=eA.neg(),eg=eT,em=eS.neg(),ew=eI;else if(em&&2==++eR)break;eA=eS,eO=eM,eM=eS,eN=eT,eT=eI,ek=eP,eP=eB}e_=eS.neg(),eE=eI;var eU=em.sqr().add(ew.sqr());return e_.sqr().add(eE.sqr()).cmp(eU)>=0&&(e_=ed,eE=eg),em.negative&&(em=em.neg(),ew=ew.neg()),e_.negative&&(e_=e_.neg(),eE=eE.neg()),[{a:em,b:ew},{a:e_,b:eE}]},eA.prototype._endoSplit=function(eu){var ed=this.endo.basis,eg=ed[0],em=ed[1],eb=em.b.mul(eu).divRound(this.n),ew=eg.b.neg().mul(eu).divRound(this.n),e_=eb.mul(eg.a),eE=ew.mul(em.a),eA=eb.mul(eg.b),eS=ew.mul(em.b);return{k1:eu.sub(e_).sub(eE),k2:eA.add(eS).neg()}},eA.prototype.pointFromX=function(eu,ed){(eu=new eb(eu,16)).red||(eu=eu.toRed(this.red));var eg=eu.redSqr().redMul(eu).redIAdd(eu.redMul(this.a)).redIAdd(this.b),em=eg.redSqrt();if(0!==em.redSqr().redSub(eg).cmp(this.zero))throw Error("invalid point");var ew=em.fromRed().isOdd();return(ed&&!ew||!ed&&ew)&&(em=em.redNeg()),this.point(eu,em)},eA.prototype.validate=function(eu){if(eu.inf)return!0;var ed=eu.x,eg=eu.y,em=this.a.redMul(ed),eb=ed.redSqr().redMul(ed).redIAdd(em).redIAdd(this.b);return 0===eg.redSqr().redISub(eb).cmpn(0)},eA.prototype._endoWnafMulAdd=function(eu,ed,eg){for(var em=this._endoWnafT1,eb=this._endoWnafT2,ew=0;ew<eu.length;ew++){var e_=this._endoSplit(ed[ew]),eE=eu[ew],eA=eE._getBeta();e_.k1.negative&&(e_.k1.ineg(),eE=eE.neg(!0)),e_.k2.negative&&(e_.k2.ineg(),eA=eA.neg(!0)),em[2*ew]=eE,em[2*ew+1]=eA,eb[2*ew]=e_.k1,eb[2*ew+1]=e_.k2}for(var eS=this._wnafMulAdd(1,em,eb,2*ew,eg),eI=0;eI<2*ew;eI++)em[eI]=null,eb[eI]=null;return eS},ew(eS,e_.BasePoint),eA.prototype.point=function(eu,ed,eg){return new eS(this,eu,ed,eg)},eA.prototype.pointFromJSON=function(eu,ed){return eS.fromJSON(this,eu,ed)},eS.prototype._getBeta=function(){if(this.curve.endo){var eu=this.precomputed;if(eu&&eu.beta)return eu.beta;var ed=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(eu){var eg=this.curve,em=function(eu){return eg.point(eu.x.redMul(eg.endo.beta),eu.y)};eu.beta=ed,ed.precomputed={beta:null,naf:eu.naf&&{wnd:eu.naf.wnd,points:eu.naf.points.map(em)},doubles:eu.doubles&&{step:eu.doubles.step,points:eu.doubles.points.map(em)}}}return ed}},eS.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},eS.fromJSON=function(eu,ed,eg){"string"==typeof ed&&(ed=JSON.parse(ed));var em=eu.point(ed[0],ed[1],eg);if(!ed[2])return em;function eb(ed){return eu.point(ed[0],ed[1],eg)}var ew=ed[2];return em.precomputed={beta:null,doubles:ew.doubles&&{step:ew.doubles.step,points:[em].concat(ew.doubles.points.map(eb))},naf:ew.naf&&{wnd:ew.naf.wnd,points:[em].concat(ew.naf.points.map(eb))}},em},eS.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},eS.prototype.isInfinity=function(){return this.inf},eS.prototype.add=function(eu){if(this.inf)return eu;if(eu.inf)return this;if(this.eq(eu))return this.dbl();if(this.neg().eq(eu)||0===this.x.cmp(eu.x))return this.curve.point(null,null);var ed=this.y.redSub(eu.y);0!==ed.cmpn(0)&&(ed=ed.redMul(this.x.redSub(eu.x).redInvm()));var eg=ed.redSqr().redISub(this.x).redISub(eu.x),em=ed.redMul(this.x.redSub(eg)).redISub(this.y);return this.curve.point(eg,em)},eS.prototype.dbl=function(){if(this.inf)return this;var eu=this.y.redAdd(this.y);if(0===eu.cmpn(0))return this.curve.point(null,null);var ed=this.curve.a,eg=this.x.redSqr(),em=eu.redInvm(),eb=eg.redAdd(eg).redIAdd(eg).redIAdd(ed).redMul(em),ew=eb.redSqr().redISub(this.x.redAdd(this.x)),e_=eb.redMul(this.x.redSub(ew)).redISub(this.y);return this.curve.point(ew,e_)},eS.prototype.getX=function(){return this.x.fromRed()},eS.prototype.getY=function(){return this.y.fromRed()},eS.prototype.mul=function(eu){return(eu=new eb(eu,16),this.isInfinity())?this:this._hasDoubles(eu)?this.curve._fixedNafMul(this,eu):this.curve.endo?this.curve._endoWnafMulAdd([this],[eu]):this.curve._wnafMul(this,eu)},eS.prototype.mulAdd=function(eu,ed,eg){var em=[this,ed],eb=[eu,eg];return this.curve.endo?this.curve._endoWnafMulAdd(em,eb):this.curve._wnafMulAdd(1,em,eb,2)},eS.prototype.jmulAdd=function(eu,ed,eg){var em=[this,ed],eb=[eu,eg];return this.curve.endo?this.curve._endoWnafMulAdd(em,eb,!0):this.curve._wnafMulAdd(1,em,eb,2,!0)},eS.prototype.eq=function(eu){return this===eu||this.inf===eu.inf&&(this.inf||0===this.x.cmp(eu.x)&&0===this.y.cmp(eu.y))},eS.prototype.neg=function(eu){if(this.inf)return this;var ed=this.curve.point(this.x,this.y.redNeg());if(eu&&this.precomputed){var eg=this.precomputed,em=function(eu){return eu.neg()};ed.precomputed={naf:eg.naf&&{wnd:eg.naf.wnd,points:eg.naf.points.map(em)},doubles:eg.doubles&&{step:eg.doubles.step,points:eg.doubles.points.map(em)}}}return ed},eS.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},ew(eI,e_.BasePoint),eA.prototype.jpoint=function(eu,ed,eg){return new eI(this,eu,ed,eg)},eI.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var eu=this.z.redInvm(),ed=eu.redSqr(),eg=this.x.redMul(ed),em=this.y.redMul(ed).redMul(eu);return this.curve.point(eg,em)},eI.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},eI.prototype.add=function(eu){if(this.isInfinity())return eu;if(eu.isInfinity())return this;var ed=eu.z.redSqr(),eg=this.z.redSqr(),em=this.x.redMul(ed),eb=eu.x.redMul(eg),ew=this.y.redMul(ed.redMul(eu.z)),e_=eu.y.redMul(eg.redMul(this.z)),eE=em.redSub(eb),eA=ew.redSub(e_);if(0===eE.cmpn(0))return 0!==eA.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var eS=eE.redSqr(),eI=eS.redMul(eE),eC=em.redMul(eS),eM=eA.redSqr().redIAdd(eI).redISub(eC).redISub(eC),eO=eA.redMul(eC.redISub(eM)).redISub(ew.redMul(eI)),eT=this.z.redMul(eu.z).redMul(eE);return this.curve.jpoint(eM,eO,eT)},eI.prototype.mixedAdd=function(eu){if(this.isInfinity())return eu.toJ();if(eu.isInfinity())return this;var ed=this.z.redSqr(),eg=this.x,em=eu.x.redMul(ed),eb=this.y,ew=eu.y.redMul(ed).redMul(this.z),e_=eg.redSub(em),eE=eb.redSub(ew);if(0===e_.cmpn(0))return 0!==eE.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var eA=e_.redSqr(),eS=eA.redMul(e_),eI=eg.redMul(eA),eC=eE.redSqr().redIAdd(eS).redISub(eI).redISub(eI),eM=eE.redMul(eI.redISub(eC)).redISub(eb.redMul(eS)),eO=this.z.redMul(e_);return this.curve.jpoint(eC,eM,eO)},eI.prototype.dblp=function(eu){if(0===eu||this.isInfinity())return this;if(!eu)return this.dbl();if(this.curve.zeroA||this.curve.threeA){var ed,eg=this;for(ed=0;ed<eu;ed++)eg=eg.dbl();return eg}var em=this.curve.a,eb=this.curve.tinv,ew=this.x,e_=this.y,eE=this.z,eA=eE.redSqr().redSqr(),eS=e_.redAdd(e_);for(ed=0;ed<eu;ed++){var eI=ew.redSqr(),eC=eS.redSqr(),eM=eC.redSqr(),eO=eI.redAdd(eI).redIAdd(eI).redIAdd(em.redMul(eA)),eT=ew.redMul(eC),eP=eO.redSqr().redISub(eT.redAdd(eT)),eN=eT.redISub(eP),ek=eO.redMul(eN);ek=ek.redIAdd(ek).redISub(eM);var eR=eS.redMul(eE);ed+1<eu&&(eA=eA.redMul(eM)),ew=eP,eE=eR,eS=ek}return this.curve.jpoint(ew,eS.redMul(eb),eE)},eI.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},eI.prototype._zeroDbl=function(){if(this.zOne){var eu,ed,eg,em=this.x.redSqr(),eb=this.y.redSqr(),ew=eb.redSqr(),e_=this.x.redAdd(eb).redSqr().redISub(em).redISub(ew);e_=e_.redIAdd(e_);var eE=em.redAdd(em).redIAdd(em),eA=eE.redSqr().redISub(e_).redISub(e_),eS=ew.redIAdd(ew);eS=(eS=eS.redIAdd(eS)).redIAdd(eS),eu=eA,ed=eE.redMul(e_.redISub(eA)).redISub(eS),eg=this.y.redAdd(this.y)}else{var eI=this.x.redSqr(),eC=this.y.redSqr(),eM=eC.redSqr(),eO=this.x.redAdd(eC).redSqr().redISub(eI).redISub(eM);eO=eO.redIAdd(eO);var eT=eI.redAdd(eI).redIAdd(eI),eP=eT.redSqr(),eN=eM.redIAdd(eM);eN=(eN=eN.redIAdd(eN)).redIAdd(eN),eu=eP.redISub(eO).redISub(eO),ed=eT.redMul(eO.redISub(eu)).redISub(eN),eg=(eg=this.y.redMul(this.z)).redIAdd(eg)}return this.curve.jpoint(eu,ed,eg)},eI.prototype._threeDbl=function(){if(this.zOne){var eu,ed,eg,em=this.x.redSqr(),eb=this.y.redSqr(),ew=eb.redSqr(),e_=this.x.redAdd(eb).redSqr().redISub(em).redISub(ew);e_=e_.redIAdd(e_);var eE=em.redAdd(em).redIAdd(em).redIAdd(this.curve.a),eA=eE.redSqr().redISub(e_).redISub(e_);eu=eA;var eS=ew.redIAdd(ew);eS=(eS=eS.redIAdd(eS)).redIAdd(eS),ed=eE.redMul(e_.redISub(eA)).redISub(eS),eg=this.y.redAdd(this.y)}else{var eI=this.z.redSqr(),eC=this.y.redSqr(),eM=this.x.redMul(eC),eO=this.x.redSub(eI).redMul(this.x.redAdd(eI));eO=eO.redAdd(eO).redIAdd(eO);var eT=eM.redIAdd(eM),eP=(eT=eT.redIAdd(eT)).redAdd(eT);eu=eO.redSqr().redISub(eP),eg=this.y.redAdd(this.z).redSqr().redISub(eC).redISub(eI);var eN=eC.redSqr();eN=(eN=(eN=eN.redIAdd(eN)).redIAdd(eN)).redIAdd(eN),ed=eO.redMul(eT.redISub(eu)).redISub(eN)}return this.curve.jpoint(eu,ed,eg)},eI.prototype._dbl=function(){var eu=this.curve.a,ed=this.x,eg=this.y,em=this.z,eb=em.redSqr().redSqr(),ew=ed.redSqr(),e_=eg.redSqr(),eE=ew.redAdd(ew).redIAdd(ew).redIAdd(eu.redMul(eb)),eA=ed.redAdd(ed),eS=(eA=eA.redIAdd(eA)).redMul(e_),eI=eE.redSqr().redISub(eS.redAdd(eS)),eC=eS.redISub(eI),eM=e_.redSqr();eM=(eM=(eM=eM.redIAdd(eM)).redIAdd(eM)).redIAdd(eM);var eO=eE.redMul(eC).redISub(eM),eT=eg.redAdd(eg).redMul(em);return this.curve.jpoint(eI,eO,eT)},eI.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var eu=this.x.redSqr(),ed=this.y.redSqr(),eg=this.z.redSqr(),em=ed.redSqr(),eb=eu.redAdd(eu).redIAdd(eu),ew=eb.redSqr(),e_=this.x.redAdd(ed).redSqr().redISub(eu).redISub(em),eE=(e_=(e_=(e_=e_.redIAdd(e_)).redAdd(e_).redIAdd(e_)).redISub(ew)).redSqr(),eA=em.redIAdd(em);eA=(eA=(eA=eA.redIAdd(eA)).redIAdd(eA)).redIAdd(eA);var eS=eb.redIAdd(e_).redSqr().redISub(ew).redISub(eE).redISub(eA),eI=ed.redMul(eS);eI=(eI=eI.redIAdd(eI)).redIAdd(eI);var eC=this.x.redMul(eE).redISub(eI);eC=(eC=eC.redIAdd(eC)).redIAdd(eC);var eM=this.y.redMul(eS.redMul(eA.redISub(eS)).redISub(e_.redMul(eE)));eM=(eM=(eM=eM.redIAdd(eM)).redIAdd(eM)).redIAdd(eM);var eO=this.z.redAdd(e_).redSqr().redISub(eg).redISub(eE);return this.curve.jpoint(eC,eM,eO)},eI.prototype.mul=function(eu,ed){return eu=new eb(eu,ed),this.curve._wnafMul(this,eu)},eI.prototype.eq=function(eu){if("affine"===eu.type)return this.eq(eu.toJ());if(this===eu)return!0;var ed=this.z.redSqr(),eg=eu.z.redSqr();if(0!==this.x.redMul(eg).redISub(eu.x.redMul(ed)).cmpn(0))return!1;var em=ed.redMul(this.z),eb=eg.redMul(eu.z);return 0===this.y.redMul(eb).redISub(eu.y.redMul(em)).cmpn(0)},eI.prototype.eqXToP=function(eu){var ed=this.z.redSqr(),eg=eu.toRed(this.curve.red).redMul(ed);if(0===this.x.cmp(eg))return!0;for(var em=eu.clone(),eb=this.curve.redN.redMul(ed);;){if(em.iadd(this.curve.n),em.cmp(this.curve.p)>=0)return!1;if(eg.redIAdd(eb),0===this.x.cmp(eg))return!0}},eI.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},eI.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},41479:function(eu,ed,eg){"use strict";var em,eb=ed,ew=eg(34485),e_=eg(48610),eE=eg(18288).assert;function eA(eu){"short"===eu.type?this.curve=new e_.short(eu):"edwards"===eu.type?this.curve=new e_.edwards(eu):this.curve=new e_.mont(eu),this.g=this.curve.g,this.n=this.curve.n,this.hash=eu.hash,eE(this.g.validate(),"Invalid curve"),eE(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function eS(eu,ed){Object.defineProperty(eb,eu,{configurable:!0,enumerable:!0,get:function(){var eg=new eA(ed);return Object.defineProperty(eb,eu,{configurable:!0,enumerable:!0,value:eg}),eg}})}eb.PresetCurve=eA,eS("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:ew.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),eS("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:ew.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),eS("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:ew.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),eS("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:ew.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),eS("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:ew.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),eS("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:ew.sha256,gRed:!1,g:["9"]}),eS("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:ew.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{em=eg(47983)}catch(eu){em=void 0}eS("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:ew.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",em]})},38596:function(eu,ed,eg){"use strict";var em=eg(72140),eb=eg(78873),ew=eg(18288),e_=eg(41479),eE=eg(82745),eA=ew.assert,eS=eg(22307),eI=eg(71798);function eC(eu){if(!(this instanceof eC))return new eC(eu);"string"==typeof eu&&(eA(Object.prototype.hasOwnProperty.call(e_,eu),"Unknown curve "+eu),eu=e_[eu]),eu instanceof e_.PresetCurve&&(eu={curve:eu}),this.curve=eu.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=eu.curve.g,this.g.precompute(eu.curve.n.bitLength()+1),this.hash=eu.hash||eu.curve.hash}eu.exports=eC,eC.prototype.keyPair=function(eu){return new eS(this,eu)},eC.prototype.keyFromPrivate=function(eu,ed){return eS.fromPrivate(this,eu,ed)},eC.prototype.keyFromPublic=function(eu,ed){return eS.fromPublic(this,eu,ed)},eC.prototype.genKeyPair=function(eu){eu||(eu={});for(var ed=new eb({hash:this.hash,pers:eu.pers,persEnc:eu.persEnc||"utf8",entropy:eu.entropy||eE(this.hash.hmacStrength),entropyEnc:eu.entropy&&eu.entropyEnc||"utf8",nonce:this.n.toArray()}),eg=this.n.byteLength(),ew=this.n.sub(new em(2));;){var e_=new em(ed.generate(eg));if(!(e_.cmp(ew)>0))return e_.iaddn(1),this.keyFromPrivate(e_)}},eC.prototype._truncateToN=function(eu,ed,eg){if(em.isBN(eu)||"number"==typeof eu)eb=(eu=new em(eu,16)).byteLength();else if("object"==typeof eu)eb=eu.length,eu=new em(eu,16);else{var eb,ew=eu.toString();eb=ew.length+1>>>1,eu=new em(ew,16)}"number"!=typeof eg&&(eg=8*eb);var e_=eg-this.n.bitLength();return(e_>0&&(eu=eu.ushrn(e_)),!ed&&eu.cmp(this.n)>=0)?eu.sub(this.n):eu},eC.prototype.sign=function(eu,ed,eg,ew){if("object"==typeof eg&&(ew=eg,eg=null),ew||(ew={}),"string"!=typeof eu&&"number"!=typeof eu&&!em.isBN(eu)){eA("object"==typeof eu&&eu&&"number"==typeof eu.length,"Expected message to be an array-like, a hex string, or a BN instance"),eA(eu.length>>>0===eu.length);for(var e_=0;e_<eu.length;e_++)eA((255&eu[e_])===eu[e_])}ed=this.keyFromPrivate(ed,eg),eA(!(eu=this._truncateToN(eu,!1,ew.msgBitLength)).isNeg(),"Can not sign a negative message");var eE=this.n.byteLength(),eS=ed.getPrivate().toArray("be",eE),eC=eu.toArray("be",eE);eA(new em(eC).eq(eu),"Can not sign message");for(var eM=new eb({hash:this.hash,entropy:eS,nonce:eC,pers:ew.pers,persEnc:ew.persEnc||"utf8"}),eO=this.n.sub(new em(1)),eT=0;;eT++){var eP=ew.k?ew.k(eT):new em(eM.generate(this.n.byteLength()));if(!(0>=(eP=this._truncateToN(eP,!0)).cmpn(1)||eP.cmp(eO)>=0)){var eN=this.g.mul(eP);if(!eN.isInfinity()){var ek=eN.getX(),eR=ek.umod(this.n);if(0!==eR.cmpn(0)){var eD=eP.invm(this.n).mul(eR.mul(ed.getPrivate()).iadd(eu));if(0!==(eD=eD.umod(this.n)).cmpn(0)){var eB=(eN.getY().isOdd()?1:0)|(0!==ek.cmp(eR)?2:0);return ew.canonical&&eD.cmp(this.nh)>0&&(eD=this.n.sub(eD),eB^=1),new eI({r:eR,s:eD,recoveryParam:eB})}}}}}},eC.prototype.verify=function(eu,ed,eg,em,eb){eb||(eb={}),eu=this._truncateToN(eu,!1,eb.msgBitLength),eg=this.keyFromPublic(eg,em);var ew,e_=(ed=new eI(ed,"hex")).r,eE=ed.s;if(0>e_.cmpn(1)||e_.cmp(this.n)>=0||0>eE.cmpn(1)||eE.cmp(this.n)>=0)return!1;var eA=eE.invm(this.n),eS=eA.mul(eu).umod(this.n),eC=eA.mul(e_).umod(this.n);return this.curve._maxwellTrick?!(ew=this.g.jmulAdd(eS,eg.getPublic(),eC)).isInfinity()&&ew.eqXToP(e_):!(ew=this.g.mulAdd(eS,eg.getPublic(),eC)).isInfinity()&&0===ew.getX().umod(this.n).cmp(e_)},eC.prototype.recoverPubKey=function(eu,ed,eg,eb){eA((3&eg)===eg,"The recovery param is more than two bits"),ed=new eI(ed,eb);var ew=this.n,e_=new em(eu),eE=ed.r,eS=ed.s,eC=1&eg,eM=eg>>1;if(eE.cmp(this.curve.p.umod(this.curve.n))>=0&&eM)throw Error("Unable to find sencond key candinate");eE=eM?this.curve.pointFromX(eE.add(this.curve.n),eC):this.curve.pointFromX(eE,eC);var eO=ed.r.invm(ew),eT=ew.sub(e_).mul(eO).umod(ew),eP=eS.mul(eO).umod(ew);return this.g.mulAdd(eT,eE,eP)},eC.prototype.getKeyRecoveryParam=function(eu,ed,eg,em){if(null!==(ed=new eI(ed,em)).recoveryParam)return ed.recoveryParam;for(var eb,ew=0;ew<4;ew++){try{eb=this.recoverPubKey(eu,ed,ew)}catch(eu){continue}if(eb.eq(eg))return ew}throw Error("Unable to find valid recovery factor")}},22307:function(eu,ed,eg){"use strict";var em=eg(72140),eb=eg(18288).assert;function ew(eu,ed){this.ec=eu,this.priv=null,this.pub=null,ed.priv&&this._importPrivate(ed.priv,ed.privEnc),ed.pub&&this._importPublic(ed.pub,ed.pubEnc)}eu.exports=ew,ew.fromPublic=function(eu,ed,eg){return ed instanceof ew?ed:new ew(eu,{pub:ed,pubEnc:eg})},ew.fromPrivate=function(eu,ed,eg){return ed instanceof ew?ed:new ew(eu,{priv:ed,privEnc:eg})},ew.prototype.validate=function(){var eu=this.getPublic();return eu.isInfinity()?{result:!1,reason:"Invalid public key"}:eu.validate()?eu.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},ew.prototype.getPublic=function(eu,ed){return("string"==typeof eu&&(ed=eu,eu=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),ed)?this.pub.encode(ed,eu):this.pub},ew.prototype.getPrivate=function(eu){return"hex"===eu?this.priv.toString(16,2):this.priv},ew.prototype._importPrivate=function(eu,ed){this.priv=new em(eu,ed||16),this.priv=this.priv.umod(this.ec.curve.n)},ew.prototype._importPublic=function(eu,ed){if(eu.x||eu.y){"mont"===this.ec.curve.type?eb(eu.x,"Need x coordinate"):("short"===this.ec.curve.type||"edwards"===this.ec.curve.type)&&eb(eu.x&&eu.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(eu.x,eu.y);return}this.pub=this.ec.curve.decodePoint(eu,ed)},ew.prototype.derive=function(eu){return eu.validate()||eb(eu.validate(),"public point not validated"),eu.mul(this.priv).getX()},ew.prototype.sign=function(eu,ed,eg){return this.ec.sign(eu,this,ed,eg)},ew.prototype.verify=function(eu,ed,eg){return this.ec.verify(eu,ed,this,void 0,eg)},ew.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},71798:function(eu,ed,eg){"use strict";var em=eg(72140),eb=eg(18288),ew=eb.assert;function e_(eu,ed){if(eu instanceof e_)return eu;this._importDER(eu,ed)||(ew(eu.r&&eu.s,"Signature without r or s"),this.r=new em(eu.r,16),this.s=new em(eu.s,16),void 0===eu.recoveryParam?this.recoveryParam=null:this.recoveryParam=eu.recoveryParam)}function eE(){this.place=0}function eA(eu,ed){var eg=eu[ed.place++];if(!(128&eg))return eg;var em=15&eg;if(0===em||em>4||0===eu[ed.place])return!1;for(var eb=0,ew=0,e_=ed.place;ew<em;ew++,e_++)eb<<=8,eb|=eu[e_],eb>>>=0;return!(eb<=127)&&(ed.place=e_,eb)}function eS(eu){for(var ed=0,eg=eu.length-1;!eu[ed]&&!(128&eu[ed+1])&&ed<eg;)ed++;return 0===ed?eu:eu.slice(ed)}function eI(eu,ed){if(ed<128){eu.push(ed);return}var eg=1+(Math.log(ed)/Math.LN2>>>3);for(eu.push(128|eg);--eg;)eu.push(ed>>>(eg<<3)&255);eu.push(ed)}eu.exports=e_,e_.prototype._importDER=function(eu,ed){eu=eb.toArray(eu,ed);var eg=new eE;if(48!==eu[eg.place++])return!1;var ew=eA(eu,eg);if(!1===ew||ew+eg.place!==eu.length||2!==eu[eg.place++])return!1;var e_=eA(eu,eg);if(!1===e_||(128&eu[eg.place])!=0)return!1;var eS=eu.slice(eg.place,e_+eg.place);if(eg.place+=e_,2!==eu[eg.place++])return!1;var eI=eA(eu,eg);if(!1===eI||eu.length!==eI+eg.place||(128&eu[eg.place])!=0)return!1;var eC=eu.slice(eg.place,eI+eg.place);if(0===eS[0]){if(!(128&eS[1]))return!1;eS=eS.slice(1)}if(0===eC[0]){if(!(128&eC[1]))return!1;eC=eC.slice(1)}return this.r=new em(eS),this.s=new em(eC),this.recoveryParam=null,!0},e_.prototype.toDER=function(eu){var ed=this.r.toArray(),eg=this.s.toArray();for(128&ed[0]&&(ed=[0].concat(ed)),128&eg[0]&&(eg=[0].concat(eg)),ed=eS(ed),eg=eS(eg);!eg[0]&&!(128&eg[1]);)eg=eg.slice(1);var em=[2];eI(em,ed.length),(em=em.concat(ed)).push(2),eI(em,eg.length);var ew=em.concat(eg),e_=[48];return eI(e_,ew.length),e_=e_.concat(ew),eb.encode(e_,eu)}},39208:function(eu,ed,eg){"use strict";var em=eg(34485),eb=eg(41479),ew=eg(18288),e_=ew.assert,eE=ew.parseBytes,eA=eg(851),eS=eg(6117);function eI(eu){if(e_("ed25519"===eu,"only tested with ed25519 so far"),!(this instanceof eI))return new eI(eu);eu=eb[eu].curve,this.curve=eu,this.g=eu.g,this.g.precompute(eu.n.bitLength()+1),this.pointClass=eu.point().constructor,this.encodingLength=Math.ceil(eu.n.bitLength()/8),this.hash=em.sha512}eu.exports=eI,eI.prototype.sign=function(eu,ed){eu=eE(eu);var eg=this.keyFromSecret(ed),em=this.hashInt(eg.messagePrefix(),eu),eb=this.g.mul(em),ew=this.encodePoint(eb),e_=this.hashInt(ew,eg.pubBytes(),eu).mul(eg.priv()),eA=em.add(e_).umod(this.curve.n);return this.makeSignature({R:eb,S:eA,Rencoded:ew})},eI.prototype.verify=function(eu,ed,eg){if(eu=eE(eu),(ed=this.makeSignature(ed)).S().gte(ed.eddsa.curve.n)||ed.S().isNeg())return!1;var em=this.keyFromPublic(eg),eb=this.hashInt(ed.Rencoded(),em.pubBytes(),eu),ew=this.g.mul(ed.S());return ed.R().add(em.pub().mul(eb)).eq(ew)},eI.prototype.hashInt=function(){for(var eu=this.hash(),ed=0;ed<arguments.length;ed++)eu.update(arguments[ed]);return ew.intFromLE(eu.digest()).umod(this.curve.n)},eI.prototype.keyFromPublic=function(eu){return eA.fromPublic(this,eu)},eI.prototype.keyFromSecret=function(eu){return eA.fromSecret(this,eu)},eI.prototype.makeSignature=function(eu){return eu instanceof eS?eu:new eS(this,eu)},eI.prototype.encodePoint=function(eu){var ed=eu.getY().toArray("le",this.encodingLength);return ed[this.encodingLength-1]|=eu.getX().isOdd()?128:0,ed},eI.prototype.decodePoint=function(eu){var ed=(eu=ew.parseBytes(eu)).length-1,eg=eu.slice(0,ed).concat(-129&eu[ed]),em=(128&eu[ed])!=0,eb=ew.intFromLE(eg);return this.curve.pointFromY(eb,em)},eI.prototype.encodeInt=function(eu){return eu.toArray("le",this.encodingLength)},eI.prototype.decodeInt=function(eu){return ew.intFromLE(eu)},eI.prototype.isPoint=function(eu){return eu instanceof this.pointClass}},851:function(eu,ed,eg){"use strict";var em=eg(18288),eb=em.assert,ew=em.parseBytes,e_=em.cachedProperty;function eE(eu,ed){this.eddsa=eu,this._secret=ew(ed.secret),eu.isPoint(ed.pub)?this._pub=ed.pub:this._pubBytes=ew(ed.pub)}eE.fromPublic=function(eu,ed){return ed instanceof eE?ed:new eE(eu,{pub:ed})},eE.fromSecret=function(eu,ed){return ed instanceof eE?ed:new eE(eu,{secret:ed})},eE.prototype.secret=function(){return this._secret},e_(eE,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),e_(eE,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),e_(eE,"privBytes",function(){var eu=this.eddsa,ed=this.hash(),eg=eu.encodingLength-1,em=ed.slice(0,eu.encodingLength);return em[0]&=248,em[eg]&=127,em[eg]|=64,em}),e_(eE,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),e_(eE,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),e_(eE,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),eE.prototype.sign=function(eu){return eb(this._secret,"KeyPair can only verify"),this.eddsa.sign(eu,this)},eE.prototype.verify=function(eu,ed){return this.eddsa.verify(eu,ed,this)},eE.prototype.getSecret=function(eu){return eb(this._secret,"KeyPair is public only"),em.encode(this.secret(),eu)},eE.prototype.getPublic=function(eu){return em.encode(this.pubBytes(),eu)},eu.exports=eE},6117:function(eu,ed,eg){"use strict";var em=eg(72140),eb=eg(18288),ew=eb.assert,e_=eb.cachedProperty,eE=eb.parseBytes;function eA(eu,ed){this.eddsa=eu,"object"!=typeof ed&&(ed=eE(ed)),Array.isArray(ed)&&(ew(ed.length===2*eu.encodingLength,"Signature has invalid size"),ed={R:ed.slice(0,eu.encodingLength),S:ed.slice(eu.encodingLength)}),ew(ed.R&&ed.S,"Signature without R or S"),eu.isPoint(ed.R)&&(this._R=ed.R),ed.S instanceof em&&(this._S=ed.S),this._Rencoded=Array.isArray(ed.R)?ed.R:ed.Rencoded,this._Sencoded=Array.isArray(ed.S)?ed.S:ed.Sencoded}e_(eA,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),e_(eA,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),e_(eA,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),e_(eA,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),eA.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},eA.prototype.toHex=function(){return eb.encode(this.toBytes(),"hex").toUpperCase()},eu.exports=eA},47983:function(eu){eu.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},18288:function(eu,ed,eg){"use strict";var em=ed,eb=eg(72140),ew=eg(79561),e_=eg(43022);function eE(eu,ed,eg){var em=Array(Math.max(eu.bitLength(),eg)+1);for(e_=0;e_<em.length;e_+=1)em[e_]=0;var eb=1<<ed+1,ew=eu.clone();for(e_=0;e_<em.length;e_++){var e_,eE,eA=ew.andln(eb-1);ew.isOdd()?(eE=eA>(eb>>1)-1?(eb>>1)-eA:eA,ew.isubn(eE)):eE=0,em[e_]=eE,ew.iushrn(1)}return em}function eA(eu,ed){var eg=[[],[]];eu=eu.clone(),ed=ed.clone();for(var em=0,eb=0;eu.cmpn(-em)>0||ed.cmpn(-eb)>0;){var ew,e_,eE,eA=eu.andln(3)+em&3,eS=ed.andln(3)+eb&3;3===eA&&(eA=-1),3===eS&&(eS=-1),e_=(1&eA)==0?0:(3==(ew=eu.andln(7)+em&7)||5===ew)&&2===eS?-eA:eA,eg[0].push(e_),eE=(1&eS)==0?0:(3==(ew=ed.andln(7)+eb&7)||5===ew)&&2===eA?-eS:eS,eg[1].push(eE),2*em===e_+1&&(em=1-em),2*eb===eE+1&&(eb=1-eb),eu.iushrn(1),ed.iushrn(1)}return eg}function eS(eu,ed,eg){var em="_"+ed;eu.prototype[ed]=function(){return void 0!==this[em]?this[em]:this[em]=eg.call(this)}}function eI(eu){return"string"==typeof eu?em.toArray(eu,"hex"):eu}function eC(eu){return new eb(eu,"hex","le")}em.assert=ew,em.toArray=e_.toArray,em.zero2=e_.zero2,em.toHex=e_.toHex,em.encode=e_.encode,em.getNAF=eE,em.getJSF=eA,em.cachedProperty=eS,em.parseBytes=eI,em.intFromLE=eC},72140:function(eu,ed,eg){!function(eu,ed){"use strict";function em(eu,ed){if(!eu)throw Error(ed||"Assertion failed")}function eb(eu,ed){eu.super_=ed;var eg=function(){};eg.prototype=ed.prototype,eu.prototype=new eg,eu.prototype.constructor=eu}function ew(eu,ed,eg){if(ew.isBN(eu))return eu;this.negative=0,this.words=null,this.length=0,this.red=null,null!==eu&&(("le"===ed||"be"===ed)&&(eg=ed,ed=10),this._init(eu||0,ed||10,eg||"be"))}"object"==typeof eu?eu.exports=ew:ed.BN=ew,ew.BN=ew,ew.wordSize=26;try{eS="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:eg(30488).Buffer}catch(eu){}function e_(eu,ed){var eg=eu.charCodeAt(ed);return eg>=65&&eg<=70?eg-55:eg>=97&&eg<=102?eg-87:eg-48&15}function eE(eu,ed,eg){var em=e_(eu,eg);return eg-1>=ed&&(em|=e_(eu,eg-1)<<4),em}function eA(eu,ed,eg,em){for(var eb=0,ew=Math.min(eu.length,eg),e_=ed;e_<ew;e_++){var eE=eu.charCodeAt(e_)-48;eb*=em,eE>=49?eb+=eE-49+10:eE>=17?eb+=eE-17+10:eb+=eE}return eb}ew.isBN=function(eu){return eu instanceof ew||null!==eu&&"object"==typeof eu&&eu.constructor.wordSize===ew.wordSize&&Array.isArray(eu.words)},ew.max=function(eu,ed){return eu.cmp(ed)>0?eu:ed},ew.min=function(eu,ed){return 0>eu.cmp(ed)?eu:ed},ew.prototype._init=function(eu,ed,eg){if("number"==typeof eu)return this._initNumber(eu,ed,eg);if("object"==typeof eu)return this._initArray(eu,ed,eg);"hex"===ed&&(ed=16),em(ed===(0|ed)&&ed>=2&&ed<=36);var eb=0;"-"===(eu=eu.toString().replace(/\s+/g,""))[0]&&(eb++,this.negative=1),eb<eu.length&&(16===ed?this._parseHex(eu,eb,eg):(this._parseBase(eu,ed,eb),"le"===eg&&this._initArray(this.toArray(),ed,eg)))},ew.prototype._initNumber=function(eu,ed,eg){eu<0&&(this.negative=1,eu=-eu),eu<67108864?(this.words=[67108863&eu],this.length=1):eu<4503599627370496?(this.words=[67108863&eu,eu/67108864&67108863],this.length=2):(em(eu<9007199254740992),this.words=[67108863&eu,eu/67108864&67108863,1],this.length=3),"le"===eg&&this._initArray(this.toArray(),ed,eg)},ew.prototype._initArray=function(eu,ed,eg){if(em("number"==typeof eu.length),eu.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(eu.length/3),this.words=Array(this.length);for(var eb,ew,e_=0;e_<this.length;e_++)this.words[e_]=0;var eE=0;if("be"===eg)for(e_=eu.length-1,eb=0;e_>=0;e_-=3)ew=eu[e_]|eu[e_-1]<<8|eu[e_-2]<<16,this.words[eb]|=ew<<eE&67108863,this.words[eb+1]=ew>>>26-eE&67108863,(eE+=24)>=26&&(eE-=26,eb++);else if("le"===eg)for(e_=0,eb=0;e_<eu.length;e_+=3)ew=eu[e_]|eu[e_+1]<<8|eu[e_+2]<<16,this.words[eb]|=ew<<eE&67108863,this.words[eb+1]=ew>>>26-eE&67108863,(eE+=24)>=26&&(eE-=26,eb++);return this.strip()},ew.prototype._parseHex=function(eu,ed,eg){this.length=Math.ceil((eu.length-ed)/6),this.words=Array(this.length);for(var em,eb=0;eb<this.length;eb++)this.words[eb]=0;var ew=0,e_=0;if("be"===eg)for(eb=eu.length-1;eb>=ed;eb-=2)em=eE(eu,ed,eb)<<ew,this.words[e_]|=67108863&em,ew>=18?(ew-=18,e_+=1,this.words[e_]|=em>>>26):ew+=8;else for(eb=(eu.length-ed)%2==0?ed+1:ed;eb<eu.length;eb+=2)em=eE(eu,ed,eb)<<ew,this.words[e_]|=67108863&em,ew>=18?(ew-=18,e_+=1,this.words[e_]|=em>>>26):ew+=8;this.strip()},ew.prototype._parseBase=function(eu,ed,eg){this.words=[0],this.length=1;for(var em=0,eb=1;eb<=67108863;eb*=ed)em++;em--,eb=eb/ed|0;for(var ew=eu.length-eg,e_=ew%em,eE=Math.min(ew,ew-e_)+eg,eS=0,eI=eg;eI<eE;eI+=em)eS=eA(eu,eI,eI+em,ed),this.imuln(eb),this.words[0]+eS<67108864?this.words[0]+=eS:this._iaddn(eS);if(0!==e_){var eC=1;for(eS=eA(eu,eI,eu.length,ed),eI=0;eI<e_;eI++)eC*=ed;this.imuln(eC),this.words[0]+eS<67108864?this.words[0]+=eS:this._iaddn(eS)}this.strip()},ew.prototype.copy=function(eu){eu.words=Array(this.length);for(var ed=0;ed<this.length;ed++)eu.words[ed]=this.words[ed];eu.length=this.length,eu.negative=this.negative,eu.red=this.red},ew.prototype.clone=function(){var eu=new ew(null);return this.copy(eu),eu},ew.prototype._expand=function(eu){for(;this.length<eu;)this.words[this.length++]=0;return this},ew.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},ew.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},ew.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var eS,eI=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],eC=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],eM=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function eO(eu){for(var ed=Array(eu.bitLength()),eg=0;eg<ed.length;eg++){var em=eg/26|0,eb=eg%26;ed[eg]=(eu.words[em]&1<<eb)>>>eb}return ed}function eT(eu,ed,eg){eg.negative=ed.negative^eu.negative;var em=eu.length+ed.length|0;eg.length=em,em=em-1|0;var eb=0|eu.words[0],ew=0|ed.words[0],e_=eb*ew,eE=67108863&e_,eA=e_/67108864|0;eg.words[0]=eE;for(var eS=1;eS<em;eS++){for(var eI=eA>>>26,eC=67108863&eA,eM=Math.min(eS,ed.length-1),eO=Math.max(0,eS-eu.length+1);eO<=eM;eO++){var eT=eS-eO|0;eI+=(e_=(eb=0|eu.words[eT])*(ew=0|ed.words[eO])+eC)/67108864|0,eC=67108863&e_}eg.words[eS]=0|eC,eA=0|eI}return 0!==eA?eg.words[eS]=0|eA:eg.length--,eg.strip()}ew.prototype.toString=function(eu,ed){if(ed=0|ed||1,16===(eu=eu||10)||"hex"===eu){eg="";for(var eg,eb=0,ew=0,e_=0;e_<this.length;e_++){var eE=this.words[e_],eA=((eE<<eb|ew)&16777215).toString(16);ew=eE>>>24-eb&16777215,(eb+=2)>=26&&(eb-=26,e_--),eg=0!==ew||e_!==this.length-1?eI[6-eA.length]+eA+eg:eA+eg}for(0!==ew&&(eg=ew.toString(16)+eg);eg.length%ed!=0;)eg="0"+eg;return 0!==this.negative&&(eg="-"+eg),eg}if(eu===(0|eu)&&eu>=2&&eu<=36){var eS=eC[eu],eO=eM[eu];eg="";var eT=this.clone();for(eT.negative=0;!eT.isZero();){var eP=eT.modn(eO).toString(eu);eg=(eT=eT.idivn(eO)).isZero()?eP+eg:eI[eS-eP.length]+eP+eg}for(this.isZero()&&(eg="0"+eg);eg.length%ed!=0;)eg="0"+eg;return 0!==this.negative&&(eg="-"+eg),eg}em(!1,"Base should be between 2 and 36")},ew.prototype.toNumber=function(){var eu=this.words[0];return 2===this.length?eu+=67108864*this.words[1]:3===this.length&&1===this.words[2]?eu+=4503599627370496+67108864*this.words[1]:this.length>2&&em(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-eu:eu},ew.prototype.toJSON=function(){return this.toString(16)},ew.prototype.toBuffer=function(eu,ed){return em(void 0!==eS),this.toArrayLike(eS,eu,ed)},ew.prototype.toArray=function(eu,ed){return this.toArrayLike(Array,eu,ed)},ew.prototype.toArrayLike=function(eu,ed,eg){var eb,ew,e_=this.byteLength(),eE=eg||Math.max(1,e_);em(e_<=eE,"byte array longer than desired length"),em(eE>0,"Requested array length <= 0"),this.strip();var eA="le"===ed,eS=new eu(eE),eI=this.clone();if(eA){for(ew=0;!eI.isZero();ew++)eb=eI.andln(255),eI.iushrn(8),eS[ew]=eb;for(;ew<eE;ew++)eS[ew]=0}else{for(ew=0;ew<eE-e_;ew++)eS[ew]=0;for(ew=0;!eI.isZero();ew++)eb=eI.andln(255),eI.iushrn(8),eS[eE-ew-1]=eb}return eS},Math.clz32?ew.prototype._countBits=function(eu){return 32-Math.clz32(eu)}:ew.prototype._countBits=function(eu){var ed=eu,eg=0;return ed>=4096&&(eg+=13,ed>>>=13),ed>=64&&(eg+=7,ed>>>=7),ed>=8&&(eg+=4,ed>>>=4),ed>=2&&(eg+=2,ed>>>=2),eg+ed},ew.prototype._zeroBits=function(eu){if(0===eu)return 26;var ed=eu,eg=0;return(8191&ed)==0&&(eg+=13,ed>>>=13),(127&ed)==0&&(eg+=7,ed>>>=7),(15&ed)==0&&(eg+=4,ed>>>=4),(3&ed)==0&&(eg+=2,ed>>>=2),(1&ed)==0&&eg++,eg},ew.prototype.bitLength=function(){var eu=this.words[this.length-1],ed=this._countBits(eu);return(this.length-1)*26+ed},ew.prototype.zeroBits=function(){if(this.isZero())return 0;for(var eu=0,ed=0;ed<this.length;ed++){var eg=this._zeroBits(this.words[ed]);if(eu+=eg,26!==eg)break}return eu},ew.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},ew.prototype.toTwos=function(eu){return 0!==this.negative?this.abs().inotn(eu).iaddn(1):this.clone()},ew.prototype.fromTwos=function(eu){return this.testn(eu-1)?this.notn(eu).iaddn(1).ineg():this.clone()},ew.prototype.isNeg=function(){return 0!==this.negative},ew.prototype.neg=function(){return this.clone().ineg()},ew.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},ew.prototype.iuor=function(eu){for(;this.length<eu.length;)this.words[this.length++]=0;for(var ed=0;ed<eu.length;ed++)this.words[ed]=this.words[ed]|eu.words[ed];return this.strip()},ew.prototype.ior=function(eu){return em((this.negative|eu.negative)==0),this.iuor(eu)},ew.prototype.or=function(eu){return this.length>eu.length?this.clone().ior(eu):eu.clone().ior(this)},ew.prototype.uor=function(eu){return this.length>eu.length?this.clone().iuor(eu):eu.clone().iuor(this)},ew.prototype.iuand=function(eu){var ed;ed=this.length>eu.length?eu:this;for(var eg=0;eg<ed.length;eg++)this.words[eg]=this.words[eg]&eu.words[eg];return this.length=ed.length,this.strip()},ew.prototype.iand=function(eu){return em((this.negative|eu.negative)==0),this.iuand(eu)},ew.prototype.and=function(eu){return this.length>eu.length?this.clone().iand(eu):eu.clone().iand(this)},ew.prototype.uand=function(eu){return this.length>eu.length?this.clone().iuand(eu):eu.clone().iuand(this)},ew.prototype.iuxor=function(eu){this.length>eu.length?(ed=this,eg=eu):(ed=eu,eg=this);for(var ed,eg,em=0;em<eg.length;em++)this.words[em]=ed.words[em]^eg.words[em];if(this!==ed)for(;em<ed.length;em++)this.words[em]=ed.words[em];return this.length=ed.length,this.strip()},ew.prototype.ixor=function(eu){return em((this.negative|eu.negative)==0),this.iuxor(eu)},ew.prototype.xor=function(eu){return this.length>eu.length?this.clone().ixor(eu):eu.clone().ixor(this)},ew.prototype.uxor=function(eu){return this.length>eu.length?this.clone().iuxor(eu):eu.clone().iuxor(this)},ew.prototype.inotn=function(eu){em("number"==typeof eu&&eu>=0);var ed=0|Math.ceil(eu/26),eg=eu%26;this._expand(ed),eg>0&&ed--;for(var eb=0;eb<ed;eb++)this.words[eb]=67108863&~this.words[eb];return eg>0&&(this.words[eb]=~this.words[eb]&67108863>>26-eg),this.strip()},ew.prototype.notn=function(eu){return this.clone().inotn(eu)},ew.prototype.setn=function(eu,ed){em("number"==typeof eu&&eu>=0);var eg=eu/26|0,eb=eu%26;return this._expand(eg+1),ed?this.words[eg]=this.words[eg]|1<<eb:this.words[eg]=this.words[eg]&~(1<<eb),this.strip()},ew.prototype.iadd=function(eu){if(0!==this.negative&&0===eu.negative)return this.negative=0,ed=this.isub(eu),this.negative^=1,this._normSign();if(0===this.negative&&0!==eu.negative)return eu.negative=0,ed=this.isub(eu),eu.negative=1,ed._normSign();this.length>eu.length?(eg=this,em=eu):(eg=eu,em=this);for(var ed,eg,em,eb=0,ew=0;ew<em.length;ew++)ed=(0|eg.words[ew])+(0|em.words[ew])+eb,this.words[ew]=67108863&ed,eb=ed>>>26;for(;0!==eb&&ew<eg.length;ew++)ed=(0|eg.words[ew])+eb,this.words[ew]=67108863&ed,eb=ed>>>26;if(this.length=eg.length,0!==eb)this.words[this.length]=eb,this.length++;else if(eg!==this)for(;ew<eg.length;ew++)this.words[ew]=eg.words[ew];return this},ew.prototype.add=function(eu){var ed;return 0!==eu.negative&&0===this.negative?(eu.negative=0,ed=this.sub(eu),eu.negative^=1,ed):0===eu.negative&&0!==this.negative?(this.negative=0,ed=eu.sub(this),this.negative=1,ed):this.length>eu.length?this.clone().iadd(eu):eu.clone().iadd(this)},ew.prototype.isub=function(eu){if(0!==eu.negative){eu.negative=0;var ed,eg,em=this.iadd(eu);return eu.negative=1,em._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(eu),this.negative=1,this._normSign();var eb=this.cmp(eu);if(0===eb)return this.negative=0,this.length=1,this.words[0]=0,this;eb>0?(ed=this,eg=eu):(ed=eu,eg=this);for(var ew=0,e_=0;e_<eg.length;e_++)ew=(em=(0|ed.words[e_])-(0|eg.words[e_])+ew)>>26,this.words[e_]=67108863&em;for(;0!==ew&&e_<ed.length;e_++)ew=(em=(0|ed.words[e_])+ew)>>26,this.words[e_]=67108863&em;if(0===ew&&e_<ed.length&&ed!==this)for(;e_<ed.length;e_++)this.words[e_]=ed.words[e_];return this.length=Math.max(this.length,e_),ed!==this&&(this.negative=1),this.strip()},ew.prototype.sub=function(eu){return this.clone().isub(eu)};var eP=function(eu,ed,eg){var em,eb,ew,e_=eu.words,eE=ed.words,eA=eg.words,eS=0,eI=0|e_[0],eC=8191&eI,eM=eI>>>13,eO=0|e_[1],eT=8191&eO,eP=eO>>>13,eN=0|e_[2],ek=8191&eN,eR=eN>>>13,eD=0|e_[3],eB=8191&eD,eU=eD>>>13,eL=0|e_[4],ej=8191&eL,eF=eL>>>13,e$=0|e_[5],eK=8191&e$,eH=e$>>>13,eV=0|e_[6],eG=8191&eV,eW=eV>>>13,eJ=0|e_[7],eZ=8191&eJ,eY=eJ>>>13,eX=0|e_[8],eQ=8191&eX,e0=eX>>>13,e6=0|e_[9],e8=8191&e6,e5=e6>>>13,e9=0|eE[0],e7=8191&e9,tu=e9>>>13,th=0|eE[1],td=8191&th,tg=th>>>13,ty=0|eE[2],tb=8191&ty,tw=ty>>>13,t_=0|eE[3],tE=8191&t_,tA=t_>>>13,tS=0|eE[4],tI=8191&tS,tC=tS>>>13,tO=0|eE[5],tT=8191&tO,tP=tO>>>13,tN=0|eE[6],tR=8191&tN,tD=tN>>>13,tB=0|eE[7],tU=8191&tB,tL=tB>>>13,tj=0|eE[8],tF=8191&tj,t$=tj>>>13,tK=0|eE[9],tq=8191&tK,tz=tK>>>13;eg.negative=eu.negative^ed.negative,eg.length=19;var tH=(eS+(em=Math.imul(eC,e7))|0)+((8191&(eb=(eb=Math.imul(eC,tu))+Math.imul(eM,e7)|0))<<13)|0;eS=((ew=Math.imul(eM,tu))+(eb>>>13)|0)+(tH>>>26)|0,tH&=67108863,em=Math.imul(eT,e7),eb=(eb=Math.imul(eT,tu))+Math.imul(eP,e7)|0,ew=Math.imul(eP,tu);var tV=(eS+(em=em+Math.imul(eC,td)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eC,tg)|0)+Math.imul(eM,td)|0))<<13)|0;eS=((ew=ew+Math.imul(eM,tg)|0)+(eb>>>13)|0)+(tV>>>26)|0,tV&=67108863,em=Math.imul(ek,e7),eb=(eb=Math.imul(ek,tu))+Math.imul(eR,e7)|0,ew=Math.imul(eR,tu),em=em+Math.imul(eT,td)|0,eb=(eb=eb+Math.imul(eT,tg)|0)+Math.imul(eP,td)|0,ew=ew+Math.imul(eP,tg)|0;var tG=(eS+(em=em+Math.imul(eC,tb)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eC,tw)|0)+Math.imul(eM,tb)|0))<<13)|0;eS=((ew=ew+Math.imul(eM,tw)|0)+(eb>>>13)|0)+(tG>>>26)|0,tG&=67108863,em=Math.imul(eB,e7),eb=(eb=Math.imul(eB,tu))+Math.imul(eU,e7)|0,ew=Math.imul(eU,tu),em=em+Math.imul(ek,td)|0,eb=(eb=eb+Math.imul(ek,tg)|0)+Math.imul(eR,td)|0,ew=ew+Math.imul(eR,tg)|0,em=em+Math.imul(eT,tb)|0,eb=(eb=eb+Math.imul(eT,tw)|0)+Math.imul(eP,tb)|0,ew=ew+Math.imul(eP,tw)|0;var tW=(eS+(em=em+Math.imul(eC,tE)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eC,tA)|0)+Math.imul(eM,tE)|0))<<13)|0;eS=((ew=ew+Math.imul(eM,tA)|0)+(eb>>>13)|0)+(tW>>>26)|0,tW&=67108863,em=Math.imul(ej,e7),eb=(eb=Math.imul(ej,tu))+Math.imul(eF,e7)|0,ew=Math.imul(eF,tu),em=em+Math.imul(eB,td)|0,eb=(eb=eb+Math.imul(eB,tg)|0)+Math.imul(eU,td)|0,ew=ew+Math.imul(eU,tg)|0,em=em+Math.imul(ek,tb)|0,eb=(eb=eb+Math.imul(ek,tw)|0)+Math.imul(eR,tb)|0,ew=ew+Math.imul(eR,tw)|0,em=em+Math.imul(eT,tE)|0,eb=(eb=eb+Math.imul(eT,tA)|0)+Math.imul(eP,tE)|0,ew=ew+Math.imul(eP,tA)|0;var tJ=(eS+(em=em+Math.imul(eC,tI)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eC,tC)|0)+Math.imul(eM,tI)|0))<<13)|0;eS=((ew=ew+Math.imul(eM,tC)|0)+(eb>>>13)|0)+(tJ>>>26)|0,tJ&=67108863,em=Math.imul(eK,e7),eb=(eb=Math.imul(eK,tu))+Math.imul(eH,e7)|0,ew=Math.imul(eH,tu),em=em+Math.imul(ej,td)|0,eb=(eb=eb+Math.imul(ej,tg)|0)+Math.imul(eF,td)|0,ew=ew+Math.imul(eF,tg)|0,em=em+Math.imul(eB,tb)|0,eb=(eb=eb+Math.imul(eB,tw)|0)+Math.imul(eU,tb)|0,ew=ew+Math.imul(eU,tw)|0,em=em+Math.imul(ek,tE)|0,eb=(eb=eb+Math.imul(ek,tA)|0)+Math.imul(eR,tE)|0,ew=ew+Math.imul(eR,tA)|0,em=em+Math.imul(eT,tI)|0,eb=(eb=eb+Math.imul(eT,tC)|0)+Math.imul(eP,tI)|0,ew=ew+Math.imul(eP,tC)|0;var tZ=(eS+(em=em+Math.imul(eC,tT)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eC,tP)|0)+Math.imul(eM,tT)|0))<<13)|0;eS=((ew=ew+Math.imul(eM,tP)|0)+(eb>>>13)|0)+(tZ>>>26)|0,tZ&=67108863,em=Math.imul(eG,e7),eb=(eb=Math.imul(eG,tu))+Math.imul(eW,e7)|0,ew=Math.imul(eW,tu),em=em+Math.imul(eK,td)|0,eb=(eb=eb+Math.imul(eK,tg)|0)+Math.imul(eH,td)|0,ew=ew+Math.imul(eH,tg)|0,em=em+Math.imul(ej,tb)|0,eb=(eb=eb+Math.imul(ej,tw)|0)+Math.imul(eF,tb)|0,ew=ew+Math.imul(eF,tw)|0,em=em+Math.imul(eB,tE)|0,eb=(eb=eb+Math.imul(eB,tA)|0)+Math.imul(eU,tE)|0,ew=ew+Math.imul(eU,tA)|0,em=em+Math.imul(ek,tI)|0,eb=(eb=eb+Math.imul(ek,tC)|0)+Math.imul(eR,tI)|0,ew=ew+Math.imul(eR,tC)|0,em=em+Math.imul(eT,tT)|0,eb=(eb=eb+Math.imul(eT,tP)|0)+Math.imul(eP,tT)|0,ew=ew+Math.imul(eP,tP)|0;var tY=(eS+(em=em+Math.imul(eC,tR)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eC,tD)|0)+Math.imul(eM,tR)|0))<<13)|0;eS=((ew=ew+Math.imul(eM,tD)|0)+(eb>>>13)|0)+(tY>>>26)|0,tY&=67108863,em=Math.imul(eZ,e7),eb=(eb=Math.imul(eZ,tu))+Math.imul(eY,e7)|0,ew=Math.imul(eY,tu),em=em+Math.imul(eG,td)|0,eb=(eb=eb+Math.imul(eG,tg)|0)+Math.imul(eW,td)|0,ew=ew+Math.imul(eW,tg)|0,em=em+Math.imul(eK,tb)|0,eb=(eb=eb+Math.imul(eK,tw)|0)+Math.imul(eH,tb)|0,ew=ew+Math.imul(eH,tw)|0,em=em+Math.imul(ej,tE)|0,eb=(eb=eb+Math.imul(ej,tA)|0)+Math.imul(eF,tE)|0,ew=ew+Math.imul(eF,tA)|0,em=em+Math.imul(eB,tI)|0,eb=(eb=eb+Math.imul(eB,tC)|0)+Math.imul(eU,tI)|0,ew=ew+Math.imul(eU,tC)|0,em=em+Math.imul(ek,tT)|0,eb=(eb=eb+Math.imul(ek,tP)|0)+Math.imul(eR,tT)|0,ew=ew+Math.imul(eR,tP)|0,em=em+Math.imul(eT,tR)|0,eb=(eb=eb+Math.imul(eT,tD)|0)+Math.imul(eP,tR)|0,ew=ew+Math.imul(eP,tD)|0;var tX=(eS+(em=em+Math.imul(eC,tU)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eC,tL)|0)+Math.imul(eM,tU)|0))<<13)|0;eS=((ew=ew+Math.imul(eM,tL)|0)+(eb>>>13)|0)+(tX>>>26)|0,tX&=67108863,em=Math.imul(eQ,e7),eb=(eb=Math.imul(eQ,tu))+Math.imul(e0,e7)|0,ew=Math.imul(e0,tu),em=em+Math.imul(eZ,td)|0,eb=(eb=eb+Math.imul(eZ,tg)|0)+Math.imul(eY,td)|0,ew=ew+Math.imul(eY,tg)|0,em=em+Math.imul(eG,tb)|0,eb=(eb=eb+Math.imul(eG,tw)|0)+Math.imul(eW,tb)|0,ew=ew+Math.imul(eW,tw)|0,em=em+Math.imul(eK,tE)|0,eb=(eb=eb+Math.imul(eK,tA)|0)+Math.imul(eH,tE)|0,ew=ew+Math.imul(eH,tA)|0,em=em+Math.imul(ej,tI)|0,eb=(eb=eb+Math.imul(ej,tC)|0)+Math.imul(eF,tI)|0,ew=ew+Math.imul(eF,tC)|0,em=em+Math.imul(eB,tT)|0,eb=(eb=eb+Math.imul(eB,tP)|0)+Math.imul(eU,tT)|0,ew=ew+Math.imul(eU,tP)|0,em=em+Math.imul(ek,tR)|0,eb=(eb=eb+Math.imul(ek,tD)|0)+Math.imul(eR,tR)|0,ew=ew+Math.imul(eR,tD)|0,em=em+Math.imul(eT,tU)|0,eb=(eb=eb+Math.imul(eT,tL)|0)+Math.imul(eP,tU)|0,ew=ew+Math.imul(eP,tL)|0;var tQ=(eS+(em=em+Math.imul(eC,tF)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eC,t$)|0)+Math.imul(eM,tF)|0))<<13)|0;eS=((ew=ew+Math.imul(eM,t$)|0)+(eb>>>13)|0)+(tQ>>>26)|0,tQ&=67108863,em=Math.imul(e8,e7),eb=(eb=Math.imul(e8,tu))+Math.imul(e5,e7)|0,ew=Math.imul(e5,tu),em=em+Math.imul(eQ,td)|0,eb=(eb=eb+Math.imul(eQ,tg)|0)+Math.imul(e0,td)|0,ew=ew+Math.imul(e0,tg)|0,em=em+Math.imul(eZ,tb)|0,eb=(eb=eb+Math.imul(eZ,tw)|0)+Math.imul(eY,tb)|0,ew=ew+Math.imul(eY,tw)|0,em=em+Math.imul(eG,tE)|0,eb=(eb=eb+Math.imul(eG,tA)|0)+Math.imul(eW,tE)|0,ew=ew+Math.imul(eW,tA)|0,em=em+Math.imul(eK,tI)|0,eb=(eb=eb+Math.imul(eK,tC)|0)+Math.imul(eH,tI)|0,ew=ew+Math.imul(eH,tC)|0,em=em+Math.imul(ej,tT)|0,eb=(eb=eb+Math.imul(ej,tP)|0)+Math.imul(eF,tT)|0,ew=ew+Math.imul(eF,tP)|0,em=em+Math.imul(eB,tR)|0,eb=(eb=eb+Math.imul(eB,tD)|0)+Math.imul(eU,tR)|0,ew=ew+Math.imul(eU,tD)|0,em=em+Math.imul(ek,tU)|0,eb=(eb=eb+Math.imul(ek,tL)|0)+Math.imul(eR,tU)|0,ew=ew+Math.imul(eR,tL)|0,em=em+Math.imul(eT,tF)|0,eb=(eb=eb+Math.imul(eT,t$)|0)+Math.imul(eP,tF)|0,ew=ew+Math.imul(eP,t$)|0;var t6=(eS+(em=em+Math.imul(eC,tq)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eC,tz)|0)+Math.imul(eM,tq)|0))<<13)|0;eS=((ew=ew+Math.imul(eM,tz)|0)+(eb>>>13)|0)+(t6>>>26)|0,t6&=67108863,em=Math.imul(e8,td),eb=(eb=Math.imul(e8,tg))+Math.imul(e5,td)|0,ew=Math.imul(e5,tg),em=em+Math.imul(eQ,tb)|0,eb=(eb=eb+Math.imul(eQ,tw)|0)+Math.imul(e0,tb)|0,ew=ew+Math.imul(e0,tw)|0,em=em+Math.imul(eZ,tE)|0,eb=(eb=eb+Math.imul(eZ,tA)|0)+Math.imul(eY,tE)|0,ew=ew+Math.imul(eY,tA)|0,em=em+Math.imul(eG,tI)|0,eb=(eb=eb+Math.imul(eG,tC)|0)+Math.imul(eW,tI)|0,ew=ew+Math.imul(eW,tC)|0,em=em+Math.imul(eK,tT)|0,eb=(eb=eb+Math.imul(eK,tP)|0)+Math.imul(eH,tT)|0,ew=ew+Math.imul(eH,tP)|0,em=em+Math.imul(ej,tR)|0,eb=(eb=eb+Math.imul(ej,tD)|0)+Math.imul(eF,tR)|0,ew=ew+Math.imul(eF,tD)|0,em=em+Math.imul(eB,tU)|0,eb=(eb=eb+Math.imul(eB,tL)|0)+Math.imul(eU,tU)|0,ew=ew+Math.imul(eU,tL)|0,em=em+Math.imul(ek,tF)|0,eb=(eb=eb+Math.imul(ek,t$)|0)+Math.imul(eR,tF)|0,ew=ew+Math.imul(eR,t$)|0;var t8=(eS+(em=em+Math.imul(eT,tq)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eT,tz)|0)+Math.imul(eP,tq)|0))<<13)|0;eS=((ew=ew+Math.imul(eP,tz)|0)+(eb>>>13)|0)+(t8>>>26)|0,t8&=67108863,em=Math.imul(e8,tb),eb=(eb=Math.imul(e8,tw))+Math.imul(e5,tb)|0,ew=Math.imul(e5,tw),em=em+Math.imul(eQ,tE)|0,eb=(eb=eb+Math.imul(eQ,tA)|0)+Math.imul(e0,tE)|0,ew=ew+Math.imul(e0,tA)|0,em=em+Math.imul(eZ,tI)|0,eb=(eb=eb+Math.imul(eZ,tC)|0)+Math.imul(eY,tI)|0,ew=ew+Math.imul(eY,tC)|0,em=em+Math.imul(eG,tT)|0,eb=(eb=eb+Math.imul(eG,tP)|0)+Math.imul(eW,tT)|0,ew=ew+Math.imul(eW,tP)|0,em=em+Math.imul(eK,tR)|0,eb=(eb=eb+Math.imul(eK,tD)|0)+Math.imul(eH,tR)|0,ew=ew+Math.imul(eH,tD)|0,em=em+Math.imul(ej,tU)|0,eb=(eb=eb+Math.imul(ej,tL)|0)+Math.imul(eF,tU)|0,ew=ew+Math.imul(eF,tL)|0,em=em+Math.imul(eB,tF)|0,eb=(eb=eb+Math.imul(eB,t$)|0)+Math.imul(eU,tF)|0,ew=ew+Math.imul(eU,t$)|0;var t5=(eS+(em=em+Math.imul(ek,tq)|0)|0)+((8191&(eb=(eb=eb+Math.imul(ek,tz)|0)+Math.imul(eR,tq)|0))<<13)|0;eS=((ew=ew+Math.imul(eR,tz)|0)+(eb>>>13)|0)+(t5>>>26)|0,t5&=67108863,em=Math.imul(e8,tE),eb=(eb=Math.imul(e8,tA))+Math.imul(e5,tE)|0,ew=Math.imul(e5,tA),em=em+Math.imul(eQ,tI)|0,eb=(eb=eb+Math.imul(eQ,tC)|0)+Math.imul(e0,tI)|0,ew=ew+Math.imul(e0,tC)|0,em=em+Math.imul(eZ,tT)|0,eb=(eb=eb+Math.imul(eZ,tP)|0)+Math.imul(eY,tT)|0,ew=ew+Math.imul(eY,tP)|0,em=em+Math.imul(eG,tR)|0,eb=(eb=eb+Math.imul(eG,tD)|0)+Math.imul(eW,tR)|0,ew=ew+Math.imul(eW,tD)|0,em=em+Math.imul(eK,tU)|0,eb=(eb=eb+Math.imul(eK,tL)|0)+Math.imul(eH,tU)|0,ew=ew+Math.imul(eH,tL)|0,em=em+Math.imul(ej,tF)|0,eb=(eb=eb+Math.imul(ej,t$)|0)+Math.imul(eF,tF)|0,ew=ew+Math.imul(eF,t$)|0;var t4=(eS+(em=em+Math.imul(eB,tq)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eB,tz)|0)+Math.imul(eU,tq)|0))<<13)|0;eS=((ew=ew+Math.imul(eU,tz)|0)+(eb>>>13)|0)+(t4>>>26)|0,t4&=67108863,em=Math.imul(e8,tI),eb=(eb=Math.imul(e8,tC))+Math.imul(e5,tI)|0,ew=Math.imul(e5,tC),em=em+Math.imul(eQ,tT)|0,eb=(eb=eb+Math.imul(eQ,tP)|0)+Math.imul(e0,tT)|0,ew=ew+Math.imul(e0,tP)|0,em=em+Math.imul(eZ,tR)|0,eb=(eb=eb+Math.imul(eZ,tD)|0)+Math.imul(eY,tR)|0,ew=ew+Math.imul(eY,tD)|0,em=em+Math.imul(eG,tU)|0,eb=(eb=eb+Math.imul(eG,tL)|0)+Math.imul(eW,tU)|0,ew=ew+Math.imul(eW,tL)|0,em=em+Math.imul(eK,tF)|0,eb=(eb=eb+Math.imul(eK,t$)|0)+Math.imul(eH,tF)|0,ew=ew+Math.imul(eH,t$)|0;var t9=(eS+(em=em+Math.imul(ej,tq)|0)|0)+((8191&(eb=(eb=eb+Math.imul(ej,tz)|0)+Math.imul(eF,tq)|0))<<13)|0;eS=((ew=ew+Math.imul(eF,tz)|0)+(eb>>>13)|0)+(t9>>>26)|0,t9&=67108863,em=Math.imul(e8,tT),eb=(eb=Math.imul(e8,tP))+Math.imul(e5,tT)|0,ew=Math.imul(e5,tP),em=em+Math.imul(eQ,tR)|0,eb=(eb=eb+Math.imul(eQ,tD)|0)+Math.imul(e0,tR)|0,ew=ew+Math.imul(e0,tD)|0,em=em+Math.imul(eZ,tU)|0,eb=(eb=eb+Math.imul(eZ,tL)|0)+Math.imul(eY,tU)|0,ew=ew+Math.imul(eY,tL)|0,em=em+Math.imul(eG,tF)|0,eb=(eb=eb+Math.imul(eG,t$)|0)+Math.imul(eW,tF)|0,ew=ew+Math.imul(eW,t$)|0;var t7=(eS+(em=em+Math.imul(eK,tq)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eK,tz)|0)+Math.imul(eH,tq)|0))<<13)|0;eS=((ew=ew+Math.imul(eH,tz)|0)+(eb>>>13)|0)+(t7>>>26)|0,t7&=67108863,em=Math.imul(e8,tR),eb=(eb=Math.imul(e8,tD))+Math.imul(e5,tR)|0,ew=Math.imul(e5,tD),em=em+Math.imul(eQ,tU)|0,eb=(eb=eb+Math.imul(eQ,tL)|0)+Math.imul(e0,tU)|0,ew=ew+Math.imul(e0,tL)|0,em=em+Math.imul(eZ,tF)|0,eb=(eb=eb+Math.imul(eZ,t$)|0)+Math.imul(eY,tF)|0,ew=ew+Math.imul(eY,t$)|0;var ru=(eS+(em=em+Math.imul(eG,tq)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eG,tz)|0)+Math.imul(eW,tq)|0))<<13)|0;eS=((ew=ew+Math.imul(eW,tz)|0)+(eb>>>13)|0)+(ru>>>26)|0,ru&=67108863,em=Math.imul(e8,tU),eb=(eb=Math.imul(e8,tL))+Math.imul(e5,tU)|0,ew=Math.imul(e5,tL),em=em+Math.imul(eQ,tF)|0,eb=(eb=eb+Math.imul(eQ,t$)|0)+Math.imul(e0,tF)|0,ew=ew+Math.imul(e0,t$)|0;var rd=(eS+(em=em+Math.imul(eZ,tq)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eZ,tz)|0)+Math.imul(eY,tq)|0))<<13)|0;eS=((ew=ew+Math.imul(eY,tz)|0)+(eb>>>13)|0)+(rd>>>26)|0,rd&=67108863,em=Math.imul(e8,tF),eb=(eb=Math.imul(e8,t$))+Math.imul(e5,tF)|0,ew=Math.imul(e5,t$);var rp=(eS+(em=em+Math.imul(eQ,tq)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eQ,tz)|0)+Math.imul(e0,tq)|0))<<13)|0;eS=((ew=ew+Math.imul(e0,tz)|0)+(eb>>>13)|0)+(rp>>>26)|0,rp&=67108863;var rg=(eS+(em=Math.imul(e8,tq))|0)+((8191&(eb=(eb=Math.imul(e8,tz))+Math.imul(e5,tq)|0))<<13)|0;return eS=((ew=Math.imul(e5,tz))+(eb>>>13)|0)+(rg>>>26)|0,rg&=67108863,eA[0]=tH,eA[1]=tV,eA[2]=tG,eA[3]=tW,eA[4]=tJ,eA[5]=tZ,eA[6]=tY,eA[7]=tX,eA[8]=tQ,eA[9]=t6,eA[10]=t8,eA[11]=t5,eA[12]=t4,eA[13]=t9,eA[14]=t7,eA[15]=ru,eA[16]=rd,eA[17]=rp,eA[18]=rg,0!==eS&&(eA[19]=eS,eg.length++),eg};function eN(eu,ed,eg){eg.negative=ed.negative^eu.negative,eg.length=eu.length+ed.length;for(var em=0,eb=0,ew=0;ew<eg.length-1;ew++){var e_=eb;eb=0;for(var eE=67108863&em,eA=Math.min(ew,ed.length-1),eS=Math.max(0,ew-eu.length+1);eS<=eA;eS++){var eI=ew-eS,eC=(0|eu.words[eI])*(0|ed.words[eS]),eM=67108863&eC;e_=e_+(eC/67108864|0)|0,eE=67108863&(eM=eM+eE|0),eb+=(e_=e_+(eM>>>26)|0)>>>26,e_&=67108863}eg.words[ew]=eE,em=e_,e_=eb}return 0!==em?eg.words[ew]=em:eg.length--,eg.strip()}function ek(eu,ed,eg){return new eR().mulp(eu,ed,eg)}function eR(eu,ed){this.x=eu,this.y=ed}Math.imul||(eP=eT),ew.prototype.mulTo=function(eu,ed){var eg=this.length+eu.length;return 10===this.length&&10===eu.length?eP(this,eu,ed):eg<63?eT(this,eu,ed):eg<1024?eN(this,eu,ed):ek(this,eu,ed)},eR.prototype.makeRBT=function(eu){for(var ed=Array(eu),eg=ew.prototype._countBits(eu)-1,em=0;em<eu;em++)ed[em]=this.revBin(em,eg,eu);return ed},eR.prototype.revBin=function(eu,ed,eg){if(0===eu||eu===eg-1)return eu;for(var em=0,eb=0;eb<ed;eb++)em|=(1&eu)<<ed-eb-1,eu>>=1;return em},eR.prototype.permute=function(eu,ed,eg,em,eb,ew){for(var e_=0;e_<ew;e_++)em[e_]=ed[eu[e_]],eb[e_]=eg[eu[e_]]},eR.prototype.transform=function(eu,ed,eg,em,eb,ew){this.permute(ew,eu,ed,eg,em,eb);for(var e_=1;e_<eb;e_<<=1)for(var eE=e_<<1,eA=Math.cos(2*Math.PI/eE),eS=Math.sin(2*Math.PI/eE),eI=0;eI<eb;eI+=eE)for(var eC=eA,eM=eS,eO=0;eO<e_;eO++){var eT=eg[eI+eO],eP=em[eI+eO],eN=eg[eI+eO+e_],ek=em[eI+eO+e_],eR=eC*eN-eM*ek;ek=eC*ek+eM*eN,eN=eR,eg[eI+eO]=eT+eN,em[eI+eO]=eP+ek,eg[eI+eO+e_]=eT-eN,em[eI+eO+e_]=eP-ek,eO!==eE&&(eR=eA*eC-eS*eM,eM=eA*eM+eS*eC,eC=eR)}},eR.prototype.guessLen13b=function(eu,ed){var eg=1|Math.max(ed,eu),em=1&eg,eb=0;for(eg=eg/2|0;eg;eg>>>=1)eb++;return 1<<eb+1+em},eR.prototype.conjugate=function(eu,ed,eg){if(!(eg<=1))for(var em=0;em<eg/2;em++){var eb=eu[em];eu[em]=eu[eg-em-1],eu[eg-em-1]=eb,eb=ed[em],ed[em]=-ed[eg-em-1],ed[eg-em-1]=-eb}},eR.prototype.normalize13b=function(eu,ed){for(var eg=0,em=0;em<ed/2;em++){var eb=8192*Math.round(eu[2*em+1]/ed)+Math.round(eu[2*em]/ed)+eg;eu[em]=67108863&eb,eg=eb<67108864?0:eb/67108864|0}return eu},eR.prototype.convert13b=function(eu,ed,eg,eb){for(var ew=0,e_=0;e_<ed;e_++)ew+=0|eu[e_],eg[2*e_]=8191&ew,ew>>>=13,eg[2*e_+1]=8191&ew,ew>>>=13;for(e_=2*ed;e_<eb;++e_)eg[e_]=0;em(0===ew),em((-8192&ew)==0)},eR.prototype.stub=function(eu){for(var ed=Array(eu),eg=0;eg<eu;eg++)ed[eg]=0;return ed},eR.prototype.mulp=function(eu,ed,eg){var em=2*this.guessLen13b(eu.length,ed.length),eb=this.makeRBT(em),ew=this.stub(em),e_=Array(em),eE=Array(em),eA=Array(em),eS=Array(em),eI=Array(em),eC=Array(em),eM=eg.words;eM.length=em,this.convert13b(eu.words,eu.length,e_,em),this.convert13b(ed.words,ed.length,eS,em),this.transform(e_,ew,eE,eA,em,eb),this.transform(eS,ew,eI,eC,em,eb);for(var eO=0;eO<em;eO++){var eT=eE[eO]*eI[eO]-eA[eO]*eC[eO];eA[eO]=eE[eO]*eC[eO]+eA[eO]*eI[eO],eE[eO]=eT}return this.conjugate(eE,eA,em),this.transform(eE,eA,eM,ew,em,eb),this.conjugate(eM,ew,em),this.normalize13b(eM,em),eg.negative=eu.negative^ed.negative,eg.length=eu.length+ed.length,eg.strip()},ew.prototype.mul=function(eu){var ed=new ew(null);return ed.words=Array(this.length+eu.length),this.mulTo(eu,ed)},ew.prototype.mulf=function(eu){var ed=new ew(null);return ed.words=Array(this.length+eu.length),ek(this,eu,ed)},ew.prototype.imul=function(eu){return this.clone().mulTo(eu,this)},ew.prototype.imuln=function(eu){em("number"==typeof eu),em(eu<67108864);for(var ed=0,eg=0;eg<this.length;eg++){var eb=(0|this.words[eg])*eu,ew=(67108863&eb)+(67108863&ed);ed>>=26,ed+=(eb/67108864|0)+(ew>>>26),this.words[eg]=67108863&ew}return 0!==ed&&(this.words[eg]=ed,this.length++),this.length=0===eu?1:this.length,this},ew.prototype.muln=function(eu){return this.clone().imuln(eu)},ew.prototype.sqr=function(){return this.mul(this)},ew.prototype.isqr=function(){return this.imul(this.clone())},ew.prototype.pow=function(eu){var ed=eO(eu);if(0===ed.length)return new ew(1);for(var eg=this,em=0;em<ed.length&&0===ed[em];em++,eg=eg.sqr());if(++em<ed.length)for(var eb=eg.sqr();em<ed.length;em++,eb=eb.sqr())0!==ed[em]&&(eg=eg.mul(eb));return eg},ew.prototype.iushln=function(eu){em("number"==typeof eu&&eu>=0);var ed,eg=eu%26,eb=(eu-eg)/26,ew=67108863>>>26-eg<<26-eg;if(0!==eg){var e_=0;for(ed=0;ed<this.length;ed++){var eE=this.words[ed]&ew,eA=(0|this.words[ed])-eE<<eg;this.words[ed]=eA|e_,e_=eE>>>26-eg}e_&&(this.words[ed]=e_,this.length++)}if(0!==eb){for(ed=this.length-1;ed>=0;ed--)this.words[ed+eb]=this.words[ed];for(ed=0;ed<eb;ed++)this.words[ed]=0;this.length+=eb}return this.strip()},ew.prototype.ishln=function(eu){return em(0===this.negative),this.iushln(eu)},ew.prototype.iushrn=function(eu,ed,eg){em("number"==typeof eu&&eu>=0),eb=ed?(ed-ed%26)/26:0;var eb,ew=eu%26,e_=Math.min((eu-ew)/26,this.length),eE=67108863^67108863>>>ew<<ew,eA=eg;if(eb-=e_,eb=Math.max(0,eb),eA){for(var eS=0;eS<e_;eS++)eA.words[eS]=this.words[eS];eA.length=e_}if(0===e_);else if(this.length>e_)for(this.length-=e_,eS=0;eS<this.length;eS++)this.words[eS]=this.words[eS+e_];else this.words[0]=0,this.length=1;var eI=0;for(eS=this.length-1;eS>=0&&(0!==eI||eS>=eb);eS--){var eC=0|this.words[eS];this.words[eS]=eI<<26-ew|eC>>>ew,eI=eC&eE}return eA&&0!==eI&&(eA.words[eA.length++]=eI),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},ew.prototype.ishrn=function(eu,ed,eg){return em(0===this.negative),this.iushrn(eu,ed,eg)},ew.prototype.shln=function(eu){return this.clone().ishln(eu)},ew.prototype.ushln=function(eu){return this.clone().iushln(eu)},ew.prototype.shrn=function(eu){return this.clone().ishrn(eu)},ew.prototype.ushrn=function(eu){return this.clone().iushrn(eu)},ew.prototype.testn=function(eu){em("number"==typeof eu&&eu>=0);var ed=eu%26,eg=(eu-ed)/26,eb=1<<ed;return!(this.length<=eg)&&!!(this.words[eg]&eb)},ew.prototype.imaskn=function(eu){em("number"==typeof eu&&eu>=0);var ed=eu%26,eg=(eu-ed)/26;if(em(0===this.negative,"imaskn works only with positive numbers"),this.length<=eg)return this;if(0!==ed&&eg++,this.length=Math.min(eg,this.length),0!==ed){var eb=67108863^67108863>>>ed<<ed;this.words[this.length-1]&=eb}return this.strip()},ew.prototype.maskn=function(eu){return this.clone().imaskn(eu)},ew.prototype.iaddn=function(eu){return(em("number"==typeof eu),em(eu<67108864),eu<0)?this.isubn(-eu):0!==this.negative?1===this.length&&(0|this.words[0])<eu?(this.words[0]=eu-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(eu),this.negative=1,this):this._iaddn(eu)},ew.prototype._iaddn=function(eu){this.words[0]+=eu;for(var ed=0;ed<this.length&&this.words[ed]>=67108864;ed++)this.words[ed]-=67108864,ed===this.length-1?this.words[ed+1]=1:this.words[ed+1]++;return this.length=Math.max(this.length,ed+1),this},ew.prototype.isubn=function(eu){if(em("number"==typeof eu),em(eu<67108864),eu<0)return this.iaddn(-eu);if(0!==this.negative)return this.negative=0,this.iaddn(eu),this.negative=1,this;if(this.words[0]-=eu,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var ed=0;ed<this.length&&this.words[ed]<0;ed++)this.words[ed]+=67108864,this.words[ed+1]-=1;return this.strip()},ew.prototype.addn=function(eu){return this.clone().iaddn(eu)},ew.prototype.subn=function(eu){return this.clone().isubn(eu)},ew.prototype.iabs=function(){return this.negative=0,this},ew.prototype.abs=function(){return this.clone().iabs()},ew.prototype._ishlnsubmul=function(eu,ed,eg){var eb,ew,e_=eu.length+eg;this._expand(e_);var eE=0;for(eb=0;eb<eu.length;eb++){ew=(0|this.words[eb+eg])+eE;var eA=(0|eu.words[eb])*ed;ew-=67108863&eA,eE=(ew>>26)-(eA/67108864|0),this.words[eb+eg]=67108863&ew}for(;eb<this.length-eg;eb++)eE=(ew=(0|this.words[eb+eg])+eE)>>26,this.words[eb+eg]=67108863&ew;if(0===eE)return this.strip();for(em(-1===eE),eE=0,eb=0;eb<this.length;eb++)eE=(ew=-(0|this.words[eb])+eE)>>26,this.words[eb]=67108863&ew;return this.negative=1,this.strip()},ew.prototype._wordDiv=function(eu,ed){var eg,em=this.length-eu.length,eb=this.clone(),e_=eu,eE=0|e_.words[e_.length-1];0!=(em=26-this._countBits(eE))&&(e_=e_.ushln(em),eb.iushln(em),eE=0|e_.words[e_.length-1]);var eA=eb.length-e_.length;if("mod"!==ed){(eg=new ew(null)).length=eA+1,eg.words=Array(eg.length);for(var eS=0;eS<eg.length;eS++)eg.words[eS]=0}var eI=eb.clone()._ishlnsubmul(e_,1,eA);0===eI.negative&&(eb=eI,eg&&(eg.words[eA]=1));for(var eC=eA-1;eC>=0;eC--){var eM=(0|eb.words[e_.length+eC])*67108864+(0|eb.words[e_.length+eC-1]);for(eM=Math.min(eM/eE|0,67108863),eb._ishlnsubmul(e_,eM,eC);0!==eb.negative;)eM--,eb.negative=0,eb._ishlnsubmul(e_,1,eC),eb.isZero()||(eb.negative^=1);eg&&(eg.words[eC]=eM)}return eg&&eg.strip(),eb.strip(),"div"!==ed&&0!==em&&eb.iushrn(em),{div:eg||null,mod:eb}},ew.prototype.divmod=function(eu,ed,eg){var eb,e_,eE;return(em(!eu.isZero()),this.isZero())?{div:new ew(0),mod:new ew(0)}:0!==this.negative&&0===eu.negative?(eE=this.neg().divmod(eu,ed),"mod"!==ed&&(eb=eE.div.neg()),"div"!==ed&&(e_=eE.mod.neg(),eg&&0!==e_.negative&&e_.iadd(eu)),{div:eb,mod:e_}):0===this.negative&&0!==eu.negative?(eE=this.divmod(eu.neg(),ed),"mod"!==ed&&(eb=eE.div.neg()),{div:eb,mod:eE.mod}):(this.negative&eu.negative)!=0?(eE=this.neg().divmod(eu.neg(),ed),"div"!==ed&&(e_=eE.mod.neg(),eg&&0!==e_.negative&&e_.isub(eu)),{div:eE.div,mod:e_}):eu.length>this.length||0>this.cmp(eu)?{div:new ew(0),mod:this}:1===eu.length?"div"===ed?{div:this.divn(eu.words[0]),mod:null}:"mod"===ed?{div:null,mod:new ew(this.modn(eu.words[0]))}:{div:this.divn(eu.words[0]),mod:new ew(this.modn(eu.words[0]))}:this._wordDiv(eu,ed)},ew.prototype.div=function(eu){return this.divmod(eu,"div",!1).div},ew.prototype.mod=function(eu){return this.divmod(eu,"mod",!1).mod},ew.prototype.umod=function(eu){return this.divmod(eu,"mod",!0).mod},ew.prototype.divRound=function(eu){var ed=this.divmod(eu);if(ed.mod.isZero())return ed.div;var eg=0!==ed.div.negative?ed.mod.isub(eu):ed.mod,em=eu.ushrn(1),eb=eu.andln(1),ew=eg.cmp(em);return ew<0||1===eb&&0===ew?ed.div:0!==ed.div.negative?ed.div.isubn(1):ed.div.iaddn(1)},ew.prototype.modn=function(eu){em(eu<=67108863);for(var ed=67108864%eu,eg=0,eb=this.length-1;eb>=0;eb--)eg=(ed*eg+(0|this.words[eb]))%eu;return eg},ew.prototype.idivn=function(eu){em(eu<=67108863);for(var ed=0,eg=this.length-1;eg>=0;eg--){var eb=(0|this.words[eg])+67108864*ed;this.words[eg]=eb/eu|0,ed=eb%eu}return this.strip()},ew.prototype.divn=function(eu){return this.clone().idivn(eu)},ew.prototype.egcd=function(eu){em(0===eu.negative),em(!eu.isZero());var ed=this,eg=eu.clone();ed=0!==ed.negative?ed.umod(eu):ed.clone();for(var eb=new ew(1),e_=new ew(0),eE=new ew(0),eA=new ew(1),eS=0;ed.isEven()&&eg.isEven();)ed.iushrn(1),eg.iushrn(1),++eS;for(var eI=eg.clone(),eC=ed.clone();!ed.isZero();){for(var eM=0,eO=1;(ed.words[0]&eO)==0&&eM<26;++eM,eO<<=1);if(eM>0)for(ed.iushrn(eM);eM-- >0;)(eb.isOdd()||e_.isOdd())&&(eb.iadd(eI),e_.isub(eC)),eb.iushrn(1),e_.iushrn(1);for(var eT=0,eP=1;(eg.words[0]&eP)==0&&eT<26;++eT,eP<<=1);if(eT>0)for(eg.iushrn(eT);eT-- >0;)(eE.isOdd()||eA.isOdd())&&(eE.iadd(eI),eA.isub(eC)),eE.iushrn(1),eA.iushrn(1);ed.cmp(eg)>=0?(ed.isub(eg),eb.isub(eE),e_.isub(eA)):(eg.isub(ed),eE.isub(eb),eA.isub(e_))}return{a:eE,b:eA,gcd:eg.iushln(eS)}},ew.prototype._invmp=function(eu){em(0===eu.negative),em(!eu.isZero());var ed,eg=this,eb=eu.clone();eg=0!==eg.negative?eg.umod(eu):eg.clone();for(var e_=new ew(1),eE=new ew(0),eA=eb.clone();eg.cmpn(1)>0&&eb.cmpn(1)>0;){for(var eS=0,eI=1;(eg.words[0]&eI)==0&&eS<26;++eS,eI<<=1);if(eS>0)for(eg.iushrn(eS);eS-- >0;)e_.isOdd()&&e_.iadd(eA),e_.iushrn(1);for(var eC=0,eM=1;(eb.words[0]&eM)==0&&eC<26;++eC,eM<<=1);if(eC>0)for(eb.iushrn(eC);eC-- >0;)eE.isOdd()&&eE.iadd(eA),eE.iushrn(1);eg.cmp(eb)>=0?(eg.isub(eb),e_.isub(eE)):(eb.isub(eg),eE.isub(e_))}return 0>(ed=0===eg.cmpn(1)?e_:eE).cmpn(0)&&ed.iadd(eu),ed},ew.prototype.gcd=function(eu){if(this.isZero())return eu.abs();if(eu.isZero())return this.abs();var ed=this.clone(),eg=eu.clone();ed.negative=0,eg.negative=0;for(var em=0;ed.isEven()&&eg.isEven();em++)ed.iushrn(1),eg.iushrn(1);for(;;){for(;ed.isEven();)ed.iushrn(1);for(;eg.isEven();)eg.iushrn(1);var eb=ed.cmp(eg);if(eb<0){var ew=ed;ed=eg,eg=ew}else if(0===eb||0===eg.cmpn(1))break;ed.isub(eg)}return eg.iushln(em)},ew.prototype.invm=function(eu){return this.egcd(eu).a.umod(eu)},ew.prototype.isEven=function(){return(1&this.words[0])==0},ew.prototype.isOdd=function(){return(1&this.words[0])==1},ew.prototype.andln=function(eu){return this.words[0]&eu},ew.prototype.bincn=function(eu){em("number"==typeof eu);var ed=eu%26,eg=(eu-ed)/26,eb=1<<ed;if(this.length<=eg)return this._expand(eg+1),this.words[eg]|=eb,this;for(var ew=eb,e_=eg;0!==ew&&e_<this.length;e_++){var eE=0|this.words[e_];eE+=ew,ew=eE>>>26,eE&=67108863,this.words[e_]=eE}return 0!==ew&&(this.words[e_]=ew,this.length++),this},ew.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},ew.prototype.cmpn=function(eu){var ed,eg=eu<0;if(0!==this.negative&&!eg)return -1;if(0===this.negative&&eg)return 1;if(this.strip(),this.length>1)ed=1;else{eg&&(eu=-eu),em(eu<=67108863,"Number is too big");var eb=0|this.words[0];ed=eb===eu?0:eb<eu?-1:1}return 0!==this.negative?0|-ed:ed},ew.prototype.cmp=function(eu){if(0!==this.negative&&0===eu.negative)return -1;if(0===this.negative&&0!==eu.negative)return 1;var ed=this.ucmp(eu);return 0!==this.negative?0|-ed:ed},ew.prototype.ucmp=function(eu){if(this.length>eu.length)return 1;if(this.length<eu.length)return -1;for(var ed=0,eg=this.length-1;eg>=0;eg--){var em=0|this.words[eg],eb=0|eu.words[eg];if(em!==eb){em<eb?ed=-1:em>eb&&(ed=1);break}}return ed},ew.prototype.gtn=function(eu){return 1===this.cmpn(eu)},ew.prototype.gt=function(eu){return 1===this.cmp(eu)},ew.prototype.gten=function(eu){return this.cmpn(eu)>=0},ew.prototype.gte=function(eu){return this.cmp(eu)>=0},ew.prototype.ltn=function(eu){return -1===this.cmpn(eu)},ew.prototype.lt=function(eu){return -1===this.cmp(eu)},ew.prototype.lten=function(eu){return 0>=this.cmpn(eu)},ew.prototype.lte=function(eu){return 0>=this.cmp(eu)},ew.prototype.eqn=function(eu){return 0===this.cmpn(eu)},ew.prototype.eq=function(eu){return 0===this.cmp(eu)},ew.red=function(eu){return new e$(eu)},ew.prototype.toRed=function(eu){return em(!this.red,"Already a number in reduction context"),em(0===this.negative,"red works only with positives"),eu.convertTo(this)._forceRed(eu)},ew.prototype.fromRed=function(){return em(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},ew.prototype._forceRed=function(eu){return this.red=eu,this},ew.prototype.forceRed=function(eu){return em(!this.red,"Already a number in reduction context"),this._forceRed(eu)},ew.prototype.redAdd=function(eu){return em(this.red,"redAdd works only with red numbers"),this.red.add(this,eu)},ew.prototype.redIAdd=function(eu){return em(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,eu)},ew.prototype.redSub=function(eu){return em(this.red,"redSub works only with red numbers"),this.red.sub(this,eu)},ew.prototype.redISub=function(eu){return em(this.red,"redISub works only with red numbers"),this.red.isub(this,eu)},ew.prototype.redShl=function(eu){return em(this.red,"redShl works only with red numbers"),this.red.shl(this,eu)},ew.prototype.redMul=function(eu){return em(this.red,"redMul works only with red numbers"),this.red._verify2(this,eu),this.red.mul(this,eu)},ew.prototype.redIMul=function(eu){return em(this.red,"redMul works only with red numbers"),this.red._verify2(this,eu),this.red.imul(this,eu)},ew.prototype.redSqr=function(){return em(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},ew.prototype.redISqr=function(){return em(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},ew.prototype.redSqrt=function(){return em(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},ew.prototype.redInvm=function(){return em(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},ew.prototype.redNeg=function(){return em(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},ew.prototype.redPow=function(eu){return em(this.red&&!eu.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,eu)};var eD={k256:null,p224:null,p192:null,p25519:null};function eB(eu,ed){this.name=eu,this.p=new ew(ed,16),this.n=this.p.bitLength(),this.k=new ew(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function eU(){eB.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function eL(){eB.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function ej(){eB.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function eF(){eB.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function e$(eu){if("string"==typeof eu){var ed=ew._prime(eu);this.m=ed.p,this.prime=ed}else em(eu.gtn(1),"modulus must be greater than 1"),this.m=eu,this.prime=null}function eK(eu){e$.call(this,eu),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new ew(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}eB.prototype._tmp=function(){var eu=new ew(null);return eu.words=Array(Math.ceil(this.n/13)),eu},eB.prototype.ireduce=function(eu){var ed,eg=eu;do this.split(eg,this.tmp),ed=(eg=(eg=this.imulK(eg)).iadd(this.tmp)).bitLength();while(ed>this.n);var em=ed<this.n?-1:eg.ucmp(this.p);return 0===em?(eg.words[0]=0,eg.length=1):em>0?eg.isub(this.p):void 0!==eg.strip?eg.strip():eg._strip(),eg},eB.prototype.split=function(eu,ed){eu.iushrn(this.n,0,ed)},eB.prototype.imulK=function(eu){return eu.imul(this.k)},eb(eU,eB),eU.prototype.split=function(eu,ed){for(var eg=4194303,em=Math.min(eu.length,9),eb=0;eb<em;eb++)ed.words[eb]=eu.words[eb];if(ed.length=em,eu.length<=9){eu.words[0]=0,eu.length=1;return}var ew=eu.words[9];for(eb=10,ed.words[ed.length++]=ew&eg;eb<eu.length;eb++){var e_=0|eu.words[eb];eu.words[eb-10]=(e_&eg)<<4|ew>>>22,ew=e_}ew>>>=22,eu.words[eb-10]=ew,0===ew&&eu.length>10?eu.length-=10:eu.length-=9},eU.prototype.imulK=function(eu){eu.words[eu.length]=0,eu.words[eu.length+1]=0,eu.length+=2;for(var ed=0,eg=0;eg<eu.length;eg++){var em=0|eu.words[eg];ed+=977*em,eu.words[eg]=67108863&ed,ed=64*em+(ed/67108864|0)}return 0===eu.words[eu.length-1]&&(eu.length--,0===eu.words[eu.length-1]&&eu.length--),eu},eb(eL,eB),eb(ej,eB),eb(eF,eB),eF.prototype.imulK=function(eu){for(var ed=0,eg=0;eg<eu.length;eg++){var em=(0|eu.words[eg])*19+ed,eb=67108863&em;em>>>=26,eu.words[eg]=eb,ed=em}return 0!==ed&&(eu.words[eu.length++]=ed),eu},ew._prime=function(eu){var ed;if(eD[eu])return eD[eu];if("k256"===eu)ed=new eU;else if("p224"===eu)ed=new eL;else if("p192"===eu)ed=new ej;else if("p25519"===eu)ed=new eF;else throw Error("Unknown prime "+eu);return eD[eu]=ed,ed},e$.prototype._verify1=function(eu){em(0===eu.negative,"red works only with positives"),em(eu.red,"red works only with red numbers")},e$.prototype._verify2=function(eu,ed){em((eu.negative|ed.negative)==0,"red works only with positives"),em(eu.red&&eu.red===ed.red,"red works only with red numbers")},e$.prototype.imod=function(eu){return this.prime?this.prime.ireduce(eu)._forceRed(this):eu.umod(this.m)._forceRed(this)},e$.prototype.neg=function(eu){return eu.isZero()?eu.clone():this.m.sub(eu)._forceRed(this)},e$.prototype.add=function(eu,ed){this._verify2(eu,ed);var eg=eu.add(ed);return eg.cmp(this.m)>=0&&eg.isub(this.m),eg._forceRed(this)},e$.prototype.iadd=function(eu,ed){this._verify2(eu,ed);var eg=eu.iadd(ed);return eg.cmp(this.m)>=0&&eg.isub(this.m),eg},e$.prototype.sub=function(eu,ed){this._verify2(eu,ed);var eg=eu.sub(ed);return 0>eg.cmpn(0)&&eg.iadd(this.m),eg._forceRed(this)},e$.prototype.isub=function(eu,ed){this._verify2(eu,ed);var eg=eu.isub(ed);return 0>eg.cmpn(0)&&eg.iadd(this.m),eg},e$.prototype.shl=function(eu,ed){return this._verify1(eu),this.imod(eu.ushln(ed))},e$.prototype.imul=function(eu,ed){return this._verify2(eu,ed),this.imod(eu.imul(ed))},e$.prototype.mul=function(eu,ed){return this._verify2(eu,ed),this.imod(eu.mul(ed))},e$.prototype.isqr=function(eu){return this.imul(eu,eu.clone())},e$.prototype.sqr=function(eu){return this.mul(eu,eu)},e$.prototype.sqrt=function(eu){if(eu.isZero())return eu.clone();var ed=this.m.andln(3);if(em(ed%2==1),3===ed){var eg=this.m.add(new ew(1)).iushrn(2);return this.pow(eu,eg)}for(var eb=this.m.subn(1),e_=0;!eb.isZero()&&0===eb.andln(1);)e_++,eb.iushrn(1);em(!eb.isZero());var eE=new ew(1).toRed(this),eA=eE.redNeg(),eS=this.m.subn(1).iushrn(1),eI=this.m.bitLength();for(eI=new ew(2*eI*eI).toRed(this);0!==this.pow(eI,eS).cmp(eA);)eI.redIAdd(eA);for(var eC=this.pow(eI,eb),eM=this.pow(eu,eb.addn(1).iushrn(1)),eO=this.pow(eu,eb),eT=e_;0!==eO.cmp(eE);){for(var eP=eO,eN=0;0!==eP.cmp(eE);eN++)eP=eP.redSqr();em(eN<eT);var ek=this.pow(eC,new ew(1).iushln(eT-eN-1));eM=eM.redMul(ek),eC=ek.redSqr(),eO=eO.redMul(eC),eT=eN}return eM},e$.prototype.invm=function(eu){var ed=eu._invmp(this.m);return 0!==ed.negative?(ed.negative=0,this.imod(ed).redNeg()):this.imod(ed)},e$.prototype.pow=function(eu,ed){if(ed.isZero())return new ew(1).toRed(this);if(0===ed.cmpn(1))return eu.clone();var eg=4,em=Array(16);em[0]=new ew(1).toRed(this),em[1]=eu;for(var eb=2;eb<em.length;eb++)em[eb]=this.mul(em[eb-1],eu);var e_=em[0],eE=0,eA=0,eS=ed.bitLength()%26;for(0===eS&&(eS=26),eb=ed.length-1;eb>=0;eb--){for(var eI=ed.words[eb],eC=eS-1;eC>=0;eC--){var eM=eI>>eC&1;if(e_!==em[0]&&(e_=this.sqr(e_)),0===eM&&0===eE){eA=0;continue}eE<<=1,eE|=eM,(++eA===eg||0===eb&&0===eC)&&(e_=this.mul(e_,em[eE]),eA=0,eE=0)}eS=26}return e_},e$.prototype.convertTo=function(eu){var ed=eu.umod(this.m);return ed===eu?ed.clone():ed},e$.prototype.convertFrom=function(eu){var ed=eu.clone();return ed.red=null,ed},ew.mont=function(eu){return new eK(eu)},eb(eK,e$),eK.prototype.convertTo=function(eu){return this.imod(eu.ushln(this.shift))},eK.prototype.convertFrom=function(eu){var ed=this.imod(eu.mul(this.rinv));return ed.red=null,ed},eK.prototype.imul=function(eu,ed){if(eu.isZero()||ed.isZero())return eu.words[0]=0,eu.length=1,eu;var eg=eu.imul(ed),em=eg.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),eb=eg.isub(em).iushrn(this.shift),ew=eb;return eb.cmp(this.m)>=0?ew=eb.isub(this.m):0>eb.cmpn(0)&&(ew=eb.iadd(this.m)),ew._forceRed(this)},eK.prototype.mul=function(eu,ed){if(eu.isZero()||ed.isZero())return new ew(0)._forceRed(this);var eg=eu.mul(ed),em=eg.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),eb=eg.isub(em).iushrn(this.shift),e_=eb;return eb.cmp(this.m)>=0?e_=eb.isub(this.m):0>eb.cmpn(0)&&(e_=eb.iadd(this.m)),e_._forceRed(this)},eK.prototype.invm=function(eu){return this.imod(eu._invmp(this.m).mul(this.r2))._forceRed(this)}}(eu=eg.nmd(eu),this)},70999:function(eu){"use strict";var ed=Object.defineProperty||!1;if(ed)try{ed({},"a",{value:1})}catch(eu){ed=!1}eu.exports=ed},69654:function(eu){"use strict";eu.exports=EvalError},42321:function(eu){"use strict";eu.exports=Error},48205:function(eu){"use strict";eu.exports=RangeError},2976:function(eu){"use strict";eu.exports=ReferenceError},48342:function(eu){"use strict";eu.exports=SyntaxError},5408:function(eu){"use strict";eu.exports=TypeError},82885:function(eu){"use strict";eu.exports=URIError},54546:function(eu){"use strict";eu.exports=Object},10161:function(eu){"use strict";var ed=Object.prototype.hasOwnProperty,eg="~";function em(){}function eb(eu,ed,eg){this.fn=eu,this.context=ed,this.once=eg||!1}function ew(eu,ed,em,ew,e_){if("function"!=typeof em)throw TypeError("The listener must be a function");var eE=new eb(em,ew||eu,e_),eA=eg?eg+ed:ed;return eu._events[eA]?eu._events[eA].fn?eu._events[eA]=[eu._events[eA],eE]:eu._events[eA].push(eE):(eu._events[eA]=eE,eu._eventsCount++),eu}function e_(eu,ed){0==--eu._eventsCount?eu._events=new em:delete eu._events[ed]}function eE(){this._events=new em,this._eventsCount=0}Object.create&&(em.prototype=Object.create(null),new em().__proto__||(eg=!1)),eE.prototype.eventNames=function(){var eu,em,eb=[];if(0===this._eventsCount)return eb;for(em in eu=this._events)ed.call(eu,em)&&eb.push(eg?em.slice(1):em);return Object.getOwnPropertySymbols?eb.concat(Object.getOwnPropertySymbols(eu)):eb},eE.prototype.listeners=function(eu){var ed=eg?eg+eu:eu,em=this._events[ed];if(!em)return[];if(em.fn)return[em.fn];for(var eb=0,ew=em.length,e_=Array(ew);eb<ew;eb++)e_[eb]=em[eb].fn;return e_},eE.prototype.listenerCount=function(eu){var ed=eg?eg+eu:eu,em=this._events[ed];return em?em.fn?1:em.length:0},eE.prototype.emit=function(eu,ed,em,eb,ew,e_){var eE=eg?eg+eu:eu;if(!this._events[eE])return!1;var eA,eS,eI=this._events[eE],eC=arguments.length;if(eI.fn){switch(eI.once&&this.removeListener(eu,eI.fn,void 0,!0),eC){case 1:return eI.fn.call(eI.context),!0;case 2:return eI.fn.call(eI.context,ed),!0;case 3:return eI.fn.call(eI.context,ed,em),!0;case 4:return eI.fn.call(eI.context,ed,em,eb),!0;case 5:return eI.fn.call(eI.context,ed,em,eb,ew),!0;case 6:return eI.fn.call(eI.context,ed,em,eb,ew,e_),!0}for(eS=1,eA=Array(eC-1);eS<eC;eS++)eA[eS-1]=arguments[eS];eI.fn.apply(eI.context,eA)}else{var eM,eO=eI.length;for(eS=0;eS<eO;eS++)switch(eI[eS].once&&this.removeListener(eu,eI[eS].fn,void 0,!0),eC){case 1:eI[eS].fn.call(eI[eS].context);break;case 2:eI[eS].fn.call(eI[eS].context,ed);break;case 3:eI[eS].fn.call(eI[eS].context,ed,em);break;case 4:eI[eS].fn.call(eI[eS].context,ed,em,eb);break;default:if(!eA)for(eM=1,eA=Array(eC-1);eM<eC;eM++)eA[eM-1]=arguments[eM];eI[eS].fn.apply(eI[eS].context,eA)}}return!0},eE.prototype.on=function(eu,ed,eg){return ew(this,eu,ed,eg,!1)},eE.prototype.once=function(eu,ed,eg){return ew(this,eu,ed,eg,!0)},eE.prototype.removeListener=function(eu,ed,em,eb){var ew=eg?eg+eu:eu;if(!this._events[ew])return this;if(!ed)return e_(this,ew),this;var eE=this._events[ew];if(eE.fn)eE.fn!==ed||eb&&!eE.once||em&&eE.context!==em||e_(this,ew);else{for(var eA=0,eS=[],eI=eE.length;eA<eI;eA++)(eE[eA].fn!==ed||eb&&!eE[eA].once||em&&eE[eA].context!==em)&&eS.push(eE[eA]);eS.length?this._events[ew]=1===eS.length?eS[0]:eS:e_(this,ew)}return this},eE.prototype.removeAllListeners=function(eu){var ed;return eu?(ed=eg?eg+eu:eu,this._events[ed]&&e_(this,ed)):(this._events=new em,this._eventsCount=0),this},eE.prototype.off=eE.prototype.removeListener,eE.prototype.addListener=eE.prototype.on,eE.prefixed=eg,eE.EventEmitter=eE,eu.exports=eE},22699:function(eu){"use strict";var ed,eg="object"==typeof Reflect?Reflect:null,em=eg&&"function"==typeof eg.apply?eg.apply:function(eu,ed,eg){return Function.prototype.apply.call(eu,ed,eg)};function eb(eu){console&&console.warn&&console.warn(eu)}ed=eg&&"function"==typeof eg.ownKeys?eg.ownKeys:Object.getOwnPropertySymbols?function(eu){return Object.getOwnPropertyNames(eu).concat(Object.getOwnPropertySymbols(eu))}:function(eu){return Object.getOwnPropertyNames(eu)};var ew=Number.isNaN||function(eu){return eu!=eu};function e_(){e_.init.call(this)}eu.exports=e_,eu.exports.once=eR,e_.EventEmitter=e_,e_.prototype._events=void 0,e_.prototype._eventsCount=0,e_.prototype._maxListeners=void 0;var eE=10;function eA(eu){if("function"!=typeof eu)throw TypeError('The "listener" argument must be of type Function. Received type '+typeof eu)}function eS(eu){return void 0===eu._maxListeners?e_.defaultMaxListeners:eu._maxListeners}function eI(eu,ed,eg,em){if(eA(eg),void 0===(e_=eu._events)?(e_=eu._events=Object.create(null),eu._eventsCount=0):(void 0!==e_.newListener&&(eu.emit("newListener",ed,eg.listener?eg.listener:eg),e_=eu._events),eE=e_[ed]),void 0===eE)eE=e_[ed]=eg,++eu._eventsCount;else if("function"==typeof eE?eE=e_[ed]=em?[eg,eE]:[eE,eg]:em?eE.unshift(eg):eE.push(eg),(ew=eS(eu))>0&&eE.length>ew&&!eE.warned){eE.warned=!0;var ew,e_,eE,eI=Error("Possible EventEmitter memory leak detected. "+eE.length+" "+String(ed)+" listeners added. Use emitter.setMaxListeners() to increase limit");eI.name="MaxListenersExceededWarning",eI.emitter=eu,eI.type=ed,eI.count=eE.length,eb(eI)}return eu}function eC(){if(!this.fired)return(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0==arguments.length)?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function eM(eu,ed,eg){var em={fired:!1,wrapFn:void 0,target:eu,type:ed,listener:eg},eb=eC.bind(em);return eb.listener=eg,em.wrapFn=eb,eb}function eO(eu,ed,eg){var em=eu._events;if(void 0===em)return[];var eb=em[ed];return void 0===eb?[]:"function"==typeof eb?eg?[eb.listener||eb]:[eb]:eg?ek(eb):eP(eb,eb.length)}function eT(eu){var ed=this._events;if(void 0!==ed){var eg=ed[eu];if("function"==typeof eg)return 1;if(void 0!==eg)return eg.length}return 0}function eP(eu,ed){for(var eg=Array(ed),em=0;em<ed;++em)eg[em]=eu[em];return eg}function eN(eu,ed){for(;ed+1<eu.length;ed++)eu[ed]=eu[ed+1];eu.pop()}function ek(eu){for(var ed=Array(eu.length),eg=0;eg<ed.length;++eg)ed[eg]=eu[eg].listener||eu[eg];return ed}function eR(eu,ed){return new Promise(function(eg,em){function eb(eg){eu.removeListener(ed,ew),em(eg)}function ew(){"function"==typeof eu.removeListener&&eu.removeListener("error",eb),eg([].slice.call(arguments))}eB(eu,ed,ew,{once:!0}),"error"!==ed&&eD(eu,eb,{once:!0})})}function eD(eu,ed,eg){"function"==typeof eu.on&&eB(eu,"error",ed,eg)}function eB(eu,ed,eg,em){if("function"==typeof eu.on)em.once?eu.once(ed,eg):eu.on(ed,eg);else if("function"==typeof eu.addEventListener)eu.addEventListener(ed,function eb(ew){em.once&&eu.removeEventListener(ed,eb),eg(ew)});else throw TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof eu)}Object.defineProperty(e_,"defaultMaxListeners",{enumerable:!0,get:function(){return eE},set:function(eu){if("number"!=typeof eu||eu<0||ew(eu))throw RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+eu+".");eE=eu}}),e_.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},e_.prototype.setMaxListeners=function(eu){if("number"!=typeof eu||eu<0||ew(eu))throw RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+eu+".");return this._maxListeners=eu,this},e_.prototype.getMaxListeners=function(){return eS(this)},e_.prototype.emit=function(eu){for(var ed=[],eg=1;eg<arguments.length;eg++)ed.push(arguments[eg]);var eb="error"===eu,ew=this._events;if(void 0!==ew)eb=eb&&void 0===ew.error;else if(!eb)return!1;if(eb){if(ed.length>0&&(e_=ed[0]),e_ instanceof Error)throw e_;var e_,eE=Error("Unhandled error."+(e_?" ("+e_.message+")":""));throw eE.context=e_,eE}var eA=ew[eu];if(void 0===eA)return!1;if("function"==typeof eA)em(eA,this,ed);else for(var eS=eA.length,eI=eP(eA,eS),eg=0;eg<eS;++eg)em(eI[eg],this,ed);return!0},e_.prototype.addListener=function(eu,ed){return eI(this,eu,ed,!1)},e_.prototype.on=e_.prototype.addListener,e_.prototype.prependListener=function(eu,ed){return eI(this,eu,ed,!0)},e_.prototype.once=function(eu,ed){return eA(ed),this.on(eu,eM(this,eu,ed)),this},e_.prototype.prependOnceListener=function(eu,ed){return eA(ed),this.prependListener(eu,eM(this,eu,ed)),this},e_.prototype.removeListener=function(eu,ed){var eg,em,eb,ew,e_;if(eA(ed),void 0===(em=this._events)||void 0===(eg=em[eu]))return this;if(eg===ed||eg.listener===ed)0==--this._eventsCount?this._events=Object.create(null):(delete em[eu],em.removeListener&&this.emit("removeListener",eu,eg.listener||ed));else if("function"!=typeof eg){for(eb=-1,ew=eg.length-1;ew>=0;ew--)if(eg[ew]===ed||eg[ew].listener===ed){e_=eg[ew].listener,eb=ew;break}if(eb<0)return this;0===eb?eg.shift():eN(eg,eb),1===eg.length&&(em[eu]=eg[0]),void 0!==em.removeListener&&this.emit("removeListener",eu,e_||ed)}return this},e_.prototype.off=e_.prototype.removeListener,e_.prototype.removeAllListeners=function(eu){var ed,eg,em;if(void 0===(eg=this._events))return this;if(void 0===eg.removeListener)return 0==arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==eg[eu]&&(0==--this._eventsCount?this._events=Object.create(null):delete eg[eu]),this;if(0==arguments.length){var eb,ew=Object.keys(eg);for(em=0;em<ew.length;++em)"removeListener"!==(eb=ew[em])&&this.removeAllListeners(eb);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(ed=eg[eu]))this.removeListener(eu,ed);else if(void 0!==ed)for(em=ed.length-1;em>=0;em--)this.removeListener(eu,ed[em]);return this},e_.prototype.listeners=function(eu){return eO(this,eu,!0)},e_.prototype.rawListeners=function(eu){return eO(this,eu,!1)},e_.listenerCount=function(eu,ed){return"function"==typeof eu.listenerCount?eu.listenerCount(ed):eT.call(eu,ed)},e_.prototype.listenerCount=eT,e_.prototype.eventNames=function(){return this._eventsCount>0?ed(this._events):[]}},59341:function(eu,ed,eg){var em=eg(77834).Buffer,eb=eg(27993);function ew(eu,ed,eg,ew){if(em.isBuffer(eu)||(eu=em.from(eu,"binary")),ed&&(em.isBuffer(ed)||(ed=em.from(ed,"binary")),8!==ed.length))throw RangeError("salt should be Buffer with 8 byte length");for(var e_=eg/8,eE=em.alloc(e_),eA=em.alloc(ew||0),eS=em.alloc(0);e_>0||ew>0;){var eI=new eb;eI.update(eS),eI.update(eu),ed&&eI.update(ed),eS=eI.digest();var eC=0;if(e_>0){var eM=eE.length-e_;eC=Math.min(e_,eS.length),eS.copy(eE,eM,0,eC),e_-=eC}if(eC<eS.length&&ew>0){var eO=eA.length-ew,eT=Math.min(ew,eS.length-eC);eS.copy(eA,eO,eC,eC+eT),ew-=eT}}return eS.fill(0),{key:eE,iv:eA}}eu.exports=ew},40199:function(eu,ed,eg){"use strict";var em=this&&this.__awaiter||function(eu,ed,eg,em){function eb(eu){return eu instanceof eg?eu:new eg(function(ed){ed(eu)})}return new(eg||(eg=Promise))(function(eg,ew){function e_(eu){try{eA(em.next(eu))}catch(eu){ew(eu)}}function eE(eu){try{eA(em.throw(eu))}catch(eu){ew(eu)}}function eA(eu){eu.done?eg(eu.value):eb(eu.value).then(e_,eE)}eA((em=em.apply(eu,ed||[])).next())})},eb=this&&this.__generator||function(eu,ed){var eg,em,eb,ew,e_={label:0,sent:function(){if(1&eb[0])throw eb[1];return eb[1]},trys:[],ops:[]};return ew={next:eE(0),throw:eE(1),return:eE(2)},"function"==typeof Symbol&&(ew[Symbol.iterator]=function(){return this}),ew;function eE(eu){return function(ed){return eA([eu,ed])}}function eA(ew){if(eg)throw TypeError("Generator is already executing.");for(;e_;)try{if(eg=1,em&&(eb=2&ew[0]?em.return:ew[0]?em.throw||((eb=em.return)&&eb.call(em),0):em.next)&&!(eb=eb.call(em,ew[1])).done)return eb;switch(em=0,eb&&(ew=[2&ew[0],eb.value]),ew[0]){case 0:case 1:eb=ew;break;case 4:return e_.label++,{value:ew[1],done:!1};case 5:e_.label++,em=ew[1],ew=[0];continue;case 7:ew=e_.ops.pop(),e_.trys.pop();continue;default:if(!(eb=(eb=e_.trys).length>0&&eb[eb.length-1])&&(6===ew[0]||2===ew[0])){e_=0;continue}if(3===ew[0]&&(!eb||ew[1]>eb[0]&&ew[1]<eb[3])){e_.label=ew[1];break}if(6===ew[0]&&e_.label<eb[1]){e_.label=eb[1],eb=ew;break}if(eb&&e_.label<eb[2]){e_.label=eb[2],e_.ops.push(ew);break}eb[2]&&e_.ops.pop(),e_.trys.pop();continue}ew=ed.call(eu,e_)}catch(eu){ew=[6,eu],em=0}finally{eg=eb=0}if(5&ew[0])throw ew[1];return{value:ew[0]?ew[1]:void 0,done:!0}}};Object.defineProperty(ed,"__esModule",{value:!0});var ew=eg(53339),e_=eg(36727);function eE(eu,ed){return void 0===ed&&(ed={}),em(this,void 0,void 0,function(){var eg;return eb(this,function(em){switch(em.label){case 0:return eg=ew.getSanitizedOptions(ed),[4,new eA(eu,eg).execute()];case 1:return[2,em.sent()]}})})}ed.backOff=eE;var eA=function(){function eu(eu,ed){this.request=eu,this.options=ed,this.attemptNumber=0}return eu.prototype.execute=function(){return em(this,void 0,void 0,function(){var eu;return eb(this,function(ed){switch(ed.label){case 0:if(this.attemptLimitReached)return[3,7];ed.label=1;case 1:return ed.trys.push([1,4,,6]),[4,this.applyDelay()];case 2:return ed.sent(),[4,this.request()];case 3:return[2,ed.sent()];case 4:return eu=ed.sent(),this.attemptNumber++,[4,this.options.retry(eu,this.attemptNumber)];case 5:if(!ed.sent()||this.attemptLimitReached)throw eu;return[3,6];case 6:return[3,0];case 7:throw Error("Something went wrong.")}})})},Object.defineProperty(eu.prototype,"attemptLimitReached",{get:function(){return this.attemptNumber>=this.options.numOfAttempts},enumerable:!0,configurable:!0}),eu.prototype.applyDelay=function(){return em(this,void 0,void 0,function(){return eb(this,function(eu){switch(eu.label){case 0:return[4,e_.DelayFactory(this.options,this.attemptNumber).apply()];case 1:return eu.sent(),[2]}})})},eu}()},71293:function(eu,ed,eg){"use strict";var em=this&&this.__extends||function(){var eu=function(ed,eg){return(eu=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(eu,ed){eu.__proto__=ed}||function(eu,ed){for(var eg in ed)ed.hasOwnProperty(eg)&&(eu[eg]=ed[eg])})(ed,eg)};return function(ed,eg){function em(){this.constructor=ed}eu(ed,eg),ed.prototype=null===eg?Object.create(eg):(em.prototype=eg.prototype,new em)}}();Object.defineProperty(ed,"__esModule",{value:!0});var eb=function(eu){function ed(){return null!==eu&&eu.apply(this,arguments)||this}return em(ed,eu),ed}(eg(21674).Delay);ed.AlwaysDelay=eb},21674:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0});var em=eg(55686),eb=function(){function eu(eu){this.options=eu,this.attempt=0}return eu.prototype.apply=function(){var eu=this;return new Promise(function(ed){return setTimeout(ed,eu.jitteredDelay)})},eu.prototype.setAttemptNumber=function(eu){this.attempt=eu},Object.defineProperty(eu.prototype,"jitteredDelay",{get:function(){return em.JitterFactory(this.options)(this.delay)},enumerable:!0,configurable:!0}),Object.defineProperty(eu.prototype,"delay",{get:function(){return Math.min(this.options.startingDelay*Math.pow(this.options.timeMultiple,this.numOfDelayedAttempts),this.options.maxDelay)},enumerable:!0,configurable:!0}),Object.defineProperty(eu.prototype,"numOfDelayedAttempts",{get:function(){return this.attempt},enumerable:!0,configurable:!0}),eu}();ed.Delay=eb},36727:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0});var em=eg(16663),eb=eg(71293);function ew(eu,ed){var eg=e_(eu);return eg.setAttemptNumber(ed),eg}function e_(eu){return eu.delayFirstAttempt?new eb.AlwaysDelay(eu):new em.SkipFirstDelay(eu)}ed.DelayFactory=ew},16663:function(eu,ed,eg){"use strict";var em=this&&this.__extends||function(){var eu=function(ed,eg){return(eu=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(eu,ed){eu.__proto__=ed}||function(eu,ed){for(var eg in ed)ed.hasOwnProperty(eg)&&(eu[eg]=ed[eg])})(ed,eg)};return function(ed,eg){function em(){this.constructor=ed}eu(ed,eg),ed.prototype=null===eg?Object.create(eg):(em.prototype=eg.prototype,new em)}}(),eb=this&&this.__awaiter||function(eu,ed,eg,em){function eb(eu){return eu instanceof eg?eu:new eg(function(ed){ed(eu)})}return new(eg||(eg=Promise))(function(eg,ew){function e_(eu){try{eA(em.next(eu))}catch(eu){ew(eu)}}function eE(eu){try{eA(em.throw(eu))}catch(eu){ew(eu)}}function eA(eu){eu.done?eg(eu.value):eb(eu.value).then(e_,eE)}eA((em=em.apply(eu,ed||[])).next())})},ew=this&&this.__generator||function(eu,ed){var eg,em,eb,ew,e_={label:0,sent:function(){if(1&eb[0])throw eb[1];return eb[1]},trys:[],ops:[]};return ew={next:eE(0),throw:eE(1),return:eE(2)},"function"==typeof Symbol&&(ew[Symbol.iterator]=function(){return this}),ew;function eE(eu){return function(ed){return eA([eu,ed])}}function eA(ew){if(eg)throw TypeError("Generator is already executing.");for(;e_;)try{if(eg=1,em&&(eb=2&ew[0]?em.return:ew[0]?em.throw||((eb=em.return)&&eb.call(em),0):em.next)&&!(eb=eb.call(em,ew[1])).done)return eb;switch(em=0,eb&&(ew=[2&ew[0],eb.value]),ew[0]){case 0:case 1:eb=ew;break;case 4:return e_.label++,{value:ew[1],done:!1};case 5:e_.label++,em=ew[1],ew=[0];continue;case 7:ew=e_.ops.pop(),e_.trys.pop();continue;default:if(!(eb=(eb=e_.trys).length>0&&eb[eb.length-1])&&(6===ew[0]||2===ew[0])){e_=0;continue}if(3===ew[0]&&(!eb||ew[1]>eb[0]&&ew[1]<eb[3])){e_.label=ew[1];break}if(6===ew[0]&&e_.label<eb[1]){e_.label=eb[1],eb=ew;break}if(eb&&e_.label<eb[2]){e_.label=eb[2],e_.ops.push(ew);break}eb[2]&&e_.ops.pop(),e_.trys.pop();continue}ew=ed.call(eu,e_)}catch(eu){ew=[6,eu],em=0}finally{eg=eb=0}if(5&ew[0])throw ew[1];return{value:ew[0]?ew[1]:void 0,done:!0}}};Object.defineProperty(ed,"__esModule",{value:!0});var e_=function(eu){function ed(){return null!==eu&&eu.apply(this,arguments)||this}return em(ed,eu),ed.prototype.apply=function(){return eb(this,void 0,void 0,function(){return ew(this,function(ed){return[2,!!this.isFirstAttempt||eu.prototype.apply.call(this)]})})},Object.defineProperty(ed.prototype,"isFirstAttempt",{get:function(){return 0===this.attempt},enumerable:!0,configurable:!0}),Object.defineProperty(ed.prototype,"numOfDelayedAttempts",{get:function(){return this.attempt-1},enumerable:!0,configurable:!0}),ed}(eg(21674).Delay);ed.SkipFirstDelay=e_},67216:function(eu,ed){"use strict";function eg(eu){return Math.round(Math.random()*eu)}Object.defineProperty(ed,"__esModule",{value:!0}),ed.fullJitter=eg},55686:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0});var em=eg(67216),eb=eg(37129);function ew(eu){return"full"===eu.jitter?em.fullJitter:eb.noJitter}ed.JitterFactory=ew},37129:function(eu,ed){"use strict";function eg(eu){return eu}Object.defineProperty(ed,"__esModule",{value:!0}),ed.noJitter=eg},53339:function(eu,ed){"use strict";var eg=this&&this.__assign||function(){return(eg=Object.assign||function(eu){for(var ed,eg=1,em=arguments.length;eg<em;eg++)for(var eb in ed=arguments[eg])Object.prototype.hasOwnProperty.call(ed,eb)&&(eu[eb]=ed[eb]);return eu}).apply(this,arguments)};Object.defineProperty(ed,"__esModule",{value:!0});var em={delayFirstAttempt:!1,jitter:"none",maxDelay:1/0,numOfAttempts:10,retry:function(){return!0},startingDelay:100,timeMultiple:2};function eb(eu){var ed=eg(eg({},em),eu);return ed.numOfAttempts<1&&(ed.numOfAttempts=1),ed}ed.getSanitizedOptions=eb},40063:function(eu){"use strict";eu.exports=function(eu,ed){for(var eg={},em=Object.keys(eu),eb=Array.isArray(ed),ew=0;ew<em.length;ew++){var e_=em[ew],eE=eu[e_];(eb?-1!==ed.indexOf(e_):ed(e_,eE,eu))&&(eg[e_]=eE)}return eg}},83243:function(eu,ed,eg){"use strict";var em=eg(9680),eb=Object.prototype.toString,ew=Object.prototype.hasOwnProperty,e_=function(eu,ed,eg){for(var em=0,eb=eu.length;em<eb;em++)ew.call(eu,em)&&(null==eg?ed(eu[em],em,eu):ed.call(eg,eu[em],em,eu))},eE=function(eu,ed,eg){for(var em=0,eb=eu.length;em<eb;em++)null==eg?ed(eu.charAt(em),em,eu):ed.call(eg,eu.charAt(em),em,eu)},eA=function(eu,ed,eg){for(var em in eu)ew.call(eu,em)&&(null==eg?ed(eu[em],em,eu):ed.call(eg,eu[em],em,eu))};function eS(eu){return"[object Array]"===eb.call(eu)}eu.exports=function(eu,ed,eg){var eb;if(!em(ed))throw TypeError("iterator must be a function");arguments.length>=3&&(eb=eg),eS(eu)?e_(eu,ed,eb):"string"==typeof eu?eE(eu,ed,eb):eA(eu,ed,eb)}},37795:function(eu){"use strict";var ed="Function.prototype.bind called on incompatible ",eg=Object.prototype.toString,em=Math.max,eb="[object Function]",ew=function(eu,ed){for(var eg=[],em=0;em<eu.length;em+=1)eg[em]=eu[em];for(var eb=0;eb<ed.length;eb+=1)eg[eb+eu.length]=ed[eb];return eg},e_=function(eu,ed){for(var eg=[],em=ed||0,eb=0;em<eu.length;em+=1,eb+=1)eg[eb]=eu[em];return eg},eE=function(eu,ed){for(var eg="",em=0;em<eu.length;em+=1)eg+=eu[em],em+1<eu.length&&(eg+=ed);return eg};eu.exports=function(eu){var eA,eS=this;if("function"!=typeof eS||eg.apply(eS)!==eb)throw TypeError(ed+eS);for(var eI=e_(arguments,1),eC=function(){if(this instanceof eA){var ed=eS.apply(this,ew(eI,arguments));return Object(ed)===ed?ed:this}return eS.apply(eu,ew(eI,arguments))},eM=em(0,eS.length-eI.length),eO=[],eT=0;eT<eM;eT++)eO[eT]="$"+eT;if(eA=Function("binder","return function ("+eE(eO,",")+"){ return binder.apply(this,arguments); }")(eC),eS.prototype){var eP=function(){};eP.prototype=eS.prototype,eA.prototype=new eP,eP.prototype=null}return eA}},4090:function(eu,ed,eg){"use strict";var em=eg(37795);eu.exports=Function.prototype.bind||em},88616:function(eu,ed,eg){for(var em=eg(43335),eb=eg(30892),ew=/[\{\[]/,e_=/[\}\]]/,eE=["do","if","in","for","let","new","try","var","case","else","enum","eval","null","this","true","void","with","await","break","catch","class","const","false","super","throw","while","yield","delete","export","import","public","return","static","switch","typeof","default","extends","finally","package","private","continue","debugger","function","arguments","interface","protected","implements","instanceof","NaN","undefined"],eA={},eS=0;eS<eE.length;eS++)eA[eE[eS]]=!0;var eI=function(eu){return eb(eu)&&!eA.hasOwnProperty(eu)},eC={s:function(eu){return""+eu},d:function(eu){return""+Number(eu)},o:function(eu){return JSON.stringify(eu)}},eM=function(){var eu=[],ed=0,eg={},eE=function(eg){for(var em="";em.length<2*ed;)em+="  ";eu.push(em+eg)},eA=function(eu){if(e_.test(eu.trim()[0])&&ew.test(eu[eu.length-1])){ed--,eE(eu),ed++;return}if(ew.test(eu[eu.length-1])){eE(eu),ed++;return}if(e_.test(eu.trim()[0])){ed--,eE(eu);return}eE(eu)},eS=function(eu){if(!eu)return eS;if(1==arguments.length&&eu.indexOf("\n")>-1)for(var ed=eu.trim().split("\n"),eg=0;eg<ed.length;eg++)eA(ed[eg].trim());else eA(em.format.apply(em,arguments));return eS};return eS.scope={},eS.formats=eC,eS.sym=function(eu){return eu&&eI(eu)||(eu="tmp"),eg[eu]||(eg[eu]=0),eu+(eg[eu]++||"")},eS.property=function(eu,ed){return(1==arguments.length&&(ed=eu,eu=""),eb(ed+=""))?eu?eu+"."+ed:ed:eu?eu+"["+JSON.stringify(ed)+"]":JSON.stringify(ed)},eS.toString=function(){return eu.join("\n")},eS.toFunction=function(eu){eu||(eu={});var ed="return ("+eS.toString()+")";Object.keys(eS.scope).forEach(function(ed){eu[ed]||(eu[ed]=eS.scope[ed])});var eg=Object.keys(eu).map(function(eu){return eu}),em=eg.map(function(ed){return eu[ed]});return Function.apply(null,eg.concat(ed)).apply(null,em)},arguments.length&&eS.apply(null,arguments),eS};eM.formats=eC,eu.exports=eM},6e3:function(eu,ed,eg){var em=eg(30892),eb=function(eu,ed){return em(ed)?eu+"."+ed:eu+"["+JSON.stringify(ed)+"]"};eb.valid=em,eb.property=function(eu){return em(eu)?eu:JSON.stringify(eu)},eu.exports=eb},67286:function(eu,ed,eg){"use strict";var em,eb=eg(54546),ew=eg(42321),e_=eg(69654),eE=eg(48205),eA=eg(2976),eS=eg(48342),eI=eg(5408),eC=eg(82885),eM=eg(14383),eO=eg(45736),eT=eg(27130),eP=eg(22400),eN=eg(23654),ek=eg(96890),eR=eg(82026),eD=Function,eB=function(eu){try{return eD('"use strict"; return ('+eu+").constructor;")()}catch(eu){}},eU=eg(50326),eL=eg(70999),ej=function(){throw new eI},eF=eU?function(){try{return arguments.callee,ej}catch(eu){try{return eU(arguments,"callee").get}catch(eu){return ej}}}():ej,e$=eg(32636)(),eK=eg(21750),eH=eg(2938),eV=eg(78354),eG=eg(49638),eW=eg(68418),eJ={},eZ="undefined"!=typeof Uint8Array&&eK?eK(Uint8Array):em,eY={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?em:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?em:ArrayBuffer,"%ArrayIteratorPrototype%":e$&&eK?eK([][Symbol.iterator]()):em,"%AsyncFromSyncIteratorPrototype%":em,"%AsyncFunction%":eJ,"%AsyncGenerator%":eJ,"%AsyncGeneratorFunction%":eJ,"%AsyncIteratorPrototype%":eJ,"%Atomics%":"undefined"==typeof Atomics?em:Atomics,"%BigInt%":"undefined"==typeof BigInt?em:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?em:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?em:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?em:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":ew,"%eval%":eval,"%EvalError%":e_,"%Float16Array%":"undefined"==typeof Float16Array?em:Float16Array,"%Float32Array%":"undefined"==typeof Float32Array?em:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?em:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?em:FinalizationRegistry,"%Function%":eD,"%GeneratorFunction%":eJ,"%Int8Array%":"undefined"==typeof Int8Array?em:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?em:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?em:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":e$&&eK?eK(eK([][Symbol.iterator]())):em,"%JSON%":"object"==typeof JSON?JSON:em,"%Map%":"undefined"==typeof Map?em:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&e$&&eK?eK(new Map()[Symbol.iterator]()):em,"%Math%":Math,"%Number%":Number,"%Object%":eb,"%Object.getOwnPropertyDescriptor%":eU,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?em:Promise,"%Proxy%":"undefined"==typeof Proxy?em:Proxy,"%RangeError%":eE,"%ReferenceError%":eA,"%Reflect%":"undefined"==typeof Reflect?em:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?em:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&e$&&eK?eK(new Set()[Symbol.iterator]()):em,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?em:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":e$&&eK?eK(""[Symbol.iterator]()):em,"%Symbol%":e$?Symbol:em,"%SyntaxError%":eS,"%ThrowTypeError%":eF,"%TypedArray%":eZ,"%TypeError%":eI,"%Uint8Array%":"undefined"==typeof Uint8Array?em:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?em:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?em:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?em:Uint32Array,"%URIError%":eC,"%WeakMap%":"undefined"==typeof WeakMap?em:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?em:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?em:WeakSet,"%Function.prototype.call%":eW,"%Function.prototype.apply%":eG,"%Object.defineProperty%":eL,"%Object.getPrototypeOf%":eH,"%Math.abs%":eM,"%Math.floor%":eO,"%Math.max%":eT,"%Math.min%":eP,"%Math.pow%":eN,"%Math.round%":ek,"%Math.sign%":eR,"%Reflect.getPrototypeOf%":eV};if(eK)try{null.error}catch(eu){var eX=eK(eK(eu));eY["%Error.prototype%"]=eX}var eQ=function eu(ed){var eg;if("%AsyncFunction%"===ed)eg=eB("async function () {}");else if("%GeneratorFunction%"===ed)eg=eB("function* () {}");else if("%AsyncGeneratorFunction%"===ed)eg=eB("async function* () {}");else if("%AsyncGenerator%"===ed){var em=eu("%AsyncGeneratorFunction%");em&&(eg=em.prototype)}else if("%AsyncIteratorPrototype%"===ed){var eb=eu("%AsyncGenerator%");eb&&eK&&(eg=eK(eb.prototype))}return eY[ed]=eg,eg},e0={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},e6=eg(4090),e8=eg(72196),e5=e6.call(eW,Array.prototype.concat),e9=e6.call(eG,Array.prototype.splice),e7=e6.call(eW,String.prototype.replace),tu=e6.call(eW,String.prototype.slice),th=e6.call(eW,RegExp.prototype.exec),td=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,tg=/\\(\\)?/g,ty=function(eu){var ed=tu(eu,0,1),eg=tu(eu,-1);if("%"===ed&&"%"!==eg)throw new eS("invalid intrinsic syntax, expected closing `%`");if("%"===eg&&"%"!==ed)throw new eS("invalid intrinsic syntax, expected opening `%`");var em=[];return e7(eu,td,function(eu,ed,eg,eb){em[em.length]=eg?e7(eb,tg,"$1"):ed||eu}),em},tb=function(eu,ed){var eg,em=eu;if(e8(e0,em)&&(em="%"+(eg=e0[em])[0]+"%"),e8(eY,em)){var eb=eY[em];if(eb===eJ&&(eb=eQ(em)),void 0===eb&&!ed)throw new eI("intrinsic "+eu+" exists, but is not available. Please file an issue!");return{alias:eg,name:em,value:eb}}throw new eS("intrinsic "+eu+" does not exist!")};eu.exports=function(eu,ed){if("string"!=typeof eu||0===eu.length)throw new eI("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof ed)throw new eI('"allowMissing" argument must be a boolean');if(null===th(/^%?[^%]*%?$/,eu))throw new eS("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var eg=ty(eu),em=eg.length>0?eg[0]:"",eb=tb("%"+em+"%",ed),ew=eb.name,e_=eb.value,eE=!1,eA=eb.alias;eA&&(em=eA[0],e9(eg,e5([0,1],eA)));for(var eC=1,eM=!0;eC<eg.length;eC+=1){var eO=eg[eC],eT=tu(eO,0,1),eP=tu(eO,-1);if(('"'===eT||"'"===eT||"`"===eT||'"'===eP||"'"===eP||"`"===eP)&&eT!==eP)throw new eS("property names with quotes must have matching quotes");if("constructor"!==eO&&eM||(eE=!0),em+="."+eO,e8(eY,ew="%"+em+"%"))e_=eY[ew];else if(null!=e_){if(!(eO in e_)){if(!ed)throw new eI("base intrinsic for "+eu+" exists, but the property is not available.");return}if(eU&&eC+1>=eg.length){var eN=eU(e_,eO);e_=(eM=!!eN)&&"get"in eN&&!("originalValue"in eN.get)?eN.get:e_[eO]}else eM=e8(e_,eO),e_=e_[eO];eM&&!eE&&(eY[ew]=e_)}}return e_}},2938:function(eu,ed,eg){"use strict";var em=eg(54546);eu.exports=em.getPrototypeOf||null},78354:function(eu){"use strict";eu.exports="undefined"!=typeof Reflect&&Reflect.getPrototypeOf||null},21750:function(eu,ed,eg){"use strict";var em=eg(78354),eb=eg(2938),ew=eg(5141);eu.exports=em?function(eu){return em(eu)}:eb?function(eu){if(!eu||"object"!=typeof eu&&"function"!=typeof eu)throw TypeError("getProto: not an object");return eb(eu)}:ew?function(eu){return ew(eu)}:null},93165:function(eu){"use strict";eu.exports=Object.getOwnPropertyDescriptor},50326:function(eu,ed,eg){"use strict";var em=eg(93165);if(em)try{em([],"length")}catch(eu){em=null}eu.exports=em},81181:function(eu,ed,eg){"use strict";var em=eg(70999),eb=function(){return!!em};eb.hasArrayLengthDefineBug=function(){if(!em)return null;try{return 1!==em([],"length",{value:1}).length}catch(eu){return!0}},eu.exports=eb},32636:function(eu,ed,eg){"use strict";var em="undefined"!=typeof Symbol&&Symbol,eb=eg(66679);eu.exports=function(){return"function"==typeof em&&"function"==typeof Symbol&&"symbol"==typeof em("foo")&&"symbol"==typeof Symbol("bar")&&eb()}},66679:function(eu){"use strict";eu.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var eu={},ed=Symbol("test"),eg=Object(ed);if("string"==typeof ed||"[object Symbol]"!==Object.prototype.toString.call(ed)||"[object Symbol]"!==Object.prototype.toString.call(eg))return!1;var em=42;for(var eb in eu[ed]=em,eu)return!1;if("function"==typeof Object.keys&&0!==Object.keys(eu).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(eu).length)return!1;var ew=Object.getOwnPropertySymbols(eu);if(1!==ew.length||ew[0]!==ed||!Object.prototype.propertyIsEnumerable.call(eu,ed))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var e_=Object.getOwnPropertyDescriptor(eu,ed);if(e_.value!==em||!0!==e_.enumerable)return!1}return!0}},67226:function(eu,ed,eg){"use strict";var em=eg(66679);eu.exports=function(){return em()&&!!Symbol.toStringTag}},34485:function(eu,ed,eg){var em=ed;em.utils=eg(50212),em.common=eg(74495),em.sha=eg(45530),em.ripemd=eg(91396),em.hmac=eg(15047),em.sha1=em.sha.sha1,em.sha256=em.sha.sha256,em.sha224=em.sha.sha224,em.sha384=em.sha.sha384,em.sha512=em.sha.sha512,em.ripemd160=em.ripemd.ripemd160},74495:function(eu,ed,eg){"use strict";var em=eg(50212),eb=eg(79561);function ew(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}ed.BlockHash=ew,ew.prototype.update=function(eu,ed){if(eu=em.toArray(eu,ed),this.pending?this.pending=this.pending.concat(eu):this.pending=eu,this.pendingTotal+=eu.length,this.pending.length>=this._delta8){var eg=(eu=this.pending).length%this._delta8;this.pending=eu.slice(eu.length-eg,eu.length),0===this.pending.length&&(this.pending=null),eu=em.join32(eu,0,eu.length-eg,this.endian);for(var eb=0;eb<eu.length;eb+=this._delta32)this._update(eu,eb,eb+this._delta32)}return this},ew.prototype.digest=function(eu){return this.update(this._pad()),eb(null===this.pending),this._digest(eu)},ew.prototype._pad=function(){var eu=this.pendingTotal,ed=this._delta8,eg=ed-(eu+this.padLength)%ed,em=Array(eg+this.padLength);em[0]=128;for(var eb=1;eb<eg;eb++)em[eb]=0;if(eu<<=3,"big"===this.endian){for(var ew=8;ew<this.padLength;ew++)em[eb++]=0;em[eb++]=0,em[eb++]=0,em[eb++]=0,em[eb++]=0,em[eb++]=eu>>>24&255,em[eb++]=eu>>>16&255,em[eb++]=eu>>>8&255,em[eb++]=255&eu}else for(ew=8,em[eb++]=255&eu,em[eb++]=eu>>>8&255,em[eb++]=eu>>>16&255,em[eb++]=eu>>>24&255,em[eb++]=0,em[eb++]=0,em[eb++]=0,em[eb++]=0;ew<this.padLength;ew++)em[eb++]=0;return em}},15047:function(eu,ed,eg){"use strict";var em=eg(50212),eb=eg(79561);function ew(eu,ed,eg){if(!(this instanceof ew))return new ew(eu,ed,eg);this.Hash=eu,this.blockSize=eu.blockSize/8,this.outSize=eu.outSize/8,this.inner=null,this.outer=null,this._init(em.toArray(ed,eg))}eu.exports=ew,ew.prototype._init=function(eu){eu.length>this.blockSize&&(eu=new this.Hash().update(eu).digest()),eb(eu.length<=this.blockSize);for(var ed=eu.length;ed<this.blockSize;ed++)eu.push(0);for(ed=0;ed<eu.length;ed++)eu[ed]^=54;for(ed=0,this.inner=new this.Hash().update(eu);ed<eu.length;ed++)eu[ed]^=106;this.outer=new this.Hash().update(eu)},ew.prototype.update=function(eu,ed){return this.inner.update(eu,ed),this},ew.prototype.digest=function(eu){return this.outer.update(this.inner.digest()),this.outer.digest(eu)}},91396:function(eu,ed,eg){"use strict";var em=eg(50212),eb=eg(74495),ew=em.rotl32,e_=em.sum32,eE=em.sum32_3,eA=em.sum32_4,eS=eb.BlockHash;function eI(){if(!(this instanceof eI))return new eI;eS.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function eC(eu,ed,eg,em){return eu<=15?ed^eg^em:eu<=31?ed&eg|~ed&em:eu<=47?(ed|~eg)^em:eu<=63?ed&em|eg&~em:ed^(eg|~em)}function eM(eu){return eu<=15?0:eu<=31?1518500249:eu<=47?1859775393:eu<=63?2400959708:2840853838}function eO(eu){return eu<=15?1352829926:eu<=31?1548603684:eu<=47?1836072691:eu<=63?2053994217:0}em.inherits(eI,eS),ed.ripemd160=eI,eI.blockSize=512,eI.outSize=160,eI.hmacStrength=192,eI.padLength=64,eI.prototype._update=function(eu,ed){for(var eg=this.h[0],em=this.h[1],eb=this.h[2],eS=this.h[3],eI=this.h[4],eR=eg,eD=em,eB=eb,eU=eS,eL=eI,ej=0;ej<80;ej++){var eF=e_(ew(eA(eg,eC(ej,em,eb,eS),eu[eT[ej]+ed],eM(ej)),eN[ej]),eI);eg=eI,eI=eS,eS=ew(eb,10),eb=em,em=eF,eF=e_(ew(eA(eR,eC(79-ej,eD,eB,eU),eu[eP[ej]+ed],eO(ej)),ek[ej]),eL),eR=eL,eL=eU,eU=ew(eB,10),eB=eD,eD=eF}eF=eE(this.h[1],eb,eU),this.h[1]=eE(this.h[2],eS,eL),this.h[2]=eE(this.h[3],eI,eR),this.h[3]=eE(this.h[4],eg,eD),this.h[4]=eE(this.h[0],em,eB),this.h[0]=eF},eI.prototype._digest=function(eu){return"hex"===eu?em.toHex32(this.h,"little"):em.split32(this.h,"little")};var eT=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],eP=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],eN=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],ek=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},45530:function(eu,ed,eg){"use strict";ed.sha1=eg(35079),ed.sha224=eg(63823),ed.sha256=eg(68032),ed.sha384=eg(25328),ed.sha512=eg(20168)},35079:function(eu,ed,eg){"use strict";var em=eg(50212),eb=eg(74495),ew=eg(40713),e_=em.rotl32,eE=em.sum32,eA=em.sum32_5,eS=ew.ft_1,eI=eb.BlockHash,eC=[1518500249,1859775393,2400959708,3395469782];function eM(){if(!(this instanceof eM))return new eM;eI.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=Array(80)}em.inherits(eM,eI),eu.exports=eM,eM.blockSize=512,eM.outSize=160,eM.hmacStrength=80,eM.padLength=64,eM.prototype._update=function(eu,ed){for(var eg=this.W,em=0;em<16;em++)eg[em]=eu[ed+em];for(;em<eg.length;em++)eg[em]=e_(eg[em-3]^eg[em-8]^eg[em-14]^eg[em-16],1);var eb=this.h[0],ew=this.h[1],eI=this.h[2],eM=this.h[3],eO=this.h[4];for(em=0;em<eg.length;em++){var eT=~~(em/20),eP=eA(e_(eb,5),eS(eT,ew,eI,eM),eO,eg[em],eC[eT]);eO=eM,eM=eI,eI=e_(ew,30),ew=eb,eb=eP}this.h[0]=eE(this.h[0],eb),this.h[1]=eE(this.h[1],ew),this.h[2]=eE(this.h[2],eI),this.h[3]=eE(this.h[3],eM),this.h[4]=eE(this.h[4],eO)},eM.prototype._digest=function(eu){return"hex"===eu?em.toHex32(this.h,"big"):em.split32(this.h,"big")}},63823:function(eu,ed,eg){"use strict";var em=eg(50212),eb=eg(68032);function ew(){if(!(this instanceof ew))return new ew;eb.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}em.inherits(ew,eb),eu.exports=ew,ew.blockSize=512,ew.outSize=224,ew.hmacStrength=192,ew.padLength=64,ew.prototype._digest=function(eu){return"hex"===eu?em.toHex32(this.h.slice(0,7),"big"):em.split32(this.h.slice(0,7),"big")}},68032:function(eu,ed,eg){"use strict";var em=eg(50212),eb=eg(74495),ew=eg(40713),e_=eg(79561),eE=em.sum32,eA=em.sum32_4,eS=em.sum32_5,eI=ew.ch32,eC=ew.maj32,eM=ew.s0_256,eO=ew.s1_256,eT=ew.g0_256,eP=ew.g1_256,eN=eb.BlockHash,ek=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function eR(){if(!(this instanceof eR))return new eR;eN.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=ek,this.W=Array(64)}em.inherits(eR,eN),eu.exports=eR,eR.blockSize=512,eR.outSize=256,eR.hmacStrength=192,eR.padLength=64,eR.prototype._update=function(eu,ed){for(var eg=this.W,em=0;em<16;em++)eg[em]=eu[ed+em];for(;em<eg.length;em++)eg[em]=eA(eP(eg[em-2]),eg[em-7],eT(eg[em-15]),eg[em-16]);var eb=this.h[0],ew=this.h[1],eN=this.h[2],ek=this.h[3],eR=this.h[4],eD=this.h[5],eB=this.h[6],eU=this.h[7];for(e_(this.k.length===eg.length),em=0;em<eg.length;em++){var eL=eS(eU,eO(eR),eI(eR,eD,eB),this.k[em],eg[em]),ej=eE(eM(eb),eC(eb,ew,eN));eU=eB,eB=eD,eD=eR,eR=eE(ek,eL),ek=eN,eN=ew,ew=eb,eb=eE(eL,ej)}this.h[0]=eE(this.h[0],eb),this.h[1]=eE(this.h[1],ew),this.h[2]=eE(this.h[2],eN),this.h[3]=eE(this.h[3],ek),this.h[4]=eE(this.h[4],eR),this.h[5]=eE(this.h[5],eD),this.h[6]=eE(this.h[6],eB),this.h[7]=eE(this.h[7],eU)},eR.prototype._digest=function(eu){return"hex"===eu?em.toHex32(this.h,"big"):em.split32(this.h,"big")}},25328:function(eu,ed,eg){"use strict";var em=eg(50212),eb=eg(20168);function ew(){if(!(this instanceof ew))return new ew;eb.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}em.inherits(ew,eb),eu.exports=ew,ew.blockSize=1024,ew.outSize=384,ew.hmacStrength=192,ew.padLength=128,ew.prototype._digest=function(eu){return"hex"===eu?em.toHex32(this.h.slice(0,12),"big"):em.split32(this.h.slice(0,12),"big")}},20168:function(eu,ed,eg){"use strict";var em=eg(50212),eb=eg(74495),ew=eg(79561),e_=em.rotr64_hi,eE=em.rotr64_lo,eA=em.shr64_hi,eS=em.shr64_lo,eI=em.sum64,eC=em.sum64_hi,eM=em.sum64_lo,eO=em.sum64_4_hi,eT=em.sum64_4_lo,eP=em.sum64_5_hi,eN=em.sum64_5_lo,ek=eb.BlockHash,eR=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function eD(){if(!(this instanceof eD))return new eD;ek.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=eR,this.W=Array(160)}function eB(eu,ed,eg,em,eb){var ew=eu&eg^~eu&eb;return ew<0&&(ew+=4294967296),ew}function eU(eu,ed,eg,em,eb,ew){var e_=ed&em^~ed&ew;return e_<0&&(e_+=4294967296),e_}function eL(eu,ed,eg,em,eb){var ew=eu&eg^eu&eb^eg&eb;return ew<0&&(ew+=4294967296),ew}function ej(eu,ed,eg,em,eb,ew){var e_=ed&em^ed&ew^em&ew;return e_<0&&(e_+=4294967296),e_}function eF(eu,ed){var eg=e_(eu,ed,28)^e_(ed,eu,2)^e_(ed,eu,7);return eg<0&&(eg+=4294967296),eg}function e$(eu,ed){var eg=eE(eu,ed,28)^eE(ed,eu,2)^eE(ed,eu,7);return eg<0&&(eg+=4294967296),eg}function eK(eu,ed){var eg=e_(eu,ed,14)^e_(eu,ed,18)^e_(ed,eu,9);return eg<0&&(eg+=4294967296),eg}function eH(eu,ed){var eg=eE(eu,ed,14)^eE(eu,ed,18)^eE(ed,eu,9);return eg<0&&(eg+=4294967296),eg}function eV(eu,ed){var eg=e_(eu,ed,1)^e_(eu,ed,8)^eA(eu,ed,7);return eg<0&&(eg+=4294967296),eg}function eG(eu,ed){var eg=eE(eu,ed,1)^eE(eu,ed,8)^eS(eu,ed,7);return eg<0&&(eg+=4294967296),eg}function eW(eu,ed){var eg=e_(eu,ed,19)^e_(ed,eu,29)^eA(eu,ed,6);return eg<0&&(eg+=4294967296),eg}function eJ(eu,ed){var eg=eE(eu,ed,19)^eE(ed,eu,29)^eS(eu,ed,6);return eg<0&&(eg+=4294967296),eg}em.inherits(eD,ek),eu.exports=eD,eD.blockSize=1024,eD.outSize=512,eD.hmacStrength=192,eD.padLength=128,eD.prototype._prepareBlock=function(eu,ed){for(var eg=this.W,em=0;em<32;em++)eg[em]=eu[ed+em];for(;em<eg.length;em+=2){var eb=eW(eg[em-4],eg[em-3]),ew=eJ(eg[em-4],eg[em-3]),e_=eg[em-14],eE=eg[em-13],eA=eV(eg[em-30],eg[em-29]),eS=eG(eg[em-30],eg[em-29]),eI=eg[em-32],eC=eg[em-31];eg[em]=eO(eb,ew,e_,eE,eA,eS,eI,eC),eg[em+1]=eT(eb,ew,e_,eE,eA,eS,eI,eC)}},eD.prototype._update=function(eu,ed){this._prepareBlock(eu,ed);var eg=this.W,em=this.h[0],eb=this.h[1],e_=this.h[2],eE=this.h[3],eA=this.h[4],eS=this.h[5],eO=this.h[6],eT=this.h[7],ek=this.h[8],eR=this.h[9],eD=this.h[10],eV=this.h[11],eG=this.h[12],eW=this.h[13],eJ=this.h[14],eZ=this.h[15];ew(this.k.length===eg.length);for(var eY=0;eY<eg.length;eY+=2){var eX=eJ,eQ=eZ,e0=eK(ek,eR),e6=eH(ek,eR),e8=eB(ek,eR,eD,eV,eG,eW),e5=eU(ek,eR,eD,eV,eG,eW),e9=this.k[eY],e7=this.k[eY+1],tu=eg[eY],th=eg[eY+1],td=eP(eX,eQ,e0,e6,e8,e5,e9,e7,tu,th),tg=eN(eX,eQ,e0,e6,e8,e5,e9,e7,tu,th);eX=eF(em,eb),eQ=e$(em,eb),e0=eL(em,eb,e_,eE,eA,eS),e6=ej(em,eb,e_,eE,eA,eS);var ty=eC(eX,eQ,e0,e6),tb=eM(eX,eQ,e0,e6);eJ=eG,eZ=eW,eG=eD,eW=eV,eD=ek,eV=eR,ek=eC(eO,eT,td,tg),eR=eM(eT,eT,td,tg),eO=eA,eT=eS,eA=e_,eS=eE,e_=em,eE=eb,em=eC(td,tg,ty,tb),eb=eM(td,tg,ty,tb)}eI(this.h,0,em,eb),eI(this.h,2,e_,eE),eI(this.h,4,eA,eS),eI(this.h,6,eO,eT),eI(this.h,8,ek,eR),eI(this.h,10,eD,eV),eI(this.h,12,eG,eW),eI(this.h,14,eJ,eZ)},eD.prototype._digest=function(eu){return"hex"===eu?em.toHex32(this.h,"big"):em.split32(this.h,"big")}},40713:function(eu,ed,eg){"use strict";var em=eg(50212).rotr32;function eb(eu,ed,eg,em){return 0===eu?ew(ed,eg,em):1===eu||3===eu?eE(ed,eg,em):2===eu?e_(ed,eg,em):void 0}function ew(eu,ed,eg){return eu&ed^~eu&eg}function e_(eu,ed,eg){return eu&ed^eu&eg^ed&eg}function eE(eu,ed,eg){return eu^ed^eg}function eA(eu){return em(eu,2)^em(eu,13)^em(eu,22)}function eS(eu){return em(eu,6)^em(eu,11)^em(eu,25)}function eI(eu){return em(eu,7)^em(eu,18)^eu>>>3}function eC(eu){return em(eu,17)^em(eu,19)^eu>>>10}ed.ft_1=eb,ed.ch32=ew,ed.maj32=e_,ed.p32=eE,ed.s0_256=eA,ed.s1_256=eS,ed.g0_256=eI,ed.g1_256=eC},50212:function(eu,ed,eg){"use strict";var em=eg(79561),eb=eg(91285);function ew(eu,ed){return(64512&eu.charCodeAt(ed))==55296&&!(ed<0)&&!(ed+1>=eu.length)&&(64512&eu.charCodeAt(ed+1))==56320}function e_(eu,ed){if(Array.isArray(eu))return eu.slice();if(!eu)return[];var eg=[];if("string"==typeof eu){if(ed){if("hex"===ed)for((eu=eu.replace(/[^a-z0-9]+/ig,"")).length%2!=0&&(eu="0"+eu),eb=0;eb<eu.length;eb+=2)eg.push(parseInt(eu[eb]+eu[eb+1],16))}else for(var em=0,eb=0;eb<eu.length;eb++){var e_=eu.charCodeAt(eb);e_<128?eg[em++]=e_:e_<2048?(eg[em++]=e_>>6|192,eg[em++]=63&e_|128):ew(eu,eb)?(e_=65536+((1023&e_)<<10)+(1023&eu.charCodeAt(++eb)),eg[em++]=e_>>18|240,eg[em++]=e_>>12&63|128,eg[em++]=e_>>6&63|128,eg[em++]=63&e_|128):(eg[em++]=e_>>12|224,eg[em++]=e_>>6&63|128,eg[em++]=63&e_|128)}}else for(eb=0;eb<eu.length;eb++)eg[eb]=0|eu[eb];return eg}function eE(eu){for(var ed="",eg=0;eg<eu.length;eg++)ed+=eI(eu[eg].toString(16));return ed}function eA(eu){return(eu>>>24|eu>>>8&65280|eu<<8&16711680|(255&eu)<<24)>>>0}function eS(eu,ed){for(var eg="",em=0;em<eu.length;em++){var eb=eu[em];"little"===ed&&(eb=eA(eb)),eg+=eC(eb.toString(16))}return eg}function eI(eu){return 1===eu.length?"0"+eu:eu}function eC(eu){if(7===eu.length)return"0"+eu;if(6===eu.length)return"00"+eu;if(5===eu.length)return"000"+eu;if(4===eu.length)return"0000"+eu;if(3===eu.length)return"00000"+eu;if(2===eu.length)return"000000"+eu;if(1===eu.length)return"0000000"+eu;else return eu}function eM(eu,ed,eg,eb){var ew,e_=eg-ed;em(e_%4==0);for(var eE=Array(e_/4),eA=0,eS=ed;eA<eE.length;eA++,eS+=4)ew="big"===eb?eu[eS]<<24|eu[eS+1]<<16|eu[eS+2]<<8|eu[eS+3]:eu[eS+3]<<24|eu[eS+2]<<16|eu[eS+1]<<8|eu[eS],eE[eA]=ew>>>0;return eE}function eO(eu,ed){for(var eg=Array(4*eu.length),em=0,eb=0;em<eu.length;em++,eb+=4){var ew=eu[em];"big"===ed?(eg[eb]=ew>>>24,eg[eb+1]=ew>>>16&255,eg[eb+2]=ew>>>8&255,eg[eb+3]=255&ew):(eg[eb+3]=ew>>>24,eg[eb+2]=ew>>>16&255,eg[eb+1]=ew>>>8&255,eg[eb]=255&ew)}return eg}function eT(eu,ed){return eu>>>ed|eu<<32-ed}function eP(eu,ed){return eu<<ed|eu>>>32-ed}function eN(eu,ed){return eu+ed>>>0}function ek(eu,ed,eg){return eu+ed+eg>>>0}function eR(eu,ed,eg,em){return eu+ed+eg+em>>>0}function eD(eu,ed,eg,em,eb){return eu+ed+eg+em+eb>>>0}function eB(eu,ed,eg,em){var eb=eu[ed],ew=em+eu[ed+1]>>>0,e_=(ew<em?1:0)+eg+eb;eu[ed]=e_>>>0,eu[ed+1]=ew}function eU(eu,ed,eg,em){return(ed+em>>>0<ed?1:0)+eu+eg>>>0}function eL(eu,ed,eg,em){return ed+em>>>0}function ej(eu,ed,eg,em,eb,ew,e_,eE){var eA,eS=ed;return eu+eg+eb+e_+(eA=0+((eS=eS+em>>>0)<ed?1:0)+((eS=eS+ew>>>0)<ew?1:0)+((eS=eS+eE>>>0)<eE?1:0))>>>0}function eF(eu,ed,eg,em,eb,ew,e_,eE){return ed+em+ew+eE>>>0}function e$(eu,ed,eg,em,eb,ew,e_,eE,eA,eS){var eI,eC=ed;return eu+eg+eb+e_+eA+(eI=0+((eC=eC+em>>>0)<ed?1:0)+((eC=eC+ew>>>0)<ew?1:0)+((eC=eC+eE>>>0)<eE?1:0)+((eC=eC+eS>>>0)<eS?1:0))>>>0}function eK(eu,ed,eg,em,eb,ew,e_,eE,eA,eS){return ed+em+ew+eE+eS>>>0}function eH(eu,ed,eg){return(ed<<32-eg|eu>>>eg)>>>0}function eV(eu,ed,eg){return(eu<<32-eg|ed>>>eg)>>>0}function eG(eu,ed,eg){return eu>>>eg}function eW(eu,ed,eg){return(eu<<32-eg|ed>>>eg)>>>0}ed.inherits=eb,ed.toArray=e_,ed.toHex=eE,ed.htonl=eA,ed.toHex32=eS,ed.zero2=eI,ed.zero8=eC,ed.join32=eM,ed.split32=eO,ed.rotr32=eT,ed.rotl32=eP,ed.sum32=eN,ed.sum32_3=ek,ed.sum32_4=eR,ed.sum32_5=eD,ed.sum64=eB,ed.sum64_hi=eU,ed.sum64_lo=eL,ed.sum64_4_hi=ej,ed.sum64_4_lo=eF,ed.sum64_5_hi=e$,ed.sum64_5_lo=eK,ed.rotr64_hi=eH,ed.rotr64_lo=eV,ed.shr64_hi=eG,ed.shr64_lo=eW},72196:function(eu,ed,eg){"use strict";var em=Function.prototype.call,eb=Object.prototype.hasOwnProperty,ew=eg(4090);eu.exports=ew.call(em,eb)},78873:function(eu,ed,eg){"use strict";var em=eg(34485),eb=eg(43022),ew=eg(79561);function e_(eu){if(!(this instanceof e_))return new e_(eu);this.hash=eu.hash,this.predResist=!!eu.predResist,this.outLen=this.hash.outSize,this.minEntropy=eu.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var ed=eb.toArray(eu.entropy,eu.entropyEnc||"hex"),eg=eb.toArray(eu.nonce,eu.nonceEnc||"hex"),em=eb.toArray(eu.pers,eu.persEnc||"hex");ew(ed.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(ed,eg,em)}eu.exports=e_,e_.prototype._init=function(eu,ed,eg){var em=eu.concat(ed).concat(eg);this.K=Array(this.outLen/8),this.V=Array(this.outLen/8);for(var eb=0;eb<this.V.length;eb++)this.K[eb]=0,this.V[eb]=1;this._update(em),this._reseed=1,this.reseedInterval=281474976710656},e_.prototype._hmac=function(){return new em.hmac(this.hash,this.K)},e_.prototype._update=function(eu){var ed=this._hmac().update(this.V).update([0]);eu&&(ed=ed.update(eu)),this.K=ed.digest(),this.V=this._hmac().update(this.V).digest(),eu&&(this.K=this._hmac().update(this.V).update([1]).update(eu).digest(),this.V=this._hmac().update(this.V).digest())},e_.prototype.reseed=function(eu,ed,eg,em){"string"!=typeof ed&&(em=eg,eg=ed,ed=null),eu=eb.toArray(eu,ed),eg=eb.toArray(eg,em),ew(eu.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(eu.concat(eg||[])),this._reseed=1},e_.prototype.generate=function(eu,ed,eg,em){if(this._reseed>this.reseedInterval)throw Error("Reseed is required");"string"!=typeof ed&&(em=eg,eg=ed,ed=null),eg&&(eg=eb.toArray(eg,em||"hex"),this._update(eg));for(var ew=[];ew.length<eu;)this.V=this._hmac().update(this.V).digest(),ew=ew.concat(this.V);var e_=ew.slice(0,eu);return this._update(eg),this._reseed++,eb.encode(e_,ed)}},58701:function(eu,ed,eg){"use strict";/*!
 * http-errors
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2016 Douglas Christopher Wilson
 * MIT Licensed
 */var em=eg(15251)("http-errors"),eb=eg(90560),ew=eg(3465),e_=eg(33611),eE=eg(90114);function eA(eu){return Number(String(eu).charAt(0)+"00")}function eS(){for(var eu,ed,eg=500,eb={},e_=0;e_<arguments.length;e_++){var eE=arguments[e_];if(eE instanceof Error){eg=(eu=eE).status||eu.statusCode||eg;continue}switch(typeof eE){case"string":ed=eE;break;case"number":eg=eE,0!==e_&&em("non-first-argument status code; replace with createError("+eE+", ...)");break;case"object":eb=eE}}"number"==typeof eg&&(eg<400||eg>=600)&&em("non-error status code; use only 4xx or 5xx status codes"),("number"!=typeof eg||!ew[eg]&&(eg<400||eg>=600))&&(eg=500);var eI=eS[eg]||eS[eA(eg)];for(var eC in eu||Error.captureStackTrace(eu=eI?new eI(ed):Error(ed||ew[eg]),eS),eI&&eu instanceof eI&&eu.status===eg||(eu.expose=eg<500,eu.status=eu.statusCode=eg),eb)"status"!==eC&&"statusCode"!==eC&&(eu[eC]=eb[eC]);return eu}function eI(){function eu(){throw TypeError("cannot construct abstract class")}return e_(eu,Error),eu}function eC(eu,ed,eg){var em=ed.match(/Error$/)?ed:ed+"Error";function eE(eu){var ed=null!=eu?eu:ew[eg],e_=Error(ed);return Error.captureStackTrace(e_,eE),eb(e_,eE.prototype),Object.defineProperty(e_,"message",{enumerable:!0,configurable:!0,value:ed,writable:!0}),Object.defineProperty(e_,"name",{enumerable:!1,configurable:!0,value:em,writable:!0}),e_}return e_(eE,eu),eO(eE,em),eE.prototype.status=eg,eE.prototype.statusCode=eg,eE.prototype.expose=!0,eE}function eM(eu,ed,eg){var em=ed.match(/Error$/)?ed:ed+"Error";function eE(eu){var ed=null!=eu?eu:ew[eg],e_=Error(ed);return Error.captureStackTrace(e_,eE),eb(e_,eE.prototype),Object.defineProperty(e_,"message",{enumerable:!0,configurable:!0,value:ed,writable:!0}),Object.defineProperty(e_,"name",{enumerable:!1,configurable:!0,value:em,writable:!0}),e_}return e_(eE,eu),eO(eE,em),eE.prototype.status=eg,eE.prototype.statusCode=eg,eE.prototype.expose=!1,eE}function eO(eu,ed){var eg=Object.getOwnPropertyDescriptor(eu,"name");eg&&eg.configurable&&(eg.value=ed,Object.defineProperty(eu,"name",eg))}function eT(eu,ed,eg){ed.forEach(function(ed){var em,eb=eE(ew[ed]);switch(eA(ed)){case 400:em=eC(eg,eb,ed);break;case 500:em=eM(eg,eb,ed)}em&&(eu[ed]=em,eu[eb]=em)}),eu["I'mateapot"]=em.function(eu.ImATeapot,'"I\'mateapot"; use "ImATeapot" instead')}eu.exports=eS,eu.exports.HttpError=eI(),eT(eu.exports,ew.codes,eu.exports.HttpError)},15251:function(eu){"use strict";function ed(eu){if(!eu)throw TypeError("argument namespace is required");function ed(eu){}return ed._file=void 0,ed._ignored=!0,ed._namespace=eu,ed._traced=!1,ed._warned=Object.create(null),ed.function=eg,ed.property=em,ed}function eg(eu,ed){if("function"!=typeof eu)throw TypeError("argument fn must be a function");return eu}function em(eu,ed,eg){if(!eu||"object"!=typeof eu&&"function"!=typeof eu)throw TypeError("argument obj must be object");var em=Object.getOwnPropertyDescriptor(eu,ed);if(!em)throw TypeError("must call property on owner object");if(!em.configurable)throw TypeError("property must be configurable")}/*!
 * depd
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */eu.exports=ed},33611:function(eu){"function"==typeof Object.create?eu.exports=function(eu,ed){eu.super_=ed,eu.prototype=Object.create(ed.prototype,{constructor:{value:eu,enumerable:!1,writable:!0,configurable:!0}})}:eu.exports=function(eu,ed){eu.super_=ed;var eg=function(){};eg.prototype=ed.prototype,eu.prototype=new eg,eu.prototype.constructor=eu}},90560:function(eu){"use strict";function ed(eu,ed){return eu.__proto__=ed,eu}function eg(eu,ed){for(var eg in ed)eu.hasOwnProperty(eg)||(eu[eg]=ed[eg]);return eu}eu.exports=Object.setPrototypeOf||(({__proto__:[]})instanceof Array?ed:eg)},3465:function(eu,ed,eg){"use strict";/*!
 * statuses
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2016 Douglas Christopher Wilson
 * MIT Licensed
 */var em=eg(85944);function eb(eu,ed){var eg=[];return Object.keys(ed).forEach(function(em){var eb=ed[em],ew=Number(em);eu[ew]=eb,eu[eb]=ew,eu[eb.toLowerCase()]=ew,eg.push(ew)}),eg}function ew(eu){if("number"==typeof eu){if(!ew[eu])throw Error("invalid status code: "+eu);return eu}if("string"!=typeof eu)throw TypeError("code must be a number or string");var ed=parseInt(eu,10);if(!isNaN(ed)){if(!ew[ed])throw Error("invalid status code: "+ed);return ed}if(!(ed=ew[eu.toLowerCase()]))throw Error('invalid status message: "'+eu+'"');return ed}eu.exports=ew,ew.STATUS_CODES=em,ew.codes=eb(ew,em),ew.redirect={300:!0,301:!0,302:!0,303:!0,305:!0,307:!0,308:!0},ew.empty={204:!0,205:!0,304:!0},ew.retry={502:!0,503:!0,504:!0}},62621:function(eu,ed,eg){var em=eg(23439),eb=eg(883),ew=eu.exports;for(var e_ in em)em.hasOwnProperty(e_)&&(ew[e_]=em[e_]);function eE(eu){if("string"==typeof eu&&(eu=eb.parse(eu)),eu.protocol||(eu.protocol="https:"),"https:"!==eu.protocol)throw Error('Protocol "'+eu.protocol+'" not supported. Expected "https:"');return eu}ew.request=function(eu,ed){return eu=eE(eu),em.request.call(this,eu,ed)},ew.get=function(eu,ed){return eu=eE(eu),em.get.call(this,eu,ed)}},62333:function(eu,ed){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ed.read=function(eu,ed,eg,em,eb){var ew,e_,eE=8*eb-em-1,eA=(1<<eE)-1,eS=eA>>1,eI=-7,eC=eg?eb-1:0,eM=eg?-1:1,eO=eu[ed+eC];for(eC+=eM,ew=eO&(1<<-eI)-1,eO>>=-eI,eI+=eE;eI>0;ew=256*ew+eu[ed+eC],eC+=eM,eI-=8);for(e_=ew&(1<<-eI)-1,ew>>=-eI,eI+=em;eI>0;e_=256*e_+eu[ed+eC],eC+=eM,eI-=8);if(0===ew)ew=1-eS;else{if(ew===eA)return e_?NaN:(eO?-1:1)*(1/0);e_+=Math.pow(2,em),ew-=eS}return(eO?-1:1)*e_*Math.pow(2,ew-em)},ed.write=function(eu,ed,eg,em,eb,ew){var e_,eE,eA,eS=8*ew-eb-1,eI=(1<<eS)-1,eC=eI>>1,eM=23===eb?5960464477539062e-23:0,eO=em?0:ew-1,eT=em?1:-1,eP=ed<0||0===ed&&1/ed<0?1:0;for(isNaN(ed=Math.abs(ed))||ed===1/0?(eE=isNaN(ed)?1:0,e_=eI):(e_=Math.floor(Math.log(ed)/Math.LN2),ed*(eA=Math.pow(2,-e_))<1&&(e_--,eA*=2),e_+eC>=1?ed+=eM/eA:ed+=eM*Math.pow(2,1-eC),ed*eA>=2&&(e_++,eA/=2),e_+eC>=eI?(eE=0,e_=eI):e_+eC>=1?(eE=(ed*eA-1)*Math.pow(2,eb),e_+=eC):(eE=ed*Math.pow(2,eC-1)*Math.pow(2,eb),e_=0));eb>=8;eu[eg+eO]=255&eE,eO+=eT,eE/=256,eb-=8);for(e_=e_<<eb|eE,eS+=eb;eS>0;eu[eg+eO]=255&e_,eO+=eT,e_/=256,eS-=8);eu[eg+eO-eT]|=128*eP}},91285:function(eu){"function"==typeof Object.create?eu.exports=function(eu,ed){ed&&(eu.super_=ed,eu.prototype=Object.create(ed.prototype,{constructor:{value:eu,enumerable:!1,writable:!0,configurable:!0}}))}:eu.exports=function(eu,ed){if(ed){eu.super_=ed;var eg=function(){};eg.prototype=ed.prototype,eu.prototype=new eg,eu.prototype.constructor=eu}}},52635:function(eu,ed,eg){"use strict";var em=eg(67226)(),eb=eg(8435)("Object.prototype.toString"),ew=function(eu){return(!em||!eu||"object"!=typeof eu||!(Symbol.toStringTag in eu))&&"[object Arguments]"===eb(eu)},e_=function(eu){return!!ew(eu)||null!==eu&&"object"==typeof eu&&"length"in eu&&"number"==typeof eu.length&&eu.length>=0&&"[object Array]"!==eb(eu)&&"callee"in eu&&"[object Function]"===eb(eu.callee)},eE=function(){return ew(arguments)}();ew.isLegacyArguments=e_,eu.exports=eE?ew:e_},9680:function(eu){"use strict";var ed,eg,em=Function.prototype.toString,eb="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof eb&&"function"==typeof Object.defineProperty)try{ed=Object.defineProperty({},"length",{get:function(){throw eg}}),eg={},eb(function(){throw 42},null,ed)}catch(eu){eu!==eg&&(eb=null)}else eb=null;var ew=/^\s*class\b/,e_=function(eu){try{var ed=em.call(eu);return ew.test(ed)}catch(eu){return!1}},eE=function(eu){try{if(e_(eu))return!1;return em.call(eu),!0}catch(eu){return!1}},eA=Object.prototype.toString,eS="[object Object]",eI="[object Function]",eC="[object GeneratorFunction]",eM="[object HTMLAllCollection]",eO="[object HTML document.all class]",eT="[object HTMLCollection]",eP="function"==typeof Symbol&&!!Symbol.toStringTag,eN=!(0 in[,]),ek=function(){return!1};if("object"==typeof document){var eR=document.all;eA.call(eR)===eA.call(document.all)&&(ek=function(eu){if((eN||!eu)&&(void 0===eu||"object"==typeof eu))try{var ed=eA.call(eu);return(ed===eM||ed===eO||ed===eT||ed===eS)&&null==eu("")}catch(eu){}return!1})}eu.exports=eb?function(eu){if(ek(eu))return!0;if(!eu||"function"!=typeof eu&&"object"!=typeof eu)return!1;try{eb(eu,null,ed)}catch(eu){if(eu!==eg)return!1}return!e_(eu)&&eE(eu)}:function(eu){if(ek(eu))return!0;if(!eu||"function"!=typeof eu&&"object"!=typeof eu)return!1;if(eP)return eE(eu);if(e_(eu))return!1;var ed=eA.call(eu);return!!(ed===eI||ed===eC||/^\[object HTML/.test(ed))&&eE(eu)}},43138:function(eu,ed,eg){"use strict";var em,eb=eg(8435),ew=eg(63671)(/^\s*(?:function)?\*/),e_=eg(67226)(),eE=eg(21750),eA=eb("Object.prototype.toString"),eS=eb("Function.prototype.toString"),eI=function(){if(!e_)return!1;try{return Function("return function*() {}")()}catch(eu){}};eu.exports=function(eu){if("function"!=typeof eu)return!1;if(ew(eS(eu)))return!0;if(!e_)return"[object GeneratorFunction]"===eA(eu);if(!eE)return!1;if(void 0===em){var ed=eI();em=!!ed&&eE(ed)}return eE(eu)===em}},17145:function(eu){"use strict";eu.exports=eb,eu.exports.isMobile=eb,eu.exports.default=eb;let ed=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,eg=/CrOS/,em=/android|ipad|playbook|silk/i;function eb(eu){eu||(eu={});let eb=eu.ua;if(eb||"undefined"==typeof navigator||(eb=navigator.userAgent),eb&&eb.headers&&"string"==typeof eb.headers["user-agent"]&&(eb=eb.headers["user-agent"]),"string"!=typeof eb)return!1;let ew=ed.test(eb)&&!eg.test(eb)||!!eu.tablet&&em.test(eb);return!ew&&eu.tablet&&eu.featureDetect&&navigator&&navigator.maxTouchPoints>1&&-1!==eb.indexOf("Macintosh")&&-1!==eb.indexOf("Safari")&&(ew=!0),ew}},12653:function(eu){var ed=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eg=/\/\d{1,3}(?=%|$)/,em=/\//,eb=/%.*$/,ew=/([^0-9a-f:/%])/i,e_=/([0-9a-f]{5,}|:{3,}|[^:]:$|^:[^:]|\/$)/i;function eE(eu){if(!ed.test(eu))return!1;var eg=eu.split(".");if(4!==eg.length||"0"===eg[0][0]&&eg[0].length>1||"0"===eg[1][0]&&eg[1].length>1||"0"===eg[2][0]&&eg[2].length>1||"0"===eg[3][0]&&eg[3].length>1)return!1;var em=Number(eg[0]),eb=Number(eg[1]),ew=Number(eg[2]),e_=Number(eg[3]);return em>=0&&em<256&&eb>=0&&eb<256&&ew>=0&&ew<256&&e_>=0&&e_<256}function eA(eu){var ed=eu.replace(eg,""),eA=eu.length!==ed.length;if(eA||!eA&&em.test(eu))return!1;var eS=ed.replace(eb,""),eI=eS.lastIndexOf(":");if(-1===eI)return!1;var eC=eE(eS.substring(eI+1))?eS.substring(0,eI+1)+"1234:5678":eS;if(ew.test(eC)||e_.test(eC))return!1;var eM=eC.split("::");if(eM.length>2)return!1;if(2===eM.length){var eO=""===eM[0]?[]:eM[0].split(":"),eT=""===eM[1]?[]:eM[1].split(":");if(8-(eO.length+eT.length)<=0)return!1}else if(8!==eC.split(":").length)return!1;return!0}function eS(eu){return eE(eu)||eA(eu)}eu.exports=function(eu){if(eu||(eu={}),4===eu.version)return eE;if(6===eu.version)return eA;if(null==eu.version)return eS;throw Error("Unknown version: "+eu.version)},eu.exports.__all_regexes__=[ed,eg,em,eb,ew,e_]},77465:function(eu,ed,eg){var em=eg(12653),eb=/\s/,ew=/^[a-zA-Z0-9.-]+$/,e_=/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/,eE=/^\+[0-9][0-9 ]{5,27}[0-9]$/,eA=/ {2}/,eS=/ /g;ed["date-time"]=/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-[0-9]{2}[tT ]\d{2}:\d{2}:\d{2}(?:\.\d+|)([zZ]|[+-]\d{2}:\d{2})$/,ed.date=/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-[0-9]{2}$/,ed.time=/^\d{2}:\d{2}:\d{2}$/,ed.email=function(eu){return -1!==eu.indexOf("@")&&!eb.test(eu)},ed["ip-address"]=ed.ipv4=em({version:4}),ed.ipv6=em({version:6}),ed.uri=/^[a-zA-Z][a-zA-Z0-9+\-.]*:[^\s]*$/,ed.color=/(#?([0-9A-Fa-f]{3,6})\b)|(aqua)|(black)|(blue)|(fuchsia)|(gray)|(green)|(lime)|(maroon)|(navy)|(olive)|(orange)|(purple)|(red)|(silver)|(teal)|(white)|(yellow)|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\))/,ed.hostname=function(eu){if(!ew.test(eu))return!1;for(var ed=eu.split("."),eg=0;eg<ed.length;eg++)if(!e_.test(ed[eg]))return!1;return!0},ed.alpha=/^[a-zA-Z]+$/,ed.alphanumeric=/^[a-zA-Z0-9]+$/,ed.style=/.:\s*[^;]/g,ed.phone=function(eu){if(!eE.test(eu)||eA.test(eu))return!1;var ed=eu.substring(1).replace(eS,"").length;return ed>=7&&ed<=15},ed["utc-millisec"]=/^[0-9]{1,15}\.?[0-9]{0,15}$/},60772:function(eu,ed,eg){var em=eg(6e3),eb=eg(88616),ew=eg(404),e_=eg(51960),eE=eg(77465),eA=function(eu,ed,eg){var em=function(eu){return eu&&eu.id===eg?eu:"object"==typeof eu&&eu?Object.keys(eu).reduce(function(ed,eg){return ed||em(eu[eg])},null):null},eb=em(eu);if(eb)return eb;eg=(eg=eg.replace(/^#/,"")).replace(/\/$/,"");try{return ew.get(eu,decodeURI(eg))}catch(eu){var e_,eE=eg.indexOf("#");if(0!==eE){if(-1===eE)e_=ed[eg];else{e_=ed[eg.slice(0,eE)];var eA=eg.slice(eE).replace(/^#/,"");try{return ew.get(e_,eA)}catch(eu){}}}else e_=ed[eg];return e_||null}},eS={};eS.any=function(){return"true"},eS.null=function(eu){return eu+" === null"},eS.boolean=function(eu){return"typeof "+eu+' === "boolean"'},eS.array=function(eu){return"Array.isArray("+eu+")"},eS.object=function(eu){return"typeof "+eu+' === "object" && '+eu+" && !Array.isArray("+eu+")"},eS.number=function(eu){return"typeof "+eu+' === "number" && isFinite('+eu+")"},eS.integer=function(eu){return"typeof "+eu+' === "number" && (Math.floor('+eu+") === "+eu+" || "+eu+" > 9007199254740992 || "+eu+" < -9007199254740992)"},eS.string=function(eu){return"typeof "+eu+' === "string"'};var eI=function(eu,ed){ed=Math.min(-1===ed?eu.length:ed,eu.length);for(var eg=[],em=0;em<ed;em++)eg.push("object"==typeof eu[em]?JSON.stringify(eu[em]):eu[em]);for(var em=1;em<eg.length;em++)if(eg.indexOf(eg[em])!==em)return!1;return!0},eC=function(eu,ed){var eg,em=(0|ed)!==ed?Math.pow(10,ed.toString().split(".").pop().length):1;return!(eg=em>1?((0|eu)!==eu?Math.pow(10,eu.toString().split(".").pop().length):1)>em||Math.round(em*eu)%(em*ed):eu%ed)},eM=function(eu,ed,eg){return eg>-1&&ed.length>eg||eu.test(ed)},eO=function(eu,ed,eg,ew,eT){var eP=eT?e_(eE,eT.formats):eE,eN={unique:eI,formats:eP,isMultipleOf:eC,testLimitedRegex:eM},ek=!!eT&&!!eT.verbose,eR=!!eT&&void 0!==eT.greedy&&eT.greedy,eD={},eB=[],eU=function(eu){var ed=eu+(eD[eu]=(eD[eu]||0)+1);return eB.push(ed),ed},eL=function(eu){var ed=JSON.stringify(eu);try{for(var eg=/\[([^\[\]"]+)\]/;eg.test(ed);)ed=ed.replace(eg,em);return ed}catch(ed){return JSON.stringify(eu)}function em(eu,ed){if(-1===eB.indexOf(ed))throw Error("Unreplaceable");return'." + '+ed+' + "'}},ej={},eF=function(eu){if(ej[eu])return ej[eu];var ed=eU("pattern");return eN[ed]=new RegExp(eu),ej[eu]=ed,ed},e$=["i","j","k","l","m","n","o","p","q","r","s","t","u","v","x","y","z"],eK=function(){var eu=e$.shift();return e$.push(eu+eu[0]),eB.push(eu),eu},eH=function(eu,eb,ew,e_,eI){var eC=eb.properties,eM=eb.type,eD=!1;Array.isArray(eb.items)&&(eC={},eb.items.forEach(function(eu,ed){eC[ed]=eu}),eM="array",eD=!0);var eB=0,ej=function(ed,eg,em){eV("errors++"),!0===ew&&(eV("if (validate.errors === null) validate.errors = []"),ek?eV("validate.errors.push({field:%s,message:%s,value:%s,type:%s,schemaPath:%s})",eL(eg||eu),JSON.stringify(ed),em||eu,JSON.stringify(eM),JSON.stringify(eI)):eV("validate.errors.push({field:%s,message:%s})",eL(eg||eu),JSON.stringify(ed)))};!0===eb.required?(eB++,eV("if (%s === undefined) {",eu),ej("is required"),eV("} else {")):(eB++,eV("if (%s !== undefined) {",eu));var e$=[].concat(eM).map(function(ed){if(ed&&!eS.hasOwnProperty(ed))throw Error("Unknown type: "+ed);return eS[ed||"any"](eu)}).join(" || ")||"true";if("true"!==e$&&(eB++,eV("if (!(%s)) {",e$),ej("is the wrong type"),eV("} else {")),eD){if(!1===eb.additionalItems)eV("if (%s.length > %d) {",eu,eb.items.length),ej("has additional items"),eV("}");else if(eb.additionalItems){var eG=eK();eV("for (var %s = %d; %s < %s.length; %s++) {",eG,eb.items.length,eG,eu,eG),eH(eu+"["+eG+"]",eb.additionalItems,ew,e_,eI.concat("additionalItems")),eV("}")}}if(eb.format&&eP[eb.format]){"string"!==eM&&eE[eb.format]&&eV("if (%s) {",eS.string(eu));var eW=eU("format");eN[eW]=eP[eb.format],"function"==typeof eN[eW]?eV("if (!%s(%s)) {",eW,eu):eV("if (!testLimitedRegex(%s, %s, %d)) {",eW,eu,void 0===eb.maxLength?-1:eb.maxLength),ej("must be "+eb.format+" format"),eV("}"),"string"!==eM&&eE[eb.format]&&eV("}")}if(Array.isArray(eb.required)){var eW=eU("missing");eV("var %s = 0",eW);var eJ=function(ed){var eg=em(eu,ed);eV("if (%s === undefined) {",eg),ej("is required",eg),eV("%s++",eW),eV("}")};eV("if ((%s)) {","object"!==eM?eS.object(eu):"true"),eb.required.map(eJ),eV("}"),!eR&&(eV("if (%s === 0) {",eW),eB++)}if(eb.uniqueItems&&("array"!==eM&&eV("if (%s) {",eS.array(eu)),eV("if (!(unique(%s, %d))) {",eu,eb.maxItems||-1),ej("must be unique"),eV("}"),"array"!==eM&&eV("}")),eb.enum){var eZ=eb.enum.some(function(eu){return"object"==typeof eu})?function(ed){return"JSON.stringify("+eu+") !== JSON.stringify("+JSON.stringify(ed)+")"}:function(ed){return eu+" !== "+JSON.stringify(ed)};eV("if (%s) {",eb.enum.map(eZ).join(" && ")||"false"),ej("must be an enum value"),eV("}")}if(eb.dependencies&&("object"!==eM&&eV("if (%s) {",eS.object(eu)),Object.keys(eb.dependencies).forEach(function(ed){var eg=eb.dependencies[ed];"string"==typeof eg&&(eg=[eg]);var eE=function(ed){return em(eu,ed)+" !== undefined"};Array.isArray(eg)&&(eV("if (%s !== undefined && !(%s)) {",em(eu,ed),eg.map(eE).join(" && ")||"true"),ej("dependencies not set"),eV("}")),"object"==typeof eg&&(eV("if (%s !== undefined) {",em(eu,ed)),eH(eu,eg,ew,e_,eI.concat(["dependencies",ed])),eV("}"))}),"object"!==eM&&eV("}")),eb.additionalProperties||!1===eb.additionalProperties){"object"!==eM&&eV("if (%s) {",eS.object(eu));var eG=eK(),eY=eU("keys"),eX=function(eu){return eY+"["+eG+"] !== "+JSON.stringify(eu)},eQ=function(eu){return"!"+eF(eu)+".test("+eY+"["+eG+"])"},e0=Object.keys(eC||{}).map(eX).concat(Object.keys(eb.patternProperties||{}).map(eQ)).join(" && ")||"true";eV("var %s = Object.keys(%s)",eY,eu)("for (var %s = 0; %s < %s.length; %s++) {",eG,eG,eY,eG)("if (%s) {",e0),!1===eb.additionalProperties?(e_&&eV("delete %s",eu+"["+eY+"["+eG+"]]"),ej("has additional properties",null,JSON.stringify(eu+".")+" + "+eY+"["+eG+"]")):eH(eu+"["+eY+"["+eG+"]]",eb.additionalProperties,ew,e_,eI.concat(["additionalProperties"])),eV("}")("}"),"object"!==eM&&eV("}")}if(eb.$ref){var e6=eA(eg,eT&&eT.schemas||{},eb.$ref);if(e6){var e8=ed[eb.$ref];e8||(ed[eb.$ref]=function(eu){return e8(eu)},e8=eO(e6,ed,eg,!1,eT));var eW=eU("ref");eN[eW]=e8,eV("if (!(%s(%s))) {",eW,eu),ej("referenced schema does not match"),eV("}")}}if(eb.not){var e5=eU("prev");eV("var %s = errors",e5),eH(eu,eb.not,!1,e_,eI.concat("not")),eV("if (%s === errors) {",e5),ej("negative schema matches"),eV("} else {")("errors = %s",e5)("}")}if(eb.items&&!eD){"array"!==eM&&eV("if (%s) {",eS.array(eu));var eG=eK();eV("for (var %s = 0; %s < %s.length; %s++) {",eG,eG,eu,eG),eH(eu+"["+eG+"]",eb.items,ew,e_,eI.concat("items")),eV("}"),"array"!==eM&&eV("}")}if(eb.patternProperties){"object"!==eM&&eV("if (%s) {",eS.object(eu));var eY=eU("keys"),eG=eK();eV("var %s = Object.keys(%s)",eY,eu)("for (var %s = 0; %s < %s.length; %s++) {",eG,eG,eY,eG),Object.keys(eb.patternProperties).forEach(function(ed){eV("if (%s.test(%s)) {",eF(ed),eY+"["+eG+"]"),eH(eu+"["+eY+"["+eG+"]]",eb.patternProperties[ed],ew,e_,eI.concat(["patternProperties",ed])),eV("}")}),eV("}"),"object"!==eM&&eV("}")}if(eb.pattern){var e9=eF(eb.pattern);"string"!==eM&&eV("if (%s) {",eS.string(eu)),eV("if (!(testLimitedRegex(%s, %s, %d))) {",e9,eu,void 0===eb.maxLength?-1:eb.maxLength),ej("pattern mismatch"),eV("}"),"string"!==eM&&eV("}")}if(eb.allOf&&eb.allOf.forEach(function(ed,eg){eH(eu,ed,ew,e_,eI.concat(["allOf",eg]))}),eb.anyOf&&eb.anyOf.length){var e5=eU("prev");eb.anyOf.forEach(function(ed,eg){0===eg?eV("var %s = errors",e5):eV("if (errors !== %s) {",e5)("errors = %s",e5),eH(eu,ed,!1,!1,eI)}),eb.anyOf.forEach(function(eu,ed){ed&&eV("}")}),eV("if (%s !== errors) {",e5),ej("no schemas match"),eV("}")}if(eb.oneOf&&eb.oneOf.length){var e5=eU("prev"),e7=eU("passes");eV("var %s = errors",e5)("var %s = 0",e7),eb.oneOf.forEach(function(ed,eg){eH(eu,ed,!1,!1,eI),eV("if (%s === errors) {",e5)("%s++",e7)("} else {")("errors = %s",e5)("}")}),eV("if (%s !== 1) {",e7),ej("no (or more than one) schemas match"),eV("}")}for(void 0!==eb.multipleOf&&("number"!==eM&&"integer"!==eM&&eV("if (%s) {",eS.number(eu)),eV("if (!isMultipleOf(%s, %d)) {",eu,eb.multipleOf),ej("has a remainder"),eV("}"),"number"!==eM&&"integer"!==eM&&eV("}")),void 0!==eb.maxProperties&&("object"!==eM&&eV("if (%s) {",eS.object(eu)),eV("if (Object.keys(%s).length > %d) {",eu,eb.maxProperties),ej("has more properties than allowed"),eV("}"),"object"!==eM&&eV("}")),void 0!==eb.minProperties&&("object"!==eM&&eV("if (%s) {",eS.object(eu)),eV("if (Object.keys(%s).length < %d) {",eu,eb.minProperties),ej("has less properties than allowed"),eV("}"),"object"!==eM&&eV("}")),void 0!==eb.maxItems&&("array"!==eM&&eV("if (%s) {",eS.array(eu)),eV("if (%s.length > %d) {",eu,eb.maxItems),ej("has more items than allowed"),eV("}"),"array"!==eM&&eV("}")),void 0!==eb.minItems&&("array"!==eM&&eV("if (%s) {",eS.array(eu)),eV("if (%s.length < %d) {",eu,eb.minItems),ej("has less items than allowed"),eV("}"),"array"!==eM&&eV("}")),void 0!==eb.maxLength&&("string"!==eM&&eV("if (%s) {",eS.string(eu)),eV("if (%s.length > %d) {",eu,eb.maxLength),ej("has longer length than allowed"),eV("}"),"string"!==eM&&eV("}")),void 0!==eb.minLength&&("string"!==eM&&eV("if (%s) {",eS.string(eu)),eV("if (%s.length < %d) {",eu,eb.minLength),ej("has less length than allowed"),eV("}"),"string"!==eM&&eV("}")),void 0!==eb.minimum&&("number"!==eM&&"integer"!==eM&&eV("if (%s) {",eS.number(eu)),eV("if (%s %s %d) {",eu,eb.exclusiveMinimum?"<=":"<",eb.minimum),ej("is less than minimum"),eV("}"),"number"!==eM&&"integer"!==eM&&eV("}")),void 0!==eb.maximum&&("number"!==eM&&"integer"!==eM&&eV("if (%s) {",eS.number(eu)),eV("if (%s %s %d) {",eu,eb.exclusiveMaximum?">=":">",eb.maximum),ej("is more than maximum"),eV("}"),"number"!==eM&&"integer"!==eM&&eV("}")),eC&&Object.keys(eC).forEach(function(ed){Array.isArray(eM)&&-1!==eM.indexOf("null")&&eV("if (%s !== null) {",eu),eH(em(eu,ed),eC[ed],ew,e_,eI.concat(eD?ed:["properties",ed])),Array.isArray(eM)&&-1!==eM.indexOf("null")&&eV("}")});eB--;)eV("}")},eV=eb("function validate(data) {")("if (data === undefined) data = null")("validate.errors = null")("var errors = 0");return eH("data",eu,ew,eT&&eT.filter,[]),eV("return errors === 0")("}"),(eV=eV.toFunction(eN)).errors=null,Object.defineProperty&&Object.defineProperty(eV,"error",{get:function(){return eV.errors?eV.errors.map(function(eu){return eu.field+" "+eu.message}).join("\n"):""}}),eV.toJSON=function(){return eu},eV};eu.exports=function(eu,ed){return"string"==typeof eu&&(eu=JSON.parse(eu)),eO(eu,{},eu,!0,ed)},eu.exports.filter=function(ed,eg){var em=eu.exports(ed,e_(eg,{filter:!0}));return function(eu){return em(eu),eu}}},30892:function(eu){"use strict";function ed(eu){return/^[$A-Z\_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc][$A-Z\_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc0-9\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u0669\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed\u06f0-\u06f9\u0711\u0730-\u074a\u07a6-\u07b0\u07c0-\u07c9\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e4-\u08fe\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09cb-\u09cd\u09d7\u09e2\u09e3\u09e6-\u09ef\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0ce6-\u0cef\u0d02\u0d03\u0d3e-\u0d44\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d62\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0e50-\u0e59\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e\u0f3f\u0f71-\u0f84\u0f86\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102b-\u103e\u1040-\u1049\u1056-\u1059\u105e-\u1060\u1062-\u1064\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b4-\u17d3\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u18a9\u1920-\u192b\u1930-\u193b\u1946-\u194f\u19b0-\u19c0\u19c8\u19c9\u19d0-\u19d9\u1a17-\u1a1b\u1a55-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1b00-\u1b04\u1b34-\u1b44\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1b82\u1ba1-\u1bad\u1bb0-\u1bb9\u1be6-\u1bf3\u1c24-\u1c37\u1c40-\u1c49\u1c50-\u1c59\u1cd0-\u1cd2\u1cd4-\u1ce8\u1ced\u1cf2-\u1cf4\u1dc0-\u1de6\u1dfc-\u1dff\u200c\u200d\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua620-\ua629\ua66f\ua674-\ua67d\ua69f\ua6f0\ua6f1\ua802\ua806\ua80b\ua823-\ua827\ua880\ua881\ua8b4-\ua8c4\ua8d0-\ua8d9\ua8e0-\ua8f1\ua900-\ua909\ua926-\ua92d\ua947-\ua953\ua980-\ua983\ua9b3-\ua9c0\ua9d0-\ua9d9\uaa29-\uaa36\uaa43\uaa4c\uaa4d\uaa50-\uaa59\uaa7b\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uaaeb-\uaaef\uaaf5\uaaf6\uabe3-\uabea\uabec\uabed\uabf0-\uabf9\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f]*$/.test(eu)}eu.exports=ed},58786:function(eu,ed,eg){"use strict";var em,eb=eg(8435),ew=eg(67226)(),e_=eg(72196),eE=eg(50326);if(ew){var eA=eb("RegExp.prototype.exec"),eS={},eI=function(){throw eS},eC={toString:eI,valueOf:eI};"symbol"==typeof Symbol.toPrimitive&&(eC[Symbol.toPrimitive]=eI),em=function(eu){if(!eu||"object"!=typeof eu)return!1;var ed=eE(eu,"lastIndex");if(!(ed&&e_(ed,"value")))return!1;try{eA(eu,eC)}catch(eu){return eu===eS}}}else{var eM=eb("Object.prototype.toString"),eO="[object RegExp]";em=function(eu){return!!eu&&("object"==typeof eu||"function"==typeof eu)&&eM(eu)===eO}}eu.exports=em},50198:function(eu,ed,eg){"use strict";var em=eg(32094);eu.exports=function(eu){return!!em(eu)}},77906:function(eu){var ed={}.toString;eu.exports=Array.isArray||function(eu){return"[object Array]"==ed.call(eu)}},91965:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__,process=__webpack_require__(34406);!function(){"use strict";var ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self,NODE_JS=!root.JS_SHA256_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS?root=__webpack_require__.g:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&module.exports,AMD=__webpack_require__.amdO,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];(root.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(eu){return"[object Array]"===Object.prototype.toString.call(eu)}),ARRAY_BUFFER&&(root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(eu){return"object"==typeof eu&&eu.buffer&&eu.buffer.constructor===ArrayBuffer});var createOutputMethod=function(eu,ed){return function(eg){return new Sha256(ed,!0).update(eg)[eu]()}},createMethod=function(eu){var ed=createOutputMethod("hex",eu);NODE_JS&&(ed=nodeWrap(ed,eu)),ed.create=function(){return new Sha256(eu)},ed.update=function(eu){return ed.create().update(eu)};for(var eg=0;eg<OUTPUT_TYPES.length;++eg){var em=OUTPUT_TYPES[eg];ed[em]=createOutputMethod(em,eu)}return ed},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(eu){if("string"==typeof eu)return crypto.createHash(algorithm).update(eu,"utf8").digest("hex");if(null==eu)throw Error(ERROR);return eu.constructor===ArrayBuffer&&(eu=new Uint8Array(eu)),Array.isArray(eu)||ArrayBuffer.isView(eu)||eu.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(eu)).digest("hex"):method(eu)};return nodeMethod},createHmacOutputMethod=function(eu,ed){return function(eg,em){return new HmacSha256(eg,ed,!0).update(em)[eu]()}},createHmacMethod=function(eu){var ed=createHmacOutputMethod("hex",eu);ed.create=function(ed){return new HmacSha256(ed,eu)},ed.update=function(eu,eg){return ed.create(eu).update(eg)};for(var eg=0;eg<OUTPUT_TYPES.length;++eg){var em=OUTPUT_TYPES[eg];ed[em]=createHmacOutputMethod(em,eu)}return ed};function Sha256(eu,ed){ed?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],eu?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=eu}function HmacSha256(eu,ed,eg){var em,eb=typeof eu;if("string"===eb){var ew,e_=[],eE=eu.length,eA=0;for(em=0;em<eE;++em)(ew=eu.charCodeAt(em))<128?e_[eA++]=ew:ew<2048?(e_[eA++]=192|ew>>6,e_[eA++]=128|63&ew):ew<55296||ew>=57344?(e_[eA++]=224|ew>>12,e_[eA++]=128|ew>>6&63,e_[eA++]=128|63&ew):(ew=65536+((1023&ew)<<10|1023&eu.charCodeAt(++em)),e_[eA++]=240|ew>>18,e_[eA++]=128|ew>>12&63,e_[eA++]=128|ew>>6&63,e_[eA++]=128|63&ew);eu=e_}else if("object"===eb){if(null===eu)throw Error(ERROR);if(ARRAY_BUFFER&&eu.constructor===ArrayBuffer)eu=new Uint8Array(eu);else if(!Array.isArray(eu)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(eu)))throw Error(ERROR)}else throw Error(ERROR);eu.length>64&&(eu=new Sha256(ed,!0).update(eu).array());var eS=[],eI=[];for(em=0;em<64;++em){var eC=eu[em]||0;eS[em]=92^eC,eI[em]=54^eC}Sha256.call(this,ed,eg),this.update(eI),this.oKeyPad=eS,this.inner=!0,this.sharedMemory=eg}Sha256.prototype.update=function(eu){if(!this.finalized){var ed,eg=typeof eu;if("string"!==eg){if("object"===eg){if(null===eu)throw Error(ERROR);if(ARRAY_BUFFER&&eu.constructor===ArrayBuffer)eu=new Uint8Array(eu);else if(!Array.isArray(eu)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(eu)))throw Error(ERROR)}else throw Error(ERROR);ed=!0}for(var em,eb,ew=0,e_=eu.length,eE=this.blocks;ew<e_;){if(this.hashed&&(this.hashed=!1,eE[0]=this.block,eE[16]=eE[1]=eE[2]=eE[3]=eE[4]=eE[5]=eE[6]=eE[7]=eE[8]=eE[9]=eE[10]=eE[11]=eE[12]=eE[13]=eE[14]=eE[15]=0),ed)for(eb=this.start;ew<e_&&eb<64;++ew)eE[eb>>2]|=eu[ew]<<SHIFT[3&eb++];else for(eb=this.start;ew<e_&&eb<64;++ew)(em=eu.charCodeAt(ew))<128?eE[eb>>2]|=em<<SHIFT[3&eb++]:em<2048?(eE[eb>>2]|=(192|em>>6)<<SHIFT[3&eb++],eE[eb>>2]|=(128|63&em)<<SHIFT[3&eb++]):em<55296||em>=57344?(eE[eb>>2]|=(224|em>>12)<<SHIFT[3&eb++],eE[eb>>2]|=(128|em>>6&63)<<SHIFT[3&eb++],eE[eb>>2]|=(128|63&em)<<SHIFT[3&eb++]):(em=65536+((1023&em)<<10|1023&eu.charCodeAt(++ew)),eE[eb>>2]|=(240|em>>18)<<SHIFT[3&eb++],eE[eb>>2]|=(128|em>>12&63)<<SHIFT[3&eb++],eE[eb>>2]|=(128|em>>6&63)<<SHIFT[3&eb++],eE[eb>>2]|=(128|63&em)<<SHIFT[3&eb++]);this.lastByteIndex=eb,this.bytes+=eb-this.start,eb>=64?(this.block=eE[16],this.start=eb-64,this.hash(),this.hashed=!0):this.start=eb}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var eu=this.blocks,ed=this.lastByteIndex;eu[16]=this.block,eu[ed>>2]|=EXTRA[3&ed],this.block=eu[16],ed>=56&&(this.hashed||this.hash(),eu[0]=this.block,eu[16]=eu[1]=eu[2]=eu[3]=eu[4]=eu[5]=eu[6]=eu[7]=eu[8]=eu[9]=eu[10]=eu[11]=eu[12]=eu[13]=eu[14]=eu[15]=0),eu[14]=this.hBytes<<3|this.bytes>>>29,eu[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var eu,ed,eg,em,eb,ew,e_,eE,eA,eS,eI,eC=this.h0,eM=this.h1,eO=this.h2,eT=this.h3,eP=this.h4,eN=this.h5,ek=this.h6,eR=this.h7,eD=this.blocks;for(eu=16;eu<64;++eu)ed=((eb=eD[eu-15])>>>7|eb<<25)^(eb>>>18|eb<<14)^eb>>>3,eg=((eb=eD[eu-2])>>>17|eb<<15)^(eb>>>19|eb<<13)^eb>>>10,eD[eu]=eD[eu-16]+ed+eD[eu-7]+eg<<0;for(eu=0,eI=eM&eO;eu<64;eu+=4)this.first?(this.is224?(eE=300032,eR=(eb=eD[0]-1413257819)-150054599<<0,eT=eb+24177077<<0):(eE=704751109,eR=(eb=eD[0]-210244248)-1521486534<<0,eT=eb+143694565<<0),this.first=!1):(ed=(eC>>>2|eC<<30)^(eC>>>13|eC<<19)^(eC>>>22|eC<<10),eg=(eP>>>6|eP<<26)^(eP>>>11|eP<<21)^(eP>>>25|eP<<7),em=(eE=eC&eM)^eC&eO^eI,eb=eR+eg+(e_=eP&eN^~eP&ek)+K[eu]+eD[eu],ew=ed+em,eR=eT+eb<<0,eT=eb+ew<<0),ed=(eT>>>2|eT<<30)^(eT>>>13|eT<<19)^(eT>>>22|eT<<10),eg=(eR>>>6|eR<<26)^(eR>>>11|eR<<21)^(eR>>>25|eR<<7),em=(eA=eT&eC)^eT&eM^eE,eb=ek+eg+(e_=eR&eP^~eR&eN)+K[eu+1]+eD[eu+1],ew=ed+em,ek=eO+eb<<0,ed=((eO=eb+ew<<0)>>>2|eO<<30)^(eO>>>13|eO<<19)^(eO>>>22|eO<<10),eg=(ek>>>6|ek<<26)^(ek>>>11|ek<<21)^(ek>>>25|ek<<7),em=(eS=eO&eT)^eO&eC^eA,eb=eN+eg+(e_=ek&eR^~ek&eP)+K[eu+2]+eD[eu+2],ew=ed+em,eN=eM+eb<<0,ed=((eM=eb+ew<<0)>>>2|eM<<30)^(eM>>>13|eM<<19)^(eM>>>22|eM<<10),eg=(eN>>>6|eN<<26)^(eN>>>11|eN<<21)^(eN>>>25|eN<<7),em=(eI=eM&eO)^eM&eT^eS,eb=eP+eg+(e_=eN&ek^~eN&eR)+K[eu+3]+eD[eu+3],ew=ed+em,eP=eC+eb<<0,eC=eb+ew<<0;this.h0=this.h0+eC<<0,this.h1=this.h1+eM<<0,this.h2=this.h2+eO<<0,this.h3=this.h3+eT<<0,this.h4=this.h4+eP<<0,this.h5=this.h5+eN<<0,this.h6=this.h6+ek<<0,this.h7=this.h7+eR<<0},Sha256.prototype.hex=function(){this.finalize();var eu=this.h0,ed=this.h1,eg=this.h2,em=this.h3,eb=this.h4,ew=this.h5,e_=this.h6,eE=this.h7,eA=HEX_CHARS[eu>>28&15]+HEX_CHARS[eu>>24&15]+HEX_CHARS[eu>>20&15]+HEX_CHARS[eu>>16&15]+HEX_CHARS[eu>>12&15]+HEX_CHARS[eu>>8&15]+HEX_CHARS[eu>>4&15]+HEX_CHARS[15&eu]+HEX_CHARS[ed>>28&15]+HEX_CHARS[ed>>24&15]+HEX_CHARS[ed>>20&15]+HEX_CHARS[ed>>16&15]+HEX_CHARS[ed>>12&15]+HEX_CHARS[ed>>8&15]+HEX_CHARS[ed>>4&15]+HEX_CHARS[15&ed]+HEX_CHARS[eg>>28&15]+HEX_CHARS[eg>>24&15]+HEX_CHARS[eg>>20&15]+HEX_CHARS[eg>>16&15]+HEX_CHARS[eg>>12&15]+HEX_CHARS[eg>>8&15]+HEX_CHARS[eg>>4&15]+HEX_CHARS[15&eg]+HEX_CHARS[em>>28&15]+HEX_CHARS[em>>24&15]+HEX_CHARS[em>>20&15]+HEX_CHARS[em>>16&15]+HEX_CHARS[em>>12&15]+HEX_CHARS[em>>8&15]+HEX_CHARS[em>>4&15]+HEX_CHARS[15&em]+HEX_CHARS[eb>>28&15]+HEX_CHARS[eb>>24&15]+HEX_CHARS[eb>>20&15]+HEX_CHARS[eb>>16&15]+HEX_CHARS[eb>>12&15]+HEX_CHARS[eb>>8&15]+HEX_CHARS[eb>>4&15]+HEX_CHARS[15&eb]+HEX_CHARS[ew>>28&15]+HEX_CHARS[ew>>24&15]+HEX_CHARS[ew>>20&15]+HEX_CHARS[ew>>16&15]+HEX_CHARS[ew>>12&15]+HEX_CHARS[ew>>8&15]+HEX_CHARS[ew>>4&15]+HEX_CHARS[15&ew]+HEX_CHARS[e_>>28&15]+HEX_CHARS[e_>>24&15]+HEX_CHARS[e_>>20&15]+HEX_CHARS[e_>>16&15]+HEX_CHARS[e_>>12&15]+HEX_CHARS[e_>>8&15]+HEX_CHARS[e_>>4&15]+HEX_CHARS[15&e_];return this.is224||(eA+=HEX_CHARS[eE>>28&15]+HEX_CHARS[eE>>24&15]+HEX_CHARS[eE>>20&15]+HEX_CHARS[eE>>16&15]+HEX_CHARS[eE>>12&15]+HEX_CHARS[eE>>8&15]+HEX_CHARS[eE>>4&15]+HEX_CHARS[15&eE]),eA},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var eu=this.h0,ed=this.h1,eg=this.h2,em=this.h3,eb=this.h4,ew=this.h5,e_=this.h6,eE=this.h7,eA=[eu>>24&255,eu>>16&255,eu>>8&255,255&eu,ed>>24&255,ed>>16&255,ed>>8&255,255&ed,eg>>24&255,eg>>16&255,eg>>8&255,255&eg,em>>24&255,em>>16&255,em>>8&255,255&em,eb>>24&255,eb>>16&255,eb>>8&255,255&eb,ew>>24&255,ew>>16&255,ew>>8&255,255&ew,e_>>24&255,e_>>16&255,e_>>8&255,255&e_];return this.is224||eA.push(eE>>24&255,eE>>16&255,eE>>8&255,255&eE),eA},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var eu=new ArrayBuffer(this.is224?28:32),ed=new DataView(eu);return ed.setUint32(0,this.h0),ed.setUint32(4,this.h1),ed.setUint32(8,this.h2),ed.setUint32(12,this.h3),ed.setUint32(16,this.h4),ed.setUint32(20,this.h5),ed.setUint32(24,this.h6),this.is224||ed.setUint32(28,this.h7),eu},HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var eu=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(eu),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224,AMD&&void 0!==(__WEBPACK_AMD_DEFINE_RESULT__=(function(){return exports}).call(exports,__webpack_require__,exports,module))&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}()},404:function(eu,ed){var eg=/~/,em=/~[01]/g;function eb(eu){switch(eu){case"~1":return"/";case"~0":return"~"}throw Error("Invalid tilde escape: "+eu)}function ew(eu){return eg.test(eu)?eu.replace(em,eb):eu}function e_(eu,ed,eg){for(var em,eb,e_=1,eE=ed.length;e_<eE;){if("constructor"===ed[e_]||"prototype"===ed[e_]||"__proto__"===ed[e_])return eu;if(em=ew(ed[e_++]),eb=eE>e_,void 0===eu[em]&&(Array.isArray(eu)&&"-"===em&&(em=eu.length),eb&&(""!==ed[e_]&&ed[e_]<1/0||"-"===ed[e_]?eu[em]=[]:eu[em]={})),!eb)break;eu=eu[em]}var eA=eu[em];return void 0===eg?delete eu[em]:eu[em]=eg,eA}function eE(eu){if("string"==typeof eu){if(""===(eu=eu.split("/"))[0])return eu}else if(Array.isArray(eu)){for(let ed of eu)if("string"!=typeof ed&&"number"!=typeof ed)throw Error("Invalid JSON pointer. Must be of type string or number.");return eu}throw Error("Invalid JSON pointer.")}function eA(eu,ed){if("object"!=typeof eu)throw Error("Invalid input object.");var eg=(ed=eE(ed)).length;if(1===eg)return eu;for(var em=1;em<eg;){if(eu=eu[ew(ed[em++])],eg===em)return eu;if("object"!=typeof eu||null===eu)return}}function eS(eu,ed,eg){if("object"!=typeof eu)throw Error("Invalid input object.");if(0===(ed=eE(ed)).length)throw Error("Invalid JSON pointer for set.");return e_(eu,ed,eg)}function eI(eu){var ed=eE(eu);return{get:function(eu){return eA(eu,ed)},set:function(eu,eg){return eS(eu,ed,eg)}}}ed.get=eA,ed.set=eS,ed.compile=eI},41427:function(eu,ed){!function(eu,eg){eg(ed)}(0,function(eu){let ed=Symbol("newer"),eg=Symbol("older");class em{constructor(eu,ed){"number"!=typeof eu&&(ed=eu,eu=0),this.size=0,this.limit=eu,this.oldest=this.newest=void 0,this._keymap=new Map,ed&&(this.assign(ed),eu<1&&(this.limit=this.size))}_markEntryAsUsed(eu){eu!==this.newest&&(eu[ed]&&(eu===this.oldest&&(this.oldest=eu[ed]),eu[ed][eg]=eu[eg]),eu[eg]&&(eu[eg][ed]=eu[ed]),eu[ed]=void 0,eu[eg]=this.newest,this.newest&&(this.newest[ed]=eu),this.newest=eu)}assign(eu){let em,ew=this.limit||Number.MAX_VALUE;this._keymap.clear();let e_=eu[Symbol.iterator]();for(let eu=e_.next();!eu.done;eu=e_.next()){let e_=new eb(eu.value[0],eu.value[1]);if(this._keymap.set(e_.key,e_),em?(em[ed]=e_,e_[eg]=em):this.oldest=e_,em=e_,0==ew--)throw Error("overflow")}this.newest=em,this.size=this._keymap.size}get(eu){var ed=this._keymap.get(eu);return ed?(this._markEntryAsUsed(ed),ed.value):void 0}set(eu,em){var ew=this._keymap.get(eu);return ew?(ew.value=em,this._markEntryAsUsed(ew),this):(this._keymap.set(eu,ew=new eb(eu,em)),this.newest?(this.newest[ed]=ew,ew[eg]=this.newest):this.oldest=ew,this.newest=ew,++this.size,this.size>this.limit&&this.shift(),this)}shift(){var eu=this.oldest;if(eu)return this.oldest[ed]?(this.oldest=this.oldest[ed],this.oldest[eg]=void 0):(this.oldest=void 0,this.newest=void 0),eu[ed]=eu[eg]=void 0,this._keymap.delete(eu.key),--this.size,[eu.key,eu.value]}find(eu){let ed=this._keymap.get(eu);return ed?ed.value:void 0}has(eu){return this._keymap.has(eu)}delete(eu){var em=this._keymap.get(eu);return em?(this._keymap.delete(em.key),em[ed]&&em[eg]?(em[eg][ed]=em[ed],em[ed][eg]=em[eg]):em[ed]?(em[ed][eg]=void 0,this.oldest=em[ed]):em[eg]?(em[eg][ed]=void 0,this.newest=em[eg]):this.oldest=this.newest=void 0,this.size--,em.value):void 0}clear(){this.oldest=this.newest=void 0,this.size=0,this._keymap.clear()}keys(){return new e_(this.oldest)}values(){return new eE(this.oldest)}entries(){return this}[Symbol.iterator](){return new ew(this.oldest)}forEach(eu,eg){"object"!=typeof eg&&(eg=this);let em=this.oldest;for(;em;)eu.call(eg,em.value,em.key,this),em=em[ed]}toJSON(){for(var eu=Array(this.size),eg=0,em=this.oldest;em;)eu[eg++]={key:em.key,value:em.value},em=em[ed];return eu}toString(){for(var eu="",eg=this.oldest;eg;)eu+=String(eg.key)+":"+eg.value,(eg=eg[ed])&&(eu+=" < ");return eu}}function eb(eu,em){this.key=eu,this.value=em,this[ed]=void 0,this[eg]=void 0}function ew(eu){this.entry=eu}function e_(eu){this.entry=eu}function eE(eu){this.entry=eu}eu.LRUMap=em,ew.prototype[Symbol.iterator]=function(){return this},ew.prototype.next=function(){let eu=this.entry;return eu?(this.entry=eu[ed],{done:!1,value:[eu.key,eu.value]}):{done:!0,value:void 0}},e_.prototype[Symbol.iterator]=function(){return this},e_.prototype.next=function(){let eu=this.entry;return eu?(this.entry=eu[ed],{done:!1,value:eu.key}):{done:!0,value:void 0}},eE.prototype[Symbol.iterator]=function(){return this},eE.prototype.next=function(){let eu=this.entry;return eu?(this.entry=eu[ed],{done:!1,value:eu.value}):{done:!0,value:void 0}}})},14383:function(eu){"use strict";eu.exports=Math.abs},45736:function(eu){"use strict";eu.exports=Math.floor},68806:function(eu){"use strict";eu.exports=Number.isNaN||function(eu){return eu!=eu}},27130:function(eu){"use strict";eu.exports=Math.max},22400:function(eu){"use strict";eu.exports=Math.min},23654:function(eu){"use strict";eu.exports=Math.pow},96890:function(eu){"use strict";eu.exports=Math.round},82026:function(eu,ed,eg){"use strict";var em=eg(68806);eu.exports=function(eu){return em(eu)||0===eu?eu:eu<0?-1:1}},27993:function(eu,ed,eg){"use strict";var em=eg(91285),eb=eg(93793),ew=eg(77834).Buffer,e_=Array(16);function eE(){eb.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function eA(eu,ed){return eu<<ed|eu>>>32-ed}function eS(eu,ed,eg,em,eb,ew,e_){return eA(eu+(ed&eg|~ed&em)+eb+ew|0,e_)+ed|0}function eI(eu,ed,eg,em,eb,ew,e_){return eA(eu+(ed&em|eg&~em)+eb+ew|0,e_)+ed|0}function eC(eu,ed,eg,em,eb,ew,e_){return eA(eu+(ed^eg^em)+eb+ew|0,e_)+ed|0}function eM(eu,ed,eg,em,eb,ew,e_){return eA(eu+(eg^(ed|~em))+eb+ew|0,e_)+ed|0}em(eE,eb),eE.prototype._update=function(){for(var eu=e_,ed=0;ed<16;++ed)eu[ed]=this._block.readInt32LE(4*ed);var eg=this._a,em=this._b,eb=this._c,ew=this._d;eg=eS(eg,em,eb,ew,eu[0],3614090360,7),ew=eS(ew,eg,em,eb,eu[1],3905402710,12),eb=eS(eb,ew,eg,em,eu[2],606105819,17),em=eS(em,eb,ew,eg,eu[3],3250441966,22),eg=eS(eg,em,eb,ew,eu[4],4118548399,7),ew=eS(ew,eg,em,eb,eu[5],1200080426,12),eb=eS(eb,ew,eg,em,eu[6],2821735955,17),em=eS(em,eb,ew,eg,eu[7],4249261313,22),eg=eS(eg,em,eb,ew,eu[8],1770035416,7),ew=eS(ew,eg,em,eb,eu[9],2336552879,12),eb=eS(eb,ew,eg,em,eu[10],4294925233,17),em=eS(em,eb,ew,eg,eu[11],2304563134,22),eg=eS(eg,em,eb,ew,eu[12],1804603682,7),ew=eS(ew,eg,em,eb,eu[13],4254626195,12),eb=eS(eb,ew,eg,em,eu[14],2792965006,17),em=eS(em,eb,ew,eg,eu[15],1236535329,22),eg=eI(eg,em,eb,ew,eu[1],4129170786,5),ew=eI(ew,eg,em,eb,eu[6],3225465664,9),eb=eI(eb,ew,eg,em,eu[11],643717713,14),em=eI(em,eb,ew,eg,eu[0],3921069994,20),eg=eI(eg,em,eb,ew,eu[5],3593408605,5),ew=eI(ew,eg,em,eb,eu[10],38016083,9),eb=eI(eb,ew,eg,em,eu[15],3634488961,14),em=eI(em,eb,ew,eg,eu[4],3889429448,20),eg=eI(eg,em,eb,ew,eu[9],568446438,5),ew=eI(ew,eg,em,eb,eu[14],3275163606,9),eb=eI(eb,ew,eg,em,eu[3],4107603335,14),em=eI(em,eb,ew,eg,eu[8],1163531501,20),eg=eI(eg,em,eb,ew,eu[13],2850285829,5),ew=eI(ew,eg,em,eb,eu[2],4243563512,9),eb=eI(eb,ew,eg,em,eu[7],1735328473,14),em=eI(em,eb,ew,eg,eu[12],2368359562,20),eg=eC(eg,em,eb,ew,eu[5],4294588738,4),ew=eC(ew,eg,em,eb,eu[8],2272392833,11),eb=eC(eb,ew,eg,em,eu[11],1839030562,16),em=eC(em,eb,ew,eg,eu[14],4259657740,23),eg=eC(eg,em,eb,ew,eu[1],2763975236,4),ew=eC(ew,eg,em,eb,eu[4],1272893353,11),eb=eC(eb,ew,eg,em,eu[7],4139469664,16),em=eC(em,eb,ew,eg,eu[10],3200236656,23),eg=eC(eg,em,eb,ew,eu[13],681279174,4),ew=eC(ew,eg,em,eb,eu[0],3936430074,11),eb=eC(eb,ew,eg,em,eu[3],3572445317,16),em=eC(em,eb,ew,eg,eu[6],76029189,23),eg=eC(eg,em,eb,ew,eu[9],3654602809,4),ew=eC(ew,eg,em,eb,eu[12],3873151461,11),eb=eC(eb,ew,eg,em,eu[15],530742520,16),em=eC(em,eb,ew,eg,eu[2],3299628645,23),eg=eM(eg,em,eb,ew,eu[0],4096336452,6),ew=eM(ew,eg,em,eb,eu[7],1126891415,10),eb=eM(eb,ew,eg,em,eu[14],2878612391,15),em=eM(em,eb,ew,eg,eu[5],4237533241,21),eg=eM(eg,em,eb,ew,eu[12],1700485571,6),ew=eM(ew,eg,em,eb,eu[3],2399980690,10),eb=eM(eb,ew,eg,em,eu[10],4293915773,15),em=eM(em,eb,ew,eg,eu[1],2240044497,21),eg=eM(eg,em,eb,ew,eu[8],1873313359,6),ew=eM(ew,eg,em,eb,eu[15],4264355552,10),eb=eM(eb,ew,eg,em,eu[6],2734768916,15),em=eM(em,eb,ew,eg,eu[13],1309151649,21),eg=eM(eg,em,eb,ew,eu[4],4149444226,6),ew=eM(ew,eg,em,eb,eu[11],3174756917,10),eb=eM(eb,ew,eg,em,eu[2],718787259,15),em=eM(em,eb,ew,eg,eu[9],3951481745,21),this._a=this._a+eg|0,this._b=this._b+em|0,this._c=this._c+eb|0,this._d=this._d+ew|0},eE.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var eu=ew.allocUnsafe(16);return eu.writeInt32LE(this._a,0),eu.writeInt32LE(this._b,4),eu.writeInt32LE(this._c,8),eu.writeInt32LE(this._d,12),eu},eu.exports=eE},93793:function(eu,ed,eg){"use strict";var em=eg(77834).Buffer,eb=eg(67525).Transform;function ew(eu,ed){if(!em.isBuffer(eu)&&"string"!=typeof eu)throw TypeError(ed+" must be a string or a buffer")}function e_(eu){eb.call(this),this._block=em.allocUnsafe(eu),this._blockSize=eu,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}eg(91285)(e_,eb),e_.prototype._transform=function(eu,ed,eg){var em=null;try{this.update(eu,ed)}catch(eu){em=eu}eg(em)},e_.prototype._flush=function(eu){var ed=null;try{this.push(this.digest())}catch(eu){ed=eu}eu(ed)},e_.prototype.update=function(eu,ed){if(ew(eu,"Data"),this._finalized)throw Error("Digest already called");em.isBuffer(eu)||(eu=em.from(eu,ed));for(var eg=this._block,eb=0;this._blockOffset+eu.length-eb>=this._blockSize;){for(var e_=this._blockOffset;e_<this._blockSize;)eg[e_++]=eu[eb++];this._update(),this._blockOffset=0}for(;eb<eu.length;)eg[this._blockOffset++]=eu[eb++];for(var eE=0,eA=8*eu.length;eA>0;++eE)this._length[eE]+=eA,(eA=this._length[eE]/4294967296|0)>0&&(this._length[eE]-=4294967296*eA);return this},e_.prototype._update=function(){throw Error("_update is not implemented")},e_.prototype.digest=function(eu){if(this._finalized)throw Error("Digest already called");this._finalized=!0;var ed=this._digest();void 0!==eu&&(ed=ed.toString(eu)),this._block.fill(0),this._blockOffset=0;for(var eg=0;eg<4;++eg)this._length[eg]=0;return ed},e_.prototype._digest=function(){throw Error("_digest is not implemented")},eu.exports=e_},46676:function(eu,ed,eg){var em=eg(1466),eb=eg(82745);function ew(eu){this.rand=eu||new eb.Rand}eu.exports=ew,ew.create=function(eu){return new ew(eu)},ew.prototype._randbelow=function(eu){var ed=Math.ceil(eu.bitLength()/8);do var eg=new em(this.rand.generate(ed));while(eg.cmp(eu)>=0);return eg},ew.prototype._randrange=function(eu,ed){var eg=ed.sub(eu);return eu.add(this._randbelow(eg))},ew.prototype.test=function(eu,ed,eg){var eb=eu.bitLength(),ew=em.mont(eu),e_=new em(1).toRed(ew);ed||(ed=Math.max(1,eb/48|0));for(var eE=eu.subn(1),eA=0;!eE.testn(eA);eA++);for(var eS=eu.shrn(eA),eI=eE.toRed(ew),eC=!0;ed>0;ed--){var eM=this._randrange(new em(2),eE);eg&&eg(eM);var eO=eM.toRed(ew).redPow(eS);if(0!==eO.cmp(e_)&&0!==eO.cmp(eI)){for(var eT=1;eT<eA;eT++){if(0===(eO=eO.redSqr()).cmp(e_))return!1;if(0===eO.cmp(eI))break}if(eT===eA)return!1}}return eC},ew.prototype.getDivisor=function(eu,ed){var eg=eu.bitLength(),eb=em.mont(eu),ew=new em(1).toRed(eb);ed||(ed=Math.max(1,eg/48|0));for(var e_=eu.subn(1),eE=0;!e_.testn(eE);eE++);for(var eA=eu.shrn(eE),eS=e_.toRed(eb);ed>0;ed--){var eI=this._randrange(new em(2),e_),eC=eu.gcd(eI);if(0!==eC.cmpn(1))return eC;var eM=eI.toRed(eb).redPow(eA);if(0!==eM.cmp(ew)&&0!==eM.cmp(eS)){for(var eO=1;eO<eE;eO++){if(0===(eM=eM.redSqr()).cmp(ew))return eM.fromRed().subn(1).gcd(eu);if(0===eM.cmp(eS))break}if(eO===eE)return(eM=eM.redSqr()).fromRed().subn(1).gcd(eu)}}return!1}},1466:function(eu,ed,eg){!function(eu,ed){"use strict";function em(eu,ed){if(!eu)throw Error(ed||"Assertion failed")}function eb(eu,ed){eu.super_=ed;var eg=function(){};eg.prototype=ed.prototype,eu.prototype=new eg,eu.prototype.constructor=eu}function ew(eu,ed,eg){if(ew.isBN(eu))return eu;this.negative=0,this.words=null,this.length=0,this.red=null,null!==eu&&(("le"===ed||"be"===ed)&&(eg=ed,ed=10),this._init(eu||0,ed||10,eg||"be"))}"object"==typeof eu?eu.exports=ew:ed.BN=ew,ew.BN=ew,ew.wordSize=26;try{eS="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:eg(6024).Buffer}catch(eu){}function e_(eu,ed){var eg=eu.charCodeAt(ed);return eg>=65&&eg<=70?eg-55:eg>=97&&eg<=102?eg-87:eg-48&15}function eE(eu,ed,eg){var em=e_(eu,eg);return eg-1>=ed&&(em|=e_(eu,eg-1)<<4),em}function eA(eu,ed,eg,em){for(var eb=0,ew=Math.min(eu.length,eg),e_=ed;e_<ew;e_++){var eE=eu.charCodeAt(e_)-48;eb*=em,eE>=49?eb+=eE-49+10:eE>=17?eb+=eE-17+10:eb+=eE}return eb}ew.isBN=function(eu){return eu instanceof ew||null!==eu&&"object"==typeof eu&&eu.constructor.wordSize===ew.wordSize&&Array.isArray(eu.words)},ew.max=function(eu,ed){return eu.cmp(ed)>0?eu:ed},ew.min=function(eu,ed){return 0>eu.cmp(ed)?eu:ed},ew.prototype._init=function(eu,ed,eg){if("number"==typeof eu)return this._initNumber(eu,ed,eg);if("object"==typeof eu)return this._initArray(eu,ed,eg);"hex"===ed&&(ed=16),em(ed===(0|ed)&&ed>=2&&ed<=36);var eb=0;"-"===(eu=eu.toString().replace(/\s+/g,""))[0]&&(eb++,this.negative=1),eb<eu.length&&(16===ed?this._parseHex(eu,eb,eg):(this._parseBase(eu,ed,eb),"le"===eg&&this._initArray(this.toArray(),ed,eg)))},ew.prototype._initNumber=function(eu,ed,eg){eu<0&&(this.negative=1,eu=-eu),eu<67108864?(this.words=[67108863&eu],this.length=1):eu<4503599627370496?(this.words=[67108863&eu,eu/67108864&67108863],this.length=2):(em(eu<9007199254740992),this.words=[67108863&eu,eu/67108864&67108863,1],this.length=3),"le"===eg&&this._initArray(this.toArray(),ed,eg)},ew.prototype._initArray=function(eu,ed,eg){if(em("number"==typeof eu.length),eu.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(eu.length/3),this.words=Array(this.length);for(var eb,ew,e_=0;e_<this.length;e_++)this.words[e_]=0;var eE=0;if("be"===eg)for(e_=eu.length-1,eb=0;e_>=0;e_-=3)ew=eu[e_]|eu[e_-1]<<8|eu[e_-2]<<16,this.words[eb]|=ew<<eE&67108863,this.words[eb+1]=ew>>>26-eE&67108863,(eE+=24)>=26&&(eE-=26,eb++);else if("le"===eg)for(e_=0,eb=0;e_<eu.length;e_+=3)ew=eu[e_]|eu[e_+1]<<8|eu[e_+2]<<16,this.words[eb]|=ew<<eE&67108863,this.words[eb+1]=ew>>>26-eE&67108863,(eE+=24)>=26&&(eE-=26,eb++);return this.strip()},ew.prototype._parseHex=function(eu,ed,eg){this.length=Math.ceil((eu.length-ed)/6),this.words=Array(this.length);for(var em,eb=0;eb<this.length;eb++)this.words[eb]=0;var ew=0,e_=0;if("be"===eg)for(eb=eu.length-1;eb>=ed;eb-=2)em=eE(eu,ed,eb)<<ew,this.words[e_]|=67108863&em,ew>=18?(ew-=18,e_+=1,this.words[e_]|=em>>>26):ew+=8;else for(eb=(eu.length-ed)%2==0?ed+1:ed;eb<eu.length;eb+=2)em=eE(eu,ed,eb)<<ew,this.words[e_]|=67108863&em,ew>=18?(ew-=18,e_+=1,this.words[e_]|=em>>>26):ew+=8;this.strip()},ew.prototype._parseBase=function(eu,ed,eg){this.words=[0],this.length=1;for(var em=0,eb=1;eb<=67108863;eb*=ed)em++;em--,eb=eb/ed|0;for(var ew=eu.length-eg,e_=ew%em,eE=Math.min(ew,ew-e_)+eg,eS=0,eI=eg;eI<eE;eI+=em)eS=eA(eu,eI,eI+em,ed),this.imuln(eb),this.words[0]+eS<67108864?this.words[0]+=eS:this._iaddn(eS);if(0!==e_){var eC=1;for(eS=eA(eu,eI,eu.length,ed),eI=0;eI<e_;eI++)eC*=ed;this.imuln(eC),this.words[0]+eS<67108864?this.words[0]+=eS:this._iaddn(eS)}this.strip()},ew.prototype.copy=function(eu){eu.words=Array(this.length);for(var ed=0;ed<this.length;ed++)eu.words[ed]=this.words[ed];eu.length=this.length,eu.negative=this.negative,eu.red=this.red},ew.prototype.clone=function(){var eu=new ew(null);return this.copy(eu),eu},ew.prototype._expand=function(eu){for(;this.length<eu;)this.words[this.length++]=0;return this},ew.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},ew.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},ew.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var eS,eI=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],eC=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],eM=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function eO(eu){for(var ed=Array(eu.bitLength()),eg=0;eg<ed.length;eg++){var em=eg/26|0,eb=eg%26;ed[eg]=(eu.words[em]&1<<eb)>>>eb}return ed}function eT(eu,ed,eg){eg.negative=ed.negative^eu.negative;var em=eu.length+ed.length|0;eg.length=em,em=em-1|0;var eb=0|eu.words[0],ew=0|ed.words[0],e_=eb*ew,eE=67108863&e_,eA=e_/67108864|0;eg.words[0]=eE;for(var eS=1;eS<em;eS++){for(var eI=eA>>>26,eC=67108863&eA,eM=Math.min(eS,ed.length-1),eO=Math.max(0,eS-eu.length+1);eO<=eM;eO++){var eT=eS-eO|0;eI+=(e_=(eb=0|eu.words[eT])*(ew=0|ed.words[eO])+eC)/67108864|0,eC=67108863&e_}eg.words[eS]=0|eC,eA=0|eI}return 0!==eA?eg.words[eS]=0|eA:eg.length--,eg.strip()}ew.prototype.toString=function(eu,ed){if(ed=0|ed||1,16===(eu=eu||10)||"hex"===eu){eg="";for(var eg,eb=0,ew=0,e_=0;e_<this.length;e_++){var eE=this.words[e_],eA=((eE<<eb|ew)&16777215).toString(16);ew=eE>>>24-eb&16777215,(eb+=2)>=26&&(eb-=26,e_--),eg=0!==ew||e_!==this.length-1?eI[6-eA.length]+eA+eg:eA+eg}for(0!==ew&&(eg=ew.toString(16)+eg);eg.length%ed!=0;)eg="0"+eg;return 0!==this.negative&&(eg="-"+eg),eg}if(eu===(0|eu)&&eu>=2&&eu<=36){var eS=eC[eu],eO=eM[eu];eg="";var eT=this.clone();for(eT.negative=0;!eT.isZero();){var eP=eT.modn(eO).toString(eu);eg=(eT=eT.idivn(eO)).isZero()?eP+eg:eI[eS-eP.length]+eP+eg}for(this.isZero()&&(eg="0"+eg);eg.length%ed!=0;)eg="0"+eg;return 0!==this.negative&&(eg="-"+eg),eg}em(!1,"Base should be between 2 and 36")},ew.prototype.toNumber=function(){var eu=this.words[0];return 2===this.length?eu+=67108864*this.words[1]:3===this.length&&1===this.words[2]?eu+=4503599627370496+67108864*this.words[1]:this.length>2&&em(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-eu:eu},ew.prototype.toJSON=function(){return this.toString(16)},ew.prototype.toBuffer=function(eu,ed){return em(void 0!==eS),this.toArrayLike(eS,eu,ed)},ew.prototype.toArray=function(eu,ed){return this.toArrayLike(Array,eu,ed)},ew.prototype.toArrayLike=function(eu,ed,eg){var eb,ew,e_=this.byteLength(),eE=eg||Math.max(1,e_);em(e_<=eE,"byte array longer than desired length"),em(eE>0,"Requested array length <= 0"),this.strip();var eA="le"===ed,eS=new eu(eE),eI=this.clone();if(eA){for(ew=0;!eI.isZero();ew++)eb=eI.andln(255),eI.iushrn(8),eS[ew]=eb;for(;ew<eE;ew++)eS[ew]=0}else{for(ew=0;ew<eE-e_;ew++)eS[ew]=0;for(ew=0;!eI.isZero();ew++)eb=eI.andln(255),eI.iushrn(8),eS[eE-ew-1]=eb}return eS},Math.clz32?ew.prototype._countBits=function(eu){return 32-Math.clz32(eu)}:ew.prototype._countBits=function(eu){var ed=eu,eg=0;return ed>=4096&&(eg+=13,ed>>>=13),ed>=64&&(eg+=7,ed>>>=7),ed>=8&&(eg+=4,ed>>>=4),ed>=2&&(eg+=2,ed>>>=2),eg+ed},ew.prototype._zeroBits=function(eu){if(0===eu)return 26;var ed=eu,eg=0;return(8191&ed)==0&&(eg+=13,ed>>>=13),(127&ed)==0&&(eg+=7,ed>>>=7),(15&ed)==0&&(eg+=4,ed>>>=4),(3&ed)==0&&(eg+=2,ed>>>=2),(1&ed)==0&&eg++,eg},ew.prototype.bitLength=function(){var eu=this.words[this.length-1],ed=this._countBits(eu);return(this.length-1)*26+ed},ew.prototype.zeroBits=function(){if(this.isZero())return 0;for(var eu=0,ed=0;ed<this.length;ed++){var eg=this._zeroBits(this.words[ed]);if(eu+=eg,26!==eg)break}return eu},ew.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},ew.prototype.toTwos=function(eu){return 0!==this.negative?this.abs().inotn(eu).iaddn(1):this.clone()},ew.prototype.fromTwos=function(eu){return this.testn(eu-1)?this.notn(eu).iaddn(1).ineg():this.clone()},ew.prototype.isNeg=function(){return 0!==this.negative},ew.prototype.neg=function(){return this.clone().ineg()},ew.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},ew.prototype.iuor=function(eu){for(;this.length<eu.length;)this.words[this.length++]=0;for(var ed=0;ed<eu.length;ed++)this.words[ed]=this.words[ed]|eu.words[ed];return this.strip()},ew.prototype.ior=function(eu){return em((this.negative|eu.negative)==0),this.iuor(eu)},ew.prototype.or=function(eu){return this.length>eu.length?this.clone().ior(eu):eu.clone().ior(this)},ew.prototype.uor=function(eu){return this.length>eu.length?this.clone().iuor(eu):eu.clone().iuor(this)},ew.prototype.iuand=function(eu){var ed;ed=this.length>eu.length?eu:this;for(var eg=0;eg<ed.length;eg++)this.words[eg]=this.words[eg]&eu.words[eg];return this.length=ed.length,this.strip()},ew.prototype.iand=function(eu){return em((this.negative|eu.negative)==0),this.iuand(eu)},ew.prototype.and=function(eu){return this.length>eu.length?this.clone().iand(eu):eu.clone().iand(this)},ew.prototype.uand=function(eu){return this.length>eu.length?this.clone().iuand(eu):eu.clone().iuand(this)},ew.prototype.iuxor=function(eu){this.length>eu.length?(ed=this,eg=eu):(ed=eu,eg=this);for(var ed,eg,em=0;em<eg.length;em++)this.words[em]=ed.words[em]^eg.words[em];if(this!==ed)for(;em<ed.length;em++)this.words[em]=ed.words[em];return this.length=ed.length,this.strip()},ew.prototype.ixor=function(eu){return em((this.negative|eu.negative)==0),this.iuxor(eu)},ew.prototype.xor=function(eu){return this.length>eu.length?this.clone().ixor(eu):eu.clone().ixor(this)},ew.prototype.uxor=function(eu){return this.length>eu.length?this.clone().iuxor(eu):eu.clone().iuxor(this)},ew.prototype.inotn=function(eu){em("number"==typeof eu&&eu>=0);var ed=0|Math.ceil(eu/26),eg=eu%26;this._expand(ed),eg>0&&ed--;for(var eb=0;eb<ed;eb++)this.words[eb]=67108863&~this.words[eb];return eg>0&&(this.words[eb]=~this.words[eb]&67108863>>26-eg),this.strip()},ew.prototype.notn=function(eu){return this.clone().inotn(eu)},ew.prototype.setn=function(eu,ed){em("number"==typeof eu&&eu>=0);var eg=eu/26|0,eb=eu%26;return this._expand(eg+1),ed?this.words[eg]=this.words[eg]|1<<eb:this.words[eg]=this.words[eg]&~(1<<eb),this.strip()},ew.prototype.iadd=function(eu){if(0!==this.negative&&0===eu.negative)return this.negative=0,ed=this.isub(eu),this.negative^=1,this._normSign();if(0===this.negative&&0!==eu.negative)return eu.negative=0,ed=this.isub(eu),eu.negative=1,ed._normSign();this.length>eu.length?(eg=this,em=eu):(eg=eu,em=this);for(var ed,eg,em,eb=0,ew=0;ew<em.length;ew++)ed=(0|eg.words[ew])+(0|em.words[ew])+eb,this.words[ew]=67108863&ed,eb=ed>>>26;for(;0!==eb&&ew<eg.length;ew++)ed=(0|eg.words[ew])+eb,this.words[ew]=67108863&ed,eb=ed>>>26;if(this.length=eg.length,0!==eb)this.words[this.length]=eb,this.length++;else if(eg!==this)for(;ew<eg.length;ew++)this.words[ew]=eg.words[ew];return this},ew.prototype.add=function(eu){var ed;return 0!==eu.negative&&0===this.negative?(eu.negative=0,ed=this.sub(eu),eu.negative^=1,ed):0===eu.negative&&0!==this.negative?(this.negative=0,ed=eu.sub(this),this.negative=1,ed):this.length>eu.length?this.clone().iadd(eu):eu.clone().iadd(this)},ew.prototype.isub=function(eu){if(0!==eu.negative){eu.negative=0;var ed,eg,em=this.iadd(eu);return eu.negative=1,em._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(eu),this.negative=1,this._normSign();var eb=this.cmp(eu);if(0===eb)return this.negative=0,this.length=1,this.words[0]=0,this;eb>0?(ed=this,eg=eu):(ed=eu,eg=this);for(var ew=0,e_=0;e_<eg.length;e_++)ew=(em=(0|ed.words[e_])-(0|eg.words[e_])+ew)>>26,this.words[e_]=67108863&em;for(;0!==ew&&e_<ed.length;e_++)ew=(em=(0|ed.words[e_])+ew)>>26,this.words[e_]=67108863&em;if(0===ew&&e_<ed.length&&ed!==this)for(;e_<ed.length;e_++)this.words[e_]=ed.words[e_];return this.length=Math.max(this.length,e_),ed!==this&&(this.negative=1),this.strip()},ew.prototype.sub=function(eu){return this.clone().isub(eu)};var eP=function(eu,ed,eg){var em,eb,ew,e_=eu.words,eE=ed.words,eA=eg.words,eS=0,eI=0|e_[0],eC=8191&eI,eM=eI>>>13,eO=0|e_[1],eT=8191&eO,eP=eO>>>13,eN=0|e_[2],ek=8191&eN,eR=eN>>>13,eD=0|e_[3],eB=8191&eD,eU=eD>>>13,eL=0|e_[4],ej=8191&eL,eF=eL>>>13,e$=0|e_[5],eK=8191&e$,eH=e$>>>13,eV=0|e_[6],eG=8191&eV,eW=eV>>>13,eJ=0|e_[7],eZ=8191&eJ,eY=eJ>>>13,eX=0|e_[8],eQ=8191&eX,e0=eX>>>13,e6=0|e_[9],e8=8191&e6,e5=e6>>>13,e9=0|eE[0],e7=8191&e9,tu=e9>>>13,th=0|eE[1],td=8191&th,tg=th>>>13,ty=0|eE[2],tb=8191&ty,tw=ty>>>13,t_=0|eE[3],tE=8191&t_,tA=t_>>>13,tS=0|eE[4],tI=8191&tS,tC=tS>>>13,tO=0|eE[5],tT=8191&tO,tP=tO>>>13,tN=0|eE[6],tR=8191&tN,tD=tN>>>13,tB=0|eE[7],tU=8191&tB,tL=tB>>>13,tj=0|eE[8],tF=8191&tj,t$=tj>>>13,tK=0|eE[9],tq=8191&tK,tz=tK>>>13;eg.negative=eu.negative^ed.negative,eg.length=19;var tH=(eS+(em=Math.imul(eC,e7))|0)+((8191&(eb=(eb=Math.imul(eC,tu))+Math.imul(eM,e7)|0))<<13)|0;eS=((ew=Math.imul(eM,tu))+(eb>>>13)|0)+(tH>>>26)|0,tH&=67108863,em=Math.imul(eT,e7),eb=(eb=Math.imul(eT,tu))+Math.imul(eP,e7)|0,ew=Math.imul(eP,tu);var tV=(eS+(em=em+Math.imul(eC,td)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eC,tg)|0)+Math.imul(eM,td)|0))<<13)|0;eS=((ew=ew+Math.imul(eM,tg)|0)+(eb>>>13)|0)+(tV>>>26)|0,tV&=67108863,em=Math.imul(ek,e7),eb=(eb=Math.imul(ek,tu))+Math.imul(eR,e7)|0,ew=Math.imul(eR,tu),em=em+Math.imul(eT,td)|0,eb=(eb=eb+Math.imul(eT,tg)|0)+Math.imul(eP,td)|0,ew=ew+Math.imul(eP,tg)|0;var tG=(eS+(em=em+Math.imul(eC,tb)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eC,tw)|0)+Math.imul(eM,tb)|0))<<13)|0;eS=((ew=ew+Math.imul(eM,tw)|0)+(eb>>>13)|0)+(tG>>>26)|0,tG&=67108863,em=Math.imul(eB,e7),eb=(eb=Math.imul(eB,tu))+Math.imul(eU,e7)|0,ew=Math.imul(eU,tu),em=em+Math.imul(ek,td)|0,eb=(eb=eb+Math.imul(ek,tg)|0)+Math.imul(eR,td)|0,ew=ew+Math.imul(eR,tg)|0,em=em+Math.imul(eT,tb)|0,eb=(eb=eb+Math.imul(eT,tw)|0)+Math.imul(eP,tb)|0,ew=ew+Math.imul(eP,tw)|0;var tW=(eS+(em=em+Math.imul(eC,tE)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eC,tA)|0)+Math.imul(eM,tE)|0))<<13)|0;eS=((ew=ew+Math.imul(eM,tA)|0)+(eb>>>13)|0)+(tW>>>26)|0,tW&=67108863,em=Math.imul(ej,e7),eb=(eb=Math.imul(ej,tu))+Math.imul(eF,e7)|0,ew=Math.imul(eF,tu),em=em+Math.imul(eB,td)|0,eb=(eb=eb+Math.imul(eB,tg)|0)+Math.imul(eU,td)|0,ew=ew+Math.imul(eU,tg)|0,em=em+Math.imul(ek,tb)|0,eb=(eb=eb+Math.imul(ek,tw)|0)+Math.imul(eR,tb)|0,ew=ew+Math.imul(eR,tw)|0,em=em+Math.imul(eT,tE)|0,eb=(eb=eb+Math.imul(eT,tA)|0)+Math.imul(eP,tE)|0,ew=ew+Math.imul(eP,tA)|0;var tJ=(eS+(em=em+Math.imul(eC,tI)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eC,tC)|0)+Math.imul(eM,tI)|0))<<13)|0;eS=((ew=ew+Math.imul(eM,tC)|0)+(eb>>>13)|0)+(tJ>>>26)|0,tJ&=67108863,em=Math.imul(eK,e7),eb=(eb=Math.imul(eK,tu))+Math.imul(eH,e7)|0,ew=Math.imul(eH,tu),em=em+Math.imul(ej,td)|0,eb=(eb=eb+Math.imul(ej,tg)|0)+Math.imul(eF,td)|0,ew=ew+Math.imul(eF,tg)|0,em=em+Math.imul(eB,tb)|0,eb=(eb=eb+Math.imul(eB,tw)|0)+Math.imul(eU,tb)|0,ew=ew+Math.imul(eU,tw)|0,em=em+Math.imul(ek,tE)|0,eb=(eb=eb+Math.imul(ek,tA)|0)+Math.imul(eR,tE)|0,ew=ew+Math.imul(eR,tA)|0,em=em+Math.imul(eT,tI)|0,eb=(eb=eb+Math.imul(eT,tC)|0)+Math.imul(eP,tI)|0,ew=ew+Math.imul(eP,tC)|0;var tZ=(eS+(em=em+Math.imul(eC,tT)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eC,tP)|0)+Math.imul(eM,tT)|0))<<13)|0;eS=((ew=ew+Math.imul(eM,tP)|0)+(eb>>>13)|0)+(tZ>>>26)|0,tZ&=67108863,em=Math.imul(eG,e7),eb=(eb=Math.imul(eG,tu))+Math.imul(eW,e7)|0,ew=Math.imul(eW,tu),em=em+Math.imul(eK,td)|0,eb=(eb=eb+Math.imul(eK,tg)|0)+Math.imul(eH,td)|0,ew=ew+Math.imul(eH,tg)|0,em=em+Math.imul(ej,tb)|0,eb=(eb=eb+Math.imul(ej,tw)|0)+Math.imul(eF,tb)|0,ew=ew+Math.imul(eF,tw)|0,em=em+Math.imul(eB,tE)|0,eb=(eb=eb+Math.imul(eB,tA)|0)+Math.imul(eU,tE)|0,ew=ew+Math.imul(eU,tA)|0,em=em+Math.imul(ek,tI)|0,eb=(eb=eb+Math.imul(ek,tC)|0)+Math.imul(eR,tI)|0,ew=ew+Math.imul(eR,tC)|0,em=em+Math.imul(eT,tT)|0,eb=(eb=eb+Math.imul(eT,tP)|0)+Math.imul(eP,tT)|0,ew=ew+Math.imul(eP,tP)|0;var tY=(eS+(em=em+Math.imul(eC,tR)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eC,tD)|0)+Math.imul(eM,tR)|0))<<13)|0;eS=((ew=ew+Math.imul(eM,tD)|0)+(eb>>>13)|0)+(tY>>>26)|0,tY&=67108863,em=Math.imul(eZ,e7),eb=(eb=Math.imul(eZ,tu))+Math.imul(eY,e7)|0,ew=Math.imul(eY,tu),em=em+Math.imul(eG,td)|0,eb=(eb=eb+Math.imul(eG,tg)|0)+Math.imul(eW,td)|0,ew=ew+Math.imul(eW,tg)|0,em=em+Math.imul(eK,tb)|0,eb=(eb=eb+Math.imul(eK,tw)|0)+Math.imul(eH,tb)|0,ew=ew+Math.imul(eH,tw)|0,em=em+Math.imul(ej,tE)|0,eb=(eb=eb+Math.imul(ej,tA)|0)+Math.imul(eF,tE)|0,ew=ew+Math.imul(eF,tA)|0,em=em+Math.imul(eB,tI)|0,eb=(eb=eb+Math.imul(eB,tC)|0)+Math.imul(eU,tI)|0,ew=ew+Math.imul(eU,tC)|0,em=em+Math.imul(ek,tT)|0,eb=(eb=eb+Math.imul(ek,tP)|0)+Math.imul(eR,tT)|0,ew=ew+Math.imul(eR,tP)|0,em=em+Math.imul(eT,tR)|0,eb=(eb=eb+Math.imul(eT,tD)|0)+Math.imul(eP,tR)|0,ew=ew+Math.imul(eP,tD)|0;var tX=(eS+(em=em+Math.imul(eC,tU)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eC,tL)|0)+Math.imul(eM,tU)|0))<<13)|0;eS=((ew=ew+Math.imul(eM,tL)|0)+(eb>>>13)|0)+(tX>>>26)|0,tX&=67108863,em=Math.imul(eQ,e7),eb=(eb=Math.imul(eQ,tu))+Math.imul(e0,e7)|0,ew=Math.imul(e0,tu),em=em+Math.imul(eZ,td)|0,eb=(eb=eb+Math.imul(eZ,tg)|0)+Math.imul(eY,td)|0,ew=ew+Math.imul(eY,tg)|0,em=em+Math.imul(eG,tb)|0,eb=(eb=eb+Math.imul(eG,tw)|0)+Math.imul(eW,tb)|0,ew=ew+Math.imul(eW,tw)|0,em=em+Math.imul(eK,tE)|0,eb=(eb=eb+Math.imul(eK,tA)|0)+Math.imul(eH,tE)|0,ew=ew+Math.imul(eH,tA)|0,em=em+Math.imul(ej,tI)|0,eb=(eb=eb+Math.imul(ej,tC)|0)+Math.imul(eF,tI)|0,ew=ew+Math.imul(eF,tC)|0,em=em+Math.imul(eB,tT)|0,eb=(eb=eb+Math.imul(eB,tP)|0)+Math.imul(eU,tT)|0,ew=ew+Math.imul(eU,tP)|0,em=em+Math.imul(ek,tR)|0,eb=(eb=eb+Math.imul(ek,tD)|0)+Math.imul(eR,tR)|0,ew=ew+Math.imul(eR,tD)|0,em=em+Math.imul(eT,tU)|0,eb=(eb=eb+Math.imul(eT,tL)|0)+Math.imul(eP,tU)|0,ew=ew+Math.imul(eP,tL)|0;var tQ=(eS+(em=em+Math.imul(eC,tF)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eC,t$)|0)+Math.imul(eM,tF)|0))<<13)|0;eS=((ew=ew+Math.imul(eM,t$)|0)+(eb>>>13)|0)+(tQ>>>26)|0,tQ&=67108863,em=Math.imul(e8,e7),eb=(eb=Math.imul(e8,tu))+Math.imul(e5,e7)|0,ew=Math.imul(e5,tu),em=em+Math.imul(eQ,td)|0,eb=(eb=eb+Math.imul(eQ,tg)|0)+Math.imul(e0,td)|0,ew=ew+Math.imul(e0,tg)|0,em=em+Math.imul(eZ,tb)|0,eb=(eb=eb+Math.imul(eZ,tw)|0)+Math.imul(eY,tb)|0,ew=ew+Math.imul(eY,tw)|0,em=em+Math.imul(eG,tE)|0,eb=(eb=eb+Math.imul(eG,tA)|0)+Math.imul(eW,tE)|0,ew=ew+Math.imul(eW,tA)|0,em=em+Math.imul(eK,tI)|0,eb=(eb=eb+Math.imul(eK,tC)|0)+Math.imul(eH,tI)|0,ew=ew+Math.imul(eH,tC)|0,em=em+Math.imul(ej,tT)|0,eb=(eb=eb+Math.imul(ej,tP)|0)+Math.imul(eF,tT)|0,ew=ew+Math.imul(eF,tP)|0,em=em+Math.imul(eB,tR)|0,eb=(eb=eb+Math.imul(eB,tD)|0)+Math.imul(eU,tR)|0,ew=ew+Math.imul(eU,tD)|0,em=em+Math.imul(ek,tU)|0,eb=(eb=eb+Math.imul(ek,tL)|0)+Math.imul(eR,tU)|0,ew=ew+Math.imul(eR,tL)|0,em=em+Math.imul(eT,tF)|0,eb=(eb=eb+Math.imul(eT,t$)|0)+Math.imul(eP,tF)|0,ew=ew+Math.imul(eP,t$)|0;var t6=(eS+(em=em+Math.imul(eC,tq)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eC,tz)|0)+Math.imul(eM,tq)|0))<<13)|0;eS=((ew=ew+Math.imul(eM,tz)|0)+(eb>>>13)|0)+(t6>>>26)|0,t6&=67108863,em=Math.imul(e8,td),eb=(eb=Math.imul(e8,tg))+Math.imul(e5,td)|0,ew=Math.imul(e5,tg),em=em+Math.imul(eQ,tb)|0,eb=(eb=eb+Math.imul(eQ,tw)|0)+Math.imul(e0,tb)|0,ew=ew+Math.imul(e0,tw)|0,em=em+Math.imul(eZ,tE)|0,eb=(eb=eb+Math.imul(eZ,tA)|0)+Math.imul(eY,tE)|0,ew=ew+Math.imul(eY,tA)|0,em=em+Math.imul(eG,tI)|0,eb=(eb=eb+Math.imul(eG,tC)|0)+Math.imul(eW,tI)|0,ew=ew+Math.imul(eW,tC)|0,em=em+Math.imul(eK,tT)|0,eb=(eb=eb+Math.imul(eK,tP)|0)+Math.imul(eH,tT)|0,ew=ew+Math.imul(eH,tP)|0,em=em+Math.imul(ej,tR)|0,eb=(eb=eb+Math.imul(ej,tD)|0)+Math.imul(eF,tR)|0,ew=ew+Math.imul(eF,tD)|0,em=em+Math.imul(eB,tU)|0,eb=(eb=eb+Math.imul(eB,tL)|0)+Math.imul(eU,tU)|0,ew=ew+Math.imul(eU,tL)|0,em=em+Math.imul(ek,tF)|0,eb=(eb=eb+Math.imul(ek,t$)|0)+Math.imul(eR,tF)|0,ew=ew+Math.imul(eR,t$)|0;var t8=(eS+(em=em+Math.imul(eT,tq)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eT,tz)|0)+Math.imul(eP,tq)|0))<<13)|0;eS=((ew=ew+Math.imul(eP,tz)|0)+(eb>>>13)|0)+(t8>>>26)|0,t8&=67108863,em=Math.imul(e8,tb),eb=(eb=Math.imul(e8,tw))+Math.imul(e5,tb)|0,ew=Math.imul(e5,tw),em=em+Math.imul(eQ,tE)|0,eb=(eb=eb+Math.imul(eQ,tA)|0)+Math.imul(e0,tE)|0,ew=ew+Math.imul(e0,tA)|0,em=em+Math.imul(eZ,tI)|0,eb=(eb=eb+Math.imul(eZ,tC)|0)+Math.imul(eY,tI)|0,ew=ew+Math.imul(eY,tC)|0,em=em+Math.imul(eG,tT)|0,eb=(eb=eb+Math.imul(eG,tP)|0)+Math.imul(eW,tT)|0,ew=ew+Math.imul(eW,tP)|0,em=em+Math.imul(eK,tR)|0,eb=(eb=eb+Math.imul(eK,tD)|0)+Math.imul(eH,tR)|0,ew=ew+Math.imul(eH,tD)|0,em=em+Math.imul(ej,tU)|0,eb=(eb=eb+Math.imul(ej,tL)|0)+Math.imul(eF,tU)|0,ew=ew+Math.imul(eF,tL)|0,em=em+Math.imul(eB,tF)|0,eb=(eb=eb+Math.imul(eB,t$)|0)+Math.imul(eU,tF)|0,ew=ew+Math.imul(eU,t$)|0;var t5=(eS+(em=em+Math.imul(ek,tq)|0)|0)+((8191&(eb=(eb=eb+Math.imul(ek,tz)|0)+Math.imul(eR,tq)|0))<<13)|0;eS=((ew=ew+Math.imul(eR,tz)|0)+(eb>>>13)|0)+(t5>>>26)|0,t5&=67108863,em=Math.imul(e8,tE),eb=(eb=Math.imul(e8,tA))+Math.imul(e5,tE)|0,ew=Math.imul(e5,tA),em=em+Math.imul(eQ,tI)|0,eb=(eb=eb+Math.imul(eQ,tC)|0)+Math.imul(e0,tI)|0,ew=ew+Math.imul(e0,tC)|0,em=em+Math.imul(eZ,tT)|0,eb=(eb=eb+Math.imul(eZ,tP)|0)+Math.imul(eY,tT)|0,ew=ew+Math.imul(eY,tP)|0,em=em+Math.imul(eG,tR)|0,eb=(eb=eb+Math.imul(eG,tD)|0)+Math.imul(eW,tR)|0,ew=ew+Math.imul(eW,tD)|0,em=em+Math.imul(eK,tU)|0,eb=(eb=eb+Math.imul(eK,tL)|0)+Math.imul(eH,tU)|0,ew=ew+Math.imul(eH,tL)|0,em=em+Math.imul(ej,tF)|0,eb=(eb=eb+Math.imul(ej,t$)|0)+Math.imul(eF,tF)|0,ew=ew+Math.imul(eF,t$)|0;var t4=(eS+(em=em+Math.imul(eB,tq)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eB,tz)|0)+Math.imul(eU,tq)|0))<<13)|0;eS=((ew=ew+Math.imul(eU,tz)|0)+(eb>>>13)|0)+(t4>>>26)|0,t4&=67108863,em=Math.imul(e8,tI),eb=(eb=Math.imul(e8,tC))+Math.imul(e5,tI)|0,ew=Math.imul(e5,tC),em=em+Math.imul(eQ,tT)|0,eb=(eb=eb+Math.imul(eQ,tP)|0)+Math.imul(e0,tT)|0,ew=ew+Math.imul(e0,tP)|0,em=em+Math.imul(eZ,tR)|0,eb=(eb=eb+Math.imul(eZ,tD)|0)+Math.imul(eY,tR)|0,ew=ew+Math.imul(eY,tD)|0,em=em+Math.imul(eG,tU)|0,eb=(eb=eb+Math.imul(eG,tL)|0)+Math.imul(eW,tU)|0,ew=ew+Math.imul(eW,tL)|0,em=em+Math.imul(eK,tF)|0,eb=(eb=eb+Math.imul(eK,t$)|0)+Math.imul(eH,tF)|0,ew=ew+Math.imul(eH,t$)|0;var t9=(eS+(em=em+Math.imul(ej,tq)|0)|0)+((8191&(eb=(eb=eb+Math.imul(ej,tz)|0)+Math.imul(eF,tq)|0))<<13)|0;eS=((ew=ew+Math.imul(eF,tz)|0)+(eb>>>13)|0)+(t9>>>26)|0,t9&=67108863,em=Math.imul(e8,tT),eb=(eb=Math.imul(e8,tP))+Math.imul(e5,tT)|0,ew=Math.imul(e5,tP),em=em+Math.imul(eQ,tR)|0,eb=(eb=eb+Math.imul(eQ,tD)|0)+Math.imul(e0,tR)|0,ew=ew+Math.imul(e0,tD)|0,em=em+Math.imul(eZ,tU)|0,eb=(eb=eb+Math.imul(eZ,tL)|0)+Math.imul(eY,tU)|0,ew=ew+Math.imul(eY,tL)|0,em=em+Math.imul(eG,tF)|0,eb=(eb=eb+Math.imul(eG,t$)|0)+Math.imul(eW,tF)|0,ew=ew+Math.imul(eW,t$)|0;var t7=(eS+(em=em+Math.imul(eK,tq)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eK,tz)|0)+Math.imul(eH,tq)|0))<<13)|0;eS=((ew=ew+Math.imul(eH,tz)|0)+(eb>>>13)|0)+(t7>>>26)|0,t7&=67108863,em=Math.imul(e8,tR),eb=(eb=Math.imul(e8,tD))+Math.imul(e5,tR)|0,ew=Math.imul(e5,tD),em=em+Math.imul(eQ,tU)|0,eb=(eb=eb+Math.imul(eQ,tL)|0)+Math.imul(e0,tU)|0,ew=ew+Math.imul(e0,tL)|0,em=em+Math.imul(eZ,tF)|0,eb=(eb=eb+Math.imul(eZ,t$)|0)+Math.imul(eY,tF)|0,ew=ew+Math.imul(eY,t$)|0;var ru=(eS+(em=em+Math.imul(eG,tq)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eG,tz)|0)+Math.imul(eW,tq)|0))<<13)|0;eS=((ew=ew+Math.imul(eW,tz)|0)+(eb>>>13)|0)+(ru>>>26)|0,ru&=67108863,em=Math.imul(e8,tU),eb=(eb=Math.imul(e8,tL))+Math.imul(e5,tU)|0,ew=Math.imul(e5,tL),em=em+Math.imul(eQ,tF)|0,eb=(eb=eb+Math.imul(eQ,t$)|0)+Math.imul(e0,tF)|0,ew=ew+Math.imul(e0,t$)|0;var rd=(eS+(em=em+Math.imul(eZ,tq)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eZ,tz)|0)+Math.imul(eY,tq)|0))<<13)|0;eS=((ew=ew+Math.imul(eY,tz)|0)+(eb>>>13)|0)+(rd>>>26)|0,rd&=67108863,em=Math.imul(e8,tF),eb=(eb=Math.imul(e8,t$))+Math.imul(e5,tF)|0,ew=Math.imul(e5,t$);var rp=(eS+(em=em+Math.imul(eQ,tq)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eQ,tz)|0)+Math.imul(e0,tq)|0))<<13)|0;eS=((ew=ew+Math.imul(e0,tz)|0)+(eb>>>13)|0)+(rp>>>26)|0,rp&=67108863;var rg=(eS+(em=Math.imul(e8,tq))|0)+((8191&(eb=(eb=Math.imul(e8,tz))+Math.imul(e5,tq)|0))<<13)|0;return eS=((ew=Math.imul(e5,tz))+(eb>>>13)|0)+(rg>>>26)|0,rg&=67108863,eA[0]=tH,eA[1]=tV,eA[2]=tG,eA[3]=tW,eA[4]=tJ,eA[5]=tZ,eA[6]=tY,eA[7]=tX,eA[8]=tQ,eA[9]=t6,eA[10]=t8,eA[11]=t5,eA[12]=t4,eA[13]=t9,eA[14]=t7,eA[15]=ru,eA[16]=rd,eA[17]=rp,eA[18]=rg,0!==eS&&(eA[19]=eS,eg.length++),eg};function eN(eu,ed,eg){eg.negative=ed.negative^eu.negative,eg.length=eu.length+ed.length;for(var em=0,eb=0,ew=0;ew<eg.length-1;ew++){var e_=eb;eb=0;for(var eE=67108863&em,eA=Math.min(ew,ed.length-1),eS=Math.max(0,ew-eu.length+1);eS<=eA;eS++){var eI=ew-eS,eC=(0|eu.words[eI])*(0|ed.words[eS]),eM=67108863&eC;e_=e_+(eC/67108864|0)|0,eE=67108863&(eM=eM+eE|0),eb+=(e_=e_+(eM>>>26)|0)>>>26,e_&=67108863}eg.words[ew]=eE,em=e_,e_=eb}return 0!==em?eg.words[ew]=em:eg.length--,eg.strip()}function ek(eu,ed,eg){return new eR().mulp(eu,ed,eg)}function eR(eu,ed){this.x=eu,this.y=ed}Math.imul||(eP=eT),ew.prototype.mulTo=function(eu,ed){var eg=this.length+eu.length;return 10===this.length&&10===eu.length?eP(this,eu,ed):eg<63?eT(this,eu,ed):eg<1024?eN(this,eu,ed):ek(this,eu,ed)},eR.prototype.makeRBT=function(eu){for(var ed=Array(eu),eg=ew.prototype._countBits(eu)-1,em=0;em<eu;em++)ed[em]=this.revBin(em,eg,eu);return ed},eR.prototype.revBin=function(eu,ed,eg){if(0===eu||eu===eg-1)return eu;for(var em=0,eb=0;eb<ed;eb++)em|=(1&eu)<<ed-eb-1,eu>>=1;return em},eR.prototype.permute=function(eu,ed,eg,em,eb,ew){for(var e_=0;e_<ew;e_++)em[e_]=ed[eu[e_]],eb[e_]=eg[eu[e_]]},eR.prototype.transform=function(eu,ed,eg,em,eb,ew){this.permute(ew,eu,ed,eg,em,eb);for(var e_=1;e_<eb;e_<<=1)for(var eE=e_<<1,eA=Math.cos(2*Math.PI/eE),eS=Math.sin(2*Math.PI/eE),eI=0;eI<eb;eI+=eE)for(var eC=eA,eM=eS,eO=0;eO<e_;eO++){var eT=eg[eI+eO],eP=em[eI+eO],eN=eg[eI+eO+e_],ek=em[eI+eO+e_],eR=eC*eN-eM*ek;ek=eC*ek+eM*eN,eN=eR,eg[eI+eO]=eT+eN,em[eI+eO]=eP+ek,eg[eI+eO+e_]=eT-eN,em[eI+eO+e_]=eP-ek,eO!==eE&&(eR=eA*eC-eS*eM,eM=eA*eM+eS*eC,eC=eR)}},eR.prototype.guessLen13b=function(eu,ed){var eg=1|Math.max(ed,eu),em=1&eg,eb=0;for(eg=eg/2|0;eg;eg>>>=1)eb++;return 1<<eb+1+em},eR.prototype.conjugate=function(eu,ed,eg){if(!(eg<=1))for(var em=0;em<eg/2;em++){var eb=eu[em];eu[em]=eu[eg-em-1],eu[eg-em-1]=eb,eb=ed[em],ed[em]=-ed[eg-em-1],ed[eg-em-1]=-eb}},eR.prototype.normalize13b=function(eu,ed){for(var eg=0,em=0;em<ed/2;em++){var eb=8192*Math.round(eu[2*em+1]/ed)+Math.round(eu[2*em]/ed)+eg;eu[em]=67108863&eb,eg=eb<67108864?0:eb/67108864|0}return eu},eR.prototype.convert13b=function(eu,ed,eg,eb){for(var ew=0,e_=0;e_<ed;e_++)ew+=0|eu[e_],eg[2*e_]=8191&ew,ew>>>=13,eg[2*e_+1]=8191&ew,ew>>>=13;for(e_=2*ed;e_<eb;++e_)eg[e_]=0;em(0===ew),em((-8192&ew)==0)},eR.prototype.stub=function(eu){for(var ed=Array(eu),eg=0;eg<eu;eg++)ed[eg]=0;return ed},eR.prototype.mulp=function(eu,ed,eg){var em=2*this.guessLen13b(eu.length,ed.length),eb=this.makeRBT(em),ew=this.stub(em),e_=Array(em),eE=Array(em),eA=Array(em),eS=Array(em),eI=Array(em),eC=Array(em),eM=eg.words;eM.length=em,this.convert13b(eu.words,eu.length,e_,em),this.convert13b(ed.words,ed.length,eS,em),this.transform(e_,ew,eE,eA,em,eb),this.transform(eS,ew,eI,eC,em,eb);for(var eO=0;eO<em;eO++){var eT=eE[eO]*eI[eO]-eA[eO]*eC[eO];eA[eO]=eE[eO]*eC[eO]+eA[eO]*eI[eO],eE[eO]=eT}return this.conjugate(eE,eA,em),this.transform(eE,eA,eM,ew,em,eb),this.conjugate(eM,ew,em),this.normalize13b(eM,em),eg.negative=eu.negative^ed.negative,eg.length=eu.length+ed.length,eg.strip()},ew.prototype.mul=function(eu){var ed=new ew(null);return ed.words=Array(this.length+eu.length),this.mulTo(eu,ed)},ew.prototype.mulf=function(eu){var ed=new ew(null);return ed.words=Array(this.length+eu.length),ek(this,eu,ed)},ew.prototype.imul=function(eu){return this.clone().mulTo(eu,this)},ew.prototype.imuln=function(eu){em("number"==typeof eu),em(eu<67108864);for(var ed=0,eg=0;eg<this.length;eg++){var eb=(0|this.words[eg])*eu,ew=(67108863&eb)+(67108863&ed);ed>>=26,ed+=(eb/67108864|0)+(ew>>>26),this.words[eg]=67108863&ew}return 0!==ed&&(this.words[eg]=ed,this.length++),this.length=0===eu?1:this.length,this},ew.prototype.muln=function(eu){return this.clone().imuln(eu)},ew.prototype.sqr=function(){return this.mul(this)},ew.prototype.isqr=function(){return this.imul(this.clone())},ew.prototype.pow=function(eu){var ed=eO(eu);if(0===ed.length)return new ew(1);for(var eg=this,em=0;em<ed.length&&0===ed[em];em++,eg=eg.sqr());if(++em<ed.length)for(var eb=eg.sqr();em<ed.length;em++,eb=eb.sqr())0!==ed[em]&&(eg=eg.mul(eb));return eg},ew.prototype.iushln=function(eu){em("number"==typeof eu&&eu>=0);var ed,eg=eu%26,eb=(eu-eg)/26,ew=67108863>>>26-eg<<26-eg;if(0!==eg){var e_=0;for(ed=0;ed<this.length;ed++){var eE=this.words[ed]&ew,eA=(0|this.words[ed])-eE<<eg;this.words[ed]=eA|e_,e_=eE>>>26-eg}e_&&(this.words[ed]=e_,this.length++)}if(0!==eb){for(ed=this.length-1;ed>=0;ed--)this.words[ed+eb]=this.words[ed];for(ed=0;ed<eb;ed++)this.words[ed]=0;this.length+=eb}return this.strip()},ew.prototype.ishln=function(eu){return em(0===this.negative),this.iushln(eu)},ew.prototype.iushrn=function(eu,ed,eg){em("number"==typeof eu&&eu>=0),eb=ed?(ed-ed%26)/26:0;var eb,ew=eu%26,e_=Math.min((eu-ew)/26,this.length),eE=67108863^67108863>>>ew<<ew,eA=eg;if(eb-=e_,eb=Math.max(0,eb),eA){for(var eS=0;eS<e_;eS++)eA.words[eS]=this.words[eS];eA.length=e_}if(0===e_);else if(this.length>e_)for(this.length-=e_,eS=0;eS<this.length;eS++)this.words[eS]=this.words[eS+e_];else this.words[0]=0,this.length=1;var eI=0;for(eS=this.length-1;eS>=0&&(0!==eI||eS>=eb);eS--){var eC=0|this.words[eS];this.words[eS]=eI<<26-ew|eC>>>ew,eI=eC&eE}return eA&&0!==eI&&(eA.words[eA.length++]=eI),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},ew.prototype.ishrn=function(eu,ed,eg){return em(0===this.negative),this.iushrn(eu,ed,eg)},ew.prototype.shln=function(eu){return this.clone().ishln(eu)},ew.prototype.ushln=function(eu){return this.clone().iushln(eu)},ew.prototype.shrn=function(eu){return this.clone().ishrn(eu)},ew.prototype.ushrn=function(eu){return this.clone().iushrn(eu)},ew.prototype.testn=function(eu){em("number"==typeof eu&&eu>=0);var ed=eu%26,eg=(eu-ed)/26,eb=1<<ed;return!(this.length<=eg)&&!!(this.words[eg]&eb)},ew.prototype.imaskn=function(eu){em("number"==typeof eu&&eu>=0);var ed=eu%26,eg=(eu-ed)/26;if(em(0===this.negative,"imaskn works only with positive numbers"),this.length<=eg)return this;if(0!==ed&&eg++,this.length=Math.min(eg,this.length),0!==ed){var eb=67108863^67108863>>>ed<<ed;this.words[this.length-1]&=eb}return this.strip()},ew.prototype.maskn=function(eu){return this.clone().imaskn(eu)},ew.prototype.iaddn=function(eu){return(em("number"==typeof eu),em(eu<67108864),eu<0)?this.isubn(-eu):0!==this.negative?1===this.length&&(0|this.words[0])<eu?(this.words[0]=eu-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(eu),this.negative=1,this):this._iaddn(eu)},ew.prototype._iaddn=function(eu){this.words[0]+=eu;for(var ed=0;ed<this.length&&this.words[ed]>=67108864;ed++)this.words[ed]-=67108864,ed===this.length-1?this.words[ed+1]=1:this.words[ed+1]++;return this.length=Math.max(this.length,ed+1),this},ew.prototype.isubn=function(eu){if(em("number"==typeof eu),em(eu<67108864),eu<0)return this.iaddn(-eu);if(0!==this.negative)return this.negative=0,this.iaddn(eu),this.negative=1,this;if(this.words[0]-=eu,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var ed=0;ed<this.length&&this.words[ed]<0;ed++)this.words[ed]+=67108864,this.words[ed+1]-=1;return this.strip()},ew.prototype.addn=function(eu){return this.clone().iaddn(eu)},ew.prototype.subn=function(eu){return this.clone().isubn(eu)},ew.prototype.iabs=function(){return this.negative=0,this},ew.prototype.abs=function(){return this.clone().iabs()},ew.prototype._ishlnsubmul=function(eu,ed,eg){var eb,ew,e_=eu.length+eg;this._expand(e_);var eE=0;for(eb=0;eb<eu.length;eb++){ew=(0|this.words[eb+eg])+eE;var eA=(0|eu.words[eb])*ed;ew-=67108863&eA,eE=(ew>>26)-(eA/67108864|0),this.words[eb+eg]=67108863&ew}for(;eb<this.length-eg;eb++)eE=(ew=(0|this.words[eb+eg])+eE)>>26,this.words[eb+eg]=67108863&ew;if(0===eE)return this.strip();for(em(-1===eE),eE=0,eb=0;eb<this.length;eb++)eE=(ew=-(0|this.words[eb])+eE)>>26,this.words[eb]=67108863&ew;return this.negative=1,this.strip()},ew.prototype._wordDiv=function(eu,ed){var eg,em=this.length-eu.length,eb=this.clone(),e_=eu,eE=0|e_.words[e_.length-1];0!=(em=26-this._countBits(eE))&&(e_=e_.ushln(em),eb.iushln(em),eE=0|e_.words[e_.length-1]);var eA=eb.length-e_.length;if("mod"!==ed){(eg=new ew(null)).length=eA+1,eg.words=Array(eg.length);for(var eS=0;eS<eg.length;eS++)eg.words[eS]=0}var eI=eb.clone()._ishlnsubmul(e_,1,eA);0===eI.negative&&(eb=eI,eg&&(eg.words[eA]=1));for(var eC=eA-1;eC>=0;eC--){var eM=(0|eb.words[e_.length+eC])*67108864+(0|eb.words[e_.length+eC-1]);for(eM=Math.min(eM/eE|0,67108863),eb._ishlnsubmul(e_,eM,eC);0!==eb.negative;)eM--,eb.negative=0,eb._ishlnsubmul(e_,1,eC),eb.isZero()||(eb.negative^=1);eg&&(eg.words[eC]=eM)}return eg&&eg.strip(),eb.strip(),"div"!==ed&&0!==em&&eb.iushrn(em),{div:eg||null,mod:eb}},ew.prototype.divmod=function(eu,ed,eg){var eb,e_,eE;return(em(!eu.isZero()),this.isZero())?{div:new ew(0),mod:new ew(0)}:0!==this.negative&&0===eu.negative?(eE=this.neg().divmod(eu,ed),"mod"!==ed&&(eb=eE.div.neg()),"div"!==ed&&(e_=eE.mod.neg(),eg&&0!==e_.negative&&e_.iadd(eu)),{div:eb,mod:e_}):0===this.negative&&0!==eu.negative?(eE=this.divmod(eu.neg(),ed),"mod"!==ed&&(eb=eE.div.neg()),{div:eb,mod:eE.mod}):(this.negative&eu.negative)!=0?(eE=this.neg().divmod(eu.neg(),ed),"div"!==ed&&(e_=eE.mod.neg(),eg&&0!==e_.negative&&e_.isub(eu)),{div:eE.div,mod:e_}):eu.length>this.length||0>this.cmp(eu)?{div:new ew(0),mod:this}:1===eu.length?"div"===ed?{div:this.divn(eu.words[0]),mod:null}:"mod"===ed?{div:null,mod:new ew(this.modn(eu.words[0]))}:{div:this.divn(eu.words[0]),mod:new ew(this.modn(eu.words[0]))}:this._wordDiv(eu,ed)},ew.prototype.div=function(eu){return this.divmod(eu,"div",!1).div},ew.prototype.mod=function(eu){return this.divmod(eu,"mod",!1).mod},ew.prototype.umod=function(eu){return this.divmod(eu,"mod",!0).mod},ew.prototype.divRound=function(eu){var ed=this.divmod(eu);if(ed.mod.isZero())return ed.div;var eg=0!==ed.div.negative?ed.mod.isub(eu):ed.mod,em=eu.ushrn(1),eb=eu.andln(1),ew=eg.cmp(em);return ew<0||1===eb&&0===ew?ed.div:0!==ed.div.negative?ed.div.isubn(1):ed.div.iaddn(1)},ew.prototype.modn=function(eu){em(eu<=67108863);for(var ed=67108864%eu,eg=0,eb=this.length-1;eb>=0;eb--)eg=(ed*eg+(0|this.words[eb]))%eu;return eg},ew.prototype.idivn=function(eu){em(eu<=67108863);for(var ed=0,eg=this.length-1;eg>=0;eg--){var eb=(0|this.words[eg])+67108864*ed;this.words[eg]=eb/eu|0,ed=eb%eu}return this.strip()},ew.prototype.divn=function(eu){return this.clone().idivn(eu)},ew.prototype.egcd=function(eu){em(0===eu.negative),em(!eu.isZero());var ed=this,eg=eu.clone();ed=0!==ed.negative?ed.umod(eu):ed.clone();for(var eb=new ew(1),e_=new ew(0),eE=new ew(0),eA=new ew(1),eS=0;ed.isEven()&&eg.isEven();)ed.iushrn(1),eg.iushrn(1),++eS;for(var eI=eg.clone(),eC=ed.clone();!ed.isZero();){for(var eM=0,eO=1;(ed.words[0]&eO)==0&&eM<26;++eM,eO<<=1);if(eM>0)for(ed.iushrn(eM);eM-- >0;)(eb.isOdd()||e_.isOdd())&&(eb.iadd(eI),e_.isub(eC)),eb.iushrn(1),e_.iushrn(1);for(var eT=0,eP=1;(eg.words[0]&eP)==0&&eT<26;++eT,eP<<=1);if(eT>0)for(eg.iushrn(eT);eT-- >0;)(eE.isOdd()||eA.isOdd())&&(eE.iadd(eI),eA.isub(eC)),eE.iushrn(1),eA.iushrn(1);ed.cmp(eg)>=0?(ed.isub(eg),eb.isub(eE),e_.isub(eA)):(eg.isub(ed),eE.isub(eb),eA.isub(e_))}return{a:eE,b:eA,gcd:eg.iushln(eS)}},ew.prototype._invmp=function(eu){em(0===eu.negative),em(!eu.isZero());var ed,eg=this,eb=eu.clone();eg=0!==eg.negative?eg.umod(eu):eg.clone();for(var e_=new ew(1),eE=new ew(0),eA=eb.clone();eg.cmpn(1)>0&&eb.cmpn(1)>0;){for(var eS=0,eI=1;(eg.words[0]&eI)==0&&eS<26;++eS,eI<<=1);if(eS>0)for(eg.iushrn(eS);eS-- >0;)e_.isOdd()&&e_.iadd(eA),e_.iushrn(1);for(var eC=0,eM=1;(eb.words[0]&eM)==0&&eC<26;++eC,eM<<=1);if(eC>0)for(eb.iushrn(eC);eC-- >0;)eE.isOdd()&&eE.iadd(eA),eE.iushrn(1);eg.cmp(eb)>=0?(eg.isub(eb),e_.isub(eE)):(eb.isub(eg),eE.isub(e_))}return 0>(ed=0===eg.cmpn(1)?e_:eE).cmpn(0)&&ed.iadd(eu),ed},ew.prototype.gcd=function(eu){if(this.isZero())return eu.abs();if(eu.isZero())return this.abs();var ed=this.clone(),eg=eu.clone();ed.negative=0,eg.negative=0;for(var em=0;ed.isEven()&&eg.isEven();em++)ed.iushrn(1),eg.iushrn(1);for(;;){for(;ed.isEven();)ed.iushrn(1);for(;eg.isEven();)eg.iushrn(1);var eb=ed.cmp(eg);if(eb<0){var ew=ed;ed=eg,eg=ew}else if(0===eb||0===eg.cmpn(1))break;ed.isub(eg)}return eg.iushln(em)},ew.prototype.invm=function(eu){return this.egcd(eu).a.umod(eu)},ew.prototype.isEven=function(){return(1&this.words[0])==0},ew.prototype.isOdd=function(){return(1&this.words[0])==1},ew.prototype.andln=function(eu){return this.words[0]&eu},ew.prototype.bincn=function(eu){em("number"==typeof eu);var ed=eu%26,eg=(eu-ed)/26,eb=1<<ed;if(this.length<=eg)return this._expand(eg+1),this.words[eg]|=eb,this;for(var ew=eb,e_=eg;0!==ew&&e_<this.length;e_++){var eE=0|this.words[e_];eE+=ew,ew=eE>>>26,eE&=67108863,this.words[e_]=eE}return 0!==ew&&(this.words[e_]=ew,this.length++),this},ew.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},ew.prototype.cmpn=function(eu){var ed,eg=eu<0;if(0!==this.negative&&!eg)return -1;if(0===this.negative&&eg)return 1;if(this.strip(),this.length>1)ed=1;else{eg&&(eu=-eu),em(eu<=67108863,"Number is too big");var eb=0|this.words[0];ed=eb===eu?0:eb<eu?-1:1}return 0!==this.negative?0|-ed:ed},ew.prototype.cmp=function(eu){if(0!==this.negative&&0===eu.negative)return -1;if(0===this.negative&&0!==eu.negative)return 1;var ed=this.ucmp(eu);return 0!==this.negative?0|-ed:ed},ew.prototype.ucmp=function(eu){if(this.length>eu.length)return 1;if(this.length<eu.length)return -1;for(var ed=0,eg=this.length-1;eg>=0;eg--){var em=0|this.words[eg],eb=0|eu.words[eg];if(em!==eb){em<eb?ed=-1:em>eb&&(ed=1);break}}return ed},ew.prototype.gtn=function(eu){return 1===this.cmpn(eu)},ew.prototype.gt=function(eu){return 1===this.cmp(eu)},ew.prototype.gten=function(eu){return this.cmpn(eu)>=0},ew.prototype.gte=function(eu){return this.cmp(eu)>=0},ew.prototype.ltn=function(eu){return -1===this.cmpn(eu)},ew.prototype.lt=function(eu){return -1===this.cmp(eu)},ew.prototype.lten=function(eu){return 0>=this.cmpn(eu)},ew.prototype.lte=function(eu){return 0>=this.cmp(eu)},ew.prototype.eqn=function(eu){return 0===this.cmpn(eu)},ew.prototype.eq=function(eu){return 0===this.cmp(eu)},ew.red=function(eu){return new e$(eu)},ew.prototype.toRed=function(eu){return em(!this.red,"Already a number in reduction context"),em(0===this.negative,"red works only with positives"),eu.convertTo(this)._forceRed(eu)},ew.prototype.fromRed=function(){return em(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},ew.prototype._forceRed=function(eu){return this.red=eu,this},ew.prototype.forceRed=function(eu){return em(!this.red,"Already a number in reduction context"),this._forceRed(eu)},ew.prototype.redAdd=function(eu){return em(this.red,"redAdd works only with red numbers"),this.red.add(this,eu)},ew.prototype.redIAdd=function(eu){return em(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,eu)},ew.prototype.redSub=function(eu){return em(this.red,"redSub works only with red numbers"),this.red.sub(this,eu)},ew.prototype.redISub=function(eu){return em(this.red,"redISub works only with red numbers"),this.red.isub(this,eu)},ew.prototype.redShl=function(eu){return em(this.red,"redShl works only with red numbers"),this.red.shl(this,eu)},ew.prototype.redMul=function(eu){return em(this.red,"redMul works only with red numbers"),this.red._verify2(this,eu),this.red.mul(this,eu)},ew.prototype.redIMul=function(eu){return em(this.red,"redMul works only with red numbers"),this.red._verify2(this,eu),this.red.imul(this,eu)},ew.prototype.redSqr=function(){return em(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},ew.prototype.redISqr=function(){return em(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},ew.prototype.redSqrt=function(){return em(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},ew.prototype.redInvm=function(){return em(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},ew.prototype.redNeg=function(){return em(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},ew.prototype.redPow=function(eu){return em(this.red&&!eu.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,eu)};var eD={k256:null,p224:null,p192:null,p25519:null};function eB(eu,ed){this.name=eu,this.p=new ew(ed,16),this.n=this.p.bitLength(),this.k=new ew(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function eU(){eB.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function eL(){eB.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function ej(){eB.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function eF(){eB.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function e$(eu){if("string"==typeof eu){var ed=ew._prime(eu);this.m=ed.p,this.prime=ed}else em(eu.gtn(1),"modulus must be greater than 1"),this.m=eu,this.prime=null}function eK(eu){e$.call(this,eu),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new ew(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}eB.prototype._tmp=function(){var eu=new ew(null);return eu.words=Array(Math.ceil(this.n/13)),eu},eB.prototype.ireduce=function(eu){var ed,eg=eu;do this.split(eg,this.tmp),ed=(eg=(eg=this.imulK(eg)).iadd(this.tmp)).bitLength();while(ed>this.n);var em=ed<this.n?-1:eg.ucmp(this.p);return 0===em?(eg.words[0]=0,eg.length=1):em>0?eg.isub(this.p):void 0!==eg.strip?eg.strip():eg._strip(),eg},eB.prototype.split=function(eu,ed){eu.iushrn(this.n,0,ed)},eB.prototype.imulK=function(eu){return eu.imul(this.k)},eb(eU,eB),eU.prototype.split=function(eu,ed){for(var eg=4194303,em=Math.min(eu.length,9),eb=0;eb<em;eb++)ed.words[eb]=eu.words[eb];if(ed.length=em,eu.length<=9){eu.words[0]=0,eu.length=1;return}var ew=eu.words[9];for(eb=10,ed.words[ed.length++]=ew&eg;eb<eu.length;eb++){var e_=0|eu.words[eb];eu.words[eb-10]=(e_&eg)<<4|ew>>>22,ew=e_}ew>>>=22,eu.words[eb-10]=ew,0===ew&&eu.length>10?eu.length-=10:eu.length-=9},eU.prototype.imulK=function(eu){eu.words[eu.length]=0,eu.words[eu.length+1]=0,eu.length+=2;for(var ed=0,eg=0;eg<eu.length;eg++){var em=0|eu.words[eg];ed+=977*em,eu.words[eg]=67108863&ed,ed=64*em+(ed/67108864|0)}return 0===eu.words[eu.length-1]&&(eu.length--,0===eu.words[eu.length-1]&&eu.length--),eu},eb(eL,eB),eb(ej,eB),eb(eF,eB),eF.prototype.imulK=function(eu){for(var ed=0,eg=0;eg<eu.length;eg++){var em=(0|eu.words[eg])*19+ed,eb=67108863&em;em>>>=26,eu.words[eg]=eb,ed=em}return 0!==ed&&(eu.words[eu.length++]=ed),eu},ew._prime=function(eu){var ed;if(eD[eu])return eD[eu];if("k256"===eu)ed=new eU;else if("p224"===eu)ed=new eL;else if("p192"===eu)ed=new ej;else if("p25519"===eu)ed=new eF;else throw Error("Unknown prime "+eu);return eD[eu]=ed,ed},e$.prototype._verify1=function(eu){em(0===eu.negative,"red works only with positives"),em(eu.red,"red works only with red numbers")},e$.prototype._verify2=function(eu,ed){em((eu.negative|ed.negative)==0,"red works only with positives"),em(eu.red&&eu.red===ed.red,"red works only with red numbers")},e$.prototype.imod=function(eu){return this.prime?this.prime.ireduce(eu)._forceRed(this):eu.umod(this.m)._forceRed(this)},e$.prototype.neg=function(eu){return eu.isZero()?eu.clone():this.m.sub(eu)._forceRed(this)},e$.prototype.add=function(eu,ed){this._verify2(eu,ed);var eg=eu.add(ed);return eg.cmp(this.m)>=0&&eg.isub(this.m),eg._forceRed(this)},e$.prototype.iadd=function(eu,ed){this._verify2(eu,ed);var eg=eu.iadd(ed);return eg.cmp(this.m)>=0&&eg.isub(this.m),eg},e$.prototype.sub=function(eu,ed){this._verify2(eu,ed);var eg=eu.sub(ed);return 0>eg.cmpn(0)&&eg.iadd(this.m),eg._forceRed(this)},e$.prototype.isub=function(eu,ed){this._verify2(eu,ed);var eg=eu.isub(ed);return 0>eg.cmpn(0)&&eg.iadd(this.m),eg},e$.prototype.shl=function(eu,ed){return this._verify1(eu),this.imod(eu.ushln(ed))},e$.prototype.imul=function(eu,ed){return this._verify2(eu,ed),this.imod(eu.imul(ed))},e$.prototype.mul=function(eu,ed){return this._verify2(eu,ed),this.imod(eu.mul(ed))},e$.prototype.isqr=function(eu){return this.imul(eu,eu.clone())},e$.prototype.sqr=function(eu){return this.mul(eu,eu)},e$.prototype.sqrt=function(eu){if(eu.isZero())return eu.clone();var ed=this.m.andln(3);if(em(ed%2==1),3===ed){var eg=this.m.add(new ew(1)).iushrn(2);return this.pow(eu,eg)}for(var eb=this.m.subn(1),e_=0;!eb.isZero()&&0===eb.andln(1);)e_++,eb.iushrn(1);em(!eb.isZero());var eE=new ew(1).toRed(this),eA=eE.redNeg(),eS=this.m.subn(1).iushrn(1),eI=this.m.bitLength();for(eI=new ew(2*eI*eI).toRed(this);0!==this.pow(eI,eS).cmp(eA);)eI.redIAdd(eA);for(var eC=this.pow(eI,eb),eM=this.pow(eu,eb.addn(1).iushrn(1)),eO=this.pow(eu,eb),eT=e_;0!==eO.cmp(eE);){for(var eP=eO,eN=0;0!==eP.cmp(eE);eN++)eP=eP.redSqr();em(eN<eT);var ek=this.pow(eC,new ew(1).iushln(eT-eN-1));eM=eM.redMul(ek),eC=ek.redSqr(),eO=eO.redMul(eC),eT=eN}return eM},e$.prototype.invm=function(eu){var ed=eu._invmp(this.m);return 0!==ed.negative?(ed.negative=0,this.imod(ed).redNeg()):this.imod(ed)},e$.prototype.pow=function(eu,ed){if(ed.isZero())return new ew(1).toRed(this);if(0===ed.cmpn(1))return eu.clone();var eg=4,em=Array(16);em[0]=new ew(1).toRed(this),em[1]=eu;for(var eb=2;eb<em.length;eb++)em[eb]=this.mul(em[eb-1],eu);var e_=em[0],eE=0,eA=0,eS=ed.bitLength()%26;for(0===eS&&(eS=26),eb=ed.length-1;eb>=0;eb--){for(var eI=ed.words[eb],eC=eS-1;eC>=0;eC--){var eM=eI>>eC&1;if(e_!==em[0]&&(e_=this.sqr(e_)),0===eM&&0===eE){eA=0;continue}eE<<=1,eE|=eM,(++eA===eg||0===eb&&0===eC)&&(e_=this.mul(e_,em[eE]),eA=0,eE=0)}eS=26}return e_},e$.prototype.convertTo=function(eu){var ed=eu.umod(this.m);return ed===eu?ed.clone():ed},e$.prototype.convertFrom=function(eu){var ed=eu.clone();return ed.red=null,ed},ew.mont=function(eu){return new eK(eu)},eb(eK,e$),eK.prototype.convertTo=function(eu){return this.imod(eu.ushln(this.shift))},eK.prototype.convertFrom=function(eu){var ed=this.imod(eu.mul(this.rinv));return ed.red=null,ed},eK.prototype.imul=function(eu,ed){if(eu.isZero()||ed.isZero())return eu.words[0]=0,eu.length=1,eu;var eg=eu.imul(ed),em=eg.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),eb=eg.isub(em).iushrn(this.shift),ew=eb;return eb.cmp(this.m)>=0?ew=eb.isub(this.m):0>eb.cmpn(0)&&(ew=eb.iadd(this.m)),ew._forceRed(this)},eK.prototype.mul=function(eu,ed){if(eu.isZero()||ed.isZero())return new ew(0)._forceRed(this);var eg=eu.mul(ed),em=eg.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),eb=eg.isub(em).iushrn(this.shift),e_=eb;return eb.cmp(this.m)>=0?e_=eb.isub(this.m):0>eb.cmpn(0)&&(e_=eb.iadd(this.m)),e_._forceRed(this)},eK.prototype.invm=function(eu){return this.imod(eu._invmp(this.m).mul(this.r2))._forceRed(this)}}(eu=eg.nmd(eu),this)},79561:function(eu){function ed(eu,ed){if(!eu)throw Error(ed||"Assertion failed")}eu.exports=ed,ed.equal=function(eu,ed,eg){if(eu!=ed)throw Error(eg||"Assertion failed: "+eu+" != "+ed)}},43022:function(eu,ed){"use strict";var eg=ed;function em(eu,ed){if(Array.isArray(eu))return eu.slice();if(!eu)return[];var eg=[];if("string"!=typeof eu){for(var em=0;em<eu.length;em++)eg[em]=0|eu[em];return eg}if("hex"===ed){(eu=eu.replace(/[^a-z0-9]+/ig,"")).length%2!=0&&(eu="0"+eu);for(var em=0;em<eu.length;em+=2)eg.push(parseInt(eu[em]+eu[em+1],16))}else for(var em=0;em<eu.length;em++){var eb=eu.charCodeAt(em),ew=eb>>8,e_=255&eb;ew?eg.push(ew,e_):eg.push(e_)}return eg}function eb(eu){return 1===eu.length?"0"+eu:eu}function ew(eu){for(var ed="",eg=0;eg<eu.length;eg++)ed+=eb(eu[eg].toString(16));return ed}eg.toArray=em,eg.zero2=eb,eg.toHex=ew,eg.encode=function(eu,ed){return"hex"===ed?ew(eu):eu}},16599:function(eu){!function(ed,eg){eu.exports=eg()}(0,function(){"use strict";/*!
   * mustache.js - Logic-less {{mustache}} templates with JavaScript
   * http://github.com/janl/mustache.js
   */var eu=Object.prototype.toString,ed=Array.isArray||function(ed){return"[object Array]"===eu.call(ed)};function eg(eu){return"function"==typeof eu}function em(eu){return ed(eu)?"array":typeof eu}function eb(eu){return eu.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function ew(eu,ed){return null!=eu&&"object"==typeof eu&&ed in eu}function e_(eu,ed){return null!=eu&&"object"!=typeof eu&&eu.hasOwnProperty&&eu.hasOwnProperty(ed)}var eE=RegExp.prototype.test;function eA(eu,ed){return eE.call(eu,ed)}var eS=/\S/;function eI(eu){return!eA(eS,eu)}var eC={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function eM(eu){return String(eu).replace(/[&<>"'`=\/]/g,function(eu){return eC[eu]})}var eO=/\s*/,eT=/\s+/,eP=/\s*=/,eN=/\s*\}/,ek=/#|\^|\/|>|\{|&|=|!/;function eR(eu,eg){if(!eu)return[];var em,ew,e_,eE,eA,eS,eC,eM,eR,eL=!1,ej=[],e$=[],eK=[],eH=!1,eV=!1,eG="",eW=0;function eJ(){if(eH&&!eV)for(;eK.length;)delete e$[eK.pop()];else eK=[];eH=!1,eV=!1}function eZ(eu){if("string"==typeof eu&&(eu=eu.split(eT,2)),!ed(eu)||2!==eu.length)throw Error("Invalid tags: "+eu);em=RegExp(eb(eu[0])+"\\s*"),ew=RegExp("\\s*"+eb(eu[1])),e_=RegExp("\\s*"+eb("}"+eu[1]))}eZ(eg||eF.tags);for(var eY=new eU(eu);!eY.eos();){if(eE=eY.pos,eS=eY.scanUntil(em))for(var eX=0,eQ=eS.length;eX<eQ;++eX)eI(eC=eS.charAt(eX))?(eK.push(e$.length),eG+=eC):(eV=!0,eL=!0,eG+=" "),e$.push(["text",eC,eE,eE+1]),eE+=1,"\n"===eC&&(eJ(),eG="",eW=0,eL=!1);if(!eY.scan(em))break;if(eH=!0,eA=eY.scan(ek)||"name",eY.scan(eO),"="===eA?(eS=eY.scanUntil(eP),eY.scan(eP),eY.scanUntil(ew)):"{"===eA?(eS=eY.scanUntil(e_),eY.scan(eN),eY.scanUntil(ew),eA="&"):eS=eY.scanUntil(ew),!eY.scan(ew))throw Error("Unclosed tag at "+eY.pos);if(eM=">"==eA?[eA,eS,eE,eY.pos,eG,eW,eL]:[eA,eS,eE,eY.pos],eW++,e$.push(eM),"#"===eA||"^"===eA)ej.push(eM);else if("/"===eA){if(!(eR=ej.pop()))throw Error('Unopened section "'+eS+'" at '+eE);if(eR[1]!==eS)throw Error('Unclosed section "'+eR[1]+'" at '+eE)}else"name"===eA||"{"===eA||"&"===eA?eV=!0:"="===eA&&eZ(eS)}if(eJ(),eR=ej.pop())throw Error('Unclosed section "'+eR[1]+'" at '+eY.pos);return eB(eD(e$))}function eD(eu){for(var ed,eg,em=[],eb=0,ew=eu.length;eb<ew;++eb)(ed=eu[eb])&&("text"===ed[0]&&eg&&"text"===eg[0]?(eg[1]+=ed[1],eg[3]=ed[3]):(em.push(ed),eg=ed));return em}function eB(eu){for(var ed,eg=[],em=eg,eb=[],ew=0,e_=eu.length;ew<e_;++ew)switch((ed=eu[ew])[0]){case"#":case"^":em.push(ed),eb.push(ed),em=ed[4]=[];break;case"/":eb.pop()[5]=ed[2],em=eb.length>0?eb[eb.length-1][4]:eg;break;default:em.push(ed)}return eg}function eU(eu){this.string=eu,this.tail=eu,this.pos=0}function eL(eu,ed){this.view=eu,this.cache={".":this.view},this.parent=ed}function ej(){this.templateCache={_cache:{},set:function(eu,ed){this._cache[eu]=ed},get:function(eu){return this._cache[eu]},clear:function(){this._cache={}}}}eU.prototype.eos=function(){return""===this.tail},eU.prototype.scan=function(eu){var ed=this.tail.match(eu);if(!ed||0!==ed.index)return"";var eg=ed[0];return this.tail=this.tail.substring(eg.length),this.pos+=eg.length,eg},eU.prototype.scanUntil=function(eu){var ed,eg=this.tail.search(eu);switch(eg){case -1:ed=this.tail,this.tail="";break;case 0:ed="";break;default:ed=this.tail.substring(0,eg),this.tail=this.tail.substring(eg)}return this.pos+=ed.length,ed},eL.prototype.push=function(eu){return new eL(eu,this)},eL.prototype.lookup=function(eu){var ed=this.cache;if(ed.hasOwnProperty(eu))em=ed[eu];else{for(var em,eb,eE,eA,eS=this,eI=!1;eS;){if(eu.indexOf(".")>0)for(eb=eS.view,eE=eu.split("."),eA=0;null!=eb&&eA<eE.length;)eA===eE.length-1&&(eI=ew(eb,eE[eA])||e_(eb,eE[eA])),eb=eb[eE[eA++]];else eb=eS.view[eu],eI=ew(eS.view,eu);if(eI){em=eb;break}eS=eS.parent}ed[eu]=em}return eg(em)&&(em=em.call(this.view)),em},ej.prototype.clearCache=function(){void 0!==this.templateCache&&this.templateCache.clear()},ej.prototype.parse=function(eu,ed){var eg=this.templateCache,em=eu+":"+(ed||eF.tags).join(":"),eb=void 0!==eg,ew=eb?eg.get(em):void 0;return void 0==ew&&(ew=eR(eu,ed),eb&&eg.set(em,ew)),ew},ej.prototype.render=function(eu,ed,eg,em){var eb=this.parse(eu,em),ew=ed instanceof eL?ed:new eL(ed,void 0);return this.renderTokens(eb,ew,eg,eu,em)},ej.prototype.renderTokens=function(eu,ed,eg,em,eb){for(var ew,e_,eE,eA="",eS=0,eI=eu.length;eS<eI;++eS)eE=void 0,"#"===(e_=(ew=eu[eS])[0])?eE=this.renderSection(ew,ed,eg,em):"^"===e_?eE=this.renderInverted(ew,ed,eg,em):">"===e_?eE=this.renderPartial(ew,ed,eg,eb):"&"===e_?eE=this.unescapedValue(ew,ed):"name"===e_?eE=this.escapedValue(ew,ed):"text"===e_&&(eE=this.rawValue(ew)),void 0!==eE&&(eA+=eE);return eA},ej.prototype.renderSection=function(eu,em,eb,ew){var e_=this,eE="",eA=em.lookup(eu[1]);function eS(eu){return e_.render(eu,em,eb)}if(eA){if(ed(eA))for(var eI=0,eC=eA.length;eI<eC;++eI)eE+=this.renderTokens(eu[4],em.push(eA[eI]),eb,ew);else if("object"==typeof eA||"string"==typeof eA||"number"==typeof eA)eE+=this.renderTokens(eu[4],em.push(eA),eb,ew);else if(eg(eA)){if("string"!=typeof ew)throw Error("Cannot use higher-order sections without the original template");null!=(eA=eA.call(em.view,ew.slice(eu[3],eu[5]),eS))&&(eE+=eA)}else eE+=this.renderTokens(eu[4],em,eb,ew);return eE}},ej.prototype.renderInverted=function(eu,eg,em,eb){var ew=eg.lookup(eu[1]);if(!ew||ed(ew)&&0===ew.length)return this.renderTokens(eu[4],eg,em,eb)},ej.prototype.indentPartial=function(eu,ed,eg){for(var em=ed.replace(/[^ \t]/g,""),eb=eu.split("\n"),ew=0;ew<eb.length;ew++)eb[ew].length&&(ew>0||!eg)&&(eb[ew]=em+eb[ew]);return eb.join("\n")},ej.prototype.renderPartial=function(eu,ed,em,eb){if(em){var ew=eg(em)?em(eu[1]):em[eu[1]];if(null!=ew){var e_=eu[6],eE=eu[5],eA=eu[4],eS=ew;return 0==eE&&eA&&(eS=this.indentPartial(ew,eA,e_)),this.renderTokens(this.parse(eS,eb),ed,em,eS)}}},ej.prototype.unescapedValue=function(eu,ed){var eg=ed.lookup(eu[1]);if(null!=eg)return eg},ej.prototype.escapedValue=function(eu,ed){var eg=ed.lookup(eu[1]);if(null!=eg)return eF.escape(eg)},ej.prototype.rawValue=function(eu){return eu[1]};var eF={name:"mustache.js",version:"4.0.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(cache){e$.templateCache=cache},get templateCache(){return e$.templateCache}},e$=new ej;return eF.clearCache=function(){return e$.clearCache()},eF.parse=function(eu,ed){return e$.parse(eu,ed)},eF.render=function(eu,ed,eg,eb){if("string"!=typeof eu)throw TypeError('Invalid template! Template should be a "string" but "'+em(eu)+'" was given as the first argument for mustache#render(template, view, partials)');return e$.render(eu,ed,eg,eb)},eF.escape=eM,eF.Scanner=eU,eF.Context=eL,eF.Writer=ej,eF})},14943:function(eu,ed){"use strict";var eg,em,eb;Object.defineProperty(ed,"__esModule",{value:!0}),ed.AbiSerializationType=ed.AbiFunctionModifier=ed.AbiFunctionKind=ed.SCHEMA_VERSION=void 0,ed.SCHEMA_VERSION="0.4.0",function(eu){eu.View="view",eu.Call="call"}(eg=ed.AbiFunctionKind||(ed.AbiFunctionKind={})),function(eu){eu.Init="init",eu.Private="private",eu.Payable="payable"}(em=ed.AbiFunctionModifier||(ed.AbiFunctionModifier={})),function(eu){eu.Json="json",eu.Borsh="borsh"}(eb=ed.AbiSerializationType||(ed.AbiSerializationType={}))},32855:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.Account=void 0;var em=eg(96113);Object.defineProperty(ed,"Account",{enumerable:!0,get:function(){return em.Account}})},5939:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.UrlAccountCreator=ed.LocalAccountCreator=ed.AccountCreator=void 0;var em=eg(96113);Object.defineProperty(ed,"AccountCreator",{enumerable:!0,get:function(){return em.AccountCreator}}),Object.defineProperty(ed,"LocalAccountCreator",{enumerable:!0,get:function(){return em.LocalAccountCreator}}),Object.defineProperty(ed,"UrlAccountCreator",{enumerable:!0,get:function(){return em.UrlAccountCreator}})},92413:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.MultisigStateStatus=ed.MultisigDeleteRequestRejectionError=ed.MULTISIG_CONFIRM_METHODS=ed.MULTISIG_CHANGE_METHODS=ed.MULTISIG_DEPOSIT=ed.MULTISIG_GAS=ed.MULTISIG_ALLOWANCE=ed.MULTISIG_STORAGE_KEY=ed.AccountMultisig=ed.Account2FA=void 0;var em=eg(96113);Object.defineProperty(ed,"Account2FA",{enumerable:!0,get:function(){return em.Account2FA}}),Object.defineProperty(ed,"AccountMultisig",{enumerable:!0,get:function(){return em.AccountMultisig}}),Object.defineProperty(ed,"MULTISIG_STORAGE_KEY",{enumerable:!0,get:function(){return em.MULTISIG_STORAGE_KEY}}),Object.defineProperty(ed,"MULTISIG_ALLOWANCE",{enumerable:!0,get:function(){return em.MULTISIG_ALLOWANCE}}),Object.defineProperty(ed,"MULTISIG_GAS",{enumerable:!0,get:function(){return em.MULTISIG_GAS}}),Object.defineProperty(ed,"MULTISIG_DEPOSIT",{enumerable:!0,get:function(){return em.MULTISIG_DEPOSIT}}),Object.defineProperty(ed,"MULTISIG_CHANGE_METHODS",{enumerable:!0,get:function(){return em.MULTISIG_CHANGE_METHODS}}),Object.defineProperty(ed,"MULTISIG_CONFIRM_METHODS",{enumerable:!0,get:function(){return em.MULTISIG_CONFIRM_METHODS}}),Object.defineProperty(ed,"MultisigDeleteRequestRejectionError",{enumerable:!0,get:function(){return em.MultisigDeleteRequestRejectionError}}),Object.defineProperty(ed,"MultisigStateStatus",{enumerable:!0,get:function(){return em.MultisigStateStatus}})},57400:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.connect=void 0;let em=eg(72688);async function eb(eu){return new em.Near(eu)}ed.connect=eb},22754:function(eu,ed,eg){"use strict";var em=this&&this.__createBinding||(Object.create?function(eu,ed,eg,em){void 0===em&&(em=eg);var eb=Object.getOwnPropertyDescriptor(ed,eg);(!eb||("get"in eb?!ed.__esModule:eb.writable||eb.configurable))&&(eb={enumerable:!0,get:function(){return ed[eg]}}),Object.defineProperty(eu,em,eb)}:function(eu,ed,eg,em){void 0===em&&(em=eg),eu[em]=ed[eg]}),eb=this&&this.__setModuleDefault||(Object.create?function(eu,ed){Object.defineProperty(eu,"default",{enumerable:!0,value:ed})}:function(eu,ed){eu.default=ed}),ew=this&&this.__importStar||function(eu){if(eu&&eu.__esModule)return eu;var ed={};if(null!=eu)for(var eg in eu)"default"!==eg&&Object.prototype.hasOwnProperty.call(eu,eg)&&em(ed,eu,eg);return eb(ed,eu),ed},e_=this&&this.__exportStar||function(eu,ed){for(var eg in eu)"default"===eg||Object.prototype.hasOwnProperty.call(ed,eg)||em(ed,eu,eg)};Object.defineProperty(ed,"__esModule",{value:!0}),ed.keyStores=void 0,ed.keyStores=ew(eg(14268)),e_(eg(96988),ed),e_(eg(57400),ed)},96988:function(eu,ed,eg){"use strict";var em=this&&this.__createBinding||(Object.create?function(eu,ed,eg,em){void 0===em&&(em=eg);var eb=Object.getOwnPropertyDescriptor(ed,eg);(!eb||("get"in eb?!ed.__esModule:eb.writable||eb.configurable))&&(eb={enumerable:!0,get:function(){return ed[eg]}}),Object.defineProperty(eu,em,eb)}:function(eu,ed,eg,em){void 0===em&&(em=eg),eu[em]=ed[eg]}),eb=this&&this.__setModuleDefault||(Object.create?function(eu,ed){Object.defineProperty(eu,"default",{enumerable:!0,value:ed})}:function(eu,ed){eu.default=ed}),ew=this&&this.__importStar||function(eu){if(eu&&eu.__esModule)return eu;var ed={};if(null!=eu)for(var eg in eu)"default"!==eg&&Object.prototype.hasOwnProperty.call(eu,eg)&&em(ed,eu,eg);return eb(ed,eu),ed};Object.defineProperty(ed,"__esModule",{value:!0}),ed.WalletConnection=ed.ConnectedWalletAccount=ed.Near=ed.KeyPair=ed.Signer=ed.InMemorySigner=ed.Contract=ed.Connection=ed.Account=ed.multisig=ed.validators=ed.transactions=ed.utils=ed.providers=ed.accountCreator=void 0;let e_=ew(eg(9091));ed.providers=e_;let eE=ew(eg(10080));ed.utils=eE;let eA=ew(eg(36320));ed.transactions=eA;let eS=ew(eg(77625));ed.validators=eS;let eI=eg(32855);Object.defineProperty(ed,"Account",{enumerable:!0,get:function(){return eI.Account}});let eC=ew(eg(92413));ed.multisig=eC;let eM=ew(eg(5939));ed.accountCreator=eM;let eO=eg(38471);Object.defineProperty(ed,"Connection",{enumerable:!0,get:function(){return eO.Connection}});let eT=eg(30921);Object.defineProperty(ed,"Signer",{enumerable:!0,get:function(){return eT.Signer}}),Object.defineProperty(ed,"InMemorySigner",{enumerable:!0,get:function(){return eT.InMemorySigner}});let eP=eg(45991);Object.defineProperty(ed,"Contract",{enumerable:!0,get:function(){return eP.Contract}});let eN=eg(84109);Object.defineProperty(ed,"KeyPair",{enumerable:!0,get:function(){return eN.KeyPair}});let ek=eg(72688);Object.defineProperty(ed,"Near",{enumerable:!0,get:function(){return ek.Near}});let eR=eg(55915);Object.defineProperty(ed,"ConnectedWalletAccount",{enumerable:!0,get:function(){return eR.ConnectedWalletAccount}}),Object.defineProperty(ed,"WalletConnection",{enumerable:!0,get:function(){return eR.WalletConnection}})},38471:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.Connection=void 0;var em=eg(96113);Object.defineProperty(ed,"Connection",{enumerable:!0,get:function(){return em.Connection}})},45991:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.Contract=void 0;var em=eg(96113);Object.defineProperty(ed,"Contract",{enumerable:!0,get:function(){return em.Contract}})},14268:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.MergeKeyStore=ed.BrowserLocalStorageKeyStore=ed.InMemoryKeyStore=ed.KeyStore=void 0;let em=eg(64308);Object.defineProperty(ed,"KeyStore",{enumerable:!0,get:function(){return em.KeyStore}});let eb=eg(11435);Object.defineProperty(ed,"InMemoryKeyStore",{enumerable:!0,get:function(){return eb.InMemoryKeyStore}});let ew=eg(45820);Object.defineProperty(ed,"BrowserLocalStorageKeyStore",{enumerable:!0,get:function(){return ew.BrowserLocalStorageKeyStore}});let e_=eg(19577);Object.defineProperty(ed,"MergeKeyStore",{enumerable:!0,get:function(){return e_.MergeKeyStore}})},45820:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.BrowserLocalStorageKeyStore=void 0;var em=eg(15345);Object.defineProperty(ed,"BrowserLocalStorageKeyStore",{enumerable:!0,get:function(){return em.BrowserLocalStorageKeyStore}})},11435:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.InMemoryKeyStore=void 0;var em=eg(90496);Object.defineProperty(ed,"InMemoryKeyStore",{enumerable:!0,get:function(){return em.InMemoryKeyStore}})},64308:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.KeyStore=void 0;var em=eg(90496);Object.defineProperty(ed,"KeyStore",{enumerable:!0,get:function(){return em.KeyStore}})},19577:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.MergeKeyStore=void 0;var em=eg(90496);Object.defineProperty(ed,"MergeKeyStore",{enumerable:!0,get:function(){return em.MergeKeyStore}})},72688:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.Near=void 0;var em=eg(24123);Object.defineProperty(ed,"Near",{enumerable:!0,get:function(){return em.Near}})},36524:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.FailoverRpcProvider=void 0;var em=eg(99488);Object.defineProperty(ed,"FailoverRpcProvider",{enumerable:!0,get:function(){return em.FailoverRpcProvider}})},9091:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.ErrorContext=ed.TypedError=ed.getTransactionLastResult=ed.FinalExecutionStatusBasic=ed.FailoverRpcProvider=ed.JsonRpcProvider=ed.Provider=void 0;let em=eg(47120);Object.defineProperty(ed,"Provider",{enumerable:!0,get:function(){return em.Provider}}),Object.defineProperty(ed,"getTransactionLastResult",{enumerable:!0,get:function(){return em.getTransactionLastResult}}),Object.defineProperty(ed,"FinalExecutionStatusBasic",{enumerable:!0,get:function(){return em.FinalExecutionStatusBasic}});let eb=eg(4212);Object.defineProperty(ed,"JsonRpcProvider",{enumerable:!0,get:function(){return eb.JsonRpcProvider}}),Object.defineProperty(ed,"TypedError",{enumerable:!0,get:function(){return eb.TypedError}}),Object.defineProperty(ed,"ErrorContext",{enumerable:!0,get:function(){return eb.ErrorContext}});let ew=eg(36524);Object.defineProperty(ed,"FailoverRpcProvider",{enumerable:!0,get:function(){return ew.FailoverRpcProvider}})},4212:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.JsonRpcProvider=ed.TypedError=ed.ErrorContext=void 0;var em=eg(18878);Object.defineProperty(ed,"ErrorContext",{enumerable:!0,get:function(){return em.ErrorContext}}),Object.defineProperty(ed,"TypedError",{enumerable:!0,get:function(){return em.TypedError}});var eb=eg(99488);Object.defineProperty(ed,"JsonRpcProvider",{enumerable:!0,get:function(){return eb.JsonRpcProvider}})},47120:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.FinalExecutionStatusBasic=ed.ExecutionStatusBasic=ed.IdType=ed.Provider=ed.getTransactionLastResult=void 0;var em=eg(88265);Object.defineProperty(ed,"getTransactionLastResult",{enumerable:!0,get:function(){return em.getTransactionLastResult}});var eb=eg(99488);Object.defineProperty(ed,"Provider",{enumerable:!0,get:function(){return eb.Provider}});var ew=eg(18878);Object.defineProperty(ed,"IdType",{enumerable:!0,get:function(){return ew.IdType}}),Object.defineProperty(ed,"ExecutionStatusBasic",{enumerable:!0,get:function(){return ew.ExecutionStatusBasic}}),Object.defineProperty(ed,"FinalExecutionStatusBasic",{enumerable:!0,get:function(){return ew.FinalExecutionStatusBasic}})},30921:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.Signer=ed.InMemorySigner=void 0;var em=eg(26390);Object.defineProperty(ed,"InMemorySigner",{enumerable:!0,get:function(){return em.InMemorySigner}}),Object.defineProperty(ed,"Signer",{enumerable:!0,get:function(){return em.Signer}})},36320:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.transfer=ed.stake=ed.functionCallAccessKey=ed.functionCall=ed.fullAccessKey=ed.deployContract=ed.deleteKey=ed.deleteAccount=ed.createAccount=ed.addKey=ed.encodeTransaction=ed.encodeDelegateAction=ed.encodeSignedDelegate=ed.Transaction=ed.SignedTransaction=ed.Signature=ed.signTransaction=ed.createTransaction=ed.SCHEMA=ed.Transfer=ed.Stake=ed.FunctionCallPermission=ed.FunctionCall=ed.FullAccessPermission=ed.DeployContract=ed.DeleteKey=ed.DeleteAccount=ed.CreateAccount=ed.AddKey=ed.AccessKeyPermission=ed.AccessKey=ed.Action=ed.stringifyJsonOrBytes=void 0;var em=eg(6287);Object.defineProperty(ed,"stringifyJsonOrBytes",{enumerable:!0,get:function(){return em.stringifyJsonOrBytes}}),Object.defineProperty(ed,"Action",{enumerable:!0,get:function(){return em.Action}}),Object.defineProperty(ed,"AccessKey",{enumerable:!0,get:function(){return em.AccessKey}}),Object.defineProperty(ed,"AccessKeyPermission",{enumerable:!0,get:function(){return em.AccessKeyPermission}}),Object.defineProperty(ed,"AddKey",{enumerable:!0,get:function(){return em.AddKey}}),Object.defineProperty(ed,"CreateAccount",{enumerable:!0,get:function(){return em.CreateAccount}}),Object.defineProperty(ed,"DeleteAccount",{enumerable:!0,get:function(){return em.DeleteAccount}}),Object.defineProperty(ed,"DeleteKey",{enumerable:!0,get:function(){return em.DeleteKey}}),Object.defineProperty(ed,"DeployContract",{enumerable:!0,get:function(){return em.DeployContract}}),Object.defineProperty(ed,"FullAccessPermission",{enumerable:!0,get:function(){return em.FullAccessPermission}}),Object.defineProperty(ed,"FunctionCall",{enumerable:!0,get:function(){return em.FunctionCall}}),Object.defineProperty(ed,"FunctionCallPermission",{enumerable:!0,get:function(){return em.FunctionCallPermission}}),Object.defineProperty(ed,"Stake",{enumerable:!0,get:function(){return em.Stake}}),Object.defineProperty(ed,"Transfer",{enumerable:!0,get:function(){return em.Transfer}}),Object.defineProperty(ed,"SCHEMA",{enumerable:!0,get:function(){return em.SCHEMA}}),Object.defineProperty(ed,"createTransaction",{enumerable:!0,get:function(){return em.createTransaction}}),Object.defineProperty(ed,"signTransaction",{enumerable:!0,get:function(){return em.signTransaction}}),Object.defineProperty(ed,"Signature",{enumerable:!0,get:function(){return em.Signature}}),Object.defineProperty(ed,"SignedTransaction",{enumerable:!0,get:function(){return em.SignedTransaction}}),Object.defineProperty(ed,"Transaction",{enumerable:!0,get:function(){return em.Transaction}}),Object.defineProperty(ed,"encodeSignedDelegate",{enumerable:!0,get:function(){return em.encodeSignedDelegate}}),Object.defineProperty(ed,"encodeDelegateAction",{enumerable:!0,get:function(){return em.encodeDelegateAction}}),Object.defineProperty(ed,"encodeTransaction",{enumerable:!0,get:function(){return em.encodeTransaction}});let eb=eg(6287),ew=(eu,ed)=>eb.actionCreators.addKey(eu,ed);ed.addKey=ew;let e_=()=>eb.actionCreators.createAccount();ed.createAccount=e_;let eE=eu=>eb.actionCreators.deleteAccount(eu);ed.deleteAccount=eE;let eA=eu=>eb.actionCreators.deleteKey(eu);ed.deleteKey=eA;let eS=eu=>eb.actionCreators.deployContract(eu);ed.deployContract=eS;let eI=()=>eb.actionCreators.fullAccessKey();ed.fullAccessKey=eI;let eC=(eu,ed,eg,em,ew,e_)=>eb.actionCreators.functionCall(eu,ed,eg,em,ew,e_);ed.functionCall=eC;let eM=(eu,ed,eg)=>eb.actionCreators.functionCallAccessKey(eu,ed,eg);ed.functionCallAccessKey=eM;let eO=(eu,ed)=>eb.actionCreators.stake(eu,ed);ed.stake=eO;let eT=eu=>eb.actionCreators.transfer(eu);ed.transfer=eT},50477:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.Enum=void 0;var em=eg(18878);Object.defineProperty(ed,"Enum",{enumerable:!0,get:function(){return em.Enum}})},87726:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.parseNearAmount=ed.formatNearAmount=ed.NEAR_NOMINATION_EXP=ed.NEAR_NOMINATION=void 0;var em=eg(88265);Object.defineProperty(ed,"NEAR_NOMINATION",{enumerable:!0,get:function(){return em.NEAR_NOMINATION}}),Object.defineProperty(ed,"NEAR_NOMINATION_EXP",{enumerable:!0,get:function(){return em.NEAR_NOMINATION_EXP}}),Object.defineProperty(ed,"formatNearAmount",{enumerable:!0,get:function(){return em.formatNearAmount}}),Object.defineProperty(ed,"parseNearAmount",{enumerable:!0,get:function(){return em.parseNearAmount}})},10080:function(eu,ed,eg){"use strict";var em=this&&this.__createBinding||(Object.create?function(eu,ed,eg,em){void 0===em&&(em=eg);var eb=Object.getOwnPropertyDescriptor(ed,eg);(!eb||("get"in eb?!ed.__esModule:eb.writable||eb.configurable))&&(eb={enumerable:!0,get:function(){return ed[eg]}}),Object.defineProperty(eu,em,eb)}:function(eu,ed,eg,em){void 0===em&&(em=eg),eu[em]=ed[eg]}),eb=this&&this.__setModuleDefault||(Object.create?function(eu,ed){Object.defineProperty(eu,"default",{enumerable:!0,value:ed})}:function(eu,ed){eu.default=ed}),ew=this&&this.__importStar||function(eu){if(eu&&eu.__esModule)return eu;var ed={};if(null!=eu)for(var eg in eu)"default"!==eg&&Object.prototype.hasOwnProperty.call(eu,eg)&&em(ed,eu,eg);return eb(ed,eu),ed};Object.defineProperty(ed,"__esModule",{value:!0}),ed.Logger=ed.rpc_errors=ed.KeyPairEd25519=ed.KeyPair=ed.PublicKey=ed.format=ed.enums=ed.serialize=ed.key_pair=void 0;let e_=ew(eg(84109));ed.key_pair=e_;let eE=ew(eg(62551));ed.serialize=eE;let eA=ew(eg(50477));ed.enums=eA;let eS=ew(eg(87726));ed.format=eS;let eI=ew(eg(64107));ed.rpc_errors=eI;let eC=eg(84109);Object.defineProperty(ed,"PublicKey",{enumerable:!0,get:function(){return eC.PublicKey}}),Object.defineProperty(ed,"KeyPair",{enumerable:!0,get:function(){return eC.KeyPair}}),Object.defineProperty(ed,"KeyPairEd25519",{enumerable:!0,get:function(){return eC.KeyPairEd25519}});let eM=eg(81050);Object.defineProperty(ed,"Logger",{enumerable:!0,get:function(){return eM.Logger}})},84109:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.PublicKey=ed.KeyType=ed.KeyPairEd25519=ed.KeyPair=void 0;var em=eg(91593);Object.defineProperty(ed,"KeyPair",{enumerable:!0,get:function(){return em.KeyPair}}),Object.defineProperty(ed,"KeyPairEd25519",{enumerable:!0,get:function(){return em.KeyPairEd25519}}),Object.defineProperty(ed,"KeyType",{enumerable:!0,get:function(){return em.KeyType}}),Object.defineProperty(ed,"PublicKey",{enumerable:!0,get:function(){return em.PublicKey}})},81050:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.Logger=void 0;var em=eg(88265);Object.defineProperty(ed,"Logger",{enumerable:!0,get:function(){return em.Logger}})},64107:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.ServerError=ed.getErrorTypeFromErrorMessage=ed.formatError=ed.parseResultError=ed.parseRpcError=void 0;var em=eg(88265);Object.defineProperty(ed,"parseRpcError",{enumerable:!0,get:function(){return em.parseRpcError}}),Object.defineProperty(ed,"parseResultError",{enumerable:!0,get:function(){return em.parseResultError}}),Object.defineProperty(ed,"formatError",{enumerable:!0,get:function(){return em.formatError}}),Object.defineProperty(ed,"getErrorTypeFromErrorMessage",{enumerable:!0,get:function(){return em.getErrorTypeFromErrorMessage}}),Object.defineProperty(ed,"ServerError",{enumerable:!0,get:function(){return em.ServerError}})},62551:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.base_decode=ed.base_encode=ed.deserialize=ed.serialize=void 0;var em=eg(58625);Object.defineProperty(ed,"serialize",{enumerable:!0,get:function(){return em.serialize}}),Object.defineProperty(ed,"deserialize",{enumerable:!0,get:function(){return em.deserialize}});var eb=eg(88265);Object.defineProperty(ed,"base_encode",{enumerable:!0,get:function(){return eb.baseEncode}}),Object.defineProperty(ed,"base_decode",{enumerable:!0,get:function(){return eb.baseDecode}})},77625:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.findSeatPrice=ed.diffEpochValidators=void 0;var em=eg(88265);Object.defineProperty(ed,"diffEpochValidators",{enumerable:!0,get:function(){return em.diffEpochValidators}}),Object.defineProperty(ed,"findSeatPrice",{enumerable:!0,get:function(){return em.findSeatPrice}})},55915:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.WalletConnection=ed.ConnectedWalletAccount=void 0;var em=eg(24123);Object.defineProperty(ed,"ConnectedWalletAccount",{enumerable:!0,get:function(){return em.ConnectedWalletAccount}}),Object.defineProperty(ed,"WalletConnection",{enumerable:!0,get:function(){return em.WalletConnection}})},81849:function(eu,ed){"use strict";function eg(eu){if(!Number.isSafeInteger(eu)||eu<0)throw Error(`Wrong positive integer: ${eu}`)}function em(eu){if("boolean"!=typeof eu)throw Error(`Expected boolean, not ${eu}`)}function eb(eu){return eu instanceof Uint8Array||null!=eu&&"object"==typeof eu&&"Uint8Array"===eu.constructor.name}function ew(eu,...ed){if(!eb(eu))throw Error("Expected Uint8Array");if(ed.length>0&&!ed.includes(eu.length))throw Error(`Expected Uint8Array of length ${ed}, not of length=${eu.length}`)}function e_(eu){if("function"!=typeof eu||"function"!=typeof eu.create)throw Error("Hash should be wrapped by utils.wrapConstructor");eg(eu.outputLen),eg(eu.blockLen)}function eE(eu,ed=!0){if(eu.destroyed)throw Error("Hash instance has been destroyed");if(ed&&eu.finished)throw Error("Hash#digest() has already been called")}function eA(eu,ed){ew(eu);let eg=ed.outputLen;if(eu.length<eg)throw Error(`digestInto() expects output buffer of length at least ${eg}`)}Object.defineProperty(ed,"__esModule",{value:!0}),ed.output=ed.exists=ed.hash=ed.bytes=ed.bool=ed.number=void 0,ed.number=eg,ed.bool=em,ed.bytes=ew,ed.hash=e_,ed.exists=eE,ed.output=eA;let eS={number:eg,bool:em,bytes:ew,hash:e_,exists:eE,output:eA};ed.default=eS},46908:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.SHA2=void 0;let em=eg(81849),eb=eg(80218);function ew(eu,ed,eg,em){if("function"==typeof eu.setBigUint64)return eu.setBigUint64(ed,eg,em);let eb=BigInt(32),ew=BigInt(4294967295),e_=Number(eg>>eb&ew),eE=Number(eg&ew),eA=em?4:0,eS=em?0:4;eu.setUint32(ed+eA,e_,em),eu.setUint32(ed+eS,eE,em)}class e_ extends eb.Hash{constructor(eu,ed,eg,em){super(),this.blockLen=eu,this.outputLen=ed,this.padOffset=eg,this.isLE=em,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(eu),this.view=(0,eb.createView)(this.buffer)}update(eu){(0,em.exists)(this);let{view:ed,buffer:eg,blockLen:ew}=this;eu=(0,eb.toBytes)(eu);let e_=eu.length;for(let em=0;em<e_;){let eE=Math.min(ew-this.pos,e_-em);if(eE===ew){let ed=(0,eb.createView)(eu);for(;ew<=e_-em;em+=ew)this.process(ed,em);continue}eg.set(eu.subarray(em,em+eE),this.pos),this.pos+=eE,em+=eE,this.pos===ew&&(this.process(ed,0),this.pos=0)}return this.length+=eu.length,this.roundClean(),this}digestInto(eu){(0,em.exists)(this),(0,em.output)(eu,this),this.finished=!0;let{buffer:ed,view:eg,blockLen:e_,isLE:eE}=this,{pos:eA}=this;ed[eA++]=128,this.buffer.subarray(eA).fill(0),this.padOffset>e_-eA&&(this.process(eg,0),eA=0);for(let eu=eA;eu<e_;eu++)ed[eu]=0;ew(eg,e_-8,BigInt(8*this.length),eE),this.process(eg,0);let eS=(0,eb.createView)(eu),eI=this.outputLen;if(eI%4)throw Error("_sha2: outputLen should be aligned to 32bit");let eC=eI/4,eM=this.get();if(eC>eM.length)throw Error("_sha2: outputLen bigger than state");for(let eu=0;eu<eC;eu++)eS.setUint32(4*eu,eM[eu],eE)}digest(){let{buffer:eu,outputLen:ed}=this;this.digestInto(eu);let eg=eu.slice(0,ed);return this.destroy(),eg}_cloneInto(eu){eu||(eu=new this.constructor),eu.set(...this.get());let{blockLen:ed,buffer:eg,length:em,finished:eb,destroyed:ew,pos:e_}=this;return eu.length=em,eu.pos=e_,eu.finished=eb,eu.destroyed=ew,em%ed&&eu.buffer.set(eg),eu}}ed.SHA2=e_},28702:function(eu,ed){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.crypto=void 0,ed.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0},58573:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.sha224=ed.sha256=void 0;let em=eg(46908),eb=eg(80218),ew=(eu,ed,eg)=>eu&ed^~eu&eg,e_=(eu,ed,eg)=>eu&ed^eu&eg^ed&eg,eE=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),eA=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),eS=new Uint32Array(64);class eI extends em.SHA2{constructor(){super(64,32,8,!1),this.A=0|eA[0],this.B=0|eA[1],this.C=0|eA[2],this.D=0|eA[3],this.E=0|eA[4],this.F=0|eA[5],this.G=0|eA[6],this.H=0|eA[7]}get(){let{A:eu,B:ed,C:eg,D:em,E:eb,F:ew,G:e_,H:eE}=this;return[eu,ed,eg,em,eb,ew,e_,eE]}set(eu,ed,eg,em,eb,ew,e_,eE){this.A=0|eu,this.B=0|ed,this.C=0|eg,this.D=0|em,this.E=0|eb,this.F=0|ew,this.G=0|e_,this.H=0|eE}process(eu,ed){for(let eg=0;eg<16;eg++,ed+=4)eS[eg]=eu.getUint32(ed,!1);for(let eu=16;eu<64;eu++){let ed=eS[eu-15],eg=eS[eu-2],em=(0,eb.rotr)(ed,7)^(0,eb.rotr)(ed,18)^ed>>>3,ew=(0,eb.rotr)(eg,17)^(0,eb.rotr)(eg,19)^eg>>>10;eS[eu]=ew+eS[eu-7]+em+eS[eu-16]|0}let{A:eg,B:em,C:eA,D:eI,E:eC,F:eM,G:eO,H:eT}=this;for(let eu=0;eu<64;eu++){let ed=(0,eb.rotr)(eC,6)^(0,eb.rotr)(eC,11)^(0,eb.rotr)(eC,25),eP=eT+ed+ew(eC,eM,eO)+eE[eu]+eS[eu]|0,eN=(0,eb.rotr)(eg,2)^(0,eb.rotr)(eg,13)^(0,eb.rotr)(eg,22),ek=eN+e_(eg,em,eA)|0;eT=eO,eO=eM,eM=eC,eC=eI+eP|0,eI=eA,eA=em,em=eg,eg=eP+ek|0}eg=eg+this.A|0,em=em+this.B|0,eA=eA+this.C|0,eI=eI+this.D|0,eC=eC+this.E|0,eM=eM+this.F|0,eO=eO+this.G|0,eT=eT+this.H|0,this.set(eg,em,eA,eI,eC,eM,eO,eT)}roundClean(){eS.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class eC extends eI{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}ed.sha256=(0,eb.wrapConstructor)(()=>new eI),ed.sha224=(0,eb.wrapConstructor)(()=>new eC)},80218:function(eu,ed,eg){"use strict";/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(ed,"__esModule",{value:!0}),ed.randomBytes=ed.wrapXOFConstructorWithOpts=ed.wrapConstructorWithOpts=ed.wrapConstructor=ed.checkOpts=ed.Hash=ed.concatBytes=ed.toBytes=ed.utf8ToBytes=ed.asyncLoop=ed.nextTick=ed.hexToBytes=ed.bytesToHex=ed.isLE=ed.rotr=ed.createView=ed.u32=ed.u8=void 0;let em=eg(28702),eb=eu=>new Uint8Array(eu.buffer,eu.byteOffset,eu.byteLength);ed.u8=eb;let ew=eu=>new Uint32Array(eu.buffer,eu.byteOffset,Math.floor(eu.byteLength/4));function e_(eu){return eu instanceof Uint8Array||null!=eu&&"object"==typeof eu&&"Uint8Array"===eu.constructor.name}ed.u32=ew;let eE=eu=>new DataView(eu.buffer,eu.byteOffset,eu.byteLength);ed.createView=eE;let eA=(eu,ed)=>eu<<32-ed|eu>>>ed;if(ed.rotr=eA,ed.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!ed.isLE)throw Error("Non little-endian hardware is not supported");let eS=Array.from({length:256},(eu,ed)=>ed.toString(16).padStart(2,"0"));function eI(eu){if(!e_(eu))throw Error("Uint8Array expected");let ed="";for(let eg=0;eg<eu.length;eg++)ed+=eS[eu[eg]];return ed}ed.bytesToHex=eI;let eC={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function eM(eu){return eu>=eC._0&&eu<=eC._9?eu-eC._0:eu>=eC._A&&eu<=eC._F?eu-(eC._A-10):eu>=eC._a&&eu<=eC._f?eu-(eC._a-10):void 0}function eO(eu){if("string"!=typeof eu)throw Error("hex string expected, got "+typeof eu);let ed=eu.length,eg=ed/2;if(ed%2)throw Error("padded hex string expected, got unpadded hex of length "+ed);let em=new Uint8Array(eg);for(let ed=0,eb=0;ed<eg;ed++,eb+=2){let eg=eM(eu.charCodeAt(eb)),ew=eM(eu.charCodeAt(eb+1));if(void 0===eg||void 0===ew){let ed=eu[eb]+eu[eb+1];throw Error('hex string expected, got non-hex character "'+ed+'" at index '+eb)}em[ed]=16*eg+ew}return em}ed.hexToBytes=eO;let eT=async()=>{};async function eP(eu,eg,em){let eb=Date.now();for(let ew=0;ew<eu;ew++){em(ew);let eu=Date.now()-eb;eu>=0&&eu<eg||(await (0,ed.nextTick)(),eb+=eu)}}function eN(eu){if("string"!=typeof eu)throw Error(`utf8ToBytes expected string, got ${typeof eu}`);return new Uint8Array(new TextEncoder().encode(eu))}function ek(eu){if("string"==typeof eu&&(eu=eN(eu)),!e_(eu))throw Error(`expected Uint8Array, got ${typeof eu}`);return eu}function eR(...eu){let ed=0;for(let eg=0;eg<eu.length;eg++){let em=eu[eg];if(!e_(em))throw Error("Uint8Array expected");ed+=em.length}let eg=new Uint8Array(ed);for(let ed=0,em=0;ed<eu.length;ed++){let eb=eu[ed];eg.set(eb,em),em+=eb.length}return eg}ed.nextTick=eT,ed.asyncLoop=eP,ed.utf8ToBytes=eN,ed.toBytes=ek,ed.concatBytes=eR;class eD{clone(){return this._cloneInto()}}ed.Hash=eD;let eB={}.toString;function eU(eu,ed){if(void 0!==ed&&"[object Object]"!==eB.call(ed))throw Error("Options should be object or undefined");let eg=Object.assign(eu,ed);return eg}function eL(eu){let ed=ed=>eu().update(ek(ed)).digest(),eg=eu();return ed.outputLen=eg.outputLen,ed.blockLen=eg.blockLen,ed.create=()=>eu(),ed}function ej(eu){let ed=(ed,eg)=>eu(eg).update(ek(ed)).digest(),eg=eu({});return ed.outputLen=eg.outputLen,ed.blockLen=eg.blockLen,ed.create=ed=>eu(ed),ed}function eF(eu){let ed=(ed,eg)=>eu(eg).update(ek(ed)).digest(),eg=eu({});return ed.outputLen=eg.outputLen,ed.blockLen=eg.blockLen,ed.create=ed=>eu(ed),ed}function e$(eu=32){if(em.crypto&&"function"==typeof em.crypto.getRandomValues)return em.crypto.getRandomValues(new Uint8Array(eu));throw Error("crypto.getRandomValues must be defined")}ed.checkOpts=eU,ed.wrapConstructor=eL,ed.wrapConstructorWithOpts=ej,ed.wrapXOFConstructorWithOpts=eF,ed.randomBytes=e$},8624:function(eu,ed){"use strict";ed.__esModule=!0,ed.DecodeBuffer=ed.EncodeBuffer=void 0;var eg=function(){function eu(){this.offset=0,this.buffer_size=256,this.buffer=new ArrayBuffer(this.buffer_size),this.view=new DataView(this.buffer)}return eu.prototype.resize_if_necessary=function(eu){if(this.buffer_size-this.offset<eu){this.buffer_size=Math.max(2*this.buffer_size,this.buffer_size+eu);var ed=new ArrayBuffer(this.buffer_size);new Uint8Array(ed).set(new Uint8Array(this.buffer)),this.buffer=ed,this.view=new DataView(ed)}},eu.prototype.get_used_buffer=function(){return new Uint8Array(this.buffer).slice(0,this.offset)},eu.prototype.store_value=function(eu,ed){var eg=ed.substring(1),em=parseInt(eg)/8;this.resize_if_necessary(em);var eb="f"===ed[0]?"setFloat".concat(eg):"i"===ed[0]?"setInt".concat(eg):"setUint".concat(eg);this.view[eb](this.offset,eu,!0),this.offset+=em},eu.prototype.store_bytes=function(eu){this.resize_if_necessary(eu.length),new Uint8Array(this.buffer).set(new Uint8Array(eu),this.offset),this.offset+=eu.length},eu}();ed.EncodeBuffer=eg;var em=function(){function eu(eu){this.offset=0,this.buffer_size=eu.length,this.buffer=new ArrayBuffer(eu.length),new Uint8Array(this.buffer).set(eu),this.view=new DataView(this.buffer)}return eu.prototype.assert_enough_buffer=function(eu){if(this.offset+eu>this.buffer.byteLength)throw Error("Error in schema, the buffer is smaller than expected")},eu.prototype.consume_value=function(eu){var ed=eu.substring(1),eg=parseInt(ed)/8;this.assert_enough_buffer(eg);var em="f"===eu[0]?"getFloat".concat(ed):"i"===eu[0]?"getInt".concat(ed):"getUint".concat(ed),eb=this.view[em](this.offset,!0);return this.offset+=eg,eb},eu.prototype.consume_bytes=function(eu){this.assert_enough_buffer(eu);var ed=this.buffer.slice(this.offset,this.offset+eu);return this.offset+=eu,ed},eu}();ed.DecodeBuffer=em},3482:function(eu,ed,eg){"use strict";ed.__esModule=!0,ed.BorshDeserializer=void 0;var em=eg(97153),eb=eg(8624),ew=function(){function eu(eu){this.buffer=new eb.DecodeBuffer(eu)}return eu.prototype.decode=function(eu){return this.decode_value(eu)},eu.prototype.decode_value=function(eu){if("string"==typeof eu){if(em.integers.includes(eu))return this.decode_integer(eu);if("string"===eu)return this.decode_string();if("bool"===eu)return this.decode_boolean()}if("object"==typeof eu){if("option"in eu)return this.decode_option(eu);if("enum"in eu)return this.decode_enum(eu);if("array"in eu)return this.decode_array(eu);if("set"in eu)return this.decode_set(eu);if("map"in eu)return this.decode_map(eu);if("struct"in eu)return this.decode_struct(eu)}throw Error("Unsupported type: ".concat(eu))},eu.prototype.decode_integer=function(eu){var ed=parseInt(eu.substring(1));return ed<=32||"f64"==eu?this.buffer.consume_value(eu):this.decode_bigint(ed,eu.startsWith("i"))},eu.prototype.decode_bigint=function(eu,ed){void 0===ed&&(ed=!1);var eg=eu/8,em=new Uint8Array(this.buffer.consume_bytes(eg)),eb=em.reduceRight(function(eu,ed){return eu+ed.toString(16).padStart(2,"0")},"");return ed&&em[eg-1]?BigInt.asIntN(eu,BigInt("0x".concat(eb))):BigInt("0x".concat(eb))},eu.prototype.decode_string=function(){var eu=this.decode_integer("u32"),ed=new Uint8Array(this.buffer.consume_bytes(eu));return String.fromCharCode.apply(null,ed)},eu.prototype.decode_boolean=function(){return this.buffer.consume_value("u8")>0},eu.prototype.decode_option=function(eu){var ed=this.buffer.consume_value("u8");if(1===ed)return this.decode_value(eu.option);if(0!==ed)throw Error("Invalid option ".concat(ed));return null},eu.prototype.decode_enum=function(eu){var ed,eg=this.buffer.consume_value("u8");if(eg>eu.enum.length)throw Error("Enum option ".concat(eg," is not available"));var em=eu.enum[eg].struct,eb=Object.keys(em)[0];return(ed={})[eb]=this.decode_value(em[eb]),ed},eu.prototype.decode_array=function(eu){for(var ed=[],eg=eu.array.len?eu.array.len:this.decode_integer("u32"),em=0;em<eg;++em)ed.push(this.decode_value(eu.array.type));return ed},eu.prototype.decode_set=function(eu){for(var ed=this.decode_integer("u32"),eg=new Set,em=0;em<ed;++em)eg.add(this.decode_value(eu.set));return eg},eu.prototype.decode_map=function(eu){for(var ed=this.decode_integer("u32"),eg=new Map,em=0;em<ed;++em){var eb=this.decode_value(eu.map.key),ew=this.decode_value(eu.map.value);eg.set(eb,ew)}return eg},eu.prototype.decode_struct=function(eu){var ed={};for(var eg in eu.struct)ed[eg]=this.decode_value(eu.struct[eg]);return ed},eu}();ed.BorshDeserializer=ew},58625:function(eu,ed,eg){"use strict";var em=this&&this.__createBinding||(Object.create?function(eu,ed,eg,em){void 0===em&&(em=eg);var eb=Object.getOwnPropertyDescriptor(ed,eg);(!eb||("get"in eb?!ed.__esModule:eb.writable||eb.configurable))&&(eb={enumerable:!0,get:function(){return ed[eg]}}),Object.defineProperty(eu,em,eb)}:function(eu,ed,eg,em){void 0===em&&(em=eg),eu[em]=ed[eg]}),eb=this&&this.__setModuleDefault||(Object.create?function(eu,ed){Object.defineProperty(eu,"default",{enumerable:!0,value:ed})}:function(eu,ed){eu.default=ed}),ew=this&&this.__importStar||function(eu){if(eu&&eu.__esModule)return eu;var ed={};if(null!=eu)for(var eg in eu)"default"!==eg&&Object.prototype.hasOwnProperty.call(eu,eg)&&em(ed,eu,eg);return eb(ed,eu),ed};ed.__esModule=!0,ed.deserialize=ed.serialize=void 0;var e_=eg(40803),eE=eg(3482),eA=ew(eg(11544));function eS(eu,ed,eg){return void 0===eg&&(eg=!0),eg&&eA.validate_schema(eu),new e_.BorshSerializer(eg).encode(ed,eu)}function eI(eu,ed,eg){return void 0===eg&&(eg=!0),eg&&eA.validate_schema(eu),new eE.BorshDeserializer(ed).decode(eu)}ed.serialize=eS,ed.deserialize=eI},40803:function(eu,ed,eg){"use strict";var em=this&&this.__createBinding||(Object.create?function(eu,ed,eg,em){void 0===em&&(em=eg);var eb=Object.getOwnPropertyDescriptor(ed,eg);(!eb||("get"in eb?!ed.__esModule:eb.writable||eb.configurable))&&(eb={enumerable:!0,get:function(){return ed[eg]}}),Object.defineProperty(eu,em,eb)}:function(eu,ed,eg,em){void 0===em&&(em=eg),eu[em]=ed[eg]}),eb=this&&this.__setModuleDefault||(Object.create?function(eu,ed){Object.defineProperty(eu,"default",{enumerable:!0,value:ed})}:function(eu,ed){eu.default=ed}),ew=this&&this.__importStar||function(eu){if(eu&&eu.__esModule)return eu;var ed={};if(null!=eu)for(var eg in eu)"default"!==eg&&Object.prototype.hasOwnProperty.call(eu,eg)&&em(ed,eu,eg);return eb(ed,eu),ed};ed.__esModule=!0,ed.BorshSerializer=void 0;var e_=eg(97153),eE=eg(8624),eA=ew(eg(11544)),eS=function(){function eu(eu){this.encoded=new eE.EncodeBuffer,this.fieldPath=["value"],this.checkTypes=eu}return eu.prototype.encode=function(eu,ed){return this.encode_value(eu,ed),this.encoded.get_used_buffer()},eu.prototype.encode_value=function(eu,ed){if("string"==typeof ed){if(e_.integers.includes(ed))return this.encode_integer(eu,ed);if("string"===ed)return this.encode_string(eu);if("bool"===ed)return this.encode_boolean(eu)}if("object"==typeof ed){if("option"in ed)return this.encode_option(eu,ed);if("enum"in ed)return this.encode_enum(eu,ed);if("array"in ed)return this.encode_array(eu,ed);if("set"in ed)return this.encode_set(eu,ed);if("map"in ed)return this.encode_map(eu,ed);if("struct"in ed)return this.encode_struct(eu,ed)}},eu.prototype.encode_integer=function(eu,ed){var eg=parseInt(ed.substring(1));eg<=32||"f64"==ed?(this.checkTypes&&eA.expect_type(eu,"number",this.fieldPath),this.encoded.store_value(eu,ed)):(this.checkTypes&&eA.expect_bigint(eu,this.fieldPath),this.encode_bigint(BigInt(eu),eg))},eu.prototype.encode_bigint=function(eu,ed){for(var eg=ed/8,em=new Uint8Array(eg),eb=0;eb<eg;eb++)em[eb]=Number(eu&BigInt(255)),eu>>=BigInt(8);this.encoded.store_bytes(new Uint8Array(em))},eu.prototype.encode_string=function(eu){this.checkTypes&&eA.expect_type(eu,"string",this.fieldPath);var ed=eu;this.encoded.store_value(ed.length,"u32");for(var eg=0;eg<ed.length;eg++)this.encoded.store_value(ed.charCodeAt(eg),"u8")},eu.prototype.encode_boolean=function(eu){this.checkTypes&&eA.expect_type(eu,"boolean",this.fieldPath),this.encoded.store_value(eu?1:0,"u8")},eu.prototype.encode_option=function(eu,ed){null==eu?this.encoded.store_value(0,"u8"):(this.encoded.store_value(1,"u8"),this.encode_value(eu,ed.option))},eu.prototype.encode_enum=function(eu,ed){this.checkTypes&&eA.expect_enum(eu,this.fieldPath);for(var eg=Object.keys(eu)[0],em=0;em<ed.enum.length;em++){var eb=ed.enum[em];if(eg===Object.keys(eb.struct)[0])return this.encoded.store_value(em,"u8"),this.encode_struct(eu,eb)}throw Error("Enum key (".concat(eg,") not found in enum schema: ").concat(JSON.stringify(ed)," at ").concat(this.fieldPath.join(".")))},eu.prototype.encode_array=function(eu,ed){if(eA.isArrayLike(eu))return this.encode_arraylike(eu,ed);if(eu instanceof ArrayBuffer)return this.encode_buffer(eu,ed);throw Error("Expected Array-like not ".concat(typeof eu,"(").concat(eu,") at ").concat(this.fieldPath.join(".")))},eu.prototype.encode_arraylike=function(eu,ed){ed.array.len?eA.expect_same_size(eu.length,ed.array.len,this.fieldPath):this.encoded.store_value(eu.length,"u32");for(var eg=0;eg<eu.length;eg++)this.encode_value(eu[eg],ed.array.type)},eu.prototype.encode_buffer=function(eu,ed){ed.array.len?eA.expect_same_size(eu.byteLength,ed.array.len,this.fieldPath):this.encoded.store_value(eu.byteLength,"u32"),this.encoded.store_bytes(new Uint8Array(eu))},eu.prototype.encode_set=function(eu,ed){this.checkTypes&&eA.expect_type(eu,"object",this.fieldPath);var eg=eu instanceof Set?Array.from(eu.values()):Object.values(eu);this.encoded.store_value(eg.length,"u32");for(var em=0,eb=eg;em<eb.length;em++){var ew=eb[em];this.encode_value(ew,ed.set)}},eu.prototype.encode_map=function(eu,ed){this.checkTypes&&eA.expect_type(eu,"object",this.fieldPath);var eg=eu instanceof Map,em=eg?Array.from(eu.keys()):Object.keys(eu);this.encoded.store_value(em.length,"u32");for(var eb=0,ew=em;eb<ew.length;eb++){var e_=ew[eb];this.encode_value(e_,ed.map.key),this.encode_value(eg?eu.get(e_):eu[e_],ed.map.value)}},eu.prototype.encode_struct=function(eu,ed){this.checkTypes&&eA.expect_type(eu,"object",this.fieldPath);for(var eg=0,em=Object.keys(ed.struct);eg<em.length;eg++){var eb=em[eg];this.fieldPath.push(eb),this.encode_value(eu[eb],ed.struct[eb]),this.fieldPath.pop()}},eu}();ed.BorshSerializer=eS},97153:function(eu,ed){"use strict";ed.__esModule=!0,ed.integers=void 0,ed.integers=["u8","u16","u32","u64","u128","i8","i16","i32","i64","i128","f32","f64"]},11544:function(eu,ed,eg){"use strict";var em=this&&this.__extends||function(){var eu=function(ed,eg){return(eu=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(eu,ed){eu.__proto__=ed}||function(eu,ed){for(var eg in ed)Object.prototype.hasOwnProperty.call(ed,eg)&&(eu[eg]=ed[eg])})(ed,eg)};return function(ed,eg){if("function"!=typeof eg&&null!==eg)throw TypeError("Class extends value "+String(eg)+" is not a constructor or null");function em(){this.constructor=ed}eu(ed,eg),ed.prototype=null===eg?Object.create(eg):(em.prototype=eg.prototype,new em)}}();ed.__esModule=!0,ed.validate_schema=ed.ErrorSchema=ed.expect_enum=ed.expect_same_size=ed.expect_bigint=ed.expect_type=ed.isArrayLike=void 0;var eb=eg(97153);function ew(eu){return Array.isArray(eu)||!!eu&&"object"==typeof eu&&"length"in eu&&"number"==typeof eu.length&&(0===eu.length||eu.length>0&&eu.length-1 in eu)}function e_(eu,ed,eg){if(typeof eu!==ed)throw Error("Expected ".concat(ed," not ").concat(typeof eu,"(").concat(eu,") at ").concat(eg.join(".")))}function eE(eu,ed){var eg=["number","string","bigint","boolean"].includes(typeof eu),em="object"==typeof eu&&null!==eu&&"toString"in eu;if(!eg&&!em)throw Error("Expected bigint, number, boolean or string not ".concat(typeof eu,"(").concat(eu,") at ").concat(ed.join(".")))}function eA(eu,ed,eg){if(eu!==ed)throw Error("Array length ".concat(eu," does not match schema length ").concat(ed," at ").concat(eg.join(".")))}function eS(eu,ed){if("object"!=typeof eu||null===eu)throw Error("Expected object not ".concat(typeof eu,"(").concat(eu,") at ").concat(ed.join(".")))}ed.isArrayLike=ew,ed.expect_type=e_,ed.expect_bigint=eE,ed.expect_same_size=eA,ed.expect_enum=eS;var eI=eb.integers.concat(["bool","string"]),eC=["option","enum","array","set","map","struct"],eM=function(eu){function ed(ed,eg){var em="Invalid schema: ".concat(JSON.stringify(ed)," expected ").concat(eg);return eu.call(this,em)||this}return em(ed,eu),ed}(Error);function eO(eu){if(!("string"==typeof eu&&eI.includes(eu))){if(eu&&"object"==typeof eu){var ed=Object.keys(eu);if(1===ed.length&&eC.includes(ed[0])){var eg=ed[0];if("option"===eg)return eO(eu[eg]);if("enum"===eg)return eT(eu[eg]);if("array"===eg)return eP(eu[eg]);if("set"===eg)return eO(eu[eg]);if("map"===eg)return eN(eu[eg]);if("struct"===eg)return ek(eu[eg])}}throw new eM(eu,eC.join(", ")+" or "+eI.join(", "))}}function eT(eu){if(!Array.isArray(eu))throw new eM(eu,"Array");for(var ed=0,eg=eu;ed<eg.length;ed++){var em=eg[ed];if("object"!=typeof em||!("struct"in em))throw Error('Missing "struct" key in enum schema');if("object"!=typeof em.struct||1!==Object.keys(em.struct).length)throw Error('The "struct" in each enum must have a single key');eO({struct:em.struct})}}function eP(eu){if("object"!=typeof eu)throw new eM(eu,"{ type, len? }");if(eu.len&&"number"!=typeof eu.len)throw Error("Invalid schema: ".concat(eu));if("type"in eu)return eO(eu.type);throw new eM(eu,"{ type, len? }")}function eN(eu){if("object"==typeof eu&&"key"in eu&&"value"in eu)eO(eu.key),eO(eu.value);else throw new eM(eu,"{ key, value }")}function ek(eu){if("object"!=typeof eu)throw new eM(eu,"object");for(var ed in eu)eO(eu[ed])}ed.ErrorSchema=eM,ed.validate_schema=eO},64339:function(module){var __dirname="/";!function(){var __webpack_modules__={950:function(__unused_webpack_module,exports){var indexOf=function(eu,ed){if(eu.indexOf)return eu.indexOf(ed);for(var eg=0;eg<eu.length;eg++)if(eu[eg]===ed)return eg;return -1},Object_keys=function(eu){if(Object.keys)return Object.keys(eu);var ed=[];for(var eg in eu)ed.push(eg);return ed},forEach=function(eu,ed){if(eu.forEach)return eu.forEach(ed);for(var eg=0;eg<eu.length;eg++)ed(eu[eg],eg,eu)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(eu,ed,eg){Object.defineProperty(eu,ed,{writable:!0,enumerable:!1,configurable:!0,value:eg})}}catch(eu){return function(eu,ed,eg){eu[ed]=eg}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(eu){if(!(this instanceof Script))return new Script(eu);this.code=eu};Script.prototype.runInContext=function(eu){if(!(eu instanceof Context))throw TypeError("needs a 'context' argument.");var ed=document.createElement("iframe");ed.style||(ed.style={}),ed.style.display="none",document.body.appendChild(ed);var eg=ed.contentWindow,em=eg.eval,eb=eg.execScript;!em&&eb&&(eb.call(eg,"null"),em=eg.eval),forEach(Object_keys(eu),function(ed){eg[ed]=eu[ed]}),forEach(globals,function(ed){eu[ed]&&(eg[ed]=eu[ed])});var ew=Object_keys(eg),e_=em.call(eg,this.code);return forEach(Object_keys(eg),function(ed){(ed in eu||-1===indexOf(ew,ed))&&(eu[ed]=eg[ed])}),forEach(globals,function(ed){ed in eu||defineProp(eu,ed,eg[ed])}),document.body.removeChild(ed),e_},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(eu){var ed=Script.createContext(eu),eg=this.runInContext(ed);return eu&&forEach(Object_keys(ed),function(eg){eu[eg]=ed[eg]}),eg},forEach(Object_keys(Script.prototype),function(eu){exports[eu]=Script[eu]=function(ed){var eg=Script(ed);return eg[eu].apply(eg,[].slice.call(arguments,1))}}),exports.isContext=function(eu){return eu instanceof Context},exports.createScript=function(eu){return exports.Script(eu)},exports.createContext=Script.createContext=function(eu){var ed=new Context;return"object"==typeof eu&&forEach(Object_keys(eu),function(eg){ed[eg]=eu[eg]}),ed}}};"undefined"!=typeof __nccwpck_require__&&(__nccwpck_require__.ab=__dirname+"/");var __webpack_exports__={};__webpack_modules__[950](0,__webpack_exports__),module.exports=__webpack_exports__}()},34911:function(eu,ed){"use strict";var eg=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==eg)return eg;throw Error("unable to locate global object")}();eu.exports=ed=eg.fetch,eg.fetch&&(ed.default=eg.fetch.bind(eg)),ed.Headers=eg.Headers,ed.Request=eg.Request,ed.Response=eg.Response},58045:function(eu,ed,eg){"use strict";var em=eg(22812);ed.certificate=eg(27832);var eb=em.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});ed.RSAPrivateKey=eb;var ew=em.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});ed.RSAPublicKey=ew;var e_=em.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),eE=em.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(e_),this.key("subjectPublicKey").bitstr())});ed.PublicKey=eE;var eA=em.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(e_),this.key("subjectPrivateKey").octstr())});ed.PrivateKey=eA;var eS=em.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});ed.EncryptedPrivateKey=eS;var eI=em.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});ed.DSAPrivateKey=eI,ed.DSAparam=em.define("DSAparam",function(){this.int()});var eC=em.define("ECParameters",function(){this.choice({namedCurve:this.objid()})}),eM=em.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(eC),this.key("publicKey").optional().explicit(1).bitstr())});ed.ECPrivateKey=eM,ed.signature=em.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},27832:function(eu,ed,eg){"use strict";var em=eg(22812),eb=em.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),ew=em.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),e_=em.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),eE=em.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(e_),this.key("subjectPublicKey").bitstr())}),eA=em.define("RelativeDistinguishedName",function(){this.setof(ew)}),eS=em.define("RDNSequence",function(){this.seqof(eA)}),eI=em.define("Name",function(){this.choice({rdnSequence:this.use(eS)})}),eC=em.define("Validity",function(){this.seq().obj(this.key("notBefore").use(eb),this.key("notAfter").use(eb))}),eM=em.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),eO=em.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(e_),this.key("issuer").use(eI),this.key("validity").use(eC),this.key("subject").use(eI),this.key("subjectPublicKeyInfo").use(eE),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(eM).optional())}),eT=em.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(eO),this.key("signatureAlgorithm").use(e_),this.key("signatureValue").bitstr())});eu.exports=eT},82968:function(eu,ed,eg){"use strict";var em=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,eb=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,ew=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,e_=eg(59341),eE=eg(10010),eA=eg(77834).Buffer;eu.exports=function(eu,ed){var eg,eS=eu.toString(),eI=eS.match(em);if(eI){var eC="aes"+eI[1],eM=eA.from(eI[2],"hex"),eO=eA.from(eI[3].replace(/[\r\n]/g,""),"base64"),eT=e_(ed,eM.slice(0,8),parseInt(eI[1],10)).key,eP=[],eN=eE.createDecipheriv(eC,eT,eM);eP.push(eN.update(eO)),eP.push(eN.final()),eg=eA.concat(eP)}else{var ek=eS.match(ew);eg=eA.from(ek[2].replace(/[\r\n]/g,""),"base64")}return{tag:eS.match(eb)[1],data:eg}}},28016:function(eu,ed,eg){"use strict";var em=eg(58045),eb=eg(68675),ew=eg(82968),e_=eg(10010),eE=eg(30499),eA=eg(77834).Buffer;function eS(eu,ed){var eg=eu.algorithm.decrypt.kde.kdeparams.salt,em=parseInt(eu.algorithm.decrypt.kde.kdeparams.iters.toString(),10),ew=eb[eu.algorithm.decrypt.cipher.algo.join(".")],eS=eu.algorithm.decrypt.cipher.iv,eI=eu.subjectPrivateKey,eC=parseInt(ew.split("-")[1],10)/8,eM=eE.pbkdf2Sync(ed,eg,em,eC,"sha1"),eO=e_.createDecipheriv(ew,eM,eS),eT=[];return eT.push(eO.update(eI)),eT.push(eO.final()),eA.concat(eT)}function eI(eu){"object"!=typeof eu||eA.isBuffer(eu)||(ed=eu.passphrase,eu=eu.key),"string"==typeof eu&&(eu=eA.from(eu));var ed,eg,eb,e_=ew(eu,ed),eE=e_.tag,eI=e_.data;switch(eE){case"CERTIFICATE":eb=em.certificate.decode(eI,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(eb||(eb=em.PublicKey.decode(eI,"der")),eg=eb.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return em.RSAPublicKey.decode(eb.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return eb.subjectPrivateKey=eb.subjectPublicKey,{type:"ec",data:eb};case"1.2.840.10040.4.1":return eb.algorithm.params.pub_key=em.DSAparam.decode(eb.subjectPublicKey.data,"der"),{type:"dsa",data:eb.algorithm.params};default:throw Error("unknown key id "+eg)}case"ENCRYPTED PRIVATE KEY":eI=eS(eI=em.EncryptedPrivateKey.decode(eI,"der"),ed);case"PRIVATE KEY":switch(eg=(eb=em.PrivateKey.decode(eI,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return em.RSAPrivateKey.decode(eb.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:eb.algorithm.curve,privateKey:em.ECPrivateKey.decode(eb.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return eb.algorithm.params.priv_key=em.DSAparam.decode(eb.subjectPrivateKey,"der"),{type:"dsa",params:eb.algorithm.params};default:throw Error("unknown key id "+eg)}case"RSA PUBLIC KEY":return em.RSAPublicKey.decode(eI,"der");case"RSA PRIVATE KEY":return em.RSAPrivateKey.decode(eI,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:em.DSAPrivateKey.decode(eI,"der")};case"EC PRIVATE KEY":return{curve:(eI=em.ECPrivateKey.decode(eI,"der")).parameters.value,privateKey:eI.privateKey};default:throw Error("unknown key type "+eE)}}eI.signature=em.signature,eu.exports=eI},30499:function(eu,ed,eg){"use strict";ed.pbkdf2=eg(14874),ed.pbkdf2Sync=eg(88840)},14874:function(eu,ed,eg){"use strict";var em,eb,ew=eg(77834).Buffer,e_=eg(87351),eE=eg(25214),eA=eg(88840),eS=eg(97232),eI=eg.g.crypto&&eg.g.crypto.subtle,eC={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},eM=[];function eO(){return eb||(eb=eg.g.process&&eg.g.process.nextTick?eg.g.process.nextTick:eg.g.queueMicrotask?eg.g.queueMicrotask:eg.g.setImmediate?eg.g.setImmediate:eg.g.setTimeout)}function eT(eu,ed,eg,em,eb){return eI.importKey("raw",eu,{name:"PBKDF2"},!1,["deriveBits"]).then(function(eu){return eI.deriveBits({name:"PBKDF2",salt:ed,iterations:eg,hash:{name:eb}},eu,em<<3)}).then(function(eu){return ew.from(eu)})}function eP(eu){if(eg.g.process&&!eg.g.process.browser||!eI||!eI.importKey||!eI.deriveBits)return Promise.resolve(!1);if(void 0!==eM[eu])return eM[eu];var ed=eT(em=em||ew.alloc(8),em,10,128,eu).then(function(){return!0},function(){return!1});return eM[eu]=ed,ed}function eN(eu,ed){eu.then(function(eu){eO()(function(){ed(null,eu)})},function(eu){eO()(function(){ed(eu)})})}eu.exports=function(eu,ed,em,eb,ew,eI){"function"==typeof ew&&(eI=ew,ew=void 0);var eM=eC[(ew=ew||"sha1").toLowerCase()];if(!eM||"function"!=typeof eg.g.Promise){eO()(function(){var eg;try{eg=eA(eu,ed,em,eb,ew)}catch(eu){eI(eu);return}eI(null,eg)});return}if(e_(em,eb),eu=eS(eu,eE,"Password"),ed=eS(ed,eE,"Salt"),"function"!=typeof eI)throw Error("No callback provided to pbkdf2");eN(eP(eM).then(function(eg){return eg?eT(eu,ed,em,eb,eM):eA(eu,ed,em,eb,ew)}),eI)}},25214:function(eu,ed,eg){"use strict";var em,eb=eg(34406);em=eg.g.process&&eg.g.process.browser?"utf-8":eg.g.process&&eg.g.process.version?parseInt(eb.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":"utf-8",eu.exports=em},87351:function(eu){"use strict";var ed=1073741823;eu.exports=function(eu,eg){if("number"!=typeof eu)throw TypeError("Iterations not a number");if(eu<0)throw TypeError("Bad iterations");if("number"!=typeof eg)throw TypeError("Key length not a number");if(eg<0||eg>ed||eg!=eg)throw TypeError("Bad key length")}},88840:function(eu,ed,eg){"use strict";var em=eg(28839),eb=eg(5127),ew=eg(9065),e_=eg(77834).Buffer,eE=eg(87351),eA=eg(25214),eS=eg(97232),eI=e_.alloc(128),eC={__proto__:null,md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,"sha512-256":32,ripemd160:20,rmd160:20},eM={__proto__:null,"sha-1":"sha1","sha-224":"sha224","sha-256":"sha256","sha-384":"sha384","sha-512":"sha512","ripemd-160":"ripemd160"};function eO(eu){return new eb().update(eu).digest()}function eT(eu){function ed(ed){return ew(eu).update(ed).digest()}return"rmd160"===eu||"ripemd160"===eu?eO:"md5"===eu?em:ed}function eP(eu,ed,eg){var em=eT(eu),eb="sha512"===eu||"sha384"===eu?128:64;ed.length>eb?ed=em(ed):ed.length<eb&&(ed=e_.concat([ed,eI],eb));for(var ew=e_.allocUnsafe(eb+eC[eu]),eE=e_.allocUnsafe(eb+eC[eu]),eA=0;eA<eb;eA++)ew[eA]=54^ed[eA],eE[eA]=92^ed[eA];var eS=e_.allocUnsafe(eb+eg+4);ew.copy(eS,0,0,eb),this.ipad1=eS,this.ipad2=ew,this.opad=eE,this.alg=eu,this.blocksize=eb,this.hash=em,this.size=eC[eu]}function eN(eu,ed,eg,em,eb){eE(eg,em),eu=eS(eu,eA,"Password"),ed=eS(ed,eA,"Salt");var ew=(eb||"sha1").toLowerCase(),eI=eM[ew]||ew,eO=eC[eI];if("number"!=typeof eO||!eO)throw TypeError("Digest algorithm not supported: "+eb);var eT=new eP(eI,eu,ed.length),eN=e_.allocUnsafe(em),ek=e_.allocUnsafe(ed.length+4);ed.copy(ek,0,0,ed.length);for(var eR=0,eD=eO,eB=Math.ceil(em/eD),eU=1;eU<=eB;eU++){ek.writeUInt32BE(eU,ed.length);for(var eL=eT.run(ek,eT.ipad1),ej=eL,eF=1;eF<eg;eF++){ej=eT.run(ej,eT.ipad2);for(var e$=0;e$<eD;e$++)eL[e$]^=ej[e$]}eL.copy(eN,eR),eR+=eD}return eN}eP.prototype.run=function(eu,ed){return eu.copy(ed,this.blocksize),this.hash(ed).copy(this.opad,this.blocksize),this.hash(this.opad)},eu.exports=eN},97232:function(eu,ed,eg){"use strict";var em=eg(77834).Buffer,eb=eg(30025),ew="undefined"!=typeof Uint8Array,e_=ew&&"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView;eu.exports=function(eu,ed,eg){if("string"==typeof eu||em.isBuffer(eu)||ew&&eu instanceof Uint8Array||e_&&e_(eu))return eb(eu,ed);throw TypeError(eg+" must be a string, a Buffer, a Uint8Array, or a DataView")}},27162:function(eu,ed,eg){"use strict";var em=eg(48834).Buffer,eb=4,ew=new em(eb);ew.fill(0);var e_=8,eE=16;function eA(eu){if(eu.length%eb!=0){var ed=eu.length+(eb-eu.length%eb);eu=em.concat([eu,ew],ed)}for(var eg=Array(eu.length>>>2),e_=0,eE=0;e_<eu.length;e_+=eb,eE++)eg[eE]=eu.readInt32LE(e_);return eg}eu.exports=function(eu,ed){var eg=ed(eA(eu),eu.length*e_);eu=new em(eE);for(var eb=0;eb<eg.length;eb++)eu.writeInt32LE(eg[eb],eb<<2,!0);return eu}},28839:function(eu,ed,eg){"use strict";var em=eg(27162);function eb(eu,ed){eu[ed>>5]|=128<<ed%32,eu[(ed+64>>>9<<4)+14]=ed;for(var eg=1732584193,em=-271733879,eb=-1732584194,ew=271733878,eC=0;eC<eu.length;eC+=16){var eM=eg,eO=em,eT=eb,eP=ew;eg=e_(eg,em,eb,ew,eu[eC+0],7,-680876936),ew=e_(ew,eg,em,eb,eu[eC+1],12,-389564586),eb=e_(eb,ew,eg,em,eu[eC+2],17,606105819),em=e_(em,eb,ew,eg,eu[eC+3],22,-1044525330),eg=e_(eg,em,eb,ew,eu[eC+4],7,-176418897),ew=e_(ew,eg,em,eb,eu[eC+5],12,1200080426),eb=e_(eb,ew,eg,em,eu[eC+6],17,-1473231341),em=e_(em,eb,ew,eg,eu[eC+7],22,-45705983),eg=e_(eg,em,eb,ew,eu[eC+8],7,1770035416),ew=e_(ew,eg,em,eb,eu[eC+9],12,-1958414417),eb=e_(eb,ew,eg,em,eu[eC+10],17,-42063),em=e_(em,eb,ew,eg,eu[eC+11],22,-1990404162),eg=e_(eg,em,eb,ew,eu[eC+12],7,1804603682),ew=e_(ew,eg,em,eb,eu[eC+13],12,-40341101),eb=e_(eb,ew,eg,em,eu[eC+14],17,-1502002290),em=e_(em,eb,ew,eg,eu[eC+15],22,1236535329),eg=eE(eg,em,eb,ew,eu[eC+1],5,-165796510),ew=eE(ew,eg,em,eb,eu[eC+6],9,-1069501632),eb=eE(eb,ew,eg,em,eu[eC+11],14,643717713),em=eE(em,eb,ew,eg,eu[eC+0],20,-373897302),eg=eE(eg,em,eb,ew,eu[eC+5],5,-701558691),ew=eE(ew,eg,em,eb,eu[eC+10],9,38016083),eb=eE(eb,ew,eg,em,eu[eC+15],14,-660478335),em=eE(em,eb,ew,eg,eu[eC+4],20,-405537848),eg=eE(eg,em,eb,ew,eu[eC+9],5,568446438),ew=eE(ew,eg,em,eb,eu[eC+14],9,-1019803690),eb=eE(eb,ew,eg,em,eu[eC+3],14,-187363961),em=eE(em,eb,ew,eg,eu[eC+8],20,1163531501),eg=eE(eg,em,eb,ew,eu[eC+13],5,-1444681467),ew=eE(ew,eg,em,eb,eu[eC+2],9,-51403784),eb=eE(eb,ew,eg,em,eu[eC+7],14,1735328473),em=eE(em,eb,ew,eg,eu[eC+12],20,-1926607734),eg=eA(eg,em,eb,ew,eu[eC+5],4,-378558),ew=eA(ew,eg,em,eb,eu[eC+8],11,-2022574463),eb=eA(eb,ew,eg,em,eu[eC+11],16,1839030562),em=eA(em,eb,ew,eg,eu[eC+14],23,-35309556),eg=eA(eg,em,eb,ew,eu[eC+1],4,-1530992060),ew=eA(ew,eg,em,eb,eu[eC+4],11,1272893353),eb=eA(eb,ew,eg,em,eu[eC+7],16,-155497632),em=eA(em,eb,ew,eg,eu[eC+10],23,-1094730640),eg=eA(eg,em,eb,ew,eu[eC+13],4,681279174),ew=eA(ew,eg,em,eb,eu[eC+0],11,-358537222),eb=eA(eb,ew,eg,em,eu[eC+3],16,-722521979),em=eA(em,eb,ew,eg,eu[eC+6],23,76029189),eg=eA(eg,em,eb,ew,eu[eC+9],4,-640364487),ew=eA(ew,eg,em,eb,eu[eC+12],11,-421815835),eb=eA(eb,ew,eg,em,eu[eC+15],16,530742520),em=eA(em,eb,ew,eg,eu[eC+2],23,-995338651),eg=eS(eg,em,eb,ew,eu[eC+0],6,-198630844),ew=eS(ew,eg,em,eb,eu[eC+7],10,1126891415),eb=eS(eb,ew,eg,em,eu[eC+14],15,-1416354905),em=eS(em,eb,ew,eg,eu[eC+5],21,-57434055),eg=eS(eg,em,eb,ew,eu[eC+12],6,1700485571),ew=eS(ew,eg,em,eb,eu[eC+3],10,-1894986606),eb=eS(eb,ew,eg,em,eu[eC+10],15,-1051523),em=eS(em,eb,ew,eg,eu[eC+1],21,-2054922799),eg=eS(eg,em,eb,ew,eu[eC+8],6,1873313359),ew=eS(ew,eg,em,eb,eu[eC+15],10,-30611744),eb=eS(eb,ew,eg,em,eu[eC+6],15,-1560198380),em=eS(em,eb,ew,eg,eu[eC+13],21,1309151649),eg=eS(eg,em,eb,ew,eu[eC+4],6,-145523070),ew=eS(ew,eg,em,eb,eu[eC+11],10,-1120210379),eb=eS(eb,ew,eg,em,eu[eC+2],15,718787259),em=eS(em,eb,ew,eg,eu[eC+9],21,-343485551),eg=eI(eg,eM),em=eI(em,eO),eb=eI(eb,eT),ew=eI(ew,eP)}return[eg,em,eb,ew]}function ew(eu,ed,eg,em,eb,ew){return eI(eC(eI(eI(ed,eu),eI(em,ew)),eb),eg)}function e_(eu,ed,eg,em,eb,e_,eE){return ew(ed&eg|~ed&em,eu,ed,eb,e_,eE)}function eE(eu,ed,eg,em,eb,e_,eE){return ew(ed&em|eg&~em,eu,ed,eb,e_,eE)}function eA(eu,ed,eg,em,eb,e_,eE){return ew(ed^eg^em,eu,ed,eb,e_,eE)}function eS(eu,ed,eg,em,eb,e_,eE){return ew(eg^(ed|~em),eu,ed,eb,e_,eE)}function eI(eu,ed){var eg=(65535&eu)+(65535&ed);return(eu>>16)+(ed>>16)+(eg>>16)<<16|65535&eg}function eC(eu,ed){return eu<<ed|eu>>>32-ed}eu.exports=function(eu){return em(eu,eb)}},78476:function(eu,ed,eg){"use strict";var em=eg(48834).Buffer,eb=eg(54851).Transform;function ew(eu){eb.call(this),this._block=new em(eu),this._blockSize=eu,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}eg(91285)(ew,eb),ew.prototype._transform=function(eu,ed,eg){var eb=null;try{"buffer"!==ed&&(eu=new em(eu,ed)),this.update(eu)}catch(eu){eb=eu}eg(eb)},ew.prototype._flush=function(eu){var ed=null;try{this.push(this._digest())}catch(eu){ed=eu}eu(ed)},ew.prototype.update=function(eu,ed){if(!em.isBuffer(eu)&&"string"!=typeof eu)throw TypeError("Data must be a string or a buffer");if(this._finalized)throw Error("Digest already called");em.isBuffer(eu)||(eu=new em(eu,ed||"binary"));for(var eg=this._block,eb=0;this._blockOffset+eu.length-eb>=this._blockSize;){for(var ew=this._blockOffset;ew<this._blockSize;)eg[ew++]=eu[eb++];this._update(),this._blockOffset=0}for(;eb<eu.length;)eg[this._blockOffset++]=eu[eb++];for(var e_=0,eE=8*eu.length;eE>0;++e_)this._length[e_]+=eE,(eE=this._length[e_]/4294967296|0)>0&&(this._length[e_]-=4294967296*eE);return this},ew.prototype._update=function(eu){throw Error("_update is not implemented")},ew.prototype.digest=function(eu){if(this._finalized)throw Error("Digest already called");this._finalized=!0;var ed=this._digest();return void 0!==eu&&(ed=ed.toString(eu)),ed},ew.prototype._digest=function(){throw Error("_digest is not implemented")},eu.exports=ew},5127:function(eu,ed,eg){"use strict";var em=eg(48834).Buffer,eb=eg(91285),ew=eg(78476);function e_(){ew.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function eE(eu,ed){return eu<<ed|eu>>>32-ed}function eA(eu,ed,eg,em,eb,ew,e_,eA){return eE(eu+(ed^eg^em)+ew+e_|0,eA)+eb|0}function eS(eu,ed,eg,em,eb,ew,e_,eA){return eE(eu+(ed&eg|~ed&em)+ew+e_|0,eA)+eb|0}function eI(eu,ed,eg,em,eb,ew,e_,eA){return eE(eu+((ed|~eg)^em)+ew+e_|0,eA)+eb|0}function eC(eu,ed,eg,em,eb,ew,e_,eA){return eE(eu+(ed&em|eg&~em)+ew+e_|0,eA)+eb|0}function eM(eu,ed,eg,em,eb,ew,e_,eA){return eE(eu+(ed^(eg|~em))+ew+e_|0,eA)+eb|0}eb(e_,ew),e_.prototype._update=function(){for(var eu=Array(16),ed=0;ed<16;++ed)eu[ed]=this._block.readInt32LE(4*ed);var eg=this._a,em=this._b,eb=this._c,ew=this._d,e_=this._e;eg=eA(eg,em,eb,ew,e_,eu[0],0,11),eb=eE(eb,10),e_=eA(e_,eg,em,eb,ew,eu[1],0,14),em=eE(em,10),ew=eA(ew,e_,eg,em,eb,eu[2],0,15),eg=eE(eg,10),eb=eA(eb,ew,e_,eg,em,eu[3],0,12),e_=eE(e_,10),em=eA(em,eb,ew,e_,eg,eu[4],0,5),ew=eE(ew,10),eg=eA(eg,em,eb,ew,e_,eu[5],0,8),eb=eE(eb,10),e_=eA(e_,eg,em,eb,ew,eu[6],0,7),em=eE(em,10),ew=eA(ew,e_,eg,em,eb,eu[7],0,9),eg=eE(eg,10),eb=eA(eb,ew,e_,eg,em,eu[8],0,11),e_=eE(e_,10),em=eA(em,eb,ew,e_,eg,eu[9],0,13),ew=eE(ew,10),eg=eA(eg,em,eb,ew,e_,eu[10],0,14),eb=eE(eb,10),e_=eA(e_,eg,em,eb,ew,eu[11],0,15),em=eE(em,10),ew=eA(ew,e_,eg,em,eb,eu[12],0,6),eg=eE(eg,10),eb=eA(eb,ew,e_,eg,em,eu[13],0,7),e_=eE(e_,10),em=eA(em,eb,ew,e_,eg,eu[14],0,9),ew=eE(ew,10),eg=eA(eg,em,eb,ew,e_,eu[15],0,8),eb=eE(eb,10),e_=eS(e_,eg,em,eb,ew,eu[7],1518500249,7),em=eE(em,10),ew=eS(ew,e_,eg,em,eb,eu[4],1518500249,6),eg=eE(eg,10),eb=eS(eb,ew,e_,eg,em,eu[13],1518500249,8),e_=eE(e_,10),em=eS(em,eb,ew,e_,eg,eu[1],1518500249,13),ew=eE(ew,10),eg=eS(eg,em,eb,ew,e_,eu[10],1518500249,11),eb=eE(eb,10),e_=eS(e_,eg,em,eb,ew,eu[6],1518500249,9),em=eE(em,10),ew=eS(ew,e_,eg,em,eb,eu[15],1518500249,7),eg=eE(eg,10),eb=eS(eb,ew,e_,eg,em,eu[3],1518500249,15),e_=eE(e_,10),em=eS(em,eb,ew,e_,eg,eu[12],1518500249,7),ew=eE(ew,10),eg=eS(eg,em,eb,ew,e_,eu[0],1518500249,12),eb=eE(eb,10),e_=eS(e_,eg,em,eb,ew,eu[9],1518500249,15),em=eE(em,10),ew=eS(ew,e_,eg,em,eb,eu[5],1518500249,9),eg=eE(eg,10),eb=eS(eb,ew,e_,eg,em,eu[2],1518500249,11),e_=eE(e_,10),em=eS(em,eb,ew,e_,eg,eu[14],1518500249,7),ew=eE(ew,10),eg=eS(eg,em,eb,ew,e_,eu[11],1518500249,13),eb=eE(eb,10),e_=eS(e_,eg,em,eb,ew,eu[8],1518500249,12),em=eE(em,10),ew=eI(ew,e_,eg,em,eb,eu[3],1859775393,11),eg=eE(eg,10),eb=eI(eb,ew,e_,eg,em,eu[10],1859775393,13),e_=eE(e_,10),em=eI(em,eb,ew,e_,eg,eu[14],1859775393,6),ew=eE(ew,10),eg=eI(eg,em,eb,ew,e_,eu[4],1859775393,7),eb=eE(eb,10),e_=eI(e_,eg,em,eb,ew,eu[9],1859775393,14),em=eE(em,10),ew=eI(ew,e_,eg,em,eb,eu[15],1859775393,9),eg=eE(eg,10),eb=eI(eb,ew,e_,eg,em,eu[8],1859775393,13),e_=eE(e_,10),em=eI(em,eb,ew,e_,eg,eu[1],1859775393,15),ew=eE(ew,10),eg=eI(eg,em,eb,ew,e_,eu[2],1859775393,14),eb=eE(eb,10),e_=eI(e_,eg,em,eb,ew,eu[7],1859775393,8),em=eE(em,10),ew=eI(ew,e_,eg,em,eb,eu[0],1859775393,13),eg=eE(eg,10),eb=eI(eb,ew,e_,eg,em,eu[6],1859775393,6),e_=eE(e_,10),em=eI(em,eb,ew,e_,eg,eu[13],1859775393,5),ew=eE(ew,10),eg=eI(eg,em,eb,ew,e_,eu[11],1859775393,12),eb=eE(eb,10),e_=eI(e_,eg,em,eb,ew,eu[5],1859775393,7),em=eE(em,10),ew=eI(ew,e_,eg,em,eb,eu[12],1859775393,5),eg=eE(eg,10),eb=eC(eb,ew,e_,eg,em,eu[1],2400959708,11),e_=eE(e_,10),em=eC(em,eb,ew,e_,eg,eu[9],2400959708,12),ew=eE(ew,10),eg=eC(eg,em,eb,ew,e_,eu[11],2400959708,14),eb=eE(eb,10),e_=eC(e_,eg,em,eb,ew,eu[10],2400959708,15),em=eE(em,10),ew=eC(ew,e_,eg,em,eb,eu[0],2400959708,14),eg=eE(eg,10),eb=eC(eb,ew,e_,eg,em,eu[8],2400959708,15),e_=eE(e_,10),em=eC(em,eb,ew,e_,eg,eu[12],2400959708,9),ew=eE(ew,10),eg=eC(eg,em,eb,ew,e_,eu[4],2400959708,8),eb=eE(eb,10),e_=eC(e_,eg,em,eb,ew,eu[13],2400959708,9),em=eE(em,10),ew=eC(ew,e_,eg,em,eb,eu[3],2400959708,14),eg=eE(eg,10),eb=eC(eb,ew,e_,eg,em,eu[7],2400959708,5),e_=eE(e_,10),em=eC(em,eb,ew,e_,eg,eu[15],2400959708,6),ew=eE(ew,10),eg=eC(eg,em,eb,ew,e_,eu[14],2400959708,8),eb=eE(eb,10),e_=eC(e_,eg,em,eb,ew,eu[5],2400959708,6),em=eE(em,10),ew=eC(ew,e_,eg,em,eb,eu[6],2400959708,5),eg=eE(eg,10),eb=eC(eb,ew,e_,eg,em,eu[2],2400959708,12),e_=eE(e_,10),em=eM(em,eb,ew,e_,eg,eu[4],2840853838,9),ew=eE(ew,10),eg=eM(eg,em,eb,ew,e_,eu[0],2840853838,15),eb=eE(eb,10),e_=eM(e_,eg,em,eb,ew,eu[5],2840853838,5),em=eE(em,10),ew=eM(ew,e_,eg,em,eb,eu[9],2840853838,11),eg=eE(eg,10),eb=eM(eb,ew,e_,eg,em,eu[7],2840853838,6),e_=eE(e_,10),em=eM(em,eb,ew,e_,eg,eu[12],2840853838,8),ew=eE(ew,10),eg=eM(eg,em,eb,ew,e_,eu[2],2840853838,13),eb=eE(eb,10),e_=eM(e_,eg,em,eb,ew,eu[10],2840853838,12),em=eE(em,10),ew=eM(ew,e_,eg,em,eb,eu[14],2840853838,5),eg=eE(eg,10),eb=eM(eb,ew,e_,eg,em,eu[1],2840853838,12),e_=eE(e_,10),em=eM(em,eb,ew,e_,eg,eu[3],2840853838,13),ew=eE(ew,10),eg=eM(eg,em,eb,ew,e_,eu[8],2840853838,14),eb=eE(eb,10),e_=eM(e_,eg,em,eb,ew,eu[11],2840853838,11),em=eE(em,10),ew=eM(ew,e_,eg,em,eb,eu[6],2840853838,8),eg=eE(eg,10),eb=eM(eb,ew,e_,eg,em,eu[15],2840853838,5),e_=eE(e_,10),em=eM(em,eb,ew,e_,eg,eu[13],2840853838,6),ew=eE(ew,10);var eO=this._a,eT=this._b,eP=this._c,eN=this._d,ek=this._e;eO=eM(eO,eT,eP,eN,ek,eu[5],1352829926,8),eP=eE(eP,10),ek=eM(ek,eO,eT,eP,eN,eu[14],1352829926,9),eT=eE(eT,10),eN=eM(eN,ek,eO,eT,eP,eu[7],1352829926,9),eO=eE(eO,10),eP=eM(eP,eN,ek,eO,eT,eu[0],1352829926,11),ek=eE(ek,10),eT=eM(eT,eP,eN,ek,eO,eu[9],1352829926,13),eN=eE(eN,10),eO=eM(eO,eT,eP,eN,ek,eu[2],1352829926,15),eP=eE(eP,10),ek=eM(ek,eO,eT,eP,eN,eu[11],1352829926,15),eT=eE(eT,10),eN=eM(eN,ek,eO,eT,eP,eu[4],1352829926,5),eO=eE(eO,10),eP=eM(eP,eN,ek,eO,eT,eu[13],1352829926,7),ek=eE(ek,10),eT=eM(eT,eP,eN,ek,eO,eu[6],1352829926,7),eN=eE(eN,10),eO=eM(eO,eT,eP,eN,ek,eu[15],1352829926,8),eP=eE(eP,10),ek=eM(ek,eO,eT,eP,eN,eu[8],1352829926,11),eT=eE(eT,10),eN=eM(eN,ek,eO,eT,eP,eu[1],1352829926,14),eO=eE(eO,10),eP=eM(eP,eN,ek,eO,eT,eu[10],1352829926,14),ek=eE(ek,10),eT=eM(eT,eP,eN,ek,eO,eu[3],1352829926,12),eN=eE(eN,10),eO=eM(eO,eT,eP,eN,ek,eu[12],1352829926,6),eP=eE(eP,10),ek=eC(ek,eO,eT,eP,eN,eu[6],1548603684,9),eT=eE(eT,10),eN=eC(eN,ek,eO,eT,eP,eu[11],1548603684,13),eO=eE(eO,10),eP=eC(eP,eN,ek,eO,eT,eu[3],1548603684,15),ek=eE(ek,10),eT=eC(eT,eP,eN,ek,eO,eu[7],1548603684,7),eN=eE(eN,10),eO=eC(eO,eT,eP,eN,ek,eu[0],1548603684,12),eP=eE(eP,10),ek=eC(ek,eO,eT,eP,eN,eu[13],1548603684,8),eT=eE(eT,10),eN=eC(eN,ek,eO,eT,eP,eu[5],1548603684,9),eO=eE(eO,10),eP=eC(eP,eN,ek,eO,eT,eu[10],1548603684,11),ek=eE(ek,10),eT=eC(eT,eP,eN,ek,eO,eu[14],1548603684,7),eN=eE(eN,10),eO=eC(eO,eT,eP,eN,ek,eu[15],1548603684,7),eP=eE(eP,10),ek=eC(ek,eO,eT,eP,eN,eu[8],1548603684,12),eT=eE(eT,10),eN=eC(eN,ek,eO,eT,eP,eu[12],1548603684,7),eO=eE(eO,10),eP=eC(eP,eN,ek,eO,eT,eu[4],1548603684,6),ek=eE(ek,10),eT=eC(eT,eP,eN,ek,eO,eu[9],1548603684,15),eN=eE(eN,10),eO=eC(eO,eT,eP,eN,ek,eu[1],1548603684,13),eP=eE(eP,10),ek=eC(ek,eO,eT,eP,eN,eu[2],1548603684,11),eT=eE(eT,10),eN=eI(eN,ek,eO,eT,eP,eu[15],1836072691,9),eO=eE(eO,10),eP=eI(eP,eN,ek,eO,eT,eu[5],1836072691,7),ek=eE(ek,10),eT=eI(eT,eP,eN,ek,eO,eu[1],1836072691,15),eN=eE(eN,10),eO=eI(eO,eT,eP,eN,ek,eu[3],1836072691,11),eP=eE(eP,10),ek=eI(ek,eO,eT,eP,eN,eu[7],1836072691,8),eT=eE(eT,10),eN=eI(eN,ek,eO,eT,eP,eu[14],1836072691,6),eO=eE(eO,10),eP=eI(eP,eN,ek,eO,eT,eu[6],1836072691,6),ek=eE(ek,10),eT=eI(eT,eP,eN,ek,eO,eu[9],1836072691,14),eN=eE(eN,10),eO=eI(eO,eT,eP,eN,ek,eu[11],1836072691,12),eP=eE(eP,10),ek=eI(ek,eO,eT,eP,eN,eu[8],1836072691,13),eT=eE(eT,10),eN=eI(eN,ek,eO,eT,eP,eu[12],1836072691,5),eO=eE(eO,10),eP=eI(eP,eN,ek,eO,eT,eu[2],1836072691,14),ek=eE(ek,10),eT=eI(eT,eP,eN,ek,eO,eu[10],1836072691,13),eN=eE(eN,10),eO=eI(eO,eT,eP,eN,ek,eu[0],1836072691,13),eP=eE(eP,10),ek=eI(ek,eO,eT,eP,eN,eu[4],1836072691,7),eT=eE(eT,10),eN=eI(eN,ek,eO,eT,eP,eu[13],1836072691,5),eO=eE(eO,10),eP=eS(eP,eN,ek,eO,eT,eu[8],2053994217,15),ek=eE(ek,10),eT=eS(eT,eP,eN,ek,eO,eu[6],2053994217,5),eN=eE(eN,10),eO=eS(eO,eT,eP,eN,ek,eu[4],2053994217,8),eP=eE(eP,10),ek=eS(ek,eO,eT,eP,eN,eu[1],2053994217,11),eT=eE(eT,10),eN=eS(eN,ek,eO,eT,eP,eu[3],2053994217,14),eO=eE(eO,10),eP=eS(eP,eN,ek,eO,eT,eu[11],2053994217,14),ek=eE(ek,10),eT=eS(eT,eP,eN,ek,eO,eu[15],2053994217,6),eN=eE(eN,10),eO=eS(eO,eT,eP,eN,ek,eu[0],2053994217,14),eP=eE(eP,10),ek=eS(ek,eO,eT,eP,eN,eu[5],2053994217,6),eT=eE(eT,10),eN=eS(eN,ek,eO,eT,eP,eu[12],2053994217,9),eO=eE(eO,10),eP=eS(eP,eN,ek,eO,eT,eu[2],2053994217,12),ek=eE(ek,10),eT=eS(eT,eP,eN,ek,eO,eu[13],2053994217,9),eN=eE(eN,10),eO=eS(eO,eT,eP,eN,ek,eu[9],2053994217,12),eP=eE(eP,10),ek=eS(ek,eO,eT,eP,eN,eu[7],2053994217,5),eT=eE(eT,10),eN=eS(eN,ek,eO,eT,eP,eu[10],2053994217,15),eO=eE(eO,10),eP=eS(eP,eN,ek,eO,eT,eu[14],2053994217,8),ek=eE(ek,10),eT=eA(eT,eP,eN,ek,eO,eu[12],0,8),eN=eE(eN,10),eO=eA(eO,eT,eP,eN,ek,eu[15],0,5),eP=eE(eP,10),ek=eA(ek,eO,eT,eP,eN,eu[10],0,12),eT=eE(eT,10),eN=eA(eN,ek,eO,eT,eP,eu[4],0,9),eO=eE(eO,10),eP=eA(eP,eN,ek,eO,eT,eu[1],0,12),ek=eE(ek,10),eT=eA(eT,eP,eN,ek,eO,eu[5],0,5),eN=eE(eN,10),eO=eA(eO,eT,eP,eN,ek,eu[8],0,14),eP=eE(eP,10),ek=eA(ek,eO,eT,eP,eN,eu[7],0,6),eT=eE(eT,10),eN=eA(eN,ek,eO,eT,eP,eu[6],0,8),eO=eE(eO,10),eP=eA(eP,eN,ek,eO,eT,eu[2],0,13),ek=eE(ek,10),eT=eA(eT,eP,eN,ek,eO,eu[13],0,6),eN=eE(eN,10),eO=eA(eO,eT,eP,eN,ek,eu[14],0,5),eP=eE(eP,10),ek=eA(ek,eO,eT,eP,eN,eu[0],0,15),eT=eE(eT,10),eN=eA(eN,ek,eO,eT,eP,eu[3],0,13),eO=eE(eO,10),eP=eA(eP,eN,ek,eO,eT,eu[9],0,11),ek=eE(ek,10),eT=eA(eT,eP,eN,ek,eO,eu[11],0,11),eN=eE(eN,10);var eR=this._b+eb+eN|0;this._b=this._c+ew+ek|0,this._c=this._d+e_+eO|0,this._d=this._e+eg+eT|0,this._e=this._a+em+eP|0,this._a=eR},e_.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var eu=new em(20);return eu.writeInt32LE(this._a,0),eu.writeInt32LE(this._b,4),eu.writeInt32LE(this._c,8),eu.writeInt32LE(this._d,12),eu.writeInt32LE(this._e,16),eu},eu.exports=e_},35962:function(eu){"use strict";eu.exports=["Float16Array","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]},82884:function(eu,ed,eg){"use strict";var em=eg(34406);function eb(eu,ed,eg,eb){if("function"!=typeof eu)throw TypeError('"callback" argument must be a function');var ew,e_,eE=arguments.length;switch(eE){case 0:case 1:return em.nextTick(eu);case 2:return em.nextTick(function(){eu.call(null,ed)});case 3:return em.nextTick(function(){eu.call(null,ed,eg)});case 4:return em.nextTick(function(){eu.call(null,ed,eg,eb)});default:for(ew=Array(eE-1),e_=0;e_<ew.length;)ew[e_++]=arguments[e_];return em.nextTick(function(){eu.apply(null,ew)})}}void 0!==em&&em.version&&0!==em.version.indexOf("v0.")&&(0!==em.version.indexOf("v1.")||0===em.version.indexOf("v1.8."))?eu.exports=em:eu.exports={nextTick:eb}},34406:function(eu){var ed,eg,em,eb=eu.exports={};function ew(){throw Error("setTimeout has not been defined")}function e_(){throw Error("clearTimeout has not been defined")}function eE(eu){if(ed===setTimeout)return setTimeout(eu,0);if((ed===ew||!ed)&&setTimeout)return ed=setTimeout,setTimeout(eu,0);try{return ed(eu,0)}catch(eg){try{return ed.call(null,eu,0)}catch(eg){return ed.call(this,eu,0)}}}function eA(eu){if(eg===clearTimeout)return clearTimeout(eu);if((eg===e_||!eg)&&clearTimeout)return eg=clearTimeout,clearTimeout(eu);try{return eg(eu)}catch(ed){try{return eg.call(null,eu)}catch(ed){return eg.call(this,eu)}}}!function(){try{ed="function"==typeof setTimeout?setTimeout:ew}catch(eu){ed=ew}try{eg="function"==typeof clearTimeout?clearTimeout:e_}catch(eu){eg=e_}}();var eS=[],eI=!1,eC=-1;function eM(){eI&&em&&(eI=!1,em.length?eS=em.concat(eS):eC=-1,eS.length&&eO())}function eO(){if(!eI){var eu=eE(eM);eI=!0;for(var ed=eS.length;ed;){for(em=eS,eS=[];++eC<ed;)em&&em[eC].run();eC=-1,ed=eS.length}em=null,eI=!1,eA(eu)}}function eT(eu,ed){this.fun=eu,this.array=ed}function eP(){}eb.nextTick=function(eu){var ed=Array(arguments.length-1);if(arguments.length>1)for(var eg=1;eg<arguments.length;eg++)ed[eg-1]=arguments[eg];eS.push(new eT(eu,ed)),1!==eS.length||eI||eE(eO)},eT.prototype.run=function(){this.fun.apply(null,this.array)},eb.title="browser",eb.browser=!0,eb.env={},eb.argv=[],eb.version="",eb.versions={},eb.on=eP,eb.addListener=eP,eb.once=eP,eb.off=eP,eb.removeListener=eP,eb.removeAllListeners=eP,eb.emit=eP,eb.prependListener=eP,eb.prependOnceListener=eP,eb.listeners=function(eu){return[]},eb.binding=function(eu){throw Error("process.binding is not supported")},eb.cwd=function(){return"/"},eb.chdir=function(eu){throw Error("process.chdir is not supported")},eb.umask=function(){return 0}},8493:function(eu,ed,eg){ed.publicEncrypt=eg(61896),ed.privateDecrypt=eg(76932),ed.privateEncrypt=function(eu,eg){return ed.publicEncrypt(eu,eg,!0)},ed.publicDecrypt=function(eu,eg){return ed.privateDecrypt(eu,eg,!0)}},78525:function(eu,ed,eg){var em=eg(16162),eb=eg(77834).Buffer;function ew(eu){var ed=eb.allocUnsafe(4);return ed.writeUInt32BE(eu,0),ed}eu.exports=function(eu,ed){for(var eg,e_=eb.alloc(0),eE=0;e_.length<ed;)eg=ew(eE++),e_=eb.concat([e_,em("sha1").update(eu).update(eg).digest()]);return e_.slice(0,ed)}},62216:function(eu,ed,eg){!function(eu,ed){"use strict";function em(eu,ed){if(!eu)throw Error(ed||"Assertion failed")}function eb(eu,ed){eu.super_=ed;var eg=function(){};eg.prototype=ed.prototype,eu.prototype=new eg,eu.prototype.constructor=eu}function ew(eu,ed,eg){if(ew.isBN(eu))return eu;this.negative=0,this.words=null,this.length=0,this.red=null,null!==eu&&(("le"===ed||"be"===ed)&&(eg=ed,ed=10),this._init(eu||0,ed||10,eg||"be"))}"object"==typeof eu?eu.exports=ew:ed.BN=ew,ew.BN=ew,ew.wordSize=26;try{eS="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:eg(15862).Buffer}catch(eu){}function e_(eu,ed){var eg=eu.charCodeAt(ed);return eg>=65&&eg<=70?eg-55:eg>=97&&eg<=102?eg-87:eg-48&15}function eE(eu,ed,eg){var em=e_(eu,eg);return eg-1>=ed&&(em|=e_(eu,eg-1)<<4),em}function eA(eu,ed,eg,em){for(var eb=0,ew=Math.min(eu.length,eg),e_=ed;e_<ew;e_++){var eE=eu.charCodeAt(e_)-48;eb*=em,eE>=49?eb+=eE-49+10:eE>=17?eb+=eE-17+10:eb+=eE}return eb}ew.isBN=function(eu){return eu instanceof ew||null!==eu&&"object"==typeof eu&&eu.constructor.wordSize===ew.wordSize&&Array.isArray(eu.words)},ew.max=function(eu,ed){return eu.cmp(ed)>0?eu:ed},ew.min=function(eu,ed){return 0>eu.cmp(ed)?eu:ed},ew.prototype._init=function(eu,ed,eg){if("number"==typeof eu)return this._initNumber(eu,ed,eg);if("object"==typeof eu)return this._initArray(eu,ed,eg);"hex"===ed&&(ed=16),em(ed===(0|ed)&&ed>=2&&ed<=36);var eb=0;"-"===(eu=eu.toString().replace(/\s+/g,""))[0]&&(eb++,this.negative=1),eb<eu.length&&(16===ed?this._parseHex(eu,eb,eg):(this._parseBase(eu,ed,eb),"le"===eg&&this._initArray(this.toArray(),ed,eg)))},ew.prototype._initNumber=function(eu,ed,eg){eu<0&&(this.negative=1,eu=-eu),eu<67108864?(this.words=[67108863&eu],this.length=1):eu<4503599627370496?(this.words=[67108863&eu,eu/67108864&67108863],this.length=2):(em(eu<9007199254740992),this.words=[67108863&eu,eu/67108864&67108863,1],this.length=3),"le"===eg&&this._initArray(this.toArray(),ed,eg)},ew.prototype._initArray=function(eu,ed,eg){if(em("number"==typeof eu.length),eu.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(eu.length/3),this.words=Array(this.length);for(var eb,ew,e_=0;e_<this.length;e_++)this.words[e_]=0;var eE=0;if("be"===eg)for(e_=eu.length-1,eb=0;e_>=0;e_-=3)ew=eu[e_]|eu[e_-1]<<8|eu[e_-2]<<16,this.words[eb]|=ew<<eE&67108863,this.words[eb+1]=ew>>>26-eE&67108863,(eE+=24)>=26&&(eE-=26,eb++);else if("le"===eg)for(e_=0,eb=0;e_<eu.length;e_+=3)ew=eu[e_]|eu[e_+1]<<8|eu[e_+2]<<16,this.words[eb]|=ew<<eE&67108863,this.words[eb+1]=ew>>>26-eE&67108863,(eE+=24)>=26&&(eE-=26,eb++);return this.strip()},ew.prototype._parseHex=function(eu,ed,eg){this.length=Math.ceil((eu.length-ed)/6),this.words=Array(this.length);for(var em,eb=0;eb<this.length;eb++)this.words[eb]=0;var ew=0,e_=0;if("be"===eg)for(eb=eu.length-1;eb>=ed;eb-=2)em=eE(eu,ed,eb)<<ew,this.words[e_]|=67108863&em,ew>=18?(ew-=18,e_+=1,this.words[e_]|=em>>>26):ew+=8;else for(eb=(eu.length-ed)%2==0?ed+1:ed;eb<eu.length;eb+=2)em=eE(eu,ed,eb)<<ew,this.words[e_]|=67108863&em,ew>=18?(ew-=18,e_+=1,this.words[e_]|=em>>>26):ew+=8;this.strip()},ew.prototype._parseBase=function(eu,ed,eg){this.words=[0],this.length=1;for(var em=0,eb=1;eb<=67108863;eb*=ed)em++;em--,eb=eb/ed|0;for(var ew=eu.length-eg,e_=ew%em,eE=Math.min(ew,ew-e_)+eg,eS=0,eI=eg;eI<eE;eI+=em)eS=eA(eu,eI,eI+em,ed),this.imuln(eb),this.words[0]+eS<67108864?this.words[0]+=eS:this._iaddn(eS);if(0!==e_){var eC=1;for(eS=eA(eu,eI,eu.length,ed),eI=0;eI<e_;eI++)eC*=ed;this.imuln(eC),this.words[0]+eS<67108864?this.words[0]+=eS:this._iaddn(eS)}this.strip()},ew.prototype.copy=function(eu){eu.words=Array(this.length);for(var ed=0;ed<this.length;ed++)eu.words[ed]=this.words[ed];eu.length=this.length,eu.negative=this.negative,eu.red=this.red},ew.prototype.clone=function(){var eu=new ew(null);return this.copy(eu),eu},ew.prototype._expand=function(eu){for(;this.length<eu;)this.words[this.length++]=0;return this},ew.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},ew.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},ew.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var eS,eI=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],eC=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],eM=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function eO(eu){for(var ed=Array(eu.bitLength()),eg=0;eg<ed.length;eg++){var em=eg/26|0,eb=eg%26;ed[eg]=(eu.words[em]&1<<eb)>>>eb}return ed}function eT(eu,ed,eg){eg.negative=ed.negative^eu.negative;var em=eu.length+ed.length|0;eg.length=em,em=em-1|0;var eb=0|eu.words[0],ew=0|ed.words[0],e_=eb*ew,eE=67108863&e_,eA=e_/67108864|0;eg.words[0]=eE;for(var eS=1;eS<em;eS++){for(var eI=eA>>>26,eC=67108863&eA,eM=Math.min(eS,ed.length-1),eO=Math.max(0,eS-eu.length+1);eO<=eM;eO++){var eT=eS-eO|0;eI+=(e_=(eb=0|eu.words[eT])*(ew=0|ed.words[eO])+eC)/67108864|0,eC=67108863&e_}eg.words[eS]=0|eC,eA=0|eI}return 0!==eA?eg.words[eS]=0|eA:eg.length--,eg.strip()}ew.prototype.toString=function(eu,ed){if(ed=0|ed||1,16===(eu=eu||10)||"hex"===eu){eg="";for(var eg,eb=0,ew=0,e_=0;e_<this.length;e_++){var eE=this.words[e_],eA=((eE<<eb|ew)&16777215).toString(16);ew=eE>>>24-eb&16777215,(eb+=2)>=26&&(eb-=26,e_--),eg=0!==ew||e_!==this.length-1?eI[6-eA.length]+eA+eg:eA+eg}for(0!==ew&&(eg=ew.toString(16)+eg);eg.length%ed!=0;)eg="0"+eg;return 0!==this.negative&&(eg="-"+eg),eg}if(eu===(0|eu)&&eu>=2&&eu<=36){var eS=eC[eu],eO=eM[eu];eg="";var eT=this.clone();for(eT.negative=0;!eT.isZero();){var eP=eT.modn(eO).toString(eu);eg=(eT=eT.idivn(eO)).isZero()?eP+eg:eI[eS-eP.length]+eP+eg}for(this.isZero()&&(eg="0"+eg);eg.length%ed!=0;)eg="0"+eg;return 0!==this.negative&&(eg="-"+eg),eg}em(!1,"Base should be between 2 and 36")},ew.prototype.toNumber=function(){var eu=this.words[0];return 2===this.length?eu+=67108864*this.words[1]:3===this.length&&1===this.words[2]?eu+=4503599627370496+67108864*this.words[1]:this.length>2&&em(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-eu:eu},ew.prototype.toJSON=function(){return this.toString(16)},ew.prototype.toBuffer=function(eu,ed){return em(void 0!==eS),this.toArrayLike(eS,eu,ed)},ew.prototype.toArray=function(eu,ed){return this.toArrayLike(Array,eu,ed)},ew.prototype.toArrayLike=function(eu,ed,eg){var eb,ew,e_=this.byteLength(),eE=eg||Math.max(1,e_);em(e_<=eE,"byte array longer than desired length"),em(eE>0,"Requested array length <= 0"),this.strip();var eA="le"===ed,eS=new eu(eE),eI=this.clone();if(eA){for(ew=0;!eI.isZero();ew++)eb=eI.andln(255),eI.iushrn(8),eS[ew]=eb;for(;ew<eE;ew++)eS[ew]=0}else{for(ew=0;ew<eE-e_;ew++)eS[ew]=0;for(ew=0;!eI.isZero();ew++)eb=eI.andln(255),eI.iushrn(8),eS[eE-ew-1]=eb}return eS},Math.clz32?ew.prototype._countBits=function(eu){return 32-Math.clz32(eu)}:ew.prototype._countBits=function(eu){var ed=eu,eg=0;return ed>=4096&&(eg+=13,ed>>>=13),ed>=64&&(eg+=7,ed>>>=7),ed>=8&&(eg+=4,ed>>>=4),ed>=2&&(eg+=2,ed>>>=2),eg+ed},ew.prototype._zeroBits=function(eu){if(0===eu)return 26;var ed=eu,eg=0;return(8191&ed)==0&&(eg+=13,ed>>>=13),(127&ed)==0&&(eg+=7,ed>>>=7),(15&ed)==0&&(eg+=4,ed>>>=4),(3&ed)==0&&(eg+=2,ed>>>=2),(1&ed)==0&&eg++,eg},ew.prototype.bitLength=function(){var eu=this.words[this.length-1],ed=this._countBits(eu);return(this.length-1)*26+ed},ew.prototype.zeroBits=function(){if(this.isZero())return 0;for(var eu=0,ed=0;ed<this.length;ed++){var eg=this._zeroBits(this.words[ed]);if(eu+=eg,26!==eg)break}return eu},ew.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},ew.prototype.toTwos=function(eu){return 0!==this.negative?this.abs().inotn(eu).iaddn(1):this.clone()},ew.prototype.fromTwos=function(eu){return this.testn(eu-1)?this.notn(eu).iaddn(1).ineg():this.clone()},ew.prototype.isNeg=function(){return 0!==this.negative},ew.prototype.neg=function(){return this.clone().ineg()},ew.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},ew.prototype.iuor=function(eu){for(;this.length<eu.length;)this.words[this.length++]=0;for(var ed=0;ed<eu.length;ed++)this.words[ed]=this.words[ed]|eu.words[ed];return this.strip()},ew.prototype.ior=function(eu){return em((this.negative|eu.negative)==0),this.iuor(eu)},ew.prototype.or=function(eu){return this.length>eu.length?this.clone().ior(eu):eu.clone().ior(this)},ew.prototype.uor=function(eu){return this.length>eu.length?this.clone().iuor(eu):eu.clone().iuor(this)},ew.prototype.iuand=function(eu){var ed;ed=this.length>eu.length?eu:this;for(var eg=0;eg<ed.length;eg++)this.words[eg]=this.words[eg]&eu.words[eg];return this.length=ed.length,this.strip()},ew.prototype.iand=function(eu){return em((this.negative|eu.negative)==0),this.iuand(eu)},ew.prototype.and=function(eu){return this.length>eu.length?this.clone().iand(eu):eu.clone().iand(this)},ew.prototype.uand=function(eu){return this.length>eu.length?this.clone().iuand(eu):eu.clone().iuand(this)},ew.prototype.iuxor=function(eu){this.length>eu.length?(ed=this,eg=eu):(ed=eu,eg=this);for(var ed,eg,em=0;em<eg.length;em++)this.words[em]=ed.words[em]^eg.words[em];if(this!==ed)for(;em<ed.length;em++)this.words[em]=ed.words[em];return this.length=ed.length,this.strip()},ew.prototype.ixor=function(eu){return em((this.negative|eu.negative)==0),this.iuxor(eu)},ew.prototype.xor=function(eu){return this.length>eu.length?this.clone().ixor(eu):eu.clone().ixor(this)},ew.prototype.uxor=function(eu){return this.length>eu.length?this.clone().iuxor(eu):eu.clone().iuxor(this)},ew.prototype.inotn=function(eu){em("number"==typeof eu&&eu>=0);var ed=0|Math.ceil(eu/26),eg=eu%26;this._expand(ed),eg>0&&ed--;for(var eb=0;eb<ed;eb++)this.words[eb]=67108863&~this.words[eb];return eg>0&&(this.words[eb]=~this.words[eb]&67108863>>26-eg),this.strip()},ew.prototype.notn=function(eu){return this.clone().inotn(eu)},ew.prototype.setn=function(eu,ed){em("number"==typeof eu&&eu>=0);var eg=eu/26|0,eb=eu%26;return this._expand(eg+1),ed?this.words[eg]=this.words[eg]|1<<eb:this.words[eg]=this.words[eg]&~(1<<eb),this.strip()},ew.prototype.iadd=function(eu){if(0!==this.negative&&0===eu.negative)return this.negative=0,ed=this.isub(eu),this.negative^=1,this._normSign();if(0===this.negative&&0!==eu.negative)return eu.negative=0,ed=this.isub(eu),eu.negative=1,ed._normSign();this.length>eu.length?(eg=this,em=eu):(eg=eu,em=this);for(var ed,eg,em,eb=0,ew=0;ew<em.length;ew++)ed=(0|eg.words[ew])+(0|em.words[ew])+eb,this.words[ew]=67108863&ed,eb=ed>>>26;for(;0!==eb&&ew<eg.length;ew++)ed=(0|eg.words[ew])+eb,this.words[ew]=67108863&ed,eb=ed>>>26;if(this.length=eg.length,0!==eb)this.words[this.length]=eb,this.length++;else if(eg!==this)for(;ew<eg.length;ew++)this.words[ew]=eg.words[ew];return this},ew.prototype.add=function(eu){var ed;return 0!==eu.negative&&0===this.negative?(eu.negative=0,ed=this.sub(eu),eu.negative^=1,ed):0===eu.negative&&0!==this.negative?(this.negative=0,ed=eu.sub(this),this.negative=1,ed):this.length>eu.length?this.clone().iadd(eu):eu.clone().iadd(this)},ew.prototype.isub=function(eu){if(0!==eu.negative){eu.negative=0;var ed,eg,em=this.iadd(eu);return eu.negative=1,em._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(eu),this.negative=1,this._normSign();var eb=this.cmp(eu);if(0===eb)return this.negative=0,this.length=1,this.words[0]=0,this;eb>0?(ed=this,eg=eu):(ed=eu,eg=this);for(var ew=0,e_=0;e_<eg.length;e_++)ew=(em=(0|ed.words[e_])-(0|eg.words[e_])+ew)>>26,this.words[e_]=67108863&em;for(;0!==ew&&e_<ed.length;e_++)ew=(em=(0|ed.words[e_])+ew)>>26,this.words[e_]=67108863&em;if(0===ew&&e_<ed.length&&ed!==this)for(;e_<ed.length;e_++)this.words[e_]=ed.words[e_];return this.length=Math.max(this.length,e_),ed!==this&&(this.negative=1),this.strip()},ew.prototype.sub=function(eu){return this.clone().isub(eu)};var eP=function(eu,ed,eg){var em,eb,ew,e_=eu.words,eE=ed.words,eA=eg.words,eS=0,eI=0|e_[0],eC=8191&eI,eM=eI>>>13,eO=0|e_[1],eT=8191&eO,eP=eO>>>13,eN=0|e_[2],ek=8191&eN,eR=eN>>>13,eD=0|e_[3],eB=8191&eD,eU=eD>>>13,eL=0|e_[4],ej=8191&eL,eF=eL>>>13,e$=0|e_[5],eK=8191&e$,eH=e$>>>13,eV=0|e_[6],eG=8191&eV,eW=eV>>>13,eJ=0|e_[7],eZ=8191&eJ,eY=eJ>>>13,eX=0|e_[8],eQ=8191&eX,e0=eX>>>13,e6=0|e_[9],e8=8191&e6,e5=e6>>>13,e9=0|eE[0],e7=8191&e9,tu=e9>>>13,th=0|eE[1],td=8191&th,tg=th>>>13,ty=0|eE[2],tb=8191&ty,tw=ty>>>13,t_=0|eE[3],tE=8191&t_,tA=t_>>>13,tS=0|eE[4],tI=8191&tS,tC=tS>>>13,tO=0|eE[5],tT=8191&tO,tP=tO>>>13,tN=0|eE[6],tR=8191&tN,tD=tN>>>13,tB=0|eE[7],tU=8191&tB,tL=tB>>>13,tj=0|eE[8],tF=8191&tj,t$=tj>>>13,tK=0|eE[9],tq=8191&tK,tz=tK>>>13;eg.negative=eu.negative^ed.negative,eg.length=19;var tH=(eS+(em=Math.imul(eC,e7))|0)+((8191&(eb=(eb=Math.imul(eC,tu))+Math.imul(eM,e7)|0))<<13)|0;eS=((ew=Math.imul(eM,tu))+(eb>>>13)|0)+(tH>>>26)|0,tH&=67108863,em=Math.imul(eT,e7),eb=(eb=Math.imul(eT,tu))+Math.imul(eP,e7)|0,ew=Math.imul(eP,tu);var tV=(eS+(em=em+Math.imul(eC,td)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eC,tg)|0)+Math.imul(eM,td)|0))<<13)|0;eS=((ew=ew+Math.imul(eM,tg)|0)+(eb>>>13)|0)+(tV>>>26)|0,tV&=67108863,em=Math.imul(ek,e7),eb=(eb=Math.imul(ek,tu))+Math.imul(eR,e7)|0,ew=Math.imul(eR,tu),em=em+Math.imul(eT,td)|0,eb=(eb=eb+Math.imul(eT,tg)|0)+Math.imul(eP,td)|0,ew=ew+Math.imul(eP,tg)|0;var tG=(eS+(em=em+Math.imul(eC,tb)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eC,tw)|0)+Math.imul(eM,tb)|0))<<13)|0;eS=((ew=ew+Math.imul(eM,tw)|0)+(eb>>>13)|0)+(tG>>>26)|0,tG&=67108863,em=Math.imul(eB,e7),eb=(eb=Math.imul(eB,tu))+Math.imul(eU,e7)|0,ew=Math.imul(eU,tu),em=em+Math.imul(ek,td)|0,eb=(eb=eb+Math.imul(ek,tg)|0)+Math.imul(eR,td)|0,ew=ew+Math.imul(eR,tg)|0,em=em+Math.imul(eT,tb)|0,eb=(eb=eb+Math.imul(eT,tw)|0)+Math.imul(eP,tb)|0,ew=ew+Math.imul(eP,tw)|0;var tW=(eS+(em=em+Math.imul(eC,tE)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eC,tA)|0)+Math.imul(eM,tE)|0))<<13)|0;eS=((ew=ew+Math.imul(eM,tA)|0)+(eb>>>13)|0)+(tW>>>26)|0,tW&=67108863,em=Math.imul(ej,e7),eb=(eb=Math.imul(ej,tu))+Math.imul(eF,e7)|0,ew=Math.imul(eF,tu),em=em+Math.imul(eB,td)|0,eb=(eb=eb+Math.imul(eB,tg)|0)+Math.imul(eU,td)|0,ew=ew+Math.imul(eU,tg)|0,em=em+Math.imul(ek,tb)|0,eb=(eb=eb+Math.imul(ek,tw)|0)+Math.imul(eR,tb)|0,ew=ew+Math.imul(eR,tw)|0,em=em+Math.imul(eT,tE)|0,eb=(eb=eb+Math.imul(eT,tA)|0)+Math.imul(eP,tE)|0,ew=ew+Math.imul(eP,tA)|0;var tJ=(eS+(em=em+Math.imul(eC,tI)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eC,tC)|0)+Math.imul(eM,tI)|0))<<13)|0;eS=((ew=ew+Math.imul(eM,tC)|0)+(eb>>>13)|0)+(tJ>>>26)|0,tJ&=67108863,em=Math.imul(eK,e7),eb=(eb=Math.imul(eK,tu))+Math.imul(eH,e7)|0,ew=Math.imul(eH,tu),em=em+Math.imul(ej,td)|0,eb=(eb=eb+Math.imul(ej,tg)|0)+Math.imul(eF,td)|0,ew=ew+Math.imul(eF,tg)|0,em=em+Math.imul(eB,tb)|0,eb=(eb=eb+Math.imul(eB,tw)|0)+Math.imul(eU,tb)|0,ew=ew+Math.imul(eU,tw)|0,em=em+Math.imul(ek,tE)|0,eb=(eb=eb+Math.imul(ek,tA)|0)+Math.imul(eR,tE)|0,ew=ew+Math.imul(eR,tA)|0,em=em+Math.imul(eT,tI)|0,eb=(eb=eb+Math.imul(eT,tC)|0)+Math.imul(eP,tI)|0,ew=ew+Math.imul(eP,tC)|0;var tZ=(eS+(em=em+Math.imul(eC,tT)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eC,tP)|0)+Math.imul(eM,tT)|0))<<13)|0;eS=((ew=ew+Math.imul(eM,tP)|0)+(eb>>>13)|0)+(tZ>>>26)|0,tZ&=67108863,em=Math.imul(eG,e7),eb=(eb=Math.imul(eG,tu))+Math.imul(eW,e7)|0,ew=Math.imul(eW,tu),em=em+Math.imul(eK,td)|0,eb=(eb=eb+Math.imul(eK,tg)|0)+Math.imul(eH,td)|0,ew=ew+Math.imul(eH,tg)|0,em=em+Math.imul(ej,tb)|0,eb=(eb=eb+Math.imul(ej,tw)|0)+Math.imul(eF,tb)|0,ew=ew+Math.imul(eF,tw)|0,em=em+Math.imul(eB,tE)|0,eb=(eb=eb+Math.imul(eB,tA)|0)+Math.imul(eU,tE)|0,ew=ew+Math.imul(eU,tA)|0,em=em+Math.imul(ek,tI)|0,eb=(eb=eb+Math.imul(ek,tC)|0)+Math.imul(eR,tI)|0,ew=ew+Math.imul(eR,tC)|0,em=em+Math.imul(eT,tT)|0,eb=(eb=eb+Math.imul(eT,tP)|0)+Math.imul(eP,tT)|0,ew=ew+Math.imul(eP,tP)|0;var tY=(eS+(em=em+Math.imul(eC,tR)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eC,tD)|0)+Math.imul(eM,tR)|0))<<13)|0;eS=((ew=ew+Math.imul(eM,tD)|0)+(eb>>>13)|0)+(tY>>>26)|0,tY&=67108863,em=Math.imul(eZ,e7),eb=(eb=Math.imul(eZ,tu))+Math.imul(eY,e7)|0,ew=Math.imul(eY,tu),em=em+Math.imul(eG,td)|0,eb=(eb=eb+Math.imul(eG,tg)|0)+Math.imul(eW,td)|0,ew=ew+Math.imul(eW,tg)|0,em=em+Math.imul(eK,tb)|0,eb=(eb=eb+Math.imul(eK,tw)|0)+Math.imul(eH,tb)|0,ew=ew+Math.imul(eH,tw)|0,em=em+Math.imul(ej,tE)|0,eb=(eb=eb+Math.imul(ej,tA)|0)+Math.imul(eF,tE)|0,ew=ew+Math.imul(eF,tA)|0,em=em+Math.imul(eB,tI)|0,eb=(eb=eb+Math.imul(eB,tC)|0)+Math.imul(eU,tI)|0,ew=ew+Math.imul(eU,tC)|0,em=em+Math.imul(ek,tT)|0,eb=(eb=eb+Math.imul(ek,tP)|0)+Math.imul(eR,tT)|0,ew=ew+Math.imul(eR,tP)|0,em=em+Math.imul(eT,tR)|0,eb=(eb=eb+Math.imul(eT,tD)|0)+Math.imul(eP,tR)|0,ew=ew+Math.imul(eP,tD)|0;var tX=(eS+(em=em+Math.imul(eC,tU)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eC,tL)|0)+Math.imul(eM,tU)|0))<<13)|0;eS=((ew=ew+Math.imul(eM,tL)|0)+(eb>>>13)|0)+(tX>>>26)|0,tX&=67108863,em=Math.imul(eQ,e7),eb=(eb=Math.imul(eQ,tu))+Math.imul(e0,e7)|0,ew=Math.imul(e0,tu),em=em+Math.imul(eZ,td)|0,eb=(eb=eb+Math.imul(eZ,tg)|0)+Math.imul(eY,td)|0,ew=ew+Math.imul(eY,tg)|0,em=em+Math.imul(eG,tb)|0,eb=(eb=eb+Math.imul(eG,tw)|0)+Math.imul(eW,tb)|0,ew=ew+Math.imul(eW,tw)|0,em=em+Math.imul(eK,tE)|0,eb=(eb=eb+Math.imul(eK,tA)|0)+Math.imul(eH,tE)|0,ew=ew+Math.imul(eH,tA)|0,em=em+Math.imul(ej,tI)|0,eb=(eb=eb+Math.imul(ej,tC)|0)+Math.imul(eF,tI)|0,ew=ew+Math.imul(eF,tC)|0,em=em+Math.imul(eB,tT)|0,eb=(eb=eb+Math.imul(eB,tP)|0)+Math.imul(eU,tT)|0,ew=ew+Math.imul(eU,tP)|0,em=em+Math.imul(ek,tR)|0,eb=(eb=eb+Math.imul(ek,tD)|0)+Math.imul(eR,tR)|0,ew=ew+Math.imul(eR,tD)|0,em=em+Math.imul(eT,tU)|0,eb=(eb=eb+Math.imul(eT,tL)|0)+Math.imul(eP,tU)|0,ew=ew+Math.imul(eP,tL)|0;var tQ=(eS+(em=em+Math.imul(eC,tF)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eC,t$)|0)+Math.imul(eM,tF)|0))<<13)|0;eS=((ew=ew+Math.imul(eM,t$)|0)+(eb>>>13)|0)+(tQ>>>26)|0,tQ&=67108863,em=Math.imul(e8,e7),eb=(eb=Math.imul(e8,tu))+Math.imul(e5,e7)|0,ew=Math.imul(e5,tu),em=em+Math.imul(eQ,td)|0,eb=(eb=eb+Math.imul(eQ,tg)|0)+Math.imul(e0,td)|0,ew=ew+Math.imul(e0,tg)|0,em=em+Math.imul(eZ,tb)|0,eb=(eb=eb+Math.imul(eZ,tw)|0)+Math.imul(eY,tb)|0,ew=ew+Math.imul(eY,tw)|0,em=em+Math.imul(eG,tE)|0,eb=(eb=eb+Math.imul(eG,tA)|0)+Math.imul(eW,tE)|0,ew=ew+Math.imul(eW,tA)|0,em=em+Math.imul(eK,tI)|0,eb=(eb=eb+Math.imul(eK,tC)|0)+Math.imul(eH,tI)|0,ew=ew+Math.imul(eH,tC)|0,em=em+Math.imul(ej,tT)|0,eb=(eb=eb+Math.imul(ej,tP)|0)+Math.imul(eF,tT)|0,ew=ew+Math.imul(eF,tP)|0,em=em+Math.imul(eB,tR)|0,eb=(eb=eb+Math.imul(eB,tD)|0)+Math.imul(eU,tR)|0,ew=ew+Math.imul(eU,tD)|0,em=em+Math.imul(ek,tU)|0,eb=(eb=eb+Math.imul(ek,tL)|0)+Math.imul(eR,tU)|0,ew=ew+Math.imul(eR,tL)|0,em=em+Math.imul(eT,tF)|0,eb=(eb=eb+Math.imul(eT,t$)|0)+Math.imul(eP,tF)|0,ew=ew+Math.imul(eP,t$)|0;var t6=(eS+(em=em+Math.imul(eC,tq)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eC,tz)|0)+Math.imul(eM,tq)|0))<<13)|0;eS=((ew=ew+Math.imul(eM,tz)|0)+(eb>>>13)|0)+(t6>>>26)|0,t6&=67108863,em=Math.imul(e8,td),eb=(eb=Math.imul(e8,tg))+Math.imul(e5,td)|0,ew=Math.imul(e5,tg),em=em+Math.imul(eQ,tb)|0,eb=(eb=eb+Math.imul(eQ,tw)|0)+Math.imul(e0,tb)|0,ew=ew+Math.imul(e0,tw)|0,em=em+Math.imul(eZ,tE)|0,eb=(eb=eb+Math.imul(eZ,tA)|0)+Math.imul(eY,tE)|0,ew=ew+Math.imul(eY,tA)|0,em=em+Math.imul(eG,tI)|0,eb=(eb=eb+Math.imul(eG,tC)|0)+Math.imul(eW,tI)|0,ew=ew+Math.imul(eW,tC)|0,em=em+Math.imul(eK,tT)|0,eb=(eb=eb+Math.imul(eK,tP)|0)+Math.imul(eH,tT)|0,ew=ew+Math.imul(eH,tP)|0,em=em+Math.imul(ej,tR)|0,eb=(eb=eb+Math.imul(ej,tD)|0)+Math.imul(eF,tR)|0,ew=ew+Math.imul(eF,tD)|0,em=em+Math.imul(eB,tU)|0,eb=(eb=eb+Math.imul(eB,tL)|0)+Math.imul(eU,tU)|0,ew=ew+Math.imul(eU,tL)|0,em=em+Math.imul(ek,tF)|0,eb=(eb=eb+Math.imul(ek,t$)|0)+Math.imul(eR,tF)|0,ew=ew+Math.imul(eR,t$)|0;var t8=(eS+(em=em+Math.imul(eT,tq)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eT,tz)|0)+Math.imul(eP,tq)|0))<<13)|0;eS=((ew=ew+Math.imul(eP,tz)|0)+(eb>>>13)|0)+(t8>>>26)|0,t8&=67108863,em=Math.imul(e8,tb),eb=(eb=Math.imul(e8,tw))+Math.imul(e5,tb)|0,ew=Math.imul(e5,tw),em=em+Math.imul(eQ,tE)|0,eb=(eb=eb+Math.imul(eQ,tA)|0)+Math.imul(e0,tE)|0,ew=ew+Math.imul(e0,tA)|0,em=em+Math.imul(eZ,tI)|0,eb=(eb=eb+Math.imul(eZ,tC)|0)+Math.imul(eY,tI)|0,ew=ew+Math.imul(eY,tC)|0,em=em+Math.imul(eG,tT)|0,eb=(eb=eb+Math.imul(eG,tP)|0)+Math.imul(eW,tT)|0,ew=ew+Math.imul(eW,tP)|0,em=em+Math.imul(eK,tR)|0,eb=(eb=eb+Math.imul(eK,tD)|0)+Math.imul(eH,tR)|0,ew=ew+Math.imul(eH,tD)|0,em=em+Math.imul(ej,tU)|0,eb=(eb=eb+Math.imul(ej,tL)|0)+Math.imul(eF,tU)|0,ew=ew+Math.imul(eF,tL)|0,em=em+Math.imul(eB,tF)|0,eb=(eb=eb+Math.imul(eB,t$)|0)+Math.imul(eU,tF)|0,ew=ew+Math.imul(eU,t$)|0;var t5=(eS+(em=em+Math.imul(ek,tq)|0)|0)+((8191&(eb=(eb=eb+Math.imul(ek,tz)|0)+Math.imul(eR,tq)|0))<<13)|0;eS=((ew=ew+Math.imul(eR,tz)|0)+(eb>>>13)|0)+(t5>>>26)|0,t5&=67108863,em=Math.imul(e8,tE),eb=(eb=Math.imul(e8,tA))+Math.imul(e5,tE)|0,ew=Math.imul(e5,tA),em=em+Math.imul(eQ,tI)|0,eb=(eb=eb+Math.imul(eQ,tC)|0)+Math.imul(e0,tI)|0,ew=ew+Math.imul(e0,tC)|0,em=em+Math.imul(eZ,tT)|0,eb=(eb=eb+Math.imul(eZ,tP)|0)+Math.imul(eY,tT)|0,ew=ew+Math.imul(eY,tP)|0,em=em+Math.imul(eG,tR)|0,eb=(eb=eb+Math.imul(eG,tD)|0)+Math.imul(eW,tR)|0,ew=ew+Math.imul(eW,tD)|0,em=em+Math.imul(eK,tU)|0,eb=(eb=eb+Math.imul(eK,tL)|0)+Math.imul(eH,tU)|0,ew=ew+Math.imul(eH,tL)|0,em=em+Math.imul(ej,tF)|0,eb=(eb=eb+Math.imul(ej,t$)|0)+Math.imul(eF,tF)|0,ew=ew+Math.imul(eF,t$)|0;var t4=(eS+(em=em+Math.imul(eB,tq)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eB,tz)|0)+Math.imul(eU,tq)|0))<<13)|0;eS=((ew=ew+Math.imul(eU,tz)|0)+(eb>>>13)|0)+(t4>>>26)|0,t4&=67108863,em=Math.imul(e8,tI),eb=(eb=Math.imul(e8,tC))+Math.imul(e5,tI)|0,ew=Math.imul(e5,tC),em=em+Math.imul(eQ,tT)|0,eb=(eb=eb+Math.imul(eQ,tP)|0)+Math.imul(e0,tT)|0,ew=ew+Math.imul(e0,tP)|0,em=em+Math.imul(eZ,tR)|0,eb=(eb=eb+Math.imul(eZ,tD)|0)+Math.imul(eY,tR)|0,ew=ew+Math.imul(eY,tD)|0,em=em+Math.imul(eG,tU)|0,eb=(eb=eb+Math.imul(eG,tL)|0)+Math.imul(eW,tU)|0,ew=ew+Math.imul(eW,tL)|0,em=em+Math.imul(eK,tF)|0,eb=(eb=eb+Math.imul(eK,t$)|0)+Math.imul(eH,tF)|0,ew=ew+Math.imul(eH,t$)|0;var t9=(eS+(em=em+Math.imul(ej,tq)|0)|0)+((8191&(eb=(eb=eb+Math.imul(ej,tz)|0)+Math.imul(eF,tq)|0))<<13)|0;eS=((ew=ew+Math.imul(eF,tz)|0)+(eb>>>13)|0)+(t9>>>26)|0,t9&=67108863,em=Math.imul(e8,tT),eb=(eb=Math.imul(e8,tP))+Math.imul(e5,tT)|0,ew=Math.imul(e5,tP),em=em+Math.imul(eQ,tR)|0,eb=(eb=eb+Math.imul(eQ,tD)|0)+Math.imul(e0,tR)|0,ew=ew+Math.imul(e0,tD)|0,em=em+Math.imul(eZ,tU)|0,eb=(eb=eb+Math.imul(eZ,tL)|0)+Math.imul(eY,tU)|0,ew=ew+Math.imul(eY,tL)|0,em=em+Math.imul(eG,tF)|0,eb=(eb=eb+Math.imul(eG,t$)|0)+Math.imul(eW,tF)|0,ew=ew+Math.imul(eW,t$)|0;var t7=(eS+(em=em+Math.imul(eK,tq)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eK,tz)|0)+Math.imul(eH,tq)|0))<<13)|0;eS=((ew=ew+Math.imul(eH,tz)|0)+(eb>>>13)|0)+(t7>>>26)|0,t7&=67108863,em=Math.imul(e8,tR),eb=(eb=Math.imul(e8,tD))+Math.imul(e5,tR)|0,ew=Math.imul(e5,tD),em=em+Math.imul(eQ,tU)|0,eb=(eb=eb+Math.imul(eQ,tL)|0)+Math.imul(e0,tU)|0,ew=ew+Math.imul(e0,tL)|0,em=em+Math.imul(eZ,tF)|0,eb=(eb=eb+Math.imul(eZ,t$)|0)+Math.imul(eY,tF)|0,ew=ew+Math.imul(eY,t$)|0;var ru=(eS+(em=em+Math.imul(eG,tq)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eG,tz)|0)+Math.imul(eW,tq)|0))<<13)|0;eS=((ew=ew+Math.imul(eW,tz)|0)+(eb>>>13)|0)+(ru>>>26)|0,ru&=67108863,em=Math.imul(e8,tU),eb=(eb=Math.imul(e8,tL))+Math.imul(e5,tU)|0,ew=Math.imul(e5,tL),em=em+Math.imul(eQ,tF)|0,eb=(eb=eb+Math.imul(eQ,t$)|0)+Math.imul(e0,tF)|0,ew=ew+Math.imul(e0,t$)|0;var rd=(eS+(em=em+Math.imul(eZ,tq)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eZ,tz)|0)+Math.imul(eY,tq)|0))<<13)|0;eS=((ew=ew+Math.imul(eY,tz)|0)+(eb>>>13)|0)+(rd>>>26)|0,rd&=67108863,em=Math.imul(e8,tF),eb=(eb=Math.imul(e8,t$))+Math.imul(e5,tF)|0,ew=Math.imul(e5,t$);var rp=(eS+(em=em+Math.imul(eQ,tq)|0)|0)+((8191&(eb=(eb=eb+Math.imul(eQ,tz)|0)+Math.imul(e0,tq)|0))<<13)|0;eS=((ew=ew+Math.imul(e0,tz)|0)+(eb>>>13)|0)+(rp>>>26)|0,rp&=67108863;var rg=(eS+(em=Math.imul(e8,tq))|0)+((8191&(eb=(eb=Math.imul(e8,tz))+Math.imul(e5,tq)|0))<<13)|0;return eS=((ew=Math.imul(e5,tz))+(eb>>>13)|0)+(rg>>>26)|0,rg&=67108863,eA[0]=tH,eA[1]=tV,eA[2]=tG,eA[3]=tW,eA[4]=tJ,eA[5]=tZ,eA[6]=tY,eA[7]=tX,eA[8]=tQ,eA[9]=t6,eA[10]=t8,eA[11]=t5,eA[12]=t4,eA[13]=t9,eA[14]=t7,eA[15]=ru,eA[16]=rd,eA[17]=rp,eA[18]=rg,0!==eS&&(eA[19]=eS,eg.length++),eg};function eN(eu,ed,eg){eg.negative=ed.negative^eu.negative,eg.length=eu.length+ed.length;for(var em=0,eb=0,ew=0;ew<eg.length-1;ew++){var e_=eb;eb=0;for(var eE=67108863&em,eA=Math.min(ew,ed.length-1),eS=Math.max(0,ew-eu.length+1);eS<=eA;eS++){var eI=ew-eS,eC=(0|eu.words[eI])*(0|ed.words[eS]),eM=67108863&eC;e_=e_+(eC/67108864|0)|0,eE=67108863&(eM=eM+eE|0),eb+=(e_=e_+(eM>>>26)|0)>>>26,e_&=67108863}eg.words[ew]=eE,em=e_,e_=eb}return 0!==em?eg.words[ew]=em:eg.length--,eg.strip()}function ek(eu,ed,eg){return new eR().mulp(eu,ed,eg)}function eR(eu,ed){this.x=eu,this.y=ed}Math.imul||(eP=eT),ew.prototype.mulTo=function(eu,ed){var eg=this.length+eu.length;return 10===this.length&&10===eu.length?eP(this,eu,ed):eg<63?eT(this,eu,ed):eg<1024?eN(this,eu,ed):ek(this,eu,ed)},eR.prototype.makeRBT=function(eu){for(var ed=Array(eu),eg=ew.prototype._countBits(eu)-1,em=0;em<eu;em++)ed[em]=this.revBin(em,eg,eu);return ed},eR.prototype.revBin=function(eu,ed,eg){if(0===eu||eu===eg-1)return eu;for(var em=0,eb=0;eb<ed;eb++)em|=(1&eu)<<ed-eb-1,eu>>=1;return em},eR.prototype.permute=function(eu,ed,eg,em,eb,ew){for(var e_=0;e_<ew;e_++)em[e_]=ed[eu[e_]],eb[e_]=eg[eu[e_]]},eR.prototype.transform=function(eu,ed,eg,em,eb,ew){this.permute(ew,eu,ed,eg,em,eb);for(var e_=1;e_<eb;e_<<=1)for(var eE=e_<<1,eA=Math.cos(2*Math.PI/eE),eS=Math.sin(2*Math.PI/eE),eI=0;eI<eb;eI+=eE)for(var eC=eA,eM=eS,eO=0;eO<e_;eO++){var eT=eg[eI+eO],eP=em[eI+eO],eN=eg[eI+eO+e_],ek=em[eI+eO+e_],eR=eC*eN-eM*ek;ek=eC*ek+eM*eN,eN=eR,eg[eI+eO]=eT+eN,em[eI+eO]=eP+ek,eg[eI+eO+e_]=eT-eN,em[eI+eO+e_]=eP-ek,eO!==eE&&(eR=eA*eC-eS*eM,eM=eA*eM+eS*eC,eC=eR)}},eR.prototype.guessLen13b=function(eu,ed){var eg=1|Math.max(ed,eu),em=1&eg,eb=0;for(eg=eg/2|0;eg;eg>>>=1)eb++;return 1<<eb+1+em},eR.prototype.conjugate=function(eu,ed,eg){if(!(eg<=1))for(var em=0;em<eg/2;em++){var eb=eu[em];eu[em]=eu[eg-em-1],eu[eg-em-1]=eb,eb=ed[em],ed[em]=-ed[eg-em-1],ed[eg-em-1]=-eb}},eR.prototype.normalize13b=function(eu,ed){for(var eg=0,em=0;em<ed/2;em++){var eb=8192*Math.round(eu[2*em+1]/ed)+Math.round(eu[2*em]/ed)+eg;eu[em]=67108863&eb,eg=eb<67108864?0:eb/67108864|0}return eu},eR.prototype.convert13b=function(eu,ed,eg,eb){for(var ew=0,e_=0;e_<ed;e_++)ew+=0|eu[e_],eg[2*e_]=8191&ew,ew>>>=13,eg[2*e_+1]=8191&ew,ew>>>=13;for(e_=2*ed;e_<eb;++e_)eg[e_]=0;em(0===ew),em((-8192&ew)==0)},eR.prototype.stub=function(eu){for(var ed=Array(eu),eg=0;eg<eu;eg++)ed[eg]=0;return ed},eR.prototype.mulp=function(eu,ed,eg){var em=2*this.guessLen13b(eu.length,ed.length),eb=this.makeRBT(em),ew=this.stub(em),e_=Array(em),eE=Array(em),eA=Array(em),eS=Array(em),eI=Array(em),eC=Array(em),eM=eg.words;eM.length=em,this.convert13b(eu.words,eu.length,e_,em),this.convert13b(ed.words,ed.length,eS,em),this.transform(e_,ew,eE,eA,em,eb),this.transform(eS,ew,eI,eC,em,eb);for(var eO=0;eO<em;eO++){var eT=eE[eO]*eI[eO]-eA[eO]*eC[eO];eA[eO]=eE[eO]*eC[eO]+eA[eO]*eI[eO],eE[eO]=eT}return this.conjugate(eE,eA,em),this.transform(eE,eA,eM,ew,em,eb),this.conjugate(eM,ew,em),this.normalize13b(eM,em),eg.negative=eu.negative^ed.negative,eg.length=eu.length+ed.length,eg.strip()},ew.prototype.mul=function(eu){var ed=new ew(null);return ed.words=Array(this.length+eu.length),this.mulTo(eu,ed)},ew.prototype.mulf=function(eu){var ed=new ew(null);return ed.words=Array(this.length+eu.length),ek(this,eu,ed)},ew.prototype.imul=function(eu){return this.clone().mulTo(eu,this)},ew.prototype.imuln=function(eu){em("number"==typeof eu),em(eu<67108864);for(var ed=0,eg=0;eg<this.length;eg++){var eb=(0|this.words[eg])*eu,ew=(67108863&eb)+(67108863&ed);ed>>=26,ed+=(eb/67108864|0)+(ew>>>26),this.words[eg]=67108863&ew}return 0!==ed&&(this.words[eg]=ed,this.length++),this.length=0===eu?1:this.length,this},ew.prototype.muln=function(eu){return this.clone().imuln(eu)},ew.prototype.sqr=function(){return this.mul(this)},ew.prototype.isqr=function(){return this.imul(this.clone())},ew.prototype.pow=function(eu){var ed=eO(eu);if(0===ed.length)return new ew(1);for(var eg=this,em=0;em<ed.length&&0===ed[em];em++,eg=eg.sqr());if(++em<ed.length)for(var eb=eg.sqr();em<ed.length;em++,eb=eb.sqr())0!==ed[em]&&(eg=eg.mul(eb));return eg},ew.prototype.iushln=function(eu){em("number"==typeof eu&&eu>=0);var ed,eg=eu%26,eb=(eu-eg)/26,ew=67108863>>>26-eg<<26-eg;if(0!==eg){var e_=0;for(ed=0;ed<this.length;ed++){var eE=this.words[ed]&ew,eA=(0|this.words[ed])-eE<<eg;this.words[ed]=eA|e_,e_=eE>>>26-eg}e_&&(this.words[ed]=e_,this.length++)}if(0!==eb){for(ed=this.length-1;ed>=0;ed--)this.words[ed+eb]=this.words[ed];for(ed=0;ed<eb;ed++)this.words[ed]=0;this.length+=eb}return this.strip()},ew.prototype.ishln=function(eu){return em(0===this.negative),this.iushln(eu)},ew.prototype.iushrn=function(eu,ed,eg){em("number"==typeof eu&&eu>=0),eb=ed?(ed-ed%26)/26:0;var eb,ew=eu%26,e_=Math.min((eu-ew)/26,this.length),eE=67108863^67108863>>>ew<<ew,eA=eg;if(eb-=e_,eb=Math.max(0,eb),eA){for(var eS=0;eS<e_;eS++)eA.words[eS]=this.words[eS];eA.length=e_}if(0===e_);else if(this.length>e_)for(this.length-=e_,eS=0;eS<this.length;eS++)this.words[eS]=this.words[eS+e_];else this.words[0]=0,this.length=1;var eI=0;for(eS=this.length-1;eS>=0&&(0!==eI||eS>=eb);eS--){var eC=0|this.words[eS];this.words[eS]=eI<<26-ew|eC>>>ew,eI=eC&eE}return eA&&0!==eI&&(eA.words[eA.length++]=eI),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},ew.prototype.ishrn=function(eu,ed,eg){return em(0===this.negative),this.iushrn(eu,ed,eg)},ew.prototype.shln=function(eu){return this.clone().ishln(eu)},ew.prototype.ushln=function(eu){return this.clone().iushln(eu)},ew.prototype.shrn=function(eu){return this.clone().ishrn(eu)},ew.prototype.ushrn=function(eu){return this.clone().iushrn(eu)},ew.prototype.testn=function(eu){em("number"==typeof eu&&eu>=0);var ed=eu%26,eg=(eu-ed)/26,eb=1<<ed;return!(this.length<=eg)&&!!(this.words[eg]&eb)},ew.prototype.imaskn=function(eu){em("number"==typeof eu&&eu>=0);var ed=eu%26,eg=(eu-ed)/26;if(em(0===this.negative,"imaskn works only with positive numbers"),this.length<=eg)return this;if(0!==ed&&eg++,this.length=Math.min(eg,this.length),0!==ed){var eb=67108863^67108863>>>ed<<ed;this.words[this.length-1]&=eb}return this.strip()},ew.prototype.maskn=function(eu){return this.clone().imaskn(eu)},ew.prototype.iaddn=function(eu){return(em("number"==typeof eu),em(eu<67108864),eu<0)?this.isubn(-eu):0!==this.negative?1===this.length&&(0|this.words[0])<eu?(this.words[0]=eu-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(eu),this.negative=1,this):this._iaddn(eu)},ew.prototype._iaddn=function(eu){this.words[0]+=eu;for(var ed=0;ed<this.length&&this.words[ed]>=67108864;ed++)this.words[ed]-=67108864,ed===this.length-1?this.words[ed+1]=1:this.words[ed+1]++;return this.length=Math.max(this.length,ed+1),this},ew.prototype.isubn=function(eu){if(em("number"==typeof eu),em(eu<67108864),eu<0)return this.iaddn(-eu);if(0!==this.negative)return this.negative=0,this.iaddn(eu),this.negative=1,this;if(this.words[0]-=eu,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var ed=0;ed<this.length&&this.words[ed]<0;ed++)this.words[ed]+=67108864,this.words[ed+1]-=1;return this.strip()},ew.prototype.addn=function(eu){return this.clone().iaddn(eu)},ew.prototype.subn=function(eu){return this.clone().isubn(eu)},ew.prototype.iabs=function(){return this.negative=0,this},ew.prototype.abs=function(){return this.clone().iabs()},ew.prototype._ishlnsubmul=function(eu,ed,eg){var eb,ew,e_=eu.length+eg;this._expand(e_);var eE=0;for(eb=0;eb<eu.length;eb++){ew=(0|this.words[eb+eg])+eE;var eA=(0|eu.words[eb])*ed;ew-=67108863&eA,eE=(ew>>26)-(eA/67108864|0),this.words[eb+eg]=67108863&ew}for(;eb<this.length-eg;eb++)eE=(ew=(0|this.words[eb+eg])+eE)>>26,this.words[eb+eg]=67108863&ew;if(0===eE)return this.strip();for(em(-1===eE),eE=0,eb=0;eb<this.length;eb++)eE=(ew=-(0|this.words[eb])+eE)>>26,this.words[eb]=67108863&ew;return this.negative=1,this.strip()},ew.prototype._wordDiv=function(eu,ed){var eg,em=this.length-eu.length,eb=this.clone(),e_=eu,eE=0|e_.words[e_.length-1];0!=(em=26-this._countBits(eE))&&(e_=e_.ushln(em),eb.iushln(em),eE=0|e_.words[e_.length-1]);var eA=eb.length-e_.length;if("mod"!==ed){(eg=new ew(null)).length=eA+1,eg.words=Array(eg.length);for(var eS=0;eS<eg.length;eS++)eg.words[eS]=0}var eI=eb.clone()._ishlnsubmul(e_,1,eA);0===eI.negative&&(eb=eI,eg&&(eg.words[eA]=1));for(var eC=eA-1;eC>=0;eC--){var eM=(0|eb.words[e_.length+eC])*67108864+(0|eb.words[e_.length+eC-1]);for(eM=Math.min(eM/eE|0,67108863),eb._ishlnsubmul(e_,eM,eC);0!==eb.negative;)eM--,eb.negative=0,eb._ishlnsubmul(e_,1,eC),eb.isZero()||(eb.negative^=1);eg&&(eg.words[eC]=eM)}return eg&&eg.strip(),eb.strip(),"div"!==ed&&0!==em&&eb.iushrn(em),{div:eg||null,mod:eb}},ew.prototype.divmod=function(eu,ed,eg){var eb,e_,eE;return(em(!eu.isZero()),this.isZero())?{div:new ew(0),mod:new ew(0)}:0!==this.negative&&0===eu.negative?(eE=this.neg().divmod(eu,ed),"mod"!==ed&&(eb=eE.div.neg()),"div"!==ed&&(e_=eE.mod.neg(),eg&&0!==e_.negative&&e_.iadd(eu)),{div:eb,mod:e_}):0===this.negative&&0!==eu.negative?(eE=this.divmod(eu.neg(),ed),"mod"!==ed&&(eb=eE.div.neg()),{div:eb,mod:eE.mod}):(this.negative&eu.negative)!=0?(eE=this.neg().divmod(eu.neg(),ed),"div"!==ed&&(e_=eE.mod.neg(),eg&&0!==e_.negative&&e_.isub(eu)),{div:eE.div,mod:e_}):eu.length>this.length||0>this.cmp(eu)?{div:new ew(0),mod:this}:1===eu.length?"div"===ed?{div:this.divn(eu.words[0]),mod:null}:"mod"===ed?{div:null,mod:new ew(this.modn(eu.words[0]))}:{div:this.divn(eu.words[0]),mod:new ew(this.modn(eu.words[0]))}:this._wordDiv(eu,ed)},ew.prototype.div=function(eu){return this.divmod(eu,"div",!1).div},ew.prototype.mod=function(eu){return this.divmod(eu,"mod",!1).mod},ew.prototype.umod=function(eu){return this.divmod(eu,"mod",!0).mod},ew.prototype.divRound=function(eu){var ed=this.divmod(eu);if(ed.mod.isZero())return ed.div;var eg=0!==ed.div.negative?ed.mod.isub(eu):ed.mod,em=eu.ushrn(1),eb=eu.andln(1),ew=eg.cmp(em);return ew<0||1===eb&&0===ew?ed.div:0!==ed.div.negative?ed.div.isubn(1):ed.div.iaddn(1)},ew.prototype.modn=function(eu){em(eu<=67108863);for(var ed=67108864%eu,eg=0,eb=this.length-1;eb>=0;eb--)eg=(ed*eg+(0|this.words[eb]))%eu;return eg},ew.prototype.idivn=function(eu){em(eu<=67108863);for(var ed=0,eg=this.length-1;eg>=0;eg--){var eb=(0|this.words[eg])+67108864*ed;this.words[eg]=eb/eu|0,ed=eb%eu}return this.strip()},ew.prototype.divn=function(eu){return this.clone().idivn(eu)},ew.prototype.egcd=function(eu){em(0===eu.negative),em(!eu.isZero());var ed=this,eg=eu.clone();ed=0!==ed.negative?ed.umod(eu):ed.clone();for(var eb=new ew(1),e_=new ew(0),eE=new ew(0),eA=new ew(1),eS=0;ed.isEven()&&eg.isEven();)ed.iushrn(1),eg.iushrn(1),++eS;for(var eI=eg.clone(),eC=ed.clone();!ed.isZero();){for(var eM=0,eO=1;(ed.words[0]&eO)==0&&eM<26;++eM,eO<<=1);if(eM>0)for(ed.iushrn(eM);eM-- >0;)(eb.isOdd()||e_.isOdd())&&(eb.iadd(eI),e_.isub(eC)),eb.iushrn(1),e_.iushrn(1);for(var eT=0,eP=1;(eg.words[0]&eP)==0&&eT<26;++eT,eP<<=1);if(eT>0)for(eg.iushrn(eT);eT-- >0;)(eE.isOdd()||eA.isOdd())&&(eE.iadd(eI),eA.isub(eC)),eE.iushrn(1),eA.iushrn(1);ed.cmp(eg)>=0?(ed.isub(eg),eb.isub(eE),e_.isub(eA)):(eg.isub(ed),eE.isub(eb),eA.isub(e_))}return{a:eE,b:eA,gcd:eg.iushln(eS)}},ew.prototype._invmp=function(eu){em(0===eu.negative),em(!eu.isZero());var ed,eg=this,eb=eu.clone();eg=0!==eg.negative?eg.umod(eu):eg.clone();for(var e_=new ew(1),eE=new ew(0),eA=eb.clone();eg.cmpn(1)>0&&eb.cmpn(1)>0;){for(var eS=0,eI=1;(eg.words[0]&eI)==0&&eS<26;++eS,eI<<=1);if(eS>0)for(eg.iushrn(eS);eS-- >0;)e_.isOdd()&&e_.iadd(eA),e_.iushrn(1);for(var eC=0,eM=1;(eb.words[0]&eM)==0&&eC<26;++eC,eM<<=1);if(eC>0)for(eb.iushrn(eC);eC-- >0;)eE.isOdd()&&eE.iadd(eA),eE.iushrn(1);eg.cmp(eb)>=0?(eg.isub(eb),e_.isub(eE)):(eb.isub(eg),eE.isub(e_))}return 0>(ed=0===eg.cmpn(1)?e_:eE).cmpn(0)&&ed.iadd(eu),ed},ew.prototype.gcd=function(eu){if(this.isZero())return eu.abs();if(eu.isZero())return this.abs();var ed=this.clone(),eg=eu.clone();ed.negative=0,eg.negative=0;for(var em=0;ed.isEven()&&eg.isEven();em++)ed.iushrn(1),eg.iushrn(1);for(;;){for(;ed.isEven();)ed.iushrn(1);for(;eg.isEven();)eg.iushrn(1);var eb=ed.cmp(eg);if(eb<0){var ew=ed;ed=eg,eg=ew}else if(0===eb||0===eg.cmpn(1))break;ed.isub(eg)}return eg.iushln(em)},ew.prototype.invm=function(eu){return this.egcd(eu).a.umod(eu)},ew.prototype.isEven=function(){return(1&this.words[0])==0},ew.prototype.isOdd=function(){return(1&this.words[0])==1},ew.prototype.andln=function(eu){return this.words[0]&eu},ew.prototype.bincn=function(eu){em("number"==typeof eu);var ed=eu%26,eg=(eu-ed)/26,eb=1<<ed;if(this.length<=eg)return this._expand(eg+1),this.words[eg]|=eb,this;for(var ew=eb,e_=eg;0!==ew&&e_<this.length;e_++){var eE=0|this.words[e_];eE+=ew,ew=eE>>>26,eE&=67108863,this.words[e_]=eE}return 0!==ew&&(this.words[e_]=ew,this.length++),this},ew.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},ew.prototype.cmpn=function(eu){var ed,eg=eu<0;if(0!==this.negative&&!eg)return -1;if(0===this.negative&&eg)return 1;if(this.strip(),this.length>1)ed=1;else{eg&&(eu=-eu),em(eu<=67108863,"Number is too big");var eb=0|this.words[0];ed=eb===eu?0:eb<eu?-1:1}return 0!==this.negative?0|-ed:ed},ew.prototype.cmp=function(eu){if(0!==this.negative&&0===eu.negative)return -1;if(0===this.negative&&0!==eu.negative)return 1;var ed=this.ucmp(eu);return 0!==this.negative?0|-ed:ed},ew.prototype.ucmp=function(eu){if(this.length>eu.length)return 1;if(this.length<eu.length)return -1;for(var ed=0,eg=this.length-1;eg>=0;eg--){var em=0|this.words[eg],eb=0|eu.words[eg];if(em!==eb){em<eb?ed=-1:em>eb&&(ed=1);break}}return ed},ew.prototype.gtn=function(eu){return 1===this.cmpn(eu)},ew.prototype.gt=function(eu){return 1===this.cmp(eu)},ew.prototype.gten=function(eu){return this.cmpn(eu)>=0},ew.prototype.gte=function(eu){return this.cmp(eu)>=0},ew.prototype.ltn=function(eu){return -1===this.cmpn(eu)},ew.prototype.lt=function(eu){return -1===this.cmp(eu)},ew.prototype.lten=function(eu){return 0>=this.cmpn(eu)},ew.prototype.lte=function(eu){return 0>=this.cmp(eu)},ew.prototype.eqn=function(eu){return 0===this.cmpn(eu)},ew.prototype.eq=function(eu){return 0===this.cmp(eu)},ew.red=function(eu){return new e$(eu)},ew.prototype.toRed=function(eu){return em(!this.red,"Already a number in reduction context"),em(0===this.negative,"red works only with positives"),eu.convertTo(this)._forceRed(eu)},ew.prototype.fromRed=function(){return em(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},ew.prototype._forceRed=function(eu){return this.red=eu,this},ew.prototype.forceRed=function(eu){return em(!this.red,"Already a number in reduction context"),this._forceRed(eu)},ew.prototype.redAdd=function(eu){return em(this.red,"redAdd works only with red numbers"),this.red.add(this,eu)},ew.prototype.redIAdd=function(eu){return em(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,eu)},ew.prototype.redSub=function(eu){return em(this.red,"redSub works only with red numbers"),this.red.sub(this,eu)},ew.prototype.redISub=function(eu){return em(this.red,"redISub works only with red numbers"),this.red.isub(this,eu)},ew.prototype.redShl=function(eu){return em(this.red,"redShl works only with red numbers"),this.red.shl(this,eu)},ew.prototype.redMul=function(eu){return em(this.red,"redMul works only with red numbers"),this.red._verify2(this,eu),this.red.mul(this,eu)},ew.prototype.redIMul=function(eu){return em(this.red,"redMul works only with red numbers"),this.red._verify2(this,eu),this.red.imul(this,eu)},ew.prototype.redSqr=function(){return em(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},ew.prototype.redISqr=function(){return em(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},ew.prototype.redSqrt=function(){return em(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},ew.prototype.redInvm=function(){return em(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},ew.prototype.redNeg=function(){return em(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},ew.prototype.redPow=function(eu){return em(this.red&&!eu.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,eu)};var eD={k256:null,p224:null,p192:null,p25519:null};function eB(eu,ed){this.name=eu,this.p=new ew(ed,16),this.n=this.p.bitLength(),this.k=new ew(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function eU(){eB.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function eL(){eB.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function ej(){eB.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function eF(){eB.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function e$(eu){if("string"==typeof eu){var ed=ew._prime(eu);this.m=ed.p,this.prime=ed}else em(eu.gtn(1),"modulus must be greater than 1"),this.m=eu,this.prime=null}function eK(eu){e$.call(this,eu),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new ew(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}eB.prototype._tmp=function(){var eu=new ew(null);return eu.words=Array(Math.ceil(this.n/13)),eu},eB.prototype.ireduce=function(eu){var ed,eg=eu;do this.split(eg,this.tmp),ed=(eg=(eg=this.imulK(eg)).iadd(this.tmp)).bitLength();while(ed>this.n);var em=ed<this.n?-1:eg.ucmp(this.p);return 0===em?(eg.words[0]=0,eg.length=1):em>0?eg.isub(this.p):void 0!==eg.strip?eg.strip():eg._strip(),eg},eB.prototype.split=function(eu,ed){eu.iushrn(this.n,0,ed)},eB.prototype.imulK=function(eu){return eu.imul(this.k)},eb(eU,eB),eU.prototype.split=function(eu,ed){for(var eg=4194303,em=Math.min(eu.length,9),eb=0;eb<em;eb++)ed.words[eb]=eu.words[eb];if(ed.length=em,eu.length<=9){eu.words[0]=0,eu.length=1;return}var ew=eu.words[9];for(eb=10,ed.words[ed.length++]=ew&eg;eb<eu.length;eb++){var e_=0|eu.words[eb];eu.words[eb-10]=(e_&eg)<<4|ew>>>22,ew=e_}ew>>>=22,eu.words[eb-10]=ew,0===ew&&eu.length>10?eu.length-=10:eu.length-=9},eU.prototype.imulK=function(eu){eu.words[eu.length]=0,eu.words[eu.length+1]=0,eu.length+=2;for(var ed=0,eg=0;eg<eu.length;eg++){var em=0|eu.words[eg];ed+=977*em,eu.words[eg]=67108863&ed,ed=64*em+(ed/67108864|0)}return 0===eu.words[eu.length-1]&&(eu.length--,0===eu.words[eu.length-1]&&eu.length--),eu},eb(eL,eB),eb(ej,eB),eb(eF,eB),eF.prototype.imulK=function(eu){for(var ed=0,eg=0;eg<eu.length;eg++){var em=(0|eu.words[eg])*19+ed,eb=67108863&em;em>>>=26,eu.words[eg]=eb,ed=em}return 0!==ed&&(eu.words[eu.length++]=ed),eu},ew._prime=function(eu){var ed;if(eD[eu])return eD[eu];if("k256"===eu)ed=new eU;else if("p224"===eu)ed=new eL;else if("p192"===eu)ed=new ej;else if("p25519"===eu)ed=new eF;else throw Error("Unknown prime "+eu);return eD[eu]=ed,ed},e$.prototype._verify1=function(eu){em(0===eu.negative,"red works only with positives"),em(eu.red,"red works only with red numbers")},e$.prototype._verify2=function(eu,ed){em((eu.negative|ed.negative)==0,"red works only with positives"),em(eu.red&&eu.red===ed.red,"red works only with red numbers")},e$.prototype.imod=function(eu){return this.prime?this.prime.ireduce(eu)._forceRed(this):eu.umod(this.m)._forceRed(this)},e$.prototype.neg=function(eu){return eu.isZero()?eu.clone():this.m.sub(eu)._forceRed(this)},e$.prototype.add=function(eu,ed){this._verify2(eu,ed);var eg=eu.add(ed);return eg.cmp(this.m)>=0&&eg.isub(this.m),eg._forceRed(this)},e$.prototype.iadd=function(eu,ed){this._verify2(eu,ed);var eg=eu.iadd(ed);return eg.cmp(this.m)>=0&&eg.isub(this.m),eg},e$.prototype.sub=function(eu,ed){this._verify2(eu,ed);var eg=eu.sub(ed);return 0>eg.cmpn(0)&&eg.iadd(this.m),eg._forceRed(this)},e$.prototype.isub=function(eu,ed){this._verify2(eu,ed);var eg=eu.isub(ed);return 0>eg.cmpn(0)&&eg.iadd(this.m),eg},e$.prototype.shl=function(eu,ed){return this._verify1(eu),this.imod(eu.ushln(ed))},e$.prototype.imul=function(eu,ed){return this._verify2(eu,ed),this.imod(eu.imul(ed))},e$.prototype.mul=function(eu,ed){return this._verify2(eu,ed),this.imod(eu.mul(ed))},e$.prototype.isqr=function(eu){return this.imul(eu,eu.clone())},e$.prototype.sqr=function(eu){return this.mul(eu,eu)},e$.prototype.sqrt=function(eu){if(eu.isZero())return eu.clone();var ed=this.m.andln(3);if(em(ed%2==1),3===ed){var eg=this.m.add(new ew(1)).iushrn(2);return this.pow(eu,eg)}for(var eb=this.m.subn(1),e_=0;!eb.isZero()&&0===eb.andln(1);)e_++,eb.iushrn(1);em(!eb.isZero());var eE=new ew(1).toRed(this),eA=eE.redNeg(),eS=this.m.subn(1).iushrn(1),eI=this.m.bitLength();for(eI=new ew(2*eI*eI).toRed(this);0!==this.pow(eI,eS).cmp(eA);)eI.redIAdd(eA);for(var eC=this.pow(eI,eb),eM=this.pow(eu,eb.addn(1).iushrn(1)),eO=this.pow(eu,eb),eT=e_;0!==eO.cmp(eE);){for(var eP=eO,eN=0;0!==eP.cmp(eE);eN++)eP=eP.redSqr();em(eN<eT);var ek=this.pow(eC,new ew(1).iushln(eT-eN-1));eM=eM.redMul(ek),eC=ek.redSqr(),eO=eO.redMul(eC),eT=eN}return eM},e$.prototype.invm=function(eu){var ed=eu._invmp(this.m);return 0!==ed.negative?(ed.negative=0,this.imod(ed).redNeg()):this.imod(ed)},e$.prototype.pow=function(eu,ed){if(ed.isZero())return new ew(1).toRed(this);if(0===ed.cmpn(1))return eu.clone();var eg=4,em=Array(16);em[0]=new ew(1).toRed(this),em[1]=eu;for(var eb=2;eb<em.length;eb++)em[eb]=this.mul(em[eb-1],eu);var e_=em[0],eE=0,eA=0,eS=ed.bitLength()%26;for(0===eS&&(eS=26),eb=ed.length-1;eb>=0;eb--){for(var eI=ed.words[eb],eC=eS-1;eC>=0;eC--){var eM=eI>>eC&1;if(e_!==em[0]&&(e_=this.sqr(e_)),0===eM&&0===eE){eA=0;continue}eE<<=1,eE|=eM,(++eA===eg||0===eb&&0===eC)&&(e_=this.mul(e_,em[eE]),eA=0,eE=0)}eS=26}return e_},e$.prototype.convertTo=function(eu){var ed=eu.umod(this.m);return ed===eu?ed.clone():ed},e$.prototype.convertFrom=function(eu){var ed=eu.clone();return ed.red=null,ed},ew.mont=function(eu){return new eK(eu)},eb(eK,e$),eK.prototype.convertTo=function(eu){return this.imod(eu.ushln(this.shift))},eK.prototype.convertFrom=function(eu){var ed=this.imod(eu.mul(this.rinv));return ed.red=null,ed},eK.prototype.imul=function(eu,ed){if(eu.isZero()||ed.isZero())return eu.words[0]=0,eu.length=1,eu;var eg=eu.imul(ed),em=eg.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),eb=eg.isub(em).iushrn(this.shift),ew=eb;return eb.cmp(this.m)>=0?ew=eb.isub(this.m):0>eb.cmpn(0)&&(ew=eb.iadd(this.m)),ew._forceRed(this)},eK.prototype.mul=function(eu,ed){if(eu.isZero()||ed.isZero())return new ew(0)._forceRed(this);var eg=eu.mul(ed),em=eg.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),eb=eg.isub(em).iushrn(this.shift),e_=eb;return eb.cmp(this.m)>=0?e_=eb.isub(this.m):0>eb.cmpn(0)&&(e_=eb.iadd(this.m)),e_._forceRed(this)},eK.prototype.invm=function(eu){return this.imod(eu._invmp(this.m).mul(this.r2))._forceRed(this)}}(eu=eg.nmd(eu),this)},76932:function(eu,ed,eg){var em=eg(28016),eb=eg(78525),ew=eg(55468),e_=eg(62216),eE=eg(91857),eA=eg(16162),eS=eg(46112),eI=eg(77834).Buffer;function eC(eu,ed){var eg=eu.modulus.byteLength(),em=eA("sha1").update(eI.alloc(0)).digest(),e_=em.length;if(0!==ed[0])throw Error("decryption error");var eE=ed.slice(1,e_+1),eS=ed.slice(e_+1),eC=ew(eE,eb(eS,e_)),eM=ew(eS,eb(eC,eg-e_-1));if(eO(em,eM.slice(0,e_)))throw Error("decryption error");for(var eT=e_;0===eM[eT];)eT++;if(1!==eM[eT++])throw Error("decryption error");return eM.slice(eT)}function eM(eu,ed,eg){for(var em=ed.slice(0,2),eb=2,ew=0;0!==ed[eb++];)if(eb>=ed.length){ew++;break}var e_=ed.slice(2,eb-1);if(("0002"!==em.toString("hex")&&!eg||"0001"!==em.toString("hex")&&eg)&&ew++,e_.length<8&&ew++,ew)throw Error("decryption error");return ed.slice(eb)}function eO(eu,ed){eu=eI.from(eu),ed=eI.from(ed);var eg=0,em=eu.length;eu.length!==ed.length&&(eg++,em=Math.min(eu.length,ed.length));for(var eb=-1;++eb<em;)eg+=eu[eb]^ed[eb];return eg}eu.exports=function(eu,ed,eg){eb=eu.padding?eu.padding:eg?1:4;var eb,ew,eA=em(eu),eO=eA.modulus.byteLength();if(ed.length>eO||new e_(ed).cmp(eA.modulus)>=0)throw Error("decryption error");ew=eg?eS(new e_(ed),eA):eE(ed,eA);var eT=eI.alloc(eO-ew.length);if(ew=eI.concat([eT,ew],eO),4===eb)return eC(eA,ew);if(1===eb)return eM(eA,ew,eg);if(3===eb)return ew;throw Error("unknown padding")}},61896:function(eu,ed,eg){var em=eg(28016),eb=eg(95003),ew=eg(16162),e_=eg(78525),eE=eg(55468),eA=eg(62216),eS=eg(46112),eI=eg(91857),eC=eg(77834).Buffer;function eM(eu,ed){var eg=eu.modulus.byteLength(),em=ed.length,eS=ew("sha1").update(eC.alloc(0)).digest(),eI=eS.length,eM=2*eI;if(em>eg-eM-2)throw Error("message too long");var eO=eC.alloc(eg-em-eM-2),eT=eg-eI-1,eP=eb(eI),eN=eE(eC.concat([eS,eO,eC.alloc(1,1),ed],eT),e_(eP,eT)),ek=eE(eP,e_(eN,eI));return new eA(eC.concat([eC.alloc(1),ek,eN],eg))}function eO(eu,ed,eg){var em,eb=ed.length,ew=eu.modulus.byteLength();if(eb>ew-11)throw Error("message too long");return em=eg?eC.alloc(ew-eb-3,255):eT(ew-eb-3),new eA(eC.concat([eC.from([0,eg?1:2]),em,eC.alloc(1),ed],ew))}function eT(eu){for(var ed,eg=eC.allocUnsafe(eu),em=0,ew=eb(2*eu),e_=0;em<eu;)e_===ew.length&&(ew=eb(2*eu),e_=0),(ed=ew[e_++])&&(eg[em++]=ed);return eg}eu.exports=function(eu,ed,eg){eb=eu.padding?eu.padding:eg?1:4;var eb,ew,e_=em(eu);if(4===eb)ew=eM(e_,ed);else if(1===eb)ew=eO(e_,ed,eg);else if(3===eb){if((ew=new eA(ed)).cmp(e_.modulus)>=0)throw Error("data too long for modulus")}else throw Error("unknown padding");return eg?eI(ew,e_):eS(ew,e_)}},46112:function(eu,ed,eg){var em=eg(62216),eb=eg(77834).Buffer;function ew(eu,ed){return eb.from(eu.toRed(em.mont(ed.modulus)).redPow(new em(ed.publicExponent)).fromRed().toArray())}eu.exports=ew},55468:function(eu){eu.exports=function(eu,ed){for(var eg=eu.length,em=-1;++em<eg;)eu[em]^=ed[em];return eu}},74061:function(eu,ed,eg){let em=eg(69919),eb=eg(10585),ew=eg(37419),e_=eg(37568);function eE(eu,ed,eg,ew,e_){let eE=[].slice.call(arguments,1),eA=eE.length,eS="function"==typeof eE[eA-1];if(!eS&&!em())throw Error("Callback required as last argument");if(eS){if(eA<2)throw Error("Too few arguments provided");2===eA?(e_=eg,eg=ed,ed=ew=void 0):3===eA&&(ed.getContext&&void 0===e_?(e_=ew,ew=void 0):(e_=ew,ew=eg,eg=ed,ed=void 0))}else{if(eA<1)throw Error("Too few arguments provided");return 1===eA?(eg=ed,ed=ew=void 0):2!==eA||ed.getContext||(ew=eg,eg=ed,ed=void 0),new Promise(function(em,e_){try{let e_=eb.create(eg,ew);em(eu(e_,ed,ew))}catch(eu){e_(eu)}})}try{let em=eb.create(eg,ew);e_(null,eu(em,ed,ew))}catch(eu){e_(eu)}}ed.create=eb.create,ed.toCanvas=eE.bind(null,ew.render),ed.toDataURL=eE.bind(null,ew.renderToDataURL),ed.toString=eE.bind(null,function(eu,ed,eg){return e_.render(eu,eg)})},69919:function(eu){eu.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},44812:function(eu,ed,eg){let em=eg(61850).getSymbolSize;ed.getRowColCoords=function(eu){if(1===eu)return[];let ed=Math.floor(eu/7)+2,eg=em(eu),eb=145===eg?26:2*Math.ceil((eg-13)/(2*ed-2)),ew=[eg-7];for(let eu=1;eu<ed-1;eu++)ew[eu]=ew[eu-1]-eb;return ew.push(6),ew.reverse()},ed.getPositions=function(eu){let eg=[],em=ed.getRowColCoords(eu),eb=em.length;for(let eu=0;eu<eb;eu++)for(let ed=0;ed<eb;ed++)(0!==eu||0!==ed)&&(0!==eu||ed!==eb-1)&&(eu!==eb-1||0!==ed)&&eg.push([em[eu],em[ed]]);return eg}},79953:function(eu,ed,eg){let em=eg(3771),eb=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function ew(eu){this.mode=em.ALPHANUMERIC,this.data=eu}ew.getBitsLength=function(eu){return 11*Math.floor(eu/2)+6*(eu%2)},ew.prototype.getLength=function(){return this.data.length},ew.prototype.getBitsLength=function(){return ew.getBitsLength(this.data.length)},ew.prototype.write=function(eu){let ed;for(ed=0;ed+2<=this.data.length;ed+=2){let eg=45*eb.indexOf(this.data[ed]);eg+=eb.indexOf(this.data[ed+1]),eu.put(eg,11)}this.data.length%2&&eu.put(eb.indexOf(this.data[ed]),6)},eu.exports=ew},86190:function(eu){function ed(){this.buffer=[],this.length=0}ed.prototype={get:function(eu){let ed=Math.floor(eu/8);return(this.buffer[ed]>>>7-eu%8&1)==1},put:function(eu,ed){for(let eg=0;eg<ed;eg++)this.putBit((eu>>>ed-eg-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(eu){let ed=Math.floor(this.length/8);this.buffer.length<=ed&&this.buffer.push(0),eu&&(this.buffer[ed]|=128>>>this.length%8),this.length++}},eu.exports=ed},61589:function(eu){function ed(eu){if(!eu||eu<1)throw Error("BitMatrix size must be defined and greater than 0");this.size=eu,this.data=new Uint8Array(eu*eu),this.reservedBit=new Uint8Array(eu*eu)}ed.prototype.set=function(eu,ed,eg,em){let eb=eu*this.size+ed;this.data[eb]=eg,em&&(this.reservedBit[eb]=!0)},ed.prototype.get=function(eu,ed){return this.data[eu*this.size+ed]},ed.prototype.xor=function(eu,ed,eg){this.data[eu*this.size+ed]^=eg},ed.prototype.isReserved=function(eu,ed){return this.reservedBit[eu*this.size+ed]},eu.exports=ed},38469:function(eu,ed,eg){let em=eg(3771);function eb(eu){this.mode=em.BYTE,"string"==typeof eu?this.data=new TextEncoder().encode(eu):this.data=new Uint8Array(eu)}eb.getBitsLength=function(eu){return 8*eu},eb.prototype.getLength=function(){return this.data.length},eb.prototype.getBitsLength=function(){return eb.getBitsLength(this.data.length)},eb.prototype.write=function(eu){for(let ed=0,eg=this.data.length;ed<eg;ed++)eu.put(this.data[ed],8)},eu.exports=eb},71535:function(eu,ed,eg){let em=eg(26939),eb=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],ew=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];ed.getBlocksCount=function(eu,ed){switch(ed){case em.L:return eb[(eu-1)*4+0];case em.M:return eb[(eu-1)*4+1];case em.Q:return eb[(eu-1)*4+2];case em.H:return eb[(eu-1)*4+3];default:return}},ed.getTotalCodewordsCount=function(eu,ed){switch(ed){case em.L:return ew[(eu-1)*4+0];case em.M:return ew[(eu-1)*4+1];case em.Q:return ew[(eu-1)*4+2];case em.H:return ew[(eu-1)*4+3];default:return}}},26939:function(eu,ed){function eg(eu){if("string"!=typeof eu)throw Error("Param is not a string");let eg=eu.toLowerCase();switch(eg){case"l":case"low":return ed.L;case"m":case"medium":return ed.M;case"q":case"quartile":return ed.Q;case"h":case"high":return ed.H;default:throw Error("Unknown EC Level: "+eu)}}ed.L={bit:1},ed.M={bit:0},ed.Q={bit:3},ed.H={bit:2},ed.isValid=function(eu){return eu&&void 0!==eu.bit&&eu.bit>=0&&eu.bit<4},ed.from=function(eu,em){if(ed.isValid(eu))return eu;try{return eg(eu)}catch(eu){return em}}},33292:function(eu,ed,eg){let em=eg(61850).getSymbolSize,eb=7;ed.getPositions=function(eu){let ed=em(eu);return[[0,0],[ed-eb,0],[0,ed-eb]]}},34194:function(eu,ed,eg){let em=eg(61850),eb=1335,ew=21522,e_=em.getBCHDigit(eb);ed.getEncodedBits=function(eu,ed){let eg=eu.bit<<3|ed,eE=eg<<10;for(;em.getBCHDigit(eE)-e_>=0;)eE^=eb<<em.getBCHDigit(eE)-e_;return(eg<<10|eE)^ew}},89040:function(eu,ed){let eg=new Uint8Array(512),em=new Uint8Array(256);!function(){let eu=1;for(let ed=0;ed<255;ed++)eg[ed]=eu,em[eu]=ed,256&(eu<<=1)&&(eu^=285);for(let eu=255;eu<512;eu++)eg[eu]=eg[eu-255]}(),ed.log=function(eu){if(eu<1)throw Error("log("+eu+")");return em[eu]},ed.exp=function(eu){return eg[eu]},ed.mul=function(eu,ed){return 0===eu||0===ed?0:eg[em[eu]+em[ed]]}},11296:function(eu,ed,eg){let em=eg(3771),eb=eg(61850);function ew(eu){this.mode=em.KANJI,this.data=eu}ew.getBitsLength=function(eu){return 13*eu},ew.prototype.getLength=function(){return this.data.length},ew.prototype.getBitsLength=function(){return ew.getBitsLength(this.data.length)},ew.prototype.write=function(eu){let ed;for(ed=0;ed<this.data.length;ed++){let eg=eb.toSJIS(this.data[ed]);if(eg>=33088&&eg<=40956)eg-=33088;else if(eg>=57408&&eg<=60351)eg-=49472;else throw Error("Invalid SJIS character: "+this.data[ed]+"\nMake sure your charset is UTF-8");eg=(eg>>>8&255)*192+(255&eg),eu.put(eg,13)}},eu.exports=ew},25622:function(eu,ed){ed.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};let eg={N1:3,N2:3,N3:40,N4:10};function em(eu,eg,em){switch(eu){case ed.Patterns.PATTERN000:return(eg+em)%2==0;case ed.Patterns.PATTERN001:return eg%2==0;case ed.Patterns.PATTERN010:return em%3==0;case ed.Patterns.PATTERN011:return(eg+em)%3==0;case ed.Patterns.PATTERN100:return(Math.floor(eg/2)+Math.floor(em/3))%2==0;case ed.Patterns.PATTERN101:return eg*em%2+eg*em%3==0;case ed.Patterns.PATTERN110:return(eg*em%2+eg*em%3)%2==0;case ed.Patterns.PATTERN111:return(eg*em%3+(eg+em)%2)%2==0;default:throw Error("bad maskPattern:"+eu)}}ed.isValid=function(eu){return null!=eu&&""!==eu&&!isNaN(eu)&&eu>=0&&eu<=7},ed.from=function(eu){return ed.isValid(eu)?parseInt(eu,10):void 0},ed.getPenaltyN1=function(eu){let ed=eu.size,em=0,eb=0,ew=0,e_=null,eE=null;for(let eA=0;eA<ed;eA++){eb=ew=0,e_=eE=null;for(let eS=0;eS<ed;eS++){let ed=eu.get(eA,eS);ed===e_?eb++:(eb>=5&&(em+=eg.N1+(eb-5)),e_=ed,eb=1),(ed=eu.get(eS,eA))===eE?ew++:(ew>=5&&(em+=eg.N1+(ew-5)),eE=ed,ew=1)}eb>=5&&(em+=eg.N1+(eb-5)),ew>=5&&(em+=eg.N1+(ew-5))}return em},ed.getPenaltyN2=function(eu){let ed=eu.size,em=0;for(let eg=0;eg<ed-1;eg++)for(let eb=0;eb<ed-1;eb++){let ed=eu.get(eg,eb)+eu.get(eg,eb+1)+eu.get(eg+1,eb)+eu.get(eg+1,eb+1);(4===ed||0===ed)&&em++}return em*eg.N2},ed.getPenaltyN3=function(eu){let ed=eu.size,em=0,eb=0,ew=0;for(let eg=0;eg<ed;eg++){eb=ew=0;for(let e_=0;e_<ed;e_++)eb=eb<<1&2047|eu.get(eg,e_),e_>=10&&(1488===eb||93===eb)&&em++,ew=ew<<1&2047|eu.get(e_,eg),e_>=10&&(1488===ew||93===ew)&&em++}return em*eg.N3},ed.getPenaltyN4=function(eu){let ed=0,em=eu.data.length;for(let eg=0;eg<em;eg++)ed+=eu.data[eg];let eb=Math.abs(Math.ceil(100*ed/em/5)-10);return eb*eg.N4},ed.applyMask=function(eu,ed){let eg=ed.size;for(let eb=0;eb<eg;eb++)for(let ew=0;ew<eg;ew++)ed.isReserved(ew,eb)||ed.xor(ew,eb,em(eu,ew,eb))},ed.getBestMask=function(eu,eg){let em=Object.keys(ed.Patterns).length,eb=0,ew=1/0;for(let e_=0;e_<em;e_++){eg(e_),ed.applyMask(e_,eu);let em=ed.getPenaltyN1(eu)+ed.getPenaltyN2(eu)+ed.getPenaltyN3(eu)+ed.getPenaltyN4(eu);ed.applyMask(e_,eu),em<ew&&(ew=em,eb=e_)}return eb}},3771:function(eu,ed,eg){let em=eg(19638),eb=eg(74558);function ew(eu){if("string"!=typeof eu)throw Error("Param is not a string");let eg=eu.toLowerCase();switch(eg){case"numeric":return ed.NUMERIC;case"alphanumeric":return ed.ALPHANUMERIC;case"kanji":return ed.KANJI;case"byte":return ed.BYTE;default:throw Error("Unknown mode: "+eu)}}ed.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},ed.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},ed.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},ed.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},ed.MIXED={bit:-1},ed.getCharCountIndicator=function(eu,ed){if(!eu.ccBits)throw Error("Invalid mode: "+eu);if(!em.isValid(ed))throw Error("Invalid version: "+ed);return ed>=1&&ed<10?eu.ccBits[0]:ed<27?eu.ccBits[1]:eu.ccBits[2]},ed.getBestModeForData=function(eu){return eb.testNumeric(eu)?ed.NUMERIC:eb.testAlphanumeric(eu)?ed.ALPHANUMERIC:eb.testKanji(eu)?ed.KANJI:ed.BYTE},ed.toString=function(eu){if(eu&&eu.id)return eu.id;throw Error("Invalid mode")},ed.isValid=function(eu){return eu&&eu.bit&&eu.ccBits},ed.from=function(eu,eg){if(ed.isValid(eu))return eu;try{return ew(eu)}catch(eu){return eg}}},45016:function(eu,ed,eg){let em=eg(3771);function eb(eu){this.mode=em.NUMERIC,this.data=eu.toString()}eb.getBitsLength=function(eu){return 10*Math.floor(eu/3)+(eu%3?eu%3*3+1:0)},eb.prototype.getLength=function(){return this.data.length},eb.prototype.getBitsLength=function(){return eb.getBitsLength(this.data.length)},eb.prototype.write=function(eu){let ed,eg,em;for(ed=0;ed+3<=this.data.length;ed+=3)em=parseInt(eg=this.data.substr(ed,3),10),eu.put(em,10);let eb=this.data.length-ed;eb>0&&(em=parseInt(eg=this.data.substr(ed),10),eu.put(em,3*eb+1))},eu.exports=eb},59792:function(eu,ed,eg){let em=eg(89040);ed.mul=function(eu,ed){let eg=new Uint8Array(eu.length+ed.length-1);for(let eb=0;eb<eu.length;eb++)for(let ew=0;ew<ed.length;ew++)eg[eb+ew]^=em.mul(eu[eb],ed[ew]);return eg},ed.mod=function(eu,ed){let eg=new Uint8Array(eu);for(;eg.length-ed.length>=0;){let eu=eg[0];for(let eb=0;eb<ed.length;eb++)eg[eb]^=em.mul(ed[eb],eu);let eb=0;for(;eb<eg.length&&0===eg[eb];)eb++;eg=eg.slice(eb)}return eg},ed.generateECPolynomial=function(eu){let eg=new Uint8Array([1]);for(let eb=0;eb<eu;eb++)eg=ed.mul(eg,new Uint8Array([1,em.exp(eb)]));return eg}},10585:function(eu,ed,eg){let em=eg(61850),eb=eg(26939),ew=eg(86190),e_=eg(61589),eE=eg(44812),eA=eg(33292),eS=eg(25622),eI=eg(71535),eC=eg(41806),eM=eg(12616),eO=eg(34194),eT=eg(3771),eP=eg(56041);function eN(eu,ed){let eg=eu.size,em=eA.getPositions(ed);for(let ed=0;ed<em.length;ed++){let eb=em[ed][0],ew=em[ed][1];for(let ed=-1;ed<=7;ed++)if(!(eb+ed<=-1)&&!(eg<=eb+ed))for(let em=-1;em<=7;em++)ew+em<=-1||eg<=ew+em||(ed>=0&&ed<=6&&(0===em||6===em)||em>=0&&em<=6&&(0===ed||6===ed)||ed>=2&&ed<=4&&em>=2&&em<=4?eu.set(eb+ed,ew+em,!0,!0):eu.set(eb+ed,ew+em,!1,!0))}}function ek(eu){let ed=eu.size;for(let eg=8;eg<ed-8;eg++){let ed=eg%2==0;eu.set(eg,6,ed,!0),eu.set(6,eg,ed,!0)}}function eR(eu,ed){let eg=eE.getPositions(ed);for(let ed=0;ed<eg.length;ed++){let em=eg[ed][0],eb=eg[ed][1];for(let ed=-2;ed<=2;ed++)for(let eg=-2;eg<=2;eg++)-2===ed||2===ed||-2===eg||2===eg||0===ed&&0===eg?eu.set(em+ed,eb+eg,!0,!0):eu.set(em+ed,eb+eg,!1,!0)}}function eD(eu,ed){let eg,em,eb;let ew=eu.size,e_=eM.getEncodedBits(ed);for(let ed=0;ed<18;ed++)eg=Math.floor(ed/3),em=ed%3+ew-8-3,eb=(e_>>ed&1)==1,eu.set(eg,em,eb,!0),eu.set(em,eg,eb,!0)}function eB(eu,ed,eg){let em,eb;let ew=eu.size,e_=eO.getEncodedBits(ed,eg);for(em=0;em<15;em++)eb=(e_>>em&1)==1,em<6?eu.set(em,8,eb,!0):em<8?eu.set(em+1,8,eb,!0):eu.set(ew-15+em,8,eb,!0),em<8?eu.set(8,ew-em-1,eb,!0):em<9?eu.set(8,15-em-1+1,eb,!0):eu.set(8,15-em-1,eb,!0);eu.set(ew-8,8,1,!0)}function eU(eu,ed){let eg=eu.size,em=-1,eb=eg-1,ew=7,e_=0;for(let eE=eg-1;eE>0;eE-=2)for(6===eE&&eE--;;){for(let eg=0;eg<2;eg++)if(!eu.isReserved(eb,eE-eg)){let em=!1;e_<ed.length&&(em=(ed[e_]>>>ew&1)==1),eu.set(eb,eE-eg,em),-1==--ew&&(e_++,ew=7)}if((eb+=em)<0||eg<=eb){eb-=em,em=-em;break}}}function eL(eu,ed,eg){let eb=new ew;eg.forEach(function(ed){eb.put(ed.mode.bit,4),eb.put(ed.getLength(),eT.getCharCountIndicator(ed.mode,eu)),ed.write(eb)});let e_=em.getSymbolTotalCodewords(eu),eE=eI.getTotalCodewordsCount(eu,ed),eA=(e_-eE)*8;for(eb.getLengthInBits()+4<=eA&&eb.put(0,4);eb.getLengthInBits()%8!=0;)eb.putBit(0);let eS=(eA-eb.getLengthInBits())/8;for(let eu=0;eu<eS;eu++)eb.put(eu%2?17:236,8);return ej(eb,eu,ed)}function ej(eu,ed,eg){let eb,ew;let e_=em.getSymbolTotalCodewords(ed),eE=eI.getTotalCodewordsCount(ed,eg),eA=e_-eE,eS=eI.getBlocksCount(ed,eg),eM=e_%eS,eO=eS-eM,eT=Math.floor(e_/eS),eP=Math.floor(eA/eS),eN=eP+1,ek=eT-eP,eR=new eC(ek),eD=0,eB=Array(eS),eU=Array(eS),eL=0,ej=new Uint8Array(eu.buffer);for(let eu=0;eu<eS;eu++){let ed=eu<eO?eP:eN;eB[eu]=ej.slice(eD,eD+ed),eU[eu]=eR.encode(eB[eu]),eD+=ed,eL=Math.max(eL,ed)}let eF=new Uint8Array(e_),e$=0;for(eb=0;eb<eL;eb++)for(ew=0;ew<eS;ew++)eb<eB[ew].length&&(eF[e$++]=eB[ew][eb]);for(eb=0;eb<ek;eb++)for(ew=0;ew<eS;ew++)eF[e$++]=eU[ew][eb];return eF}function eF(eu,ed,eg,eb){let ew;if(Array.isArray(eu))ew=eP.fromArray(eu);else if("string"==typeof eu){let em=ed;if(!em){let ed=eP.rawSplit(eu);em=eM.getBestVersionForData(ed,eg)}ew=eP.fromString(eu,em||40)}else throw Error("Invalid data");let eE=eM.getBestVersionForData(ew,eg);if(!eE)throw Error("The amount of data is too big to be stored in a QR Code");if(ed){if(ed<eE)throw Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+eE+".\n")}else ed=eE;let eA=eL(ed,eg,ew),eI=em.getSymbolSize(ed),eC=new e_(eI);return eN(eC,ed),ek(eC),eR(eC,ed),eB(eC,eg,0),ed>=7&&eD(eC,ed),eU(eC,eA),isNaN(eb)&&(eb=eS.getBestMask(eC,eB.bind(null,eC,eg))),eS.applyMask(eb,eC),eB(eC,eg,eb),{modules:eC,version:ed,errorCorrectionLevel:eg,maskPattern:eb,segments:ew}}ed.create=function(eu,ed){let eg,ew;if(void 0===eu||""===eu)throw Error("No input text");let e_=eb.M;return void 0!==ed&&(e_=eb.from(ed.errorCorrectionLevel,eb.M),eg=eM.from(ed.version),ew=eS.from(ed.maskPattern),ed.toSJISFunc&&em.setToSJISFunction(ed.toSJISFunc)),eF(eu,eg,e_,ew)}},41806:function(eu,ed,eg){let em=eg(59792);function eb(eu){this.genPoly=void 0,this.degree=eu,this.degree&&this.initialize(this.degree)}eb.prototype.initialize=function(eu){this.degree=eu,this.genPoly=em.generateECPolynomial(this.degree)},eb.prototype.encode=function(eu){if(!this.genPoly)throw Error("Encoder not initialized");let ed=new Uint8Array(eu.length+this.degree);ed.set(eu);let eg=em.mod(ed,this.genPoly),eb=this.degree-eg.length;if(eb>0){let eu=new Uint8Array(this.degree);return eu.set(eg,eb),eu}return eg},eu.exports=eb},74558:function(eu,ed){let eg="[0-9]+",em="[A-Z $%*+\\-./:]+",eb="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";eb=eb.replace(/u/g,"\\u");let ew="(?:(?![A-Z0-9 $%*+\\-./:]|"+eb+")(?:.|[\r\n]))+";ed.KANJI=RegExp(eb,"g"),ed.BYTE_KANJI=RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),ed.BYTE=RegExp(ew,"g"),ed.NUMERIC=RegExp(eg,"g"),ed.ALPHANUMERIC=RegExp(em,"g");let e_=RegExp("^"+eb+"$"),eE=RegExp("^"+eg+"$"),eA=RegExp("^[A-Z0-9 $%*+\\-./:]+$");ed.testKanji=function(eu){return e_.test(eu)},ed.testNumeric=function(eu){return eE.test(eu)},ed.testAlphanumeric=function(eu){return eA.test(eu)}},56041:function(eu,ed,eg){let em=eg(3771),eb=eg(45016),ew=eg(79953),e_=eg(38469),eE=eg(11296),eA=eg(74558),eS=eg(61850),eI=eg(44271);function eC(eu){return unescape(encodeURIComponent(eu)).length}function eM(eu,ed,eg){let em;let eb=[];for(;null!==(em=eu.exec(eg));)eb.push({data:em[0],index:em.index,mode:ed,length:em[0].length});return eb}function eO(eu){let ed,eg;let eb=eM(eA.NUMERIC,em.NUMERIC,eu),ew=eM(eA.ALPHANUMERIC,em.ALPHANUMERIC,eu);eS.isKanjiModeEnabled()?(ed=eM(eA.BYTE,em.BYTE,eu),eg=eM(eA.KANJI,em.KANJI,eu)):(ed=eM(eA.BYTE_KANJI,em.BYTE,eu),eg=[]);let e_=eb.concat(ew,ed,eg);return e_.sort(function(eu,ed){return eu.index-ed.index}).map(function(eu){return{data:eu.data,mode:eu.mode,length:eu.length}})}function eT(eu,ed){switch(ed){case em.NUMERIC:return eb.getBitsLength(eu);case em.ALPHANUMERIC:return ew.getBitsLength(eu);case em.KANJI:return eE.getBitsLength(eu);case em.BYTE:return e_.getBitsLength(eu)}}function eP(eu){return eu.reduce(function(eu,ed){let eg=eu.length-1>=0?eu[eu.length-1]:null;return eg&&eg.mode===ed.mode?(eu[eu.length-1].data+=ed.data,eu):(eu.push(ed),eu)},[])}function eN(eu){let ed=[];for(let eg=0;eg<eu.length;eg++){let eb=eu[eg];switch(eb.mode){case em.NUMERIC:ed.push([eb,{data:eb.data,mode:em.ALPHANUMERIC,length:eb.length},{data:eb.data,mode:em.BYTE,length:eb.length}]);break;case em.ALPHANUMERIC:ed.push([eb,{data:eb.data,mode:em.BYTE,length:eb.length}]);break;case em.KANJI:ed.push([eb,{data:eb.data,mode:em.BYTE,length:eC(eb.data)}]);break;case em.BYTE:ed.push([{data:eb.data,mode:em.BYTE,length:eC(eb.data)}])}}return ed}function ek(eu,ed){let eg={},eb={start:{}},ew=["start"];for(let e_=0;e_<eu.length;e_++){let eE=eu[e_],eA=[];for(let eu=0;eu<eE.length;eu++){let eS=eE[eu],eI=""+e_+eu;eA.push(eI),eg[eI]={node:eS,lastCount:0},eb[eI]={};for(let eu=0;eu<ew.length;eu++){let e_=ew[eu];eg[e_]&&eg[e_].node.mode===eS.mode?(eb[e_][eI]=eT(eg[e_].lastCount+eS.length,eS.mode)-eT(eg[e_].lastCount,eS.mode),eg[e_].lastCount+=eS.length):(eg[e_]&&(eg[e_].lastCount=eS.length),eb[e_][eI]=eT(eS.length,eS.mode)+4+em.getCharCountIndicator(eS.mode,ed))}}ew=eA}for(let eu=0;eu<ew.length;eu++)eb[ew[eu]].end=0;return{map:eb,table:eg}}function eR(eu,ed){let eg;let eA=em.getBestModeForData(eu);if((eg=em.from(ed,eA))!==em.BYTE&&eg.bit<eA.bit)throw Error('"'+eu+'" cannot be encoded with mode '+em.toString(eg)+".\n Suggested mode is: "+em.toString(eA));switch(eg!==em.KANJI||eS.isKanjiModeEnabled()||(eg=em.BYTE),eg){case em.NUMERIC:return new eb(eu);case em.ALPHANUMERIC:return new ew(eu);case em.KANJI:return new eE(eu);case em.BYTE:return new e_(eu)}}ed.fromArray=function(eu){return eu.reduce(function(eu,ed){return"string"==typeof ed?eu.push(eR(ed,null)):ed.data&&eu.push(eR(ed.data,ed.mode)),eu},[])},ed.fromString=function(eu,eg){let em=eO(eu,eS.isKanjiModeEnabled()),eb=eN(em),ew=ek(eb,eg),e_=eI.find_path(ew.map,"start","end"),eE=[];for(let eu=1;eu<e_.length-1;eu++)eE.push(ew.table[e_[eu]].node);return ed.fromArray(eP(eE))},ed.rawSplit=function(eu){return ed.fromArray(eO(eu,eS.isKanjiModeEnabled()))}},61850:function(eu,ed){let eg;let em=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];ed.getSymbolSize=function(eu){if(!eu)throw Error('"version" cannot be null or undefined');if(eu<1||eu>40)throw Error('"version" should be in range from 1 to 40');return 4*eu+17},ed.getSymbolTotalCodewords=function(eu){return em[eu]},ed.getBCHDigit=function(eu){let ed=0;for(;0!==eu;)ed++,eu>>>=1;return ed},ed.setToSJISFunction=function(eu){if("function"!=typeof eu)throw Error('"toSJISFunc" is not a valid function.');eg=eu},ed.isKanjiModeEnabled=function(){return void 0!==eg},ed.toSJIS=function(eu){return eg(eu)}},19638:function(eu,ed){ed.isValid=function(eu){return!isNaN(eu)&&eu>=1&&eu<=40}},12616:function(eu,ed,eg){let em=eg(61850),eb=eg(71535),ew=eg(26939),e_=eg(3771),eE=eg(19638),eA=7973,eS=em.getBCHDigit(eA);function eI(eu,eg,em){for(let eb=1;eb<=40;eb++)if(eg<=ed.getCapacity(eb,em,eu))return eb}function eC(eu,ed){return e_.getCharCountIndicator(eu,ed)+4}function eM(eu,ed){let eg=0;return eu.forEach(function(eu){let em=eC(eu.mode,ed);eg+=em+eu.getBitsLength()}),eg}function eO(eu,eg){for(let em=1;em<=40;em++){let eb=eM(eu,em);if(eb<=ed.getCapacity(em,eg,e_.MIXED))return em}}ed.from=function(eu,ed){return eE.isValid(eu)?parseInt(eu,10):ed},ed.getCapacity=function(eu,ed,eg){if(!eE.isValid(eu))throw Error("Invalid QR Code version");void 0===eg&&(eg=e_.BYTE);let ew=em.getSymbolTotalCodewords(eu),eA=eb.getTotalCodewordsCount(eu,ed),eS=(ew-eA)*8;if(eg===e_.MIXED)return eS;let eI=eS-eC(eg,eu);switch(eg){case e_.NUMERIC:return Math.floor(eI/10*3);case e_.ALPHANUMERIC:return Math.floor(eI/11*2);case e_.KANJI:return Math.floor(eI/13);case e_.BYTE:default:return Math.floor(eI/8)}},ed.getBestVersionForData=function(eu,ed){let eg;let em=ew.from(ed,ew.M);if(Array.isArray(eu)){if(eu.length>1)return eO(eu,em);if(0===eu.length)return 1;eg=eu[0]}else eg=eu;return eI(eg.mode,eg.getLength(),em)},ed.getEncodedBits=function(eu){if(!eE.isValid(eu)||eu<7)throw Error("Invalid QR Code version");let ed=eu<<12;for(;em.getBCHDigit(ed)-eS>=0;)ed^=eA<<em.getBCHDigit(ed)-eS;return eu<<12|ed}},37419:function(eu,ed,eg){let em=eg(9283);function eb(eu,ed,eg){eu.clearRect(0,0,ed.width,ed.height),ed.style||(ed.style={}),ed.height=eg,ed.width=eg,ed.style.height=eg+"px",ed.style.width=eg+"px"}function ew(){try{return document.createElement("canvas")}catch(eu){throw Error("You need to specify a canvas element")}}ed.render=function(eu,ed,eg){let e_=eg,eE=ed;void 0!==e_||ed&&ed.getContext||(e_=ed,ed=void 0),ed||(eE=ew()),e_=em.getOptions(e_);let eA=em.getImageWidth(eu.modules.size,e_),eS=eE.getContext("2d"),eI=eS.createImageData(eA,eA);return em.qrToImageData(eI.data,eu,e_),eb(eS,eE,eA),eS.putImageData(eI,0,0),eE},ed.renderToDataURL=function(eu,eg,em){let eb=em;void 0!==eb||eg&&eg.getContext||(eb=eg,eg=void 0),eb||(eb={});let ew=ed.render(eu,eg,eb),e_=eb.type||"image/png",eE=eb.rendererOpts||{};return ew.toDataURL(e_,eE.quality)}},37568:function(eu,ed,eg){let em=eg(9283);function eb(eu,ed){let eg=eu.a/255,em=ed+'="'+eu.hex+'"';return eg<1?em+" "+ed+'-opacity="'+eg.toFixed(2).slice(1)+'"':em}function ew(eu,ed,eg){let em=eu+ed;return void 0!==eg&&(em+=" "+eg),em}function e_(eu,ed,eg){let em="",eb=0,e_=!1,eE=0;for(let eA=0;eA<eu.length;eA++){let eS=Math.floor(eA%ed),eI=Math.floor(eA/ed);eS||e_||(e_=!0),eu[eA]?(eE++,eA>0&&eS>0&&eu[eA-1]||(em+=e_?ew("M",eS+eg,.5+eI+eg):ew("m",eb,0),eb=0,e_=!1),eS+1<ed&&eu[eA+1]||(em+=ew("h",eE),eE=0)):eb++}return em}ed.render=function(eu,ed,eg){let ew=em.getOptions(ed),eE=eu.modules.size,eA=eu.modules.data,eS=eE+2*ew.margin,eI=ew.color.light.a?"<path "+eb(ew.color.light,"fill")+' d="M0 0h'+eS+"v"+eS+'H0z"/>':"",eC="<path "+eb(ew.color.dark,"stroke")+' d="'+e_(eA,eE,ew.margin)+'"/>',eM='viewBox="0 0 '+eS+" "+eS+'"',eO=ew.width?'width="'+ew.width+'" height="'+ew.width+'" ':"",eT='<svg xmlns="http://www.w3.org/2000/svg" '+eO+eM+' shape-rendering="crispEdges">'+eI+eC+"</svg>\n";return"function"==typeof eg&&eg(null,eT),eT}},9283:function(eu,ed){function eg(eu){if("number"==typeof eu&&(eu=eu.toString()),"string"!=typeof eu)throw Error("Color should be defined as hex string");let ed=eu.slice().replace("#","").split("");if(ed.length<3||5===ed.length||ed.length>8)throw Error("Invalid hex color: "+eu);(3===ed.length||4===ed.length)&&(ed=Array.prototype.concat.apply([],ed.map(function(eu){return[eu,eu]}))),6===ed.length&&ed.push("F","F");let eg=parseInt(ed.join(""),16);return{r:eg>>24&255,g:eg>>16&255,b:eg>>8&255,a:255&eg,hex:"#"+ed.slice(0,6).join("")}}ed.getOptions=function(eu){eu||(eu={}),eu.color||(eu.color={});let ed=void 0===eu.margin||null===eu.margin||eu.margin<0?4:eu.margin,em=eu.width&&eu.width>=21?eu.width:void 0,eb=eu.scale||4;return{width:em,scale:em?4:eb,margin:ed,color:{dark:eg(eu.color.dark||"#000000ff"),light:eg(eu.color.light||"#ffffffff")},type:eu.type,rendererOpts:eu.rendererOpts||{}}},ed.getScale=function(eu,ed){return ed.width&&ed.width>=eu+2*ed.margin?ed.width/(eu+2*ed.margin):ed.scale},ed.getImageWidth=function(eu,eg){let em=ed.getScale(eu,eg);return Math.floor((eu+2*eg.margin)*em)},ed.qrToImageData=function(eu,eg,em){let eb=eg.modules.size,ew=eg.modules.data,e_=ed.getScale(eb,em),eE=Math.floor((eb+2*em.margin)*e_),eA=em.margin*e_,eS=[em.color.light,em.color.dark];for(let ed=0;ed<eE;ed++)for(let eg=0;eg<eE;eg++){let eI=(ed*eE+eg)*4,eC=em.color.light;if(ed>=eA&&eg>=eA&&ed<eE-eA&&eg<eE-eA){let eu=Math.floor((ed-eA)/e_),em=Math.floor((eg-eA)/e_);eC=eS[ew[eu*eb+em]?1:0]}eu[eI++]=eC.r,eu[eI++]=eC.g,eu[eI++]=eC.b,eu[eI]=eC.a}}},34126:function(eu,ed,eg){"use strict";let em=eg(57785),eb=eg(15554),ew=eg(15452),e_=eg(40063),eE=eu=>null==eu,eA=Symbol("encodeFragmentIdentifier");function eS(eu){switch(eu.arrayFormat){case"index":return ed=>(eg,em)=>{let eb=eg.length;return void 0===em||eu.skipNull&&null===em||eu.skipEmptyString&&""===em?eg:null===em?[...eg,[eM(ed,eu),"[",eb,"]"].join("")]:[...eg,[eM(ed,eu),"[",eM(eb,eu),"]=",eM(em,eu)].join("")]};case"bracket":return ed=>(eg,em)=>void 0===em||eu.skipNull&&null===em||eu.skipEmptyString&&""===em?eg:null===em?[...eg,[eM(ed,eu),"[]"].join("")]:[...eg,[eM(ed,eu),"[]=",eM(em,eu)].join("")];case"colon-list-separator":return ed=>(eg,em)=>void 0===em||eu.skipNull&&null===em||eu.skipEmptyString&&""===em?eg:null===em?[...eg,[eM(ed,eu),":list="].join("")]:[...eg,[eM(ed,eu),":list=",eM(em,eu)].join("")];case"comma":case"separator":case"bracket-separator":{let ed="bracket-separator"===eu.arrayFormat?"[]=":"=";return eg=>(em,eb)=>void 0===eb||eu.skipNull&&null===eb||eu.skipEmptyString&&""===eb?em:(eb=null===eb?"":eb,0===em.length)?[[eM(eg,eu),ed,eM(eb,eu)].join("")]:[[em,eM(eb,eu)].join(eu.arrayFormatSeparator)]}default:return ed=>(eg,em)=>void 0===em||eu.skipNull&&null===em||eu.skipEmptyString&&""===em?eg:null===em?[...eg,eM(ed,eu)]:[...eg,[eM(ed,eu),"=",eM(em,eu)].join("")]}}function eI(eu){let ed;switch(eu.arrayFormat){case"index":return(eu,eg,em)=>{if(ed=/\[(\d*)\]$/.exec(eu),eu=eu.replace(/\[\d*\]$/,""),!ed){em[eu]=eg;return}void 0===em[eu]&&(em[eu]={}),em[eu][ed[1]]=eg};case"bracket":return(eu,eg,em)=>{if(ed=/(\[\])$/.exec(eu),eu=eu.replace(/\[\]$/,""),!ed){em[eu]=eg;return}if(void 0===em[eu]){em[eu]=[eg];return}em[eu]=[].concat(em[eu],eg)};case"colon-list-separator":return(eu,eg,em)=>{if(ed=/(:list)$/.exec(eu),eu=eu.replace(/:list$/,""),!ed){em[eu]=eg;return}if(void 0===em[eu]){em[eu]=[eg];return}em[eu]=[].concat(em[eu],eg)};case"comma":case"separator":return(ed,eg,em)=>{let eb="string"==typeof eg&&eg.includes(eu.arrayFormatSeparator),ew="string"==typeof eg&&!eb&&eO(eg,eu).includes(eu.arrayFormatSeparator);eg=ew?eO(eg,eu):eg;let e_=eb||ew?eg.split(eu.arrayFormatSeparator).map(ed=>eO(ed,eu)):null===eg?eg:eO(eg,eu);em[ed]=e_};case"bracket-separator":return(ed,eg,em)=>{let eb=/(\[\])$/.test(ed);if(ed=ed.replace(/\[\]$/,""),!eb){em[ed]=eg?eO(eg,eu):eg;return}let ew=null===eg?[]:eg.split(eu.arrayFormatSeparator).map(ed=>eO(ed,eu));if(void 0===em[ed]){em[ed]=ew;return}em[ed]=[].concat(em[ed],ew)};default:return(eu,ed,eg)=>{if(void 0===eg[eu]){eg[eu]=ed;return}eg[eu]=[].concat(eg[eu],ed)}}}function eC(eu){if("string"!=typeof eu||1!==eu.length)throw TypeError("arrayFormatSeparator must be single character string")}function eM(eu,ed){return ed.encode?ed.strict?em(eu):encodeURIComponent(eu):eu}function eO(eu,ed){return ed.decode?eb(eu):eu}function eT(eu){return Array.isArray(eu)?eu.sort():"object"==typeof eu?eT(Object.keys(eu)).sort((eu,ed)=>Number(eu)-Number(ed)).map(ed=>eu[ed]):eu}function eP(eu){let ed=eu.indexOf("#");return -1!==ed&&(eu=eu.slice(0,ed)),eu}function eN(eu){let ed="",eg=eu.indexOf("#");return -1!==eg&&(ed=eu.slice(eg)),ed}function ek(eu){eu=eP(eu);let ed=eu.indexOf("?");return -1===ed?"":eu.slice(ed+1)}function eR(eu,ed){return ed.parseNumbers&&!Number.isNaN(Number(eu))&&"string"==typeof eu&&""!==eu.trim()?eu=Number(eu):ed.parseBooleans&&null!==eu&&("true"===eu.toLowerCase()||"false"===eu.toLowerCase())&&(eu="true"===eu.toLowerCase()),eu}function eD(eu,ed){eC((ed=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},ed)).arrayFormatSeparator);let eg=eI(ed),em=Object.create(null);if("string"!=typeof eu||!(eu=eu.trim().replace(/^[?#&]/,"")))return em;for(let eb of eu.split("&")){if(""===eb)continue;let[eu,e_]=ew(ed.decode?eb.replace(/\+/g," "):eb,"=");e_=void 0===e_?null:["comma","separator","bracket-separator"].includes(ed.arrayFormat)?e_:eO(e_,ed),eg(eO(eu,ed),e_,em)}for(let eu of Object.keys(em)){let eg=em[eu];if("object"==typeof eg&&null!==eg)for(let eu of Object.keys(eg))eg[eu]=eR(eg[eu],ed);else em[eu]=eR(eg,ed)}return!1===ed.sort?em:(!0===ed.sort?Object.keys(em).sort():Object.keys(em).sort(ed.sort)).reduce((eu,ed)=>{let eg=em[ed];return eg&&"object"==typeof eg&&!Array.isArray(eg)?eu[ed]=eT(eg):eu[ed]=eg,eu},Object.create(null))}ed.extract=ek,ed.parse=eD,ed.stringify=(eu,ed)=>{if(!eu)return"";eC((ed=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},ed)).arrayFormatSeparator);let eg=eg=>ed.skipNull&&eE(eu[eg])||ed.skipEmptyString&&""===eu[eg],em=eS(ed),eb={};for(let ed of Object.keys(eu))eg(ed)||(eb[ed]=eu[ed]);let ew=Object.keys(eb);return!1!==ed.sort&&ew.sort(ed.sort),ew.map(eg=>{let eb=eu[eg];return void 0===eb?"":null===eb?eM(eg,ed):Array.isArray(eb)?0===eb.length&&"bracket-separator"===ed.arrayFormat?eM(eg,ed)+"[]":eb.reduce(em(eg),[]).join("&"):eM(eg,ed)+"="+eM(eb,ed)}).filter(eu=>eu.length>0).join("&")},ed.parseUrl=(eu,ed)=>{ed=Object.assign({decode:!0},ed);let[eg,em]=ew(eu,"#");return Object.assign({url:eg.split("?")[0]||"",query:eD(ek(eu),ed)},ed&&ed.parseFragmentIdentifier&&em?{fragmentIdentifier:eO(em,ed)}:{})},ed.stringifyUrl=(eu,eg)=>{eg=Object.assign({encode:!0,strict:!0,[eA]:!0},eg);let em=eP(eu.url).split("?")[0]||"",eb=ed.extract(eu.url),ew=ed.parse(eb,{sort:!1}),e_=Object.assign(ew,eu.query),eE=ed.stringify(e_,eg);eE&&(eE=`?${eE}`);let eS=eN(eu.url);return eu.fragmentIdentifier&&(eS=`#${eg[eA]?eM(eu.fragmentIdentifier,eg):eu.fragmentIdentifier}`),`${em}${eE}${eS}`},ed.pick=(eu,eg,em)=>{em=Object.assign({parseFragmentIdentifier:!0,[eA]:!1},em);let{url:eb,query:ew,fragmentIdentifier:eE}=ed.parseUrl(eu,em);return ed.stringifyUrl({url:eb,query:e_(ew,eg),fragmentIdentifier:eE},em)},ed.exclude=(eu,eg,em)=>{let eb=Array.isArray(eg)?eu=>!eg.includes(eu):(eu,ed)=>!eg(eu,ed);return ed.pick(eu,eb,em)}},92808:function(eu){"use strict";function ed(eu,ed){return Object.prototype.hasOwnProperty.call(eu,ed)}eu.exports=function(eu,eg,em,eb){eg=eg||"&",em=em||"=";var ew={};if("string"!=typeof eu||0===eu.length)return ew;var e_=/\+/g;eu=eu.split(eg);var eE=1e3;eb&&"number"==typeof eb.maxKeys&&(eE=eb.maxKeys);var eA=eu.length;eE>0&&eA>eE&&(eA=eE);for(var eS=0;eS<eA;++eS){var eI,eC,eM,eO,eT=eu[eS].replace(e_,"%20"),eP=eT.indexOf(em);eP>=0?(eI=eT.substr(0,eP),eC=eT.substr(eP+1)):(eI=eT,eC=""),eM=decodeURIComponent(eI),eO=decodeURIComponent(eC),ed(ew,eM)?Array.isArray(ew[eM])?ew[eM].push(eO):ew[eM]=[ew[eM],eO]:ew[eM]=eO}return ew}},31368:function(eu){"use strict";var ed=function(eu){switch(typeof eu){case"string":return eu;case"boolean":return eu?"true":"false";case"number":return isFinite(eu)?eu:"";default:return""}};eu.exports=function(eu,eg,em,eb){return(eg=eg||"&",em=em||"=",null===eu&&(eu=void 0),"object"==typeof eu)?Object.keys(eu).map(function(eb){var ew=encodeURIComponent(ed(eb))+em;return Array.isArray(eu[eb])?eu[eb].map(function(eu){return ew+encodeURIComponent(ed(eu))}).join(eg):ew+encodeURIComponent(ed(eu[eb]))}).join(eg):eb?encodeURIComponent(ed(eb))+em+encodeURIComponent(ed(eu)):""}},56642:function(eu,ed,eg){"use strict";ed.decode=ed.parse=eg(92808),ed.encode=ed.stringify=eg(31368)},31493:function(eu){"use strict";function ed(eu){try{return JSON.stringify(eu)}catch(eu){return'"[Circular]"'}}function eg(eu,eg,em){var eb=em&&em.stringify||ed,ew=1;if("object"==typeof eu&&null!==eu){var e_=eg.length+ew;if(1===e_)return eu;var eE=Array(e_);eE[0]=eb(eu);for(var eA=1;eA<e_;eA++)eE[eA]=eb(eg[eA]);return eE.join(" ")}if("string"!=typeof eu)return eu;var eS=eg.length;if(0===eS)return eu;for(var eI="",eC=1-ew,eM=-1,eO=eu&&eu.length||0,eT=0;eT<eO;){if(37===eu.charCodeAt(eT)&&eT+1<eO){switch(eM=eM>-1?eM:0,eu.charCodeAt(eT+1)){case 100:case 102:if(eC>=eS||null==eg[eC])break;eM<eT&&(eI+=eu.slice(eM,eT)),eI+=Number(eg[eC]),eM=eT+2,eT++;break;case 105:if(eC>=eS||null==eg[eC])break;eM<eT&&(eI+=eu.slice(eM,eT)),eI+=Math.floor(Number(eg[eC])),eM=eT+2,eT++;break;case 79:case 111:case 106:if(eC>=eS||void 0===eg[eC])break;eM<eT&&(eI+=eu.slice(eM,eT));var eP=typeof eg[eC];if("string"===eP){eI+="'"+eg[eC]+"'",eM=eT+2,eT++;break}if("function"===eP){eI+=eg[eC].name||"<anonymous>",eM=eT+2,eT++;break}eI+=eb(eg[eC]),eM=eT+2,eT++;break;case 115:if(eC>=eS)break;eM<eT&&(eI+=eu.slice(eM,eT)),eI+=String(eg[eC]),eM=eT+2,eT++;break;case 37:eM<eT&&(eI+=eu.slice(eM,eT)),eI+="%",eM=eT+2,eT++,eC--}++eC}++eT}return -1===eM?eu:(eM<eO&&(eI+=eu.slice(eM)),eI)}eu.exports=eg},95003:function(eu,ed,eg){"use strict";var em=eg(34406),eb=65536,ew=4294967295;function e_(){throw Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}var eE=eg(77834).Buffer,eA=eg.g.crypto||eg.g.msCrypto;function eS(eu,ed){if(eu>ew)throw RangeError("requested too many random bytes");var eg=eE.allocUnsafe(eu);if(eu>0){if(eu>eb)for(var e_=0;e_<eu;e_+=eb)eA.getRandomValues(eg.slice(e_,e_+eb));else eA.getRandomValues(eg)}return"function"==typeof ed?em.nextTick(function(){ed(null,eg)}):eg}eA&&eA.getRandomValues?eu.exports=eS:eu.exports=e_},69631:function(eu,ed,eg){"use strict";var em=eg(34406);function eb(){throw Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var ew=eg(77834);eg(95003);var e_=ew.Buffer,eE=ew.kMaxLength,eA=eg.g.crypto||eg.g.msCrypto,eS=4294967295;function eI(eu,ed){if("number"!=typeof eu||eu!=eu)throw TypeError("offset must be a number");if(eu>eS||eu<0)throw TypeError("offset must be a uint32");if(eu>eE||eu>ed)throw RangeError("offset out of range")}function eC(eu,ed,eg){if("number"!=typeof eu||eu!=eu)throw TypeError("size must be a number");if(eu>eS||eu<0)throw TypeError("size must be a uint32");if(eu+ed>eg||eu>eE)throw RangeError("buffer too small")}function eM(eu,ed,em,eb){if(!e_.isBuffer(eu)&&!(eu instanceof eg.g.Uint8Array))throw TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof ed)eb=ed,ed=0,em=eu.length;else if("function"==typeof em)eb=em,em=eu.length-ed;else if("function"!=typeof eb)throw TypeError('"cb" argument must be a function');return eI(ed,eu.length),eC(em,ed,eu.length),eO(eu,ed,em,eb)}function eO(eu,ed,eg,eb){var ew=eu.buffer,e_=new Uint8Array(ew,ed,eg);if(eA.getRandomValues(e_),eb){em.nextTick(function(){eb(null,eu)});return}return eu}function eT(eu,ed,em){if(void 0===ed&&(ed=0),!e_.isBuffer(eu)&&!(eu instanceof eg.g.Uint8Array))throw TypeError('"buf" argument must be a Buffer or Uint8Array');return eI(ed,eu.length),void 0===em&&(em=eu.length-ed),eC(em,ed,eu.length),eO(eu,ed,em)}eA&&eA.getRandomValues?(ed.randomFill=eM,ed.randomFillSync=eT):(ed.randomFill=eb,ed.randomFillSync=eb)},64452:function(eu){"use strict";function ed(eu,ed){eu.prototype=Object.create(ed.prototype),eu.prototype.constructor=eu,eu.__proto__=ed}var eg={};function em(eu,em,eb){function ew(eu,ed,eg){return"string"==typeof em?em:em(eu,ed,eg)}eb||(eb=Error);var e_=function(eu){function eg(ed,eg,em){return eu.call(this,ew(ed,eg,em))||this}return ed(eg,eu),eg}(eb);e_.prototype.name=eb.name,e_.prototype.code=eu,eg[eu]=e_}function eb(eu,ed){if(!Array.isArray(eu))return"of ".concat(ed," ").concat(String(eu));var eg=eu.length;return(eu=eu.map(function(eu){return String(eu)}),eg>2)?"one of ".concat(ed," ").concat(eu.slice(0,eg-1).join(", "),", or ")+eu[eg-1]:2===eg?"one of ".concat(ed," ").concat(eu[0]," or ").concat(eu[1]):"of ".concat(ed," ").concat(eu[0])}function ew(eu,ed,eg){return eu.substr(!eg||eg<0?0:+eg,ed.length)===ed}function e_(eu,ed,eg){return(void 0===eg||eg>eu.length)&&(eg=eu.length),eu.substring(eg-ed.length,eg)===ed}function eE(eu,ed,eg){return"number"!=typeof eg&&(eg=0),!(eg+ed.length>eu.length)&&-1!==eu.indexOf(ed,eg)}em("ERR_INVALID_OPT_VALUE",function(eu,ed){return'The value "'+ed+'" is invalid for option "'+eu+'"'},TypeError),em("ERR_INVALID_ARG_TYPE",function(eu,ed,eg){if("string"==typeof ed&&ew(ed,"not ")?(em="must not be",ed=ed.replace(/^not /,"")):em="must be",e_(eu," argument"))eA="The ".concat(eu," ").concat(em," ").concat(eb(ed,"type"));else{var em,eA,eS=eE(eu,".")?"property":"argument";eA='The "'.concat(eu,'" ').concat(eS," ").concat(em," ").concat(eb(ed,"type"))}return eA+". Received type ".concat(typeof eg)},TypeError),em("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),em("ERR_METHOD_NOT_IMPLEMENTED",function(eu){return"The "+eu+" method is not implemented"}),em("ERR_STREAM_PREMATURE_CLOSE","Premature close"),em("ERR_STREAM_DESTROYED",function(eu){return"Cannot call "+eu+" after a stream was destroyed"}),em("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),em("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),em("ERR_STREAM_WRITE_AFTER_END","write after end"),em("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),em("ERR_UNKNOWN_ENCODING",function(eu){return"Unknown encoding: "+eu},TypeError),em("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),eu.exports.q=eg},77073:function(eu,ed,eg){"use strict";var em=eg(34406),eb=Object.keys||function(eu){var ed=[];for(var eg in eu)ed.push(eg);return ed};eu.exports=eI;var ew=eg(28051),e_=eg(2557);eg(91285)(eI,ew);for(var eE=eb(e_.prototype),eA=0;eA<eE.length;eA++){var eS=eE[eA];eI.prototype[eS]||(eI.prototype[eS]=e_.prototype[eS])}function eI(eu){if(!(this instanceof eI))return new eI(eu);ew.call(this,eu),e_.call(this,eu),this.allowHalfOpen=!0,eu&&(!1===eu.readable&&(this.readable=!1),!1===eu.writable&&(this.writable=!1),!1===eu.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",eC)))}function eC(){this._writableState.ended||em.nextTick(eM,this)}function eM(eu){eu.end()}Object.defineProperty(eI.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(eI.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(eI.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(eI.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(eu){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=eu,this._writableState.destroyed=eu)}})},95163:function(eu,ed,eg){"use strict";eu.exports=eb;var em=eg(27640);function eb(eu){if(!(this instanceof eb))return new eb(eu);em.call(this,eu)}eg(91285)(eb,em),eb.prototype._transform=function(eu,ed,eg){eg(null,eu)}},28051:function(eu,ed,eg){"use strict";var em,eb,ew,e_,eE,eA=eg(34406);eu.exports=eV,eV.ReadableState=eH,eg(22699).EventEmitter;var eS=function(eu,ed){return eu.listeners(ed).length},eI=eg(15010),eC=eg(48834).Buffer,eM=(void 0!==eg.g?eg.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};function eO(eu){return eC.from(eu)}function eT(eu){return eC.isBuffer(eu)||eu instanceof eM}var eP=eg(66602);eb=eP&&eP.debuglog?eP.debuglog("stream"):function(){};var eN=eg(56637),ek=eg(12262),eR=eg(87605).getHighWaterMark,eD=eg(64452).q,eB=eD.ERR_INVALID_ARG_TYPE,eU=eD.ERR_STREAM_PUSH_AFTER_EOF,eL=eD.ERR_METHOD_NOT_IMPLEMENTED,ej=eD.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;eg(91285)(eV,eI);var eF=ek.errorOrDestroy,e$=["error","close","destroy","pause","resume"];function eK(eu,ed,eg){if("function"==typeof eu.prependListener)return eu.prependListener(ed,eg);eu._events&&eu._events[ed]?Array.isArray(eu._events[ed])?eu._events[ed].unshift(eg):eu._events[ed]=[eg,eu._events[ed]]:eu.on(ed,eg)}function eH(eu,ed,eb){em=em||eg(77073),eu=eu||{},"boolean"!=typeof eb&&(eb=ed instanceof em),this.objectMode=!!eu.objectMode,eb&&(this.objectMode=this.objectMode||!!eu.readableObjectMode),this.highWaterMark=eR(this,eu,"readableHighWaterMark",eb),this.buffer=new eN,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==eu.emitClose,this.autoDestroy=!!eu.autoDestroy,this.destroyed=!1,this.defaultEncoding=eu.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,eu.encoding&&(ew||(ew=eg(30214).s),this.decoder=new ew(eu.encoding),this.encoding=eu.encoding)}function eV(eu){if(em=em||eg(77073),!(this instanceof eV))return new eV(eu);var ed=this instanceof em;this._readableState=new eH(eu,this,ed),this.readable=!0,eu&&("function"==typeof eu.read&&(this._read=eu.read),"function"==typeof eu.destroy&&(this._destroy=eu.destroy)),eI.call(this)}function eG(eu,ed,eg,em,ew){eb("readableAddChunk",ed);var e_,eE=eu._readableState;if(null===ed)eE.reading=!1,eQ(eu,eE);else if(ew||(e_=eJ(eE,ed)),e_)eF(eu,e_);else if(eE.objectMode||ed&&ed.length>0){if("string"==typeof ed||eE.objectMode||Object.getPrototypeOf(ed)===eC.prototype||(ed=eO(ed)),em)eE.endEmitted?eF(eu,new ej):eW(eu,eE,ed,!0);else if(eE.ended)eF(eu,new eU);else{if(eE.destroyed)return!1;eE.reading=!1,eE.decoder&&!eg?(ed=eE.decoder.write(ed),eE.objectMode||0!==ed.length?eW(eu,eE,ed,!1):e8(eu,eE)):eW(eu,eE,ed,!1)}}else em||(eE.reading=!1,e8(eu,eE));return!eE.ended&&(eE.length<eE.highWaterMark||0===eE.length)}function eW(eu,ed,eg,em){ed.flowing&&0===ed.length&&!ed.sync?(ed.awaitDrain=0,eu.emit("data",eg)):(ed.length+=ed.objectMode?1:eg.length,em?ed.buffer.unshift(eg):ed.buffer.push(eg),ed.needReadable&&e0(eu)),e8(eu,ed)}function eJ(eu,ed){var eg;return eT(ed)||"string"==typeof ed||void 0===ed||eu.objectMode||(eg=new eB("chunk",["string","Buffer","Uint8Array"],ed)),eg}Object.defineProperty(eV.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(eu){this._readableState&&(this._readableState.destroyed=eu)}}),eV.prototype.destroy=ek.destroy,eV.prototype._undestroy=ek.undestroy,eV.prototype._destroy=function(eu,ed){ed(eu)},eV.prototype.push=function(eu,ed){var eg,em=this._readableState;return em.objectMode?eg=!0:"string"==typeof eu&&((ed=ed||em.defaultEncoding)!==em.encoding&&(eu=eC.from(eu,ed),ed=""),eg=!0),eG(this,eu,ed,!1,eg)},eV.prototype.unshift=function(eu){return eG(this,eu,null,!0,!1)},eV.prototype.isPaused=function(){return!1===this._readableState.flowing},eV.prototype.setEncoding=function(eu){ew||(ew=eg(30214).s);var ed=new ew(eu);this._readableState.decoder=ed,this._readableState.encoding=this._readableState.decoder.encoding;for(var em=this._readableState.buffer.head,eb="";null!==em;)eb+=ed.write(em.data),em=em.next;return this._readableState.buffer.clear(),""!==eb&&this._readableState.buffer.push(eb),this._readableState.length=eb.length,this};var eZ=1073741824;function eY(eu){return eu>=eZ?eu=eZ:(eu--,eu|=eu>>>1,eu|=eu>>>2,eu|=eu>>>4,eu|=eu>>>8,eu|=eu>>>16,eu++),eu}function eX(eu,ed){return eu<=0||0===ed.length&&ed.ended?0:ed.objectMode?1:eu!=eu?ed.flowing&&ed.length?ed.buffer.head.data.length:ed.length:(eu>ed.highWaterMark&&(ed.highWaterMark=eY(eu)),eu<=ed.length)?eu:ed.ended?ed.length:(ed.needReadable=!0,0)}function eQ(eu,ed){if(eb("onEofChunk"),!ed.ended){if(ed.decoder){var eg=ed.decoder.end();eg&&eg.length&&(ed.buffer.push(eg),ed.length+=ed.objectMode?1:eg.length)}ed.ended=!0,ed.sync?e0(eu):(ed.needReadable=!1,ed.emittedReadable||(ed.emittedReadable=!0,e6(eu)))}}function e0(eu){var ed=eu._readableState;eb("emitReadable",ed.needReadable,ed.emittedReadable),ed.needReadable=!1,ed.emittedReadable||(eb("emitReadable",ed.flowing),ed.emittedReadable=!0,eA.nextTick(e6,eu))}function e6(eu){var ed=eu._readableState;eb("emitReadable_",ed.destroyed,ed.length,ed.ended),!ed.destroyed&&(ed.length||ed.ended)&&(eu.emit("readable"),ed.emittedReadable=!1),ed.needReadable=!ed.flowing&&!ed.ended&&ed.length<=ed.highWaterMark,tg(eu)}function e8(eu,ed){ed.readingMore||(ed.readingMore=!0,eA.nextTick(e5,eu,ed))}function e5(eu,ed){for(;!ed.reading&&!ed.ended&&(ed.length<ed.highWaterMark||ed.flowing&&0===ed.length);){var eg=ed.length;if(eb("maybeReadMore read 0"),eu.read(0),eg===ed.length)break}ed.readingMore=!1}function e9(eu){return function(){var ed=eu._readableState;eb("pipeOnDrain",ed.awaitDrain),ed.awaitDrain&&ed.awaitDrain--,0===ed.awaitDrain&&eS(eu,"data")&&(ed.flowing=!0,tg(eu))}}function e7(eu){var ed=eu._readableState;ed.readableListening=eu.listenerCount("readable")>0,ed.resumeScheduled&&!ed.paused?ed.flowing=!0:eu.listenerCount("data")>0&&eu.resume()}function tu(eu){eb("readable nexttick read 0"),eu.read(0)}function th(eu,ed){ed.resumeScheduled||(ed.resumeScheduled=!0,eA.nextTick(td,eu,ed))}function td(eu,ed){eb("resume",ed.reading),ed.reading||eu.read(0),ed.resumeScheduled=!1,eu.emit("resume"),tg(eu),ed.flowing&&!ed.reading&&eu.read(0)}function tg(eu){var ed=eu._readableState;for(eb("flow",ed.flowing);ed.flowing&&null!==eu.read(););}function ty(eu,ed){var eg;return 0===ed.length?null:(ed.objectMode?eg=ed.buffer.shift():!eu||eu>=ed.length?(eg=ed.decoder?ed.buffer.join(""):1===ed.buffer.length?ed.buffer.first():ed.buffer.concat(ed.length),ed.buffer.clear()):eg=ed.buffer.consume(eu,ed.decoder),eg)}function tb(eu){var ed=eu._readableState;eb("endReadable",ed.endEmitted),ed.endEmitted||(ed.ended=!0,eA.nextTick(tw,ed,eu))}function tw(eu,ed){if(eb("endReadableNT",eu.endEmitted,eu.length),!eu.endEmitted&&0===eu.length&&(eu.endEmitted=!0,ed.readable=!1,ed.emit("end"),eu.autoDestroy)){var eg=ed._writableState;(!eg||eg.autoDestroy&&eg.finished)&&ed.destroy()}}function t_(eu,ed){for(var eg=0,em=eu.length;eg<em;eg++)if(eu[eg]===ed)return eg;return -1}eV.prototype.read=function(eu){eb("read",eu),eu=parseInt(eu,10);var ed,eg=this._readableState,em=eu;if(0!==eu&&(eg.emittedReadable=!1),0===eu&&eg.needReadable&&((0!==eg.highWaterMark?eg.length>=eg.highWaterMark:eg.length>0)||eg.ended))return eb("read: emitReadable",eg.length,eg.ended),0===eg.length&&eg.ended?tb(this):e0(this),null;if(0===(eu=eX(eu,eg))&&eg.ended)return 0===eg.length&&tb(this),null;var ew=eg.needReadable;return eb("need readable",ew),(0===eg.length||eg.length-eu<eg.highWaterMark)&&eb("length less than watermark",ew=!0),eg.ended||eg.reading?eb("reading or ended",ew=!1):ew&&(eb("do read"),eg.reading=!0,eg.sync=!0,0===eg.length&&(eg.needReadable=!0),this._read(eg.highWaterMark),eg.sync=!1,eg.reading||(eu=eX(em,eg))),null===(ed=eu>0?ty(eu,eg):null)?(eg.needReadable=eg.length<=eg.highWaterMark,eu=0):(eg.length-=eu,eg.awaitDrain=0),0===eg.length&&(eg.ended||(eg.needReadable=!0),em!==eu&&eg.ended&&tb(this)),null!==ed&&this.emit("data",ed),ed},eV.prototype._read=function(eu){eF(this,new eL("_read()"))},eV.prototype.pipe=function(eu,ed){var eg=this,em=this._readableState;switch(em.pipesCount){case 0:em.pipes=eu;break;case 1:em.pipes=[em.pipes,eu];break;default:em.pipes.push(eu)}em.pipesCount+=1,eb("pipe count=%d opts=%j",em.pipesCount,ed);var ew=ed&&!1===ed.end||eu===eA.stdout||eu===eA.stderr?ek:eE;function e_(eu,ed){eb("onunpipe"),eu===eg&&ed&&!1===ed.hasUnpiped&&(ed.hasUnpiped=!0,eM())}function eE(){eb("onend"),eu.end()}em.endEmitted?eA.nextTick(ew):eg.once("end",ew),eu.on("unpipe",e_);var eI=e9(eg);eu.on("drain",eI);var eC=!1;function eM(){eb("cleanup"),eu.removeListener("close",eP),eu.removeListener("finish",eN),eu.removeListener("drain",eI),eu.removeListener("error",eT),eu.removeListener("unpipe",e_),eg.removeListener("end",eE),eg.removeListener("end",ek),eg.removeListener("data",eO),eC=!0,em.awaitDrain&&(!eu._writableState||eu._writableState.needDrain)&&eI()}function eO(ed){eb("ondata");var ew=eu.write(ed);eb("dest.write",ew),!1===ew&&((1===em.pipesCount&&em.pipes===eu||em.pipesCount>1&&-1!==t_(em.pipes,eu))&&!eC&&(eb("false write response, pause",em.awaitDrain),em.awaitDrain++),eg.pause())}function eT(ed){eb("onerror",ed),ek(),eu.removeListener("error",eT),0===eS(eu,"error")&&eF(eu,ed)}function eP(){eu.removeListener("finish",eN),ek()}function eN(){eb("onfinish"),eu.removeListener("close",eP),ek()}function ek(){eb("unpipe"),eg.unpipe(eu)}return eg.on("data",eO),eK(eu,"error",eT),eu.once("close",eP),eu.once("finish",eN),eu.emit("pipe",eg),em.flowing||(eb("pipe resume"),eg.resume()),eu},eV.prototype.unpipe=function(eu){var ed=this._readableState,eg={hasUnpiped:!1};if(0===ed.pipesCount)return this;if(1===ed.pipesCount)return eu&&eu!==ed.pipes||(eu||(eu=ed.pipes),ed.pipes=null,ed.pipesCount=0,ed.flowing=!1,eu&&eu.emit("unpipe",this,eg)),this;if(!eu){var em=ed.pipes,eb=ed.pipesCount;ed.pipes=null,ed.pipesCount=0,ed.flowing=!1;for(var ew=0;ew<eb;ew++)em[ew].emit("unpipe",this,{hasUnpiped:!1});return this}var e_=t_(ed.pipes,eu);return -1===e_||(ed.pipes.splice(e_,1),ed.pipesCount-=1,1===ed.pipesCount&&(ed.pipes=ed.pipes[0]),eu.emit("unpipe",this,eg)),this},eV.prototype.on=function(eu,ed){var eg=eI.prototype.on.call(this,eu,ed),em=this._readableState;return"data"===eu?(em.readableListening=this.listenerCount("readable")>0,!1!==em.flowing&&this.resume()):"readable"!==eu||em.endEmitted||em.readableListening||(em.readableListening=em.needReadable=!0,em.flowing=!1,em.emittedReadable=!1,eb("on readable",em.length,em.reading),em.length?e0(this):em.reading||eA.nextTick(tu,this)),eg},eV.prototype.addListener=eV.prototype.on,eV.prototype.removeListener=function(eu,ed){var eg=eI.prototype.removeListener.call(this,eu,ed);return"readable"===eu&&eA.nextTick(e7,this),eg},eV.prototype.removeAllListeners=function(eu){var ed=eI.prototype.removeAllListeners.apply(this,arguments);return("readable"===eu||void 0===eu)&&eA.nextTick(e7,this),ed},eV.prototype.resume=function(){var eu=this._readableState;return eu.flowing||(eb("resume"),eu.flowing=!eu.readableListening,th(this,eu)),eu.paused=!1,this},eV.prototype.pause=function(){return eb("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(eb("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},eV.prototype.wrap=function(eu){var ed=this,eg=this._readableState,em=!1;for(var ew in eu.on("end",function(){if(eb("wrapped end"),eg.decoder&&!eg.ended){var eu=eg.decoder.end();eu&&eu.length&&ed.push(eu)}ed.push(null)}),eu.on("data",function(ew){eb("wrapped data"),eg.decoder&&(ew=eg.decoder.write(ew)),(!eg.objectMode||null!=ew)&&(eg.objectMode||ew&&ew.length)&&(ed.push(ew)||(em=!0,eu.pause()))}),eu)void 0===this[ew]&&"function"==typeof eu[ew]&&(this[ew]=function(ed){return function(){return eu[ed].apply(eu,arguments)}}(ew));for(var e_=0;e_<e$.length;e_++)eu.on(e$[e_],this.emit.bind(this,e$[e_]));return this._read=function(ed){eb("wrapped _read",ed),em&&(em=!1,eu.resume())},this},"function"==typeof Symbol&&(eV.prototype[Symbol.asyncIterator]=function(){return void 0===e_&&(e_=eg(1029)),e_(this)}),Object.defineProperty(eV.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(eV.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(eV.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(eu){this._readableState&&(this._readableState.flowing=eu)}}),eV._fromList=ty,Object.defineProperty(eV.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(eV.from=function(eu,ed){return void 0===eE&&(eE=eg(90352)),eE(eV,eu,ed)})},27640:function(eu,ed,eg){"use strict";eu.exports=eI;var em=eg(64452).q,eb=em.ERR_METHOD_NOT_IMPLEMENTED,ew=em.ERR_MULTIPLE_CALLBACK,e_=em.ERR_TRANSFORM_ALREADY_TRANSFORMING,eE=em.ERR_TRANSFORM_WITH_LENGTH_0,eA=eg(77073);function eS(eu,ed){var eg=this._transformState;eg.transforming=!1;var em=eg.writecb;if(null===em)return this.emit("error",new ew);eg.writechunk=null,eg.writecb=null,null!=ed&&this.push(ed),em(eu);var eb=this._readableState;eb.reading=!1,(eb.needReadable||eb.length<eb.highWaterMark)&&this._read(eb.highWaterMark)}function eI(eu){if(!(this instanceof eI))return new eI(eu);eA.call(this,eu),this._transformState={afterTransform:eS.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,eu&&("function"==typeof eu.transform&&(this._transform=eu.transform),"function"==typeof eu.flush&&(this._flush=eu.flush)),this.on("prefinish",eC)}function eC(){var eu=this;"function"!=typeof this._flush||this._readableState.destroyed?eM(this,null,null):this._flush(function(ed,eg){eM(eu,ed,eg)})}function eM(eu,ed,eg){if(ed)return eu.emit("error",ed);if(null!=eg&&eu.push(eg),eu._writableState.length)throw new eE;if(eu._transformState.transforming)throw new e_;return eu.push(null)}eg(91285)(eI,eA),eI.prototype.push=function(eu,ed){return this._transformState.needTransform=!1,eA.prototype.push.call(this,eu,ed)},eI.prototype._transform=function(eu,ed,eg){eg(new eb("_transform()"))},eI.prototype._write=function(eu,ed,eg){var em=this._transformState;if(em.writecb=eg,em.writechunk=eu,em.writeencoding=ed,!em.transforming){var eb=this._readableState;(em.needTransform||eb.needReadable||eb.length<eb.highWaterMark)&&this._read(eb.highWaterMark)}},eI.prototype._read=function(eu){var ed=this._transformState;null===ed.writechunk||ed.transforming?ed.needTransform=!0:(ed.transforming=!0,this._transform(ed.writechunk,ed.writeencoding,ed.afterTransform))},eI.prototype._destroy=function(eu,ed){eA.prototype._destroy.call(this,eu,function(eu){ed(eu)})}},2557:function(eu,ed,eg){"use strict";var em,eb,ew=eg(34406);function e_(eu){var ed=this;this.next=null,this.entry=null,this.finish=function(){td(ed,eu)}}eu.exports=eH,eH.WritableState=eK;var eE={deprecate:eg(5803)},eA=eg(15010),eS=eg(48834).Buffer,eI=(void 0!==eg.g?eg.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};function eC(eu){return eS.from(eu)}function eM(eu){return eS.isBuffer(eu)||eu instanceof eI}var eO=eg(12262),eT=eg(87605).getHighWaterMark,eP=eg(64452).q,eN=eP.ERR_INVALID_ARG_TYPE,ek=eP.ERR_METHOD_NOT_IMPLEMENTED,eR=eP.ERR_MULTIPLE_CALLBACK,eD=eP.ERR_STREAM_CANNOT_PIPE,eB=eP.ERR_STREAM_DESTROYED,eU=eP.ERR_STREAM_NULL_VALUES,eL=eP.ERR_STREAM_WRITE_AFTER_END,ej=eP.ERR_UNKNOWN_ENCODING,eF=eO.errorOrDestroy;function e$(){}function eK(eu,ed,eb){em=em||eg(77073),eu=eu||{},"boolean"!=typeof eb&&(eb=ed instanceof em),this.objectMode=!!eu.objectMode,eb&&(this.objectMode=this.objectMode||!!eu.writableObjectMode),this.highWaterMark=eT(this,eu,"writableHighWaterMark",eb),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ew=!1===eu.decodeStrings;this.decodeStrings=!ew,this.defaultEncoding=eu.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(eu){eQ(ed,eu)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==eu.emitClose,this.autoDestroy=!!eu.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new e_(this)}function eH(eu){var ed=this instanceof(em=em||eg(77073));if(!ed&&!eb.call(eH,this))return new eH(eu);this._writableState=new eK(eu,this,ed),this.writable=!0,eu&&("function"==typeof eu.write&&(this._write=eu.write),"function"==typeof eu.writev&&(this._writev=eu.writev),"function"==typeof eu.destroy&&(this._destroy=eu.destroy),"function"==typeof eu.final&&(this._final=eu.final)),eA.call(this)}function eV(eu,ed){var eg=new eL;eF(eu,eg),ew.nextTick(ed,eg)}function eG(eu,ed,eg,em){var eb;return null===eg?eb=new eU:"string"==typeof eg||ed.objectMode||(eb=new eN("chunk",["string","Buffer"],eg)),!eb||(eF(eu,eb),ew.nextTick(em,eb),!1)}function eW(eu,ed,eg){return eu.objectMode||!1===eu.decodeStrings||"string"!=typeof ed||(ed=eS.from(ed,eg)),ed}function eJ(eu,ed,eg,em,eb,ew){if(!eg){var e_=eW(ed,em,eb);em!==e_&&(eg=!0,eb="buffer",em=e_)}var eE=ed.objectMode?1:em.length;ed.length+=eE;var eA=ed.length<ed.highWaterMark;if(eA||(ed.needDrain=!0),ed.writing||ed.corked){var eS=ed.lastBufferedRequest;ed.lastBufferedRequest={chunk:em,encoding:eb,isBuf:eg,callback:ew,next:null},eS?eS.next=ed.lastBufferedRequest:ed.bufferedRequest=ed.lastBufferedRequest,ed.bufferedRequestCount+=1}else eZ(eu,ed,!1,eE,em,eb,ew);return eA}function eZ(eu,ed,eg,em,eb,ew,e_){ed.writelen=em,ed.writecb=e_,ed.writing=!0,ed.sync=!0,ed.destroyed?ed.onwrite(new eB("write")):eg?eu._writev(eb,ed.onwrite):eu._write(eb,ew,ed.onwrite),ed.sync=!1}function eY(eu,ed,eg,em,eb){--ed.pendingcb,eg?(ew.nextTick(eb,em),ew.nextTick(tu,eu,ed),eu._writableState.errorEmitted=!0,eF(eu,em)):(eb(em),eu._writableState.errorEmitted=!0,eF(eu,em),tu(eu,ed))}function eX(eu){eu.writing=!1,eu.writecb=null,eu.length-=eu.writelen,eu.writelen=0}function eQ(eu,ed){var eg=eu._writableState,em=eg.sync,eb=eg.writecb;if("function"!=typeof eb)throw new eR;if(eX(eg),ed)eY(eu,eg,em,ed,eb);else{var e_=e5(eg)||eu.destroyed;e_||eg.corked||eg.bufferProcessing||!eg.bufferedRequest||e8(eu,eg),em?ew.nextTick(e0,eu,eg,e_,eb):e0(eu,eg,e_,eb)}}function e0(eu,ed,eg,em){eg||e6(eu,ed),ed.pendingcb--,em(),tu(eu,ed)}function e6(eu,ed){0===ed.length&&ed.needDrain&&(ed.needDrain=!1,eu.emit("drain"))}function e8(eu,ed){ed.bufferProcessing=!0;var eg=ed.bufferedRequest;if(eu._writev&&eg&&eg.next){var em=Array(ed.bufferedRequestCount),eb=ed.corkedRequestsFree;eb.entry=eg;for(var ew=0,eE=!0;eg;)em[ew]=eg,eg.isBuf||(eE=!1),eg=eg.next,ew+=1;em.allBuffers=eE,eZ(eu,ed,!0,ed.length,em,"",eb.finish),ed.pendingcb++,ed.lastBufferedRequest=null,eb.next?(ed.corkedRequestsFree=eb.next,eb.next=null):ed.corkedRequestsFree=new e_(ed),ed.bufferedRequestCount=0}else{for(;eg;){var eA=eg.chunk,eS=eg.encoding,eI=eg.callback,eC=ed.objectMode?1:eA.length;if(eZ(eu,ed,!1,eC,eA,eS,eI),eg=eg.next,ed.bufferedRequestCount--,ed.writing)break}null===eg&&(ed.lastBufferedRequest=null)}ed.bufferedRequest=eg,ed.bufferProcessing=!1}function e5(eu){return eu.ending&&0===eu.length&&null===eu.bufferedRequest&&!eu.finished&&!eu.writing}function e9(eu,ed){eu._final(function(eg){ed.pendingcb--,eg&&eF(eu,eg),ed.prefinished=!0,eu.emit("prefinish"),tu(eu,ed)})}function e7(eu,ed){ed.prefinished||ed.finalCalled||("function"!=typeof eu._final||ed.destroyed?(ed.prefinished=!0,eu.emit("prefinish")):(ed.pendingcb++,ed.finalCalled=!0,ew.nextTick(e9,eu,ed)))}function tu(eu,ed){var eg=e5(ed);if(eg&&(e7(eu,ed),0===ed.pendingcb&&(ed.finished=!0,eu.emit("finish"),ed.autoDestroy))){var em=eu._readableState;(!em||em.autoDestroy&&em.endEmitted)&&eu.destroy()}return eg}function th(eu,ed,eg){ed.ending=!0,tu(eu,ed),eg&&(ed.finished?ew.nextTick(eg):eu.once("finish",eg)),ed.ended=!0,eu.writable=!1}function td(eu,ed,eg){var em=eu.entry;for(eu.entry=null;em;){var eb=em.callback;ed.pendingcb--,eb(eg),em=em.next}ed.corkedRequestsFree.next=eu}eg(91285)(eH,eA),eK.prototype.getBuffer=function(){for(var eu=this.bufferedRequest,ed=[];eu;)ed.push(eu),eu=eu.next;return ed},function(){try{Object.defineProperty(eK.prototype,"buffer",{get:eE.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(eu){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(eb=Function.prototype[Symbol.hasInstance],Object.defineProperty(eH,Symbol.hasInstance,{value:function(eu){return!!eb.call(this,eu)||this===eH&&eu&&eu._writableState instanceof eK}})):eb=function(eu){return eu instanceof this},eH.prototype.pipe=function(){eF(this,new eD)},eH.prototype.write=function(eu,ed,eg){var em=this._writableState,eb=!1,ew=!em.objectMode&&eM(eu);return ew&&!eS.isBuffer(eu)&&(eu=eC(eu)),"function"==typeof ed&&(eg=ed,ed=null),ew?ed="buffer":ed||(ed=em.defaultEncoding),"function"!=typeof eg&&(eg=e$),em.ending?eV(this,eg):(ew||eG(this,em,eu,eg))&&(em.pendingcb++,eb=eJ(this,em,ew,eu,ed,eg)),eb},eH.prototype.cork=function(){this._writableState.corked++},eH.prototype.uncork=function(){var eu=this._writableState;!eu.corked||(eu.corked--,eu.writing||eu.corked||eu.bufferProcessing||!eu.bufferedRequest||e8(this,eu))},eH.prototype.setDefaultEncoding=function(eu){if("string"==typeof eu&&(eu=eu.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((eu+"").toLowerCase())>-1))throw new ej(eu);return this._writableState.defaultEncoding=eu,this},Object.defineProperty(eH.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(eH.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),eH.prototype._write=function(eu,ed,eg){eg(new ek("_write()"))},eH.prototype._writev=null,eH.prototype.end=function(eu,ed,eg){var em=this._writableState;return"function"==typeof eu?(eg=eu,eu=null,ed=null):"function"==typeof ed&&(eg=ed,ed=null),null!=eu&&this.write(eu,ed),em.corked&&(em.corked=1,this.uncork()),em.ending||th(this,em,eg),this},Object.defineProperty(eH.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(eH.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(eu){this._writableState&&(this._writableState.destroyed=eu)}}),eH.prototype.destroy=eO.destroy,eH.prototype._undestroy=eO.undestroy,eH.prototype._destroy=function(eu,ed){ed(eu)}},1029:function(eu,ed,eg){"use strict";var em,eb=eg(34406);function ew(eu,ed,eg){return(ed=e_(ed))in eu?Object.defineProperty(eu,ed,{value:eg,enumerable:!0,configurable:!0,writable:!0}):eu[ed]=eg,eu}function e_(eu){var ed=eE(eu,"string");return"symbol"==typeof ed?ed:String(ed)}function eE(eu,ed){if("object"!=typeof eu||null===eu)return eu;var eg=eu[Symbol.toPrimitive];if(void 0!==eg){var em=eg.call(eu,ed||"default");if("object"!=typeof em)return em;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===ed?String:Number)(eu)}var eA=eg(59885),eS=Symbol("lastResolve"),eI=Symbol("lastReject"),eC=Symbol("error"),eM=Symbol("ended"),eO=Symbol("lastPromise"),eT=Symbol("handlePromise"),eP=Symbol("stream");function eN(eu,ed){return{value:eu,done:ed}}function ek(eu){var ed=eu[eS];if(null!==ed){var eg=eu[eP].read();null!==eg&&(eu[eO]=null,eu[eS]=null,eu[eI]=null,ed(eN(eg,!1)))}}function eR(eu){eb.nextTick(ek,eu)}function eD(eu,ed){return function(eg,em){eu.then(function(){if(ed[eM]){eg(eN(void 0,!0));return}ed[eT](eg,em)},em)}}var eB=Object.getPrototypeOf(function(){}),eU=Object.setPrototypeOf((ew(em={get stream(){return this[eP]},next:function(){var eu,ed=this,eg=this[eC];if(null!==eg)return Promise.reject(eg);if(this[eM])return Promise.resolve(eN(void 0,!0));if(this[eP].destroyed)return new Promise(function(eu,eg){eb.nextTick(function(){ed[eC]?eg(ed[eC]):eu(eN(void 0,!0))})});var em=this[eO];if(em)eu=new Promise(eD(em,this));else{var ew=this[eP].read();if(null!==ew)return Promise.resolve(eN(ew,!1));eu=new Promise(this[eT])}return this[eO]=eu,eu}},Symbol.asyncIterator,function(){return this}),ew(em,"return",function(){var eu=this;return new Promise(function(ed,eg){eu[eP].destroy(null,function(eu){if(eu){eg(eu);return}ed(eN(void 0,!0))})})}),em),eB),eL=function(eu){var ed,eg=Object.create(eU,(ew(ed={},eP,{value:eu,writable:!0}),ew(ed,eS,{value:null,writable:!0}),ew(ed,eI,{value:null,writable:!0}),ew(ed,eC,{value:null,writable:!0}),ew(ed,eM,{value:eu._readableState.endEmitted,writable:!0}),ew(ed,eT,{value:function(eu,ed){var em=eg[eP].read();em?(eg[eO]=null,eg[eS]=null,eg[eI]=null,eu(eN(em,!1))):(eg[eS]=eu,eg[eI]=ed)},writable:!0}),ed));return eg[eO]=null,eA(eu,function(eu){if(eu&&"ERR_STREAM_PREMATURE_CLOSE"!==eu.code){var ed=eg[eI];null!==ed&&(eg[eO]=null,eg[eS]=null,eg[eI]=null,ed(eu)),eg[eC]=eu;return}var em=eg[eS];null!==em&&(eg[eO]=null,eg[eS]=null,eg[eI]=null,em(eN(void 0,!0))),eg[eM]=!0}),eu.on("readable",eR.bind(null,eg)),eg};eu.exports=eL},56637:function(eu,ed,eg){"use strict";function em(eu,ed){var eg=Object.keys(eu);if(Object.getOwnPropertySymbols){var em=Object.getOwnPropertySymbols(eu);ed&&(em=em.filter(function(ed){return Object.getOwnPropertyDescriptor(eu,ed).enumerable})),eg.push.apply(eg,em)}return eg}function eb(eu){for(var ed=1;ed<arguments.length;ed++){var eg=null!=arguments[ed]?arguments[ed]:{};ed%2?em(Object(eg),!0).forEach(function(ed){ew(eu,ed,eg[ed])}):Object.getOwnPropertyDescriptors?Object.defineProperties(eu,Object.getOwnPropertyDescriptors(eg)):em(Object(eg)).forEach(function(ed){Object.defineProperty(eu,ed,Object.getOwnPropertyDescriptor(eg,ed))})}return eu}function ew(eu,ed,eg){return(ed=eS(ed))in eu?Object.defineProperty(eu,ed,{value:eg,enumerable:!0,configurable:!0,writable:!0}):eu[ed]=eg,eu}function e_(eu,ed){if(!(eu instanceof ed))throw TypeError("Cannot call a class as a function")}function eE(eu,ed){for(var eg=0;eg<ed.length;eg++){var em=ed[eg];em.enumerable=em.enumerable||!1,em.configurable=!0,"value"in em&&(em.writable=!0),Object.defineProperty(eu,eS(em.key),em)}}function eA(eu,ed,eg){return ed&&eE(eu.prototype,ed),eg&&eE(eu,eg),Object.defineProperty(eu,"prototype",{writable:!1}),eu}function eS(eu){var ed=eI(eu,"string");return"symbol"==typeof ed?ed:String(ed)}function eI(eu,ed){if("object"!=typeof eu||null===eu)return eu;var eg=eu[Symbol.toPrimitive];if(void 0!==eg){var em=eg.call(eu,ed||"default");if("object"!=typeof em)return em;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===ed?String:Number)(eu)}var eC=eg(48834).Buffer,eM=eg(74854).inspect,eO=eM&&eM.custom||"inspect";function eT(eu,ed,eg){eC.prototype.copy.call(eu,ed,eg)}eu.exports=function(){function eu(){e_(this,eu),this.head=null,this.tail=null,this.length=0}return eA(eu,[{key:"push",value:function(eu){var ed={data:eu,next:null};this.length>0?this.tail.next=ed:this.head=ed,this.tail=ed,++this.length}},{key:"unshift",value:function(eu){var ed={data:eu,next:this.head};0===this.length&&(this.tail=ed),this.head=ed,++this.length}},{key:"shift",value:function(){if(0!==this.length){var eu=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,eu}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(eu){if(0===this.length)return"";for(var ed=this.head,eg=""+ed.data;ed=ed.next;)eg+=eu+ed.data;return eg}},{key:"concat",value:function(eu){if(0===this.length)return eC.alloc(0);for(var ed=eC.allocUnsafe(eu>>>0),eg=this.head,em=0;eg;)eT(eg.data,ed,em),em+=eg.data.length,eg=eg.next;return ed}},{key:"consume",value:function(eu,ed){var eg;return eu<this.head.data.length?(eg=this.head.data.slice(0,eu),this.head.data=this.head.data.slice(eu)):eg=eu===this.head.data.length?this.shift():ed?this._getString(eu):this._getBuffer(eu),eg}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(eu){var ed=this.head,eg=1,em=ed.data;for(eu-=em.length;ed=ed.next;){var eb=ed.data,ew=eu>eb.length?eb.length:eu;if(ew===eb.length?em+=eb:em+=eb.slice(0,eu),0==(eu-=ew)){ew===eb.length?(++eg,ed.next?this.head=ed.next:this.head=this.tail=null):(this.head=ed,ed.data=eb.slice(ew));break}++eg}return this.length-=eg,em}},{key:"_getBuffer",value:function(eu){var ed=eC.allocUnsafe(eu),eg=this.head,em=1;for(eg.data.copy(ed),eu-=eg.data.length;eg=eg.next;){var eb=eg.data,ew=eu>eb.length?eb.length:eu;if(eb.copy(ed,ed.length-eu,0,ew),0==(eu-=ew)){ew===eb.length?(++em,eg.next?this.head=eg.next:this.head=this.tail=null):(this.head=eg,eg.data=eb.slice(ew));break}++em}return this.length-=em,ed}},{key:eO,value:function(eu,ed){return eM(this,eb(eb({},ed),{},{depth:0,customInspect:!1}))}}]),eu}()},12262:function(eu,ed,eg){"use strict";var em=eg(34406);function eb(eu,ed){var eg=this,eb=this._readableState&&this._readableState.destroyed,eE=this._writableState&&this._writableState.destroyed;return eb||eE?(ed?ed(eu):eu&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,em.nextTick(eA,this,eu)):em.nextTick(eA,this,eu)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(eu||null,function(eu){!ed&&eu?eg._writableState?eg._writableState.errorEmitted?em.nextTick(e_,eg):(eg._writableState.errorEmitted=!0,em.nextTick(ew,eg,eu)):em.nextTick(ew,eg,eu):ed?(em.nextTick(e_,eg),ed(eu)):em.nextTick(e_,eg)}),this)}function ew(eu,ed){eA(eu,ed),e_(eu)}function e_(eu){(!eu._writableState||eu._writableState.emitClose)&&(!eu._readableState||eu._readableState.emitClose)&&eu.emit("close")}function eE(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function eA(eu,ed){eu.emit("error",ed)}function eS(eu,ed){var eg=eu._readableState,em=eu._writableState;eg&&eg.autoDestroy||em&&em.autoDestroy?eu.destroy(ed):eu.emit("error",ed)}eu.exports={destroy:eb,undestroy:eE,errorOrDestroy:eS}},59885:function(eu,ed,eg){"use strict";var em=eg(64452).q.ERR_STREAM_PREMATURE_CLOSE;function eb(eu){var ed=!1;return function(){if(!ed){ed=!0;for(var eg=arguments.length,em=Array(eg),eb=0;eb<eg;eb++)em[eb]=arguments[eb];eu.apply(this,em)}}}function ew(){}function e_(eu){return eu.setHeader&&"function"==typeof eu.abort}function eE(eu,ed,eg){if("function"==typeof ed)return eE(eu,null,ed);ed||(ed={}),eg=eb(eg||ew);var eA=ed.readable||!1!==ed.readable&&eu.readable,eS=ed.writable||!1!==ed.writable&&eu.writable,eI=function(){eu.writable||eM()},eC=eu._writableState&&eu._writableState.finished,eM=function(){eS=!1,eC=!0,eA||eg.call(eu)},eO=eu._readableState&&eu._readableState.endEmitted,eT=function(){eA=!1,eO=!0,eS||eg.call(eu)},eP=function(ed){eg.call(eu,ed)},eN=function(){var ed;return eA&&!eO?(eu._readableState&&eu._readableState.ended||(ed=new em),eg.call(eu,ed)):eS&&!eC?(eu._writableState&&eu._writableState.ended||(ed=new em),eg.call(eu,ed)):void 0},ek=function(){eu.req.on("finish",eM)};return e_(eu)?(eu.on("complete",eM),eu.on("abort",eN),eu.req?ek():eu.on("request",ek)):eS&&!eu._writableState&&(eu.on("end",eI),eu.on("close",eI)),eu.on("end",eT),eu.on("finish",eM),!1!==ed.error&&eu.on("error",eP),eu.on("close",eN),function(){eu.removeListener("complete",eM),eu.removeListener("abort",eN),eu.removeListener("request",ek),eu.req&&eu.req.removeListener("finish",eM),eu.removeListener("end",eI),eu.removeListener("close",eI),eu.removeListener("finish",eM),eu.removeListener("end",eT),eu.removeListener("error",eP),eu.removeListener("close",eN)}}eu.exports=eE},90352:function(eu){eu.exports=function(){throw Error("Readable.from is not available in the browser")}},63495:function(eu,ed,eg){"use strict";function em(eu){var ed=!1;return function(){ed||(ed=!0,eu.apply(void 0,arguments))}}var eb,ew=eg(64452).q,e_=ew.ERR_MISSING_ARGS,eE=ew.ERR_STREAM_DESTROYED;function eA(eu){if(eu)throw eu}function eS(eu){return eu.setHeader&&"function"==typeof eu.abort}function eI(eu,ed,ew,e_){e_=em(e_);var eA=!1;eu.on("close",function(){eA=!0}),void 0===eb&&(eb=eg(59885)),eb(eu,{readable:ed,writable:ew},function(eu){if(eu)return e_(eu);eA=!0,e_()});var eI=!1;return function(ed){if(!eA&&!eI){if(eI=!0,eS(eu))return eu.abort();if("function"==typeof eu.destroy)return eu.destroy();e_(ed||new eE("pipe"))}}}function eC(eu){eu()}function eM(eu,ed){return eu.pipe(ed)}function eO(eu){return eu.length&&"function"==typeof eu[eu.length-1]?eu.pop():eA}function eT(){for(var eu,ed=arguments.length,eg=Array(ed),em=0;em<ed;em++)eg[em]=arguments[em];var eb=eO(eg);if(Array.isArray(eg[0])&&(eg=eg[0]),eg.length<2)throw new e_("streams");var ew=eg.map(function(ed,em){var e_=em<eg.length-1;return eI(ed,e_,em>0,function(ed){eu||(eu=ed),ed&&ew.forEach(eC),e_||(ew.forEach(eC),eb(eu))})});return eg.reduce(eM)}eu.exports=eT},87605:function(eu,ed,eg){"use strict";var em=eg(64452).q.ERR_INVALID_OPT_VALUE;function eb(eu,ed,eg){return null!=eu.highWaterMark?eu.highWaterMark:ed?eu[eg]:null}function ew(eu,ed,eg,ew){var e_=eb(ed,ew,eg);if(null!=e_){if(!(isFinite(e_)&&Math.floor(e_)===e_)||e_<0){var eE=ew?eg:"highWaterMark";throw new em(eE,e_)}return Math.floor(e_)}return eu.objectMode?16:16384}eu.exports={getHighWaterMark:ew}},15010:function(eu,ed,eg){eu.exports=eg(22699).EventEmitter},67525:function(eu,ed,eg){(ed=eu.exports=eg(28051)).Stream=ed,ed.Readable=ed,ed.Writable=eg(2557),ed.Duplex=eg(77073),ed.Transform=eg(27640),ed.PassThrough=eg(95163),ed.finished=eg(59885),ed.pipeline=eg(63495)},51445:function(eu,ed,eg){"use strict";var em=eg(48834).Buffer,eb=eg(91285),ew=eg(94307),e_=Array(16),eE=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],eA=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],eS=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],eI=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],eC=[0,1518500249,1859775393,2400959708,2840853838],eM=[1352829926,1548603684,1836072691,2053994217,0];function eO(){ew.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function eT(eu,ed){return eu<<ed|eu>>>32-ed}function eP(eu,ed,eg,em,eb,ew,e_,eE){return eT(eu+(ed^eg^em)+ew+e_|0,eE)+eb|0}function eN(eu,ed,eg,em,eb,ew,e_,eE){return eT(eu+(ed&eg|~ed&em)+ew+e_|0,eE)+eb|0}function ek(eu,ed,eg,em,eb,ew,e_,eE){return eT(eu+((ed|~eg)^em)+ew+e_|0,eE)+eb|0}function eR(eu,ed,eg,em,eb,ew,e_,eE){return eT(eu+(ed&em|eg&~em)+ew+e_|0,eE)+eb|0}function eD(eu,ed,eg,em,eb,ew,e_,eE){return eT(eu+(ed^(eg|~em))+ew+e_|0,eE)+eb|0}eb(eO,ew),eO.prototype._update=function(){for(var eu,ed,eg=e_,em=0;em<16;++em)eg[em]=this._block.readInt32LE(4*em);for(var eb=0|this._a,ew=0|this._b,eO=0|this._c,eB=0|this._d,eU=0|this._e,eL=0|this._a,ej=0|this._b,eF=0|this._c,e$=0|this._d,eK=0|this._e,eH=0;eH<80;eH+=1)eH<16?(eu=eP(eb,ew,eO,eB,eU,eg[eE[eH]],eC[0],eS[eH]),ed=eD(eL,ej,eF,e$,eK,eg[eA[eH]],eM[0],eI[eH])):eH<32?(eu=eN(eb,ew,eO,eB,eU,eg[eE[eH]],eC[1],eS[eH]),ed=eR(eL,ej,eF,e$,eK,eg[eA[eH]],eM[1],eI[eH])):eH<48?(eu=ek(eb,ew,eO,eB,eU,eg[eE[eH]],eC[2],eS[eH]),ed=ek(eL,ej,eF,e$,eK,eg[eA[eH]],eM[2],eI[eH])):eH<64?(eu=eR(eb,ew,eO,eB,eU,eg[eE[eH]],eC[3],eS[eH]),ed=eN(eL,ej,eF,e$,eK,eg[eA[eH]],eM[3],eI[eH])):(eu=eD(eb,ew,eO,eB,eU,eg[eE[eH]],eC[4],eS[eH]),ed=eP(eL,ej,eF,e$,eK,eg[eA[eH]],eM[4],eI[eH])),eb=eU,eU=eB,eB=eT(eO,10),eO=ew,ew=eu,eL=eK,eK=e$,e$=eT(eF,10),eF=ej,ej=ed;var eV=this._b+eO+e$|0;this._b=this._c+eB+eK|0,this._c=this._d+eU+eL|0,this._d=this._e+eb+ej|0,this._e=this._a+ew+eF|0,this._a=eV},eO.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var eu=em.alloc?em.alloc(20):new em(20);return eu.writeInt32LE(this._a,0),eu.writeInt32LE(this._b,4),eu.writeInt32LE(this._c,8),eu.writeInt32LE(this._d,12),eu.writeInt32LE(this._e,16),eu},eu.exports=eO},94307:function(eu,ed,eg){"use strict";var em=eg(77834).Buffer,eb=eg(67525).Transform;function ew(eu,ed){if(!em.isBuffer(eu)&&"string"!=typeof eu)throw TypeError(ed+" must be a string or a buffer")}function e_(eu){eb.call(this),this._block=em.allocUnsafe(eu),this._blockSize=eu,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}eg(91285)(e_,eb),e_.prototype._transform=function(eu,ed,eg){var em=null;try{this.update(eu,ed)}catch(eu){em=eu}eg(em)},e_.prototype._flush=function(eu){var ed=null;try{this.push(this.digest())}catch(eu){ed=eu}eu(ed)},e_.prototype.update=function(eu,ed){if(ew(eu,"Data"),this._finalized)throw Error("Digest already called");em.isBuffer(eu)||(eu=em.from(eu,ed));for(var eg=this._block,eb=0;this._blockOffset+eu.length-eb>=this._blockSize;){for(var e_=this._blockOffset;e_<this._blockSize;)eg[e_++]=eu[eb++];this._update(),this._blockOffset=0}for(;eb<eu.length;)eg[this._blockOffset++]=eu[eb++];for(var eE=0,eA=8*eu.length;eA>0;++eE)this._length[eE]+=eA,(eA=this._length[eE]/4294967296|0)>0&&(this._length[eE]-=4294967296*eA);return this},e_.prototype._update=function(){throw Error("_update is not implemented")},e_.prototype.digest=function(eu){if(this._finalized)throw Error("Digest already called");this._finalized=!0;var ed=this._digest();void 0!==eu&&(ed=ed.toString(eu)),this._block.fill(0),this._blockOffset=0;for(var eg=0;eg<4;++eg)this._length[eg]=0;return ed},e_.prototype._digest=function(){throw Error("_digest is not implemented")},eu.exports=e_},56130:function(eu,ed,eg){"use strict";eg.d(ed,{X:function(){return eb}});var em=eg(22970),eb=function(eu){function ed(ed){var eg=eu.call(this)||this;return eg._value=ed,eg}return(0,em.__extends)(ed,eu),Object.defineProperty(ed.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),ed.prototype._subscribe=function(ed){var eg=eu.prototype._subscribe.call(this,ed);return eg.closed||ed.next(this._value),eg},ed.prototype.getValue=function(){var eu=this,ed=eu.hasError,eg=eu.thrownError,em=eu._value;if(ed)throw eg;return this._throwIfClosed(),em},ed.prototype.next=function(ed){eu.prototype.next.call(this,this._value=ed)},ed}(eg(98359).x)},98359:function(eu,ed,eg){"use strict";eg.d(ed,{x:function(){return eR}});var em=eg(22970),eb=eg(43896),ew=eg(93287),e_=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();function eE(eu){return eu}function eA(eu){return 0===eu.length?eE:1===eu.length?eu[0]:function(ed){return eu.reduce(function(eu,ed){return ed(eu)},ed)}}var eS=eg(64020),eI=eg(59126),eC=eg(24831),eM=function(){function eu(eu){eu&&(this._subscribe=eu)}return eu.prototype.lift=function(ed){var eg=new eu;return eg.source=this,eg.operator=ed,eg},eu.prototype.subscribe=function(eu,ed,eg){var em=this,ew=eP(eu)?eu:new eb.Hp(eu,ed,eg);return(0,eC.x)(function(){var eu=em,ed=eu.operator,eg=eu.source;ew.add(ed?ed.call(ew,eg):eg?em._subscribe(ew):em._trySubscribe(ew))}),ew},eu.prototype._trySubscribe=function(eu){try{return this._subscribe(eu)}catch(ed){eu.error(ed)}},eu.prototype.forEach=function(eu,ed){var eg=this;return new(ed=eO(ed))(function(ed,em){var ew=new eb.Hp({next:function(ed){try{eu(ed)}catch(eu){em(eu),ew.unsubscribe()}},error:em,complete:ed});eg.subscribe(ew)})},eu.prototype._subscribe=function(eu){var ed;return null===(ed=this.source)||void 0===ed?void 0:ed.subscribe(eu)},eu.prototype[e_]=function(){return this},eu.prototype.pipe=function(){for(var eu=[],ed=0;ed<arguments.length;ed++)eu[ed]=arguments[ed];return eA(eu)(this)},eu.prototype.toPromise=function(eu){var ed=this;return new(eu=eO(eu))(function(eu,eg){var em;ed.subscribe(function(eu){return em=eu},function(eu){return eg(eu)},function(){return eu(em)})})},eu.create=function(ed){return new eu(ed)},eu}();function eO(eu){var ed;return null!==(ed=null!=eu?eu:eS.v.Promise)&&void 0!==ed?ed:Promise}function eT(eu){return eu&&(0,eI.m)(eu.next)&&(0,eI.m)(eu.error)&&(0,eI.m)(eu.complete)}function eP(eu){return eu&&eu instanceof eb.Lv||eT(eu)&&(0,ew.Nn)(eu)}var eN=(0,eg(5589).d)(function(eu){return function(){eu(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),ek=eg(37990),eR=function(eu){function ed(){var ed=eu.call(this)||this;return ed.closed=!1,ed.currentObservers=null,ed.observers=[],ed.isStopped=!1,ed.hasError=!1,ed.thrownError=null,ed}return(0,em.__extends)(ed,eu),ed.prototype.lift=function(eu){var ed=new eD(this,this);return ed.operator=eu,ed},ed.prototype._throwIfClosed=function(){if(this.closed)throw new eN},ed.prototype.next=function(eu){var ed=this;(0,eC.x)(function(){var eg,eb;if(ed._throwIfClosed(),!ed.isStopped){ed.currentObservers||(ed.currentObservers=Array.from(ed.observers));try{for(var ew=(0,em.__values)(ed.currentObservers),e_=ew.next();!e_.done;e_=ew.next())e_.value.next(eu)}catch(eu){eg={error:eu}}finally{try{e_&&!e_.done&&(eb=ew.return)&&eb.call(ew)}finally{if(eg)throw eg.error}}}})},ed.prototype.error=function(eu){var ed=this;(0,eC.x)(function(){if(ed._throwIfClosed(),!ed.isStopped){ed.hasError=ed.isStopped=!0,ed.thrownError=eu;for(var eg=ed.observers;eg.length;)eg.shift().error(eu)}})},ed.prototype.complete=function(){var eu=this;(0,eC.x)(function(){if(eu._throwIfClosed(),!eu.isStopped){eu.isStopped=!0;for(var ed=eu.observers;ed.length;)ed.shift().complete()}})},ed.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(ed.prototype,"observed",{get:function(){var eu;return(null===(eu=this.observers)||void 0===eu?void 0:eu.length)>0},enumerable:!1,configurable:!0}),ed.prototype._trySubscribe=function(ed){return this._throwIfClosed(),eu.prototype._trySubscribe.call(this,ed)},ed.prototype._subscribe=function(eu){return this._throwIfClosed(),this._checkFinalizedStatuses(eu),this._innerSubscribe(eu)},ed.prototype._innerSubscribe=function(eu){var ed=this,eg=this,em=eg.hasError,eb=eg.isStopped,e_=eg.observers;return em||eb?ew.Lc:(this.currentObservers=null,e_.push(eu),new ew.w0(function(){ed.currentObservers=null,(0,ek.P)(e_,eu)}))},ed.prototype._checkFinalizedStatuses=function(eu){var ed=this,eg=ed.hasError,em=ed.thrownError,eb=ed.isStopped;eg?eu.error(em):eb&&eu.complete()},ed.prototype.asObservable=function(){var eu=new eM;return eu.source=this,eu},ed.create=function(eu,ed){return new eD(eu,ed)},ed}(eM),eD=function(eu){function ed(ed,eg){var em=eu.call(this)||this;return em.destination=ed,em.source=eg,em}return(0,em.__extends)(ed,eu),ed.prototype.next=function(eu){var ed,eg;null===(eg=null===(ed=this.destination)||void 0===ed?void 0:ed.next)||void 0===eg||eg.call(ed,eu)},ed.prototype.error=function(eu){var ed,eg;null===(eg=null===(ed=this.destination)||void 0===ed?void 0:ed.error)||void 0===eg||eg.call(ed,eu)},ed.prototype.complete=function(){var eu,ed;null===(ed=null===(eu=this.destination)||void 0===eu?void 0:eu.complete)||void 0===ed||ed.call(eu)},ed.prototype._subscribe=function(eu){var ed,eg;return null!==(eg=null===(ed=this.source)||void 0===ed?void 0:ed.subscribe(eu))&&void 0!==eg?eg:ew.Lc},ed}(eR)},43896:function(eu,ed,eg){"use strict";eg.d(ed,{Hp:function(){return eD},Lv:function(){return eP}});var em=eg(22970),eb=eg(59126),ew=eg(93287),e_=eg(64020),eE={setTimeout:function(eu,ed){for(var eg=[],eb=2;eb<arguments.length;eb++)eg[eb-2]=arguments[eb];var ew=eE.delegate;return(null==ew?void 0:ew.setTimeout)?ew.setTimeout.apply(ew,(0,em.__spreadArray)([eu,ed],(0,em.__read)(eg))):setTimeout.apply(void 0,(0,em.__spreadArray)([eu,ed],(0,em.__read)(eg)))},clearTimeout:function(eu){var ed=eE.delegate;return((null==ed?void 0:ed.clearTimeout)||clearTimeout)(eu)},delegate:void 0};function eA(eu){eE.setTimeout(function(){var ed=e_.v.onUnhandledError;if(ed)ed(eu);else throw eu})}function eS(){}var eI=function(){return eO("C",void 0,void 0)}();function eC(eu){return eO("E",void 0,eu)}function eM(eu){return eO("N",eu,void 0)}function eO(eu,ed,eg){return{kind:eu,value:ed,error:eg}}var eT=eg(24831),eP=function(eu){function ed(ed){var eg=eu.call(this)||this;return eg.isStopped=!1,ed?(eg.destination=ed,(0,ew.Nn)(ed)&&ed.add(eg)):eg.destination=eL,eg}return(0,em.__extends)(ed,eu),ed.create=function(eu,ed,eg){return new eD(eu,ed,eg)},ed.prototype.next=function(eu){this.isStopped?eU(eM(eu),this):this._next(eu)},ed.prototype.error=function(eu){this.isStopped?eU(eC(eu),this):(this.isStopped=!0,this._error(eu))},ed.prototype.complete=function(){this.isStopped?eU(eI,this):(this.isStopped=!0,this._complete())},ed.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,eu.prototype.unsubscribe.call(this),this.destination=null)},ed.prototype._next=function(eu){this.destination.next(eu)},ed.prototype._error=function(eu){try{this.destination.error(eu)}finally{this.unsubscribe()}},ed.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},ed}(ew.w0),eN=Function.prototype.bind;function ek(eu,ed){return eN.call(eu,ed)}var eR=function(){function eu(eu){this.partialObserver=eu}return eu.prototype.next=function(eu){var ed=this.partialObserver;if(ed.next)try{ed.next(eu)}catch(eu){eB(eu)}},eu.prototype.error=function(eu){var ed=this.partialObserver;if(ed.error)try{ed.error(eu)}catch(eu){eB(eu)}else eB(eu)},eu.prototype.complete=function(){var eu=this.partialObserver;if(eu.complete)try{eu.complete()}catch(eu){eB(eu)}},eu}(),eD=function(eu){function ed(ed,eg,em){var ew,eE,eA=eu.call(this)||this;return(0,eb.m)(ed)||!ed?ew={next:null!=ed?ed:void 0,error:null!=eg?eg:void 0,complete:null!=em?em:void 0}:eA&&e_.v.useDeprecatedNextContext?((eE=Object.create(ed)).unsubscribe=function(){return eA.unsubscribe()},ew={next:ed.next&&ek(ed.next,eE),error:ed.error&&ek(ed.error,eE),complete:ed.complete&&ek(ed.complete,eE)}):ew=ed,eA.destination=new eR(ew),eA}return(0,em.__extends)(ed,eu),ed}(eP);function eB(eu){e_.v.useDeprecatedSynchronousErrorHandling?(0,eT.O)(eu):eA(eu)}function eU(eu,ed){var eg=e_.v.onStoppedNotification;eg&&eE.setTimeout(function(){return eg(eu,ed)})}var eL={closed:!0,next:eS,error:function(eu){throw eu},complete:eS}},93287:function(eu,ed,eg){"use strict";eg.d(ed,{Lc:function(){return eA},w0:function(){return eE},Nn:function(){return eS}});var em=eg(22970),eb=eg(59126),ew=(0,eg(5589).d)(function(eu){return function(ed){eu(this),this.message=ed?ed.length+" errors occurred during unsubscription:\n"+ed.map(function(eu,ed){return ed+1+") "+eu.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=ed}}),e_=eg(37990),eE=function(){function eu(eu){this.initialTeardown=eu,this.closed=!1,this._parentage=null,this._finalizers=null}return eu.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var eu,ed,eg,e_,eE,eA=this._parentage;if(eA){if(this._parentage=null,Array.isArray(eA))try{for(var eS=(0,em.__values)(eA),eC=eS.next();!eC.done;eC=eS.next())eC.value.remove(this)}catch(ed){eu={error:ed}}finally{try{eC&&!eC.done&&(ed=eS.return)&&ed.call(eS)}finally{if(eu)throw eu.error}}else eA.remove(this)}var eM=this.initialTeardown;if((0,eb.m)(eM))try{eM()}catch(eu){eE=eu instanceof ew?eu.errors:[eu]}var eO=this._finalizers;if(eO){this._finalizers=null;try{for(var eT=(0,em.__values)(eO),eP=eT.next();!eP.done;eP=eT.next()){var eN=eP.value;try{eI(eN)}catch(eu){eE=null!=eE?eE:[],eu instanceof ew?eE=(0,em.__spreadArray)((0,em.__spreadArray)([],(0,em.__read)(eE)),(0,em.__read)(eu.errors)):eE.push(eu)}}}catch(eu){eg={error:eu}}finally{try{eP&&!eP.done&&(e_=eT.return)&&e_.call(eT)}finally{if(eg)throw eg.error}}}if(eE)throw new ew(eE)}},eu.prototype.add=function(ed){var eg;if(ed&&ed!==this){if(this.closed)eI(ed);else{if(ed instanceof eu){if(ed.closed||ed._hasParent(this))return;ed._addParent(this)}(this._finalizers=null!==(eg=this._finalizers)&&void 0!==eg?eg:[]).push(ed)}}},eu.prototype._hasParent=function(eu){var ed=this._parentage;return ed===eu||Array.isArray(ed)&&ed.includes(eu)},eu.prototype._addParent=function(eu){var ed=this._parentage;this._parentage=Array.isArray(ed)?(ed.push(eu),ed):ed?[ed,eu]:eu},eu.prototype._removeParent=function(eu){var ed=this._parentage;ed===eu?this._parentage=null:Array.isArray(ed)&&(0,e_.P)(ed,eu)},eu.prototype.remove=function(ed){var eg=this._finalizers;eg&&(0,e_.P)(eg,ed),ed instanceof eu&&ed._removeParent(this)},eu.EMPTY=function(){var ed=new eu;return ed.closed=!0,ed}(),eu}(),eA=eE.EMPTY;function eS(eu){return eu instanceof eE||eu&&"closed"in eu&&(0,eb.m)(eu.remove)&&(0,eb.m)(eu.add)&&(0,eb.m)(eu.unsubscribe)}function eI(eu){(0,eb.m)(eu)?eu():eu.unsubscribe()}},64020:function(eu,ed,eg){"use strict";eg.d(ed,{v:function(){return em}});var em={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},40056:function(eu,ed,eg){"use strict";eg.d(ed,{R:function(){return eI}});var em=eg(59126);function eb(eu){return(0,em.m)(null==eu?void 0:eu.lift)}function ew(eu){return function(ed){if(eb(ed))return ed.lift(function(ed){try{return eu(ed,this)}catch(eu){this.error(eu)}});throw TypeError("Unable to lift unknown Observable type")}}var e_=eg(22970);function eE(eu,ed,eg,em,eb){return new eA(eu,ed,eg,em,eb)}var eA=function(eu){function ed(ed,eg,em,eb,ew,e_){var eE=eu.call(this,ed)||this;return eE.onFinalize=ew,eE.shouldUnsubscribe=e_,eE._next=eg?function(eu){try{eg(eu)}catch(eu){ed.error(eu)}}:eu.prototype._next,eE._error=eb?function(eu){try{eb(eu)}catch(eu){ed.error(eu)}finally{this.unsubscribe()}}:eu.prototype._error,eE._complete=em?function(){try{em()}catch(eu){ed.error(eu)}finally{this.unsubscribe()}}:eu.prototype._complete,eE}return(0,e_.__extends)(ed,eu),ed.prototype.unsubscribe=function(){var ed;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var eg=this.closed;eu.prototype.unsubscribe.call(this),eg||null===(ed=this.onFinalize)||void 0===ed||ed.call(this)}},ed}(eg(43896).Lv);function eS(eu,ed,eg,em,eb){return function(ew,e_){var eA=eg,eS=ed,eI=0;ew.subscribe(eE(e_,function(ed){var eg=eI++;eS=eA?eu(eS,ed,eg):(eA=!0,ed),em&&e_.next(eS)},eb&&function(){eA&&e_.next(eS),e_.complete()}))}}function eI(eu,ed){return ew(eS(eu,ed,arguments.length>=2,!0))}},37990:function(eu,ed,eg){"use strict";function em(eu,ed){if(eu){var eg=eu.indexOf(ed);0<=eg&&eu.splice(eg,1)}}eg.d(ed,{P:function(){return em}})},5589:function(eu,ed,eg){"use strict";function em(eu){var ed=eu(function(eu){Error.call(eu),eu.stack=Error().stack});return ed.prototype=Object.create(Error.prototype),ed.prototype.constructor=ed,ed}eg.d(ed,{d:function(){return em}})},24831:function(eu,ed,eg){"use strict";eg.d(ed,{O:function(){return e_},x:function(){return ew}});var em=eg(64020),eb=null;function ew(eu){if(em.v.useDeprecatedSynchronousErrorHandling){var ed=!eb;if(ed&&(eb={errorThrown:!1,error:null}),eu(),ed){var eg=eb,ew=eg.errorThrown,e_=eg.error;if(eb=null,ew)throw e_}}else eu()}function e_(eu){em.v.useDeprecatedSynchronousErrorHandling&&eb&&(eb.errorThrown=!0,eb.error=eu)}},59126:function(eu,ed,eg){"use strict";function em(eu){return"function"==typeof eu}eg.d(ed,{m:function(){return em}})},77834:function(eu,ed,eg){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var em=eg(48834),eb=em.Buffer;function ew(eu,ed){for(var eg in eu)ed[eg]=eu[eg]}function e_(eu,ed,eg){return eb(eu,ed,eg)}eb.from&&eb.alloc&&eb.allocUnsafe&&eb.allocUnsafeSlow?eu.exports=em:(ew(em,ed),ed.Buffer=e_),e_.prototype=Object.create(eb.prototype),ew(eb,e_),e_.from=function(eu,ed,eg){if("number"==typeof eu)throw TypeError("Argument must not be a number");return eb(eu,ed,eg)},e_.alloc=function(eu,ed,eg){if("number"!=typeof eu)throw TypeError("Argument must be a number");var em=eb(eu);return void 0!==ed?"string"==typeof eg?em.fill(ed,eg):em.fill(ed):em.fill(0),em},e_.allocUnsafe=function(eu){if("number"!=typeof eu)throw TypeError("Argument must be a number");return eb(eu)},e_.allocUnsafeSlow=function(eu){if("number"!=typeof eu)throw TypeError("Argument must be a number");return em.SlowBuffer(eu)}},63671:function(eu,ed,eg){"use strict";var em=eg(8435),eb=eg(58786),ew=em("RegExp.prototype.exec"),e_=eg(5408);eu.exports=function(eu){if(!eb(eu))throw new e_("`regex` must be a RegExp");return function(ed){return null!==ew(eu,ed)}}},97637:function(eu,ed,eg){eu.exports=eg(15880)(eg(39930))},39930:function(eu,ed,eg){let em=eg(87554).ec,eb=new em("secp256k1"),ew=eb.curve,e_=ew.n.constructor;function eE(eu,ed){let eg=new e_(ed);if(eg.cmp(ew.p)>=0)return null;let em=(eg=eg.toRed(ew.red)).redSqr().redIMul(eg).redIAdd(ew.b).redSqrt();3===eu!==em.isOdd()&&(em=em.redNeg());let eE=eg.redSqr().redIMul(eg);return em.redSqr().redISub(eE.redIAdd(ew.b)).isZero()?eb.keyPair({pub:{x:eg,y:em}}):null}function eA(eu,ed,eg){let em=new e_(ed),eE=new e_(eg);if(em.cmp(ew.p)>=0||eE.cmp(ew.p)>=0||(em=em.toRed(ew.red),eE=eE.toRed(ew.red),(6===eu||7===eu)&&eE.isOdd()!==(7===eu)))return null;let eA=em.redSqr().redIMul(em);return eE.redSqr().redISub(eA.redIAdd(ew.b)).isZero()?eb.keyPair({pub:{x:em,y:eE}}):null}function eS(eu){let ed=eu[0];switch(ed){case 2:case 3:if(33!==eu.length)return null;return eE(ed,eu.subarray(1,33));case 4:case 6:case 7:if(65!==eu.length)return null;return eA(ed,eu.subarray(1,33),eu.subarray(33,65));default:return null}}function eI(eu,ed){let eg=ed.encode(null,33===eu.length);for(let ed=0;ed<eu.length;++ed)eu[ed]=eg[ed]}eu.exports={contextRandomize:()=>0,privateKeyVerify(eu){let ed=new e_(eu);return 0>ed.cmp(ew.n)&&!ed.isZero()?0:1},privateKeyNegate(eu){let ed=new e_(eu),eg=ew.n.sub(ed).umod(ew.n).toArrayLike(Uint8Array,"be",32);return eu.set(eg),0},privateKeyTweakAdd(eu,ed){let eg=new e_(ed);if(eg.cmp(ew.n)>=0||(eg.iadd(new e_(eu)),eg.cmp(ew.n)>=0&&eg.isub(ew.n),eg.isZero()))return 1;let em=eg.toArrayLike(Uint8Array,"be",32);return eu.set(em),0},privateKeyTweakMul(eu,ed){let eg=new e_(ed);if(eg.cmp(ew.n)>=0||eg.isZero())return 1;eg.imul(new e_(eu)),eg.cmp(ew.n)>=0&&(eg=eg.umod(ew.n));let em=eg.toArrayLike(Uint8Array,"be",32);return eu.set(em),0},publicKeyVerify(eu){let ed=eS(eu);return null===ed?1:0},publicKeyCreate(eu,ed){let eg=new e_(ed);if(eg.cmp(ew.n)>=0||eg.isZero())return 1;let em=eb.keyFromPrivate(ed).getPublic();return eI(eu,em),0},publicKeyConvert(eu,ed){let eg=eS(ed);if(null===eg)return 1;let em=eg.getPublic();return eI(eu,em),0},publicKeyNegate(eu,ed){let eg=eS(ed);if(null===eg)return 1;let em=eg.getPublic();return em.y=em.y.redNeg(),eI(eu,em),0},publicKeyCombine(eu,ed){let eg=Array(ed.length);for(let eu=0;eu<ed.length;++eu)if(eg[eu]=eS(ed[eu]),null===eg[eu])return 1;let em=eg[0].getPublic();for(let eu=1;eu<eg.length;++eu)em=em.add(eg[eu].pub);return em.isInfinity()?2:(eI(eu,em),0)},publicKeyTweakAdd(eu,ed,eg){let em=eS(ed);if(null===em)return 1;if((eg=new e_(eg)).cmp(ew.n)>=0)return 2;let eb=em.getPublic().add(ew.g.mul(eg));return eb.isInfinity()?2:(eI(eu,eb),0)},publicKeyTweakMul(eu,ed,eg){let em=eS(ed);if(null===em)return 1;if((eg=new e_(eg)).cmp(ew.n)>=0||eg.isZero())return 2;let eb=em.getPublic().mul(eg);return eI(eu,eb),0},signatureNormalize(eu){let ed=new e_(eu.subarray(0,32)),eg=new e_(eu.subarray(32,64));return ed.cmp(ew.n)>=0||eg.cmp(ew.n)>=0?1:(1===eg.cmp(eb.nh)&&eu.set(ew.n.sub(eg).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport(eu,ed){let eg=ed.subarray(0,32),em=ed.subarray(32,64);if(new e_(eg).cmp(ew.n)>=0||new e_(em).cmp(ew.n)>=0)return 1;let{output:eb}=eu,eE=eb.subarray(4,37);eE[0]=0,eE.set(eg,1);let eA=33,eS=0;for(;eA>1&&0===eE[eS]&&!(128&eE[eS+1]);--eA,++eS);if(128&(eE=eE.subarray(eS))[0]||eA>1&&0===eE[0]&&!(128&eE[1]))return 1;let eI=eb.subarray(39,72);eI[0]=0,eI.set(em,1);let eC=33,eM=0;for(;eC>1&&0===eI[eM]&&!(128&eI[eM+1]);--eC,++eM);return 128&(eI=eI.subarray(eM))[0]||eC>1&&0===eI[0]&&!(128&eI[1])?1:(eu.outputlen=6+eA+eC,eb[0]=48,eb[1]=eu.outputlen-2,eb[2]=2,eb[3]=eE.length,eb.set(eE,4),eb[4+eA]=2,eb[5+eA]=eI.length,eb.set(eI,6+eA),0)},signatureImport(eu,ed){if(ed.length<8||ed.length>72||48!==ed[0]||ed[1]!==ed.length-2||2!==ed[2])return 1;let eg=ed[3];if(0===eg||5+eg>=ed.length||2!==ed[4+eg])return 1;let em=ed[5+eg];if(0===em||6+eg+em!==ed.length||128&ed[4]||eg>1&&0===ed[4]&&!(128&ed[5])||128&ed[eg+6]||em>1&&0===ed[eg+6]&&!(128&ed[eg+7]))return 1;let eb=ed.subarray(4,4+eg);if(33===eb.length&&0===eb[0]&&(eb=eb.subarray(1)),eb.length>32)return 1;let eE=ed.subarray(6+eg);if(33===eE.length&&0===eE[0]&&(eE=eE.slice(1)),eE.length>32)throw Error("S length is too long");let eA=new e_(eb);eA.cmp(ew.n)>=0&&(eA=new e_(0));let eS=new e_(ed.subarray(6+eg));return eS.cmp(ew.n)>=0&&(eS=new e_(0)),eu.set(eA.toArrayLike(Uint8Array,"be",32),0),eu.set(eS.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign(eu,ed,eg,em,eE){let eA;if(eE){let eu=eE;eE=eb=>{let ew=eu(ed,eg,null,em,eb),eE=ew instanceof Uint8Array&&32===ew.length;if(!eE)throw Error("This is the way");return new e_(ew)}}let eS=new e_(eg);if(eS.cmp(ew.n)>=0||eS.isZero())return 1;try{eA=eb.sign(ed,eg,{canonical:!0,k:eE,pers:em})}catch(eu){return 1}return eu.signature.set(eA.r.toArrayLike(Uint8Array,"be",32),0),eu.signature.set(eA.s.toArrayLike(Uint8Array,"be",32),32),eu.recid=eA.recoveryParam,0},ecdsaVerify(eu,ed,eg){let em={r:eu.subarray(0,32),s:eu.subarray(32,64)},eE=new e_(em.r),eA=new e_(em.s);if(eE.cmp(ew.n)>=0||eA.cmp(ew.n)>=0)return 1;if(1===eA.cmp(eb.nh)||eE.isZero()||eA.isZero())return 3;let eI=eS(eg);if(null===eI)return 2;let eC=eI.getPublic(),eM=eb.verify(ed,em,eC);return eM?0:3},ecdsaRecover(eu,ed,eg,em){let eE;let eA={r:ed.slice(0,32),s:ed.slice(32,64)},eS=new e_(eA.r),eC=new e_(eA.s);if(eS.cmp(ew.n)>=0||eC.cmp(ew.n)>=0)return 1;if(eS.isZero()||eC.isZero())return 2;try{eE=eb.recoverPubKey(em,eA,eg)}catch(eu){return 2}return eI(eu,eE),0},ecdh(eu,ed,eg,em,eE,eA,eI){let eC=eS(ed);if(null===eC)return 1;let eM=new e_(eg);if(eM.cmp(ew.n)>=0||eM.isZero())return 2;let eO=eC.getPublic().mul(eM);if(void 0===eE){let ed=eO.encode(null,!0),eg=eb.hash().update(ed).digest();for(let ed=0;ed<32;++ed)eu[ed]=eg[ed]}else{eA||(eA=new Uint8Array(32));let ed=eO.getX().toArray("be",32);for(let eu=0;eu<32;++eu)eA[eu]=ed[eu];eI||(eI=new Uint8Array(32));let eg=eO.getY().toArray("be",32);for(let eu=0;eu<32;++eu)eI[eu]=eg[eu];let eb=eE(eA,eI,em),ew=eb instanceof Uint8Array&&eb.length===eu.length;if(!ew)return 2;eu.set(eb)}return 0}}},15880:function(eu){let ed={IMPOSSIBLE_CASE:"Impossible case. Please create issue.",TWEAK_ADD:"The tweak was out of range or the resulted private key is invalid",TWEAK_MUL:"The tweak was out of range or equal to zero",CONTEXT_RANDOMIZE_UNKNOW:"Unknow error on context randomization",SECKEY_INVALID:"Private Key is invalid",PUBKEY_PARSE:"Public Key could not be parsed",PUBKEY_SERIALIZE:"Public Key serialization error",PUBKEY_COMBINE:"The sum of the public keys is not valid",SIG_PARSE:"Signature could not be parsed",SIGN:"The nonce generation function failed, or the private key was invalid",RECOVER:"Public key could not be recover",ECDH:"Scalar was invalid (zero or overflow)"};function eg(eu,ed){if(!eu)throw Error(ed)}function em(eu,ed,em){if(eg(ed instanceof Uint8Array,`Expected ${eu} to be an Uint8Array`),void 0!==em){if(Array.isArray(em)){let eb=em.join(", "),ew=`Expected ${eu} to be an Uint8Array with length [${eb}]`;eg(em.includes(ed.length),ew)}else{let eb=`Expected ${eu} to be an Uint8Array with length ${em}`;eg(ed.length===em,eb)}}}function eb(eu){eg("Boolean"===e_(eu),"Expected compressed to be a Boolean")}function ew(eu=eu=>new Uint8Array(eu),ed){return"function"==typeof eu&&(eu=eu(ed)),em("output",eu,ed),eu}function e_(eu){return Object.prototype.toString.call(eu).slice(8,-1)}eu.exports=eu=>({contextRandomize(eb){if(eg(null===eb||eb instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),null!==eb&&em("seed",eb,32),1===eu.contextRandomize(eb))throw Error(ed.CONTEXT_RANDOMIZE_UNKNOW)},privateKeyVerify:ed=>(em("private key",ed,32),0===eu.privateKeyVerify(ed)),privateKeyNegate(eg){switch(em("private key",eg,32),eu.privateKeyNegate(eg)){case 0:return eg;case 1:throw Error(ed.IMPOSSIBLE_CASE)}},privateKeyTweakAdd(eg,eb){switch(em("private key",eg,32),em("tweak",eb,32),eu.privateKeyTweakAdd(eg,eb)){case 0:return eg;case 1:throw Error(ed.TWEAK_ADD)}},privateKeyTweakMul(eg,eb){switch(em("private key",eg,32),em("tweak",eb,32),eu.privateKeyTweakMul(eg,eb)){case 0:return eg;case 1:throw Error(ed.TWEAK_MUL)}},publicKeyVerify:ed=>(em("public key",ed,[33,65]),0===eu.publicKeyVerify(ed)),publicKeyCreate(eg,e_=!0,eE){switch(em("private key",eg,32),eb(e_),eE=ew(eE,e_?33:65),eu.publicKeyCreate(eE,eg)){case 0:return eE;case 1:throw Error(ed.SECKEY_INVALID);case 2:throw Error(ed.PUBKEY_SERIALIZE)}},publicKeyConvert(eg,e_=!0,eE){switch(em("public key",eg,[33,65]),eb(e_),eE=ew(eE,e_?33:65),eu.publicKeyConvert(eE,eg)){case 0:return eE;case 1:throw Error(ed.PUBKEY_PARSE);case 2:throw Error(ed.PUBKEY_SERIALIZE)}},publicKeyNegate(eg,e_=!0,eE){switch(em("public key",eg,[33,65]),eb(e_),eE=ew(eE,e_?33:65),eu.publicKeyNegate(eE,eg)){case 0:return eE;case 1:throw Error(ed.PUBKEY_PARSE);case 2:throw Error(ed.IMPOSSIBLE_CASE);case 3:throw Error(ed.PUBKEY_SERIALIZE)}},publicKeyCombine(e_,eE=!0,eA){for(let eu of(eg(Array.isArray(e_),"Expected public keys to be an Array"),eg(e_.length>0,"Expected public keys array will have more than zero items"),e_))em("public key",eu,[33,65]);switch(eb(eE),eA=ew(eA,eE?33:65),eu.publicKeyCombine(eA,e_)){case 0:return eA;case 1:throw Error(ed.PUBKEY_PARSE);case 2:throw Error(ed.PUBKEY_COMBINE);case 3:throw Error(ed.PUBKEY_SERIALIZE)}},publicKeyTweakAdd(eg,e_,eE=!0,eA){switch(em("public key",eg,[33,65]),em("tweak",e_,32),eb(eE),eA=ew(eA,eE?33:65),eu.publicKeyTweakAdd(eA,eg,e_)){case 0:return eA;case 1:throw Error(ed.PUBKEY_PARSE);case 2:throw Error(ed.TWEAK_ADD)}},publicKeyTweakMul(eg,e_,eE=!0,eA){switch(em("public key",eg,[33,65]),em("tweak",e_,32),eb(eE),eA=ew(eA,eE?33:65),eu.publicKeyTweakMul(eA,eg,e_)){case 0:return eA;case 1:throw Error(ed.PUBKEY_PARSE);case 2:throw Error(ed.TWEAK_MUL)}},signatureNormalize(eg){switch(em("signature",eg,64),eu.signatureNormalize(eg)){case 0:return eg;case 1:throw Error(ed.SIG_PARSE)}},signatureExport(eg,eb){em("signature",eg,64),eb=ew(eb,72);let e_={output:eb,outputlen:72};switch(eu.signatureExport(e_,eg)){case 0:return eb.slice(0,e_.outputlen);case 1:throw Error(ed.SIG_PARSE);case 2:throw Error(ed.IMPOSSIBLE_CASE)}},signatureImport(eg,eb){switch(em("signature",eg),eb=ew(eb,64),eu.signatureImport(eb,eg)){case 0:return eb;case 1:throw Error(ed.SIG_PARSE);case 2:throw Error(ed.IMPOSSIBLE_CASE)}},ecdsaSign(eb,eE,eA={},eS){em("message",eb,32),em("private key",eE,32),eg("Object"===e_(eA),"Expected options to be an Object"),void 0!==eA.data&&em("options.data",eA.data),void 0!==eA.noncefn&&eg("Function"===e_(eA.noncefn),"Expected options.noncefn to be a Function"),eS=ew(eS,64);let eI={signature:eS,recid:null};switch(eu.ecdsaSign(eI,eb,eE,eA.data,eA.noncefn)){case 0:return eI;case 1:throw Error(ed.SIGN);case 2:throw Error(ed.IMPOSSIBLE_CASE)}},ecdsaVerify(eg,eb,ew){switch(em("signature",eg,64),em("message",eb,32),em("public key",ew,[33,65]),eu.ecdsaVerify(eg,eb,ew)){case 0:return!0;case 3:return!1;case 1:throw Error(ed.SIG_PARSE);case 2:throw Error(ed.PUBKEY_PARSE)}},ecdsaRecover(eE,eA,eS,eI=!0,eC){switch(em("signature",eE,64),eg("Number"===e_(eA)&&eA>=0&&eA<=3,"Expected recovery id to be a Number within interval [0, 3]"),em("message",eS,32),eb(eI),eC=ew(eC,eI?33:65),eu.ecdsaRecover(eC,eE,eA,eS)){case 0:return eC;case 1:throw Error(ed.SIG_PARSE);case 2:throw Error(ed.RECOVER);case 3:throw Error(ed.IMPOSSIBLE_CASE)}},ecdh(eb,eE,eA={},eS){switch(em("public key",eb,[33,65]),em("private key",eE,32),eg("Object"===e_(eA),"Expected options to be an Object"),void 0!==eA.data&&em("options.data",eA.data),void 0!==eA.hashfn?(eg("Function"===e_(eA.hashfn),"Expected options.hashfn to be a Function"),void 0!==eA.xbuf&&em("options.xbuf",eA.xbuf,32),void 0!==eA.ybuf&&em("options.ybuf",eA.ybuf,32),em("output",eS)):eS=ew(eS,32),eu.ecdh(eS,eb,eE,eA.data,eA.hashfn,eA.xbuf,eA.ybuf)){case 0:return eS;case 1:throw Error(ed.PUBKEY_PARSE);case 2:throw Error(ed.ECDH)}}})},7847:function(eu,ed,eg){"use strict";let em=Symbol("SemVer ANY");class eb{static get ANY(){return em}constructor(eu,ed){if(ed=ew(ed),eu instanceof eb){if(!!ed.loose===eu.loose)return eu;eu=eu.value}eS("comparator",eu=eu.trim().split(/\s+/).join(" "),ed),this.options=ed,this.loose=!!ed.loose,this.parse(eu),this.semver===em?this.value="":this.value=this.operator+this.semver.version,eS("comp",this)}parse(eu){let ed=this.options.loose?e_[eE.COMPARATORLOOSE]:e_[eE.COMPARATOR],eg=eu.match(ed);if(!eg)throw TypeError(`Invalid comparator: ${eu}`);this.operator=void 0!==eg[1]?eg[1]:"","="===this.operator&&(this.operator=""),eg[2]?this.semver=new eI(eg[2],this.options.loose):this.semver=em}toString(){return this.value}test(eu){if(eS("Comparator.test",eu,this.options.loose),this.semver===em||eu===em)return!0;if("string"==typeof eu)try{eu=new eI(eu,this.options)}catch(eu){return!1}return eA(eu,this.operator,this.semver,this.options)}intersects(eu,ed){if(!(eu instanceof eb))throw TypeError("a Comparator is required");return""===this.operator?""===this.value||new eC(eu.value,ed).test(this.value):""===eu.operator?""===eu.value||new eC(this.value,ed).test(eu.semver):!((ed=ew(ed)).includePrerelease&&("<0.0.0-0"===this.value||"<0.0.0-0"===eu.value)||!ed.includePrerelease&&(this.value.startsWith("<0.0.0")||eu.value.startsWith("<0.0.0")))&&!!(this.operator.startsWith(">")&&eu.operator.startsWith(">")||this.operator.startsWith("<")&&eu.operator.startsWith("<")||this.semver.version===eu.semver.version&&this.operator.includes("=")&&eu.operator.includes("=")||eA(this.semver,"<",eu.semver,ed)&&this.operator.startsWith(">")&&eu.operator.startsWith("<")||eA(this.semver,">",eu.semver,ed)&&this.operator.startsWith("<")&&eu.operator.startsWith(">"))}}eu.exports=eb;let ew=eg(71388),{safeRe:e_,t:eE}=eg(94808),eA=eg(28117),eS=eg(10952),eI=eg(52435),eC=eg(66843)},66843:function(eu,ed,eg){"use strict";let em=/\s+/g;class eb{constructor(eu,ed){if(ed=eE(ed),eu instanceof eb){if(!!ed.loose===eu.loose&&!!ed.includePrerelease===eu.includePrerelease)return eu;return new eb(eu.raw,ed)}if(eu instanceof eA)return this.raw=eu.value,this.set=[[eu]],this.formatted=void 0,this;if(this.options=ed,this.loose=!!ed.loose,this.includePrerelease=!!ed.includePrerelease,this.raw=eu.trim().replace(em," "),this.set=this.raw.split("||").map(eu=>this.parseRange(eu.trim())).filter(eu=>eu.length),!this.set.length)throw TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let eu=this.set[0];if(this.set=this.set.filter(eu=>!eR(eu[0])),0===this.set.length)this.set=[eu];else if(this.set.length>1){for(let eu of this.set)if(1===eu.length&&eD(eu[0])){this.set=[eu];break}}}this.formatted=void 0}get range(){if(void 0===this.formatted){this.formatted="";for(let eu=0;eu<this.set.length;eu++){eu>0&&(this.formatted+="||");let ed=this.set[eu];for(let eu=0;eu<ed.length;eu++)eu>0&&(this.formatted+=" "),this.formatted+=ed[eu].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(eu){let ed=(this.options.includePrerelease&&eN)|(this.options.loose&&ek),eg=ed+":"+eu,em=e_.get(eg);if(em)return em;let eb=this.options.loose,ew=eb?eC[eM.HYPHENRANGELOOSE]:eC[eM.HYPHENRANGE];eS("hyphen replace",eu=eu.replace(ew,eJ(this.options.includePrerelease))),eS("comparator trim",eu=eu.replace(eC[eM.COMPARATORTRIM],eO)),eS("tilde trim",eu=eu.replace(eC[eM.TILDETRIM],eT)),eS("caret trim",eu=eu.replace(eC[eM.CARETTRIM],eP));let eE=eu.split(" ").map(eu=>eU(eu,this.options)).join(" ").split(/\s+/).map(eu=>eW(eu,this.options));eb&&(eE=eE.filter(eu=>(eS("loose invalid filter",eu,this.options),!!eu.match(eC[eM.COMPARATORLOOSE])))),eS("range list",eE);let eI=new Map,eD=eE.map(eu=>new eA(eu,this.options));for(let eu of eD){if(eR(eu))return[eu];eI.set(eu.value,eu)}eI.size>1&&eI.has("")&&eI.delete("");let eB=[...eI.values()];return e_.set(eg,eB),eB}intersects(eu,ed){if(!(eu instanceof eb))throw TypeError("a Range is required");return this.set.some(eg=>eB(eg,ed)&&eu.set.some(eu=>eB(eu,ed)&&eg.every(eg=>eu.every(eu=>eg.intersects(eu,ed)))))}test(eu){if(!eu)return!1;if("string"==typeof eu)try{eu=new eI(eu,this.options)}catch(eu){return!1}for(let ed=0;ed<this.set.length;ed++)if(eZ(this.set[ed],eu,this.options))return!0;return!1}}eu.exports=eb;let ew=eg(20139),e_=new ew,eE=eg(71388),eA=eg(7847),eS=eg(10952),eI=eg(52435),{safeRe:eC,t:eM,comparatorTrimReplace:eO,tildeTrimReplace:eT,caretTrimReplace:eP}=eg(94808),{FLAG_INCLUDE_PRERELEASE:eN,FLAG_LOOSE:ek}=eg(55558),eR=eu=>"<0.0.0-0"===eu.value,eD=eu=>""===eu.value,eB=(eu,ed)=>{let eg=!0,em=eu.slice(),eb=em.pop();for(;eg&&em.length;)eg=em.every(eu=>eb.intersects(eu,ed)),eb=em.pop();return eg},eU=(eu,ed)=>(eu=eu.replace(eC[eM.BUILD],""),eS("comp",eu,ed),eu=e$(eu,ed),eS("caret",eu),eu=ej(eu,ed),eS("tildes",eu),eu=eH(eu,ed),eS("xrange",eu),eu=eG(eu,ed),eS("stars",eu),eu),eL=eu=>!eu||"x"===eu.toLowerCase()||"*"===eu,ej=(eu,ed)=>eu.trim().split(/\s+/).map(eu=>eF(eu,ed)).join(" "),eF=(eu,ed)=>{let eg=ed.loose?eC[eM.TILDELOOSE]:eC[eM.TILDE];return eu.replace(eg,(ed,eg,em,eb,ew)=>{let e_;return eS("tilde",eu,ed,eg,em,eb,ew),eL(eg)?e_="":eL(em)?e_=`>=${eg}.0.0 <${+eg+1}.0.0-0`:eL(eb)?e_=`>=${eg}.${em}.0 <${eg}.${+em+1}.0-0`:ew?(eS("replaceTilde pr",ew),e_=`>=${eg}.${em}.${eb}-${ew} <${eg}.${+em+1}.0-0`):e_=`>=${eg}.${em}.${eb} <${eg}.${+em+1}.0-0`,eS("tilde return",e_),e_})},e$=(eu,ed)=>eu.trim().split(/\s+/).map(eu=>eK(eu,ed)).join(" "),eK=(eu,ed)=>{eS("caret",eu,ed);let eg=ed.loose?eC[eM.CARETLOOSE]:eC[eM.CARET],em=ed.includePrerelease?"-0":"";return eu.replace(eg,(ed,eg,eb,ew,e_)=>{let eE;return eS("caret",eu,ed,eg,eb,ew,e_),eL(eg)?eE="":eL(eb)?eE=`>=${eg}.0.0${em} <${+eg+1}.0.0-0`:eL(ew)?eE="0"===eg?`>=${eg}.${eb}.0${em} <${eg}.${+eb+1}.0-0`:`>=${eg}.${eb}.0${em} <${+eg+1}.0.0-0`:e_?(eS("replaceCaret pr",e_),eE="0"===eg?"0"===eb?`>=${eg}.${eb}.${ew}-${e_} <${eg}.${eb}.${+ew+1}-0`:`>=${eg}.${eb}.${ew}-${e_} <${eg}.${+eb+1}.0-0`:`>=${eg}.${eb}.${ew}-${e_} <${+eg+1}.0.0-0`):(eS("no pr"),eE="0"===eg?"0"===eb?`>=${eg}.${eb}.${ew}${em} <${eg}.${eb}.${+ew+1}-0`:`>=${eg}.${eb}.${ew}${em} <${eg}.${+eb+1}.0-0`:`>=${eg}.${eb}.${ew} <${+eg+1}.0.0-0`),eS("caret return",eE),eE})},eH=(eu,ed)=>(eS("replaceXRanges",eu,ed),eu.split(/\s+/).map(eu=>eV(eu,ed)).join(" ")),eV=(eu,ed)=>{eu=eu.trim();let eg=ed.loose?eC[eM.XRANGELOOSE]:eC[eM.XRANGE];return eu.replace(eg,(eg,em,eb,ew,e_,eE)=>{eS("xRange",eu,eg,em,eb,ew,e_,eE);let eA=eL(eb),eI=eA||eL(ew),eC=eI||eL(e_),eM=eC;return"="===em&&eM&&(em=""),eE=ed.includePrerelease?"-0":"",eA?eg=">"===em||"<"===em?"<0.0.0-0":"*":em&&eM?(eI&&(ew=0),e_=0,">"===em?(em=">=",eI?(eb=+eb+1,ew=0,e_=0):(ew=+ew+1,e_=0)):"<="===em&&(em="<",eI?eb=+eb+1:ew=+ew+1),"<"===em&&(eE="-0"),eg=`${em+eb}.${ew}.${e_}${eE}`):eI?eg=`>=${eb}.0.0${eE} <${+eb+1}.0.0-0`:eC&&(eg=`>=${eb}.${ew}.0${eE} <${eb}.${+ew+1}.0-0`),eS("xRange return",eg),eg})},eG=(eu,ed)=>(eS("replaceStars",eu,ed),eu.trim().replace(eC[eM.STAR],"")),eW=(eu,ed)=>(eS("replaceGTE0",eu,ed),eu.trim().replace(eC[ed.includePrerelease?eM.GTE0PRE:eM.GTE0],"")),eJ=eu=>(ed,eg,em,eb,ew,e_,eE,eA,eS,eI,eC,eM)=>`${eg=eL(em)?"":eL(eb)?`>=${em}.0.0${eu?"-0":""}`:eL(ew)?`>=${em}.${eb}.0${eu?"-0":""}`:e_?`>=${eg}`:`>=${eg}${eu?"-0":""}`} ${eA=eL(eS)?"":eL(eI)?`<${+eS+1}.0.0-0`:eL(eC)?`<${eS}.${+eI+1}.0-0`:eM?`<=${eS}.${eI}.${eC}-${eM}`:eu?`<${eS}.${eI}.${+eC+1}-0`:`<=${eA}`}`.trim(),eZ=(eu,ed,eg)=>{for(let eg=0;eg<eu.length;eg++)if(!eu[eg].test(ed))return!1;if(ed.prerelease.length&&!eg.includePrerelease){for(let eg=0;eg<eu.length;eg++)if(eS(eu[eg].semver),eu[eg].semver!==eA.ANY&&eu[eg].semver.prerelease.length>0){let em=eu[eg].semver;if(em.major===ed.major&&em.minor===ed.minor&&em.patch===ed.patch)return!0}return!1}return!0}},52435:function(eu,ed,eg){"use strict";let em=eg(10952),{MAX_LENGTH:eb,MAX_SAFE_INTEGER:ew}=eg(55558),{safeRe:e_,t:eE}=eg(94808),eA=eg(71388),{compareIdentifiers:eS}=eg(14935);class eI{constructor(eu,ed){if(ed=eA(ed),eu instanceof eI){if(!!ed.loose===eu.loose&&!!ed.includePrerelease===eu.includePrerelease)return eu;eu=eu.version}else if("string"!=typeof eu)throw TypeError(`Invalid version. Must be a string. Got type "${typeof eu}".`);if(eu.length>eb)throw TypeError(`version is longer than ${eb} characters`);em("SemVer",eu,ed),this.options=ed,this.loose=!!ed.loose,this.includePrerelease=!!ed.includePrerelease;let eg=eu.trim().match(ed.loose?e_[eE.LOOSE]:e_[eE.FULL]);if(!eg)throw TypeError(`Invalid Version: ${eu}`);if(this.raw=eu,this.major=+eg[1],this.minor=+eg[2],this.patch=+eg[3],this.major>ew||this.major<0)throw TypeError("Invalid major version");if(this.minor>ew||this.minor<0)throw TypeError("Invalid minor version");if(this.patch>ew||this.patch<0)throw TypeError("Invalid patch version");eg[4]?this.prerelease=eg[4].split(".").map(eu=>{if(/^[0-9]+$/.test(eu)){let ed=+eu;if(ed>=0&&ed<ew)return ed}return eu}):this.prerelease=[],this.build=eg[5]?eg[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(eu){if(em("SemVer.compare",this.version,this.options,eu),!(eu instanceof eI)){if("string"==typeof eu&&eu===this.version)return 0;eu=new eI(eu,this.options)}return eu.version===this.version?0:this.compareMain(eu)||this.comparePre(eu)}compareMain(eu){return(eu instanceof eI||(eu=new eI(eu,this.options)),this.major<eu.major)?-1:this.major>eu.major?1:this.minor<eu.minor?-1:this.minor>eu.minor?1:this.patch<eu.patch?-1:this.patch>eu.patch?1:0}comparePre(eu){if(eu instanceof eI||(eu=new eI(eu,this.options)),this.prerelease.length&&!eu.prerelease.length)return -1;if(!this.prerelease.length&&eu.prerelease.length)return 1;if(!this.prerelease.length&&!eu.prerelease.length)return 0;let ed=0;do{let eg=this.prerelease[ed],eb=eu.prerelease[ed];if(em("prerelease compare",ed,eg,eb),void 0===eg&&void 0===eb)return 0;if(void 0===eb)return 1;if(void 0===eg)return -1;if(eg===eb)continue;else return eS(eg,eb)}while(++ed)}compareBuild(eu){eu instanceof eI||(eu=new eI(eu,this.options));let ed=0;do{let eg=this.build[ed],eb=eu.build[ed];if(em("build compare",ed,eg,eb),void 0===eg&&void 0===eb)return 0;if(void 0===eb)return 1;if(void 0===eg)return -1;if(eg===eb)continue;else return eS(eg,eb)}while(++ed)}inc(eu,ed,eg){if(eu.startsWith("pre")){if(!ed&&!1===eg)throw Error("invalid increment argument: identifier is empty");if(ed){let eu=`-${ed}`.match(this.options.loose?e_[eE.PRERELEASELOOSE]:e_[eE.PRERELEASE]);if(!eu||eu[1]!==ed)throw Error(`invalid identifier: ${ed}`)}}switch(eu){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",ed,eg);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",ed,eg);break;case"prepatch":this.prerelease.length=0,this.inc("patch",ed,eg),this.inc("pre",ed,eg);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",ed,eg),this.inc("pre",ed,eg);break;case"release":if(0===this.prerelease.length)throw Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(0!==this.minor||0!==this.patch||0===this.prerelease.length)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(0!==this.patch||0===this.prerelease.length)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{let eu=Number(eg)?1:0;if(0===this.prerelease.length)this.prerelease=[eu];else{let em=this.prerelease.length;for(;--em>=0;)"number"==typeof this.prerelease[em]&&(this.prerelease[em]++,em=-2);if(-1===em){if(ed===this.prerelease.join(".")&&!1===eg)throw Error("invalid increment argument: identifier already exists");this.prerelease.push(eu)}}if(ed){let em=[ed,eu];!1===eg&&(em=[ed]),0===eS(this.prerelease[0],ed)?isNaN(this.prerelease[1])&&(this.prerelease=em):this.prerelease=em}break}default:throw Error(`invalid increment argument: ${eu}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}eu.exports=eI},36694:function(eu,ed,eg){"use strict";let em=eg(79943),eb=(eu,ed)=>{let eg=em(eu.trim().replace(/^[=v]+/,""),ed);return eg?eg.version:null};eu.exports=eb},28117:function(eu,ed,eg){"use strict";let em=eg(33276),eb=eg(77893),ew=eg(16379),e_=eg(8463),eE=eg(21897),eA=eg(30506),eS=(eu,ed,eg,eS)=>{switch(ed){case"===":return"object"==typeof eu&&(eu=eu.version),"object"==typeof eg&&(eg=eg.version),eu===eg;case"!==":return"object"==typeof eu&&(eu=eu.version),"object"==typeof eg&&(eg=eg.version),eu!==eg;case"":case"=":case"==":return em(eu,eg,eS);case"!=":return eb(eu,eg,eS);case">":return ew(eu,eg,eS);case">=":return e_(eu,eg,eS);case"<":return eE(eu,eg,eS);case"<=":return eA(eu,eg,eS);default:throw TypeError(`Invalid operator: ${ed}`)}};eu.exports=eS},98686:function(eu,ed,eg){"use strict";let em=eg(52435),eb=eg(79943),{safeRe:ew,t:e_}=eg(94808),eE=(eu,ed)=>{if(eu instanceof em)return eu;if("number"==typeof eu&&(eu=String(eu)),"string"!=typeof eu)return null;let eg=null;if((ed=ed||{}).rtl){let em;let eb=ed.includePrerelease?ew[e_.COERCERTLFULL]:ew[e_.COERCERTL];for(;(em=eb.exec(eu))&&(!eg||eg.index+eg[0].length!==eu.length);)eg&&em.index+em[0].length===eg.index+eg[0].length||(eg=em),eb.lastIndex=em.index+em[1].length+em[2].length;eb.lastIndex=-1}else eg=eu.match(ed.includePrerelease?ew[e_.COERCEFULL]:ew[e_.COERCE]);if(null===eg)return null;let eE=eg[2],eA=eg[3]||"0",eS=eg[4]||"0",eI=ed.includePrerelease&&eg[5]?`-${eg[5]}`:"",eC=ed.includePrerelease&&eg[6]?`+${eg[6]}`:"";return eb(`${eE}.${eA}.${eS}${eI}${eC}`,ed)};eu.exports=eE},65914:function(eu,ed,eg){"use strict";let em=eg(52435),eb=(eu,ed,eg)=>{let eb=new em(eu,eg),ew=new em(ed,eg);return eb.compare(ew)||eb.compareBuild(ew)};eu.exports=eb},55404:function(eu,ed,eg){"use strict";let em=eg(92271),eb=(eu,ed)=>em(eu,ed,!0);eu.exports=eb},92271:function(eu,ed,eg){"use strict";let em=eg(52435),eb=(eu,ed,eg)=>new em(eu,eg).compare(new em(ed,eg));eu.exports=eb},66007:function(eu,ed,eg){"use strict";let em=eg(79943),eb=(eu,ed)=>{let eg=em(eu,null,!0),eb=em(ed,null,!0),ew=eg.compare(eb);if(0===ew)return null;let e_=ew>0,eE=e_?eg:eb,eA=e_?eb:eg,eS=!!eE.prerelease.length,eI=!!eA.prerelease.length;if(eI&&!eS){if(!eA.patch&&!eA.minor)return"major";if(0===eA.compareMain(eE))return eA.minor&&!eA.patch?"minor":"patch"}let eC=eS?"pre":"";return eg.major!==eb.major?eC+"major":eg.minor!==eb.minor?eC+"minor":eg.patch!==eb.patch?eC+"patch":"prerelease"};eu.exports=eb},33276:function(eu,ed,eg){"use strict";let em=eg(92271),eb=(eu,ed,eg)=>0===em(eu,ed,eg);eu.exports=eb},16379:function(eu,ed,eg){"use strict";let em=eg(92271),eb=(eu,ed,eg)=>em(eu,ed,eg)>0;eu.exports=eb},8463:function(eu,ed,eg){"use strict";let em=eg(92271),eb=(eu,ed,eg)=>em(eu,ed,eg)>=0;eu.exports=eb},86360:function(eu,ed,eg){"use strict";let em=eg(52435),eb=(eu,ed,eg,eb,ew)=>{"string"==typeof eg&&(ew=eb,eb=eg,eg=void 0);try{return new em(eu instanceof em?eu.version:eu,eg).inc(ed,eb,ew).version}catch(eu){return null}};eu.exports=eb},21897:function(eu,ed,eg){"use strict";let em=eg(92271),eb=(eu,ed,eg)=>0>em(eu,ed,eg);eu.exports=eb},30506:function(eu,ed,eg){"use strict";let em=eg(92271),eb=(eu,ed,eg)=>0>=em(eu,ed,eg);eu.exports=eb},14551:function(eu,ed,eg){"use strict";let em=eg(52435),eb=(eu,ed)=>new em(eu,ed).major;eu.exports=eb},469:function(eu,ed,eg){"use strict";let em=eg(52435),eb=(eu,ed)=>new em(eu,ed).minor;eu.exports=eb},77893:function(eu,ed,eg){"use strict";let em=eg(92271),eb=(eu,ed,eg)=>0!==em(eu,ed,eg);eu.exports=eb},79943:function(eu,ed,eg){"use strict";let em=eg(52435),eb=(eu,ed,eg=!1)=>{if(eu instanceof em)return eu;try{return new em(eu,ed)}catch(eu){if(!eg)return null;throw eu}};eu.exports=eb},54250:function(eu,ed,eg){"use strict";let em=eg(52435),eb=(eu,ed)=>new em(eu,ed).patch;eu.exports=eb},58204:function(eu,ed,eg){"use strict";let em=eg(79943),eb=(eu,ed)=>{let eg=em(eu,ed);return eg&&eg.prerelease.length?eg.prerelease:null};eu.exports=eb},70733:function(eu,ed,eg){"use strict";let em=eg(92271),eb=(eu,ed,eg)=>em(ed,eu,eg);eu.exports=eb},72961:function(eu,ed,eg){"use strict";let em=eg(65914),eb=(eu,ed)=>eu.sort((eu,eg)=>em(eg,eu,ed));eu.exports=eb},59844:function(eu,ed,eg){"use strict";let em=eg(66843),eb=(eu,ed,eg)=>{try{ed=new em(ed,eg)}catch(eu){return!1}return ed.test(eu)};eu.exports=eb},51116:function(eu,ed,eg){"use strict";let em=eg(65914),eb=(eu,ed)=>eu.sort((eu,eg)=>em(eu,eg,ed));eu.exports=eb},97230:function(eu,ed,eg){"use strict";let em=eg(79943),eb=(eu,ed)=>{let eg=em(eu,ed);return eg?eg.version:null};eu.exports=eb},97699:function(eu,ed,eg){"use strict";let em=eg(94808),eb=eg(55558),ew=eg(52435),e_=eg(14935),eE=eg(79943),eA=eg(97230),eS=eg(36694),eI=eg(86360),eC=eg(66007),eM=eg(14551),eO=eg(469),eT=eg(54250),eP=eg(58204),eN=eg(92271),ek=eg(70733),eR=eg(55404),eD=eg(65914),eB=eg(51116),eU=eg(72961),eL=eg(16379),ej=eg(21897),eF=eg(33276),e$=eg(77893),eK=eg(8463),eH=eg(30506),eV=eg(28117),eG=eg(98686),eW=eg(7847),eJ=eg(66843),eZ=eg(59844),eY=eg(48865),eX=eg(53727),eQ=eg(14338),e0=eg(21542),e6=eg(36240),e8=eg(89106),e5=eg(90995),e9=eg(47805),e7=eg(22013),tu=eg(81338),th=eg(53122);eu.exports={parse:eE,valid:eA,clean:eS,inc:eI,diff:eC,major:eM,minor:eO,patch:eT,prerelease:eP,compare:eN,rcompare:ek,compareLoose:eR,compareBuild:eD,sort:eB,rsort:eU,gt:eL,lt:ej,eq:eF,neq:e$,gte:eK,lte:eH,cmp:eV,coerce:eG,Comparator:eW,Range:eJ,satisfies:eZ,toComparators:eY,maxSatisfying:eX,minSatisfying:eQ,minVersion:e0,validRange:e6,outside:e8,gtr:e5,ltr:e9,intersects:e7,simplifyRange:tu,subset:th,SemVer:ew,re:em.re,src:em.src,tokens:em.t,SEMVER_SPEC_VERSION:eb.SEMVER_SPEC_VERSION,RELEASE_TYPES:eb.RELEASE_TYPES,compareIdentifiers:e_.compareIdentifiers,rcompareIdentifiers:e_.rcompareIdentifiers}},55558:function(eu){"use strict";let ed="2.0.0",eg=256,em=Number.MAX_SAFE_INTEGER||9007199254740991,eb=16,ew=eg-6,e_=["major","premajor","minor","preminor","patch","prepatch","prerelease"];eu.exports={MAX_LENGTH:eg,MAX_SAFE_COMPONENT_LENGTH:eb,MAX_SAFE_BUILD_LENGTH:ew,MAX_SAFE_INTEGER:em,RELEASE_TYPES:e_,SEMVER_SPEC_VERSION:ed,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},10952:function(eu,ed,eg){"use strict";var em=eg(34406);let eb="object"==typeof em&&em.env&&em.env.NODE_DEBUG&&/\bsemver\b/i.test(em.env.NODE_DEBUG)?(...eu)=>console.error("SEMVER",...eu):()=>{};eu.exports=eb},14935:function(eu){"use strict";let ed=/^[0-9]+$/,eg=(eu,eg)=>{if("number"==typeof eu&&"number"==typeof eg)return eu===eg?0:eu<eg?-1:1;let em=ed.test(eu),eb=ed.test(eg);return em&&eb&&(eu=+eu,eg=+eg),eu===eg?0:em&&!eb?-1:eb&&!em?1:eu<eg?-1:1},em=(eu,ed)=>eg(ed,eu);eu.exports={compareIdentifiers:eg,rcompareIdentifiers:em}},20139:function(eu){"use strict";class ed{constructor(){this.max=1e3,this.map=new Map}get(eu){let ed=this.map.get(eu);if(void 0!==ed)return this.map.delete(eu),this.map.set(eu,ed),ed}delete(eu){return this.map.delete(eu)}set(eu,ed){let eg=this.delete(eu);if(!eg&&void 0!==ed){if(this.map.size>=this.max){let eu=this.map.keys().next().value;this.delete(eu)}this.map.set(eu,ed)}return this}}eu.exports=ed},71388:function(eu){"use strict";let ed=Object.freeze({loose:!0}),eg=Object.freeze({}),em=eu=>eu?"object"!=typeof eu?ed:eu:eg;eu.exports=em},94808:function(eu,ed,eg){"use strict";let{MAX_SAFE_COMPONENT_LENGTH:em,MAX_SAFE_BUILD_LENGTH:eb,MAX_LENGTH:ew}=eg(55558),e_=eg(10952);ed=eu.exports={};let eE=ed.re=[],eA=ed.safeRe=[],eS=ed.src=[],eI=ed.safeSrc=[],eC=ed.t={},eM=0,eO="[a-zA-Z0-9-]",eT=[["\\s",1],["\\d",ew],[eO,eb]],eP=eu=>{for(let[ed,eg]of eT)eu=eu.split(`${ed}*`).join(`${ed}{0,${eg}}`).split(`${ed}+`).join(`${ed}{1,${eg}}`);return eu},eN=(eu,ed,eg)=>{let em=eP(ed),eb=eM++;e_(eu,eb,ed),eC[eu]=eb,eS[eb]=ed,eI[eb]=em,eE[eb]=new RegExp(ed,eg?"g":void 0),eA[eb]=new RegExp(em,eg?"g":void 0)};eN("NUMERICIDENTIFIER","0|[1-9]\\d*"),eN("NUMERICIDENTIFIERLOOSE","\\d+"),eN("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${eO}*`),eN("MAINVERSION",`(${eS[eC.NUMERICIDENTIFIER]})\\.(${eS[eC.NUMERICIDENTIFIER]})\\.(${eS[eC.NUMERICIDENTIFIER]})`),eN("MAINVERSIONLOOSE",`(${eS[eC.NUMERICIDENTIFIERLOOSE]})\\.(${eS[eC.NUMERICIDENTIFIERLOOSE]})\\.(${eS[eC.NUMERICIDENTIFIERLOOSE]})`),eN("PRERELEASEIDENTIFIER",`(?:${eS[eC.NONNUMERICIDENTIFIER]}|${eS[eC.NUMERICIDENTIFIER]})`),eN("PRERELEASEIDENTIFIERLOOSE",`(?:${eS[eC.NONNUMERICIDENTIFIER]}|${eS[eC.NUMERICIDENTIFIERLOOSE]})`),eN("PRERELEASE",`(?:-(${eS[eC.PRERELEASEIDENTIFIER]}(?:\\.${eS[eC.PRERELEASEIDENTIFIER]})*))`),eN("PRERELEASELOOSE",`(?:-?(${eS[eC.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${eS[eC.PRERELEASEIDENTIFIERLOOSE]})*))`),eN("BUILDIDENTIFIER",`${eO}+`),eN("BUILD",`(?:\\+(${eS[eC.BUILDIDENTIFIER]}(?:\\.${eS[eC.BUILDIDENTIFIER]})*))`),eN("FULLPLAIN",`v?${eS[eC.MAINVERSION]}${eS[eC.PRERELEASE]}?${eS[eC.BUILD]}?`),eN("FULL",`^${eS[eC.FULLPLAIN]}$`),eN("LOOSEPLAIN",`[v=\\s]*${eS[eC.MAINVERSIONLOOSE]}${eS[eC.PRERELEASELOOSE]}?${eS[eC.BUILD]}?`),eN("LOOSE",`^${eS[eC.LOOSEPLAIN]}$`),eN("GTLT","((?:<|>)?=?)"),eN("XRANGEIDENTIFIERLOOSE",`${eS[eC.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),eN("XRANGEIDENTIFIER",`${eS[eC.NUMERICIDENTIFIER]}|x|X|\\*`),eN("XRANGEPLAIN",`[v=\\s]*(${eS[eC.XRANGEIDENTIFIER]})(?:\\.(${eS[eC.XRANGEIDENTIFIER]})(?:\\.(${eS[eC.XRANGEIDENTIFIER]})(?:${eS[eC.PRERELEASE]})?${eS[eC.BUILD]}?)?)?`),eN("XRANGEPLAINLOOSE",`[v=\\s]*(${eS[eC.XRANGEIDENTIFIERLOOSE]})(?:\\.(${eS[eC.XRANGEIDENTIFIERLOOSE]})(?:\\.(${eS[eC.XRANGEIDENTIFIERLOOSE]})(?:${eS[eC.PRERELEASELOOSE]})?${eS[eC.BUILD]}?)?)?`),eN("XRANGE",`^${eS[eC.GTLT]}\\s*${eS[eC.XRANGEPLAIN]}$`),eN("XRANGELOOSE",`^${eS[eC.GTLT]}\\s*${eS[eC.XRANGEPLAINLOOSE]}$`),eN("COERCEPLAIN",`(^|[^\\d])(\\d{1,${em}})(?:\\.(\\d{1,${em}}))?(?:\\.(\\d{1,${em}}))?`),eN("COERCE",`${eS[eC.COERCEPLAIN]}(?:$|[^\\d])`),eN("COERCEFULL",eS[eC.COERCEPLAIN]+`(?:${eS[eC.PRERELEASE]})?`+`(?:${eS[eC.BUILD]})?`+"(?:$|[^\\d])"),eN("COERCERTL",eS[eC.COERCE],!0),eN("COERCERTLFULL",eS[eC.COERCEFULL],!0),eN("LONETILDE","(?:~>?)"),eN("TILDETRIM",`(\\s*)${eS[eC.LONETILDE]}\\s+`,!0),ed.tildeTrimReplace="$1~",eN("TILDE",`^${eS[eC.LONETILDE]}${eS[eC.XRANGEPLAIN]}$`),eN("TILDELOOSE",`^${eS[eC.LONETILDE]}${eS[eC.XRANGEPLAINLOOSE]}$`),eN("LONECARET","(?:\\^)"),eN("CARETTRIM",`(\\s*)${eS[eC.LONECARET]}\\s+`,!0),ed.caretTrimReplace="$1^",eN("CARET",`^${eS[eC.LONECARET]}${eS[eC.XRANGEPLAIN]}$`),eN("CARETLOOSE",`^${eS[eC.LONECARET]}${eS[eC.XRANGEPLAINLOOSE]}$`),eN("COMPARATORLOOSE",`^${eS[eC.GTLT]}\\s*(${eS[eC.LOOSEPLAIN]})$|^$`),eN("COMPARATOR",`^${eS[eC.GTLT]}\\s*(${eS[eC.FULLPLAIN]})$|^$`),eN("COMPARATORTRIM",`(\\s*)${eS[eC.GTLT]}\\s*(${eS[eC.LOOSEPLAIN]}|${eS[eC.XRANGEPLAIN]})`,!0),ed.comparatorTrimReplace="$1$2$3",eN("HYPHENRANGE",`^\\s*(${eS[eC.XRANGEPLAIN]})\\s+-\\s+(${eS[eC.XRANGEPLAIN]})\\s*$`),eN("HYPHENRANGELOOSE",`^\\s*(${eS[eC.XRANGEPLAINLOOSE]})\\s+-\\s+(${eS[eC.XRANGEPLAINLOOSE]})\\s*$`),eN("STAR","(<|>)?=?\\s*\\*"),eN("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),eN("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},90995:function(eu,ed,eg){"use strict";let em=eg(89106),eb=(eu,ed,eg)=>em(eu,ed,">",eg);eu.exports=eb},22013:function(eu,ed,eg){"use strict";let em=eg(66843),eb=(eu,ed,eg)=>(eu=new em(eu,eg),ed=new em(ed,eg),eu.intersects(ed,eg));eu.exports=eb},47805:function(eu,ed,eg){"use strict";let em=eg(89106),eb=(eu,ed,eg)=>em(eu,ed,"<",eg);eu.exports=eb},53727:function(eu,ed,eg){"use strict";let em=eg(52435),eb=eg(66843),ew=(eu,ed,eg)=>{let ew=null,e_=null,eE=null;try{eE=new eb(ed,eg)}catch(eu){return null}return eu.forEach(eu=>{eE.test(eu)&&(!ew||-1===e_.compare(eu))&&(ew=eu,e_=new em(ew,eg))}),ew};eu.exports=ew},14338:function(eu,ed,eg){"use strict";let em=eg(52435),eb=eg(66843),ew=(eu,ed,eg)=>{let ew=null,e_=null,eE=null;try{eE=new eb(ed,eg)}catch(eu){return null}return eu.forEach(eu=>{eE.test(eu)&&(!ew||1===e_.compare(eu))&&(ew=eu,e_=new em(ew,eg))}),ew};eu.exports=ew},21542:function(eu,ed,eg){"use strict";let em=eg(52435),eb=eg(66843),ew=eg(16379),e_=(eu,ed)=>{eu=new eb(eu,ed);let eg=new em("0.0.0");if(eu.test(eg)||(eg=new em("0.0.0-0"),eu.test(eg)))return eg;eg=null;for(let ed=0;ed<eu.set.length;++ed){let eb=eu.set[ed],e_=null;eb.forEach(eu=>{let ed=new em(eu.semver.version);switch(eu.operator){case">":0===ed.prerelease.length?ed.patch++:ed.prerelease.push(0),ed.raw=ed.format();case"":case">=":(!e_||ew(ed,e_))&&(e_=ed);break;case"<":case"<=":break;default:throw Error(`Unexpected operation: ${eu.operator}`)}}),e_&&(!eg||ew(eg,e_))&&(eg=e_)}return eg&&eu.test(eg)?eg:null};eu.exports=e_},89106:function(eu,ed,eg){"use strict";let em=eg(52435),eb=eg(7847),{ANY:ew}=eb,e_=eg(66843),eE=eg(59844),eA=eg(16379),eS=eg(21897),eI=eg(30506),eC=eg(8463),eM=(eu,ed,eg,eM)=>{let eO,eT,eP,eN,ek;switch(eu=new em(eu,eM),ed=new e_(ed,eM),eg){case">":eO=eA,eT=eI,eP=eS,eN=">",ek=">=";break;case"<":eO=eS,eT=eC,eP=eA,eN="<",ek="<=";break;default:throw TypeError('Must provide a hilo val of "<" or ">"')}if(eE(eu,ed,eM))return!1;for(let eg=0;eg<ed.set.length;++eg){let em=ed.set[eg],e_=null,eE=null;if(em.forEach(eu=>{eu.semver===ew&&(eu=new eb(">=0.0.0")),e_=e_||eu,eE=eE||eu,eO(eu.semver,e_.semver,eM)?e_=eu:eP(eu.semver,eE.semver,eM)&&(eE=eu)}),e_.operator===eN||e_.operator===ek||(!eE.operator||eE.operator===eN)&&eT(eu,eE.semver)||eE.operator===ek&&eP(eu,eE.semver))return!1}return!0};eu.exports=eM},81338:function(eu,ed,eg){"use strict";let em=eg(59844),eb=eg(92271);eu.exports=(eu,ed,eg)=>{let ew=[],e_=null,eE=null,eA=eu.sort((eu,ed)=>eb(eu,ed,eg));for(let eu of eA){let eb=em(eu,ed,eg);eb?(eE=eu,e_||(e_=eu)):(eE&&ew.push([e_,eE]),eE=null,e_=null)}e_&&ew.push([e_,null]);let eS=[];for(let[eu,ed]of ew)eu===ed?eS.push(eu):ed||eu!==eA[0]?ed?eu===eA[0]?eS.push(`<=${ed}`):eS.push(`${eu} - ${ed}`):eS.push(`>=${eu}`):eS.push("*");let eI=eS.join(" || "),eC="string"==typeof ed.raw?ed.raw:String(ed);return eI.length<eC.length?eI:ed}},53122:function(eu,ed,eg){"use strict";let em=eg(66843),eb=eg(7847),{ANY:ew}=eb,e_=eg(59844),eE=eg(92271),eA=(eu,ed,eg={})=>{if(eu===ed)return!0;eu=new em(eu,eg),ed=new em(ed,eg);let eb=!1;e:for(let em of eu.set){for(let eu of ed.set){let ed=eC(em,eu,eg);if(eb=eb||null!==ed,ed)continue e}if(eb)return!1}return!0},eS=[new eb(">=0.0.0-0")],eI=[new eb(">=0.0.0")],eC=(eu,ed,eg)=>{let em,eb,eA,eC,eT,eP,eN;if(eu===ed)return!0;if(1===eu.length&&eu[0].semver===ew){if(1===ed.length&&ed[0].semver===ew)return!0;eu=eg.includePrerelease?eS:eI}if(1===ed.length&&ed[0].semver===ew){if(eg.includePrerelease)return!0;ed=eI}let ek=new Set;for(let ed of eu)">"===ed.operator||">="===ed.operator?em=eM(em,ed,eg):"<"===ed.operator||"<="===ed.operator?eb=eO(eb,ed,eg):ek.add(ed.semver);if(ek.size>1||em&&eb&&((eA=eE(em.semver,eb.semver,eg))>0||0===eA&&(">="!==em.operator||"<="!==eb.operator)))return null;for(let eu of ek){if(em&&!e_(eu,String(em),eg)||eb&&!e_(eu,String(eb),eg))return null;for(let em of ed)if(!e_(eu,String(em),eg))return!1;return!0}let eR=!!eb&&!eg.includePrerelease&&!!eb.semver.prerelease.length&&eb.semver,eD=!!em&&!eg.includePrerelease&&!!em.semver.prerelease.length&&em.semver;for(let eu of(eR&&1===eR.prerelease.length&&"<"===eb.operator&&0===eR.prerelease[0]&&(eR=!1),ed)){if(eN=eN||">"===eu.operator||">="===eu.operator,eP=eP||"<"===eu.operator||"<="===eu.operator,em){if(eD&&eu.semver.prerelease&&eu.semver.prerelease.length&&eu.semver.major===eD.major&&eu.semver.minor===eD.minor&&eu.semver.patch===eD.patch&&(eD=!1),">"===eu.operator||">="===eu.operator){if((eC=eM(em,eu,eg))===eu&&eC!==em)return!1}else if(">="===em.operator&&!e_(em.semver,String(eu),eg))return!1}if(eb){if(eR&&eu.semver.prerelease&&eu.semver.prerelease.length&&eu.semver.major===eR.major&&eu.semver.minor===eR.minor&&eu.semver.patch===eR.patch&&(eR=!1),"<"===eu.operator||"<="===eu.operator){if((eT=eO(eb,eu,eg))===eu&&eT!==eb)return!1}else if("<="===eb.operator&&!e_(eb.semver,String(eu),eg))return!1}if(!eu.operator&&(eb||em)&&0!==eA)return!1}return(!em||!eP||!!eb||0===eA)&&(!eb||!eN||!!em||0===eA)&&!eD&&!eR},eM=(eu,ed,eg)=>{if(!eu)return ed;let em=eE(eu.semver,ed.semver,eg);return em>0?eu:em<0?ed:">"===ed.operator&&">="===eu.operator?ed:eu},eO=(eu,ed,eg)=>{if(!eu)return ed;let em=eE(eu.semver,ed.semver,eg);return em<0?eu:em>0?ed:"<"===ed.operator&&"<="===eu.operator?ed:eu};eu.exports=eA},48865:function(eu,ed,eg){"use strict";let em=eg(66843),eb=(eu,ed)=>new em(eu,ed).set.map(eu=>eu.map(eu=>eu.value).join(" ").trim().split(" "));eu.exports=eb},36240:function(eu,ed,eg){"use strict";let em=eg(66843),eb=(eu,ed)=>{try{return new em(eu,ed).range||"*"}catch(eu){return null}};eu.exports=eb},47669:function(eu,ed,eg){"use strict";var em=eg(67286),eb=eg(75195),ew=eg(81181)(),e_=eg(50326),eE=eg(5408),eA=em("%Math.floor%");eu.exports=function(eu,ed){if("function"!=typeof eu)throw new eE("`fn` is not a function");if("number"!=typeof ed||ed<0||ed>4294967295||eA(ed)!==ed)throw new eE("`length` must be a positive 32-bit integer");var eg=arguments.length>2&&!!arguments[2],em=!0,eS=!0;if("length"in eu&&e_){var eI=e_(eu,"length");eI&&!eI.configurable&&(em=!1),eI&&!eI.writable&&(eS=!1)}return(em||eS||!eg)&&(ew?eb(eu,"length",ed,!0,!0):eb(eu,"length",ed)),eu}},73327:function(eu,ed,eg){"use strict";var em=eg(77834).Buffer,eb=eg(30025);function ew(eu,ed){this._block=em.alloc(eu),this._finalSize=ed,this._blockSize=eu,this._len=0}ew.prototype.update=function(eu,ed){eu=eb(eu,ed||"utf8");for(var eg=this._block,em=this._blockSize,ew=eu.length,e_=this._len,eE=0;eE<ew;){for(var eA=e_%em,eS=Math.min(ew-eE,em-eA),eI=0;eI<eS;eI++)eg[eA+eI]=eu[eE+eI];e_+=eS,eE+=eS,e_%em==0&&this._update(eg)}return this._len+=ew,this},ew.prototype.digest=function(eu){var ed=this._len%this._blockSize;this._block[ed]=128,this._block.fill(0,ed+1),ed>=this._finalSize&&(this._update(this._block),this._block.fill(0));var eg=8*this._len;if(eg<=4294967295)this._block.writeUInt32BE(eg,this._blockSize-4);else{var em=(4294967295&eg)>>>0,eb=(eg-em)/4294967296;this._block.writeUInt32BE(eb,this._blockSize-8),this._block.writeUInt32BE(em,this._blockSize-4)}this._update(this._block);var ew=this._hash();return eu?ew.toString(eu):ew},ew.prototype._update=function(){throw Error("_update must be implemented by subclass")},eu.exports=ew},9065:function(eu,ed,eg){"use strict";eu.exports=function(ed){var eg=ed.toLowerCase(),em=eu.exports[eg];if(!em)throw Error(eg+" is not supported (we accept pull requests)");return new em},eu.exports.sha=eg(8820),eu.exports.sha1=eg(17885),eu.exports.sha224=eg(58321),eu.exports.sha256=eg(74424),eu.exports.sha384=eg(90213),eu.exports.sha512=eg(55596)},8820:function(eu,ed,eg){"use strict";var em=eg(91285),eb=eg(73327),ew=eg(77834).Buffer,e_=[1518500249,1859775393,-1894007588,-899497514],eE=Array(80);function eA(){this.init(),this._w=eE,eb.call(this,64,56)}function eS(eu){return eu<<5|eu>>>27}function eI(eu){return eu<<30|eu>>>2}function eC(eu,ed,eg,em){return 0===eu?ed&eg|~ed&em:2===eu?ed&eg|ed&em|eg&em:ed^eg^em}em(eA,eb),eA.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},eA.prototype._update=function(eu){for(var ed=this._w,eg=0|this._a,em=0|this._b,eb=0|this._c,ew=0|this._d,eE=0|this._e,eA=0;eA<16;++eA)ed[eA]=eu.readInt32BE(4*eA);for(;eA<80;++eA)ed[eA]=ed[eA-3]^ed[eA-8]^ed[eA-14]^ed[eA-16];for(var eM=0;eM<80;++eM){var eO=~~(eM/20),eT=eS(eg)+eC(eO,em,eb,ew)+eE+ed[eM]+e_[eO]|0;eE=ew,ew=eb,eb=eI(em),em=eg,eg=eT}this._a=eg+this._a|0,this._b=em+this._b|0,this._c=eb+this._c|0,this._d=ew+this._d|0,this._e=eE+this._e|0},eA.prototype._hash=function(){var eu=ew.allocUnsafe(20);return eu.writeInt32BE(0|this._a,0),eu.writeInt32BE(0|this._b,4),eu.writeInt32BE(0|this._c,8),eu.writeInt32BE(0|this._d,12),eu.writeInt32BE(0|this._e,16),eu},eu.exports=eA},17885:function(eu,ed,eg){"use strict";var em=eg(91285),eb=eg(73327),ew=eg(77834).Buffer,e_=[1518500249,1859775393,-1894007588,-899497514],eE=Array(80);function eA(){this.init(),this._w=eE,eb.call(this,64,56)}function eS(eu){return eu<<1|eu>>>31}function eI(eu){return eu<<5|eu>>>27}function eC(eu){return eu<<30|eu>>>2}function eM(eu,ed,eg,em){return 0===eu?ed&eg|~ed&em:2===eu?ed&eg|ed&em|eg&em:ed^eg^em}em(eA,eb),eA.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},eA.prototype._update=function(eu){for(var ed=this._w,eg=0|this._a,em=0|this._b,eb=0|this._c,ew=0|this._d,eE=0|this._e,eA=0;eA<16;++eA)ed[eA]=eu.readInt32BE(4*eA);for(;eA<80;++eA)ed[eA]=eS(ed[eA-3]^ed[eA-8]^ed[eA-14]^ed[eA-16]);for(var eO=0;eO<80;++eO){var eT=~~(eO/20),eP=eI(eg)+eM(eT,em,eb,ew)+eE+ed[eO]+e_[eT]|0;eE=ew,ew=eb,eb=eC(em),em=eg,eg=eP}this._a=eg+this._a|0,this._b=em+this._b|0,this._c=eb+this._c|0,this._d=ew+this._d|0,this._e=eE+this._e|0},eA.prototype._hash=function(){var eu=ew.allocUnsafe(20);return eu.writeInt32BE(0|this._a,0),eu.writeInt32BE(0|this._b,4),eu.writeInt32BE(0|this._c,8),eu.writeInt32BE(0|this._d,12),eu.writeInt32BE(0|this._e,16),eu},eu.exports=eA},58321:function(eu,ed,eg){"use strict";var em=eg(91285),eb=eg(74424),ew=eg(73327),e_=eg(77834).Buffer,eE=Array(64);function eA(){this.init(),this._w=eE,ew.call(this,64,56)}em(eA,eb),eA.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},eA.prototype._hash=function(){var eu=e_.allocUnsafe(28);return eu.writeInt32BE(this._a,0),eu.writeInt32BE(this._b,4),eu.writeInt32BE(this._c,8),eu.writeInt32BE(this._d,12),eu.writeInt32BE(this._e,16),eu.writeInt32BE(this._f,20),eu.writeInt32BE(this._g,24),eu},eu.exports=eA},74424:function(eu,ed,eg){"use strict";var em=eg(91285),eb=eg(73327),ew=eg(77834).Buffer,e_=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],eE=Array(64);function eA(){this.init(),this._w=eE,eb.call(this,64,56)}function eS(eu,ed,eg){return eg^eu&(ed^eg)}function eI(eu,ed,eg){return eu&ed|eg&(eu|ed)}function eC(eu){return(eu>>>2|eu<<30)^(eu>>>13|eu<<19)^(eu>>>22|eu<<10)}function eM(eu){return(eu>>>6|eu<<26)^(eu>>>11|eu<<21)^(eu>>>25|eu<<7)}function eO(eu){return(eu>>>7|eu<<25)^(eu>>>18|eu<<14)^eu>>>3}function eT(eu){return(eu>>>17|eu<<15)^(eu>>>19|eu<<13)^eu>>>10}em(eA,eb),eA.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},eA.prototype._update=function(eu){for(var ed=this._w,eg=0|this._a,em=0|this._b,eb=0|this._c,ew=0|this._d,eE=0|this._e,eA=0|this._f,eP=0|this._g,eN=0|this._h,ek=0;ek<16;++ek)ed[ek]=eu.readInt32BE(4*ek);for(;ek<64;++ek)ed[ek]=eT(ed[ek-2])+ed[ek-7]+eO(ed[ek-15])+ed[ek-16]|0;for(var eR=0;eR<64;++eR){var eD=eN+eM(eE)+eS(eE,eA,eP)+e_[eR]+ed[eR]|0,eB=eC(eg)+eI(eg,em,eb)|0;eN=eP,eP=eA,eA=eE,eE=ew+eD|0,ew=eb,eb=em,em=eg,eg=eD+eB|0}this._a=eg+this._a|0,this._b=em+this._b|0,this._c=eb+this._c|0,this._d=ew+this._d|0,this._e=eE+this._e|0,this._f=eA+this._f|0,this._g=eP+this._g|0,this._h=eN+this._h|0},eA.prototype._hash=function(){var eu=ew.allocUnsafe(32);return eu.writeInt32BE(this._a,0),eu.writeInt32BE(this._b,4),eu.writeInt32BE(this._c,8),eu.writeInt32BE(this._d,12),eu.writeInt32BE(this._e,16),eu.writeInt32BE(this._f,20),eu.writeInt32BE(this._g,24),eu.writeInt32BE(this._h,28),eu},eu.exports=eA},90213:function(eu,ed,eg){"use strict";var em=eg(91285),eb=eg(55596),ew=eg(73327),e_=eg(77834).Buffer,eE=Array(160);function eA(){this.init(),this._w=eE,ew.call(this,128,112)}em(eA,eb),eA.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},eA.prototype._hash=function(){var eu=e_.allocUnsafe(48);function ed(ed,eg,em){eu.writeInt32BE(ed,em),eu.writeInt32BE(eg,em+4)}return ed(this._ah,this._al,0),ed(this._bh,this._bl,8),ed(this._ch,this._cl,16),ed(this._dh,this._dl,24),ed(this._eh,this._el,32),ed(this._fh,this._fl,40),eu},eu.exports=eA},55596:function(eu,ed,eg){"use strict";var em=eg(91285),eb=eg(73327),ew=eg(77834).Buffer,e_=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],eE=Array(160);function eA(){this.init(),this._w=eE,eb.call(this,128,112)}function eS(eu,ed,eg){return eg^eu&(ed^eg)}function eI(eu,ed,eg){return eu&ed|eg&(eu|ed)}function eC(eu,ed){return(eu>>>28|ed<<4)^(ed>>>2|eu<<30)^(ed>>>7|eu<<25)}function eM(eu,ed){return(eu>>>14|ed<<18)^(eu>>>18|ed<<14)^(ed>>>9|eu<<23)}function eO(eu,ed){return(eu>>>1|ed<<31)^(eu>>>8|ed<<24)^eu>>>7}function eT(eu,ed){return(eu>>>1|ed<<31)^(eu>>>8|ed<<24)^(eu>>>7|ed<<25)}function eP(eu,ed){return(eu>>>19|ed<<13)^(ed>>>29|eu<<3)^eu>>>6}function eN(eu,ed){return(eu>>>19|ed<<13)^(ed>>>29|eu<<3)^(eu>>>6|ed<<26)}function ek(eu,ed){return eu>>>0<ed>>>0?1:0}em(eA,eb),eA.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},eA.prototype._update=function(eu){for(var ed=this._w,eg=0|this._ah,em=0|this._bh,eb=0|this._ch,ew=0|this._dh,eE=0|this._eh,eA=0|this._fh,eR=0|this._gh,eD=0|this._hh,eB=0|this._al,eU=0|this._bl,eL=0|this._cl,ej=0|this._dl,eF=0|this._el,e$=0|this._fl,eK=0|this._gl,eH=0|this._hl,eV=0;eV<32;eV+=2)ed[eV]=eu.readInt32BE(4*eV),ed[eV+1]=eu.readInt32BE(4*eV+4);for(;eV<160;eV+=2){var eG=ed[eV-30],eW=ed[eV-30+1],eJ=eO(eG,eW),eZ=eT(eW,eG);eG=ed[eV-4],eW=ed[eV-4+1];var eY=eP(eG,eW),eX=eN(eW,eG),eQ=ed[eV-14],e0=ed[eV-14+1],e6=ed[eV-32],e8=ed[eV-32+1],e5=eZ+e0|0,e9=eJ+eQ+ek(e5,eZ)|0;e9=(e9=e9+eY+ek(e5=e5+eX|0,eX)|0)+e6+ek(e5=e5+e8|0,e8)|0,ed[eV]=e9,ed[eV+1]=e5}for(var e7=0;e7<160;e7+=2){e9=ed[e7],e5=ed[e7+1];var tu=eI(eg,em,eb),th=eI(eB,eU,eL),td=eC(eg,eB),tg=eC(eB,eg),ty=eM(eE,eF),tb=eM(eF,eE),tw=e_[e7],t_=e_[e7+1],tE=eS(eE,eA,eR),tA=eS(eF,e$,eK),tS=eH+tb|0,tI=eD+ty+ek(tS,eH)|0;tI=(tI=(tI=tI+tE+ek(tS=tS+tA|0,tA)|0)+tw+ek(tS=tS+t_|0,t_)|0)+e9+ek(tS=tS+e5|0,e5)|0;var tC=tg+th|0,tO=td+tu+ek(tC,tg)|0;eD=eR,eH=eK,eR=eA,eK=e$,eA=eE,e$=eF,eE=ew+tI+ek(eF=ej+tS|0,ej)|0,ew=eb,ej=eL,eb=em,eL=eU,em=eg,eU=eB,eg=tI+tO+ek(eB=tS+tC|0,tS)|0}this._al=this._al+eB|0,this._bl=this._bl+eU|0,this._cl=this._cl+eL|0,this._dl=this._dl+ej|0,this._el=this._el+eF|0,this._fl=this._fl+e$|0,this._gl=this._gl+eK|0,this._hl=this._hl+eH|0,this._ah=this._ah+eg+ek(this._al,eB)|0,this._bh=this._bh+em+ek(this._bl,eU)|0,this._ch=this._ch+eb+ek(this._cl,eL)|0,this._dh=this._dh+ew+ek(this._dl,ej)|0,this._eh=this._eh+eE+ek(this._el,eF)|0,this._fh=this._fh+eA+ek(this._fl,e$)|0,this._gh=this._gh+eR+ek(this._gl,eK)|0,this._hh=this._hh+eD+ek(this._hl,eH)|0},eA.prototype._hash=function(){var eu=ew.allocUnsafe(64);function ed(ed,eg,em){eu.writeInt32BE(ed,em),eu.writeInt32BE(eg,em+4)}return ed(this._ah,this._al,0),ed(this._bh,this._bl,8),ed(this._ch,this._cl,16),ed(this._dh,this._dl,24),ed(this._eh,this._el,32),ed(this._fh,this._fl,40),ed(this._gh,this._gl,48),ed(this._hh,this._hl,56),eu},eu.exports=eA},61961:function(eu,ed,eg){var em=eg(48834).Buffer;!function(){var ed=eg(19562),eb=eg(5792).utf8,ew=eg(5792).bin,e_=function(eu){eu.constructor==String?eu=eb.stringToBytes(eu):void 0!==em&&"function"==typeof em.isBuffer&&em.isBuffer(eu)?eu=Array.prototype.slice.call(eu,0):Array.isArray(eu)||(eu=eu.toString());var eg=ed.bytesToWords(eu),ew=8*eu.length,e_=[],eE=1732584193,eA=-271733879,eS=-1732584194,eI=271733878,eC=-1009589776;eg[ew>>5]|=128<<24-ew%32,eg[(ew+64>>>9<<4)+15]=ew;for(var eM=0;eM<eg.length;eM+=16){for(var eO=eE,eT=eA,eP=eS,eN=eI,ek=eC,eR=0;eR<80;eR++){if(eR<16)e_[eR]=eg[eM+eR];else{var eD=e_[eR-3]^e_[eR-8]^e_[eR-14]^e_[eR-16];e_[eR]=eD<<1|eD>>>31}var eB=(eE<<5|eE>>>27)+eC+(e_[eR]>>>0)+(eR<20?(eA&eS|~eA&eI)+1518500249:eR<40?(eA^eS^eI)+1859775393:eR<60?(eA&eS|eA&eI|eS&eI)-1894007588:(eA^eS^eI)-899497514);eC=eI,eI=eS,eS=eA<<30|eA>>>2,eA=eE,eE=eB}eE+=eO,eA+=eT,eS+=eP,eI+=eN,eC+=ek}return[eE,eA,eS,eI,eC]},eE=function(eu,eg){var em=ed.wordsToBytes(e_(eu));return eg&&eg.asBytes?em:eg&&eg.asString?ew.bytesToString(em):ed.bytesToHex(em)};eE._blocksize=16,eE._digestsize=20,eu.exports=eE}()},15452:function(eu){"use strict";eu.exports=(eu,ed)=>{if(!("string"==typeof eu&&"string"==typeof ed))throw TypeError("Expected the arguments to be of type `string`");if(""===ed)return[eu];let eg=eu.indexOf(ed);return -1===eg?[eu]:[eu.slice(0,eg),eu.slice(eg+ed.length)]}},54851:function(eu,ed,eg){eu.exports=eb;var em=eg(22699).EventEmitter;function eb(){em.call(this)}eg(91285)(eb,em),eb.Readable=eg(28051),eb.Writable=eg(2557),eb.Duplex=eg(77073),eb.Transform=eg(27640),eb.PassThrough=eg(95163),eb.finished=eg(59885),eb.pipeline=eg(63495),eb.Stream=eb,eb.prototype.pipe=function(eu,ed){var eg=this;function eb(ed){eu.writable&&!1===eu.write(ed)&&eg.pause&&eg.pause()}function ew(){eg.readable&&eg.resume&&eg.resume()}eg.on("data",eb),eu.on("drain",ew),eu._isStdio||ed&&!1===ed.end||(eg.on("end",eE),eg.on("close",eA));var e_=!1;function eE(){e_||(e_=!0,eu.end())}function eA(){e_||(e_=!0,"function"==typeof eu.destroy&&eu.destroy())}function eS(eu){if(eI(),0===em.listenerCount(this,"error"))throw eu}function eI(){eg.removeListener("data",eb),eu.removeListener("drain",ew),eg.removeListener("end",eE),eg.removeListener("close",eA),eg.removeListener("error",eS),eu.removeListener("error",eS),eg.removeListener("end",eI),eg.removeListener("close",eI),eu.removeListener("close",eI)}return eg.on("error",eS),eu.on("error",eS),eg.on("end",eI),eg.on("close",eI),eu.on("close",eI),eu.emit("pipe",eg),eu}},23439:function(eu,ed,eg){var em=eg(43224),eb=eg(19291),ew=eg(51960),e_=eg(26744),eE=eg(883),eA=ed;eA.request=function(eu,ed){eu="string"==typeof eu?eE.parse(eu):ew(eu);var eb=-1===eg.g.location.protocol.search(/^https?:$/)?"http:":"",e_=eu.protocol||eb,eA=eu.hostname||eu.host,eS=eu.port,eI=eu.path||"/";eA&&-1!==eA.indexOf(":")&&(eA="["+eA+"]"),eu.url=(eA?e_+"//"+eA:"")+(eS?":"+eS:"")+eI,eu.method=(eu.method||"GET").toUpperCase(),eu.headers=eu.headers||{};var eC=new em(eu);return ed&&eC.on("response",ed),eC},eA.get=function(eu,ed){var eg=eA.request(eu,ed);return eg.end(),eg},eA.ClientRequest=em,eA.IncomingMessage=eb.IncomingMessage,eA.Agent=function(){},eA.Agent.defaultMaxSockets=4,eA.globalAgent=new eA.Agent,eA.STATUS_CODES=e_,eA.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]},19633:function(eu,ed,eg){var em;function eb(){if(void 0!==em)return em;if(eg.g.XMLHttpRequest){em=new eg.g.XMLHttpRequest;try{em.open("GET",eg.g.XDomainRequest?"/":"https://example.com")}catch(eu){em=null}}else em=null;return em}function ew(eu){var ed=eb();if(!ed)return!1;try{return ed.responseType=eu,ed.responseType===eu}catch(eu){}return!1}function e_(eu){return"function"==typeof eu}ed.fetch=e_(eg.g.fetch)&&e_(eg.g.ReadableStream),ed.writableStream=e_(eg.g.WritableStream),ed.abortController=e_(eg.g.AbortController),ed.arraybuffer=ed.fetch||ew("arraybuffer"),ed.msstream=!ed.fetch&&ew("ms-stream"),ed.mozchunkedarraybuffer=!ed.fetch&&ew("moz-chunked-arraybuffer"),ed.overrideMimeType=ed.fetch||!!eb()&&e_(eb().overrideMimeType),em=null},43224:function(eu,ed,eg){var em=eg(48834).Buffer,eb=eg(34406),ew=eg(19633),e_=eg(91285),eE=eg(19291),eA=eg(67525),eS=eE.IncomingMessage,eI=eE.readyStates;function eC(eu,ed){return ew.fetch&&ed?"fetch":ew.mozchunkedarraybuffer?"moz-chunked-arraybuffer":ew.msstream?"ms-stream":ew.arraybuffer&&eu?"arraybuffer":"text"}var eM=eu.exports=function(eu){var ed,eg=this;eA.Writable.call(eg),eg._opts=eu,eg._body=[],eg._headers={},eu.auth&&eg.setHeader("Authorization","Basic "+em.from(eu.auth).toString("base64")),Object.keys(eu.headers).forEach(function(ed){eg.setHeader(ed,eu.headers[ed])});var eb=!0;if("disable-fetch"===eu.mode||"requestTimeout"in eu&&!ew.abortController)eb=!1,ed=!0;else if("prefer-streaming"===eu.mode)ed=!1;else if("allow-wrong-content-type"===eu.mode)ed=!ew.overrideMimeType;else if(eu.mode&&"default"!==eu.mode&&"prefer-fast"!==eu.mode)throw Error("Invalid value for opts.mode");else ed=!0;eg._mode=eC(ed,eb),eg._fetchTimer=null,eg._socketTimeout=null,eg._socketTimer=null,eg.on("finish",function(){eg._onFinish()})};function eO(eu){try{var ed=eu.status;return null!==ed&&0!==ed}catch(eu){return!1}}e_(eM,eA.Writable),eM.prototype.setHeader=function(eu,ed){var eg=this,em=eu.toLowerCase();-1===eT.indexOf(em)&&(eg._headers[em]={name:eu,value:ed})},eM.prototype.getHeader=function(eu){var ed=this._headers[eu.toLowerCase()];return ed?ed.value:null},eM.prototype.removeHeader=function(eu){var ed=this;delete ed._headers[eu.toLowerCase()]},eM.prototype._onFinish=function(){var eu=this;if(!eu._destroyed){var ed=eu._opts;"timeout"in ed&&0!==ed.timeout&&eu.setTimeout(ed.timeout);var em=eu._headers,e_=null;"GET"!==ed.method&&"HEAD"!==ed.method&&(e_=new Blob(eu._body,{type:(em["content-type"]||{}).value||""}));var eE=[];if(Object.keys(em).forEach(function(eu){var ed=em[eu].name,eg=em[eu].value;Array.isArray(eg)?eg.forEach(function(eu){eE.push([ed,eu])}):eE.push([ed,eg])}),"fetch"===eu._mode){var eA=null;if(ew.abortController){var eS=new AbortController;eA=eS.signal,eu._fetchAbortController=eS,"requestTimeout"in ed&&0!==ed.requestTimeout&&(eu._fetchTimer=eg.g.setTimeout(function(){eu.emit("requestTimeout"),eu._fetchAbortController&&eu._fetchAbortController.abort()},ed.requestTimeout))}eg.g.fetch(eu._opts.url,{method:eu._opts.method,headers:eE,body:e_||void 0,mode:"cors",credentials:ed.withCredentials?"include":"same-origin",signal:eA}).then(function(ed){eu._fetchResponse=ed,eu._resetTimers(!1),eu._connect()},function(ed){eu._resetTimers(!0),eu._destroyed||eu.emit("error",ed)})}else{var eC=eu._xhr=new eg.g.XMLHttpRequest;try{eC.open(eu._opts.method,eu._opts.url,!0)}catch(ed){eb.nextTick(function(){eu.emit("error",ed)});return}"responseType"in eC&&(eC.responseType=eu._mode),"withCredentials"in eC&&(eC.withCredentials=!!ed.withCredentials),"text"===eu._mode&&"overrideMimeType"in eC&&eC.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in ed&&(eC.timeout=ed.requestTimeout,eC.ontimeout=function(){eu.emit("requestTimeout")}),eE.forEach(function(eu){eC.setRequestHeader(eu[0],eu[1])}),eu._response=null,eC.onreadystatechange=function(){switch(eC.readyState){case eI.LOADING:case eI.DONE:eu._onXHRProgress()}},"moz-chunked-arraybuffer"===eu._mode&&(eC.onprogress=function(){eu._onXHRProgress()}),eC.onerror=function(){eu._destroyed||(eu._resetTimers(!0),eu.emit("error",Error("XHR error")))};try{eC.send(e_)}catch(ed){eb.nextTick(function(){eu.emit("error",ed)});return}}}},eM.prototype._onXHRProgress=function(){var eu=this;eu._resetTimers(!1),eO(eu._xhr)&&!eu._destroyed&&(eu._response||eu._connect(),eu._response._onXHRProgress(eu._resetTimers.bind(eu)))},eM.prototype._connect=function(){var eu=this;eu._destroyed||(eu._response=new eS(eu._xhr,eu._fetchResponse,eu._mode,eu._resetTimers.bind(eu)),eu._response.on("error",function(ed){eu.emit("error",ed)}),eu.emit("response",eu._response))},eM.prototype._write=function(eu,ed,eg){var em=this;em._body.push(eu),eg()},eM.prototype._resetTimers=function(eu){var ed=this;eg.g.clearTimeout(ed._socketTimer),ed._socketTimer=null,eu?(eg.g.clearTimeout(ed._fetchTimer),ed._fetchTimer=null):ed._socketTimeout&&(ed._socketTimer=eg.g.setTimeout(function(){ed.emit("timeout")},ed._socketTimeout))},eM.prototype.abort=eM.prototype.destroy=function(eu){var ed=this;ed._destroyed=!0,ed._resetTimers(!0),ed._response&&(ed._response._destroyed=!0),ed._xhr?ed._xhr.abort():ed._fetchAbortController&&ed._fetchAbortController.abort(),eu&&ed.emit("error",eu)},eM.prototype.end=function(eu,ed,eg){var em=this;"function"==typeof eu&&(eg=eu,eu=void 0),eA.Writable.prototype.end.call(em,eu,ed,eg)},eM.prototype.setTimeout=function(eu,ed){var eg=this;ed&&eg.once("timeout",ed),eg._socketTimeout=eu,eg._resetTimers(!1)},eM.prototype.flushHeaders=function(){},eM.prototype.setNoDelay=function(){},eM.prototype.setSocketKeepAlive=function(){};var eT=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]},19291:function(eu,ed,eg){var em=eg(34406),eb=eg(48834).Buffer,ew=eg(19633),e_=eg(91285),eE=eg(67525),eA=ed.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},eS=ed.IncomingMessage=function(eu,ed,eg,e_){var eA=this;if(eE.Readable.call(eA),eA._mode=eg,eA.headers={},eA.rawHeaders=[],eA.trailers={},eA.rawTrailers=[],eA.on("end",function(){em.nextTick(function(){eA.emit("close")})}),"fetch"===eg){if(eA._fetchResponse=ed,eA.url=ed.url,eA.statusCode=ed.status,eA.statusMessage=ed.statusText,ed.headers.forEach(function(eu,ed){eA.headers[ed.toLowerCase()]=eu,eA.rawHeaders.push(ed,eu)}),ew.writableStream){var eS=new WritableStream({write:function(eu){return e_(!1),new Promise(function(ed,eg){eA._destroyed?eg():eA.push(eb.from(eu))?ed():eA._resumeFetch=ed})},close:function(){e_(!0),eA._destroyed||eA.push(null)},abort:function(eu){e_(!0),eA._destroyed||eA.emit("error",eu)}});try{ed.body.pipeTo(eS).catch(function(eu){e_(!0),eA._destroyed||eA.emit("error",eu)});return}catch(eu){}}var eI=ed.body.getReader();function eC(){eI.read().then(function(eu){if(!eA._destroyed){if(e_(eu.done),eu.done){eA.push(null);return}eA.push(eb.from(eu.value)),eC()}}).catch(function(eu){e_(!0),eA._destroyed||eA.emit("error",eu)})}eC()}else if(eA._xhr=eu,eA._pos=0,eA.url=eu.responseURL,eA.statusCode=eu.status,eA.statusMessage=eu.statusText,eu.getAllResponseHeaders().split(/\r?\n/).forEach(function(eu){var ed=eu.match(/^([^:]+):\s*(.*)/);if(ed){var eg=ed[1].toLowerCase();"set-cookie"===eg?(void 0===eA.headers[eg]&&(eA.headers[eg]=[]),eA.headers[eg].push(ed[2])):void 0!==eA.headers[eg]?eA.headers[eg]+=", "+ed[2]:eA.headers[eg]=ed[2],eA.rawHeaders.push(ed[1],ed[2])}}),eA._charset="x-user-defined",!ew.overrideMimeType){var eM=eA.rawHeaders["mime-type"];if(eM){var eO=eM.match(/;\s*charset=([^;])(;|$)/);eO&&(eA._charset=eO[1].toLowerCase())}eA._charset||(eA._charset="utf-8")}};e_(eS,eE.Readable),eS.prototype._read=function(){var eu=this,ed=eu._resumeFetch;ed&&(eu._resumeFetch=null,ed())},eS.prototype._onXHRProgress=function(eu){var ed=this,em=ed._xhr,ew=null;switch(ed._mode){case"text":if((ew=em.responseText).length>ed._pos){var e_=ew.substr(ed._pos);if("x-user-defined"===ed._charset){for(var eE=eb.alloc(e_.length),eS=0;eS<e_.length;eS++)eE[eS]=255&e_.charCodeAt(eS);ed.push(eE)}else ed.push(e_,ed._charset);ed._pos=ew.length}break;case"arraybuffer":if(em.readyState!==eA.DONE||!em.response)break;ew=em.response,ed.push(eb.from(new Uint8Array(ew)));break;case"moz-chunked-arraybuffer":if(ew=em.response,em.readyState!==eA.LOADING||!ew)break;ed.push(eb.from(new Uint8Array(ew)));break;case"ms-stream":if(ew=em.response,em.readyState!==eA.LOADING)break;var eI=new eg.g.MSStreamReader;eI.onprogress=function(){eI.result.byteLength>ed._pos&&(ed.push(eb.from(new Uint8Array(eI.result.slice(ed._pos)))),ed._pos=eI.result.byteLength)},eI.onload=function(){eu(!0),ed.push(null)},eI.readAsArrayBuffer(ew)}ed._xhr.readyState===eA.DONE&&"ms-stream"!==ed._mode&&(eu(!0),ed.push(null))}},57785:function(eu){"use strict";eu.exports=eu=>encodeURIComponent(eu).replace(/[!'()*]/g,eu=>`%${eu.charCodeAt(0).toString(16).toUpperCase()}`)},30214:function(eu,ed,eg){"use strict";var em=eg(77834).Buffer,eb=em.isEncoding||function(eu){switch((eu=""+eu)&&eu.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function ew(eu){var ed;if(!eu)return"utf8";for(;;)switch(eu){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return eu;default:if(ed)return;eu=(""+eu).toLowerCase(),ed=!0}}function e_(eu){var ed=ew(eu);if("string"!=typeof ed&&(em.isEncoding===eb||!eb(eu)))throw Error("Unknown encoding: "+eu);return ed||eu}function eE(eu){var ed;switch(this.encoding=e_(eu),this.encoding){case"utf16le":this.text=eT,this.end=eP,ed=4;break;case"utf8":this.fillLast=eC,ed=4;break;case"base64":this.text=eN,this.end=ek,ed=3;break;default:this.write=eR,this.end=eD;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=em.allocUnsafe(ed)}function eA(eu){return eu<=127?0:eu>>5==6?2:eu>>4==14?3:eu>>3==30?4:eu>>6==2?-1:-2}function eS(eu,ed,eg){var em=ed.length-1;if(em<eg)return 0;var eb=eA(ed[em]);return eb>=0?(eb>0&&(eu.lastNeed=eb-1),eb):--em<eg||-2===eb?0:(eb=eA(ed[em]))>=0?(eb>0&&(eu.lastNeed=eb-2),eb):--em<eg||-2===eb?0:(eb=eA(ed[em]))>=0?(eb>0&&(2===eb?eb=0:eu.lastNeed=eb-3),eb):0}function eI(eu,ed,eg){if((192&ed[0])!=128)return eu.lastNeed=0,"";if(eu.lastNeed>1&&ed.length>1){if((192&ed[1])!=128)return eu.lastNeed=1,"";if(eu.lastNeed>2&&ed.length>2&&(192&ed[2])!=128)return eu.lastNeed=2,""}}function eC(eu){var ed=this.lastTotal-this.lastNeed,eg=eI(this,eu,ed);return void 0!==eg?eg:this.lastNeed<=eu.length?(eu.copy(this.lastChar,ed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):void(eu.copy(this.lastChar,ed,0,eu.length),this.lastNeed-=eu.length)}function eM(eu,ed){var eg=eS(this,eu,ed);if(!this.lastNeed)return eu.toString("utf8",ed);this.lastTotal=eg;var em=eu.length-(eg-this.lastNeed);return eu.copy(this.lastChar,0,em),eu.toString("utf8",ed,em)}function eO(eu){var ed=eu&&eu.length?this.write(eu):"";return this.lastNeed?ed+"":ed}function eT(eu,ed){if((eu.length-ed)%2==0){var eg=eu.toString("utf16le",ed);if(eg){var em=eg.charCodeAt(eg.length-1);if(em>=55296&&em<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=eu[eu.length-2],this.lastChar[1]=eu[eu.length-1],eg.slice(0,-1)}return eg}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=eu[eu.length-1],eu.toString("utf16le",ed,eu.length-1)}function eP(eu){var ed=eu&&eu.length?this.write(eu):"";if(this.lastNeed){var eg=this.lastTotal-this.lastNeed;return ed+this.lastChar.toString("utf16le",0,eg)}return ed}function eN(eu,ed){var eg=(eu.length-ed)%3;return 0===eg?eu.toString("base64",ed):(this.lastNeed=3-eg,this.lastTotal=3,1===eg?this.lastChar[0]=eu[eu.length-1]:(this.lastChar[0]=eu[eu.length-2],this.lastChar[1]=eu[eu.length-1]),eu.toString("base64",ed,eu.length-eg))}function ek(eu){var ed=eu&&eu.length?this.write(eu):"";return this.lastNeed?ed+this.lastChar.toString("base64",0,3-this.lastNeed):ed}function eR(eu){return eu.toString(this.encoding)}function eD(eu){return eu&&eu.length?this.write(eu):""}ed.s=eE,eE.prototype.write=function(eu){var ed,eg;if(0===eu.length)return"";if(this.lastNeed){if(void 0===(ed=this.fillLast(eu)))return"";eg=this.lastNeed,this.lastNeed=0}else eg=0;return eg<eu.length?ed?ed+this.text(eu,eg):this.text(eu,eg):ed||""},eE.prototype.end=eO,eE.prototype.text=eM,eE.prototype.fillLast=function(eu){if(this.lastNeed<=eu.length)return eu.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);eu.copy(this.lastChar,this.lastTotal-this.lastNeed,0,eu.length),this.lastNeed-=eu.length}},30025:function(eu,ed,eg){"use strict";var em=eg(77834).Buffer,eb=eg(77906),ew=eg(61916),e_=ArrayBuffer.isView||function(eu){try{return ew(eu),!0}catch(eu){return!1}},eE="undefined"!=typeof Uint8Array,eA="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,eS=eA&&(em.prototype instanceof Uint8Array||em.TYPED_ARRAY_SUPPORT);eu.exports=function(eu,ed){if(eu instanceof em)return eu;if("string"==typeof eu)return em.from(eu,ed);if(eA&&e_(eu)){if(0===eu.byteLength)return em.alloc(0);if(eS){var eg=em.from(eu.buffer,eu.byteOffset,eu.byteLength);if(eg.byteLength===eu.byteLength)return eg}var ew=eu instanceof Uint8Array?eu:new Uint8Array(eu.buffer,eu.byteOffset,eu.byteLength),eI=em.from(ew);if(eI.length===eu.byteLength)return eI}if(eE&&eu instanceof Uint8Array)return em.from(eu);var eC=eb(eu);if(eC)for(var eM=0;eM<eu.length;eM+=1){var eO=eu[eM];if("number"!=typeof eO||eO<0||eO>255||~~eO!==eO)throw RangeError("Array items must be numbers in the range 0-255.")}if(eC||em.isBuffer(eu)&&eu.constructor&&"function"==typeof eu.constructor.isBuffer&&eu.constructor.isBuffer(eu))return em.from(eu);throw TypeError('The "data" argument must be a string, an Array, a Buffer, a Uint8Array, or a DataView.')}},91706:function(eu){eu.exports=function(){var eu=document.getSelection();if(!eu.rangeCount)return function(){};for(var ed=document.activeElement,eg=[],em=0;em<eu.rangeCount;em++)eg.push(eu.getRangeAt(em));switch(ed.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":ed.blur();break;default:ed=null}return eu.removeAllRanges(),function(){"Caret"===eu.type&&eu.removeAllRanges(),eu.rangeCount||eg.forEach(function(ed){eu.addRange(ed)}),ed&&ed.focus()}}},90114:function(eu){/*!
 * toidentifier
 * Copyright(c) 2016 Douglas Christopher Wilson
 * MIT Licensed
 */eu.exports=ed;function ed(eu){return eu.split(" ").map(function(eu){return eu.slice(0,1).toUpperCase()+eu.slice(1)}).join("").replace(/[^ _0-9a-z]/gi,"")}},61916:function(eu,ed,eg){"use strict";var em=eg(5408),eb=eg(8435)("TypedArray.prototype.buffer",!0),ew=eg(50198);eu.exports=eb||function(eu){if(!ew(eu))throw new em("Not a Typed Array");return eu.buffer}},59639:function(eu,ed,eg){var em;eu=eg.nmd(eu),function(eb){ed&&ed.nodeType,eu&&eu.nodeType;var ew="object"==typeof eg.g&&eg.g;(ew.global===ew||ew.window===ew||ew.self===ew)&&(eb=ew);var e_,eE=2147483647,eA=36,eS=1,eI=26,eC=38,eM=700,eO=72,eT=128,eP="-",eN=/^xn--/,ek=/[^\x20-\x7E]/,eR=/[\x2E\u3002\uFF0E\uFF61]/g,eD={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},eB=35,eU=Math.floor,eL=String.fromCharCode;function ej(eu){throw RangeError(eD[eu])}function eF(eu,ed){for(var eg=eu.length,em=[];eg--;)em[eg]=ed(eu[eg]);return em}function e$(eu,ed){var eg=eu.split("@"),em="";return eg.length>1&&(em=eg[0]+"@",eu=eg[1]),em+eF((eu=eu.replace(eR,".")).split("."),ed).join(".")}function eK(eu){for(var ed,eg,em=[],eb=0,ew=eu.length;eb<ew;)(ed=eu.charCodeAt(eb++))>=55296&&ed<=56319&&eb<ew?(64512&(eg=eu.charCodeAt(eb++)))==56320?em.push(((1023&ed)<<10)+(1023&eg)+65536):(em.push(ed),eb--):em.push(ed);return em}function eH(eu){return eF(eu,function(eu){var ed="";return eu>65535&&(eu-=65536,ed+=eL(eu>>>10&1023|55296),eu=56320|1023&eu),ed+=eL(eu)}).join("")}function eV(eu){return eu-48<10?eu-22:eu-65<26?eu-65:eu-97<26?eu-97:eA}function eG(eu,ed){return eu+22+75*(eu<26)-((0!=ed)<<5)}function eW(eu,ed,eg){var em=0;for(eu=eg?eU(eu/eM):eu>>1,eu+=eU(eu/ed);eu>eB*eI>>1;em+=eA)eu=eU(eu/eB);return eU(em+(eB+1)*eu/(eu+eC))}function eJ(eu){var ed,eg,em,eb,ew,e_,eC,eM,eN,ek,eR=[],eD=eu.length,eB=0,eL=eT,eF=eO;for((eg=eu.lastIndexOf(eP))<0&&(eg=0),em=0;em<eg;++em)eu.charCodeAt(em)>=128&&ej("not-basic"),eR.push(eu.charCodeAt(em));for(eb=eg>0?eg+1:0;eb<eD;){for(ew=eB,e_=1,eC=eA;eb>=eD&&ej("invalid-input"),((eM=eV(eu.charCodeAt(eb++)))>=eA||eM>eU((eE-eB)/e_))&&ej("overflow"),eB+=eM*e_,!(eM<(eN=eC<=eF?eS:eC>=eF+eI?eI:eC-eF));eC+=eA)e_>eU(eE/(ek=eA-eN))&&ej("overflow"),e_*=ek;eF=eW(eB-ew,ed=eR.length+1,0==ew),eU(eB/ed)>eE-eL&&ej("overflow"),eL+=eU(eB/ed),eB%=ed,eR.splice(eB++,0,eL)}return eH(eR)}function eZ(eu){var ed,eg,em,eb,ew,e_,eC,eM,eN,ek,eR,eD,eB,eF,e$,eH=[];for(e_=0,eD=(eu=eK(eu)).length,ed=eT,eg=0,ew=eO;e_<eD;++e_)(eR=eu[e_])<128&&eH.push(eL(eR));for(em=eb=eH.length,eb&&eH.push(eP);em<eD;){for(eC=eE,e_=0;e_<eD;++e_)(eR=eu[e_])>=ed&&eR<eC&&(eC=eR);for(eC-ed>eU((eE-eg)/(eB=em+1))&&ej("overflow"),eg+=(eC-ed)*eB,ed=eC,e_=0;e_<eD;++e_)if((eR=eu[e_])<ed&&++eg>eE&&ej("overflow"),eR==ed){for(eM=eg,eN=eA;!(eM<(ek=eN<=ew?eS:eN>=ew+eI?eI:eN-ew));eN+=eA)e$=eM-ek,eF=eA-ek,eH.push(eL(eG(ek+e$%eF,0))),eM=eU(e$/eF);eH.push(eL(eG(eM,0))),ew=eW(eg,eB,em==eb),eg=0,++em}++eg,++ed}return eH.join("")}function eY(eu){return e$(eu,function(eu){return eN.test(eu)?eJ(eu.slice(4).toLowerCase()):eu})}function eX(eu){return e$(eu,function(eu){return ek.test(eu)?"xn--"+eZ(eu):eu})}e_={version:"1.3.2",ucs2:{decode:eK,encode:eH},decode:eJ,encode:eZ,toASCII:eX,toUnicode:eY},void 0!==(em=(function(){return e_}).call(ed,eg,ed,eu))&&(eu.exports=em)}(this)},883:function(eu,ed,eg){"use strict";var em=eg(59639),eb=eg(25225);function ew(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}ed.parse=eD,ed.resolve=eU,ed.resolveObject=eL,ed.format=eB,ed.Url=ew;var e_=/^([a-z0-9.+-]+:)/i,eE=/:[0-9]*$/,eA=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,eS=["'"].concat(["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","	"])),eI=["%","/","?",";","#"].concat(eS),eC=["/","?","#"],eM=255,eO=/^[+a-z0-9A-Z_-]{0,63}$/,eT=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,eP={javascript:!0,"javascript:":!0},eN={javascript:!0,"javascript:":!0},ek={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},eR=eg(56642);function eD(eu,ed,eg){if(eu&&eb.isObject(eu)&&eu instanceof ew)return eu;var em=new ew;return em.parse(eu,ed,eg),em}function eB(eu){return(eb.isString(eu)&&(eu=eD(eu)),eu instanceof ew)?eu.format():ew.prototype.format.call(eu)}function eU(eu,ed){return eD(eu,!1,!0).resolve(ed)}function eL(eu,ed){return eu?eD(eu,!1,!0).resolveObject(ed):ed}ew.prototype.parse=function(eu,ed,eg){if(!eb.isString(eu))throw TypeError("Parameter 'url' must be a string, not "+typeof eu);var ew=eu.indexOf("?"),eE=-1!==ew&&ew<eu.indexOf("#")?"?":"#",eD=eu.split(eE),eB=/\\/g;eD[0]=eD[0].replace(eB,"/");var eU=eu=eD.join(eE);if(eU=eU.trim(),!eg&&1===eu.split("#").length){var eL=eA.exec(eU);if(eL)return this.path=eU,this.href=eU,this.pathname=eL[1],eL[2]?(this.search=eL[2],ed?this.query=eR.parse(this.search.substr(1)):this.query=this.search.substr(1)):ed&&(this.search="",this.query={}),this}var ej=e_.exec(eU);if(ej){var eF=(ej=ej[0]).toLowerCase();this.protocol=eF,eU=eU.substr(ej.length)}if(eg||ej||eU.match(/^\/\/[^@\/]+@[^@\/]+/)){var e$="//"===eU.substr(0,2);e$&&!(ej&&eN[ej])&&(eU=eU.substr(2),this.slashes=!0)}if(!eN[ej]&&(e$||ej&&!ek[ej])){for(var eK,eH,eV=-1,eG=0;eG<eC.length;eG++){var eW=eU.indexOf(eC[eG]);-1!==eW&&(-1===eV||eW<eV)&&(eV=eW)}-1!==(eH=-1===eV?eU.lastIndexOf("@"):eU.lastIndexOf("@",eV))&&(eK=eU.slice(0,eH),eU=eU.slice(eH+1),this.auth=decodeURIComponent(eK)),eV=-1;for(var eG=0;eG<eI.length;eG++){var eW=eU.indexOf(eI[eG]);-1!==eW&&(-1===eV||eW<eV)&&(eV=eW)}-1===eV&&(eV=eU.length),this.host=eU.slice(0,eV),eU=eU.slice(eV),this.parseHost(),this.hostname=this.hostname||"";var eJ="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!eJ)for(var eZ=this.hostname.split(/\./),eG=0,eY=eZ.length;eG<eY;eG++){var eX=eZ[eG];if(eX&&!eX.match(eO)){for(var eQ="",e0=0,e6=eX.length;e0<e6;e0++)eX.charCodeAt(e0)>127?eQ+="x":eQ+=eX[e0];if(!eQ.match(eO)){var e8=eZ.slice(0,eG),e5=eZ.slice(eG+1),e9=eX.match(eT);e9&&(e8.push(e9[1]),e5.unshift(e9[2])),e5.length&&(eU="/"+e5.join(".")+eU),this.hostname=e8.join(".");break}}}this.hostname.length>eM?this.hostname="":this.hostname=this.hostname.toLowerCase(),eJ||(this.hostname=em.toASCII(this.hostname));var e7=this.port?":"+this.port:"",tu=this.hostname||"";this.host=tu+e7,this.href+=this.host,eJ&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==eU[0]&&(eU="/"+eU))}if(!eP[eF])for(var eG=0,eY=eS.length;eG<eY;eG++){var th=eS[eG];if(-1!==eU.indexOf(th)){var td=encodeURIComponent(th);td===th&&(td=escape(th)),eU=eU.split(th).join(td)}}var tg=eU.indexOf("#");-1!==tg&&(this.hash=eU.substr(tg),eU=eU.slice(0,tg));var ty=eU.indexOf("?");if(-1!==ty?(this.search=eU.substr(ty),this.query=eU.substr(ty+1),ed&&(this.query=eR.parse(this.query)),eU=eU.slice(0,ty)):ed&&(this.search="",this.query={}),eU&&(this.pathname=eU),ek[eF]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var e7=this.pathname||"",tb=this.search||"";this.path=e7+tb}return this.href=this.format(),this},ew.prototype.format=function(){var eu=this.auth||"";eu&&(eu=(eu=encodeURIComponent(eu)).replace(/%3A/i,":")+"@");var ed=this.protocol||"",eg=this.pathname||"",em=this.hash||"",ew=!1,e_="";this.host?ew=eu+this.host:this.hostname&&(ew=eu+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(ew+=":"+this.port)),this.query&&eb.isObject(this.query)&&Object.keys(this.query).length&&(e_=eR.stringify(this.query));var eE=this.search||e_&&"?"+e_||"";return ed&&":"!==ed.substr(-1)&&(ed+=":"),this.slashes||(!ed||ek[ed])&&!1!==ew?(ew="//"+(ew||""),eg&&"/"!==eg.charAt(0)&&(eg="/"+eg)):ew||(ew=""),em&&"#"!==em.charAt(0)&&(em="#"+em),eE&&"?"!==eE.charAt(0)&&(eE="?"+eE),ed+ew+(eg=eg.replace(/[?#]/g,function(eu){return encodeURIComponent(eu)}))+(eE=eE.replace("#","%23"))+em},ew.prototype.resolve=function(eu){return this.resolveObject(eD(eu,!1,!0)).format()},ew.prototype.resolveObject=function(eu){if(eb.isString(eu)){var ed=new ew;ed.parse(eu,!1,!0),eu=ed}for(var eg=new ew,em=Object.keys(this),e_=0;e_<em.length;e_++){var eE=em[e_];eg[eE]=this[eE]}if(eg.hash=eu.hash,""===eu.href)return eg.href=eg.format(),eg;if(eu.slashes&&!eu.protocol){for(var eA=Object.keys(eu),eS=0;eS<eA.length;eS++){var eI=eA[eS];"protocol"!==eI&&(eg[eI]=eu[eI])}return ek[eg.protocol]&&eg.hostname&&!eg.pathname&&(eg.path=eg.pathname="/"),eg.href=eg.format(),eg}if(eu.protocol&&eu.protocol!==eg.protocol){if(!ek[eu.protocol]){for(var eC=Object.keys(eu),eM=0;eM<eC.length;eM++){var eO=eC[eM];eg[eO]=eu[eO]}return eg.href=eg.format(),eg}if(eg.protocol=eu.protocol,eu.host||eN[eu.protocol])eg.pathname=eu.pathname;else{for(var eT=(eu.pathname||"").split("/");eT.length&&!(eu.host=eT.shift()););eu.host||(eu.host=""),eu.hostname||(eu.hostname=""),""!==eT[0]&&eT.unshift(""),eT.length<2&&eT.unshift(""),eg.pathname=eT.join("/")}if(eg.search=eu.search,eg.query=eu.query,eg.host=eu.host||"",eg.auth=eu.auth,eg.hostname=eu.hostname||eu.host,eg.port=eu.port,eg.pathname||eg.search){var eP=eg.pathname||"",eR=eg.search||"";eg.path=eP+eR}return eg.slashes=eg.slashes||eu.slashes,eg.href=eg.format(),eg}var eD=eg.pathname&&"/"===eg.pathname.charAt(0),eB=eu.host||eu.pathname&&"/"===eu.pathname.charAt(0),eU=eB||eD||eg.host&&eu.pathname,eL=eU,ej=eg.pathname&&eg.pathname.split("/")||[],eT=eu.pathname&&eu.pathname.split("/")||[],eF=eg.protocol&&!ek[eg.protocol];if(eF&&(eg.hostname="",eg.port=null,eg.host&&(""===ej[0]?ej[0]=eg.host:ej.unshift(eg.host)),eg.host="",eu.protocol&&(eu.hostname=null,eu.port=null,eu.host&&(""===eT[0]?eT[0]=eu.host:eT.unshift(eu.host)),eu.host=null),eU=eU&&(""===eT[0]||""===ej[0])),eB)eg.host=eu.host||""===eu.host?eu.host:eg.host,eg.hostname=eu.hostname||""===eu.hostname?eu.hostname:eg.hostname,eg.search=eu.search,eg.query=eu.query,ej=eT;else if(eT.length)ej||(ej=[]),ej.pop(),ej=ej.concat(eT),eg.search=eu.search,eg.query=eu.query;else if(!eb.isNullOrUndefined(eu.search)){if(eF){eg.hostname=eg.host=ej.shift();var e$=!!(eg.host&&eg.host.indexOf("@")>0)&&eg.host.split("@");e$&&(eg.auth=e$.shift(),eg.host=eg.hostname=e$.shift())}return eg.search=eu.search,eg.query=eu.query,eb.isNull(eg.pathname)&&eb.isNull(eg.search)||(eg.path=(eg.pathname?eg.pathname:"")+(eg.search?eg.search:"")),eg.href=eg.format(),eg}if(!ej.length)return eg.pathname=null,eg.search?eg.path="/"+eg.search:eg.path=null,eg.href=eg.format(),eg;for(var eK=ej.slice(-1)[0],eH=(eg.host||eu.host||ej.length>1)&&("."===eK||".."===eK)||""===eK,eV=0,eG=ej.length;eG>=0;eG--)"."===(eK=ej[eG])?ej.splice(eG,1):".."===eK?(ej.splice(eG,1),eV++):eV&&(ej.splice(eG,1),eV--);if(!eU&&!eL)for(;eV--;eV)ej.unshift("..");eU&&""!==ej[0]&&(!ej[0]||"/"!==ej[0].charAt(0))&&ej.unshift(""),eH&&"/"!==ej.join("/").substr(-1)&&ej.push("");var eW=""===ej[0]||ej[0]&&"/"===ej[0].charAt(0);if(eF){eg.hostname=eg.host=eW?"":ej.length?ej.shift():"";var e$=!!(eg.host&&eg.host.indexOf("@")>0)&&eg.host.split("@");e$&&(eg.auth=e$.shift(),eg.host=eg.hostname=e$.shift())}return(eU=eU||eg.host&&ej.length)&&!eW&&ej.unshift(""),ej.length?eg.pathname=ej.join("/"):(eg.pathname=null,eg.path=null),eb.isNull(eg.pathname)&&eb.isNull(eg.search)||(eg.path=(eg.pathname?eg.pathname:"")+(eg.search?eg.search:"")),eg.auth=eu.auth||eg.auth,eg.slashes=eg.slashes||eu.slashes,eg.href=eg.format(),eg},ew.prototype.parseHost=function(){var eu=this.host,ed=eE.exec(eu);ed&&(":"!==(ed=ed[0])&&(this.port=ed.substr(1)),eu=eu.substr(0,eu.length-ed.length)),eu&&(this.hostname=eu)}},25225:function(eu){"use strict";eu.exports={isString:function(eu){return"string"==typeof eu},isObject:function(eu){return"object"==typeof eu&&null!==eu},isNull:function(eu){return null===eu},isNullOrUndefined:function(eu){return null==eu}}},5803:function(eu,ed,eg){function em(eu,ed){if(eb("noDeprecation"))return eu;var eg=!1;return function(){if(!eg){if(eb("throwDeprecation"))throw Error(ed);eb("traceDeprecation")?console.trace(ed):console.warn(ed),eg=!0}return eu.apply(this,arguments)}}function eb(eu){try{if(!eg.g.localStorage)return!1}catch(eu){return!1}var ed=eg.g.localStorage[eu];return null!=ed&&"true"===String(ed).toLowerCase()}eu.exports=em},10082:function(eu){eu.exports=function(eu){return eu&&"object"==typeof eu&&"function"==typeof eu.copy&&"function"==typeof eu.fill&&"function"==typeof eu.readUInt8}},54895:function(eu,ed,eg){"use strict";var em=eg(52635),eb=eg(43138),ew=eg(32094),e_=eg(50198);function eE(eu){return eu.call.bind(eu)}var eA="undefined"!=typeof BigInt,eS="undefined"!=typeof Symbol,eI=eE(Object.prototype.toString),eC=eE(Number.prototype.valueOf),eM=eE(String.prototype.valueOf),eO=eE(Boolean.prototype.valueOf);if(eA)var eT=eE(BigInt.prototype.valueOf);if(eS)var eP=eE(Symbol.prototype.valueOf);function eN(eu,ed){if("object"!=typeof eu)return!1;try{return ed(eu),!0}catch(eu){return!1}}function ek(eu){return"undefined"!=typeof Promise&&eu instanceof Promise||null!==eu&&"object"==typeof eu&&"function"==typeof eu.then&&"function"==typeof eu.catch}function eR(eu){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(eu):e_(eu)||e7(eu)}function eD(eu){return"Uint8Array"===ew(eu)}function eB(eu){return"Uint8ClampedArray"===ew(eu)}function eU(eu){return"Uint16Array"===ew(eu)}function eL(eu){return"Uint32Array"===ew(eu)}function ej(eu){return"Int8Array"===ew(eu)}function eF(eu){return"Int16Array"===ew(eu)}function e$(eu){return"Int32Array"===ew(eu)}function eK(eu){return"Float32Array"===ew(eu)}function eH(eu){return"Float64Array"===ew(eu)}function eV(eu){return"BigInt64Array"===ew(eu)}function eG(eu){return"BigUint64Array"===ew(eu)}function eW(eu){return"[object Map]"===eI(eu)}function eJ(eu){return"undefined"!=typeof Map&&(eW.working?eW(eu):eu instanceof Map)}function eZ(eu){return"[object Set]"===eI(eu)}function eY(eu){return"undefined"!=typeof Set&&(eZ.working?eZ(eu):eu instanceof Set)}function eX(eu){return"[object WeakMap]"===eI(eu)}function eQ(eu){return"undefined"!=typeof WeakMap&&(eX.working?eX(eu):eu instanceof WeakMap)}function e0(eu){return"[object WeakSet]"===eI(eu)}function e6(eu){return e0(eu)}function e8(eu){return"[object ArrayBuffer]"===eI(eu)}function e5(eu){return"undefined"!=typeof ArrayBuffer&&(e8.working?e8(eu):eu instanceof ArrayBuffer)}function e9(eu){return"[object DataView]"===eI(eu)}function e7(eu){return"undefined"!=typeof DataView&&(e9.working?e9(eu):eu instanceof DataView)}ed.isArgumentsObject=em,ed.isGeneratorFunction=eb,ed.isTypedArray=e_,ed.isPromise=ek,ed.isArrayBufferView=eR,ed.isUint8Array=eD,ed.isUint8ClampedArray=eB,ed.isUint16Array=eU,ed.isUint32Array=eL,ed.isInt8Array=ej,ed.isInt16Array=eF,ed.isInt32Array=e$,ed.isFloat32Array=eK,ed.isFloat64Array=eH,ed.isBigInt64Array=eV,ed.isBigUint64Array=eG,eW.working="undefined"!=typeof Map&&eW(new Map),ed.isMap=eJ,eZ.working="undefined"!=typeof Set&&eZ(new Set),ed.isSet=eY,eX.working="undefined"!=typeof WeakMap&&eX(new WeakMap),ed.isWeakMap=eQ,e0.working="undefined"!=typeof WeakSet&&e0(new WeakSet),ed.isWeakSet=e6,e8.working="undefined"!=typeof ArrayBuffer&&e8(new ArrayBuffer),ed.isArrayBuffer=e5,e9.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&e9(new DataView(new ArrayBuffer(1),0,1)),ed.isDataView=e7;var tu="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function th(eu){return"[object SharedArrayBuffer]"===eI(eu)}function td(eu){return void 0!==tu&&(void 0===th.working&&(th.working=th(new tu)),th.working?th(eu):eu instanceof tu)}function tg(eu){return"[object AsyncFunction]"===eI(eu)}function ty(eu){return"[object Map Iterator]"===eI(eu)}function tb(eu){return"[object Set Iterator]"===eI(eu)}function tw(eu){return"[object Generator]"===eI(eu)}function t_(eu){return"[object WebAssembly.Module]"===eI(eu)}function tE(eu){return eN(eu,eC)}function tA(eu){return eN(eu,eM)}function tS(eu){return eN(eu,eO)}function tI(eu){return eA&&eN(eu,eT)}function tC(eu){return eS&&eN(eu,eP)}function tO(eu){return tE(eu)||tA(eu)||tS(eu)||tI(eu)||tC(eu)}function tT(eu){return"undefined"!=typeof Uint8Array&&(e5(eu)||td(eu))}ed.isSharedArrayBuffer=td,ed.isAsyncFunction=tg,ed.isMapIterator=ty,ed.isSetIterator=tb,ed.isGeneratorObject=tw,ed.isWebAssemblyCompiledModule=t_,ed.isNumberObject=tE,ed.isStringObject=tA,ed.isBooleanObject=tS,ed.isBigIntObject=tI,ed.isSymbolObject=tC,ed.isBoxedPrimitive=tO,ed.isAnyArrayBuffer=tT,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(eu){Object.defineProperty(ed,eu,{enumerable:!1,value:function(){throw Error(eu+" is not supported in userland")}})})},43335:function(eu,ed,eg){var em=eg(34406),eb=Object.getOwnPropertyDescriptors||function(eu){for(var ed=Object.keys(eu),eg={},em=0;em<ed.length;em++)eg[ed[em]]=Object.getOwnPropertyDescriptor(eu,ed[em]);return eg},ew=/%[sdj%]/g;ed.format=function(eu){if(!eF(eu)){for(var ed=[],eg=0;eg<arguments.length;eg++)ed.push(eS(arguments[eg]));return ed.join(" ")}for(var eg=1,em=arguments,eb=em.length,e_=String(eu).replace(ew,function(eu){if("%%"===eu)return"%";if(eg>=eb)return eu;switch(eu){case"%s":return String(em[eg++]);case"%d":return Number(em[eg++]);case"%j":try{return JSON.stringify(em[eg++])}catch(eu){return"[Circular]"}default:return eu}}),eE=em[eg];eg<eb;eE=em[++eg])eU(eE)||!eV(eE)?e_+=" "+eE:e_+=" "+eS(eE);return e_},ed.deprecate=function(eu,eg){if(void 0!==em&&!0===em.noDeprecation)return eu;if(void 0===em)return function(){return ed.deprecate(eu,eg).apply(this,arguments)};var eb=!1;return function(){if(!eb){if(em.throwDeprecation)throw Error(eg);em.traceDeprecation?console.trace(eg):console.error(eg),eb=!0}return eu.apply(this,arguments)}};var e_={},eE=/^$/;if(em.env.NODE_DEBUG){var eA=em.env.NODE_DEBUG;eE=RegExp("^"+(eA=eA.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase())+"$","i")}function eS(eu,eg){var em={seen:[],stylize:eC};return arguments.length>=3&&(em.depth=arguments[2]),arguments.length>=4&&(em.colors=arguments[3]),eB(eg)?em.showHidden=eg:eg&&ed._extend(em,eg),eK(em.showHidden)&&(em.showHidden=!1),eK(em.depth)&&(em.depth=2),eK(em.colors)&&(em.colors=!1),eK(em.customInspect)&&(em.customInspect=!0),em.colors&&(em.stylize=eI),eO(em,eu,em.depth)}function eI(eu,ed){var eg=eS.styles[ed];return eg?"\x1b["+eS.colors[eg][0]+"m"+eu+"\x1b["+eS.colors[eg][1]+"m":eu}function eC(eu,ed){return eu}function eM(eu){var ed={};return eu.forEach(function(eu,eg){ed[eu]=!0}),ed}function eO(eu,eg,em){if(eu.customInspect&&eg&&eJ(eg.inspect)&&eg.inspect!==ed.inspect&&!(eg.constructor&&eg.constructor.prototype===eg)){var eb,ew=eg.inspect(em,eu);return eF(ew)||(ew=eO(eu,ew,em)),ew}var e_=eT(eu,eg);if(e_)return e_;var eE=Object.keys(eg),eA=eM(eE);if(eu.showHidden&&(eE=Object.getOwnPropertyNames(eg)),eW(eg)&&(eE.indexOf("message")>=0||eE.indexOf("description")>=0))return eP(eg);if(0===eE.length){if(eJ(eg)){var eS=eg.name?": "+eg.name:"";return eu.stylize("[Function"+eS+"]","special")}if(eH(eg))return eu.stylize(RegExp.prototype.toString.call(eg),"regexp");if(eG(eg))return eu.stylize(Date.prototype.toString.call(eg),"date");if(eW(eg))return eP(eg)}var eI="",eC=!1,eB=["{","}"];return(eD(eg)&&(eC=!0,eB=["[","]"]),eJ(eg)&&(eI=" [Function"+(eg.name?": "+eg.name:"")+"]"),eH(eg)&&(eI=" "+RegExp.prototype.toString.call(eg)),eG(eg)&&(eI=" "+Date.prototype.toUTCString.call(eg)),eW(eg)&&(eI=" "+eP(eg)),0!==eE.length||eC&&0!=eg.length)?em<0?eH(eg)?eu.stylize(RegExp.prototype.toString.call(eg),"regexp"):eu.stylize("[Object]","special"):(eu.seen.push(eg),eb=eC?eN(eu,eg,em,eA,eE):eE.map(function(ed){return ek(eu,eg,em,eA,ed,eC)}),eu.seen.pop(),eR(eb,eI,eB)):eB[0]+eI+eB[1]}function eT(eu,ed){if(eK(ed))return eu.stylize("undefined","undefined");if(eF(ed)){var eg="'"+JSON.stringify(ed).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return eu.stylize(eg,"string")}return ej(ed)?eu.stylize(""+ed,"number"):eB(ed)?eu.stylize(""+ed,"boolean"):eU(ed)?eu.stylize("null","null"):void 0}function eP(eu){return"["+Error.prototype.toString.call(eu)+"]"}function eN(eu,ed,eg,em,eb){for(var ew=[],e_=0,eE=ed.length;e_<eE;++e_)e6(ed,String(e_))?ew.push(ek(eu,ed,eg,em,String(e_),!0)):ew.push("");return eb.forEach(function(eb){eb.match(/^\d+$/)||ew.push(ek(eu,ed,eg,em,eb,!0))}),ew}function ek(eu,ed,eg,em,eb,ew){var e_,eE,eA;if((eA=Object.getOwnPropertyDescriptor(ed,eb)||{value:ed[eb]}).get?eE=eA.set?eu.stylize("[Getter/Setter]","special"):eu.stylize("[Getter]","special"):eA.set&&(eE=eu.stylize("[Setter]","special")),e6(em,eb)||(e_="["+eb+"]"),!eE&&(0>eu.seen.indexOf(eA.value)?(eE=eU(eg)?eO(eu,eA.value,null):eO(eu,eA.value,eg-1)).indexOf("\n")>-1&&(eE=ew?eE.split("\n").map(function(eu){return"  "+eu}).join("\n").slice(2):"\n"+eE.split("\n").map(function(eu){return"   "+eu}).join("\n")):eE=eu.stylize("[Circular]","special")),eK(e_)){if(ew&&eb.match(/^\d+$/))return eE;(e_=JSON.stringify(""+eb)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(e_=e_.slice(1,-1),e_=eu.stylize(e_,"name")):(e_=e_.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),e_=eu.stylize(e_,"string"))}return e_+": "+eE}function eR(eu,ed,eg){var em=0;return eu.reduce(function(eu,ed){return em++,ed.indexOf("\n")>=0&&em++,eu+ed.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?eg[0]+(""===ed?"":ed+"\n ")+" "+eu.join(",\n  ")+" "+eg[1]:eg[0]+ed+" "+eu.join(", ")+" "+eg[1]}function eD(eu){return Array.isArray(eu)}function eB(eu){return"boolean"==typeof eu}function eU(eu){return null===eu}function eL(eu){return null==eu}function ej(eu){return"number"==typeof eu}function eF(eu){return"string"==typeof eu}function e$(eu){return"symbol"==typeof eu}function eK(eu){return void 0===eu}function eH(eu){return eV(eu)&&"[object RegExp]"===eY(eu)}function eV(eu){return"object"==typeof eu&&null!==eu}function eG(eu){return eV(eu)&&"[object Date]"===eY(eu)}function eW(eu){return eV(eu)&&("[object Error]"===eY(eu)||eu instanceof Error)}function eJ(eu){return"function"==typeof eu}function eZ(eu){return null===eu||"boolean"==typeof eu||"number"==typeof eu||"string"==typeof eu||"symbol"==typeof eu||void 0===eu}function eY(eu){return Object.prototype.toString.call(eu)}function eX(eu){return eu<10?"0"+eu.toString(10):eu.toString(10)}ed.debuglog=function(eu){if(!e_[eu=eu.toUpperCase()]){if(eE.test(eu)){var eg=em.pid;e_[eu]=function(){var em=ed.format.apply(ed,arguments);console.error("%s %d: %s",eu,eg,em)}}else e_[eu]=function(){}}return e_[eu]},ed.inspect=eS,eS.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},eS.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},ed.types=eg(54895),ed.isArray=eD,ed.isBoolean=eB,ed.isNull=eU,ed.isNullOrUndefined=eL,ed.isNumber=ej,ed.isString=eF,ed.isSymbol=e$,ed.isUndefined=eK,ed.isRegExp=eH,ed.types.isRegExp=eH,ed.isObject=eV,ed.isDate=eG,ed.types.isDate=eG,ed.isError=eW,ed.types.isNativeError=eW,ed.isFunction=eJ,ed.isPrimitive=eZ,ed.isBuffer=eg(10082);var eQ=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function e0(){var eu=new Date,ed=[eX(eu.getHours()),eX(eu.getMinutes()),eX(eu.getSeconds())].join(":");return[eu.getDate(),eQ[eu.getMonth()],ed].join(" ")}function e6(eu,ed){return Object.prototype.hasOwnProperty.call(eu,ed)}ed.log=function(){console.log("%s - %s",e0(),ed.format.apply(ed,arguments))},ed.inherits=eg(91285),ed._extend=function(eu,ed){if(!ed||!eV(ed))return eu;for(var eg=Object.keys(ed),em=eg.length;em--;)eu[eg[em]]=ed[eg[em]];return eu};var e8="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function e5(eu,ed){if(!eu){var eg=Error("Promise was rejected with a falsy value");eg.reason=eu,eu=eg}return ed(eu)}function e9(eu){if("function"!=typeof eu)throw TypeError('The "original" argument must be of type Function');function ed(){for(var ed=[],eg=0;eg<arguments.length;eg++)ed.push(arguments[eg]);var eb=ed.pop();if("function"!=typeof eb)throw TypeError("The last argument must be of type Function");var ew=this,e_=function(){return eb.apply(ew,arguments)};eu.apply(this,ed).then(function(eu){em.nextTick(e_.bind(null,null,eu))},function(eu){em.nextTick(e5.bind(null,eu,e_))})}return Object.setPrototypeOf(ed,Object.getPrototypeOf(eu)),Object.defineProperties(ed,eb(eu)),ed}ed.promisify=function(eu){if("function"!=typeof eu)throw TypeError('The "original" argument must be of type Function');if(e8&&eu[e8]){var ed=eu[e8];if("function"!=typeof ed)throw TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(ed,e8,{value:ed,enumerable:!1,writable:!1,configurable:!0}),ed}function ed(){for(var ed,eg,em=new Promise(function(eu,em){ed=eu,eg=em}),eb=[],ew=0;ew<arguments.length;ew++)eb.push(arguments[ew]);eb.push(function(eu,em){eu?eg(eu):ed(em)});try{eu.apply(this,eb)}catch(eu){eg(eu)}return em}return Object.setPrototypeOf(ed,Object.getPrototypeOf(eu)),e8&&Object.defineProperty(ed,e8,{value:ed,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(ed,eb(eu))},ed.promisify.custom=e8,ed.callbackify=e9},32094:function(eu,ed,eg){"use strict";var em=eg(83243),eb=eg(62191),ew=eg(89429),e_=eg(8435),eE=eg(50326),eA=eg(21750),eS=e_("Object.prototype.toString"),eI=eg(67226)(),eC="undefined"==typeof globalThis?eg.g:globalThis,eM=eb(),eO=e_("String.prototype.slice"),eT=e_("Array.prototype.indexOf",!0)||function(eu,ed){for(var eg=0;eg<eu.length;eg+=1)if(eu[eg]===ed)return eg;return -1},eP={__proto__:null};eI&&eE&&eA?em(eM,function(eu){var ed=new eC[eu];if(Symbol.toStringTag in ed&&eA){var eg=eA(ed),em=eE(eg,Symbol.toStringTag);!em&&eg&&(em=eE(eA(eg),Symbol.toStringTag)),eP["$"+eu]=ew(em.get)}}):em(eM,function(eu){var ed=new eC[eu],eg=ed.slice||ed.set;eg&&(eP["$"+eu]=ew(eg))});var eN=function(eu){var ed=!1;return em(eP,function(eg,em){if(!ed)try{"$"+eg(eu)===em&&(ed=eO(em,1))}catch(eu){}}),ed},ek=function(eu){var ed=!1;return em(eP,function(eg,em){if(!ed)try{eg(eu),ed=eO(em,1)}catch(eu){}}),ed};eu.exports=function(eu){if(!eu||"object"!=typeof eu)return!1;if(!eI){var ed=eO(eS(eu),8,-1);return eT(eM,ed)>-1?ed:"Object"===ed&&ek(eu)}return eE?eN(eu):null}},51960:function(eu){eu.exports=eg;var ed=Object.prototype.hasOwnProperty;function eg(){for(var eu={},eg=0;eg<arguments.length;eg++){var em=arguments[eg];for(var eb in em)ed.call(em,eb)&&(eu[eb]=em[eb])}return eu}},74686:function(eu,ed,eg){"use strict";var em=eg(48834).Buffer,eb=this&&this.__createBinding||(Object.create?function(eu,ed,eg,em){void 0===em&&(em=eg);var eb=Object.getOwnPropertyDescriptor(ed,eg);(!eb||("get"in eb?!ed.__esModule:eb.writable||eb.configurable))&&(eb={enumerable:!0,get:function(){return ed[eg]}}),Object.defineProperty(eu,em,eb)}:function(eu,ed,eg,em){void 0===em&&(em=eg),eu[em]=ed[eg]}),ew=this&&this.__setModuleDefault||(Object.create?function(eu,ed){Object.defineProperty(eu,"default",{enumerable:!0,value:ed})}:function(eu,ed){eu.default=ed}),e_=this&&this.__importStar||function(eu){if(eu&&eu.__esModule)return eu;var ed={};if(null!=eu)for(var eg in eu)"default"!==eg&&Object.prototype.hasOwnProperty.call(eu,eg)&&eb(ed,eu,eg);return ew(ed,eu),ed},eE=this&&this.__importDefault||function(eu){return eu&&eu.__esModule?eu:{default:eu}};Object.defineProperty(ed,"__esModule",{value:!0}),ed.authPayloadSchema=ed.AuthPayload=void 0,ed.verifySignature=eM;let eA=e_(eg(66066)),eS=eE(eg(28552)),eI=eg(23132);class eC{message;recipient;nonce;callbackUrl;tag;constructor({message:eu,nonce:ed,recipient:eg}){this.tag=2147484061,this.message=eu,this.nonce=ed,this.recipient=eg}}function eM(eu,eg){let eb=new eC(eu),ew=eA.serialize(ed.authPayloadSchema,eb),e_=Uint8Array.from(eS.default.sha256.array(ew)),eE=new Uint8Array(em.from(eg.signature,"base64")),eM=eI.PublicKey.from(eg.publicKey);return eM.verify(e_,eE)}ed.AuthPayload=eC,ed.authPayloadSchema={struct:{tag:"u32",message:"string",nonce:{array:{type:"u8",len:32}},recipient:"string",callbackUrl:{option:"string"}}}},93709:function(eu,ed,eg){"use strict";var em=eg(48834).Buffer,eb=this&&this.__importDefault||function(eu){return eu&&eu.__esModule?eu:{default:eu}};Object.defineProperty(ed,"__esModule",{value:!0}),ed.createRequest=ed.computeRequestId=ed.deleteRequest=ed.getResponse=ed.proxyApi=void 0;let ew=eb(eg(61961)),e_=eb(eg(89005)),eE=eg(8721);ed.proxyApi="https://h4n.app";let eA=async eu=>{let eg=await fetch(`${ed.proxyApi}/${eu}/response`,{headers:{"content-type":"application/json"},method:"GET"});if(!1===eg.ok)throw Error(await eg.text());let{data:em}=await eg.json();return JSON.parse(em)};ed.getResponse=eA;let eS=async eu=>{let eg=await fetch(`${ed.proxyApi}/${eu}`,{headers:{"content-type":"application/json"},method:"DELETE"});if(!1===eg.ok)throw Error(await eg.text())};ed.deleteRequest=eS;let eI=async eu=>{let ed=(0,eE.baseEncode)(JSON.stringify({...eu,_id:(0,e_.default)()})),eg=(0,ew.default)(ed),eb=em.from(eg,"hex").toString("base64"),eA=eb.replaceAll("/","_").replaceAll("-","+").slice(0,13);return{requestId:eA,query:ed}};ed.computeRequestId=eI;let eC=async(eu,eg)=>{let{query:em,requestId:eb}=await (0,ed.computeRequestId)(eu),ew=await fetch(`${ed.proxyApi}/${eb}/request`,{body:JSON.stringify({data:em}),headers:{"content-type":"application/json"},method:"POST",signal:eg});if(!1===ew.ok)throw Error(await ew.text());return eb};ed.createRequest=eC},67056:function(eu,ed,eg){"use strict";let em;var eb=this&&this.__importDefault||function(eu){return eu&&eu.__esModule?eu:{default:eu}};Object.defineProperty(ed,"__esModule",{value:!0}),ed.RequestFailed=ed.wait=void 0;let ew=eb(eg(89005)),e_=eg(8721),eE=eg(93709),eA=eu=>new Promise(ed=>setTimeout(ed,eu));ed.wait=eA;class eS extends Error{payload;name="RequestFailed";constructor(eu){super(),this.payload=eu}}ed.RequestFailed=eS,"undefined"!=typeof window&&window.addEventListener("message",eu=>{"hot-close"===eu.data&&(em?.remove(),em=void 0)});let eI=eu=>{em?.remove(),em=document.createElement("div");let ed=document.createElement("iframe");return em?.appendChild(ed),ed.src=eu,ed.allow="usb",ed.style.border="none",ed.style.borderRadius="16px",ed.style.background="#fff",ed.style.overflow="hidden",ed.style.background="#1D1F20",ed.style.border="1px solid #2C3034",ed.style.width="375px",ed.style.height="560px",em.style.padding="16px",em.style.zIndex="100000000000000",em.style.position="fixed",em.style.display="flex",em.style.justifyContent="center",em.style.alignItems="center",em.style.top="0",em.style.left="0",em.style.width="100%",em.style.height="100%",em.style.background="rgba(0, 0, 0, 0.1)",em.style.backdropFilter="blur(24px)",document.body.appendChild(em),em};class eC{walletId="https://t.me/herewalletbot/app";ancestorOrigins=["http://localhost:1234","https://my.herewallet.app","https://tgapp-dev.herewallet.app","https://tgapp.herewallet.app","https://beta.herewallet.app"];connection=new Promise(eu=>{if("undefined"==typeof window||window?.self===window?.top)return eu(null);this.injectedRequest("initialized",{}).then(eu).catch(()=>eu(null))});get isInjected(){return"undefined"!=typeof window&&(null!=window.hotExtension?window.hotExtension.autoRun:this.ancestorOrigins.includes(window.location.ancestorOrigins?.[0]))}openInHotBrowserUrl=null;toggleOpenInHotBrowser(eu){this.openInHotBrowserUrl=eu}customProvider;setupEthProvider(eu){this.customProvider=eu}async injectedRequest(eu,ed){let eg=(0,ew.default)();return new Promise((em,eb)=>{let ew=eu=>{if(eu.data.id===eg)return(window?.removeEventListener("message",ew),eu.data.success)?em(eu.data.payload):eb(eu.data.payload)};window?.parent.postMessage({$hot:!0,method:eu,request:ed,id:eg},"*"),window?.addEventListener("message",ew)})}subscribe(eu,ed){return window.hotExtension?window.hotExtension.subscribe(eu,ed):()=>{}}async request(eu,eg){if(null!=window.hotExtension)return window.hotExtension.request(eu,eg);if(this.isInjected)return this.injectedRequest(eu,eg);let eb=(0,ew.default)(),eA=window?.Telegram?.WebApp,eC=await (0,eE.createRequest)({inside:!!this.openInHotBrowserUrl||"ethereum"===eu&&null==this.customProvider,origin:"string"==typeof this.openInHotBrowserUrl?this.openInHotBrowserUrl:location.href,$hot:!0,method:eu,request:eg,id:eb}),eM=`${this.walletId}?startapp=hotconnect-${(0,e_.baseEncode)(eC)}`;if(eA)eA?.openTelegramLink(eM);else{let eu="https://hot-labs.org/hot-widget/index.html";eI(`${eu}?hotconnect-${(0,e_.baseEncode)(eC)}`)}let eO=async()=>{await (0,ed.wait)(3e3);let eu=await (0,eE.getResponse)(eC).catch(()=>null);if(null==eu)return await eO();if(eu.success)return eu.payload;throw new eS(eu.payload)},eT=await eO();return em?.remove(),eT}}ed.default=new eC},26940:function(eu,ed,eg){"use strict";var em=this&&this.__importDefault||function(eu){return eu&&eu.__esModule?eu:{default:eu}};Object.defineProperty(ed,"__esModule",{value:!0}),ed.RequestFailed=ed.HOT=ed.authPayloadSchema=ed.AuthPayload=ed.verifySignature=void 0;var eb=eg(74686);Object.defineProperty(ed,"verifySignature",{enumerable:!0,get:function(){return eb.verifySignature}}),Object.defineProperty(ed,"AuthPayload",{enumerable:!0,get:function(){return eb.AuthPayload}}),Object.defineProperty(ed,"authPayloadSchema",{enumerable:!0,get:function(){return eb.authPayloadSchema}});var ew=eg(67056);Object.defineProperty(ed,"HOT",{enumerable:!0,get:function(){return em(ew).default}}),Object.defineProperty(ed,"RequestFailed",{enumerable:!0,get:function(){return ew.RequestFailed}})},1338:function(eu,ed){"use strict";var eg;Object.defineProperty(ed,"__esModule",{value:!0}),ed.KeySize=ed.KeyType=void 0,function(eu){eu[eu.ED25519=0]="ED25519",eu[eu.SECP256K1=1]="SECP256K1"}(eg||(ed.KeyType=eg={})),ed.KeySize={SECRET_KEY:32,ED25519_PUBLIC_KEY:32,SECP256k1_PUBLIC_KEY:64}},23132:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.PublicKey=ed.KeyPairSecp256k1=ed.KeyPairEd25519=ed.KeyPair=ed.KeyType=void 0;var em=eg(1338);Object.defineProperty(ed,"KeyType",{enumerable:!0,get:function(){return em.KeyType}});var eb=eg(65037);Object.defineProperty(ed,"KeyPair",{enumerable:!0,get:function(){return eb.KeyPair}});var ew=eg(58211);Object.defineProperty(ed,"KeyPairEd25519",{enumerable:!0,get:function(){return ew.KeyPairEd25519}});var e_=eg(10476);Object.defineProperty(ed,"KeyPairSecp256k1",{enumerable:!0,get:function(){return e_.KeyPairSecp256k1}});var eE=eg(86910);Object.defineProperty(ed,"PublicKey",{enumerable:!0,get:function(){return eE.PublicKey}})},65037:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.KeyPair=void 0;let em=eg(31916),eb=eg(58211),ew=eg(10476);class e_ extends em.KeyPairBase{static fromRandom(eu){switch(eu.toUpperCase()){case"ED25519":return eb.KeyPairEd25519.fromRandom();case"SECP256K1":return ew.KeyPairSecp256k1.fromRandom();default:throw Error(`Unknown curve ${eu}`)}}static fromString(eu){let ed=eu.split(":");if(2===ed.length)switch(ed[0].toUpperCase()){case"ED25519":return new eb.KeyPairEd25519(ed[1]);case"SECP256K1":return new ew.KeyPairSecp256k1(ed[1]);default:throw Error(`Unknown curve: ${ed[0]}`)}else throw Error("Invalid encoded key format, must be <curve>:<encoded key>")}}ed.KeyPair=e_},31916:function(eu,ed){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.KeyPairBase=void 0;class eg{}ed.KeyPairBase=eg},58211:function(eu,ed,eg){"use strict";var em=this&&this.__importDefault||function(eu){return eu&&eu.__esModule?eu:{default:eu}};Object.defineProperty(ed,"__esModule",{value:!0}),ed.KeyPairEd25519=void 0;let eb=eg(8721),ew=eg(16836),e_=em(eg(95003)),eE=eg(1338),eA=eg(31916),eS=eg(86910);class eI extends eA.KeyPairBase{publicKey;secretKey;extendedSecretKey;constructor(eu){super();let ed=(0,eb.baseDecode)(eu),eg=new Uint8Array(ed.slice(0,eE.KeySize.SECRET_KEY)),em=ew.ed25519.getPublicKey(new Uint8Array(eg));this.publicKey=new eS.PublicKey({keyType:eE.KeyType.ED25519,data:em}),this.secretKey=(0,eb.baseEncode)(eg),this.extendedSecretKey=eu}static fromRandom(){let eu=(0,e_.default)(eE.KeySize.SECRET_KEY),ed=ew.ed25519.getPublicKey(new Uint8Array(eu)),eg=new Uint8Array([...eu,...ed]);return new eI((0,eb.baseEncode)(eg))}sign(eu){let ed=ew.ed25519.sign(eu,(0,eb.baseDecode)(this.secretKey));return{signature:ed,publicKey:this.publicKey}}verify(eu,ed){return this.publicKey.verify(eu,ed)}toString(){return`ed25519:${this.extendedSecretKey}`}getPublicKey(){return this.publicKey}}ed.KeyPairEd25519=eI},10476:function(eu,ed,eg){"use strict";var em=this&&this.__importDefault||function(eu){return eu&&eu.__esModule?eu:{default:eu}};Object.defineProperty(ed,"__esModule",{value:!0}),ed.KeyPairSecp256k1=void 0;let eb=eg(8721),ew=em(eg(95003)),e_=em(eg(97637)),eE=eg(1338),eA=eg(31916),eS=eg(86910);class eI extends eA.KeyPairBase{publicKey;secretKey;extendedSecretKey;constructor(eu){super();let ed=(0,eb.baseDecode)(eu),eg=new Uint8Array(ed.slice(0,eE.KeySize.SECRET_KEY)),em=e_.default.publicKeyCreate(new Uint8Array(eg),!1),ew=em.subarray(1,em.length);this.publicKey=new eS.PublicKey({keyType:eE.KeyType.SECP256K1,data:ew}),this.secretKey=(0,eb.baseEncode)(eg),this.extendedSecretKey=eu}static fromRandom(){let eu=(0,ew.default)(eE.KeySize.SECRET_KEY),ed=e_.default.publicKeyCreate(new Uint8Array(eu),!1),eg=ed.subarray(1,ed.length),em=new Uint8Array([...eu,...eg]);return new eI((0,eb.baseEncode)(em))}sign(eu){let{signature:ed,recid:eg}=e_.default.ecdsaSign(eu,(0,eb.baseDecode)(this.secretKey));return{signature:new Uint8Array([...ed,eg]),publicKey:this.publicKey}}verify(eu,ed){return this.publicKey.verify(eu,ed)}toString(){return`secp256k1:${this.extendedSecretKey}`}getPublicKey(){return this.publicKey}}ed.KeyPairSecp256k1=eI},86910:function(eu,ed,eg){"use strict";var em=this&&this.__importDefault||function(eu){return eu&&eu.__esModule?eu:{default:eu}};Object.defineProperty(ed,"__esModule",{value:!0}),ed.PublicKey=void 0;let eb=eg(8721),ew=eg(16836),e_=em(eg(97637)),eE=eg(1338);function eA(eu){switch(eu){case eE.KeyType.ED25519:return"ed25519";case eE.KeyType.SECP256K1:return"secp256k1";default:throw Error(`Unknown key type ${eu}`)}}function eS(eu){switch(eu.toLowerCase()){case"ed25519":return eE.KeyType.ED25519;case"secp256k1":return eE.KeyType.SECP256K1;default:throw Error(`Unknown key type ${eu}`)}}function eI(eu){switch(eu){case eE.KeyType.ED25519:return"ed25519Key";case eE.KeyType.SECP256K1:return"secp256k1Key";default:throw Error(`unknown type ${eu}`)}}class eC{constructor(eu){if(1!==Object.keys(eu).length)throw Error("Enum can only take single value");Object.keys(eu).map(ed=>{this[ed]=eu[ed]})}}class eM extends eC{enum;ed25519Key;secp256k1Key;constructor(eu){let ed=eI(eu.keyType);super({[ed]:eu}),this[ed]=eu,this.enum=ed}static from(eu){return"string"==typeof eu?eM.fromString(eu):eu}static fromString(eu){let ed,eg;let em=eu.split(":");if(1===em.length)ed=em[0];else if(2===em.length)ed=em[1],eg=eS(em[0]);else throw Error("Invalid encoded key format, must be <curve>:<encoded key>");let ew=(0,eb.baseDecode)(ed);eg||(eg=ew.length===eE.KeySize.SECP256k1_PUBLIC_KEY?eE.KeyType.SECP256K1:eE.KeyType.ED25519);let e_=eg===eE.KeyType.ED25519?eE.KeySize.ED25519_PUBLIC_KEY:eE.KeySize.SECP256k1_PUBLIC_KEY;if(ew.length!==e_)throw Error(`Invalid public key size (${ew.length}), must be ${e_}`);return new eM({keyType:eg,data:ew})}toString(){let eu=(0,eb.baseEncode)(this.data);return`${eA(this.keyType)}:${eu}`}verify(eu,ed){let eg=this.keyType,em=this.data;switch(eg){case eE.KeyType.ED25519:return ew.ed25519.verify(ed,eu,em);case eE.KeyType.SECP256K1:return e_.default.ecdsaVerify(ed.subarray(0,64),eu,new Uint8Array([4,...em]));default:throw Error(`Unknown key type: ${eg}`)}}get keyPair(){return this.ed25519Key||this.secp256k1Key}get keyType(){return this.keyPair.keyType}get data(){return this.keyPair.data}}ed.PublicKey=eM},36881:function(eu,ed){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.Assignable=void 0;class eg{constructor(eu){Object.keys(eu).map(ed=>{this[ed]=eu[ed]})}}ed.Assignable=eg},30905:function(eu,ed){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.Enum=void 0;class eg{constructor(eu){if(1!==Object.keys(eu).length)throw Error("Enum can only take single value");Object.keys(eu).map(ed=>{this[ed]=eu[ed]})}}ed.Enum=eg},86538:function(eu,ed){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.ErrorContext=ed.TypedError=ed.ArgumentTypeError=ed.PositionalArgsError=void 0;class eg extends Error{constructor(){super("Contract method calls expect named arguments wrapped in object, e.g. { argName1: argValue1, argName2: argValue2 }")}}ed.PositionalArgsError=eg;class em extends Error{constructor(eu,ed,eg){super(`Expected ${ed} for '${eu}' argument, but got '${JSON.stringify(eg)}'`)}}ed.ArgumentTypeError=em;class eb extends Error{type;context;constructor(eu,ed,eg){super(eu),this.type=ed||"UntypedError",this.context=eg}}ed.TypedError=eb;class ew{transactionHash;constructor(eu){this.transactionHash=eu}}ed.ErrorContext=ew},45608:function(eu,ed,eg){"use strict";var em=this&&this.__createBinding||(Object.create?function(eu,ed,eg,em){void 0===em&&(em=eg);var eb=Object.getOwnPropertyDescriptor(ed,eg);(!eb||("get"in eb?!ed.__esModule:eb.writable||eb.configurable))&&(eb={enumerable:!0,get:function(){return ed[eg]}}),Object.defineProperty(eu,em,eb)}:function(eu,ed,eg,em){void 0===em&&(em=eg),eu[em]=ed[eg]}),eb=this&&this.__exportStar||function(eu,ed){for(var eg in eu)"default"===eg||Object.prototype.hasOwnProperty.call(ed,eg)||em(ed,eu,eg)};Object.defineProperty(ed,"__esModule",{value:!0}),eb(eg(36881),ed),eb(eg(30905),ed),eb(eg(86538),ed),eb(eg(38685),ed)},38685:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.FinalExecutionStatusBasic=ed.ExecutionStatusBasic=ed.IdType=void 0;var em=eg(75881);Object.defineProperty(ed,"IdType",{enumerable:!0,get:function(){return em.IdType}});var eb=eg(62810);Object.defineProperty(ed,"ExecutionStatusBasic",{enumerable:!0,get:function(){return eb.ExecutionStatusBasic}}),Object.defineProperty(ed,"FinalExecutionStatusBasic",{enumerable:!0,get:function(){return eb.FinalExecutionStatusBasic}})},75881:function(eu,ed){"use strict";var eg;Object.defineProperty(ed,"__esModule",{value:!0}),ed.IdType=void 0,function(eu){eu.Transaction="transaction",eu.Receipt="receipt"}(eg||(ed.IdType=eg={}))},62810:function(eu,ed){"use strict";var eg,em;Object.defineProperty(ed,"__esModule",{value:!0}),ed.FinalExecutionStatusBasic=ed.ExecutionStatusBasic=void 0,function(eu){eu.Unknown="Unknown",eu.Pending="Pending",eu.Failure="Failure"}(eg||(ed.ExecutionStatusBasic=eg={})),function(eu){eu.NotStarted="NotStarted",eu.Started="Started",eu.Failure="Failure"}(em||(ed.FinalExecutionStatusBasic=em={}))},27883:function(eu,ed){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.DEFAULT_FUNCTION_CALL_GAS=void 0,ed.DEFAULT_FUNCTION_CALL_GAS=30000000000000n},16208:function(eu,ed,eg){"use strict";var em=this&&this.__importDefault||function(eu){return eu&&eu.__esModule?eu:{default:eu}};Object.defineProperty(ed,"__esModule",{value:!0}),ed.ErrorMessages=void 0;let eb=em(eg(83973));ed.ErrorMessages=eb.default},57878:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.parseRpcError=ed.parseResultError=ed.getErrorTypeFromErrorMessage=ed.formatError=ed.ServerError=ed.ErrorMessages=void 0;var em=eg(16208);Object.defineProperty(ed,"ErrorMessages",{enumerable:!0,get:function(){return em.ErrorMessages}});var eb=eg(70256);Object.defineProperty(ed,"ServerError",{enumerable:!0,get:function(){return eb.ServerError}}),Object.defineProperty(ed,"formatError",{enumerable:!0,get:function(){return eb.formatError}}),Object.defineProperty(ed,"getErrorTypeFromErrorMessage",{enumerable:!0,get:function(){return eb.getErrorTypeFromErrorMessage}}),Object.defineProperty(ed,"parseResultError",{enumerable:!0,get:function(){return eb.parseResultError}}),Object.defineProperty(ed,"parseRpcError",{enumerable:!0,get:function(){return eb.parseRpcError}})},70256:function(eu,ed,eg){"use strict";var em=this&&this.__importDefault||function(eu){return eu&&eu.__esModule?eu:{default:eu}};Object.defineProperty(ed,"__esModule",{value:!0}),ed.getErrorTypeFromErrorMessage=ed.formatError=ed.parseResultError=ed.parseRpcError=ed.ServerError=void 0;let eb=eg(45608),ew=em(eg(16599)),e_=eg(84849),eE=eg(16208),eA=em(eg(64763)),eS={formatNear:()=>(eu,ed)=>(0,e_.formatNearAmount)(ed(eu))};class eI extends eb.TypedError{}ed.ServerError=eI;class eC extends eI{transaction_outcome}function eM(eu){let ed={},eg=eP(eu,eA.default.schema,ed,""),em=new eI(eT(eg,ed),eg);return Object.assign(em,ed),em}function eO(eu){let ed=eM(eu.status.Failure),eg=new eC;return Object.assign(eg,ed),eg.type=ed.type,eg.message=ed.message,eg.transaction_outcome=eu.transaction_outcome,eg}function eT(eu,ed){return"string"==typeof eE.ErrorMessages[eu]?ew.default.render(eE.ErrorMessages[eu],{...ed,...eS}):JSON.stringify(ed)}function eP(eu,ed,eg,em){let eb,ew,e_;for(let eg in ed){if(eR(eu[eg]))return eu[eg];if(ek(eu[eg]))eb=eu[eg],ew=ed[eg],e_=eg;else{if(!(ek(eu.kind)&&ek(eu.kind[eg])))continue;eb=eu.kind[eg],ew=ed[eg],e_=eg}}if(!eb||!ew)return eg.kind=eu,em;for(let eu of Object.keys(ew.props))eg[eu]=eb[eu];return eP(eb,ed,eg,e_)}function eN(eu,ed){switch(!0){case/^account .*? does not exist while viewing$/.test(eu):case/^Account .*? doesn't exist$/.test(eu):return"AccountDoesNotExist";case/^access key .*? does not exist while viewing$/.test(eu):return"AccessKeyDoesNotExist";case/wasm execution failed with error: FunctionCallError\(CompilationError\(CodeDoesNotExist/.test(eu):case/wasm execution failed with error: CompilationError\(CodeDoesNotExist/.test(eu):return"CodeDoesNotExist";case/wasm execution failed with error: FunctionCallError\(MethodResolveError\(MethodNotFound/.test(eu):case/wasm execution failed with error: MethodResolveError\(MethodNotFound/.test(eu):return"MethodNotFound";case/Transaction nonce \d+ must be larger than nonce of the used access key \d+/.test(eu):return"InvalidNonce";default:return ed}}function ek(eu){return"[object Object]"===Object.prototype.toString.call(eu)}function eR(eu){return"[object String]"===Object.prototype.toString.call(eu)}ed.parseRpcError=eM,ed.parseResultError=eO,ed.formatError=eT,ed.getErrorTypeFromErrorMessage=eN},84849:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.baseDecode=ed.baseEncode=ed.parseNearAmount=ed.formatNearAmount=ed.NEAR_NOMINATION=ed.NEAR_NOMINATION_EXP=void 0;let em=eg(36237);ed.NEAR_NOMINATION_EXP=24,ed.NEAR_NOMINATION=10n**BigInt(ed.NEAR_NOMINATION_EXP);let eb=[],ew=10n;for(let eu=0,eg=5n;eu<ed.NEAR_NOMINATION_EXP;eu++,eg*=ew)eb[eu]=eg;function e_(eu,eg=ed.NEAR_NOMINATION_EXP){let em=BigInt(eu);if(eg!==ed.NEAR_NOMINATION_EXP){let eu=ed.NEAR_NOMINATION_EXP-eg-1;eu>0&&(em+=eb[eu])}eu=em.toString();let ew=eu.substring(0,eu.length-ed.NEAR_NOMINATION_EXP)||"0",e_=eu.substring(eu.length-ed.NEAR_NOMINATION_EXP).padStart(ed.NEAR_NOMINATION_EXP,"0").substring(0,eg);return eS(`${eC(ew)}.${e_}`)}function eE(eu){if(!eu)return null;eu=eA(eu);let eg=eu.split("."),em=eg[0],eb=eg[1]||"";if(eg.length>2||eb.length>ed.NEAR_NOMINATION_EXP)throw Error(`Cannot parse '${eu}' as NEAR amount`);return eI(em+eb.padEnd(ed.NEAR_NOMINATION_EXP,"0"))}function eA(eu){return eu.replace(/,/g,"").trim()}function eS(eu){return eu.replace(/\.?0*$/,"")}function eI(eu){return""===(eu=eu.replace(/^0+/,""))?"0":eu}function eC(eu){let ed=/(-?\d+)(\d{3})/;for(;ed.test(eu);)eu=eu.replace(ed,"$1,$2");return eu}function eM(eu){if("string"==typeof eu){let ed=[];for(let eg=0;eg<eu.length;eg++)ed.push(eu.charCodeAt(eg));eu=new Uint8Array(ed)}return em.base58.encode(eu)}function eO(eu){return em.base58.decode(eu)}ed.formatNearAmount=e_,ed.parseNearAmount=eE,ed.baseEncode=eM,ed.baseDecode=eO},8721:function(eu,ed,eg){"use strict";var em=this&&this.__createBinding||(Object.create?function(eu,ed,eg,em){void 0===em&&(em=eg);var eb=Object.getOwnPropertyDescriptor(ed,eg);(!eb||("get"in eb?!ed.__esModule:eb.writable||eb.configurable))&&(eb={enumerable:!0,get:function(){return ed[eg]}}),Object.defineProperty(eu,em,eb)}:function(eu,ed,eg,em){void 0===em&&(em=eg),eu[em]=ed[eg]}),eb=this&&this.__exportStar||function(eu,ed){for(var eg in eu)"default"===eg||Object.prototype.hasOwnProperty.call(ed,eg)||em(ed,eu,eg)};Object.defineProperty(ed,"__esModule",{value:!0}),eb(eg(27883),ed),eb(eg(57878),ed),eb(eg(84849),ed),eb(eg(72489),ed),eb(eg(89319),ed),eb(eg(2759),ed),eb(eg(24814),ed),eb(eg(43470),ed)},39399:function(eu,ed){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.ConsoleLogger=void 0;class eg{logLevels;constructor(eu){this.logLevels=eu}isLevelEnabled=eu=>this.logLevels.includes(eu);print(eu,ed,...eg){switch(eu){case"error":case"fatal":return console.error(ed,...eg);case"warn":return console.warn(ed,...eg);case"log":return console.log(ed,...eg);case"debug":case"verbose":return console.debug(ed,...eg)}}verbose(eu,...ed){this.isLevelEnabled("verbose")&&this.print("verbose",eu,...ed)}debug(eu,...ed){this.isLevelEnabled("debug")&&this.print("debug",eu,...ed)}log(eu,...ed){this.isLevelEnabled("log")&&this.print("log",eu,...ed)}warn(eu,...ed){this.isLevelEnabled("warn")&&this.print("warn",eu,...ed)}error(eu,...ed){this.isLevelEnabled("error")&&this.print("error",eu,...ed)}fatal(eu,...ed){this.isLevelEnabled("fatal")&&this.print("fatal",eu,...ed)}}ed.ConsoleLogger=eg},24814:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.Logger=ed.ConsoleLogger=void 0;var em=eg(39399);Object.defineProperty(ed,"ConsoleLogger",{enumerable:!0,get:function(){return em.ConsoleLogger}});var eb=eg(56907);Object.defineProperty(ed,"Logger",{enumerable:!0,get:function(){return eb.Logger}})},56907:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.Logger=void 0;let em=eg(39399),eb=["verbose","debug","log","warn","error","fatal"],ew=new em.ConsoleLogger(eb);class e_{static instanceRef=ew;static overrideLogger=eu=>{this.instanceRef=eu};static error(eu,...ed){this.instanceRef?.error(eu,...ed)}static log(eu,...ed){this.instanceRef?.log(eu,...ed)}static warn(eu,...ed){this.instanceRef?.warn(eu,...ed)}static debug(eu,...ed){this.instanceRef?.debug?.(eu,...ed)}static verbose(eu,...ed){this.instanceRef?.verbose?.(eu,...ed)}static fatal(eu,...ed){this.instanceRef?.fatal?.(eu,...ed)}}ed.Logger=e_},72489:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.printTxOutcomeLogs=ed.printTxOutcomeLogsAndFailures=void 0;let em=eg(57878),eb=eg(24814);function ew({contractId:eu,outcome:ed}){let eg=[ed.transaction_outcome,...ed.receipts_outcome].reduce((eu,ed)=>{let eg="object"==typeof ed.outcome.status&&"object"==typeof ed.outcome.status.Failure;return ed.outcome.logs.length||eg?eu.concat({receiptIds:ed.outcome.receipt_ids,logs:ed.outcome.logs,failure:"object"==typeof ed.outcome.status&&void 0!==ed.outcome.status.Failure?(0,em.parseRpcError)(ed.outcome.status.Failure):null}):eu},[]);for(let ed of eg)eb.Logger.log(`Receipt${ed.receiptIds.length>1?"s":""}: ${ed.receiptIds.join(", ")}`),e_({contractId:eu,logs:ed.logs,prefix:"	"}),ed.failure&&eb.Logger.warn(`	Failure [${eu}]: ${ed.failure}`)}function e_({contractId:eu,logs:ed,prefix:eg=""}){for(let em of ed)eb.Logger.log(`${eg}Log [${eu}]: ${em}`)}ed.printTxOutcomeLogsAndFailures=ew,ed.printTxOutcomeLogs=e_},89319:function(eu,ed,eg){"use strict";var em=eg(48834).Buffer;function eb(eu){if("object"==typeof eu.status&&"string"==typeof eu.status.SuccessValue){let ed=em.from(eu.status.SuccessValue,"base64").toString();try{return JSON.parse(ed)}catch(eu){return ed}}return null}Object.defineProperty(ed,"__esModule",{value:!0}),ed.getTransactionLastResult=void 0,ed.getTransactionLastResult=eb},43470:function(eu,ed){"use strict";function eg(eu,ed){return eu<ed?-1:eu>ed?1:0}Object.defineProperty(ed,"__esModule",{value:!0}),ed.sortBigIntAsc=void 0,ed.sortBigIntAsc=eg},2759:function(eu,ed,eg){"use strict";var em=this&&this.__importDefault||function(eu){return eu&&eu.__esModule?eu:{default:eu}};Object.defineProperty(ed,"__esModule",{value:!0}),ed.diffEpochValidators=ed.findSeatPrice=void 0;let eb=em(eg(64410)),ew=eg(43470);function e_(eu,ed,eg,em){if(em&&em<49)return eE(eu,ed);if(!eg){let eu=(0,eb.default)("findSeatPrice(validators, maxNumberOfSeats)");eu("`use `findSeatPrice(validators, maxNumberOfSeats, minimumStakeRatio)` instead"),eg=[1,6250]}return eA(eu,ed,eg)}function eE(eu,ed){let eg=eu.map(eu=>BigInt(eu.stake)).sort(ew.sortBigIntAsc),em=BigInt(ed),eb=eg.reduce((eu,ed)=>eu+ed);if(eb<em)throw Error("Stakes are below seats");let e_=1n,eE=eb+1n;for(;e_!==eE-1n;){let eu=(e_+eE)/2n,ed=!1,eb=0n;for(let ew=0;ew<eg.length;++ew)if((eb+=eg[ew]/eu)>=em){e_=eu,ed=!0;break}ed||(eE=eu)}return e_}function eA(eu,ed,eg){if(2!=eg.length)throw Error("minimumStakeRatio should have 2 elements");let em=eu.map(eu=>BigInt(eu.stake)).sort(ew.sortBigIntAsc),eb=em.reduce((eu,ed)=>eu+ed);return eu.length<ed?eb*BigInt(eg[0])/BigInt(eg[1]):em[0]+1n}function eS(eu,ed){let eg=new Map;eu.forEach(eu=>eg.set(eu.account_id,eu));let em=new Set(ed.map(eu=>eu.account_id));return{newValidators:ed.filter(eu=>!eg.has(eu.account_id)),removedValidators:eu.filter(eu=>!em.has(eu.account_id)),changedValidators:ed.filter(eu=>eg.has(eu.account_id)&&eg.get(eu.account_id).stake!=eu.stake).map(eu=>({current:eg.get(eu.account_id),next:eu}))}}ed.findSeatPrice=e_,ed.diffEpochValidators=eS},24123:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.WalletConnection=ed.ConnectedWalletAccount=ed.Near=void 0;var em=eg(3360);Object.defineProperty(ed,"Near",{enumerable:!0,get:function(){return em.Near}});var eb=eg(54268);Object.defineProperty(ed,"ConnectedWalletAccount",{enumerable:!0,get:function(){return eb.ConnectedWalletAccount}}),Object.defineProperty(ed,"WalletConnection",{enumerable:!0,get:function(){return eb.WalletConnection}})},3360:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.Near=void 0;let em=eg(35272);class eb{config;connection;accountCreator;constructor(eu){if(this.config=eu,this.connection=em.Connection.fromConfig({networkId:eu.networkId,provider:eu.provider||{type:"JsonRpcProvider",args:{url:eu.nodeUrl,headers:eu.headers}},signer:eu.signer||{type:"InMemorySigner",keyStore:eu.keyStore||eu.deps?.keyStore},jsvmAccountId:eu.jsvmAccountId||`jsvm.${eu.networkId}`}),eu.masterAccount){let ed=eu.initialBalance?BigInt(eu.initialBalance):0x19d971e4fe8401e74000000n;this.accountCreator=new em.LocalAccountCreator(new em.Account(this.connection,eu.masterAccount),ed)}else eu.helperUrl?this.accountCreator=new em.UrlAccountCreator(this.connection,eu.helperUrl):this.accountCreator=null}async account(eu){let ed=new em.Account(this.connection,eu);return ed}async createAccount(eu,ed){if(!this.accountCreator)throw Error("Must specify account creator, either via masterAccount or helperUrl configuration settings.");return await this.accountCreator.createAccount(eu,ed),new em.Account(this.connection,eu)}}ed.Near=eb},54268:function(eu,ed,eg){"use strict";var em=eg(48834).Buffer;Object.defineProperty(ed,"__esModule",{value:!0}),ed.ConnectedWalletAccount=ed.WalletConnection=void 0;let eb=eg(35272),ew=eg(8704),e_=eg(50690),eE=eg(98744),eA=eg(54543),eS="/login/",eI="add_request_and_confirm",eC="_wallet_auth_key",eM="pending_key";class eO{_walletBaseUrl;_authDataKey;_keyStore;_authData;_networkId;_near;_connectedAccount;_completeSignInPromise;constructor(eu,ed){if("string"!=typeof ed)throw Error("Please define a clear appKeyPrefix for this WalletConnection instance as the second argument to the constructor");if("undefined"==typeof window)return new Proxy(this,{get:(eu,ed)=>"isSignedIn"===ed?()=>!1:"getAccountId"===ed?()=>"":eu[ed]&&"function"==typeof eu[ed]?()=>{throw Error("No window found in context, please ensure you are using WalletConnection on the browser")}:eu[ed]});this._near=eu;let eg=ed+eC,em=JSON.parse(window.localStorage.getItem(eg));this._networkId=eu.config.networkId,this._walletBaseUrl=eu.config.walletUrl,ed=ed||eu.config.contractName||"default",this._keyStore=eu.connection.signer.keyStore,this._authData=em||{allKeys:[]},this._authDataKey=eg,this.isSignedIn()||(this._completeSignInPromise=this._completeSignInWithAccessKey())}isSignedIn(){return!!this._authData.accountId}async isSignedInAsync(){return this._completeSignInPromise&&await this._completeSignInPromise,this.isSignedIn()}getAccountId(){return this._authData.accountId||""}async requestSignInUrl({contractId:eu,methodNames:ed,successUrl:eg,failureUrl:em,keyType:eb="ed25519"}){let e_=new URL(window.location.href),eE=new URL(this._walletBaseUrl+eS);if(eE.searchParams.set("success_url",eg||e_.href),eE.searchParams.set("failure_url",em||e_.href),eu){let ed=await this._near.account(eu);await ed.state(),eE.searchParams.set("contract_id",eu);let eg=ew.KeyPair.fromRandom(eb);eE.searchParams.set("public_key",eg.getPublicKey().toString()),await this._keyStore.setKey(this._networkId,eM+eg.getPublicKey(),eg)}return ed&&ed.forEach(eu=>{eE.searchParams.append("methodNames",eu)}),eE.toString()}async requestSignIn(eu){let ed=await this.requestSignInUrl(eu);window.location.assign(ed)}requestSignTransactionsUrl({transactions:eu,meta:ed,callbackUrl:eg}){let eb=new URL(window.location.href),ew=new URL("sign",this._walletBaseUrl);return ew.searchParams.set("transactions",eu.map(eu=>(0,eA.serialize)(eE.SCHEMA.Transaction,eu)).map(eu=>em.from(eu).toString("base64")).join(",")),ew.searchParams.set("callbackUrl",eg||eb.href),ed&&ew.searchParams.set("meta",ed),ew.toString()}requestSignTransactions(eu){let ed=this.requestSignTransactionsUrl(eu);window.location.assign(ed)}async _completeSignInWithAccessKey(){let eu=new URL(window.location.href),ed=eu.searchParams.get("public_key")||"",eg=(eu.searchParams.get("all_keys")||"").split(","),em=eu.searchParams.get("account_id")||"";if(em){let eu={accountId:em,allKeys:eg};window.localStorage.setItem(this._authDataKey,JSON.stringify(eu)),ed&&await this._moveKeyFromTempToPermanent(em,ed),this._authData=eu}eu.searchParams.delete("public_key"),eu.searchParams.delete("all_keys"),eu.searchParams.delete("account_id"),eu.searchParams.delete("meta"),eu.searchParams.delete("transactionHashes"),window.history.replaceState({},document.title,eu.toString())}async _moveKeyFromTempToPermanent(eu,ed){let eg=await this._keyStore.getKey(this._networkId,eM+ed);await this._keyStore.setKey(this._networkId,eu,eg),await this._keyStore.removeKey(this._networkId,eM+ed)}signOut(){this._authData={},window.localStorage.removeItem(this._authDataKey)}account(){return this._connectedAccount||(this._connectedAccount=new eT(this,this._near.connection,this._authData.accountId)),this._connectedAccount}}ed.WalletConnection=eO;class eT extends eb.Account{walletConnection;constructor(eu,ed,eg){super(ed,eg),this.walletConnection=eu}async signAndSendTransaction({receiverId:eu,actions:ed,walletMeta:eg,walletCallbackUrl:em=window.location.href}){let eb=await this.connection.signer.getPublicKey(this.accountId,this.connection.networkId),eA=await this.accessKeyForTransaction(eu,ed,eb);if(!eA)throw Error(`Cannot find matching key for transaction sent to ${eu}`);if(eb&&eb.toString()===eA.public_key)try{return await super.signAndSendTransaction({receiverId:eu,actions:ed})}catch(eg){if("NotEnoughAllowance"===eg.type)eA=await this.accessKeyForTransaction(eu,ed);else throw eg}let eS=await this.connection.provider.block({finality:"final"}),eI=(0,e_.baseDecode)(eS.header.hash),eC=ew.PublicKey.from(eA.public_key),eM=eA.access_key.nonce+1n,eO=(0,eE.createTransaction)(this.accountId,eC,eu,eM,ed,eI);return await this.walletConnection.requestSignTransactions({transactions:[eO],meta:eg,callbackUrl:em}),new Promise((eu,ed)=>{setTimeout(()=>{ed(Error("Failed to redirect to sign transaction"))},1e3)})}async accessKeyMatchesTransaction(eu,ed,eg){let{access_key:{permission:em}}=eu;if("FullAccess"===em)return!0;if(em.FunctionCall){let{receiver_id:eu,method_names:eb}=em.FunctionCall;if(eu===this.accountId&&eb.includes(eI))return!0;if(eu===ed){if(1!==eg.length)return!1;let[{functionCall:eu}]=eg;return eu&&(!eu.deposit||"0"===eu.deposit.toString())&&(0===eb.length||eb.includes(eu.methodName))}}return!1}async accessKeyForTransaction(eu,ed,eg){let em=await this.getAccessKeys();if(eg){let eb=em.find(eu=>eu.public_key.toString()===eg.toString());if(eb&&await this.accessKeyMatchesTransaction(eb,eu,ed))return eb}let eb=this.walletConnection._authData.allKeys;for(let eg of em)if(-1!==eb.indexOf(eg.public_key)&&await this.accessKeyMatchesTransaction(eg,eu,ed))return eg;return null}}ed.ConnectedWalletAccount=eT},67017:function(eu,ed,eg){"use strict";var em=eg(48834).Buffer;Object.defineProperty(ed,"__esModule",{value:!0}),ed.Account=void 0;let eb=eg(8704),ew=eg(32274),e_=eg(98744),eE=eg(46915),eA=eg(50690),eS=eg(51690),{addKey:eI,createAccount:eC,deleteAccount:eM,deleteKey:eO,deployContract:eT,fullAccessKey:eP,functionCall:eN,functionCallAccessKey:ek,stake:eR,transfer:eD}=e_.actionCreators,eB=12,eU=500,eL=1.5;class ej{connection;accountId;constructor(eu,ed){this.connection=eu,this.accountId=ed}getConnection(){return this.connection}async state(){return this.connection.provider.query({request_type:"view_account",account_id:this.accountId,finality:"optimistic"})}async signTransaction(eu,ed){let eg=await this.findAccessKey(eu,ed);if(!eg)throw new eE.TypedError(`Can not sign transactions for account ${this.accountId} on network ${this.connection.networkId}, no matching key pair exists for this account`,"KeyNotFound");let{accessKey:em}=eg,eb=await this.connection.provider.block({finality:"final"}),ew=eb.header.hash,eS=em.nonce+1n;return await (0,e_.signTransaction)(eu,eS,ed,(0,eA.baseDecode)(ew),this.connection.signer,this.accountId,this.connection.networkId)}async signAndSendTransaction({receiverId:eu,actions:ed,returnError:eg}){let em,eb;let e_=await (0,ew.exponentialBackoff)(eU,eB,eL,async()=>{[em,eb]=await this.signTransaction(eu,ed);let eg=eb.transaction.publicKey;try{return await this.connection.provider.sendTransaction(eb)}catch(ed){if("InvalidNonce"===ed.type)return eA.Logger.warn(`Retrying transaction ${eu}:${(0,eA.baseEncode)(em)} with new nonce.`),delete this.accessKeyByPublicKeyCache[eg.toString()],null;if("Expired"===ed.type)return eA.Logger.warn(`Retrying transaction ${eu}:${(0,eA.baseEncode)(em)} due to expired block hash`),null;throw ed.context=new eE.ErrorContext((0,eA.baseEncode)(em)),ed}});if(!e_)throw new eE.TypedError("nonce retries exceeded for transaction. This usually means there are too many parallel requests with the same access key.","RetriesExceeded");if((0,eA.printTxOutcomeLogsAndFailures)({contractId:eb.transaction.receiverId,outcome:e_}),!eg&&"object"==typeof e_.status&&"object"==typeof e_.status.Failure&&null!==e_.status.Failure){if(e_.status.Failure.error_message&&e_.status.Failure.error_type)throw new eE.TypedError(`Transaction ${e_.transaction_outcome.id} failed. ${e_.status.Failure.error_message}`,e_.status.Failure.error_type);throw(0,eA.parseResultError)(e_)}return e_}accessKeyByPublicKeyCache={};async findAccessKey(eu,ed){let eg=await this.connection.signer.getPublicKey(this.accountId,this.connection.networkId);if(!eg)throw new eE.TypedError(`no matching key pair found in ${this.connection.signer}`,"PublicKeyNotFound");let em=this.accessKeyByPublicKeyCache[eg.toString()];if(void 0!==em)return{publicKey:eg,accessKey:em};try{let eu=await this.connection.provider.query({request_type:"view_access_key",account_id:this.accountId,public_key:eg.toString(),finality:"optimistic"}),ed={...eu,nonce:BigInt(eu.nonce||0)};if(this.accessKeyByPublicKeyCache[eg.toString()])return{publicKey:eg,accessKey:this.accessKeyByPublicKeyCache[eg.toString()]};return this.accessKeyByPublicKeyCache[eg.toString()]=ed,{publicKey:eg,accessKey:ed}}catch(eu){if("AccessKeyDoesNotExist"==eu.type)return null;throw eu}}async createAndDeployContract(eu,ed,eg,em){let ew=eP();await this.signAndSendTransaction({receiverId:eu,actions:[eC(),eD(em),eI(eb.PublicKey.from(ed),ew),eT(eg)]});let e_=new ej(this.connection,eu);return e_}async sendMoney(eu,ed){return this.signAndSendTransaction({receiverId:eu,actions:[eD(ed)]})}async createAccount(eu,ed,eg){let em=eP();return this.signAndSendTransaction({receiverId:eu,actions:[eC(),eD(eg),eI(eb.PublicKey.from(ed),em)]})}async deleteAccount(eu){return eA.Logger.log("Deleting an account does not automatically transfer NFTs and FTs to the beneficiary address. Ensure to transfer assets before deleting."),this.signAndSendTransaction({receiverId:this.accountId,actions:[eM(eu)]})}async deployContract(eu){return this.signAndSendTransaction({receiverId:this.accountId,actions:[eT(eu)]})}encodeJSContractArgs(eu,ed,eg){return em.concat([em.from(eu),em.from([0]),em.from(ed),em.from([0]),em.from(eg)])}async functionCall({contractId:eu,methodName:ed,args:eg={},gas:em=eA.DEFAULT_FUNCTION_CALL_GAS,attachedDeposit:eb,walletMeta:ew,walletCallbackUrl:eE,stringify:eS,jsContract:eI}){let eC;if(this.validateArgs(eg),eI){let ew=this.encodeJSContractArgs(eu,ed,JSON.stringify(eg));eC=["call_js_contract",ew,em,eb,null,!0]}else{let eu=void 0===eS?e_.stringifyJsonOrBytes:eS;eC=[ed,eg,em,eb,eu,!1]}return this.signAndSendTransaction({receiverId:eI?this.connection.jsvmAccountId:eu,actions:[eN.apply(void 0,eC)],walletMeta:ew,walletCallbackUrl:eE})}async addKey(eu,ed,eg,em){let ew;return eg||(eg=[]),Array.isArray(eg)||(eg=[eg]),ew=ed?ek(ed,eg,em):eP(),this.signAndSendTransaction({receiverId:this.accountId,actions:[eI(eb.PublicKey.from(eu),ew)]})}async deleteKey(eu){return this.signAndSendTransaction({receiverId:this.accountId,actions:[eO(eb.PublicKey.from(eu))]})}async stake(eu,ed){return this.signAndSendTransaction({receiverId:this.accountId,actions:[eR(ed,eb.PublicKey.from(eu))]})}async signedDelegate({actions:eu,blockHeightTtl:ed,receiverId:eg}){let{provider:em,signer:eb}=this.connection,{header:ew}=await em.block({finality:"final"}),{accessKey:eE,publicKey:eA}=await this.findAccessKey(null,null),eS=(0,e_.buildDelegateAction)({actions:eu,maxBlockHeight:BigInt(ew.height)+BigInt(ed),nonce:BigInt(eE.nonce)+1n,publicKey:eA,receiverId:eg,senderId:this.accountId}),{signedDelegateAction:eI}=await (0,e_.signDelegateAction)({delegateAction:eS,signer:{sign:async eu=>{let{signature:ed}=await eb.signMessage(eu,eS.senderId,this.connection.networkId);return ed}}});return eI}validateArgs(eu){let ed=void 0!==eu.byteLength&&eu.byteLength===eu.length;if(!ed&&(Array.isArray(eu)||"object"!=typeof eu))throw new eE.PositionalArgsError}async viewFunction(eu){return await (0,eS.viewFunction)(this.connection,eu)}async viewState(eu,ed={finality:"optimistic"}){return await (0,eS.viewState)(this.connection,this.accountId,eu,ed)}async getAccessKeys(){let eu=await this.connection.provider.query({request_type:"view_access_key_list",account_id:this.accountId,finality:"optimistic"});return eu?.keys?.map(eu=>({...eu,access_key:{...eu.access_key,nonce:BigInt(eu.access_key.nonce)}}))}async getAccountDetails(){let eu=await this.getAccessKeys(),ed=eu.filter(eu=>"FullAccess"!==eu.access_key.permission).map(eu=>{let ed=eu.access_key.permission;return{contractId:ed.FunctionCall.receiver_id,amount:ed.FunctionCall.allowance,publicKey:eu.public_key}});return{authorizedApps:ed}}async getAccountBalance(){let eu=await this.connection.provider.experimental_protocolConfig({finality:"final"}),ed=await this.state(),eg=BigInt(eu.runtime_config.storage_amount_per_byte),em=BigInt(ed.storage_usage)*eg,eb=BigInt(ed.locked),ew=BigInt(ed.amount)+eb,e_=ew-(eb>em?eb:em);return{total:ew.toString(),stateStaked:em.toString(),staked:eb.toString(),available:e_.toString()}}async getActiveDelegatedStakeBalance(){let eu=await this.connection.provider.block({finality:"final"}),ed=eu.header.hash,eg=eu.header.epoch_id,{current_validators:em,next_validators:eb,current_proposals:ew}=await this.connection.provider.validators(eg),e_=new Set;[...em,...eb,...ew].forEach(eu=>e_.add(eu.account_id));let eE=[...e_],eA=eE.map(eu=>this.viewFunction({contractId:eu,methodName:"get_account_total_balance",args:{account_id:this.accountId},blockQuery:{blockId:ed}})),eS=await Promise.allSettled(eA),eI=eS.some(eu=>"rejected"===eu.status&&"TimeoutError"===eu.reason.type);if(eI)throw Error("Failed to get delegated stake balance");let eC=eS.reduce((eu,ed,eg)=>{let em=eE[eg];if("fulfilled"===ed.status){let eg=BigInt(ed.value);if(0n!==eg)return{...eu,stakedValidators:[...eu.stakedValidators,{validatorId:em,amount:eg.toString()}],total:eu.total+eg}}return"rejected"===ed.status?{...eu,failedValidators:[...eu.failedValidators,{validatorId:em,error:ed.reason}]}:eu},{stakedValidators:[],failedValidators:[],total:0n});return{...eC,total:eC.total.toString()}}}ed.Account=ej},14829:function(eu,ed,eg){"use strict";var em=eg(48834).Buffer;Object.defineProperty(ed,"__esModule",{value:!0}),ed.Account2FA=void 0;let eb=eg(8704),ew=eg(46915),e_=eg(98744),eE=eg(50690),eA=eg(97889),eS=eg(20834),eI=eg(98630),{addKey:eC,deleteKey:eM,deployContract:eO,fullAccessKey:eT,functionCall:eP,functionCallAccessKey:eN}=e_.actionCreators;class ek extends eA.AccountMultisig{sendCode;getCode;verifyCode;onConfirmResult;helperUrl="https://helper.testnet.near.org";constructor(eu,ed,eg){super(eu,ed,eg),this.helperUrl=eg.helperUrl||this.helperUrl,this.storage=eg.storage,this.sendCode=eg.sendCode||this.sendCodeDefault,this.getCode=eg.getCode||this.getCodeDefault,this.verifyCode=eg.verifyCode||this.verifyCodeDefault,this.onConfirmResult=eg.onConfirmResult}async signAndSendTransaction({receiverId:eu,actions:ed}){await super.signAndSendTransaction({receiverId:eu,actions:ed}),await this.sendCode();let eg=await this.promptAndVerify();return this.onConfirmResult&&await this.onConfirmResult(eg),eg}async deployMultisig(eu){let{accountId:ed}=this,eg=(await this.getRecoveryMethods()).data.filter(({kind:eu,publicKey:ed})=>("phrase"===eu||"ledger"===eu)&&null!==ed).map(eu=>eu.publicKey),eb=(await this.getAccessKeys()).filter(({public_key:eu,access_key:{permission:ed}})=>"FullAccess"===ed&&!eg.includes(eu)).map(eu=>eu.public_key).map(eR),e_=eR((await this.postSignedJson("/2fa/getAccessKey",{accountId:ed})).publicKey),eA=em.from(JSON.stringify({num_confirmations:2})),eT=[...eb.map(eu=>eM(eu)),...eb.map(eu=>eC(eu,eN(ed,eS.MULTISIG_CHANGE_METHODS,null))),eC(e_,eN(ed,eS.MULTISIG_CONFIRM_METHODS,null)),eO(eu)],ek=eT.concat(eP("new",eA,eS.MULTISIG_GAS,eS.MULTISIG_DEPOSIT));eE.Logger.log("deploying multisig contract for",ed);let{stateStatus:eD}=await this.checkMultisigCodeAndStateStatus(eu);switch(eD){case eI.MultisigStateStatus.STATE_NOT_INITIALIZED:return await super.signAndSendTransactionWithAccount(ed,ek);case eI.MultisigStateStatus.VALID_STATE:return await super.signAndSendTransactionWithAccount(ed,eT);case eI.MultisigStateStatus.INVALID_STATE:throw new ew.TypedError(`Can not deploy a contract to account ${this.accountId} on network ${this.connection.networkId}, the account has existing state.`,"ContractHasExistingState");default:throw new ew.TypedError(`Can not deploy a contract to account ${this.accountId} on network ${this.connection.networkId}, the account state could not be verified.`,"ContractStateUnknown")}}async disableWithFAK({contractBytes:eu,cleanupContractBytes:ed}){let eg=[];ed&&(await this.deleteAllRequests().catch(eu=>eu),eg=await this.get2faDisableCleanupActions(ed));let em=await this.get2faDisableKeyConversionActions(),eb=[...eg,...em,eO(eu)],e_=await this.findAccessKey(this.accountId,eb);if(e_&&e_.accessKey&&"FullAccess"!==e_.accessKey.permission)throw new ew.TypedError("No full access key found in keystore. Unable to bypass multisig","NoFAKFound");return this.signAndSendTransactionWithAccount(this.accountId,eb)}async get2faDisableCleanupActions(eu){let ed=await this.viewState("").catch(eu=>{let ed=eu.cause&&eu.cause.name;if("NO_CONTRACT_CODE"==ed)return[];throw"TOO_LARGE_CONTRACT_STATE"==ed?new ew.TypedError(`Can not deploy a contract to account ${this.accountId} on network ${this.connection.networkId}, the account has existing state.`,"ContractHasExistingState"):eu}),eg=ed.map(({key:eu})=>eu.toString("base64"));return ed.length?[eO(eu),eP("clean",{keys:eg},eS.MULTISIG_GAS,0n)]:[]}async get2faDisableKeyConversionActions(){let{accountId:eu}=this,ed=await this.getAccessKeys(),eg=ed.filter(({access_key:eu})=>"FullAccess"!==eu.permission).filter(({access_key:ed})=>{let eg=ed.permission.FunctionCall;return eg.receiver_id===eu&&4===eg.method_names.length&&eg.method_names.includes("add_request_and_confirm")}),em=eb.PublicKey.from((await this.postSignedJson("/2fa/getAccessKey",{accountId:eu})).publicKey);return[eM(em),...eg.map(({public_key:eu})=>eM(eb.PublicKey.from(eu))),...eg.map(({public_key:eu})=>eC(eb.PublicKey.from(eu),eT()))]}async disable(eu,ed){let eg;let{stateStatus:em}=await this.checkMultisigCodeAndStateStatus();if(em!==eI.MultisigStateStatus.VALID_STATE&&em!==eI.MultisigStateStatus.STATE_NOT_INITIALIZED)throw new ew.TypedError(`Can not deploy a contract to account ${this.accountId} on network ${this.connection.networkId}, the account state could not be verified.`,"ContractStateUnknown");await this.deleteAllRequests().catch(eu=>eg=eu);let eb=await this.get2faDisableCleanupActions(ed).catch(eu=>{if("ContractHasExistingState"===eu.type)throw eg||eu;throw eu}),e_=[...eb,...await this.get2faDisableKeyConversionActions(),eO(eu)];return eE.Logger.log("disabling 2fa for",this.accountId),await this.signAndSendTransaction({receiverId:this.accountId,actions:e_})}async sendCodeDefault(){let{accountId:eu}=this,{requestId:ed}=this.getRequest(),eg=await this.get2faMethod();return await this.postSignedJson("/2fa/send",{accountId:eu,method:eg,requestId:ed}),ed}async getCodeDefault(){throw Error('There is no getCode callback provided. Please provide your own in AccountMultisig constructor options. It has a parameter method where method.kind is "email" or "phone".')}async promptAndVerify(){let eu=await this.get2faMethod(),ed=await this.getCode(eu);try{let eu=await this.verifyCode(ed);return eu}catch(eu){if(eE.Logger.warn("Error validating security code:",eu),eu.toString().includes("invalid 2fa code provided")||eu.toString().includes("2fa code not valid"))return await this.promptAndVerify();throw eu}}async verifyCodeDefault(eu){let{accountId:ed}=this,eg=this.getRequest();if(!eg)throw Error("no request pending");let{requestId:em}=eg;return await this.postSignedJson("/2fa/verify",{accountId:ed,securityCode:eu,requestId:em})}async getRecoveryMethods(){let{accountId:eu}=this;return{accountId:eu,data:await this.postSignedJson("/account/recoveryMethods",{accountId:eu})}}async get2faMethod(){let{data:eu}=await this.getRecoveryMethods();if(eu&&eu.length&&(eu=eu.find(eu=>0===eu.kind.indexOf("2fa-"))),!eu)return null;let{kind:ed,detail:eg}=eu;return{kind:ed,detail:eg}}async signatureFor(){let{accountId:eu}=this,ed=await this.connection.provider.block({finality:"final"}),eg=ed.header.height.toString(),eb=await this.connection.signer.signMessage(em.from(eg),eu,this.connection.networkId),ew=em.from(eb.signature).toString("base64");return{blockNumber:eg,blockNumberSignature:ew}}async postSignedJson(eu,ed){return await fetch(this.helperUrl+eu,{body:JSON.stringify({...ed,...await this.signatureFor()}),method:"POST"})}}ed.Account2FA=ek;let eR=eu=>eb.PublicKey.from(eu)},39785:function(eu,ed){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.UrlAccountCreator=ed.LocalAccountCreator=ed.AccountCreator=void 0;class eg{}ed.AccountCreator=eg;class em extends eg{masterAccount;initialBalance;constructor(eu,ed){super(),this.masterAccount=eu,this.initialBalance=ed}async createAccount(eu,ed){await this.masterAccount.createAccount(eu,ed,this.initialBalance)}}ed.LocalAccountCreator=em;class eb extends eg{connection;helperUrl;constructor(eu,ed){super(),this.connection=eu,this.helperUrl=ed}async createAccount(eu,ed){await fetch(`${this.helperUrl}/account`,{body:JSON.stringify({newAccountId:eu,newAccountPublicKey:ed.toString()}),method:"POST"})}}ed.UrlAccountCreator=eb},97889:function(eu,ed,eg){"use strict";var em,eb=eg(48834).Buffer;Object.defineProperty(ed,"__esModule",{value:!0}),ed.AccountMultisig=void 0;let ew=eg(98744),e_=eg(50690),eE=eg(67017),eA=eg(20834),eS=eg(98630),{deployContract:eI,functionCall:eC}=ew.actionCreators;!function(eu){eu[eu.INVALID_CODE=0]="INVALID_CODE",eu[eu.VALID_CODE=1]="VALID_CODE",eu[eu.UNKNOWN_CODE=2]="UNKNOWN_CODE"}(em||(em={}));let eM={[eA.MULTISIG_STORAGE_KEY]:null};class eO extends eE.Account{storage;onAddRequestResult;constructor(eu,ed,eg){super(eu,ed),this.storage=eg.storage,this.onAddRequestResult=eg.onAddRequestResult}async signAndSendTransactionWithAccount(eu,ed){return super.signAndSendTransaction({receiverId:eu,actions:ed})}async signAndSendTransaction({receiverId:eu,actions:ed}){let eg;let{accountId:em}=this,ew=eb.from(JSON.stringify({request:{receiver_id:eu,actions:eP(ed,em,eu)}}));try{eg=await super.signAndSendTransaction({receiverId:em,actions:[eC("add_request_and_confirm",ew,eA.MULTISIG_GAS,eA.MULTISIG_DEPOSIT)]})}catch(eg){if(eg.toString().includes("Account has too many active requests. Confirm or delete some"))return await this.deleteUnconfirmedRequests(),await this.signAndSendTransaction({receiverId:eu,actions:ed});throw eg}if(!eg.status)throw Error("Request failed");let e_={...eg.status};if(!e_.SuccessValue||"string"!=typeof e_.SuccessValue)throw Error("Request failed");return this.setRequest({accountId:em,actions:ed,requestId:parseInt(eb.from(e_.SuccessValue,"base64").toString("ascii"),10)}),this.onAddRequestResult&&await this.onAddRequestResult(eg),this.deleteUnconfirmedRequests(),eg}async checkMultisigCodeAndStateStatus(eu){let ed=4294967295,eg=eu?em.UNKNOWN_CODE:em.VALID_CODE;try{return eu?await super.signAndSendTransaction({receiverId:this.accountId,actions:[eI(eu),eC("delete_request",{request_id:ed},eA.MULTISIG_GAS,eA.MULTISIG_DEPOSIT)]}):await this.deleteRequest(ed),{codeStatus:em.VALID_CODE,stateStatus:eS.MultisigStateStatus.VALID_STATE}}catch(eu){if(new RegExp(eS.MultisigDeleteRequestRejectionError.CANNOT_DESERIALIZE_STATE).test(eu&&eu.kind&&eu.kind.ExecutionError))return{codeStatus:eg,stateStatus:eS.MultisigStateStatus.INVALID_STATE};if(new RegExp(eS.MultisigDeleteRequestRejectionError.MULTISIG_NOT_INITIALIZED).test(eu&&eu.kind&&eu.kind.ExecutionError))return{codeStatus:eg,stateStatus:eS.MultisigStateStatus.STATE_NOT_INITIALIZED};if(new RegExp(eS.MultisigDeleteRequestRejectionError.NO_SUCH_REQUEST).test(eu&&eu.kind&&eu.kind.ExecutionError))return{codeStatus:eg,stateStatus:eS.MultisigStateStatus.VALID_STATE};if(new RegExp(eS.MultisigDeleteRequestRejectionError.METHOD_NOT_FOUND).test(eu&&eu.message))return{codeStatus:em.INVALID_CODE,stateStatus:eS.MultisigStateStatus.UNKNOWN_STATE};throw eu}}deleteRequest(eu){return super.signAndSendTransaction({receiverId:this.accountId,actions:[eC("delete_request",{request_id:eu},eA.MULTISIG_GAS,eA.MULTISIG_DEPOSIT)]})}async deleteAllRequests(){let eu=await this.getRequestIds();eu.length&&await Promise.all(eu.map(eu=>this.deleteRequest(eu)))}async deleteUnconfirmedRequests(){let eu=await this.getRequestIds(),{requestId:ed}=this.getRequest();for(let eg of eu)if(eg!=ed)try{await super.signAndSendTransaction({receiverId:this.accountId,actions:[eC("delete_request",{request_id:eg},eA.MULTISIG_GAS,eA.MULTISIG_DEPOSIT)]})}catch(eu){e_.Logger.warn("Attempt to delete an earlier request before 15 minutes failed. Will try again.")}}async getRequestIds(){return this.viewFunction({contractId:this.accountId,methodName:"list_request_ids"})}getRequest(){return this.storage?JSON.parse(this.storage.getItem(eA.MULTISIG_STORAGE_KEY)||"{}"):eM[eA.MULTISIG_STORAGE_KEY]}setRequest(eu){if(this.storage)return this.storage.setItem(eA.MULTISIG_STORAGE_KEY,JSON.stringify(eu));eM[eA.MULTISIG_STORAGE_KEY]=eu}}ed.AccountMultisig=eO;let eT=eu=>eu.toString().replace("ed25519:",""),eP=(eu,ed,eg)=>eu.map(eu=>{let em=eu.enum,{gas:ew,publicKey:e_,methodName:eE,args:eS,deposit:eI,accessKey:eC,code:eM}=eu[em],eO={type:em[0].toUpperCase()+em.substr(1),gas:ew&&ew.toString()||void 0,public_key:e_&&eT(e_)||void 0,method_name:eE,args:eS&&eb.from(eS).toString("base64")||void 0,code:eM&&eb.from(eM).toString("base64")||void 0,amount:eI&&eI.toString()||void 0,deposit:eI&&eI.toString()||"0",permission:void 0};if(eC&&(eg===ed&&"fullAccess"!==eC.permission.enum&&(eO.permission={receiver_id:ed,allowance:eA.MULTISIG_ALLOWANCE.toString(),method_names:eA.MULTISIG_CHANGE_METHODS}),"functionCall"===eC.permission.enum)){let{receiverId:eu,methodNames:ed,allowance:eg}=eC.permission.functionCall;eO.permission={receiver_id:eu,allowance:eg&&eg.toString()||void 0,method_names:ed}}return eO})},70567:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.Connection=void 0;let em=eg(20302),eb=eg(32274);function ew(eu){switch(eu.type){case void 0:return eu;case"JsonRpcProvider":return new eb.JsonRpcProvider({...eu.args});case"FailoverRpcProvider":{let ed=(eu?.args||[]).map(eu=>new eb.JsonRpcProvider(eu));return new eb.FailoverRpcProvider(ed)}default:throw Error(`Unknown provider type ${eu.type}`)}}function e_(eu){switch(eu.type){case void 0:return eu;case"InMemorySigner":return new em.InMemorySigner(eu.keyStore);default:throw Error(`Unknown signer type ${eu.type}`)}}class eE{networkId;provider;signer;jsvmAccountId;constructor(eu,ed,eg,em){this.networkId=eu,this.provider=ed,this.signer=eg,this.jsvmAccountId=em}getConnection(){return this}static fromConfig(eu){let ed=ew(eu.provider),eg=e_(eu.signer);return new eE(eu.networkId,ed,eg,eu.jsvmAccountId)}}ed.Connection=eE},20834:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.MULTISIG_CONFIRM_METHODS=ed.MULTISIG_CHANGE_METHODS=ed.MULTISIG_DEPOSIT=ed.MULTISIG_GAS=ed.MULTISIG_ALLOWANCE=ed.MULTISIG_STORAGE_KEY=void 0;let em=eg(50690);ed.MULTISIG_STORAGE_KEY="__multisigRequest",ed.MULTISIG_ALLOWANCE=BigInt((0,em.parseNearAmount)("1")),ed.MULTISIG_GAS=100000000000000n,ed.MULTISIG_DEPOSIT=0n,ed.MULTISIG_CHANGE_METHODS=["add_request","add_request_and_confirm","delete_request","confirm"],ed.MULTISIG_CONFIRM_METHODS=["confirm"]},46041:function(eu,ed,eg){"use strict";var em=this&&this.__importDefault||function(eu){return eu&&eu.__esModule?eu:{default:eu}};Object.defineProperty(ed,"__esModule",{value:!0}),ed.Contract=void 0;let eb=eg(50690),ew=eg(46915),e_=eg(62473),eE=em(eg(60772)),eA=em(eg(64410)),eS=eg(14943),eI=eg(67017),eC=eg(44868),eM=eg(51690);function eO(eu,ed){return({[eu]:(...eu)=>ed(...eu)})[eu]}function eT(eu,ed,eg){if(!eN(eu))return;if(ed.params&&ed.params.serialization_type!==eS.AbiSerializationType.Json)throw new eC.UnsupportedSerializationError(ed.name,ed.params.serialization_type);if(ed.result&&ed.result.serialization_type!==eS.AbiSerializationType.Json)throw new eC.UnsupportedSerializationError(ed.name,ed.result.serialization_type);let em=ed.params?.args||[];for(let ed of em){let em=eu[ed.name],eb=ed.type_schema;eb.definitions=eg.body.root_schema.definitions;let ew=(0,eE.default)(eb),e_=ew(em);if(!e_)throw new eC.ArgumentSchemaError(ed.name,ew.errors)}for(let ed of Object.keys(eu)){let eu=em.find(eu=>eu.name===ed);if(!eu)throw new eC.UnknownArgumentError(ed,em.map(eu=>eu.name))}}let eP=eu=>eu&&void 0!==eu.byteLength&&eu.byteLength===eu.length,eN=eu=>"[object Object]"===Object.prototype.toString.call(eu);class ek{account;connection;contractId;lve;constructor(eu,ed,eg){if(this.connection=eu.getConnection(),eu instanceof eI.Account){let ed=(0,eA.default)("new Contract(account, contractId, options)");ed("use `new Contract(connection, contractId, options)` instead"),this.account=eu}this.contractId=ed,this.lve=new e_.LocalViewExecution(eu);let{viewMethods:em=[],changeMethods:eE=[],abi:ek,useLocalViewExecution:eR}=eg,eD=em.map(eu=>({name:eu,abi:null})),eB=eE.map(eu=>({name:eu,abi:null}));if(ek){if(eD.length>0||eB.length>0)throw new eC.ConflictingOptions;eD=ek.body.functions.filter(eu=>eu.kind===eS.AbiFunctionKind.View).map(eu=>({name:eu.name,abi:eu})),eB=ek.body.functions.filter(eu=>eu.kind===eS.AbiFunctionKind.Call).map(eu=>({name:eu.name,abi:eu}))}eD.forEach(({name:eu,abi:ed})=>{Object.defineProperty(this,eu,{writable:!1,enumerable:!0,value:eO(eu,async(eg={},em={},...e_)=>{if(e_.length||!(eN(eg)||eP(eg))||!eN(em))throw new ew.PositionalArgsError;if(ed&&eT(eg,ed,ek),eR)try{return await this.lve.viewFunction({contractId:this.contractId,methodName:eu,args:eg,...em})}catch(eu){eb.Logger.warn(`Local view execution failed with: "${eu.message}"`),eb.Logger.warn("Fallback to normal RPC call")}return this.account?this.account.viewFunction({contractId:this.contractId,methodName:eu,args:eg,...em}):(0,eM.viewFunction)(this.connection,{contractId:this.contractId,methodName:eu,args:eg,...em})})})}),eB.forEach(({name:eu,abi:ed})=>{Object.defineProperty(this,eu,{writable:!1,enumerable:!0,value:eO(eu,async(...eg)=>{if(eg.length&&(eg.length>3||!(eN(eg[0])||eP(eg[0]))))throw new ew.PositionalArgsError;if(eg.length>1||!(eg[0]&&eg[0].args)){let eu=(0,eA.default)("contract.methodName(args, gas, amount)");eu("use `contract.methodName({ signerAccount, args, gas?, amount?, callbackUrl?, meta? })` instead"),eg[0]={args:eg[0],gas:eg[1],amount:eg[2]}}return ed&&eT(eg[0].args,ed,ek),this._changeMethod({methodName:eu,...eg[0]})})})})}async _changeMethod({signerAccount:eu,args:ed,methodName:eg,gas:em,amount:ew,meta:e_,callbackUrl:eE}){eR({gas:em,amount:ew});let eA=this.account||eu;if(!eA)throw Error("signerAccount must be specified");let eS=await eA.functionCall({contractId:this.contractId,methodName:eg,args:ed,gas:em,attachedDeposit:ew,walletMeta:e_,walletCallbackUrl:eE});return(0,eb.getTransactionLastResult)(eS)}}function eR(eu){let ed="number, decimal string or BigInt";for(let eg of Object.keys(eu)){let em=eu[eg];if(em&&"bigint"!=typeof em&&isNaN(em))throw new ew.ArgumentTypeError(eg,ed,em)}}ed.Contract=ek},44868:function(eu,ed){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.ConflictingOptions=ed.ArgumentSchemaError=ed.UnknownArgumentError=ed.UnsupportedSerializationError=void 0;class eg extends Error{constructor(eu,ed){super(`Contract method '${eu}' is using an unsupported serialization type ${ed}`)}}ed.UnsupportedSerializationError=eg;class em extends Error{constructor(eu,ed){super(`Unrecognized argument '${eu}', expected '${JSON.stringify(ed)}'`)}}ed.UnknownArgumentError=em;class eb extends Error{constructor(eu,ed){super(`Argument '${eu}' does not conform to the specified ABI schema: '${JSON.stringify(ed)}'`)}}ed.ArgumentSchemaError=eb;class ew extends Error{constructor(){super("Conflicting contract method options have been passed. You can either specify ABI or a list of view/call methods.")}}ed.ConflictingOptions=ew},35272:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.MultisigStateStatus=ed.MultisigDeleteRequestRejectionError=ed.UnsupportedSerializationError=ed.UnknownArgumentError=ed.ConflictingOptions=ed.ArgumentSchemaError=ed.Contract=ed.MULTISIG_CONFIRM_METHODS=ed.MULTISIG_CHANGE_METHODS=ed.MULTISIG_DEPOSIT=ed.MULTISIG_GAS=ed.MULTISIG_ALLOWANCE=ed.MULTISIG_STORAGE_KEY=ed.Connection=ed.AccountMultisig=ed.UrlAccountCreator=ed.LocalAccountCreator=ed.AccountCreator=ed.Account2FA=ed.Account=void 0;var em=eg(67017);Object.defineProperty(ed,"Account",{enumerable:!0,get:function(){return em.Account}});var eb=eg(14829);Object.defineProperty(ed,"Account2FA",{enumerable:!0,get:function(){return eb.Account2FA}});var ew=eg(39785);Object.defineProperty(ed,"AccountCreator",{enumerable:!0,get:function(){return ew.AccountCreator}}),Object.defineProperty(ed,"LocalAccountCreator",{enumerable:!0,get:function(){return ew.LocalAccountCreator}}),Object.defineProperty(ed,"UrlAccountCreator",{enumerable:!0,get:function(){return ew.UrlAccountCreator}});var e_=eg(97889);Object.defineProperty(ed,"AccountMultisig",{enumerable:!0,get:function(){return e_.AccountMultisig}});var eE=eg(70567);Object.defineProperty(ed,"Connection",{enumerable:!0,get:function(){return eE.Connection}});var eA=eg(20834);Object.defineProperty(ed,"MULTISIG_STORAGE_KEY",{enumerable:!0,get:function(){return eA.MULTISIG_STORAGE_KEY}}),Object.defineProperty(ed,"MULTISIG_ALLOWANCE",{enumerable:!0,get:function(){return eA.MULTISIG_ALLOWANCE}}),Object.defineProperty(ed,"MULTISIG_GAS",{enumerable:!0,get:function(){return eA.MULTISIG_GAS}}),Object.defineProperty(ed,"MULTISIG_DEPOSIT",{enumerable:!0,get:function(){return eA.MULTISIG_DEPOSIT}}),Object.defineProperty(ed,"MULTISIG_CHANGE_METHODS",{enumerable:!0,get:function(){return eA.MULTISIG_CHANGE_METHODS}}),Object.defineProperty(ed,"MULTISIG_CONFIRM_METHODS",{enumerable:!0,get:function(){return eA.MULTISIG_CONFIRM_METHODS}});var eS=eg(46041);Object.defineProperty(ed,"Contract",{enumerable:!0,get:function(){return eS.Contract}});var eI=eg(44868);Object.defineProperty(ed,"ArgumentSchemaError",{enumerable:!0,get:function(){return eI.ArgumentSchemaError}}),Object.defineProperty(ed,"ConflictingOptions",{enumerable:!0,get:function(){return eI.ConflictingOptions}}),Object.defineProperty(ed,"UnknownArgumentError",{enumerable:!0,get:function(){return eI.UnknownArgumentError}}),Object.defineProperty(ed,"UnsupportedSerializationError",{enumerable:!0,get:function(){return eI.UnsupportedSerializationError}});var eC=eg(98630);Object.defineProperty(ed,"MultisigDeleteRequestRejectionError",{enumerable:!0,get:function(){return eC.MultisigDeleteRequestRejectionError}}),Object.defineProperty(ed,"MultisigStateStatus",{enumerable:!0,get:function(){return eC.MultisigStateStatus}})},62473:function(eu,ed,eg){"use strict";var em=eg(48834).Buffer;Object.defineProperty(ed,"__esModule",{value:!0}),ed.LocalViewExecution=void 0;let eb=eg(50690),ew=eg(73741),e_=eg(3880),eE=eg(51690);class eA{connection;storage;constructor(eu){this.connection=eu.getConnection(),this.storage=new ew.Storage}async fetchContractCode(eu,ed){let eg=await this.connection.provider.query({request_type:"view_code",account_id:eu,...ed});return eg.code_base64}async fetchContractState(eu,ed){return(0,eE.viewState)(this.connection,eu,"",ed)}async fetch(eu,ed){let eg=await this.connection.provider.block(ed),em=eg.header.hash,eb=eg.header.height,ew=eg.header.timestamp,e_=await this.fetchContractCode(eu,ed),eE=await this.fetchContractState(eu,ed);return{blockHash:em,blockHeight:eb,blockTimestamp:ew,contractCode:e_,contractState:eE}}async loadOrFetch(eu,ed){let eg=this.storage.load(ed);if(eg)return eg;let{blockHash:em,...eb}=await this.fetch(eu,ed);return this.storage.save(em,eb),eb}async viewFunction({contractId:eu,methodName:ed,args:eg={},blockQuery:ew={finality:"optimistic"}}){let eE=JSON.stringify(eg),{contractCode:eA,contractState:eS,blockHeight:eI,blockTimestamp:eC}=await this.loadOrFetch(eu,ew),eM=new e_.Runtime({contractId:eu,contractCode:eA,contractState:eS,blockHeight:eI,blockTimestamp:eC,methodArgs:eE}),{result:eO,logs:eT}=await eM.execute(ed);return eT&&(0,eb.printTxOutcomeLogs)({contractId:eu,logs:eT}),JSON.parse(em.from(eO).toString())}}ed.LocalViewExecution=eA},3880:function(eu,ed,eg){"use strict";var em=eg(48834).Buffer;Object.defineProperty(ed,"__esModule",{value:!0}),ed.Runtime=void 0;let eb=eg(96053),ew=eu=>()=>{throw Error("method not implemented: "+eu)},e_=eu=>()=>{throw Error("method not available for view calls: "+eu)};class eE{context;wasm;memory;registers;logs;result;constructor({contractCode:eu,...ed}){this.context=ed,this.wasm=this.prepareWASM(em.from(eu,"base64")),this.memory=new WebAssembly.Memory({initial:1024,maximum:2048}),this.registers={},this.logs=[],this.result=em.from([])}readUTF16CStr(eu){let ed=[],eg=new Uint16Array(this.memory.buffer),eb=Number(eu)/2;for(;0!=eg[eb];)ed.push(eg[eb]),eb++;return em.from(Uint16Array.from(ed).buffer).toString("ucs2")}readUTF8CStr(eu,ed){let eg=[],eb=new Uint8Array(this.memory.buffer),ew=Number(ed);for(let ed=0;ed<eu&&0!=eb[ew];ed++)eg.push(eb[ew]),ew++;return em.from(eg).toString("utf8")}storageRead(eu,ed){let eg=em.from(new Uint8Array(this.memory.buffer,Number(ed),Number(eu))),eb=this.context.contractState.filter(eu=>0===em.compare(eu.key,eg)).map(eu=>eu.value);return 0===eb.length?null:eb.length>1?eb:eb[0]}prepareWASM(eu){let ed=[],eg=eu.subarray(0,4);if("\x00asm"!==eg.toString("utf8"))throw Error("Invalid magic number");let eb=eu.readUInt32LE(4);if(1!=eb)throw Error("Invalid version: "+eb);let ew=8;function e_(){let ed,eg=0,em=0;do eg|=(127&(ed=eu[ew++]))<<em,em+=7;while(128&ed);return eg}function eE(){let ed=eu[ew++],eg=1&ed,em=e_(),eb=eg?e_():null;return{initial:em,max:eb}}function eA(){let ed=e_(),eg=eu.subarray(ew,ew+ed);return ew+=ed,eg.toString("utf8")}function eS(eu){let ed=[];do{let eg=127&eu;0!=(eu>>=7)&&(eg|=128),ed.push(eg)}while(0!==eu);return em.from(ed)}function eI(eu){let ed=em.from(eu,"utf8");return em.concat([eS(ed.length),ed])}ed.push(eu.subarray(0,ew));do{let eg=ew,eb=eu.readUInt8(ew);ew++;let eC=e_(),eM=ew+eC;if(5==eb)ed.push(em.from([5,1,0]));else if(2==eb){let eg=[],eb=e_();for(let ed=0;ed<eb;ed++){let ed=ew;eA(),eA();let em=eu.readUInt8(ew);ew++;let eb=!1;switch(em){case 0:e_();break;case 1:ew++,eE();break;case 2:eE(),eb=!0;break;case 3:ew++,ew++;break;default:throw Error("Invalid import kind: "+em)}eb||eg.push(eu.subarray(ed,ew))}let eC=em.concat([eI("env"),eI("memory"),em.from([2]),em.from([0]),eS(1)]);eg.push(eC);let eM=em.concat([eS(eg.length),...eg]);ed.push(em.concat([em.from([2]),eS(eM.length),eM]))}else if(7==eb){let eg=[],eb=e_();for(let ed=0;ed<eb;ed++){let ed=ew;eA();let em=eu.readUInt8(ew);ew++,e_(),2!==em&&eg.push(eu.subarray(ed,ew))}let eE=em.concat([eS(eg.length),...eg]);ed.push(em.concat([em.from([7]),eS(eE.length),eE]))}else ed.push(eu.subarray(eg,eM));ew=eM}while(ew<eu.length);return em.concat(ed)}getRegisterLength(eu){return BigInt(this.registers[eu.toString()]?this.registers[eu.toString()].length:Number.MAX_SAFE_INTEGER)}readFromRegister(eu,ed){let eg=new Uint8Array(this.memory.buffer);eg.set(this.registers[eu.toString()]||em.from([]),Number(ed))}getCurrentAccountId(eu){this.registers[eu.toString()]=em.from(this.context.contractId)}inputMethodArgs(eu){this.registers[eu.toString()]=em.from(this.context.methodArgs)}getBlockHeight(){return BigInt(this.context.blockHeight)}getBlockTimestamp(){return BigInt(this.context.blockTimestamp)}sha256(eu,ed,eg){let em=new Uint8Array(this.memory.buffer,Number(ed),Number(eu));this.registers[eg.toString()]=(0,eb.sha256)(em)}returnValue(eu,ed){this.result=em.from(new Uint8Array(this.memory.buffer,Number(ed),Number(eu)))}panic(eu){throw Error("panic: "+eu)}abort(eu,ed,eg,em){let eb=this.readUTF16CStr(eu),ew=this.readUTF16CStr(ed),e_=`${eb} ${ew}:${eg}:${em}`;if(!eb||!ew)throw Error("abort: String encoding is bad UTF-16 sequence.");throw Error("abort: "+e_)}appendToLog(eu,ed){this.logs.push(this.readUTF8CStr(eu,ed))}readStorage(eu,ed,eg){let em=this.storageRead(eu,ed);return null==em?0n:(this.registers[eg]=em,1n)}hasStorageKey(eu,ed){let eg=this.storageRead(eu,ed);return null==eg?0n:1n}getHostImports(){return{register_len:this.getRegisterLength.bind(this),read_register:this.readFromRegister.bind(this),current_account_id:this.getCurrentAccountId.bind(this),input:this.inputMethodArgs.bind(this),block_index:this.getBlockHeight.bind(this),block_timestamp:this.getBlockTimestamp.bind(this),sha256:this.sha256.bind(this),value_return:this.returnValue.bind(this),abort:this.abort.bind(this),log_utf8:this.appendToLog.bind(this),log_utf16:this.appendToLog.bind(this),storage_read:this.readStorage.bind(this),storage_has_key:this.hasStorageKey.bind(this),panic:()=>this.panic("explicit guest panic"),panic_utf8:(eu,ed)=>this.panic(this.readUTF8CStr(eu,ed)),epoch_height:ew("epoch_height"),storage_usage:ew("storage_usage"),account_balance:ew("account_balance"),account_locked_balance:ew("account_locked_balance"),random_seed:ew("random_seed"),ripemd160:ew("ripemd160"),keccak256:ew("keccak256"),keccak512:ew("keccak512"),ecrecover:ew("ecrecover"),validator_stake:ew("validator_stake"),validator_total_stake:ew("validator_total_stake"),write_register:e_("write_register"),signer_account_id:e_("signer_account_id"),signer_account_pk:e_("signer_account_pk"),predecessor_account_id:e_("predecessor_account_id"),attached_deposit:e_("attached_deposit"),prepaid_gas:e_("prepaid_gas"),used_gas:e_("used_gas"),promise_create:e_("promise_create"),promise_then:e_("promise_then"),promise_and:e_("promise_and"),promise_batch_create:e_("promise_batch_create"),promise_batch_then:e_("promise_batch_then"),promise_batch_action_create_account:e_("promise_batch_action_create_account"),promise_batch_action_deploy_contract:e_("promise_batch_action_deploy_contract"),promise_batch_action_function_call:e_("promise_batch_action_function_call"),promise_batch_action_function_call_weight:e_("promise_batch_action_function_call_weight"),promise_batch_action_transfer:e_("promise_batch_action_transfer"),promise_batch_action_stake:e_("promise_batch_action_stake"),promise_batch_action_add_key_with_full_access:e_("promise_batch_action_add_key_with_full_access"),promise_batch_action_add_key_with_function_call:e_("promise_batch_action_add_key_with_function_call"),promise_batch_action_delete_key:e_("promise_batch_action_delete_key"),promise_batch_action_delete_account:e_("promise_batch_action_delete_account"),promise_results_count:e_("promise_results_count"),promise_result:e_("promise_result"),promise_return:e_("promise_return"),storage_write:e_("storage_write"),storage_remove:e_("storage_remove")}}async execute(eu){let ed=await WebAssembly.compile(this.wasm),eg=await WebAssembly.instantiate(ed,{env:{...this.getHostImports(),memory:this.memory}}),em=eg.exports[eu];if(void 0==em)throw Error(`Contract method '${eu}' does not exists in contract ${this.context.contractId} for block id ${this.context.blockHeight}`);return em(),{result:this.result,logs:this.logs}}}ed.Runtime=eE},73741:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.Storage=void 0;let em=eg(41427);class eb{cache;static MAX_ELEMENTS=100;blockHeights;constructor(eu={max:eb.MAX_ELEMENTS}){this.cache=new em.LRUMap(eu.max),this.blockHeights=new Map}load(eu){let ed=!("blockId"in eu);if(ed)return;let eg=eu.blockId;return 44==eg.toString().length&&(eg=this.blockHeights.get(eg.toString())),this.cache.get(eg)}save(eu,{blockHeight:ed,blockTimestamp:eg,contractCode:em,contractState:eb}){this.blockHeights.set(eu,ed),this.cache.set(ed,{blockHeight:ed,blockTimestamp:eg,contractCode:em,contractState:eb})}}ed.Storage=eb},98630:function(eu,ed){"use strict";var eg,em;Object.defineProperty(ed,"__esModule",{value:!0}),ed.MultisigStateStatus=ed.MultisigDeleteRequestRejectionError=void 0,function(eu){eu.CANNOT_DESERIALIZE_STATE="Cannot deserialize the contract state",eu.MULTISIG_NOT_INITIALIZED="Smart contract panicked: Multisig contract should be initialized before usage",eu.NO_SUCH_REQUEST="Smart contract panicked: panicked at 'No such request: either wrong number or already confirmed'",eu.REQUEST_COOLDOWN_ERROR="Request cannot be deleted immediately after creation.",eu.METHOD_NOT_FOUND="Contract method is not found"}(eg||(ed.MultisigDeleteRequestRejectionError=eg={})),function(eu){eu[eu.INVALID_STATE=0]="INVALID_STATE",eu[eu.STATE_NOT_INITIALIZED=1]="STATE_NOT_INITIALIZED",eu[eu.VALID_STATE=2]="VALID_STATE",eu[eu.UNKNOWN_STATE=3]="UNKNOWN_STATE"}(em||(ed.MultisigStateStatus=em={}))},51690:function(eu,ed,eg){"use strict";var em=eg(48834).Buffer;Object.defineProperty(ed,"__esModule",{value:!0}),ed.viewFunction=ed.viewState=ed.encodeJSContractArgs=ed.validateArgs=void 0;let eb=eg(46915),ew=eg(50690);function e_(eu){return JSON.parse(em.from(eu).toString())}function eE(eu){return em.from(JSON.stringify(eu))}function eA(eu){let ed=void 0!==eu.byteLength&&eu.byteLength===eu.length;if(!ed&&(Array.isArray(eu)||"object"!=typeof eu))throw new eb.PositionalArgsError}function eS(eu,ed,eg){return em.concat([em.from(eu),em.from([0]),em.from(ed),em.from([0]),em.from(eg)])}async function eI(eu,ed,eg,eb={finality:"optimistic"}){let{values:ew}=await eu.provider.query({request_type:"view_state",...eb,account_id:ed,prefix_base64:em.from(eg).toString("base64")});return ew.map(({key:eu,value:ed})=>({key:em.from(eu,"base64"),value:em.from(ed,"base64")}))}async function eC(eu,{contractId:ed,methodName:eg,args:eb={},parse:eI=e_,stringify:eC=eE,jsContract:eM=!1,blockQuery:eO={finality:"optimistic"}}){let eT;eA(eb),eT=eM?eS(ed,eg,Object.keys(eb).length>0?JSON.stringify(eb):""):eC(eb);let eP=await eu.provider.query({request_type:"call_function",...eO,account_id:eM?eu.jsvmAccountId:ed,method_name:eM?"view_js_contract":eg,args_base64:eT.toString("base64")});return eP.logs&&(0,ew.printTxOutcomeLogs)({contractId:ed,logs:eP.logs}),eP.result&&eP.result.length>0&&eI(em.from(eP.result))}ed.validateArgs=eA,ed.encodeJSContractArgs=eS,ed.viewState=eI,ed.viewFunction=eC},92899:function(eu,ed){"use strict";var eg;Object.defineProperty(ed,"__esModule",{value:!0}),ed.KeySize=ed.KeyType=void 0,function(eu){eu[eu.ED25519=0]="ED25519",eu[eu.SECP256K1=1]="SECP256K1"}(eg||(ed.KeyType=eg={})),ed.KeySize={SECRET_KEY:32,ED25519_PUBLIC_KEY:32,SECP256k1_PUBLIC_KEY:64}},8704:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.PublicKey=ed.KeyPairSecp256k1=ed.KeyPairEd25519=ed.KeyPair=ed.KeyType=void 0;var em=eg(92899);Object.defineProperty(ed,"KeyType",{enumerable:!0,get:function(){return em.KeyType}});var eb=eg(81834);Object.defineProperty(ed,"KeyPair",{enumerable:!0,get:function(){return eb.KeyPair}});var ew=eg(84103);Object.defineProperty(ed,"KeyPairEd25519",{enumerable:!0,get:function(){return ew.KeyPairEd25519}});var e_=eg(17684);Object.defineProperty(ed,"KeyPairSecp256k1",{enumerable:!0,get:function(){return e_.KeyPairSecp256k1}});var eE=eg(65685);Object.defineProperty(ed,"PublicKey",{enumerable:!0,get:function(){return eE.PublicKey}})},81834:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.KeyPair=void 0;let em=eg(47344),eb=eg(84103),ew=eg(17684);class e_ extends em.KeyPairBase{static fromRandom(eu){switch(eu.toUpperCase()){case"ED25519":return eb.KeyPairEd25519.fromRandom();case"SECP256K1":return ew.KeyPairSecp256k1.fromRandom();default:throw Error(`Unknown curve ${eu}`)}}static fromString(eu){let ed=eu.split(":");if(2===ed.length)switch(ed[0].toUpperCase()){case"ED25519":return new eb.KeyPairEd25519(ed[1]);case"SECP256K1":return new ew.KeyPairSecp256k1(ed[1]);default:throw Error(`Unknown curve: ${ed[0]}`)}else throw Error("Invalid encoded key format, must be <curve>:<encoded key>")}}ed.KeyPair=e_},47344:function(eu,ed){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.KeyPairBase=void 0;class eg{}ed.KeyPairBase=eg},84103:function(eu,ed,eg){"use strict";var em=this&&this.__importDefault||function(eu){return eu&&eu.__esModule?eu:{default:eu}};Object.defineProperty(ed,"__esModule",{value:!0}),ed.KeyPairEd25519=void 0;let eb=eg(50690),ew=eg(16836),e_=em(eg(95003)),eE=eg(92899),eA=eg(47344),eS=eg(65685);class eI extends eA.KeyPairBase{publicKey;secretKey;extendedSecretKey;constructor(eu){super();let ed=(0,eb.baseDecode)(eu),eg=new Uint8Array(ed.slice(0,eE.KeySize.SECRET_KEY)),em=ew.ed25519.getPublicKey(new Uint8Array(eg));this.publicKey=new eS.PublicKey({keyType:eE.KeyType.ED25519,data:em}),this.secretKey=(0,eb.baseEncode)(eg),this.extendedSecretKey=eu}static fromRandom(){let eu=(0,e_.default)(eE.KeySize.SECRET_KEY),ed=ew.ed25519.getPublicKey(new Uint8Array(eu)),eg=new Uint8Array([...eu,...ed]);return new eI((0,eb.baseEncode)(eg))}sign(eu){let ed=ew.ed25519.sign(eu,(0,eb.baseDecode)(this.secretKey));return{signature:ed,publicKey:this.publicKey}}verify(eu,ed){return this.publicKey.verify(eu,ed)}toString(){return`ed25519:${this.extendedSecretKey}`}getPublicKey(){return this.publicKey}}ed.KeyPairEd25519=eI},17684:function(eu,ed,eg){"use strict";var em=this&&this.__importDefault||function(eu){return eu&&eu.__esModule?eu:{default:eu}};Object.defineProperty(ed,"__esModule",{value:!0}),ed.KeyPairSecp256k1=void 0;let eb=eg(50690),ew=em(eg(95003)),e_=em(eg(97637)),eE=eg(92899),eA=eg(47344),eS=eg(65685);class eI extends eA.KeyPairBase{publicKey;secretKey;extendedSecretKey;constructor(eu){super();let ed=(0,eb.baseDecode)(eu),eg=new Uint8Array(ed.slice(0,eE.KeySize.SECRET_KEY)),em=e_.default.publicKeyCreate(new Uint8Array(eg),!1),ew=em.subarray(1,em.length);this.publicKey=new eS.PublicKey({keyType:eE.KeyType.SECP256K1,data:ew}),this.secretKey=(0,eb.baseEncode)(eg),this.extendedSecretKey=eu}static fromRandom(){let eu=(0,ew.default)(eE.KeySize.SECRET_KEY),ed=e_.default.publicKeyCreate(new Uint8Array(eu),!1),eg=ed.subarray(1,ed.length),em=new Uint8Array([...eu,...eg]);return new eI((0,eb.baseEncode)(em))}sign(eu){let{signature:ed,recid:eg}=e_.default.ecdsaSign(eu,(0,eb.baseDecode)(this.secretKey));return{signature:new Uint8Array([...ed,eg]),publicKey:this.publicKey}}verify(eu,ed){return this.publicKey.verify(eu,ed)}toString(){return`secp256k1:${this.extendedSecretKey}`}getPublicKey(){return this.publicKey}}ed.KeyPairSecp256k1=eI},65685:function(eu,ed,eg){"use strict";var em=this&&this.__importDefault||function(eu){return eu&&eu.__esModule?eu:{default:eu}};Object.defineProperty(ed,"__esModule",{value:!0}),ed.PublicKey=void 0;let eb=eg(50690),ew=eg(16836),e_=em(eg(97637)),eE=eg(92899);function eA(eu){switch(eu){case eE.KeyType.ED25519:return"ed25519";case eE.KeyType.SECP256K1:return"secp256k1";default:throw Error(`Unknown key type ${eu}`)}}function eS(eu){switch(eu.toLowerCase()){case"ed25519":return eE.KeyType.ED25519;case"secp256k1":return eE.KeyType.SECP256K1;default:throw Error(`Unknown key type ${eu}`)}}function eI(eu){switch(eu){case eE.KeyType.ED25519:return"ed25519Key";case eE.KeyType.SECP256K1:return"secp256k1Key";default:throw Error(`unknown type ${eu}`)}}class eC{constructor(eu){if(1!==Object.keys(eu).length)throw Error("Enum can only take single value");Object.keys(eu).map(ed=>{this[ed]=eu[ed]})}}class eM extends eC{enum;ed25519Key;secp256k1Key;constructor(eu){let ed=eI(eu.keyType);super({[ed]:eu}),this[ed]=eu,this.enum=ed}static from(eu){return"string"==typeof eu?eM.fromString(eu):eu}static fromString(eu){let ed,eg;let em=eu.split(":");if(1===em.length)ed=em[0];else if(2===em.length)ed=em[1],eg=eS(em[0]);else throw Error("Invalid encoded key format, must be <curve>:<encoded key>");let ew=(0,eb.baseDecode)(ed);eg||(eg=ew.length===eE.KeySize.SECP256k1_PUBLIC_KEY?eE.KeyType.SECP256K1:eE.KeyType.ED25519);let e_=eg===eE.KeyType.ED25519?eE.KeySize.ED25519_PUBLIC_KEY:eE.KeySize.SECP256k1_PUBLIC_KEY;if(ew.length!==e_)throw Error(`Invalid public key size (${ew.length}), must be ${e_}`);return new eM({keyType:eg,data:ew})}toString(){let eu=(0,eb.baseEncode)(this.data);return`${eA(this.keyType)}:${eu}`}verify(eu,ed){let eg=this.keyType,em=this.data;switch(eg){case eE.KeyType.ED25519:return ew.ed25519.verify(ed,eu,em);case eE.KeyType.SECP256K1:return e_.default.ecdsaVerify(ed.subarray(0,64),eu,new Uint8Array([4,...em]));default:throw Error(`Unknown key type: ${eg}`)}}get keyPair(){return this.ed25519Key||this.secp256k1Key}get keyType(){return this.keyPair.keyType}get data(){return this.keyPair.data}}ed.PublicKey=eM},58510:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.InMemoryKeyStore=void 0;let em=eg(8704),eb=eg(42916);class ew extends eb.KeyStore{keys;constructor(){super(),this.keys={}}async setKey(eu,ed,eg){this.keys[`${ed}:${eu}`]=eg.toString()}async getKey(eu,ed){let eg=this.keys[`${ed}:${eu}`];return eg?em.KeyPair.fromString(eg):null}async removeKey(eu,ed){delete this.keys[`${ed}:${eu}`]}async clear(){this.keys={}}async getNetworks(){let eu=new Set;return Object.keys(this.keys).forEach(ed=>{let eg=ed.split(":");eu.add(eg[1])}),Array.from(eu.values())}async getAccounts(eu){let ed=[];return Object.keys(this.keys).forEach(eg=>{let em=eg.split(":");em[em.length-1]===eu&&ed.push(em.slice(0,em.length-1).join(":"))}),ed}toString(){return"InMemoryKeyStore"}}ed.InMemoryKeyStore=ew},96287:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.MultiContractKeyStore=ed.MergeKeyStore=ed.KeyStore=ed.InMemoryKeyStore=void 0;var em=eg(58510);Object.defineProperty(ed,"InMemoryKeyStore",{enumerable:!0,get:function(){return em.InMemoryKeyStore}});var eb=eg(42916);Object.defineProperty(ed,"KeyStore",{enumerable:!0,get:function(){return eb.KeyStore}});var ew=eg(5908);Object.defineProperty(ed,"MergeKeyStore",{enumerable:!0,get:function(){return ew.MergeKeyStore}});var e_=eg(49576);Object.defineProperty(ed,"MultiContractKeyStore",{enumerable:!0,get:function(){return e_.MultiContractKeyStore}})},42916:function(eu,ed){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.KeyStore=void 0;class eg{}ed.KeyStore=eg},5908:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.MergeKeyStore=void 0;let em=eg(42916);class eb extends em.KeyStore{options;keyStores;constructor(eu,ed={writeKeyStoreIndex:0}){super(),this.options=ed,this.keyStores=eu}async setKey(eu,ed,eg){await this.keyStores[this.options.writeKeyStoreIndex].setKey(eu,ed,eg)}async getKey(eu,ed){for(let eg of this.keyStores){let em=await eg.getKey(eu,ed);if(em)return em}return null}async removeKey(eu,ed){for(let eg of this.keyStores)await eg.removeKey(eu,ed)}async clear(){for(let eu of this.keyStores)await eu.clear()}async getNetworks(){let eu=new Set;for(let ed of this.keyStores)for(let eg of(await ed.getNetworks()))eu.add(eg);return Array.from(eu)}async getAccounts(eu){let ed=new Set;for(let eg of this.keyStores)for(let em of(await eg.getAccounts(eu)))ed.add(em);return Array.from(ed)}toString(){return`MergeKeyStore(${this.keyStores.join(", ")})`}}ed.MergeKeyStore=eb},49576:function(eu,ed){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.MultiContractKeyStore=void 0;class eg{}ed.MultiContractKeyStore=eg},78974:function(eu,ed){"use strict";async function eg(eu,ed,eg,eb){let ew=eu;for(let eu=0;eu<ed;eu++){let eu=await eb();if(eu)return eu;await em(ew),ew*=eg}return null}function em(eu){return new Promise(ed=>setTimeout(ed,eu))}Object.defineProperty(ed,"__esModule",{value:!0}),ed.exponentialBackoff=void 0,ed.exponentialBackoff=eg},55248:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.FailoverRpcProvider=void 0;let em=eg(50690),eb=eg(46915),ew=eg(66394);class e_ extends ew.Provider{providers;currentProviderIndex;constructor(eu){if(super(),0===eu.length)throw Error("At least one provider must be specified");this.providers=eu,this.currentProviderIndex=0}switchToNextProvider(){1!==this.providers.length&&(this.providers.length-1<=this.currentProviderIndex?this.currentProviderIndex=0:this.currentProviderIndex+=1,em.Logger.debug(`Switched to provider at the index ${this.currentProviderIndex}`))}get currentProvider(){let eu=this.providers[this.currentProviderIndex];if(!eu)throw Error(`Provider wasn't found at index ${this.currentProviderIndex}`);return eu}async withBackoff(eu){for(let ed=0;ed<this.providers.length;ed++)try{let ed=await eu(this.currentProvider);if(ed)return ed}catch(eu){console.error(eu),this.switchToNextProvider()}throw new eb.TypedError(`Exceeded ${this.providers.length} providers to execute request`,"RetriesExceeded")}async status(){return this.withBackoff(eu=>eu.status())}async sendTransactionUntil(eu,ed){return this.withBackoff(eg=>eg.sendTransactionUntil(eu,ed))}async sendTransaction(eu){return this.withBackoff(ed=>ed.sendTransaction(eu))}async sendTransactionAsync(eu){return this.withBackoff(ed=>ed.sendTransactionAsync(eu))}async txStatus(eu,ed,eg){return this.withBackoff(em=>em.txStatus(eu,ed,eg))}async txStatusReceipts(eu,ed,eg){return this.withBackoff(em=>em.txStatusReceipts(eu,ed,eg))}async query(eu,ed){return ed?this.withBackoff(eg=>eg.query(eu,ed)):this.withBackoff(ed=>ed.query(eu))}async block(eu){return this.withBackoff(ed=>ed.block(eu))}async blockChanges(eu){return this.withBackoff(ed=>ed.blockChanges(eu))}async chunk(eu){return this.withBackoff(ed=>ed.chunk(eu))}async validators(eu){return this.withBackoff(ed=>ed.validators(eu))}async experimental_protocolConfig(eu){return this.withBackoff(ed=>ed.experimental_protocolConfig(eu))}async lightClientProof(eu){return this.withBackoff(ed=>ed.lightClientProof(eu))}async nextLightClientBlock(eu){return this.withBackoff(ed=>ed.nextLightClientBlock(eu))}async accessKeyChanges(eu,ed){return this.withBackoff(eg=>eg.accessKeyChanges(eu,ed))}async singleAccessKeyChanges(eu,ed){return this.withBackoff(eg=>eg.singleAccessKeyChanges(eu,ed))}async accountChanges(eu,ed){return this.withBackoff(eg=>eg.accountChanges(eu,ed))}async contractStateChanges(eu,ed,eg=""){return this.withBackoff(em=>em.contractStateChanges(eu,ed,eg))}async contractCodeChanges(eu,ed){return this.withBackoff(eg=>eg.contractCodeChanges(eu,ed))}async gasPrice(eu){return this.withBackoff(ed=>ed.gasPrice(eu))}}ed.FailoverRpcProvider=e_},68131:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.fetchJsonRpc=ed.ProviderError=ed.retryConfig=void 0;let em=eg(46915),eb=eg(40199),ew=1.5,e_=10,eE=0;function eA(eu=e_,ed=ew,eg=eE){return{numOfAttempts:eu,timeMultiple:ed,startingDelay:eg,retry:eu=>!!([503,500,408].includes(eu.cause)||eu.toString().includes("FetchError")||eu.toString().includes("Failed to fetch"))}}ed.retryConfig=eA;class eS extends Error{cause;constructor(eu,ed){super(eu,ed),ed.cause&&(this.cause=ed.cause)}}async function eI(eu,ed,eg,ew){let eE=await (0,eb.backOff)(async()=>{let em=await fetch(eu,{method:"POST",body:JSON.stringify(ed),headers:{...eg,"Content-Type":"application/json"}}),{ok:eb,status:ew}=em;if(500===ew)throw new eS("Internal server error",{cause:ew});if(408===ew)throw new eS("Timeout error",{cause:ew});if(400===ew)throw new eS("Request validation error",{cause:ew});if(503===ew)throw new eS(`${eu} unavailable`,{cause:ew});if(!eb)throw new eS(await em.text(),{cause:ew});return em},ew);if(!eE)throw new em.TypedError(`Exceeded ${e_} attempts for ${eu}.`,"RetriesExceeded");return await eE.json()}ed.ProviderError=eS,ed.fetchJsonRpc=eI},32274:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.Provider=ed.FailoverRpcProvider=ed.JsonRpcProvider=ed.exponentialBackoff=void 0;var em=eg(78974);Object.defineProperty(ed,"exponentialBackoff",{enumerable:!0,get:function(){return em.exponentialBackoff}});var eb=eg(74702);Object.defineProperty(ed,"JsonRpcProvider",{enumerable:!0,get:function(){return eb.JsonRpcProvider}});var ew=eg(55248);Object.defineProperty(ed,"FailoverRpcProvider",{enumerable:!0,get:function(){return ew.FailoverRpcProvider}});var e_=eg(66394);Object.defineProperty(ed,"Provider",{enumerable:!0,get:function(){return e_.Provider}})},74702:function(eu,ed,eg){"use strict";var em=eg(48834).Buffer;Object.defineProperty(ed,"__esModule",{value:!0}),ed.JsonRpcProvider=void 0;let eb=eg(50690),ew=eg(46915),e_=eg(98744),eE=eg(66394),eA=eg(68131),eS=12,eI=500,eC=1.5,eM=123;class eO extends eE.Provider{connection;options;constructor(eu,ed){super(),this.connection=eu||{url:""};let eg={retries:eS,wait:eI,backoff:eC};this.options=Object.assign({},eg,ed)}async status(){return this.sendJsonRpc("status",[])}async sendTransactionUntil(eu,ed){let eg=(0,e_.encodeTransaction)(eu);return this.sendJsonRpc("send_tx",{signed_tx_base64:em.from(eg).toString("base64"),wait_until:ed})}async sendTransaction(eu){return this.sendTransactionUntil(eu,"EXECUTED_OPTIMISTIC")}async sendTransactionAsync(eu){return this.sendTransactionUntil(eu,"NONE")}async txStatus(eu,ed,eg="EXECUTED_OPTIMISTIC"){return"string"==typeof eu?this.txStatusString(eu,ed,eg):this.txStatusUint8Array(eu,ed,eg)}async txStatusUint8Array(eu,ed,eg){return this.sendJsonRpc("tx",{tx_hash:(0,eb.baseEncode)(eu),sender_account_id:ed,wait_until:eg})}async txStatusString(eu,ed,eg){return this.sendJsonRpc("tx",{tx_hash:eu,sender_account_id:ed,wait_until:eg})}async txStatusReceipts(eu,ed,eg="EXECUTED_OPTIMISTIC"){return"string"==typeof eu?this.sendJsonRpc("EXPERIMENTAL_tx_status",{tx_hash:eu,sender_account_id:ed,wait_until:eg}):this.sendJsonRpc("EXPERIMENTAL_tx_status",{tx_hash:(0,eb.baseEncode)(eu),sender_account_id:ed,wait_until:eg})}async query(...eu){let ed;if(1===eu.length){let{block_id:eg,blockId:em,...eb}=eu[0];ed=await this.sendJsonRpc("query",{...eb,block_id:eg||em})}else{let[eg,em]=eu;ed=await this.sendJsonRpc("query",[eg,em])}if(ed&&ed.error)throw new ew.TypedError(`Querying failed: ${ed.error}.
${JSON.stringify(ed,null,2)}`,(0,eb.getErrorTypeFromErrorMessage)(ed.error,ed.error.name));return ed}async block(eu){let{finality:ed}=eu,{blockId:eg}=eu;return this.sendJsonRpc("block",{block_id:eg,finality:ed})}async blockChanges(eu){let{finality:ed}=eu,{blockId:eg}=eu;return this.sendJsonRpc("EXPERIMENTAL_changes_in_block",{block_id:eg,finality:ed})}async chunk(eu){return this.sendJsonRpc("chunk",[eu])}async validators(eu){return this.sendJsonRpc("validators",[eu])}async experimental_protocolConfig(eu){let{blockId:ed,...eg}=eu;return await this.sendJsonRpc("EXPERIMENTAL_protocol_config",{...eg,block_id:ed})}async lightClientProof(eu){return await this.sendJsonRpc("EXPERIMENTAL_light_client_proof",eu)}async nextLightClientBlock(eu){return await this.sendJsonRpc("next_light_client_block",eu)}async accessKeyChanges(eu,ed){let{finality:eg}=ed,{blockId:em}=ed;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"all_access_key_changes",account_ids:eu,block_id:em,finality:eg})}async singleAccessKeyChanges(eu,ed){let{finality:eg}=ed,{blockId:em}=ed;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"single_access_key_changes",keys:eu,block_id:em,finality:eg})}async accountChanges(eu,ed){let{finality:eg}=ed,{blockId:em}=ed;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"account_changes",account_ids:eu,block_id:em,finality:eg})}async contractStateChanges(eu,ed,eg=""){let{finality:em}=ed,{blockId:eb}=ed;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"data_changes",account_ids:eu,key_prefix_base64:eg,block_id:eb,finality:em})}async contractCodeChanges(eu,ed){let{finality:eg}=ed,{blockId:em}=ed;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"contract_code_changes",account_ids:eu,block_id:em,finality:eg})}async gasPrice(eu){return await this.sendJsonRpc("gas_price",[eu])}async sendJsonRpc(eu,ed){let eg={method:eu,params:ed,id:eM++,jsonrpc:"2.0"},em=await (0,eA.fetchJsonRpc)(this.connection.url,eg,this.connection.headers,(0,eA.retryConfig)(this.options.retries,this.options.backoff,this.options.wait));if(em.error){if("object"==typeof em.error.data){if("string"==typeof em.error.data.error_message&&"string"==typeof em.error.data.error_type)throw new ew.TypedError(em.error.data.error_message,em.error.data.error_type);throw(0,eb.parseRpcError)(em.error.data)}{let eu=`[${em.error.code}] ${em.error.message}: ${em.error.data}`,eg=(0,eb.getErrorTypeFromErrorMessage)(em.error.data,"");if(eg)throw new ew.TypedError((0,eb.formatError)(eg,ed),eg);throw new ew.TypedError(eu,em.error.name)}}if("string"==typeof em.result?.error){let eu=(0,eb.getErrorTypeFromErrorMessage)(em.result.error,"");if(eu)throw new eb.ServerError((0,eb.formatError)(eu,ed),eu)}let{result:e_}=em;if(void 0===e_)throw new ew.TypedError(`Exceeded ${this.options.retries} attempts for request to ${eu}.`,"RetriesExceeded");return e_}}ed.JsonRpcProvider=eO},66394:function(eu,ed){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.Provider=void 0;class eg{}ed.Provider=eg},30579:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.InMemorySigner=void 0;let em=eg(8704),eb=eg(96287),ew=eg(75811),e_=eg(76376);class eE extends e_.Signer{keyStore;constructor(eu){super(),this.keyStore=eu}static async fromKeyPair(eu,ed,eg){let em=new eb.InMemoryKeyStore;return await em.setKey(eu,ed,eg),new eE(em)}async createKey(eu,ed,eg){let eb=eg===em.KeyType.SECP256K1?em.KeyPair.fromRandom("secp256k1"):em.KeyPair.fromRandom("ed25519");return await this.keyStore.setKey(ed,eu,eb),eb.getPublicKey()}async getPublicKey(eu,ed){let eg=await this.keyStore.getKey(ed,eu);return null===eg?null:eg.getPublicKey()}async signMessage(eu,ed,eg){let em=new Uint8Array((0,ew.sha256)(eu));if(!ed)throw Error("InMemorySigner requires provided account id");let eb=await this.keyStore.getKey(eg,ed);if(null===eb)throw Error(`Key for ${ed} not found in ${eg}`);return eb.sign(em)}toString(){return`InMemorySigner(${this.keyStore})`}}ed.InMemorySigner=eE},20302:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.Signer=ed.InMemorySigner=void 0;var em=eg(30579);Object.defineProperty(ed,"InMemorySigner",{enumerable:!0,get:function(){return em.InMemorySigner}});var eb=eg(76376);Object.defineProperty(ed,"Signer",{enumerable:!0,get:function(){return eb.Signer}})},76376:function(eu,ed){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.Signer=void 0;class eg{}ed.Signer=eg},69044:function(eu,ed,eg){"use strict";var em=eg(48834).Buffer;Object.defineProperty(ed,"__esModule",{value:!0}),ed.actionCreators=ed.stringifyJsonOrBytes=void 0;let eb=eg(58013);function ew(){return new eb.AccessKey({nonce:0n,permission:new eb.AccessKeyPermission({fullAccess:new eb.FullAccessPermission})})}function e_(eu,ed,eg){return new eb.AccessKey({nonce:0n,permission:new eb.AccessKeyPermission({functionCall:new eb.FunctionCallPermission({receiverId:eu,allowance:eg,methodNames:ed})})})}function eE(){return new eb.Action({createAccount:new eb.CreateAccount})}function eA(eu){return new eb.Action({deployContract:new eb.DeployContract({code:eu})})}function eS(eu){let ed=void 0!==eu.byteLength&&eu.byteLength===eu.length;return ed?eu:em.from(JSON.stringify(eu))}function eI(eu,ed,eg=0n,em=0n,ew=eS,e_=!1){return new eb.Action(e_?{functionCall:new eb.FunctionCall({methodName:eu,args:ed,gas:eg,deposit:em})}:{functionCall:new eb.FunctionCall({methodName:eu,args:ew(ed),gas:eg,deposit:em})})}function eC(eu=0n){return new eb.Action({transfer:new eb.Transfer({deposit:eu})})}function eM(eu=0n,ed){return new eb.Action({stake:new eb.Stake({stake:eu,publicKey:ed})})}function eO(eu,ed){return new eb.Action({addKey:new eb.AddKey({publicKey:eu,accessKey:ed})})}function eT(eu){return new eb.Action({deleteKey:new eb.DeleteKey({publicKey:eu})})}function eP(eu){return new eb.Action({deleteAccount:new eb.DeleteAccount({beneficiaryId:eu})})}function eN({delegateAction:eu,signature:ed}){return new eb.Action({signedDelegate:new eb.SignedDelegate({delegateAction:eu,signature:ed})})}ed.stringifyJsonOrBytes=eS,ed.actionCreators={addKey:eO,createAccount:eE,deleteAccount:eP,deleteKey:eT,deployContract:eA,fullAccessKey:ew,functionCall:eI,functionCallAccessKey:e_,signedDelegate:eN,stake:eM,transfer:eC}},58013:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.Action=ed.SignedDelegate=ed.DeleteAccount=ed.DeleteKey=ed.AddKey=ed.Stake=ed.Transfer=ed.FunctionCall=ed.DeployContract=ed.CreateAccount=ed.AccessKey=ed.AccessKeyPermission=ed.FullAccessPermission=ed.FunctionCallPermission=void 0;let em=eg(46915);class eb{allowance;receiverId;methodNames;constructor({allowance:eu,receiverId:ed,methodNames:eg}){this.allowance=eu,this.receiverId=ed,this.methodNames=eg}}ed.FunctionCallPermission=eb;class ew{}ed.FullAccessPermission=ew;class e_ extends em.Enum{enum;functionCall;fullAccess;constructor(eu){for(let[ed,eg]of(super(eu),Object.entries(eu||{})))this[ed]=eg,this.enum=ed}}ed.AccessKeyPermission=e_;class eE{nonce;permission;constructor({nonce:eu,permission:ed}){this.nonce=eu,this.permission=ed}}ed.AccessKey=eE;class eA{}ed.CreateAccount=eA;class eS{code;constructor({code:eu}){this.code=eu}}ed.DeployContract=eS;class eI{methodName;args;gas;deposit;constructor({methodName:eu,args:ed,gas:eg,deposit:em}){this.methodName=eu,this.args=ed,this.gas=eg,this.deposit=em}}ed.FunctionCall=eI;class eC{deposit;constructor({deposit:eu}){this.deposit=eu}}ed.Transfer=eC;class eM{stake;publicKey;constructor({stake:eu,publicKey:ed}){this.stake=eu,this.publicKey=ed}}ed.Stake=eM;class eO{publicKey;accessKey;constructor({publicKey:eu,accessKey:ed}){this.publicKey=eu,this.accessKey=ed}}ed.AddKey=eO;class eT{publicKey;constructor({publicKey:eu}){this.publicKey=eu}}ed.DeleteKey=eT;class eP{beneficiaryId;constructor({beneficiaryId:eu}){this.beneficiaryId=eu}}ed.DeleteAccount=eP;class eN{delegateAction;signature;constructor({delegateAction:eu,signature:ed}){this.delegateAction=eu,this.signature=ed}}ed.SignedDelegate=eN;class ek extends em.Enum{enum;createAccount;deployContract;functionCall;transfer;stake;addKey;deleteKey;deleteAccount;signedDelegate;constructor(eu){for(let[ed,eg]of(super(eu),Object.entries(eu||{})))this[ed]=eg,this.enum=ed}}ed.Action=ek},55831:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.createTransaction=void 0;let em=eg(38454);function eb(eu,ed,eg,eb,ew,e_){let eE="bigint"==typeof eb?eb:BigInt(eb);return new em.Transaction({signerId:eu,publicKey:ed,nonce:eE,receiverId:eg,actions:ew,blockHash:e_})}ed.createTransaction=eb},55876:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.buildDelegateAction=ed.DelegateAction=void 0;let em=eg(69044),{addKey:eb,createAccount:ew,deleteAccount:e_,deleteKey:eE,deployContract:eA,functionCall:eS,stake:eI,transfer:eC}=em.actionCreators;class eM{senderId;receiverId;actions;nonce;maxBlockHeight;publicKey;constructor({senderId:eu,receiverId:ed,actions:eg,nonce:em,maxBlockHeight:eb,publicKey:ew}){this.senderId=eu,this.receiverId=ed,this.actions=eg,this.nonce=em,this.maxBlockHeight=eb,this.publicKey=ew}}function eO({actions:eu,maxBlockHeight:ed,nonce:eg,publicKey:em,receiverId:eO,senderId:eT}){return new eM({senderId:eT,receiverId:eO,actions:eu.map(eu=>{if(!eu.type&&!eu.params)return eu;switch(eu.type){case"AddKey":{let{publicKey:ed,accessKey:eg}=eu.params;return eb(ed,eg)}case"CreateAccount":return ew(eu.params.createAccount);case"DeleteAccount":return e_(eu.params.deleteAccount);case"DeleteKey":return eE(eu.params.publicKey);case"DeployContract":return eA(eu.params.code);case"FunctionCall":{let{methodName:ed,args:eg,gas:em,deposit:eb}=eu.params;return eS(ed,eg,em,eb)}case"Stake":return eI(eu.params.stake,eu.params.publicKey);case"Transfer":{let{deposit:ed}=eu.params;return eC(ed)}}throw Error("Unrecognized action")}),nonce:eg,maxBlockHeight:ed,publicKey:em})}ed.DelegateAction=eM,ed.buildDelegateAction=eO},98744:function(eu,ed,eg){"use strict";var em=this&&this.__createBinding||(Object.create?function(eu,ed,eg,em){void 0===em&&(em=eg);var eb=Object.getOwnPropertyDescriptor(ed,eg);(!eb||("get"in eb?!ed.__esModule:eb.writable||eb.configurable))&&(eb={enumerable:!0,get:function(){return ed[eg]}}),Object.defineProperty(eu,em,eb)}:function(eu,ed,eg,em){void 0===em&&(em=eg),eu[em]=ed[eg]}),eb=this&&this.__exportStar||function(eu,ed){for(var eg in eu)"default"===eg||Object.prototype.hasOwnProperty.call(ed,eg)||em(ed,eu,eg)};Object.defineProperty(ed,"__esModule",{value:!0}),eb(eg(69044),ed),eb(eg(58013),ed),eb(eg(55831),ed),eb(eg(55876),ed),eb(eg(38454),ed),eb(eg(51245),ed),eb(eg(44054),ed)},73637:function(eu,ed){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.DelegateActionPrefix=void 0;let eg=1073741824,em={MetaTransactions:366};class eb{prefix;constructor({prefix:eu}){this.prefix=eu}}class ew extends eb{constructor(eu){super({prefix:eg+eu})}}class e_ extends ew{constructor(){super(em.MetaTransactions)}}ed.DelegateActionPrefix=e_},38454:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.SCHEMA=ed.SignedTransaction=ed.Transaction=ed.decodeSignedTransaction=ed.decodeTransaction=ed.encodeTransaction=ed.encodeSignedDelegate=ed.encodeDelegateAction=void 0;let em=eg(54543),eb=eg(73637);function ew(eu){return new Uint8Array([...(0,em.serialize)(ed.SCHEMA.DelegateActionPrefix,new eb.DelegateActionPrefix),...(0,em.serialize)(ed.SCHEMA.DelegateAction,eu)])}function e_(eu){return(0,em.serialize)(ed.SCHEMA.SignedDelegate,eu)}function eE(eu){let eg=eu instanceof eC?ed.SCHEMA.SignedTransaction:ed.SCHEMA.Transaction;return(0,em.serialize)(eg,eu)}function eA(eu){return new eI((0,em.deserialize)(ed.SCHEMA.Transaction,eu))}function eS(eu){return new eC((0,em.deserialize)(ed.SCHEMA.SignedTransaction,eu))}ed.encodeDelegateAction=ew,ed.encodeSignedDelegate=e_,ed.encodeTransaction=eE,ed.decodeTransaction=eA,ed.decodeSignedTransaction=eS;class eI{signerId;publicKey;nonce;receiverId;actions;blockHash;constructor({signerId:eu,publicKey:ed,nonce:eg,receiverId:em,actions:eb,blockHash:ew}){this.signerId=eu,this.publicKey=ed,this.nonce=eg,this.receiverId=em,this.actions=eb,this.blockHash=ew}encode(){return eE(this)}static decode(eu){return eA(eu)}}ed.Transaction=eI;class eC{transaction;signature;constructor({transaction:eu,signature:ed}){this.transaction=eu,this.signature=ed}encode(){return eE(this)}static decode(eu){return eS(eu)}}ed.SignedTransaction=eC,ed.SCHEMA=new class{Ed25519Signature={struct:{data:{array:{type:"u8",len:64}}}};Secp256k1Signature={struct:{data:{array:{type:"u8",len:65}}}};Signature={enum:[{struct:{ed25519Signature:this.Ed25519Signature}},{struct:{secp256k1Signature:this.Secp256k1Signature}}]};Ed25519Data={struct:{data:{array:{type:"u8",len:32}}}};Secp256k1Data={struct:{data:{array:{type:"u8",len:64}}}};PublicKey={enum:[{struct:{ed25519Key:this.Ed25519Data}},{struct:{secp256k1Key:this.Secp256k1Data}}]};FunctionCallPermission={struct:{allowance:{option:"u128"},receiverId:"string",methodNames:{array:{type:"string"}}}};FullAccessPermission={struct:{}};AccessKeyPermission={enum:[{struct:{functionCall:this.FunctionCallPermission}},{struct:{fullAccess:this.FullAccessPermission}}]};AccessKey={struct:{nonce:"u64",permission:this.AccessKeyPermission}};CreateAccount={struct:{}};DeployContract={struct:{code:{array:{type:"u8"}}}};FunctionCall={struct:{methodName:"string",args:{array:{type:"u8"}},gas:"u64",deposit:"u128"}};Transfer={struct:{deposit:"u128"}};Stake={struct:{stake:"u128",publicKey:this.PublicKey}};AddKey={struct:{publicKey:this.PublicKey,accessKey:this.AccessKey}};DeleteKey={struct:{publicKey:this.PublicKey}};DeleteAccount={struct:{beneficiaryId:"string"}};DelegateActionPrefix={struct:{prefix:"u32"}};ClassicActions={enum:[{struct:{createAccount:this.CreateAccount}},{struct:{deployContract:this.DeployContract}},{struct:{functionCall:this.FunctionCall}},{struct:{transfer:this.Transfer}},{struct:{stake:this.Stake}},{struct:{addKey:this.AddKey}},{struct:{deleteKey:this.DeleteKey}},{struct:{deleteAccount:this.DeleteAccount}}]};DelegateAction={struct:{senderId:"string",receiverId:"string",actions:{array:{type:this.ClassicActions}},nonce:"u64",maxBlockHeight:"u64",publicKey:this.PublicKey}};SignedDelegate={struct:{delegateAction:this.DelegateAction,signature:this.Signature}};Action={enum:[{struct:{createAccount:this.CreateAccount}},{struct:{deployContract:this.DeployContract}},{struct:{functionCall:this.FunctionCall}},{struct:{transfer:this.Transfer}},{struct:{stake:this.Stake}},{struct:{addKey:this.AddKey}},{struct:{deleteKey:this.DeleteKey}},{struct:{deleteAccount:this.DeleteAccount}},{struct:{signedDelegate:this.SignedDelegate}}]};Transaction={struct:{signerId:"string",publicKey:this.PublicKey,nonce:"u64",receiverId:"string",blockHash:{array:{type:"u8",len:32}},actions:{array:{type:this.Action}}}};SignedTransaction={struct:{transaction:this.Transaction,signature:this.Signature}}}},51245:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.signDelegateAction=ed.signTransaction=void 0;let em=eg(96053),eb=eg(58013),ew=eg(55831),e_=eg(38454),eE=eg(44054),eA=eg(8704);async function eS(eu,ed,eg,eb){let ew=(0,e_.encodeTransaction)(eu),eS=new Uint8Array((0,em.sha256)(ew)),eI=await ed.signMessage(ew,eg,eb),eC=eu.publicKey.ed25519Key?eA.KeyType.ED25519:eA.KeyType.SECP256K1,eM=new e_.SignedTransaction({transaction:eu,signature:new eE.Signature({keyType:eC,data:eI.signature})});return[eS,eM]}async function eI(...eu){if(eu[0].constructor===e_.Transaction){let[ed,eg,em,eb]=eu;return eS(ed,eg,em,eb)}{let[ed,eg,em,eb,e_,eE,eA]=eu,eI=await e_.getPublicKey(eE,eA),eC=(0,ew.createTransaction)(eE,eI,ed,eg,em,eb);return eS(eC,e_,eE,eA)}}async function eC({delegateAction:eu,signer:ed}){let eg=(0,e_.encodeDelegateAction)(eu),ew=await ed.sign(eg),eS=eu.publicKey.ed25519Key?eA.KeyType.ED25519:eA.KeyType.SECP256K1,eI=new eb.SignedDelegate({delegateAction:eu,signature:new eE.Signature({keyType:eS,data:ew})});return{hash:new Uint8Array((0,em.sha256)(eg)),signedDelegateAction:eI}}ed.signTransaction=eI,ed.signDelegateAction=eC},44054:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.Signature=void 0;let em=eg(8704),eb=eg(46915);function ew(eu){switch(eu){case em.KeyType.ED25519:return"ed25519Signature";case em.KeyType.SECP256K1:return"secp256k1Signature";default:throw Error(`unknown type ${eu}`)}}class e_ extends eb.Enum{enum;ed25519Signature;secp256k1Signature;constructor(eu){let ed=ew(eu.keyType);super({[ed]:eu}),this[ed]=eu,this.enum=ed}get signature(){return this.ed25519Signature||this.secp256k1Signature}get signatureType(){return this.signature.keyType}get data(){return this.signature.data}}ed.Signature=e_},400:function(eu,ed){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.Assignable=void 0;class eg{constructor(eu){Object.keys(eu).map(ed=>{this[ed]=eu[ed]})}}ed.Assignable=eg},91672:function(eu,ed){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.Enum=void 0;class eg{constructor(eu){if(1!==Object.keys(eu).length)throw Error("Enum can only take single value");Object.keys(eu).map(ed=>{this[ed]=eu[ed]})}}ed.Enum=eg},54822:function(eu,ed){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.ErrorContext=ed.TypedError=ed.ArgumentTypeError=ed.PositionalArgsError=void 0;class eg extends Error{constructor(){super("Contract method calls expect named arguments wrapped in object, e.g. { argName1: argValue1, argName2: argValue2 }")}}ed.PositionalArgsError=eg;class em extends Error{constructor(eu,ed,eg){super(`Expected ${ed} for '${eu}' argument, but got '${JSON.stringify(eg)}'`)}}ed.ArgumentTypeError=em;class eb extends Error{type;context;constructor(eu,ed,eg){super(eu),this.type=ed||"UntypedError",this.context=eg}}ed.TypedError=eb;class ew{transactionHash;constructor(eu){this.transactionHash=eu}}ed.ErrorContext=ew},46915:function(eu,ed,eg){"use strict";var em=this&&this.__createBinding||(Object.create?function(eu,ed,eg,em){void 0===em&&(em=eg);var eb=Object.getOwnPropertyDescriptor(ed,eg);(!eb||("get"in eb?!ed.__esModule:eb.writable||eb.configurable))&&(eb={enumerable:!0,get:function(){return ed[eg]}}),Object.defineProperty(eu,em,eb)}:function(eu,ed,eg,em){void 0===em&&(em=eg),eu[em]=ed[eg]}),eb=this&&this.__exportStar||function(eu,ed){for(var eg in eu)"default"===eg||Object.prototype.hasOwnProperty.call(ed,eg)||em(ed,eu,eg)};Object.defineProperty(ed,"__esModule",{value:!0}),eb(eg(400),ed),eb(eg(91672),ed),eb(eg(54822),ed),eb(eg(96735),ed)},96735:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.FinalExecutionStatusBasic=ed.ExecutionStatusBasic=ed.IdType=void 0;var em=eg(96094);Object.defineProperty(ed,"IdType",{enumerable:!0,get:function(){return em.IdType}});var eb=eg(53711);Object.defineProperty(ed,"ExecutionStatusBasic",{enumerable:!0,get:function(){return eb.ExecutionStatusBasic}}),Object.defineProperty(ed,"FinalExecutionStatusBasic",{enumerable:!0,get:function(){return eb.FinalExecutionStatusBasic}})},96094:function(eu,ed){"use strict";var eg;Object.defineProperty(ed,"__esModule",{value:!0}),ed.IdType=void 0,function(eu){eu.Transaction="transaction",eu.Receipt="receipt"}(eg||(ed.IdType=eg={}))},53711:function(eu,ed){"use strict";var eg,em;Object.defineProperty(ed,"__esModule",{value:!0}),ed.FinalExecutionStatusBasic=ed.ExecutionStatusBasic=void 0,function(eu){eu.Unknown="Unknown",eu.Pending="Pending",eu.Failure="Failure"}(eg||(ed.ExecutionStatusBasic=eg={})),function(eu){eu.NotStarted="NotStarted",eu.Started="Started",eu.Failure="Failure"}(em||(ed.FinalExecutionStatusBasic=em={}))},87173:function(eu,ed){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.DEFAULT_FUNCTION_CALL_GAS=void 0,ed.DEFAULT_FUNCTION_CALL_GAS=30000000000000n},72785:function(eu,ed,eg){"use strict";var em=this&&this.__importDefault||function(eu){return eu&&eu.__esModule?eu:{default:eu}};Object.defineProperty(ed,"__esModule",{value:!0}),ed.ErrorMessages=void 0;let eb=em(eg(40899));ed.ErrorMessages=eb.default},6213:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.parseRpcError=ed.parseResultError=ed.getErrorTypeFromErrorMessage=ed.formatError=ed.ServerError=ed.ErrorMessages=void 0;var em=eg(72785);Object.defineProperty(ed,"ErrorMessages",{enumerable:!0,get:function(){return em.ErrorMessages}});var eb=eg(14960);Object.defineProperty(ed,"ServerError",{enumerable:!0,get:function(){return eb.ServerError}}),Object.defineProperty(ed,"formatError",{enumerable:!0,get:function(){return eb.formatError}}),Object.defineProperty(ed,"getErrorTypeFromErrorMessage",{enumerable:!0,get:function(){return eb.getErrorTypeFromErrorMessage}}),Object.defineProperty(ed,"parseResultError",{enumerable:!0,get:function(){return eb.parseResultError}}),Object.defineProperty(ed,"parseRpcError",{enumerable:!0,get:function(){return eb.parseRpcError}})},14960:function(eu,ed,eg){"use strict";var em=this&&this.__importDefault||function(eu){return eu&&eu.__esModule?eu:{default:eu}};Object.defineProperty(ed,"__esModule",{value:!0}),ed.getErrorTypeFromErrorMessage=ed.formatError=ed.parseResultError=ed.parseRpcError=ed.ServerError=void 0;let eb=eg(46915),ew=em(eg(16599)),e_=eg(19341),eE=eg(72785),eA=em(eg(17845)),eS={formatNear:()=>(eu,ed)=>(0,e_.formatNearAmount)(ed(eu))};class eI extends eb.TypedError{}ed.ServerError=eI;class eC extends eI{transaction_outcome}function eM(eu){let ed={},eg=eP(eu,eA.default.schema,ed,""),em=new eI(eT(eg,ed),eg);return Object.assign(em,ed),em}function eO(eu){let ed=eM(eu.status.Failure),eg=new eC;return Object.assign(eg,ed),eg.type=ed.type,eg.message=ed.message,eg.transaction_outcome=eu.transaction_outcome,eg}function eT(eu,ed){return"string"==typeof eE.ErrorMessages[eu]?ew.default.render(eE.ErrorMessages[eu],{...ed,...eS}):JSON.stringify(ed)}function eP(eu,ed,eg,em){let eb,ew,e_;for(let eg in ed){if(eR(eu[eg]))return eu[eg];if(ek(eu[eg]))eb=eu[eg],ew=ed[eg],e_=eg;else{if(!(ek(eu.kind)&&ek(eu.kind[eg])))continue;eb=eu.kind[eg],ew=ed[eg],e_=eg}}if(!eb||!ew)return eg.kind=eu,em;for(let eu of Object.keys(ew.props))eg[eu]=eb[eu];return eP(eb,ed,eg,e_)}function eN(eu,ed){switch(!0){case/^account .*? does not exist while viewing$/.test(eu):case/^Account .*? doesn't exist$/.test(eu):return"AccountDoesNotExist";case/^access key .*? does not exist while viewing$/.test(eu):return"AccessKeyDoesNotExist";case/wasm execution failed with error: FunctionCallError\(CompilationError\(CodeDoesNotExist/.test(eu):case/wasm execution failed with error: CompilationError\(CodeDoesNotExist/.test(eu):return"CodeDoesNotExist";case/wasm execution failed with error: FunctionCallError\(MethodResolveError\(MethodNotFound/.test(eu):case/wasm execution failed with error: MethodResolveError\(MethodNotFound/.test(eu):return"MethodNotFound";case/Transaction nonce \d+ must be larger than nonce of the used access key \d+/.test(eu):return"InvalidNonce";default:return ed}}function ek(eu){return"[object Object]"===Object.prototype.toString.call(eu)}function eR(eu){return"[object String]"===Object.prototype.toString.call(eu)}ed.parseRpcError=eM,ed.parseResultError=eO,ed.formatError=eT,ed.getErrorTypeFromErrorMessage=eN},19341:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.baseDecode=ed.baseEncode=ed.parseNearAmount=ed.formatNearAmount=ed.NEAR_NOMINATION=ed.NEAR_NOMINATION_EXP=void 0;let em=eg(36237);ed.NEAR_NOMINATION_EXP=24,ed.NEAR_NOMINATION=10n**BigInt(ed.NEAR_NOMINATION_EXP);let eb=[],ew=10n;for(let eu=0,eg=5n;eu<ed.NEAR_NOMINATION_EXP;eu++,eg*=ew)eb[eu]=eg;function e_(eu,eg=ed.NEAR_NOMINATION_EXP){let em=BigInt(eu);if(eg!==ed.NEAR_NOMINATION_EXP){let eu=ed.NEAR_NOMINATION_EXP-eg-1;eu>0&&(em+=eb[eu])}eu=em.toString();let ew=eu.substring(0,eu.length-ed.NEAR_NOMINATION_EXP)||"0",e_=eu.substring(eu.length-ed.NEAR_NOMINATION_EXP).padStart(ed.NEAR_NOMINATION_EXP,"0").substring(0,eg);return eS(`${eC(ew)}.${e_}`)}function eE(eu){if(!eu)return null;eu=eA(eu);let eg=eu.split("."),em=eg[0],eb=eg[1]||"";if(eg.length>2||eb.length>ed.NEAR_NOMINATION_EXP)throw Error(`Cannot parse '${eu}' as NEAR amount`);return eI(em+eb.padEnd(ed.NEAR_NOMINATION_EXP,"0"))}function eA(eu){return eu.replace(/,/g,"").trim()}function eS(eu){return eu.replace(/\.?0*$/,"")}function eI(eu){return""===(eu=eu.replace(/^0+/,""))?"0":eu}function eC(eu){let ed=/(-?\d+)(\d{3})/;for(;ed.test(eu);)eu=eu.replace(ed,"$1,$2");return eu}function eM(eu){if("string"==typeof eu){let ed=[];for(let eg=0;eg<eu.length;eg++)ed.push(eu.charCodeAt(eg));eu=new Uint8Array(ed)}return em.base58.encode(eu)}function eO(eu){return em.base58.decode(eu)}ed.formatNearAmount=e_,ed.parseNearAmount=eE,ed.baseEncode=eM,ed.baseDecode=eO},50690:function(eu,ed,eg){"use strict";var em=this&&this.__createBinding||(Object.create?function(eu,ed,eg,em){void 0===em&&(em=eg);var eb=Object.getOwnPropertyDescriptor(ed,eg);(!eb||("get"in eb?!ed.__esModule:eb.writable||eb.configurable))&&(eb={enumerable:!0,get:function(){return ed[eg]}}),Object.defineProperty(eu,em,eb)}:function(eu,ed,eg,em){void 0===em&&(em=eg),eu[em]=ed[eg]}),eb=this&&this.__exportStar||function(eu,ed){for(var eg in eu)"default"===eg||Object.prototype.hasOwnProperty.call(ed,eg)||em(ed,eu,eg)};Object.defineProperty(ed,"__esModule",{value:!0}),eb(eg(87173),ed),eb(eg(6213),ed),eb(eg(19341),ed),eb(eg(28324),ed),eb(eg(79301),ed),eb(eg(67997),ed),eb(eg(6825),ed),eb(eg(2607),ed)},207:function(eu,ed){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.ConsoleLogger=void 0;class eg{logLevels;constructor(eu){this.logLevels=eu}isLevelEnabled=eu=>this.logLevels.includes(eu);print(eu,ed,...eg){switch(eu){case"error":case"fatal":return console.error(ed,...eg);case"warn":return console.warn(ed,...eg);case"log":return console.log(ed,...eg);case"debug":case"verbose":return console.debug(ed,...eg)}}verbose(eu,...ed){this.isLevelEnabled("verbose")&&this.print("verbose",eu,...ed)}debug(eu,...ed){this.isLevelEnabled("debug")&&this.print("debug",eu,...ed)}log(eu,...ed){this.isLevelEnabled("log")&&this.print("log",eu,...ed)}warn(eu,...ed){this.isLevelEnabled("warn")&&this.print("warn",eu,...ed)}error(eu,...ed){this.isLevelEnabled("error")&&this.print("error",eu,...ed)}fatal(eu,...ed){this.isLevelEnabled("fatal")&&this.print("fatal",eu,...ed)}}ed.ConsoleLogger=eg},6825:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.Logger=ed.ConsoleLogger=void 0;var em=eg(207);Object.defineProperty(ed,"ConsoleLogger",{enumerable:!0,get:function(){return em.ConsoleLogger}});var eb=eg(33460);Object.defineProperty(ed,"Logger",{enumerable:!0,get:function(){return eb.Logger}})},33460:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.Logger=void 0;let em=eg(207),eb=["verbose","debug","log","warn","error","fatal"],ew=new em.ConsoleLogger(eb);class e_{static instanceRef=ew;static overrideLogger=eu=>{this.instanceRef=eu};static error(eu,...ed){this.instanceRef?.error(eu,...ed)}static log(eu,...ed){this.instanceRef?.log(eu,...ed)}static warn(eu,...ed){this.instanceRef?.warn(eu,...ed)}static debug(eu,...ed){this.instanceRef?.debug?.(eu,...ed)}static verbose(eu,...ed){this.instanceRef?.verbose?.(eu,...ed)}static fatal(eu,...ed){this.instanceRef?.fatal?.(eu,...ed)}}ed.Logger=e_},28324:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.printTxOutcomeLogs=ed.printTxOutcomeLogsAndFailures=void 0;let em=eg(6213),eb=eg(6825);function ew({contractId:eu,outcome:ed}){let eg=[ed.transaction_outcome,...ed.receipts_outcome].reduce((eu,ed)=>{let eg="object"==typeof ed.outcome.status&&"object"==typeof ed.outcome.status.Failure;return ed.outcome.logs.length||eg?eu.concat({receiptIds:ed.outcome.receipt_ids,logs:ed.outcome.logs,failure:"object"==typeof ed.outcome.status&&void 0!==ed.outcome.status.Failure?(0,em.parseRpcError)(ed.outcome.status.Failure):null}):eu},[]);for(let ed of eg)eb.Logger.log(`Receipt${ed.receiptIds.length>1?"s":""}: ${ed.receiptIds.join(", ")}`),e_({contractId:eu,logs:ed.logs,prefix:"	"}),ed.failure&&eb.Logger.warn(`	Failure [${eu}]: ${ed.failure}`)}function e_({contractId:eu,logs:ed,prefix:eg=""}){for(let em of ed)eb.Logger.log(`${eg}Log [${eu}]: ${em}`)}ed.printTxOutcomeLogsAndFailures=ew,ed.printTxOutcomeLogs=e_},79301:function(eu,ed,eg){"use strict";var em=eg(48834).Buffer;function eb(eu){if("object"==typeof eu.status&&"string"==typeof eu.status.SuccessValue){let ed=em.from(eu.status.SuccessValue,"base64").toString();try{return JSON.parse(ed)}catch(eu){return ed}}return null}Object.defineProperty(ed,"__esModule",{value:!0}),ed.getTransactionLastResult=void 0,ed.getTransactionLastResult=eb},2607:function(eu,ed){"use strict";function eg(eu,ed){return eu<ed?-1:eu>ed?1:0}Object.defineProperty(ed,"__esModule",{value:!0}),ed.sortBigIntAsc=void 0,ed.sortBigIntAsc=eg},67997:function(eu,ed,eg){"use strict";var em=this&&this.__importDefault||function(eu){return eu&&eu.__esModule?eu:{default:eu}};Object.defineProperty(ed,"__esModule",{value:!0}),ed.diffEpochValidators=ed.findSeatPrice=void 0;let eb=em(eg(64410)),ew=eg(2607);function e_(eu,ed,eg,em){if(em&&em<49)return eE(eu,ed);if(!eg){let eu=(0,eb.default)("findSeatPrice(validators, maxNumberOfSeats)");eu("`use `findSeatPrice(validators, maxNumberOfSeats, minimumStakeRatio)` instead"),eg=[1,6250]}return eA(eu,ed,eg)}function eE(eu,ed){let eg=eu.map(eu=>BigInt(eu.stake)).sort(ew.sortBigIntAsc),em=BigInt(ed),eb=eg.reduce((eu,ed)=>eu+ed);if(eb<em)throw Error("Stakes are below seats");let e_=1n,eE=eb+1n;for(;e_!==eE-1n;){let eu=(e_+eE)/2n,ed=!1,eb=0n;for(let ew=0;ew<eg.length;++ew)if((eb+=eg[ew]/eu)>=em){e_=eu,ed=!0;break}ed||(eE=eu)}return e_}function eA(eu,ed,eg){if(2!=eg.length)throw Error("minimumStakeRatio should have 2 elements");let em=eu.map(eu=>BigInt(eu.stake)).sort(ew.sortBigIntAsc),eb=em.reduce((eu,ed)=>eu+ed);return eu.length<ed?eb*BigInt(eg[0])/BigInt(eg[1]):em[0]+1n}function eS(eu,ed){let eg=new Map;eu.forEach(eu=>eg.set(eu.account_id,eu));let em=new Set(ed.map(eu=>eu.account_id));return{newValidators:ed.filter(eu=>!eg.has(eu.account_id)),removedValidators:eu.filter(eu=>!em.has(eu.account_id)),changedValidators:ed.filter(eu=>eg.has(eu.account_id)&&eg.get(eu.account_id).stake!=eu.stake).map(eu=>({current:eg.get(eu.account_id),next:eu}))}}ed.findSeatPrice=e_,ed.diffEpochValidators=eS},62191:function(eu,ed,eg){"use strict";var em=eg(35962),eb="undefined"==typeof globalThis?eg.g:globalThis;eu.exports=function(){for(var eu=[],ed=0;ed<em.length;ed++)"function"==typeof eb[em[ed]]&&(eu[eu.length]=em[ed]);return eu}},48750:function(eu,ed,eg){"use strict";var em=eg(48834).Buffer;Object.defineProperty(ed,"__esModule",{value:!0}),ed.Account=void 0;let eb=eg(91593),ew=eg(99488),e_=eg(6287),eE=eg(18878),eA=eg(88265),eS=eg(7534),{addKey:eI,createAccount:eC,deleteAccount:eM,deleteKey:eO,deployContract:eT,fullAccessKey:eP,functionCall:eN,functionCallAccessKey:ek,stake:eR,transfer:eD}=e_.actionCreators,eB=12,eU=500,eL=1.5;class ej{connection;accountId;constructor(eu,ed){this.connection=eu,this.accountId=ed}getConnection(){return this.connection}async state(){return this.connection.provider.query({request_type:"view_account",account_id:this.accountId,finality:"optimistic"})}async signTransaction(eu,ed){let eg=await this.findAccessKey(eu,ed);if(!eg)throw new eE.TypedError(`Can not sign transactions for account ${this.accountId} on network ${this.connection.networkId}, no matching key pair exists for this account`,"KeyNotFound");let{accessKey:em}=eg,eb=await this.connection.provider.block({finality:"final"}),ew=eb.header.hash,eS=em.nonce+1n;return await (0,e_.signTransaction)(eu,eS,ed,(0,eA.baseDecode)(ew),this.connection.signer,this.accountId,this.connection.networkId)}async signAndSendTransaction({receiverId:eu,actions:ed,returnError:eg}){let em,eb;let e_=await (0,ew.exponentialBackoff)(eU,eB,eL,async()=>{[em,eb]=await this.signTransaction(eu,ed);let eg=eb.transaction.publicKey;try{return await this.connection.provider.sendTransaction(eb)}catch(ed){if("InvalidNonce"===ed.type)return eA.Logger.warn(`Retrying transaction ${eu}:${(0,eA.baseEncode)(em)} with new nonce.`),delete this.accessKeyByPublicKeyCache[eg.toString()],null;if("Expired"===ed.type)return eA.Logger.warn(`Retrying transaction ${eu}:${(0,eA.baseEncode)(em)} due to expired block hash`),null;throw ed.context=new eE.ErrorContext((0,eA.baseEncode)(em)),ed}});if(!e_)throw new eE.TypedError("nonce retries exceeded for transaction. This usually means there are too many parallel requests with the same access key.","RetriesExceeded");if((0,eA.printTxOutcomeLogsAndFailures)({contractId:eb.transaction.receiverId,outcome:e_}),!eg&&"object"==typeof e_.status&&"object"==typeof e_.status.Failure&&null!==e_.status.Failure){if(e_.status.Failure.error_message&&e_.status.Failure.error_type)throw new eE.TypedError(`Transaction ${e_.transaction_outcome.id} failed. ${e_.status.Failure.error_message}`,e_.status.Failure.error_type);throw(0,eA.parseResultError)(e_)}return e_}accessKeyByPublicKeyCache={};async findAccessKey(eu,ed){let eg=await this.connection.signer.getPublicKey(this.accountId,this.connection.networkId);if(!eg)throw new eE.TypedError(`no matching key pair found in ${this.connection.signer}`,"PublicKeyNotFound");let em=this.accessKeyByPublicKeyCache[eg.toString()];if(void 0!==em)return{publicKey:eg,accessKey:em};try{let eu=await this.connection.provider.query({request_type:"view_access_key",account_id:this.accountId,public_key:eg.toString(),finality:"optimistic"}),ed={...eu,nonce:BigInt(eu.nonce||0)};if(this.accessKeyByPublicKeyCache[eg.toString()])return{publicKey:eg,accessKey:this.accessKeyByPublicKeyCache[eg.toString()]};return this.accessKeyByPublicKeyCache[eg.toString()]=ed,{publicKey:eg,accessKey:ed}}catch(eu){if("AccessKeyDoesNotExist"==eu.type)return null;throw eu}}async createAndDeployContract(eu,ed,eg,em){let ew=eP();await this.signAndSendTransaction({receiverId:eu,actions:[eC(),eD(em),eI(eb.PublicKey.from(ed),ew),eT(eg)]});let e_=new ej(this.connection,eu);return e_}async sendMoney(eu,ed){return this.signAndSendTransaction({receiverId:eu,actions:[eD(ed)]})}async createAccount(eu,ed,eg){let em=eP();return this.signAndSendTransaction({receiverId:eu,actions:[eC(),eD(eg),eI(eb.PublicKey.from(ed),em)]})}async deleteAccount(eu){return eA.Logger.log("Deleting an account does not automatically transfer NFTs and FTs to the beneficiary address. Ensure to transfer assets before deleting."),this.signAndSendTransaction({receiverId:this.accountId,actions:[eM(eu)]})}async deployContract(eu){return this.signAndSendTransaction({receiverId:this.accountId,actions:[eT(eu)]})}encodeJSContractArgs(eu,ed,eg){return em.concat([em.from(eu),em.from([0]),em.from(ed),em.from([0]),em.from(eg)])}async functionCall({contractId:eu,methodName:ed,args:eg={},gas:em=eA.DEFAULT_FUNCTION_CALL_GAS,attachedDeposit:eb,walletMeta:ew,walletCallbackUrl:eE,stringify:eS,jsContract:eI}){let eC;if(this.validateArgs(eg),eI){let ew=this.encodeJSContractArgs(eu,ed,JSON.stringify(eg));eC=["call_js_contract",ew,em,eb,null,!0]}else{let eu=void 0===eS?e_.stringifyJsonOrBytes:eS;eC=[ed,eg,em,eb,eu,!1]}return this.signAndSendTransaction({receiverId:eI?this.connection.jsvmAccountId:eu,actions:[eN.apply(void 0,eC)],walletMeta:ew,walletCallbackUrl:eE})}async addKey(eu,ed,eg,em){let ew;return eg||(eg=[]),Array.isArray(eg)||(eg=[eg]),ew=ed?ek(ed,eg,em):eP(),this.signAndSendTransaction({receiverId:this.accountId,actions:[eI(eb.PublicKey.from(eu),ew)]})}async deleteKey(eu){return this.signAndSendTransaction({receiverId:this.accountId,actions:[eO(eb.PublicKey.from(eu))]})}async stake(eu,ed){return this.signAndSendTransaction({receiverId:this.accountId,actions:[eR(ed,eb.PublicKey.from(eu))]})}async signedDelegate({actions:eu,blockHeightTtl:ed,receiverId:eg}){let{provider:em,signer:eb}=this.connection,{header:ew}=await em.block({finality:"final"}),{accessKey:eE,publicKey:eA}=await this.findAccessKey(null,null),eS=(0,e_.buildDelegateAction)({actions:eu,maxBlockHeight:BigInt(ew.height)+BigInt(ed),nonce:BigInt(eE.nonce)+1n,publicKey:eA,receiverId:eg,senderId:this.accountId}),{signedDelegateAction:eI}=await (0,e_.signDelegateAction)({delegateAction:eS,signer:{sign:async eu=>{let{signature:ed}=await eb.signMessage(eu,eS.senderId,this.connection.networkId);return ed}}});return eI}validateArgs(eu){let ed=void 0!==eu.byteLength&&eu.byteLength===eu.length;if(!ed&&(Array.isArray(eu)||"object"!=typeof eu))throw new eE.PositionalArgsError}async viewFunction(eu){return await (0,eS.viewFunction)(this.connection,eu)}async viewState(eu,ed={finality:"optimistic"}){return await (0,eS.viewState)(this.connection,this.accountId,eu,ed)}async getAccessKeys(){let eu=await this.connection.provider.query({request_type:"view_access_key_list",account_id:this.accountId,finality:"optimistic"});return eu?.keys?.map(eu=>({...eu,access_key:{...eu.access_key,nonce:BigInt(eu.access_key.nonce)}}))}async getAccountDetails(){let eu=await this.getAccessKeys(),ed=eu.filter(eu=>"FullAccess"!==eu.access_key.permission).map(eu=>{let ed=eu.access_key.permission;return{contractId:ed.FunctionCall.receiver_id,amount:ed.FunctionCall.allowance,publicKey:eu.public_key}});return{authorizedApps:ed}}async getAccountBalance(){let eu=await this.connection.provider.experimental_protocolConfig({finality:"final"}),ed=await this.state(),eg=BigInt(eu.runtime_config.storage_amount_per_byte),em=BigInt(ed.storage_usage)*eg,eb=BigInt(ed.locked),ew=BigInt(ed.amount)+eb,e_=ew-(eb>em?eb:em);return{total:ew.toString(),stateStaked:em.toString(),staked:eb.toString(),available:e_.toString()}}async getActiveDelegatedStakeBalance(){let eu=await this.connection.provider.block({finality:"final"}),ed=eu.header.hash,eg=eu.header.epoch_id,{current_validators:em,next_validators:eb,current_proposals:ew}=await this.connection.provider.validators(eg),e_=new Set;[...em,...eb,...ew].forEach(eu=>e_.add(eu.account_id));let eE=[...e_],eA=eE.map(eu=>this.viewFunction({contractId:eu,methodName:"get_account_total_balance",args:{account_id:this.accountId},blockQuery:{blockId:ed}})),eS=await Promise.allSettled(eA),eI=eS.some(eu=>"rejected"===eu.status&&"TimeoutError"===eu.reason.type);if(eI)throw Error("Failed to get delegated stake balance");let eC=eS.reduce((eu,ed,eg)=>{let em=eE[eg];if("fulfilled"===ed.status){let eg=BigInt(ed.value);if(0n!==eg)return{...eu,stakedValidators:[...eu.stakedValidators,{validatorId:em,amount:eg.toString()}],total:eu.total+eg}}return"rejected"===ed.status?{...eu,failedValidators:[...eu.failedValidators,{validatorId:em,error:ed.reason}]}:eu},{stakedValidators:[],failedValidators:[],total:0n});return{...eC,total:eC.total.toString()}}}ed.Account=ej},41793:function(eu,ed,eg){"use strict";var em=eg(48834).Buffer;Object.defineProperty(ed,"__esModule",{value:!0}),ed.Account2FA=void 0;let eb=eg(91593),ew=eg(18878),e_=eg(6287),eE=eg(88265),eA=eg(45119),eS=eg(72224),eI=eg(28907),{addKey:eC,deleteKey:eM,deployContract:eO,fullAccessKey:eT,functionCall:eP,functionCallAccessKey:eN}=e_.actionCreators;class ek extends eA.AccountMultisig{sendCode;getCode;verifyCode;onConfirmResult;helperUrl="https://helper.testnet.near.org";constructor(eu,ed,eg){super(eu,ed,eg),this.helperUrl=eg.helperUrl||this.helperUrl,this.storage=eg.storage,this.sendCode=eg.sendCode||this.sendCodeDefault,this.getCode=eg.getCode||this.getCodeDefault,this.verifyCode=eg.verifyCode||this.verifyCodeDefault,this.onConfirmResult=eg.onConfirmResult}async signAndSendTransaction({receiverId:eu,actions:ed}){await super.signAndSendTransaction({receiverId:eu,actions:ed}),await this.sendCode();let eg=await this.promptAndVerify();return this.onConfirmResult&&await this.onConfirmResult(eg),eg}async deployMultisig(eu){let{accountId:ed}=this,eg=(await this.getRecoveryMethods()).data.filter(({kind:eu,publicKey:ed})=>("phrase"===eu||"ledger"===eu)&&null!==ed).map(eu=>eu.publicKey),eb=(await this.getAccessKeys()).filter(({public_key:eu,access_key:{permission:ed}})=>"FullAccess"===ed&&!eg.includes(eu)).map(eu=>eu.public_key).map(eR),e_=eR((await this.postSignedJson("/2fa/getAccessKey",{accountId:ed})).publicKey),eA=em.from(JSON.stringify({num_confirmations:2})),eT=[...eb.map(eu=>eM(eu)),...eb.map(eu=>eC(eu,eN(ed,eS.MULTISIG_CHANGE_METHODS,null))),eC(e_,eN(ed,eS.MULTISIG_CONFIRM_METHODS,null)),eO(eu)],ek=eT.concat(eP("new",eA,eS.MULTISIG_GAS,eS.MULTISIG_DEPOSIT));eE.Logger.log("deploying multisig contract for",ed);let{stateStatus:eD}=await this.checkMultisigCodeAndStateStatus(eu);switch(eD){case eI.MultisigStateStatus.STATE_NOT_INITIALIZED:return await super.signAndSendTransactionWithAccount(ed,ek);case eI.MultisigStateStatus.VALID_STATE:return await super.signAndSendTransactionWithAccount(ed,eT);case eI.MultisigStateStatus.INVALID_STATE:throw new ew.TypedError(`Can not deploy a contract to account ${this.accountId} on network ${this.connection.networkId}, the account has existing state.`,"ContractHasExistingState");default:throw new ew.TypedError(`Can not deploy a contract to account ${this.accountId} on network ${this.connection.networkId}, the account state could not be verified.`,"ContractStateUnknown")}}async disableWithFAK({contractBytes:eu,cleanupContractBytes:ed}){let eg=[];ed&&(await this.deleteAllRequests().catch(eu=>eu),eg=await this.get2faDisableCleanupActions(ed));let em=await this.get2faDisableKeyConversionActions(),eb=[...eg,...em,eO(eu)],e_=await this.findAccessKey(this.accountId,eb);if(e_&&e_.accessKey&&"FullAccess"!==e_.accessKey.permission)throw new ew.TypedError("No full access key found in keystore. Unable to bypass multisig","NoFAKFound");return this.signAndSendTransactionWithAccount(this.accountId,eb)}async get2faDisableCleanupActions(eu){let ed=await this.viewState("").catch(eu=>{let ed=eu.cause&&eu.cause.name;if("NO_CONTRACT_CODE"==ed)return[];throw"TOO_LARGE_CONTRACT_STATE"==ed?new ew.TypedError(`Can not deploy a contract to account ${this.accountId} on network ${this.connection.networkId}, the account has existing state.`,"ContractHasExistingState"):eu}),eg=ed.map(({key:eu})=>eu.toString("base64"));return ed.length?[eO(eu),eP("clean",{keys:eg},eS.MULTISIG_GAS,0n)]:[]}async get2faDisableKeyConversionActions(){let{accountId:eu}=this,ed=await this.getAccessKeys(),eg=ed.filter(({access_key:eu})=>"FullAccess"!==eu.permission).filter(({access_key:ed})=>{let eg=ed.permission.FunctionCall;return eg.receiver_id===eu&&4===eg.method_names.length&&eg.method_names.includes("add_request_and_confirm")}),em=eb.PublicKey.from((await this.postSignedJson("/2fa/getAccessKey",{accountId:eu})).publicKey);return[eM(em),...eg.map(({public_key:eu})=>eM(eb.PublicKey.from(eu))),...eg.map(({public_key:eu})=>eC(eb.PublicKey.from(eu),eT()))]}async disable(eu,ed){let eg;let{stateStatus:em}=await this.checkMultisigCodeAndStateStatus();if(em!==eI.MultisigStateStatus.VALID_STATE&&em!==eI.MultisigStateStatus.STATE_NOT_INITIALIZED)throw new ew.TypedError(`Can not deploy a contract to account ${this.accountId} on network ${this.connection.networkId}, the account state could not be verified.`,"ContractStateUnknown");await this.deleteAllRequests().catch(eu=>eg=eu);let eb=await this.get2faDisableCleanupActions(ed).catch(eu=>{if("ContractHasExistingState"===eu.type)throw eg||eu;throw eu}),e_=[...eb,...await this.get2faDisableKeyConversionActions(),eO(eu)];return eE.Logger.log("disabling 2fa for",this.accountId),await this.signAndSendTransaction({receiverId:this.accountId,actions:e_})}async sendCodeDefault(){let{accountId:eu}=this,{requestId:ed}=this.getRequest(),eg=await this.get2faMethod();return await this.postSignedJson("/2fa/send",{accountId:eu,method:eg,requestId:ed}),ed}async getCodeDefault(){throw Error('There is no getCode callback provided. Please provide your own in AccountMultisig constructor options. It has a parameter method where method.kind is "email" or "phone".')}async promptAndVerify(){let eu=await this.get2faMethod(),ed=await this.getCode(eu);try{let eu=await this.verifyCode(ed);return eu}catch(eu){if(eE.Logger.warn("Error validating security code:",eu),eu.toString().includes("invalid 2fa code provided")||eu.toString().includes("2fa code not valid"))return await this.promptAndVerify();throw eu}}async verifyCodeDefault(eu){let{accountId:ed}=this,eg=this.getRequest();if(!eg)throw Error("no request pending");let{requestId:em}=eg;return await this.postSignedJson("/2fa/verify",{accountId:ed,securityCode:eu,requestId:em})}async getRecoveryMethods(){let{accountId:eu}=this;return{accountId:eu,data:await this.postSignedJson("/account/recoveryMethods",{accountId:eu})}}async get2faMethod(){let{data:eu}=await this.getRecoveryMethods();if(eu&&eu.length&&(eu=eu.find(eu=>0===eu.kind.indexOf("2fa-"))),!eu)return null;let{kind:ed,detail:eg}=eu;return{kind:ed,detail:eg}}async signatureFor(){let{accountId:eu}=this,ed=await this.connection.provider.block({finality:"final"}),eg=ed.header.height.toString(),eb=await this.connection.signer.signMessage(em.from(eg),eu,this.connection.networkId),ew=em.from(eb.signature).toString("base64");return{blockNumber:eg,blockNumberSignature:ew}}async postSignedJson(eu,ed){return await fetch(this.helperUrl+eu,{body:JSON.stringify({...ed,...await this.signatureFor()}),method:"POST"})}}ed.Account2FA=ek;let eR=eu=>eb.PublicKey.from(eu)},9317:function(eu,ed){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.UrlAccountCreator=ed.LocalAccountCreator=ed.AccountCreator=void 0;class eg{}ed.AccountCreator=eg;class em extends eg{masterAccount;initialBalance;constructor(eu,ed){super(),this.masterAccount=eu,this.initialBalance=ed}async createAccount(eu,ed){await this.masterAccount.createAccount(eu,ed,this.initialBalance)}}ed.LocalAccountCreator=em;class eb extends eg{connection;helperUrl;constructor(eu,ed){super(),this.connection=eu,this.helperUrl=ed}async createAccount(eu,ed){await fetch(`${this.helperUrl}/account`,{body:JSON.stringify({newAccountId:eu,newAccountPublicKey:ed.toString()}),method:"POST"})}}ed.UrlAccountCreator=eb},45119:function(eu,ed,eg){"use strict";var em,eb=eg(48834).Buffer;Object.defineProperty(ed,"__esModule",{value:!0}),ed.AccountMultisig=void 0;let ew=eg(6287),e_=eg(88265),eE=eg(48750),eA=eg(72224),eS=eg(28907),{deployContract:eI,functionCall:eC}=ew.actionCreators;!function(eu){eu[eu.INVALID_CODE=0]="INVALID_CODE",eu[eu.VALID_CODE=1]="VALID_CODE",eu[eu.UNKNOWN_CODE=2]="UNKNOWN_CODE"}(em||(em={}));let eM={[eA.MULTISIG_STORAGE_KEY]:null};class eO extends eE.Account{storage;onAddRequestResult;constructor(eu,ed,eg){super(eu,ed),this.storage=eg.storage,this.onAddRequestResult=eg.onAddRequestResult}async signAndSendTransactionWithAccount(eu,ed){return super.signAndSendTransaction({receiverId:eu,actions:ed})}async signAndSendTransaction({receiverId:eu,actions:ed}){let eg;let{accountId:em}=this,ew=eb.from(JSON.stringify({request:{receiver_id:eu,actions:eP(ed,em,eu)}}));try{eg=await super.signAndSendTransaction({receiverId:em,actions:[eC("add_request_and_confirm",ew,eA.MULTISIG_GAS,eA.MULTISIG_DEPOSIT)]})}catch(eg){if(eg.toString().includes("Account has too many active requests. Confirm or delete some"))return await this.deleteUnconfirmedRequests(),await this.signAndSendTransaction({receiverId:eu,actions:ed});throw eg}if(!eg.status)throw Error("Request failed");let e_={...eg.status};if(!e_.SuccessValue||"string"!=typeof e_.SuccessValue)throw Error("Request failed");return this.setRequest({accountId:em,actions:ed,requestId:parseInt(eb.from(e_.SuccessValue,"base64").toString("ascii"),10)}),this.onAddRequestResult&&await this.onAddRequestResult(eg),this.deleteUnconfirmedRequests(),eg}async checkMultisigCodeAndStateStatus(eu){let ed=4294967295,eg=eu?em.UNKNOWN_CODE:em.VALID_CODE;try{return eu?await super.signAndSendTransaction({receiverId:this.accountId,actions:[eI(eu),eC("delete_request",{request_id:ed},eA.MULTISIG_GAS,eA.MULTISIG_DEPOSIT)]}):await this.deleteRequest(ed),{codeStatus:em.VALID_CODE,stateStatus:eS.MultisigStateStatus.VALID_STATE}}catch(eu){if(new RegExp(eS.MultisigDeleteRequestRejectionError.CANNOT_DESERIALIZE_STATE).test(eu&&eu.kind&&eu.kind.ExecutionError))return{codeStatus:eg,stateStatus:eS.MultisigStateStatus.INVALID_STATE};if(new RegExp(eS.MultisigDeleteRequestRejectionError.MULTISIG_NOT_INITIALIZED).test(eu&&eu.kind&&eu.kind.ExecutionError))return{codeStatus:eg,stateStatus:eS.MultisigStateStatus.STATE_NOT_INITIALIZED};if(new RegExp(eS.MultisigDeleteRequestRejectionError.NO_SUCH_REQUEST).test(eu&&eu.kind&&eu.kind.ExecutionError))return{codeStatus:eg,stateStatus:eS.MultisigStateStatus.VALID_STATE};if(new RegExp(eS.MultisigDeleteRequestRejectionError.METHOD_NOT_FOUND).test(eu&&eu.message))return{codeStatus:em.INVALID_CODE,stateStatus:eS.MultisigStateStatus.UNKNOWN_STATE};throw eu}}deleteRequest(eu){return super.signAndSendTransaction({receiverId:this.accountId,actions:[eC("delete_request",{request_id:eu},eA.MULTISIG_GAS,eA.MULTISIG_DEPOSIT)]})}async deleteAllRequests(){let eu=await this.getRequestIds();eu.length&&await Promise.all(eu.map(eu=>this.deleteRequest(eu)))}async deleteUnconfirmedRequests(){let eu=await this.getRequestIds(),{requestId:ed}=this.getRequest();for(let eg of eu)if(eg!=ed)try{await super.signAndSendTransaction({receiverId:this.accountId,actions:[eC("delete_request",{request_id:eg},eA.MULTISIG_GAS,eA.MULTISIG_DEPOSIT)]})}catch(eu){e_.Logger.warn("Attempt to delete an earlier request before 15 minutes failed. Will try again.")}}async getRequestIds(){return this.viewFunction({contractId:this.accountId,methodName:"list_request_ids"})}getRequest(){return this.storage?JSON.parse(this.storage.getItem(eA.MULTISIG_STORAGE_KEY)||"{}"):eM[eA.MULTISIG_STORAGE_KEY]}setRequest(eu){if(this.storage)return this.storage.setItem(eA.MULTISIG_STORAGE_KEY,JSON.stringify(eu));eM[eA.MULTISIG_STORAGE_KEY]=eu}}ed.AccountMultisig=eO;let eT=eu=>eu.toString().replace("ed25519:",""),eP=(eu,ed,eg)=>eu.map(eu=>{let em=eu.enum,{gas:ew,publicKey:e_,methodName:eE,args:eS,deposit:eI,accessKey:eC,code:eM}=eu[em],eO={type:em[0].toUpperCase()+em.substr(1),gas:ew&&ew.toString()||void 0,public_key:e_&&eT(e_)||void 0,method_name:eE,args:eS&&eb.from(eS).toString("base64")||void 0,code:eM&&eb.from(eM).toString("base64")||void 0,amount:eI&&eI.toString()||void 0,deposit:eI&&eI.toString()||"0",permission:void 0};if(eC&&(eg===ed&&"fullAccess"!==eC.permission.enum&&(eO.permission={receiver_id:ed,allowance:eA.MULTISIG_ALLOWANCE.toString(),method_names:eA.MULTISIG_CHANGE_METHODS}),"functionCall"===eC.permission.enum)){let{receiverId:eu,methodNames:ed,allowance:eg}=eC.permission.functionCall;eO.permission={receiver_id:eu,allowance:eg&&eg.toString()||void 0,method_names:ed}}return eO})},25738:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.Connection=void 0;let em=eg(26390),eb=eg(99488);function ew(eu){switch(eu.type){case void 0:return eu;case"JsonRpcProvider":return new eb.JsonRpcProvider({...eu.args});case"FailoverRpcProvider":{let ed=(eu?.args||[]).map(eu=>new eb.JsonRpcProvider(eu));return new eb.FailoverRpcProvider(ed)}default:throw Error(`Unknown provider type ${eu.type}`)}}function e_(eu){switch(eu.type){case void 0:return eu;case"InMemorySigner":return new em.InMemorySigner(eu.keyStore);default:throw Error(`Unknown signer type ${eu.type}`)}}class eE{networkId;provider;signer;jsvmAccountId;constructor(eu,ed,eg,em){this.networkId=eu,this.provider=ed,this.signer=eg,this.jsvmAccountId=em}getConnection(){return this}static fromConfig(eu){let ed=ew(eu.provider),eg=e_(eu.signer);return new eE(eu.networkId,ed,eg,eu.jsvmAccountId)}}ed.Connection=eE},72224:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.MULTISIG_CONFIRM_METHODS=ed.MULTISIG_CHANGE_METHODS=ed.MULTISIG_DEPOSIT=ed.MULTISIG_GAS=ed.MULTISIG_ALLOWANCE=ed.MULTISIG_STORAGE_KEY=void 0;let em=eg(88265);ed.MULTISIG_STORAGE_KEY="__multisigRequest",ed.MULTISIG_ALLOWANCE=BigInt((0,em.parseNearAmount)("1")),ed.MULTISIG_GAS=100000000000000n,ed.MULTISIG_DEPOSIT=0n,ed.MULTISIG_CHANGE_METHODS=["add_request","add_request_and_confirm","delete_request","confirm"],ed.MULTISIG_CONFIRM_METHODS=["confirm"]},41140:function(eu,ed,eg){"use strict";var em=this&&this.__importDefault||function(eu){return eu&&eu.__esModule?eu:{default:eu}};Object.defineProperty(ed,"__esModule",{value:!0}),ed.Contract=void 0;let eb=eg(88265),ew=eg(18878),e_=eg(85098),eE=em(eg(60772)),eA=em(eg(64410)),eS=eg(14943),eI=eg(48750),eC=eg(48477),eM=eg(7534);function eO(eu,ed){return({[eu]:(...eu)=>ed(...eu)})[eu]}function eT(eu,ed,eg){if(!eN(eu))return;if(ed.params&&ed.params.serialization_type!==eS.AbiSerializationType.Json)throw new eC.UnsupportedSerializationError(ed.name,ed.params.serialization_type);if(ed.result&&ed.result.serialization_type!==eS.AbiSerializationType.Json)throw new eC.UnsupportedSerializationError(ed.name,ed.result.serialization_type);let em=ed.params?.args||[];for(let ed of em){let em=eu[ed.name],eb=ed.type_schema;eb.definitions=eg.body.root_schema.definitions;let ew=(0,eE.default)(eb),e_=ew(em);if(!e_)throw new eC.ArgumentSchemaError(ed.name,ew.errors)}for(let ed of Object.keys(eu)){let eu=em.find(eu=>eu.name===ed);if(!eu)throw new eC.UnknownArgumentError(ed,em.map(eu=>eu.name))}}let eP=eu=>eu&&void 0!==eu.byteLength&&eu.byteLength===eu.length,eN=eu=>"[object Object]"===Object.prototype.toString.call(eu);class ek{account;connection;contractId;lve;constructor(eu,ed,eg){if(this.connection=eu.getConnection(),eu instanceof eI.Account){let ed=(0,eA.default)("new Contract(account, contractId, options)");ed("use `new Contract(connection, contractId, options)` instead"),this.account=eu}this.contractId=ed,this.lve=new e_.LocalViewExecution(eu);let{viewMethods:em=[],changeMethods:eE=[],abi:ek,useLocalViewExecution:eR}=eg,eD=em.map(eu=>({name:eu,abi:null})),eB=eE.map(eu=>({name:eu,abi:null}));if(ek){if(eD.length>0||eB.length>0)throw new eC.ConflictingOptions;eD=ek.body.functions.filter(eu=>eu.kind===eS.AbiFunctionKind.View).map(eu=>({name:eu.name,abi:eu})),eB=ek.body.functions.filter(eu=>eu.kind===eS.AbiFunctionKind.Call).map(eu=>({name:eu.name,abi:eu}))}eD.forEach(({name:eu,abi:ed})=>{Object.defineProperty(this,eu,{writable:!1,enumerable:!0,value:eO(eu,async(eg={},em={},...e_)=>{if(e_.length||!(eN(eg)||eP(eg))||!eN(em))throw new ew.PositionalArgsError;if(ed&&eT(eg,ed,ek),eR)try{return await this.lve.viewFunction({contractId:this.contractId,methodName:eu,args:eg,...em})}catch(eu){eb.Logger.warn(`Local view execution failed with: "${eu.message}"`),eb.Logger.warn("Fallback to normal RPC call")}return this.account?this.account.viewFunction({contractId:this.contractId,methodName:eu,args:eg,...em}):(0,eM.viewFunction)(this.connection,{contractId:this.contractId,methodName:eu,args:eg,...em})})})}),eB.forEach(({name:eu,abi:ed})=>{Object.defineProperty(this,eu,{writable:!1,enumerable:!0,value:eO(eu,async(...eg)=>{if(eg.length&&(eg.length>3||!(eN(eg[0])||eP(eg[0]))))throw new ew.PositionalArgsError;if(eg.length>1||!(eg[0]&&eg[0].args)){let eu=(0,eA.default)("contract.methodName(args, gas, amount)");eu("use `contract.methodName({ signerAccount, args, gas?, amount?, callbackUrl?, meta? })` instead"),eg[0]={args:eg[0],gas:eg[1],amount:eg[2]}}return ed&&eT(eg[0].args,ed,ek),this._changeMethod({methodName:eu,...eg[0]})})})})}async _changeMethod({signerAccount:eu,args:ed,methodName:eg,gas:em,amount:ew,meta:e_,callbackUrl:eE}){eR({gas:em,amount:ew});let eA=this.account||eu;if(!eA)throw Error("signerAccount must be specified");let eS=await eA.functionCall({contractId:this.contractId,methodName:eg,args:ed,gas:em,attachedDeposit:ew,walletMeta:e_,walletCallbackUrl:eE});return(0,eb.getTransactionLastResult)(eS)}}function eR(eu){let ed="number, decimal string or BigInt";for(let eg of Object.keys(eu)){let em=eu[eg];if(em&&"bigint"!=typeof em&&isNaN(em))throw new ew.ArgumentTypeError(eg,ed,em)}}ed.Contract=ek},48477:function(eu,ed){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.ConflictingOptions=ed.ArgumentSchemaError=ed.UnknownArgumentError=ed.UnsupportedSerializationError=void 0;class eg extends Error{constructor(eu,ed){super(`Contract method '${eu}' is using an unsupported serialization type ${ed}`)}}ed.UnsupportedSerializationError=eg;class em extends Error{constructor(eu,ed){super(`Unrecognized argument '${eu}', expected '${JSON.stringify(ed)}'`)}}ed.UnknownArgumentError=em;class eb extends Error{constructor(eu,ed){super(`Argument '${eu}' does not conform to the specified ABI schema: '${JSON.stringify(ed)}'`)}}ed.ArgumentSchemaError=eb;class ew extends Error{constructor(){super("Conflicting contract method options have been passed. You can either specify ABI or a list of view/call methods.")}}ed.ConflictingOptions=ew},96113:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.MultisigStateStatus=ed.MultisigDeleteRequestRejectionError=ed.UnsupportedSerializationError=ed.UnknownArgumentError=ed.ConflictingOptions=ed.ArgumentSchemaError=ed.Contract=ed.MULTISIG_CONFIRM_METHODS=ed.MULTISIG_CHANGE_METHODS=ed.MULTISIG_DEPOSIT=ed.MULTISIG_GAS=ed.MULTISIG_ALLOWANCE=ed.MULTISIG_STORAGE_KEY=ed.Connection=ed.AccountMultisig=ed.UrlAccountCreator=ed.LocalAccountCreator=ed.AccountCreator=ed.Account2FA=ed.Account=void 0;var em=eg(48750);Object.defineProperty(ed,"Account",{enumerable:!0,get:function(){return em.Account}});var eb=eg(41793);Object.defineProperty(ed,"Account2FA",{enumerable:!0,get:function(){return eb.Account2FA}});var ew=eg(9317);Object.defineProperty(ed,"AccountCreator",{enumerable:!0,get:function(){return ew.AccountCreator}}),Object.defineProperty(ed,"LocalAccountCreator",{enumerable:!0,get:function(){return ew.LocalAccountCreator}}),Object.defineProperty(ed,"UrlAccountCreator",{enumerable:!0,get:function(){return ew.UrlAccountCreator}});var e_=eg(45119);Object.defineProperty(ed,"AccountMultisig",{enumerable:!0,get:function(){return e_.AccountMultisig}});var eE=eg(25738);Object.defineProperty(ed,"Connection",{enumerable:!0,get:function(){return eE.Connection}});var eA=eg(72224);Object.defineProperty(ed,"MULTISIG_STORAGE_KEY",{enumerable:!0,get:function(){return eA.MULTISIG_STORAGE_KEY}}),Object.defineProperty(ed,"MULTISIG_ALLOWANCE",{enumerable:!0,get:function(){return eA.MULTISIG_ALLOWANCE}}),Object.defineProperty(ed,"MULTISIG_GAS",{enumerable:!0,get:function(){return eA.MULTISIG_GAS}}),Object.defineProperty(ed,"MULTISIG_DEPOSIT",{enumerable:!0,get:function(){return eA.MULTISIG_DEPOSIT}}),Object.defineProperty(ed,"MULTISIG_CHANGE_METHODS",{enumerable:!0,get:function(){return eA.MULTISIG_CHANGE_METHODS}}),Object.defineProperty(ed,"MULTISIG_CONFIRM_METHODS",{enumerable:!0,get:function(){return eA.MULTISIG_CONFIRM_METHODS}});var eS=eg(41140);Object.defineProperty(ed,"Contract",{enumerable:!0,get:function(){return eS.Contract}});var eI=eg(48477);Object.defineProperty(ed,"ArgumentSchemaError",{enumerable:!0,get:function(){return eI.ArgumentSchemaError}}),Object.defineProperty(ed,"ConflictingOptions",{enumerable:!0,get:function(){return eI.ConflictingOptions}}),Object.defineProperty(ed,"UnknownArgumentError",{enumerable:!0,get:function(){return eI.UnknownArgumentError}}),Object.defineProperty(ed,"UnsupportedSerializationError",{enumerable:!0,get:function(){return eI.UnsupportedSerializationError}});var eC=eg(28907);Object.defineProperty(ed,"MultisigDeleteRequestRejectionError",{enumerable:!0,get:function(){return eC.MultisigDeleteRequestRejectionError}}),Object.defineProperty(ed,"MultisigStateStatus",{enumerable:!0,get:function(){return eC.MultisigStateStatus}})},85098:function(eu,ed,eg){"use strict";var em=eg(48834).Buffer;Object.defineProperty(ed,"__esModule",{value:!0}),ed.LocalViewExecution=void 0;let eb=eg(88265),ew=eg(11294),e_=eg(61070),eE=eg(7534);class eA{connection;storage;constructor(eu){this.connection=eu.getConnection(),this.storage=new ew.Storage}async fetchContractCode(eu,ed){let eg=await this.connection.provider.query({request_type:"view_code",account_id:eu,...ed});return eg.code_base64}async fetchContractState(eu,ed){return(0,eE.viewState)(this.connection,eu,"",ed)}async fetch(eu,ed){let eg=await this.connection.provider.block(ed),em=eg.header.hash,eb=eg.header.height,ew=eg.header.timestamp,e_=await this.fetchContractCode(eu,ed),eE=await this.fetchContractState(eu,ed);return{blockHash:em,blockHeight:eb,blockTimestamp:ew,contractCode:e_,contractState:eE}}async loadOrFetch(eu,ed){let eg=this.storage.load(ed);if(eg)return eg;let{blockHash:em,...eb}=await this.fetch(eu,ed);return this.storage.save(em,eb),eb}async viewFunction({contractId:eu,methodName:ed,args:eg={},blockQuery:ew={finality:"optimistic"}}){let eE=JSON.stringify(eg),{contractCode:eA,contractState:eS,blockHeight:eI,blockTimestamp:eC}=await this.loadOrFetch(eu,ew),eM=new e_.Runtime({contractId:eu,contractCode:eA,contractState:eS,blockHeight:eI,blockTimestamp:eC,methodArgs:eE}),{result:eO,logs:eT}=await eM.execute(ed);return eT&&(0,eb.printTxOutcomeLogs)({contractId:eu,logs:eT}),JSON.parse(em.from(eO).toString())}}ed.LocalViewExecution=eA},61070:function(eu,ed,eg){"use strict";var em=eg(48834).Buffer;Object.defineProperty(ed,"__esModule",{value:!0}),ed.Runtime=void 0;let eb=eg(96053),ew=eu=>()=>{throw Error("method not implemented: "+eu)},e_=eu=>()=>{throw Error("method not available for view calls: "+eu)};class eE{context;wasm;memory;registers;logs;result;constructor({contractCode:eu,...ed}){this.context=ed,this.wasm=this.prepareWASM(em.from(eu,"base64")),this.memory=new WebAssembly.Memory({initial:1024,maximum:2048}),this.registers={},this.logs=[],this.result=em.from([])}readUTF16CStr(eu){let ed=[],eg=new Uint16Array(this.memory.buffer),eb=Number(eu)/2;for(;0!=eg[eb];)ed.push(eg[eb]),eb++;return em.from(Uint16Array.from(ed).buffer).toString("ucs2")}readUTF8CStr(eu,ed){let eg=[],eb=new Uint8Array(this.memory.buffer),ew=Number(ed);for(let ed=0;ed<eu&&0!=eb[ew];ed++)eg.push(eb[ew]),ew++;return em.from(eg).toString("utf8")}storageRead(eu,ed){let eg=em.from(new Uint8Array(this.memory.buffer,Number(ed),Number(eu))),eb=this.context.contractState.filter(eu=>0===em.compare(eu.key,eg)).map(eu=>eu.value);return 0===eb.length?null:eb.length>1?eb:eb[0]}prepareWASM(eu){let ed=[],eg=eu.subarray(0,4);if("\x00asm"!==eg.toString("utf8"))throw Error("Invalid magic number");let eb=eu.readUInt32LE(4);if(1!=eb)throw Error("Invalid version: "+eb);let ew=8;function e_(){let ed,eg=0,em=0;do eg|=(127&(ed=eu[ew++]))<<em,em+=7;while(128&ed);return eg}function eE(){let ed=eu[ew++],eg=1&ed,em=e_(),eb=eg?e_():null;return{initial:em,max:eb}}function eA(){let ed=e_(),eg=eu.subarray(ew,ew+ed);return ew+=ed,eg.toString("utf8")}function eS(eu){let ed=[];do{let eg=127&eu;0!=(eu>>=7)&&(eg|=128),ed.push(eg)}while(0!==eu);return em.from(ed)}function eI(eu){let ed=em.from(eu,"utf8");return em.concat([eS(ed.length),ed])}ed.push(eu.subarray(0,ew));do{let eg=ew,eb=eu.readUInt8(ew);ew++;let eC=e_(),eM=ew+eC;if(5==eb)ed.push(em.from([5,1,0]));else if(2==eb){let eg=[],eb=e_();for(let ed=0;ed<eb;ed++){let ed=ew;eA(),eA();let em=eu.readUInt8(ew);ew++;let eb=!1;switch(em){case 0:e_();break;case 1:ew++,eE();break;case 2:eE(),eb=!0;break;case 3:ew++,ew++;break;default:throw Error("Invalid import kind: "+em)}eb||eg.push(eu.subarray(ed,ew))}let eC=em.concat([eI("env"),eI("memory"),em.from([2]),em.from([0]),eS(1)]);eg.push(eC);let eM=em.concat([eS(eg.length),...eg]);ed.push(em.concat([em.from([2]),eS(eM.length),eM]))}else if(7==eb){let eg=[],eb=e_();for(let ed=0;ed<eb;ed++){let ed=ew;eA();let em=eu.readUInt8(ew);ew++,e_(),2!==em&&eg.push(eu.subarray(ed,ew))}let eE=em.concat([eS(eg.length),...eg]);ed.push(em.concat([em.from([7]),eS(eE.length),eE]))}else ed.push(eu.subarray(eg,eM));ew=eM}while(ew<eu.length);return em.concat(ed)}getRegisterLength(eu){return BigInt(this.registers[eu.toString()]?this.registers[eu.toString()].length:Number.MAX_SAFE_INTEGER)}readFromRegister(eu,ed){let eg=new Uint8Array(this.memory.buffer);eg.set(this.registers[eu.toString()]||em.from([]),Number(ed))}getCurrentAccountId(eu){this.registers[eu.toString()]=em.from(this.context.contractId)}inputMethodArgs(eu){this.registers[eu.toString()]=em.from(this.context.methodArgs)}getBlockHeight(){return BigInt(this.context.blockHeight)}getBlockTimestamp(){return BigInt(this.context.blockTimestamp)}sha256(eu,ed,eg){let em=new Uint8Array(this.memory.buffer,Number(ed),Number(eu));this.registers[eg.toString()]=(0,eb.sha256)(em)}returnValue(eu,ed){this.result=em.from(new Uint8Array(this.memory.buffer,Number(ed),Number(eu)))}panic(eu){throw Error("panic: "+eu)}abort(eu,ed,eg,em){let eb=this.readUTF16CStr(eu),ew=this.readUTF16CStr(ed),e_=`${eb} ${ew}:${eg}:${em}`;if(!eb||!ew)throw Error("abort: String encoding is bad UTF-16 sequence.");throw Error("abort: "+e_)}appendToLog(eu,ed){this.logs.push(this.readUTF8CStr(eu,ed))}readStorage(eu,ed,eg){let em=this.storageRead(eu,ed);return null==em?0n:(this.registers[eg]=em,1n)}hasStorageKey(eu,ed){let eg=this.storageRead(eu,ed);return null==eg?0n:1n}getHostImports(){return{register_len:this.getRegisterLength.bind(this),read_register:this.readFromRegister.bind(this),current_account_id:this.getCurrentAccountId.bind(this),input:this.inputMethodArgs.bind(this),block_index:this.getBlockHeight.bind(this),block_timestamp:this.getBlockTimestamp.bind(this),sha256:this.sha256.bind(this),value_return:this.returnValue.bind(this),abort:this.abort.bind(this),log_utf8:this.appendToLog.bind(this),log_utf16:this.appendToLog.bind(this),storage_read:this.readStorage.bind(this),storage_has_key:this.hasStorageKey.bind(this),panic:()=>this.panic("explicit guest panic"),panic_utf8:(eu,ed)=>this.panic(this.readUTF8CStr(eu,ed)),epoch_height:ew("epoch_height"),storage_usage:ew("storage_usage"),account_balance:ew("account_balance"),account_locked_balance:ew("account_locked_balance"),random_seed:ew("random_seed"),ripemd160:ew("ripemd160"),keccak256:ew("keccak256"),keccak512:ew("keccak512"),ecrecover:ew("ecrecover"),validator_stake:ew("validator_stake"),validator_total_stake:ew("validator_total_stake"),write_register:e_("write_register"),signer_account_id:e_("signer_account_id"),signer_account_pk:e_("signer_account_pk"),predecessor_account_id:e_("predecessor_account_id"),attached_deposit:e_("attached_deposit"),prepaid_gas:e_("prepaid_gas"),used_gas:e_("used_gas"),promise_create:e_("promise_create"),promise_then:e_("promise_then"),promise_and:e_("promise_and"),promise_batch_create:e_("promise_batch_create"),promise_batch_then:e_("promise_batch_then"),promise_batch_action_create_account:e_("promise_batch_action_create_account"),promise_batch_action_deploy_contract:e_("promise_batch_action_deploy_contract"),promise_batch_action_function_call:e_("promise_batch_action_function_call"),promise_batch_action_function_call_weight:e_("promise_batch_action_function_call_weight"),promise_batch_action_transfer:e_("promise_batch_action_transfer"),promise_batch_action_stake:e_("promise_batch_action_stake"),promise_batch_action_add_key_with_full_access:e_("promise_batch_action_add_key_with_full_access"),promise_batch_action_add_key_with_function_call:e_("promise_batch_action_add_key_with_function_call"),promise_batch_action_delete_key:e_("promise_batch_action_delete_key"),promise_batch_action_delete_account:e_("promise_batch_action_delete_account"),promise_results_count:e_("promise_results_count"),promise_result:e_("promise_result"),promise_return:e_("promise_return"),storage_write:e_("storage_write"),storage_remove:e_("storage_remove")}}async execute(eu){let ed=await WebAssembly.compile(this.wasm),eg=await WebAssembly.instantiate(ed,{env:{...this.getHostImports(),memory:this.memory}}),em=eg.exports[eu];if(void 0==em)throw Error(`Contract method '${eu}' does not exists in contract ${this.context.contractId} for block id ${this.context.blockHeight}`);return em(),{result:this.result,logs:this.logs}}}ed.Runtime=eE},11294:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.Storage=void 0;let em=eg(41427);class eb{cache;static MAX_ELEMENTS=100;blockHeights;constructor(eu={max:eb.MAX_ELEMENTS}){this.cache=new em.LRUMap(eu.max),this.blockHeights=new Map}load(eu){let ed=!("blockId"in eu);if(ed)return;let eg=eu.blockId;return 44==eg.toString().length&&(eg=this.blockHeights.get(eg.toString())),this.cache.get(eg)}save(eu,{blockHeight:ed,blockTimestamp:eg,contractCode:em,contractState:eb}){this.blockHeights.set(eu,ed),this.cache.set(ed,{blockHeight:ed,blockTimestamp:eg,contractCode:em,contractState:eb})}}ed.Storage=eb},28907:function(eu,ed){"use strict";var eg,em;Object.defineProperty(ed,"__esModule",{value:!0}),ed.MultisigStateStatus=ed.MultisigDeleteRequestRejectionError=void 0,function(eu){eu.CANNOT_DESERIALIZE_STATE="Cannot deserialize the contract state",eu.MULTISIG_NOT_INITIALIZED="Smart contract panicked: Multisig contract should be initialized before usage",eu.NO_SUCH_REQUEST="Smart contract panicked: panicked at 'No such request: either wrong number or already confirmed'",eu.REQUEST_COOLDOWN_ERROR="Request cannot be deleted immediately after creation.",eu.METHOD_NOT_FOUND="Contract method is not found"}(eg||(ed.MultisigDeleteRequestRejectionError=eg={})),function(eu){eu[eu.INVALID_STATE=0]="INVALID_STATE",eu[eu.STATE_NOT_INITIALIZED=1]="STATE_NOT_INITIALIZED",eu[eu.VALID_STATE=2]="VALID_STATE",eu[eu.UNKNOWN_STATE=3]="UNKNOWN_STATE"}(em||(ed.MultisigStateStatus=em={}))},7534:function(eu,ed,eg){"use strict";var em=eg(48834).Buffer;Object.defineProperty(ed,"__esModule",{value:!0}),ed.viewFunction=ed.viewState=ed.encodeJSContractArgs=ed.validateArgs=void 0;let eb=eg(18878),ew=eg(88265);function e_(eu){return JSON.parse(em.from(eu).toString())}function eE(eu){return em.from(JSON.stringify(eu))}function eA(eu){let ed=void 0!==eu.byteLength&&eu.byteLength===eu.length;if(!ed&&(Array.isArray(eu)||"object"!=typeof eu))throw new eb.PositionalArgsError}function eS(eu,ed,eg){return em.concat([em.from(eu),em.from([0]),em.from(ed),em.from([0]),em.from(eg)])}async function eI(eu,ed,eg,eb={finality:"optimistic"}){let{values:ew}=await eu.provider.query({request_type:"view_state",...eb,account_id:ed,prefix_base64:em.from(eg).toString("base64")});return ew.map(({key:eu,value:ed})=>({key:em.from(eu,"base64"),value:em.from(ed,"base64")}))}async function eC(eu,{contractId:ed,methodName:eg,args:eb={},parse:eI=e_,stringify:eC=eE,jsContract:eM=!1,blockQuery:eO={finality:"optimistic"}}){let eT;eA(eb),eT=eM?eS(ed,eg,Object.keys(eb).length>0?JSON.stringify(eb):""):eC(eb);let eP=await eu.provider.query({request_type:"call_function",...eO,account_id:eM?eu.jsvmAccountId:ed,method_name:eM?"view_js_contract":eg,args_base64:eT.toString("base64")});return eP.logs&&(0,ew.printTxOutcomeLogs)({contractId:ed,logs:eP.logs}),eP.result&&eP.result.length>0&&eI(em.from(eP.result))}ed.validateArgs=eA,ed.encodeJSContractArgs=eS,ed.viewState=eI,ed.viewFunction=eC},10110:function(eu,ed){"use strict";var eg;Object.defineProperty(ed,"__esModule",{value:!0}),ed.KeySize=ed.KeyType=void 0,function(eu){eu[eu.ED25519=0]="ED25519",eu[eu.SECP256K1=1]="SECP256K1"}(eg||(ed.KeyType=eg={})),ed.KeySize={SECRET_KEY:32,ED25519_PUBLIC_KEY:32,SECP256k1_PUBLIC_KEY:64}},91593:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.PublicKey=ed.KeyPairSecp256k1=ed.KeyPairEd25519=ed.KeyPair=ed.KeyType=void 0;var em=eg(10110);Object.defineProperty(ed,"KeyType",{enumerable:!0,get:function(){return em.KeyType}});var eb=eg(96436);Object.defineProperty(ed,"KeyPair",{enumerable:!0,get:function(){return eb.KeyPair}});var ew=eg(89019);Object.defineProperty(ed,"KeyPairEd25519",{enumerable:!0,get:function(){return ew.KeyPairEd25519}});var e_=eg(12353);Object.defineProperty(ed,"KeyPairSecp256k1",{enumerable:!0,get:function(){return e_.KeyPairSecp256k1}});var eE=eg(14999);Object.defineProperty(ed,"PublicKey",{enumerable:!0,get:function(){return eE.PublicKey}})},96436:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.KeyPair=void 0;let em=eg(35588),eb=eg(89019),ew=eg(12353);class e_ extends em.KeyPairBase{static fromRandom(eu){switch(eu.toUpperCase()){case"ED25519":return eb.KeyPairEd25519.fromRandom();case"SECP256K1":return ew.KeyPairSecp256k1.fromRandom();default:throw Error(`Unknown curve ${eu}`)}}static fromString(eu){let ed=eu.split(":");if(2===ed.length)switch(ed[0].toUpperCase()){case"ED25519":return new eb.KeyPairEd25519(ed[1]);case"SECP256K1":return new ew.KeyPairSecp256k1(ed[1]);default:throw Error(`Unknown curve: ${ed[0]}`)}else throw Error("Invalid encoded key format, must be <curve>:<encoded key>")}}ed.KeyPair=e_},35588:function(eu,ed){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.KeyPairBase=void 0;class eg{}ed.KeyPairBase=eg},89019:function(eu,ed,eg){"use strict";var em=this&&this.__importDefault||function(eu){return eu&&eu.__esModule?eu:{default:eu}};Object.defineProperty(ed,"__esModule",{value:!0}),ed.KeyPairEd25519=void 0;let eb=eg(88265),ew=eg(16836),e_=em(eg(95003)),eE=eg(10110),eA=eg(35588),eS=eg(14999);class eI extends eA.KeyPairBase{publicKey;secretKey;extendedSecretKey;constructor(eu){super();let ed=(0,eb.baseDecode)(eu),eg=new Uint8Array(ed.slice(0,eE.KeySize.SECRET_KEY)),em=ew.ed25519.getPublicKey(new Uint8Array(eg));this.publicKey=new eS.PublicKey({keyType:eE.KeyType.ED25519,data:em}),this.secretKey=(0,eb.baseEncode)(eg),this.extendedSecretKey=eu}static fromRandom(){let eu=(0,e_.default)(eE.KeySize.SECRET_KEY),ed=ew.ed25519.getPublicKey(new Uint8Array(eu)),eg=new Uint8Array([...eu,...ed]);return new eI((0,eb.baseEncode)(eg))}sign(eu){let ed=ew.ed25519.sign(eu,(0,eb.baseDecode)(this.secretKey));return{signature:ed,publicKey:this.publicKey}}verify(eu,ed){return this.publicKey.verify(eu,ed)}toString(){return`ed25519:${this.extendedSecretKey}`}getPublicKey(){return this.publicKey}}ed.KeyPairEd25519=eI},12353:function(eu,ed,eg){"use strict";var em=this&&this.__importDefault||function(eu){return eu&&eu.__esModule?eu:{default:eu}};Object.defineProperty(ed,"__esModule",{value:!0}),ed.KeyPairSecp256k1=void 0;let eb=eg(88265),ew=em(eg(95003)),e_=em(eg(97637)),eE=eg(10110),eA=eg(35588),eS=eg(14999);class eI extends eA.KeyPairBase{publicKey;secretKey;extendedSecretKey;constructor(eu){super();let ed=(0,eb.baseDecode)(eu),eg=new Uint8Array(ed.slice(0,eE.KeySize.SECRET_KEY)),em=e_.default.publicKeyCreate(new Uint8Array(eg),!1),ew=em.subarray(1,em.length);this.publicKey=new eS.PublicKey({keyType:eE.KeyType.SECP256K1,data:ew}),this.secretKey=(0,eb.baseEncode)(eg),this.extendedSecretKey=eu}static fromRandom(){let eu=(0,ew.default)(eE.KeySize.SECRET_KEY),ed=e_.default.publicKeyCreate(new Uint8Array(eu),!1),eg=ed.subarray(1,ed.length),em=new Uint8Array([...eu,...eg]);return new eI((0,eb.baseEncode)(em))}sign(eu){let{signature:ed,recid:eg}=e_.default.ecdsaSign(eu,(0,eb.baseDecode)(this.secretKey));return{signature:new Uint8Array([...ed,eg]),publicKey:this.publicKey}}verify(eu,ed){return this.publicKey.verify(eu,ed)}toString(){return`secp256k1:${this.extendedSecretKey}`}getPublicKey(){return this.publicKey}}ed.KeyPairSecp256k1=eI},14999:function(eu,ed,eg){"use strict";var em=this&&this.__importDefault||function(eu){return eu&&eu.__esModule?eu:{default:eu}};Object.defineProperty(ed,"__esModule",{value:!0}),ed.PublicKey=void 0;let eb=eg(88265),ew=eg(16836),e_=em(eg(97637)),eE=eg(10110);function eA(eu){switch(eu){case eE.KeyType.ED25519:return"ed25519";case eE.KeyType.SECP256K1:return"secp256k1";default:throw Error(`Unknown key type ${eu}`)}}function eS(eu){switch(eu.toLowerCase()){case"ed25519":return eE.KeyType.ED25519;case"secp256k1":return eE.KeyType.SECP256K1;default:throw Error(`Unknown key type ${eu}`)}}function eI(eu){switch(eu){case eE.KeyType.ED25519:return"ed25519Key";case eE.KeyType.SECP256K1:return"secp256k1Key";default:throw Error(`unknown type ${eu}`)}}class eC{constructor(eu){if(1!==Object.keys(eu).length)throw Error("Enum can only take single value");Object.keys(eu).map(ed=>{this[ed]=eu[ed]})}}class eM extends eC{enum;ed25519Key;secp256k1Key;constructor(eu){let ed=eI(eu.keyType);super({[ed]:eu}),this[ed]=eu,this.enum=ed}static from(eu){return"string"==typeof eu?eM.fromString(eu):eu}static fromString(eu){let ed,eg;let em=eu.split(":");if(1===em.length)ed=em[0];else if(2===em.length)ed=em[1],eg=eS(em[0]);else throw Error("Invalid encoded key format, must be <curve>:<encoded key>");let ew=(0,eb.baseDecode)(ed);eg||(eg=ew.length===eE.KeySize.SECP256k1_PUBLIC_KEY?eE.KeyType.SECP256K1:eE.KeyType.ED25519);let e_=eg===eE.KeyType.ED25519?eE.KeySize.ED25519_PUBLIC_KEY:eE.KeySize.SECP256k1_PUBLIC_KEY;if(ew.length!==e_)throw Error(`Invalid public key size (${ew.length}), must be ${e_}`);return new eM({keyType:eg,data:ew})}toString(){let eu=(0,eb.baseEncode)(this.data);return`${eA(this.keyType)}:${eu}`}verify(eu,ed){let eg=this.keyType,em=this.data;switch(eg){case eE.KeyType.ED25519:return ew.ed25519.verify(ed,eu,em);case eE.KeyType.SECP256K1:return e_.default.ecdsaVerify(ed.subarray(0,64),eu,new Uint8Array([4,...em]));default:throw Error(`Unknown key type: ${eg}`)}}get keyPair(){return this.ed25519Key||this.secp256k1Key}get keyType(){return this.keyPair.keyType}get data(){return this.keyPair.data}}ed.PublicKey=eM},45474:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.BrowserLocalStorageKeyStore=void 0;let em=eg(91593),eb=eg(90496),ew="near-api-js:keystore:";class e_ extends eb.KeyStore{localStorage;prefix;constructor(eu=window.localStorage,ed=ew){super(),this.localStorage=eu,this.prefix=ed}async setKey(eu,ed,eg){this.localStorage.setItem(this.storageKeyForSecretKey(eu,ed),eg.toString())}async getKey(eu,ed){let eg=this.localStorage.getItem(this.storageKeyForSecretKey(eu,ed));return eg?em.KeyPair.fromString(eg):null}async removeKey(eu,ed){this.localStorage.removeItem(this.storageKeyForSecretKey(eu,ed))}async clear(){for(let eu of this.storageKeys())eu.startsWith(this.prefix)&&this.localStorage.removeItem(eu)}async getNetworks(){let eu=new Set;for(let ed of this.storageKeys())if(ed.startsWith(this.prefix)){let eg=ed.substring(this.prefix.length).split(":");eu.add(eg[1])}return Array.from(eu.values())}async getAccounts(eu){let ed=[];for(let eg of this.storageKeys())if(eg.startsWith(this.prefix)){let em=eg.substring(this.prefix.length).split(":");em[1]===eu&&ed.push(em[0])}return ed}storageKeyForSecretKey(eu,ed){return`${this.prefix}${ed}:${eu}`}*storageKeys(){for(let eu=0;eu<this.localStorage.length;eu++)yield this.localStorage.key(eu)}}ed.BrowserLocalStorageKeyStore=e_},15345:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.MultiContractBrowserLocalStorageKeyStore=ed.BrowserLocalStorageKeyStore=void 0;var em=eg(45474);Object.defineProperty(ed,"BrowserLocalStorageKeyStore",{enumerable:!0,get:function(){return em.BrowserLocalStorageKeyStore}});var eb=eg(7976);Object.defineProperty(ed,"MultiContractBrowserLocalStorageKeyStore",{enumerable:!0,get:function(){return eb.MultiContractBrowserLocalStorageKeyStore}})},7976:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.MultiContractBrowserLocalStorageKeyStore=void 0;let em=eg(91593),eb=eg(90496),ew="near-api-js:keystore:";class e_ extends eb.MultiContractKeyStore{localStorage;prefix;constructor(eu=window.localStorage,ed=ew){super(),this.localStorage=eu,this.prefix=ed||ew}async setKey(eu,ed,eg,em){this.localStorage.setItem(this.storageKeyForSecretKey(eu,ed,em),eg.toString())}async getKey(eu,ed,eg){let eb=this.localStorage.getItem(this.storageKeyForSecretKey(eu,ed,eg));return eb?em.KeyPair.fromString(eb):null}async removeKey(eu,ed,eg){this.localStorage.removeItem(this.storageKeyForSecretKey(eu,ed,eg))}async clear(){for(let eu of this.storageKeys())eu.startsWith(this.prefix)&&this.localStorage.removeItem(eu)}async getNetworks(){let eu=new Set;for(let ed of this.storageKeys())if(ed.startsWith(this.prefix)){let eg=ed.substring(this.prefix.length).split(":");eu.add(eg[1])}return Array.from(eu.values())}async getAccounts(eu){let ed=[];for(let eg of this.storageKeys())if(eg.startsWith(this.prefix)){let em=eg.substring(this.prefix.length).split(":");em[1]===eu&&ed.push(em[0])}return ed}async getContracts(eu,ed){let eg=[];for(let em of this.storageKeys())if(em.startsWith(this.prefix)){let eb=em.substring(this.prefix.length).split(":");eb[1]===eu&&eb[0]===ed&&eg.push(eb[2])}return eg}storageKeyForSecretKey(eu,ed,eg){return`${this.prefix}${ed}:${eu}:${eg}`}*storageKeys(){for(let eu=0;eu<this.localStorage.length;eu++)yield this.localStorage.key(eu)}}ed.MultiContractBrowserLocalStorageKeyStore=e_},1618:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.InMemoryKeyStore=void 0;let em=eg(91593),eb=eg(14574);class ew extends eb.KeyStore{keys;constructor(){super(),this.keys={}}async setKey(eu,ed,eg){this.keys[`${ed}:${eu}`]=eg.toString()}async getKey(eu,ed){let eg=this.keys[`${ed}:${eu}`];return eg?em.KeyPair.fromString(eg):null}async removeKey(eu,ed){delete this.keys[`${ed}:${eu}`]}async clear(){this.keys={}}async getNetworks(){let eu=new Set;return Object.keys(this.keys).forEach(ed=>{let eg=ed.split(":");eu.add(eg[1])}),Array.from(eu.values())}async getAccounts(eu){let ed=[];return Object.keys(this.keys).forEach(eg=>{let em=eg.split(":");em[em.length-1]===eu&&ed.push(em.slice(0,em.length-1).join(":"))}),ed}toString(){return"InMemoryKeyStore"}}ed.InMemoryKeyStore=ew},90496:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.MultiContractKeyStore=ed.MergeKeyStore=ed.KeyStore=ed.InMemoryKeyStore=void 0;var em=eg(1618);Object.defineProperty(ed,"InMemoryKeyStore",{enumerable:!0,get:function(){return em.InMemoryKeyStore}});var eb=eg(14574);Object.defineProperty(ed,"KeyStore",{enumerable:!0,get:function(){return eb.KeyStore}});var ew=eg(15374);Object.defineProperty(ed,"MergeKeyStore",{enumerable:!0,get:function(){return ew.MergeKeyStore}});var e_=eg(13562);Object.defineProperty(ed,"MultiContractKeyStore",{enumerable:!0,get:function(){return e_.MultiContractKeyStore}})},14574:function(eu,ed){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.KeyStore=void 0;class eg{}ed.KeyStore=eg},15374:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.MergeKeyStore=void 0;let em=eg(14574);class eb extends em.KeyStore{options;keyStores;constructor(eu,ed={writeKeyStoreIndex:0}){super(),this.options=ed,this.keyStores=eu}async setKey(eu,ed,eg){await this.keyStores[this.options.writeKeyStoreIndex].setKey(eu,ed,eg)}async getKey(eu,ed){for(let eg of this.keyStores){let em=await eg.getKey(eu,ed);if(em)return em}return null}async removeKey(eu,ed){for(let eg of this.keyStores)await eg.removeKey(eu,ed)}async clear(){for(let eu of this.keyStores)await eu.clear()}async getNetworks(){let eu=new Set;for(let ed of this.keyStores)for(let eg of(await ed.getNetworks()))eu.add(eg);return Array.from(eu)}async getAccounts(eu){let ed=new Set;for(let eg of this.keyStores)for(let em of(await eg.getAccounts(eu)))ed.add(em);return Array.from(ed)}toString(){return`MergeKeyStore(${this.keyStores.join(", ")})`}}ed.MergeKeyStore=eb},13562:function(eu,ed){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.MultiContractKeyStore=void 0;class eg{}ed.MultiContractKeyStore=eg},33308:function(eu,ed){"use strict";async function eg(eu,ed,eg,eb){let ew=eu;for(let eu=0;eu<ed;eu++){let eu=await eb();if(eu)return eu;await em(ew),ew*=eg}return null}function em(eu){return new Promise(ed=>setTimeout(ed,eu))}Object.defineProperty(ed,"__esModule",{value:!0}),ed.exponentialBackoff=void 0,ed.exponentialBackoff=eg},4338:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.FailoverRpcProvider=void 0;let em=eg(88265),eb=eg(18878),ew=eg(51559);class e_ extends ew.Provider{providers;currentProviderIndex;constructor(eu){if(super(),0===eu.length)throw Error("At least one provider must be specified");this.providers=eu,this.currentProviderIndex=0}switchToNextProvider(){1!==this.providers.length&&(this.providers.length-1<=this.currentProviderIndex?this.currentProviderIndex=0:this.currentProviderIndex+=1,em.Logger.debug(`Switched to provider at the index ${this.currentProviderIndex}`))}get currentProvider(){let eu=this.providers[this.currentProviderIndex];if(!eu)throw Error(`Provider wasn't found at index ${this.currentProviderIndex}`);return eu}async withBackoff(eu){for(let ed=0;ed<this.providers.length;ed++)try{let ed=await eu(this.currentProvider);if(ed)return ed}catch(eu){console.error(eu),this.switchToNextProvider()}throw new eb.TypedError(`Exceeded ${this.providers.length} providers to execute request`,"RetriesExceeded")}async status(){return this.withBackoff(eu=>eu.status())}async sendTransactionUntil(eu,ed){return this.withBackoff(eg=>eg.sendTransactionUntil(eu,ed))}async sendTransaction(eu){return this.withBackoff(ed=>ed.sendTransaction(eu))}async sendTransactionAsync(eu){return this.withBackoff(ed=>ed.sendTransactionAsync(eu))}async txStatus(eu,ed,eg){return this.withBackoff(em=>em.txStatus(eu,ed,eg))}async txStatusReceipts(eu,ed,eg){return this.withBackoff(em=>em.txStatusReceipts(eu,ed,eg))}async query(eu,ed){return ed?this.withBackoff(eg=>eg.query(eu,ed)):this.withBackoff(ed=>ed.query(eu))}async block(eu){return this.withBackoff(ed=>ed.block(eu))}async blockChanges(eu){return this.withBackoff(ed=>ed.blockChanges(eu))}async chunk(eu){return this.withBackoff(ed=>ed.chunk(eu))}async validators(eu){return this.withBackoff(ed=>ed.validators(eu))}async experimental_protocolConfig(eu){return this.withBackoff(ed=>ed.experimental_protocolConfig(eu))}async lightClientProof(eu){return this.withBackoff(ed=>ed.lightClientProof(eu))}async nextLightClientBlock(eu){return this.withBackoff(ed=>ed.nextLightClientBlock(eu))}async accessKeyChanges(eu,ed){return this.withBackoff(eg=>eg.accessKeyChanges(eu,ed))}async singleAccessKeyChanges(eu,ed){return this.withBackoff(eg=>eg.singleAccessKeyChanges(eu,ed))}async accountChanges(eu,ed){return this.withBackoff(eg=>eg.accountChanges(eu,ed))}async contractStateChanges(eu,ed,eg=""){return this.withBackoff(em=>em.contractStateChanges(eu,ed,eg))}async contractCodeChanges(eu,ed){return this.withBackoff(eg=>eg.contractCodeChanges(eu,ed))}async gasPrice(eu){return this.withBackoff(ed=>ed.gasPrice(eu))}}ed.FailoverRpcProvider=e_},78098:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.fetchJsonRpc=ed.ProviderError=ed.retryConfig=void 0;let em=eg(18878),eb=eg(40199),ew=1.5,e_=10,eE=0;function eA(eu=e_,ed=ew,eg=eE){return{numOfAttempts:eu,timeMultiple:ed,startingDelay:eg,retry:eu=>!!([503,500,408].includes(eu.cause)||eu.toString().includes("FetchError")||eu.toString().includes("Failed to fetch"))}}ed.retryConfig=eA;class eS extends Error{cause;constructor(eu,ed){super(eu,ed),ed.cause&&(this.cause=ed.cause)}}async function eI(eu,ed,eg,ew){let eE=await (0,eb.backOff)(async()=>{let em=await fetch(eu,{method:"POST",body:JSON.stringify(ed),headers:{...eg,"Content-Type":"application/json"}}),{ok:eb,status:ew}=em;if(500===ew)throw new eS("Internal server error",{cause:ew});if(408===ew)throw new eS("Timeout error",{cause:ew});if(400===ew)throw new eS("Request validation error",{cause:ew});if(503===ew)throw new eS(`${eu} unavailable`,{cause:ew});if(!eb)throw new eS(await em.text(),{cause:ew});return em},ew);if(!eE)throw new em.TypedError(`Exceeded ${e_} attempts for ${eu}.`,"RetriesExceeded");return await eE.json()}ed.ProviderError=eS,ed.fetchJsonRpc=eI},99488:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.Provider=ed.FailoverRpcProvider=ed.JsonRpcProvider=ed.exponentialBackoff=void 0;var em=eg(33308);Object.defineProperty(ed,"exponentialBackoff",{enumerable:!0,get:function(){return em.exponentialBackoff}});var eb=eg(38035);Object.defineProperty(ed,"JsonRpcProvider",{enumerable:!0,get:function(){return eb.JsonRpcProvider}});var ew=eg(4338);Object.defineProperty(ed,"FailoverRpcProvider",{enumerable:!0,get:function(){return ew.FailoverRpcProvider}});var e_=eg(51559);Object.defineProperty(ed,"Provider",{enumerable:!0,get:function(){return e_.Provider}})},38035:function(eu,ed,eg){"use strict";var em=eg(48834).Buffer;Object.defineProperty(ed,"__esModule",{value:!0}),ed.JsonRpcProvider=void 0;let eb=eg(88265),ew=eg(18878),e_=eg(6287),eE=eg(51559),eA=eg(78098),eS=12,eI=500,eC=1.5,eM=123;class eO extends eE.Provider{connection;options;constructor(eu,ed){super(),this.connection=eu||{url:""};let eg={retries:eS,wait:eI,backoff:eC};this.options=Object.assign({},eg,ed)}async status(){return this.sendJsonRpc("status",[])}async sendTransactionUntil(eu,ed){let eg=(0,e_.encodeTransaction)(eu);return this.sendJsonRpc("send_tx",{signed_tx_base64:em.from(eg).toString("base64"),wait_until:ed})}async sendTransaction(eu){return this.sendTransactionUntil(eu,"EXECUTED_OPTIMISTIC")}async sendTransactionAsync(eu){return this.sendTransactionUntil(eu,"NONE")}async txStatus(eu,ed,eg="EXECUTED_OPTIMISTIC"){return"string"==typeof eu?this.txStatusString(eu,ed,eg):this.txStatusUint8Array(eu,ed,eg)}async txStatusUint8Array(eu,ed,eg){return this.sendJsonRpc("tx",{tx_hash:(0,eb.baseEncode)(eu),sender_account_id:ed,wait_until:eg})}async txStatusString(eu,ed,eg){return this.sendJsonRpc("tx",{tx_hash:eu,sender_account_id:ed,wait_until:eg})}async txStatusReceipts(eu,ed,eg="EXECUTED_OPTIMISTIC"){return"string"==typeof eu?this.sendJsonRpc("EXPERIMENTAL_tx_status",{tx_hash:eu,sender_account_id:ed,wait_until:eg}):this.sendJsonRpc("EXPERIMENTAL_tx_status",{tx_hash:(0,eb.baseEncode)(eu),sender_account_id:ed,wait_until:eg})}async query(...eu){let ed;if(1===eu.length){let{block_id:eg,blockId:em,...eb}=eu[0];ed=await this.sendJsonRpc("query",{...eb,block_id:eg||em})}else{let[eg,em]=eu;ed=await this.sendJsonRpc("query",[eg,em])}if(ed&&ed.error)throw new ew.TypedError(`Querying failed: ${ed.error}.
${JSON.stringify(ed,null,2)}`,(0,eb.getErrorTypeFromErrorMessage)(ed.error,ed.error.name));return ed}async block(eu){let{finality:ed}=eu,{blockId:eg}=eu;return this.sendJsonRpc("block",{block_id:eg,finality:ed})}async blockChanges(eu){let{finality:ed}=eu,{blockId:eg}=eu;return this.sendJsonRpc("EXPERIMENTAL_changes_in_block",{block_id:eg,finality:ed})}async chunk(eu){return this.sendJsonRpc("chunk",[eu])}async validators(eu){return this.sendJsonRpc("validators",[eu])}async experimental_protocolConfig(eu){let{blockId:ed,...eg}=eu;return await this.sendJsonRpc("EXPERIMENTAL_protocol_config",{...eg,block_id:ed})}async lightClientProof(eu){return await this.sendJsonRpc("EXPERIMENTAL_light_client_proof",eu)}async nextLightClientBlock(eu){return await this.sendJsonRpc("next_light_client_block",eu)}async accessKeyChanges(eu,ed){let{finality:eg}=ed,{blockId:em}=ed;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"all_access_key_changes",account_ids:eu,block_id:em,finality:eg})}async singleAccessKeyChanges(eu,ed){let{finality:eg}=ed,{blockId:em}=ed;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"single_access_key_changes",keys:eu,block_id:em,finality:eg})}async accountChanges(eu,ed){let{finality:eg}=ed,{blockId:em}=ed;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"account_changes",account_ids:eu,block_id:em,finality:eg})}async contractStateChanges(eu,ed,eg=""){let{finality:em}=ed,{blockId:eb}=ed;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"data_changes",account_ids:eu,key_prefix_base64:eg,block_id:eb,finality:em})}async contractCodeChanges(eu,ed){let{finality:eg}=ed,{blockId:em}=ed;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"contract_code_changes",account_ids:eu,block_id:em,finality:eg})}async gasPrice(eu){return await this.sendJsonRpc("gas_price",[eu])}async sendJsonRpc(eu,ed){let eg={method:eu,params:ed,id:eM++,jsonrpc:"2.0"},em=await (0,eA.fetchJsonRpc)(this.connection.url,eg,this.connection.headers,(0,eA.retryConfig)(this.options.retries,this.options.backoff,this.options.wait));if(em.error){if("object"==typeof em.error.data){if("string"==typeof em.error.data.error_message&&"string"==typeof em.error.data.error_type)throw new ew.TypedError(em.error.data.error_message,em.error.data.error_type);throw(0,eb.parseRpcError)(em.error.data)}{let eu=`[${em.error.code}] ${em.error.message}: ${em.error.data}`,eg=(0,eb.getErrorTypeFromErrorMessage)(em.error.data,"");if(eg)throw new ew.TypedError((0,eb.formatError)(eg,ed),eg);throw new ew.TypedError(eu,em.error.name)}}if("string"==typeof em.result?.error){let eu=(0,eb.getErrorTypeFromErrorMessage)(em.result.error,"");if(eu)throw new eb.ServerError((0,eb.formatError)(eu,ed),eu)}let{result:e_}=em;if(void 0===e_)throw new ew.TypedError(`Exceeded ${this.options.retries} attempts for request to ${eu}.`,"RetriesExceeded");return e_}}ed.JsonRpcProvider=eO},51559:function(eu,ed){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.Provider=void 0;class eg{}ed.Provider=eg},4397:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.InMemorySigner=void 0;let em=eg(91593),eb=eg(90496),ew=eg(58573),e_=eg(92503);class eE extends e_.Signer{keyStore;constructor(eu){super(),this.keyStore=eu}static async fromKeyPair(eu,ed,eg){let em=new eb.InMemoryKeyStore;return await em.setKey(eu,ed,eg),new eE(em)}async createKey(eu,ed,eg){let eb=eg===em.KeyType.SECP256K1?em.KeyPair.fromRandom("secp256k1"):em.KeyPair.fromRandom("ed25519");return await this.keyStore.setKey(ed,eu,eb),eb.getPublicKey()}async getPublicKey(eu,ed){let eg=await this.keyStore.getKey(ed,eu);return null===eg?null:eg.getPublicKey()}async signMessage(eu,ed,eg){let em=new Uint8Array((0,ew.sha256)(eu));if(!ed)throw Error("InMemorySigner requires provided account id");let eb=await this.keyStore.getKey(eg,ed);if(null===eb)throw Error(`Key for ${ed} not found in ${eg}`);return eb.sign(em)}toString(){return`InMemorySigner(${this.keyStore})`}}ed.InMemorySigner=eE},26390:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.Signer=ed.InMemorySigner=void 0;var em=eg(4397);Object.defineProperty(ed,"InMemorySigner",{enumerable:!0,get:function(){return em.InMemorySigner}});var eb=eg(92503);Object.defineProperty(ed,"Signer",{enumerable:!0,get:function(){return eb.Signer}})},92503:function(eu,ed){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.Signer=void 0;class eg{}ed.Signer=eg},30821:function(eu,ed,eg){"use strict";var em=eg(48834).Buffer;Object.defineProperty(ed,"__esModule",{value:!0}),ed.actionCreators=ed.stringifyJsonOrBytes=void 0;let eb=eg(12030);function ew(){return new eb.AccessKey({nonce:0n,permission:new eb.AccessKeyPermission({fullAccess:new eb.FullAccessPermission})})}function e_(eu,ed,eg){return new eb.AccessKey({nonce:0n,permission:new eb.AccessKeyPermission({functionCall:new eb.FunctionCallPermission({receiverId:eu,allowance:eg,methodNames:ed})})})}function eE(){return new eb.Action({createAccount:new eb.CreateAccount})}function eA(eu){return new eb.Action({deployContract:new eb.DeployContract({code:eu})})}function eS(eu){let ed=void 0!==eu.byteLength&&eu.byteLength===eu.length;return ed?eu:em.from(JSON.stringify(eu))}function eI(eu,ed,eg=0n,em=0n,ew=eS,e_=!1){return new eb.Action(e_?{functionCall:new eb.FunctionCall({methodName:eu,args:ed,gas:eg,deposit:em})}:{functionCall:new eb.FunctionCall({methodName:eu,args:ew(ed),gas:eg,deposit:em})})}function eC(eu=0n){return new eb.Action({transfer:new eb.Transfer({deposit:eu})})}function eM(eu=0n,ed){return new eb.Action({stake:new eb.Stake({stake:eu,publicKey:ed})})}function eO(eu,ed){return new eb.Action({addKey:new eb.AddKey({publicKey:eu,accessKey:ed})})}function eT(eu){return new eb.Action({deleteKey:new eb.DeleteKey({publicKey:eu})})}function eP(eu){return new eb.Action({deleteAccount:new eb.DeleteAccount({beneficiaryId:eu})})}function eN({delegateAction:eu,signature:ed}){return new eb.Action({signedDelegate:new eb.SignedDelegate({delegateAction:eu,signature:ed})})}ed.stringifyJsonOrBytes=eS,ed.actionCreators={addKey:eO,createAccount:eE,deleteAccount:eP,deleteKey:eT,deployContract:eA,fullAccessKey:ew,functionCall:eI,functionCallAccessKey:e_,signedDelegate:eN,stake:eM,transfer:eC}},12030:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.Action=ed.SignedDelegate=ed.DeleteAccount=ed.DeleteKey=ed.AddKey=ed.Stake=ed.Transfer=ed.FunctionCall=ed.DeployContract=ed.CreateAccount=ed.AccessKey=ed.AccessKeyPermission=ed.FullAccessPermission=ed.FunctionCallPermission=void 0;let em=eg(18878);class eb{allowance;receiverId;methodNames;constructor({allowance:eu,receiverId:ed,methodNames:eg}){this.allowance=eu,this.receiverId=ed,this.methodNames=eg}}ed.FunctionCallPermission=eb;class ew{}ed.FullAccessPermission=ew;class e_ extends em.Enum{enum;functionCall;fullAccess;constructor(eu){for(let[ed,eg]of(super(eu),Object.entries(eu||{})))this[ed]=eg,this.enum=ed}}ed.AccessKeyPermission=e_;class eE{nonce;permission;constructor({nonce:eu,permission:ed}){this.nonce=eu,this.permission=ed}}ed.AccessKey=eE;class eA{}ed.CreateAccount=eA;class eS{code;constructor({code:eu}){this.code=eu}}ed.DeployContract=eS;class eI{methodName;args;gas;deposit;constructor({methodName:eu,args:ed,gas:eg,deposit:em}){this.methodName=eu,this.args=ed,this.gas=eg,this.deposit=em}}ed.FunctionCall=eI;class eC{deposit;constructor({deposit:eu}){this.deposit=eu}}ed.Transfer=eC;class eM{stake;publicKey;constructor({stake:eu,publicKey:ed}){this.stake=eu,this.publicKey=ed}}ed.Stake=eM;class eO{publicKey;accessKey;constructor({publicKey:eu,accessKey:ed}){this.publicKey=eu,this.accessKey=ed}}ed.AddKey=eO;class eT{publicKey;constructor({publicKey:eu}){this.publicKey=eu}}ed.DeleteKey=eT;class eP{beneficiaryId;constructor({beneficiaryId:eu}){this.beneficiaryId=eu}}ed.DeleteAccount=eP;class eN{delegateAction;signature;constructor({delegateAction:eu,signature:ed}){this.delegateAction=eu,this.signature=ed}}ed.SignedDelegate=eN;class ek extends em.Enum{enum;createAccount;deployContract;functionCall;transfer;stake;addKey;deleteKey;deleteAccount;signedDelegate;constructor(eu){for(let[ed,eg]of(super(eu),Object.entries(eu||{})))this[ed]=eg,this.enum=ed}}ed.Action=ek},20531:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.createTransaction=void 0;let em=eg(87696);function eb(eu,ed,eg,eb,ew,e_){let eE="bigint"==typeof eb?eb:BigInt(eb);return new em.Transaction({signerId:eu,publicKey:ed,nonce:eE,receiverId:eg,actions:ew,blockHash:e_})}ed.createTransaction=eb},60544:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.buildDelegateAction=ed.DelegateAction=void 0;let em=eg(30821),{addKey:eb,createAccount:ew,deleteAccount:e_,deleteKey:eE,deployContract:eA,functionCall:eS,stake:eI,transfer:eC}=em.actionCreators;class eM{senderId;receiverId;actions;nonce;maxBlockHeight;publicKey;constructor({senderId:eu,receiverId:ed,actions:eg,nonce:em,maxBlockHeight:eb,publicKey:ew}){this.senderId=eu,this.receiverId=ed,this.actions=eg,this.nonce=em,this.maxBlockHeight=eb,this.publicKey=ew}}function eO({actions:eu,maxBlockHeight:ed,nonce:eg,publicKey:em,receiverId:eO,senderId:eT}){return new eM({senderId:eT,receiverId:eO,actions:eu.map(eu=>{if(!eu.type&&!eu.params)return eu;switch(eu.type){case"AddKey":{let{publicKey:ed,accessKey:eg}=eu.params;return eb(ed,eg)}case"CreateAccount":return ew(eu.params.createAccount);case"DeleteAccount":return e_(eu.params.deleteAccount);case"DeleteKey":return eE(eu.params.publicKey);case"DeployContract":return eA(eu.params.code);case"FunctionCall":{let{methodName:ed,args:eg,gas:em,deposit:eb}=eu.params;return eS(ed,eg,em,eb)}case"Stake":return eI(eu.params.stake,eu.params.publicKey);case"Transfer":{let{deposit:ed}=eu.params;return eC(ed)}}throw Error("Unrecognized action")}),nonce:eg,maxBlockHeight:ed,publicKey:em})}ed.DelegateAction=eM,ed.buildDelegateAction=eO},6287:function(eu,ed,eg){"use strict";var em=this&&this.__createBinding||(Object.create?function(eu,ed,eg,em){void 0===em&&(em=eg);var eb=Object.getOwnPropertyDescriptor(ed,eg);(!eb||("get"in eb?!ed.__esModule:eb.writable||eb.configurable))&&(eb={enumerable:!0,get:function(){return ed[eg]}}),Object.defineProperty(eu,em,eb)}:function(eu,ed,eg,em){void 0===em&&(em=eg),eu[em]=ed[eg]}),eb=this&&this.__exportStar||function(eu,ed){for(var eg in eu)"default"===eg||Object.prototype.hasOwnProperty.call(ed,eg)||em(ed,eu,eg)};Object.defineProperty(ed,"__esModule",{value:!0}),eb(eg(30821),ed),eb(eg(12030),ed),eb(eg(20531),ed),eb(eg(60544),ed),eb(eg(87696),ed),eb(eg(74345),ed),eb(eg(12945),ed)},23741:function(eu,ed){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.DelegateActionPrefix=void 0;let eg=1073741824,em={MetaTransactions:366};class eb{prefix;constructor({prefix:eu}){this.prefix=eu}}class ew extends eb{constructor(eu){super({prefix:eg+eu})}}class e_ extends ew{constructor(){super(em.MetaTransactions)}}ed.DelegateActionPrefix=e_},87696:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.SCHEMA=ed.SignedTransaction=ed.Transaction=ed.decodeSignedTransaction=ed.decodeTransaction=ed.encodeTransaction=ed.encodeSignedDelegate=ed.encodeDelegateAction=void 0;let em=eg(58625),eb=eg(23741);function ew(eu){return new Uint8Array([...(0,em.serialize)(ed.SCHEMA.DelegateActionPrefix,new eb.DelegateActionPrefix),...(0,em.serialize)(ed.SCHEMA.DelegateAction,eu)])}function e_(eu){return(0,em.serialize)(ed.SCHEMA.SignedDelegate,eu)}function eE(eu){let eg=eu instanceof eC?ed.SCHEMA.SignedTransaction:ed.SCHEMA.Transaction;return(0,em.serialize)(eg,eu)}function eA(eu){return new eI((0,em.deserialize)(ed.SCHEMA.Transaction,eu))}function eS(eu){return new eC((0,em.deserialize)(ed.SCHEMA.SignedTransaction,eu))}ed.encodeDelegateAction=ew,ed.encodeSignedDelegate=e_,ed.encodeTransaction=eE,ed.decodeTransaction=eA,ed.decodeSignedTransaction=eS;class eI{signerId;publicKey;nonce;receiverId;actions;blockHash;constructor({signerId:eu,publicKey:ed,nonce:eg,receiverId:em,actions:eb,blockHash:ew}){this.signerId=eu,this.publicKey=ed,this.nonce=eg,this.receiverId=em,this.actions=eb,this.blockHash=ew}encode(){return eE(this)}static decode(eu){return eA(eu)}}ed.Transaction=eI;class eC{transaction;signature;constructor({transaction:eu,signature:ed}){this.transaction=eu,this.signature=ed}encode(){return eE(this)}static decode(eu){return eS(eu)}}ed.SignedTransaction=eC,ed.SCHEMA=new class{Ed25519Signature={struct:{data:{array:{type:"u8",len:64}}}};Secp256k1Signature={struct:{data:{array:{type:"u8",len:65}}}};Signature={enum:[{struct:{ed25519Signature:this.Ed25519Signature}},{struct:{secp256k1Signature:this.Secp256k1Signature}}]};Ed25519Data={struct:{data:{array:{type:"u8",len:32}}}};Secp256k1Data={struct:{data:{array:{type:"u8",len:64}}}};PublicKey={enum:[{struct:{ed25519Key:this.Ed25519Data}},{struct:{secp256k1Key:this.Secp256k1Data}}]};FunctionCallPermission={struct:{allowance:{option:"u128"},receiverId:"string",methodNames:{array:{type:"string"}}}};FullAccessPermission={struct:{}};AccessKeyPermission={enum:[{struct:{functionCall:this.FunctionCallPermission}},{struct:{fullAccess:this.FullAccessPermission}}]};AccessKey={struct:{nonce:"u64",permission:this.AccessKeyPermission}};CreateAccount={struct:{}};DeployContract={struct:{code:{array:{type:"u8"}}}};FunctionCall={struct:{methodName:"string",args:{array:{type:"u8"}},gas:"u64",deposit:"u128"}};Transfer={struct:{deposit:"u128"}};Stake={struct:{stake:"u128",publicKey:this.PublicKey}};AddKey={struct:{publicKey:this.PublicKey,accessKey:this.AccessKey}};DeleteKey={struct:{publicKey:this.PublicKey}};DeleteAccount={struct:{beneficiaryId:"string"}};DelegateActionPrefix={struct:{prefix:"u32"}};ClassicActions={enum:[{struct:{createAccount:this.CreateAccount}},{struct:{deployContract:this.DeployContract}},{struct:{functionCall:this.FunctionCall}},{struct:{transfer:this.Transfer}},{struct:{stake:this.Stake}},{struct:{addKey:this.AddKey}},{struct:{deleteKey:this.DeleteKey}},{struct:{deleteAccount:this.DeleteAccount}}]};DelegateAction={struct:{senderId:"string",receiverId:"string",actions:{array:{type:this.ClassicActions}},nonce:"u64",maxBlockHeight:"u64",publicKey:this.PublicKey}};SignedDelegate={struct:{delegateAction:this.DelegateAction,signature:this.Signature}};Action={enum:[{struct:{createAccount:this.CreateAccount}},{struct:{deployContract:this.DeployContract}},{struct:{functionCall:this.FunctionCall}},{struct:{transfer:this.Transfer}},{struct:{stake:this.Stake}},{struct:{addKey:this.AddKey}},{struct:{deleteKey:this.DeleteKey}},{struct:{deleteAccount:this.DeleteAccount}},{struct:{signedDelegate:this.SignedDelegate}}]};Transaction={struct:{signerId:"string",publicKey:this.PublicKey,nonce:"u64",receiverId:"string",blockHash:{array:{type:"u8",len:32}},actions:{array:{type:this.Action}}}};SignedTransaction={struct:{transaction:this.Transaction,signature:this.Signature}}}},74345:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.signDelegateAction=ed.signTransaction=void 0;let em=eg(96053),eb=eg(12030),ew=eg(20531),e_=eg(87696),eE=eg(12945),eA=eg(91593);async function eS(eu,ed,eg,eb){let ew=(0,e_.encodeTransaction)(eu),eS=new Uint8Array((0,em.sha256)(ew)),eI=await ed.signMessage(ew,eg,eb),eC=eu.publicKey.ed25519Key?eA.KeyType.ED25519:eA.KeyType.SECP256K1,eM=new e_.SignedTransaction({transaction:eu,signature:new eE.Signature({keyType:eC,data:eI.signature})});return[eS,eM]}async function eI(...eu){if(eu[0].constructor===e_.Transaction){let[ed,eg,em,eb]=eu;return eS(ed,eg,em,eb)}{let[ed,eg,em,eb,e_,eE,eA]=eu,eI=await e_.getPublicKey(eE,eA),eC=(0,ew.createTransaction)(eE,eI,ed,eg,em,eb);return eS(eC,e_,eE,eA)}}async function eC({delegateAction:eu,signer:ed}){let eg=(0,e_.encodeDelegateAction)(eu),ew=await ed.sign(eg),eS=eu.publicKey.ed25519Key?eA.KeyType.ED25519:eA.KeyType.SECP256K1,eI=new eb.SignedDelegate({delegateAction:eu,signature:new eE.Signature({keyType:eS,data:ew})});return{hash:new Uint8Array((0,em.sha256)(eg)),signedDelegateAction:eI}}ed.signTransaction=eI,ed.signDelegateAction=eC},12945:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.Signature=void 0;let em=eg(91593),eb=eg(18878);function ew(eu){switch(eu){case em.KeyType.ED25519:return"ed25519Signature";case em.KeyType.SECP256K1:return"secp256k1Signature";default:throw Error(`unknown type ${eu}`)}}class e_ extends eb.Enum{enum;ed25519Signature;secp256k1Signature;constructor(eu){let ed=ew(eu.keyType);super({[ed]:eu}),this[ed]=eu,this.enum=ed}get signature(){return this.ed25519Signature||this.secp256k1Signature}get signatureType(){return this.signature.keyType}get data(){return this.signature.data}}ed.Signature=e_},4497:function(eu,ed){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.Assignable=void 0;class eg{constructor(eu){Object.keys(eu).map(ed=>{this[ed]=eu[ed]})}}ed.Assignable=eg},43648:function(eu,ed){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.Enum=void 0;class eg{constructor(eu){if(1!==Object.keys(eu).length)throw Error("Enum can only take single value");Object.keys(eu).map(ed=>{this[ed]=eu[ed]})}}ed.Enum=eg},65889:function(eu,ed){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.ErrorContext=ed.TypedError=ed.ArgumentTypeError=ed.PositionalArgsError=void 0;class eg extends Error{constructor(){super("Contract method calls expect named arguments wrapped in object, e.g. { argName1: argValue1, argName2: argValue2 }")}}ed.PositionalArgsError=eg;class em extends Error{constructor(eu,ed,eg){super(`Expected ${ed} for '${eu}' argument, but got '${JSON.stringify(eg)}'`)}}ed.ArgumentTypeError=em;class eb extends Error{type;context;constructor(eu,ed,eg){super(eu),this.type=ed||"UntypedError",this.context=eg}}ed.TypedError=eb;class ew{transactionHash;constructor(eu){this.transactionHash=eu}}ed.ErrorContext=ew},18878:function(eu,ed,eg){"use strict";var em=this&&this.__createBinding||(Object.create?function(eu,ed,eg,em){void 0===em&&(em=eg);var eb=Object.getOwnPropertyDescriptor(ed,eg);(!eb||("get"in eb?!ed.__esModule:eb.writable||eb.configurable))&&(eb={enumerable:!0,get:function(){return ed[eg]}}),Object.defineProperty(eu,em,eb)}:function(eu,ed,eg,em){void 0===em&&(em=eg),eu[em]=ed[eg]}),eb=this&&this.__exportStar||function(eu,ed){for(var eg in eu)"default"===eg||Object.prototype.hasOwnProperty.call(ed,eg)||em(ed,eu,eg)};Object.defineProperty(ed,"__esModule",{value:!0}),eb(eg(4497),ed),eb(eg(43648),ed),eb(eg(65889),ed),eb(eg(5682),ed)},5682:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.FinalExecutionStatusBasic=ed.ExecutionStatusBasic=ed.IdType=void 0;var em=eg(65280);Object.defineProperty(ed,"IdType",{enumerable:!0,get:function(){return em.IdType}});var eb=eg(30788);Object.defineProperty(ed,"ExecutionStatusBasic",{enumerable:!0,get:function(){return eb.ExecutionStatusBasic}}),Object.defineProperty(ed,"FinalExecutionStatusBasic",{enumerable:!0,get:function(){return eb.FinalExecutionStatusBasic}})},65280:function(eu,ed){"use strict";var eg;Object.defineProperty(ed,"__esModule",{value:!0}),ed.IdType=void 0,function(eu){eu.Transaction="transaction",eu.Receipt="receipt"}(eg||(ed.IdType=eg={}))},30788:function(eu,ed){"use strict";var eg,em;Object.defineProperty(ed,"__esModule",{value:!0}),ed.FinalExecutionStatusBasic=ed.ExecutionStatusBasic=void 0,function(eu){eu.Unknown="Unknown",eu.Pending="Pending",eu.Failure="Failure"}(eg||(ed.ExecutionStatusBasic=eg={})),function(eu){eu.NotStarted="NotStarted",eu.Started="Started",eu.Failure="Failure"}(em||(ed.FinalExecutionStatusBasic=em={}))},11478:function(eu,ed){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.DEFAULT_FUNCTION_CALL_GAS=void 0,ed.DEFAULT_FUNCTION_CALL_GAS=30000000000000n},96494:function(eu,ed,eg){"use strict";var em=this&&this.__importDefault||function(eu){return eu&&eu.__esModule?eu:{default:eu}};Object.defineProperty(ed,"__esModule",{value:!0}),ed.ErrorMessages=void 0;let eb=em(eg(24111));ed.ErrorMessages=eb.default},65017:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.parseRpcError=ed.parseResultError=ed.getErrorTypeFromErrorMessage=ed.formatError=ed.ServerError=ed.ErrorMessages=void 0;var em=eg(96494);Object.defineProperty(ed,"ErrorMessages",{enumerable:!0,get:function(){return em.ErrorMessages}});var eb=eg(57254);Object.defineProperty(ed,"ServerError",{enumerable:!0,get:function(){return eb.ServerError}}),Object.defineProperty(ed,"formatError",{enumerable:!0,get:function(){return eb.formatError}}),Object.defineProperty(ed,"getErrorTypeFromErrorMessage",{enumerable:!0,get:function(){return eb.getErrorTypeFromErrorMessage}}),Object.defineProperty(ed,"parseResultError",{enumerable:!0,get:function(){return eb.parseResultError}}),Object.defineProperty(ed,"parseRpcError",{enumerable:!0,get:function(){return eb.parseRpcError}})},57254:function(eu,ed,eg){"use strict";var em=this&&this.__importDefault||function(eu){return eu&&eu.__esModule?eu:{default:eu}};Object.defineProperty(ed,"__esModule",{value:!0}),ed.getErrorTypeFromErrorMessage=ed.formatError=ed.parseResultError=ed.parseRpcError=ed.ServerError=void 0;let eb=eg(18878),ew=em(eg(16599)),e_=eg(72241),eE=eg(96494),eA=em(eg(10965)),eS={formatNear:()=>(eu,ed)=>(0,e_.formatNearAmount)(ed(eu))};class eI extends eb.TypedError{}ed.ServerError=eI;class eC extends eI{transaction_outcome}function eM(eu){let ed={},eg=eP(eu,eA.default.schema,ed,""),em=new eI(eT(eg,ed),eg);return Object.assign(em,ed),em}function eO(eu){let ed=eM(eu.status.Failure),eg=new eC;return Object.assign(eg,ed),eg.type=ed.type,eg.message=ed.message,eg.transaction_outcome=eu.transaction_outcome,eg}function eT(eu,ed){return"string"==typeof eE.ErrorMessages[eu]?ew.default.render(eE.ErrorMessages[eu],{...ed,...eS}):JSON.stringify(ed)}function eP(eu,ed,eg,em){let eb,ew,e_;for(let eg in ed){if(eR(eu[eg]))return eu[eg];if(ek(eu[eg]))eb=eu[eg],ew=ed[eg],e_=eg;else{if(!(ek(eu.kind)&&ek(eu.kind[eg])))continue;eb=eu.kind[eg],ew=ed[eg],e_=eg}}if(!eb||!ew)return eg.kind=eu,em;for(let eu of Object.keys(ew.props))eg[eu]=eb[eu];return eP(eb,ed,eg,e_)}function eN(eu,ed){switch(!0){case/^account .*? does not exist while viewing$/.test(eu):case/^Account .*? doesn't exist$/.test(eu):return"AccountDoesNotExist";case/^access key .*? does not exist while viewing$/.test(eu):return"AccessKeyDoesNotExist";case/wasm execution failed with error: FunctionCallError\(CompilationError\(CodeDoesNotExist/.test(eu):case/wasm execution failed with error: CompilationError\(CodeDoesNotExist/.test(eu):return"CodeDoesNotExist";case/wasm execution failed with error: FunctionCallError\(MethodResolveError\(MethodNotFound/.test(eu):case/wasm execution failed with error: MethodResolveError\(MethodNotFound/.test(eu):return"MethodNotFound";case/Transaction nonce \d+ must be larger than nonce of the used access key \d+/.test(eu):return"InvalidNonce";default:return ed}}function ek(eu){return"[object Object]"===Object.prototype.toString.call(eu)}function eR(eu){return"[object String]"===Object.prototype.toString.call(eu)}ed.parseRpcError=eM,ed.parseResultError=eO,ed.formatError=eT,ed.getErrorTypeFromErrorMessage=eN},72241:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.baseDecode=ed.baseEncode=ed.parseNearAmount=ed.formatNearAmount=ed.NEAR_NOMINATION=ed.NEAR_NOMINATION_EXP=void 0;let em=eg(36237);ed.NEAR_NOMINATION_EXP=24,ed.NEAR_NOMINATION=10n**BigInt(ed.NEAR_NOMINATION_EXP);let eb=[],ew=10n;for(let eu=0,eg=5n;eu<ed.NEAR_NOMINATION_EXP;eu++,eg*=ew)eb[eu]=eg;function e_(eu,eg=ed.NEAR_NOMINATION_EXP){let em=BigInt(eu);if(eg!==ed.NEAR_NOMINATION_EXP){let eu=ed.NEAR_NOMINATION_EXP-eg-1;eu>0&&(em+=eb[eu])}eu=em.toString();let ew=eu.substring(0,eu.length-ed.NEAR_NOMINATION_EXP)||"0",e_=eu.substring(eu.length-ed.NEAR_NOMINATION_EXP).padStart(ed.NEAR_NOMINATION_EXP,"0").substring(0,eg);return eS(`${eC(ew)}.${e_}`)}function eE(eu){if(!eu)return null;eu=eA(eu);let eg=eu.split("."),em=eg[0],eb=eg[1]||"";if(eg.length>2||eb.length>ed.NEAR_NOMINATION_EXP)throw Error(`Cannot parse '${eu}' as NEAR amount`);return eI(em+eb.padEnd(ed.NEAR_NOMINATION_EXP,"0"))}function eA(eu){return eu.replace(/,/g,"").trim()}function eS(eu){return eu.replace(/\.?0*$/,"")}function eI(eu){return""===(eu=eu.replace(/^0+/,""))?"0":eu}function eC(eu){let ed=/(-?\d+)(\d{3})/;for(;ed.test(eu);)eu=eu.replace(ed,"$1,$2");return eu}function eM(eu){if("string"==typeof eu){let ed=[];for(let eg=0;eg<eu.length;eg++)ed.push(eu.charCodeAt(eg));eu=new Uint8Array(ed)}return em.base58.encode(eu)}function eO(eu){return em.base58.decode(eu)}ed.formatNearAmount=e_,ed.parseNearAmount=eE,ed.baseEncode=eM,ed.baseDecode=eO},88265:function(eu,ed,eg){"use strict";var em=this&&this.__createBinding||(Object.create?function(eu,ed,eg,em){void 0===em&&(em=eg);var eb=Object.getOwnPropertyDescriptor(ed,eg);(!eb||("get"in eb?!ed.__esModule:eb.writable||eb.configurable))&&(eb={enumerable:!0,get:function(){return ed[eg]}}),Object.defineProperty(eu,em,eb)}:function(eu,ed,eg,em){void 0===em&&(em=eg),eu[em]=ed[eg]}),eb=this&&this.__exportStar||function(eu,ed){for(var eg in eu)"default"===eg||Object.prototype.hasOwnProperty.call(ed,eg)||em(ed,eu,eg)};Object.defineProperty(ed,"__esModule",{value:!0}),eb(eg(11478),ed),eb(eg(65017),ed),eb(eg(72241),ed),eb(eg(12151),ed),eb(eg(56709),ed),eb(eg(56002),ed),eb(eg(78345),ed),eb(eg(83201),ed)},96368:function(eu,ed){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.ConsoleLogger=void 0;class eg{logLevels;constructor(eu){this.logLevels=eu}isLevelEnabled=eu=>this.logLevels.includes(eu);print(eu,ed,...eg){switch(eu){case"error":case"fatal":return console.error(ed,...eg);case"warn":return console.warn(ed,...eg);case"log":return console.log(ed,...eg);case"debug":case"verbose":return console.debug(ed,...eg)}}verbose(eu,...ed){this.isLevelEnabled("verbose")&&this.print("verbose",eu,...ed)}debug(eu,...ed){this.isLevelEnabled("debug")&&this.print("debug",eu,...ed)}log(eu,...ed){this.isLevelEnabled("log")&&this.print("log",eu,...ed)}warn(eu,...ed){this.isLevelEnabled("warn")&&this.print("warn",eu,...ed)}error(eu,...ed){this.isLevelEnabled("error")&&this.print("error",eu,...ed)}fatal(eu,...ed){this.isLevelEnabled("fatal")&&this.print("fatal",eu,...ed)}}ed.ConsoleLogger=eg},78345:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.Logger=ed.ConsoleLogger=void 0;var em=eg(96368);Object.defineProperty(ed,"ConsoleLogger",{enumerable:!0,get:function(){return em.ConsoleLogger}});var eb=eg(34);Object.defineProperty(ed,"Logger",{enumerable:!0,get:function(){return eb.Logger}})},34:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.Logger=void 0;let em=eg(96368),eb=["verbose","debug","log","warn","error","fatal"],ew=new em.ConsoleLogger(eb);class e_{static instanceRef=ew;static overrideLogger=eu=>{this.instanceRef=eu};static error(eu,...ed){this.instanceRef?.error(eu,...ed)}static log(eu,...ed){this.instanceRef?.log(eu,...ed)}static warn(eu,...ed){this.instanceRef?.warn(eu,...ed)}static debug(eu,...ed){this.instanceRef?.debug?.(eu,...ed)}static verbose(eu,...ed){this.instanceRef?.verbose?.(eu,...ed)}static fatal(eu,...ed){this.instanceRef?.fatal?.(eu,...ed)}}ed.Logger=e_},12151:function(eu,ed,eg){"use strict";Object.defineProperty(ed,"__esModule",{value:!0}),ed.printTxOutcomeLogs=ed.printTxOutcomeLogsAndFailures=void 0;let em=eg(65017),eb=eg(78345);function ew({contractId:eu,outcome:ed}){let eg=[ed.transaction_outcome,...ed.receipts_outcome].reduce((eu,ed)=>{let eg="object"==typeof ed.outcome.status&&"object"==typeof ed.outcome.status.Failure;return ed.outcome.logs.length||eg?eu.concat({receiptIds:ed.outcome.receipt_ids,logs:ed.outcome.logs,failure:"object"==typeof ed.outcome.status&&void 0!==ed.outcome.status.Failure?(0,em.parseRpcError)(ed.outcome.status.Failure):null}):eu},[]);for(let ed of eg)eb.Logger.log(`Receipt${ed.receiptIds.length>1?"s":""}: ${ed.receiptIds.join(", ")}`),e_({contractId:eu,logs:ed.logs,prefix:"	"}),ed.failure&&eb.Logger.warn(`	Failure [${eu}]: ${ed.failure}`)}function e_({contractId:eu,logs:ed,prefix:eg=""}){for(let em of ed)eb.Logger.log(`${eg}Log [${eu}]: ${em}`)}ed.printTxOutcomeLogsAndFailures=ew,ed.printTxOutcomeLogs=e_},56709:function(eu,ed,eg){"use strict";var em=eg(48834).Buffer;function eb(eu){if("object"==typeof eu.status&&"string"==typeof eu.status.SuccessValue){let ed=em.from(eu.status.SuccessValue,"base64").toString();try{return JSON.parse(ed)}catch(eu){return ed}}return null}Object.defineProperty(ed,"__esModule",{value:!0}),ed.getTransactionLastResult=void 0,ed.getTransactionLastResult=eb},83201:function(eu,ed){"use strict";function eg(eu,ed){return eu<ed?-1:eu>ed?1:0}Object.defineProperty(ed,"__esModule",{value:!0}),ed.sortBigIntAsc=void 0,ed.sortBigIntAsc=eg},56002:function(eu,ed,eg){"use strict";var em=this&&this.__importDefault||function(eu){return eu&&eu.__esModule?eu:{default:eu}};Object.defineProperty(ed,"__esModule",{value:!0}),ed.diffEpochValidators=ed.findSeatPrice=void 0;let eb=em(eg(64410)),ew=eg(83201);function e_(eu,ed,eg,em){if(em&&em<49)return eE(eu,ed);if(!eg){let eu=(0,eb.default)("findSeatPrice(validators, maxNumberOfSeats)");eu("`use `findSeatPrice(validators, maxNumberOfSeats, minimumStakeRatio)` instead"),eg=[1,6250]}return eA(eu,ed,eg)}function eE(eu,ed){let eg=eu.map(eu=>BigInt(eu.stake)).sort(ew.sortBigIntAsc),em=BigInt(ed),eb=eg.reduce((eu,ed)=>eu+ed);if(eb<em)throw Error("Stakes are below seats");let e_=1n,eE=eb+1n;for(;e_!==eE-1n;){let eu=(e_+eE)/2n,ed=!1,eb=0n;for(let ew=0;ew<eg.length;++ew)if((eb+=eg[ew]/eu)>=em){e_=eu,ed=!0;break}ed||(eE=eu)}return e_}function eA(eu,ed,eg){if(2!=eg.length)throw Error("minimumStakeRatio should have 2 elements");let em=eu.map(eu=>BigInt(eu.stake)).sort(ew.sortBigIntAsc),eb=em.reduce((eu,ed)=>eu+ed);return eu.length<ed?eb*BigInt(eg[0])/BigInt(eg[1]):em[0]+1n}function eS(eu,ed){let eg=new Map;eu.forEach(eu=>eg.set(eu.account_id,eu));let em=new Set(ed.map(eu=>eu.account_id));return{newValidators:ed.filter(eu=>!eg.has(eu.account_id)),removedValidators:eu.filter(eu=>!em.has(eu.account_id)),changedValidators:ed.filter(eu=>eg.has(eu.account_id)&&eg.get(eu.account_id).stake!=eu.stake).map(eu=>({current:eg.get(eu.account_id),next:eu}))}}ed.findSeatPrice=e_,ed.diffEpochValidators=eS},69413:function(eu,ed,eg){"use strict";let em=eg(31493);eu.exports=eE;let eb=eF().console||{},ew={mapHttpRequest:ek,mapHttpResponse:ek,wrapRequestSerializer:eR,wrapResponseSerializer:eR,wrapErrorSerializer:eR,req:ek,res:ek,err:eP};function e_(eu,ed){if(Array.isArray(eu)){let ed=eu.filter(function(eu){return"!stdSerializers.err"!==eu});return ed}return!0===eu&&Object.keys(ed)}function eE(eu){(eu=eu||{}).browser=eu.browser||{};let ed=eu.browser.transmit;if(ed&&"function"!=typeof ed.send)throw Error("pino: transmit option must have a send function");let eg=eu.browser.write||eb;eu.browser.write&&(eu.browser.asObject=!0);let em=eu.serializers||{},ew=e_(eu.browser.serialize,em),eS=eu.browser.serialize;Array.isArray(eu.browser.serialize)&&eu.browser.serialize.indexOf("!stdSerializers.err")>-1&&(eS=!1);let eI=["error","fatal","warn","info","debug","trace"];"function"==typeof eg&&(eg.error=eg.fatal=eg.warn=eg.info=eg.debug=eg.trace=eg),!1===eu.enabled&&(eu.level="silent");let eO=eu.level||"info",eP=Object.create(eg);eP.log||(eP.log=eD),Object.defineProperty(eP,"levelVal",{get:eR}),Object.defineProperty(eP,"level",{get:eB,set:eU});let ek={transmit:ed,serialize:ew,asObject:eu.browser.asObject,levels:eI,timestamp:eN(eu)};function eR(){return"silent"===this.level?1/0:this.levels.values[this.level]}function eB(){return this._level}function eU(eu){if("silent"!==eu&&!this.levels.values[eu])throw Error("unknown level "+eu);this._level=eu,eA(ek,eP,"error","log"),eA(ek,eP,"fatal","error"),eA(ek,eP,"warn","error"),eA(ek,eP,"info","log"),eA(ek,eP,"debug","log"),eA(ek,eP,"trace","log")}function eL(eg,eb){if(!eg)throw Error("missing bindings for child Pino");eb=eb||{},ew&&eg.serializers&&(eb.serializers=eg.serializers);let e_=eb.serializers;if(ew&&e_){var eE=Object.assign({},em,e_),eA=!0===eu.browser.serialize?Object.keys(eE):ew;delete eg.serializers,eC([eg],eA,eE,this._stdErrSerialize)}function eS(eu){this._childLevel=(0|eu._childLevel)+1,this.error=eM(eu,eg,"error"),this.fatal=eM(eu,eg,"fatal"),this.warn=eM(eu,eg,"warn"),this.info=eM(eu,eg,"info"),this.debug=eM(eu,eg,"debug"),this.trace=eM(eu,eg,"trace"),eE&&(this.serializers=eE,this._serialize=eA),ed&&(this._logEvent=eT([].concat(eu._logEvent.bindings,eg)))}return eS.prototype=this,new eS(this)}return eP.levels=eE.levels,eP.level=eO,eP.setMaxListeners=eP.getMaxListeners=eP.emit=eP.addListener=eP.on=eP.prependListener=eP.once=eP.prependOnceListener=eP.removeListener=eP.removeAllListeners=eP.listeners=eP.listenerCount=eP.eventNames=eP.write=eP.flush=eD,eP.serializers=em,eP._serialize=ew,eP._stdErrSerialize=eS,eP.child=eL,ed&&(eP._logEvent=eT()),eP}function eA(eu,ed,eg,em){let ew=Object.getPrototypeOf(ed);ed[eg]=ed.levelVal>ed.levels.values[eg]?eD:ew[eg]?ew[eg]:eb[eg]||eb[em]||eD,eS(eu,ed,eg)}function eS(eu,ed,eg){(eu.transmit||ed[eg]!==eD)&&(ed[eg]=function(em){return function(){let ew=eu.timestamp(),e_=Array(arguments.length),eA=Object.getPrototypeOf&&Object.getPrototypeOf(this)===eb?eb:this;for(var eS=0;eS<e_.length;eS++)e_[eS]=arguments[eS];if(eu.serialize&&!eu.asObject&&eC(e_,this._serialize,this.serializers,this._stdErrSerialize),eu.asObject?em.call(eA,eI(this,eg,e_,ew)):em.apply(eA,e_),eu.transmit){let em=eu.transmit.level||ed.level,eb=eE.levels.values[em],eA=eE.levels.values[eg];if(eA<eb)return;eO(this,{ts:ew,methodLevel:eg,methodValue:eA,transmitLevel:em,transmitValue:eE.levels.values[eu.transmit.level||ed.level],send:eu.transmit.send,val:ed.levelVal},e_)}}}(ed[eg]))}function eI(eu,ed,eg,eb){eu._serialize&&eC(eg,eu._serialize,eu.serializers,eu._stdErrSerialize);let ew=eg.slice(),e_=ew[0],eA={};eb&&(eA.time=eb),eA.level=eE.levels.values[ed];let eS=(0|eu._childLevel)+1;if(eS<1&&(eS=1),null!==e_&&"object"==typeof e_){for(;eS--&&"object"==typeof ew[0];)Object.assign(eA,ew.shift());e_=ew.length?em(ew.shift(),ew):void 0}else"string"==typeof e_&&(e_=em(ew.shift(),ew));return void 0!==e_&&(eA.msg=e_),eA}function eC(eu,ed,eg,em){for(let eb in eu)if(em&&eu[eb]instanceof Error)eu[eb]=eE.stdSerializers.err(eu[eb]);else if("object"==typeof eu[eb]&&!Array.isArray(eu[eb]))for(let em in eu[eb])ed&&ed.indexOf(em)>-1&&em in eg&&(eu[eb][em]=eg[em](eu[eb][em]))}function eM(eu,ed,eg){return function(){let em=Array(1+arguments.length);em[0]=ed;for(var eb=1;eb<em.length;eb++)em[eb]=arguments[eb-1];return eu[eg].apply(this,em)}}function eO(eu,ed,eg){let em=ed.send,eb=ed.ts,ew=ed.methodLevel,e_=ed.methodValue,eE=ed.val,eA=eu._logEvent.bindings;eC(eg,eu._serialize||Object.keys(eu.serializers),eu.serializers,void 0===eu._stdErrSerialize||eu._stdErrSerialize),eu._logEvent.ts=eb,eu._logEvent.messages=eg.filter(function(eu){return -1===eA.indexOf(eu)}),eu._logEvent.level.label=ew,eu._logEvent.level.value=e_,em(ew,eu._logEvent,eE),eu._logEvent=eT(eA)}function eT(eu){return{ts:0,messages:[],bindings:eu||[],level:{label:"",value:0}}}function eP(eu){let ed={type:eu.constructor.name,msg:eu.message,stack:eu.stack};for(let eg in eu)void 0===ed[eg]&&(ed[eg]=eu[eg]);return ed}function eN(eu){return"function"==typeof eu.timestamp?eu.timestamp:!1===eu.timestamp?eB:eU}function ek(){return{}}function eR(eu){return eu}function eD(){}function eB(){return!1}function eU(){return Date.now()}function eL(){return Math.round(Date.now()/1e3)}function ej(){return new Date(Date.now()).toISOString()}function eF(){function eu(eu){return void 0!==eu&&eu}try{if("undefined"!=typeof globalThis)return globalThis;return Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch(ed){return eu(self)||eu(window)||eu(this)||{}}}eE.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},eE.stdSerializers=ew,eE.stdTimeFunctions=Object.assign({},{nullTime:eB,epochTime:eU,unixTime:eL,isoTime:ej})},28551:function(eu,ed,eg){"use strict";eg.d(ed,{fl:function(){return eK},iv:function(){return eS},Ts:function(){return ej},Qu:function(){return eF},$m:function(){return eA}});/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let em=globalThis,eb=em.ShadowRoot&&(void 0===em.ShadyCSS||em.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,ew=Symbol(),e_=new WeakMap;class eE{constructor(eu,ed,eg){if(this._$cssResult$=!0,eg!==ew)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=eu,this.t=ed}get styleSheet(){let eu=this.o,ed=this.t;if(eb&&void 0===eu){let eg=void 0!==ed&&1===ed.length;eg&&(eu=e_.get(ed)),void 0===eu&&((this.o=eu=new CSSStyleSheet).replaceSync(this.cssText),eg&&e_.set(ed,eu))}return eu}toString(){return this.cssText}}let eA=eu=>new eE("string"==typeof eu?eu:eu+"",void 0,ew),eS=(eu,...ed)=>{let eg=1===eu.length?eu[0]:ed.reduce((ed,eg,em)=>ed+(eu=>{if(!0===eu._$cssResult$)return eu.cssText;if("number"==typeof eu)return eu;throw Error("Value passed to 'css' function must be a 'css' function result: "+eu+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(eg)+eu[em+1],eu[0]);return new eE(eg,eu,ew)},eI=(eu,ed)=>{if(eb)eu.adoptedStyleSheets=ed.map(eu=>eu instanceof CSSStyleSheet?eu:eu.styleSheet);else for(let eg of ed){let ed=document.createElement("style"),eb=em.litNonce;void 0!==eb&&ed.setAttribute("nonce",eb),ed.textContent=eg.cssText,eu.appendChild(ed)}},eC=eb?eu=>eu:eu=>eu instanceof CSSStyleSheet?(eu=>{let ed="";for(let eg of eu.cssRules)ed+=eg.cssText;return eA(ed)})(eu):eu,{is:eM,defineProperty:eO,getOwnPropertyDescriptor:eT,getOwnPropertyNames:eP,getOwnPropertySymbols:eN,getPrototypeOf:ek}=Object,eR=globalThis,eD=eR.trustedTypes,eB=eD?eD.emptyScript:"",eU=eR.reactiveElementPolyfillSupport,eL=(eu,ed)=>eu,ej={toAttribute(eu,ed){switch(ed){case Boolean:eu=eu?eB:null;break;case Object:case Array:eu=null==eu?eu:JSON.stringify(eu)}return eu},fromAttribute(eu,ed){let eg=eu;switch(ed){case Boolean:eg=null!==eu;break;case Number:eg=null===eu?null:Number(eu);break;case Object:case Array:try{eg=JSON.parse(eu)}catch(eu){eg=null}}return eg}},eF=(eu,ed)=>!eM(eu,ed),e$={attribute:!0,type:String,converter:ej,reflect:!1,useDefault:!1,hasChanged:eF};Symbol.metadata??=Symbol("metadata"),eR.litPropertyMetadata??=new WeakMap;class eK extends HTMLElement{static addInitializer(eu){this._$Ei(),(this.l??=[]).push(eu)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(eu,ed=e$){if(ed.state&&(ed.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(eu)&&((ed=Object.create(ed)).wrapped=!0),this.elementProperties.set(eu,ed),!ed.noAccessor){let eg=Symbol(),em=this.getPropertyDescriptor(eu,eg,ed);void 0!==em&&eO(this.prototype,eu,em)}}static getPropertyDescriptor(eu,ed,eg){let{get:em,set:eb}=eT(this.prototype,eu)??{get(){return this[ed]},set(eu){this[ed]=eu}};return{get:em,set(ed){let ew=em?.call(this);eb?.call(this,ed),this.requestUpdate(eu,ew,eg)},configurable:!0,enumerable:!0}}static getPropertyOptions(eu){return this.elementProperties.get(eu)??e$}static _$Ei(){if(this.hasOwnProperty(eL("elementProperties")))return;let eu=ek(this);eu.finalize(),void 0!==eu.l&&(this.l=[...eu.l]),this.elementProperties=new Map(eu.elementProperties)}static finalize(){if(this.hasOwnProperty(eL("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(eL("properties"))){let eu=this.properties,ed=[...eP(eu),...eN(eu)];for(let eg of ed)this.createProperty(eg,eu[eg])}let eu=this[Symbol.metadata];if(null!==eu){let ed=litPropertyMetadata.get(eu);if(void 0!==ed)for(let[eu,eg]of ed)this.elementProperties.set(eu,eg)}for(let[eu,ed]of(this._$Eh=new Map,this.elementProperties)){let eg=this._$Eu(eu,ed);void 0!==eg&&this._$Eh.set(eg,eu)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(eu){let ed=[];if(Array.isArray(eu)){let eg=new Set(eu.flat(1/0).reverse());for(let eu of eg)ed.unshift(eC(eu))}else void 0!==eu&&ed.push(eC(eu));return ed}static _$Eu(eu,ed){let eg=ed.attribute;return!1===eg?void 0:"string"==typeof eg?eg:"string"==typeof eu?eu.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise(eu=>this.enableUpdating=eu),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach(eu=>eu(this))}addController(eu){(this._$EO??=new Set).add(eu),void 0!==this.renderRoot&&this.isConnected&&eu.hostConnected?.()}removeController(eu){this._$EO?.delete(eu)}_$E_(){let eu=new Map,ed=this.constructor.elementProperties;for(let eg of ed.keys())this.hasOwnProperty(eg)&&(eu.set(eg,this[eg]),delete this[eg]);eu.size>0&&(this._$Ep=eu)}createRenderRoot(){let eu=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return eI(eu,this.constructor.elementStyles),eu}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach(eu=>eu.hostConnected?.())}enableUpdating(eu){}disconnectedCallback(){this._$EO?.forEach(eu=>eu.hostDisconnected?.())}attributeChangedCallback(eu,ed,eg){this._$AK(eu,eg)}_$ET(eu,ed){let eg=this.constructor.elementProperties.get(eu),em=this.constructor._$Eu(eu,eg);if(void 0!==em&&!0===eg.reflect){let eb=(void 0!==eg.converter?.toAttribute?eg.converter:ej).toAttribute(ed,eg.type);this._$Em=eu,null==eb?this.removeAttribute(em):this.setAttribute(em,eb),this._$Em=null}}_$AK(eu,ed){let eg=this.constructor,em=eg._$Eh.get(eu);if(void 0!==em&&this._$Em!==em){let eu=eg.getPropertyOptions(em),eb="function"==typeof eu.converter?{fromAttribute:eu.converter}:void 0!==eu.converter?.fromAttribute?eu.converter:ej;this._$Em=em;let ew=eb.fromAttribute(ed,eu.type);this[em]=ew??this._$Ej?.get(em)??ew,this._$Em=null}}requestUpdate(eu,ed,eg){if(void 0!==eu){let em=this.constructor,eb=this[eu];if(!(((eg??=em.getPropertyOptions(eu)).hasChanged??eF)(eb,ed)||eg.useDefault&&eg.reflect&&eb===this._$Ej?.get(eu)&&!this.hasAttribute(em._$Eu(eu,eg))))return;this.C(eu,ed,eg)}!1===this.isUpdatePending&&(this._$ES=this._$EP())}C(eu,ed,{useDefault:eg,reflect:em,wrapped:eb},ew){eg&&!(this._$Ej??=new Map).has(eu)&&(this._$Ej.set(eu,ew??ed??this[eu]),!0!==eb||void 0!==ew)||(this._$AL.has(eu)||(this.hasUpdated||eg||(ed=void 0),this._$AL.set(eu,ed)),!0===em&&this._$Em!==eu&&(this._$Eq??=new Set).add(eu))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(eu){Promise.reject(eu)}let eu=this.scheduleUpdate();return null!=eu&&await eu,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(let[eu,ed]of this._$Ep)this[eu]=ed;this._$Ep=void 0}let eu=this.constructor.elementProperties;if(eu.size>0)for(let[ed,eg]of eu){let{wrapped:eu}=eg,em=this[ed];!0!==eu||this._$AL.has(ed)||void 0===em||this.C(ed,void 0,eg,em)}}let eu=!1,ed=this._$AL;try{(eu=this.shouldUpdate(ed))?(this.willUpdate(ed),this._$EO?.forEach(eu=>eu.hostUpdate?.()),this.update(ed)):this._$EM()}catch(ed){throw eu=!1,this._$EM(),ed}eu&&this._$AE(ed)}willUpdate(eu){}_$AE(eu){this._$EO?.forEach(eu=>eu.hostUpdated?.()),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(eu)),this.updated(eu)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(eu){return!0}update(eu){this._$Eq&&=this._$Eq.forEach(eu=>this._$ET(eu,this[eu])),this._$EM()}updated(eu){}firstUpdated(eu){}}eK.elementStyles=[],eK.shadowRootOptions={mode:"open"},eK[eL("elementProperties")]=new Map,eK[eL("finalized")]=new Map,eU?.({ReactiveElement:eK}),(eR.reactiveElementVersions??=[]).push("2.1.1")},96088:function(eu,ed,eg){"use strict";let em;eg.d(ed,{bI:function(){return u7},JS:function(){return lq}});var eb,ew=eg(46791),e_=eg(70978),eE=eg(97637),eA=((eb=eA||{})[eb.ED25519=0]="ED25519",eb[eb.SECP256K1=1]="SECP256K1",eb);let eS={SECRET_KEY:32,ED25519_PUBLIC_KEY:32,SECP256k1_PUBLIC_KEY:64};function eI(eu){switch(eu){case eA.ED25519:return"ed25519";case eA.SECP256K1:return"secp256k1";default:throw Error(`Unknown key type ${eu}`)}}function eC(eu){switch(eu.toLowerCase()){case"ed25519":return eA.ED25519;case"secp256k1":return eA.SECP256K1;default:throw Error(`Unknown key type ${eu}`)}}function eM(eu){switch(eu){case eA.ED25519:return"ed25519Key";case eA.SECP256K1:return"secp256k1Key";default:throw Error(`unknown type ${eu}`)}}class eO{constructor(eu){if(1!==Object.keys(eu).length)throw Error("Enum can only take single value");Object.keys(eu).map(ed=>{this[ed]=eu[ed]})}}class eT extends eO{enum;ed25519Key;secp256k1Key;constructor(eu){let ed=eM(eu.keyType);super({[ed]:eu}),this[ed]=eu,this.enum=ed}static from(eu){return"string"==typeof eu?eT.fromString(eu):eu}static fromString(eu){let ed,eg;let em=eu.split(":");if(1===em.length)ed=em[0];else if(2===em.length)ed=em[1],eg=eC(em[0]);else throw Error("Invalid encoded key format, must be <curve>:<encoded key>");let eb=(0,ew.HL)(ed);eg||(eg=eb.length===eS.SECP256k1_PUBLIC_KEY?eA.SECP256K1:eA.ED25519);let e_=eg===eA.ED25519?eS.ED25519_PUBLIC_KEY:eS.SECP256k1_PUBLIC_KEY;if(eb.length!==e_)throw Error(`Invalid public key size (${eb.length}), must be ${e_}`);return new eT({keyType:eg,data:eb})}toString(){let eu=(0,ew.yg)(this.data);return`${eI(this.keyType)}:${eu}`}verify(eu,ed){let eg=this.keyType,em=this.data;switch(eg){case eA.ED25519:return e_.UN.verify(ed,eu,em);case eA.SECP256K1:return eE.ecdsaVerify(ed.subarray(0,64),eu,new Uint8Array([4,...em]));default:throw Error(`Unknown key type: ${eg}`)}}get keyPair(){return this.ed25519Key||this.secp256k1Key}get keyType(){return this.keyPair.keyType}get data(){return this.keyPair.data}}async function eP(eu,ed,eg,em){let eb=eu;for(let eu=0;eu<ed;eu++){let eu=await em();if(eu)return eu;await eN(eb),eb*=eg}return null}function eN(eu){return new Promise(ed=>setTimeout(ed,eu))}class ek{constructor(eu){if(1!==Object.keys(eu).length)throw Error("Enum can only take single value");Object.keys(eu).map(ed=>{this[ed]=eu[ed]})}}class eR{allowance;receiverId;methodNames;constructor({allowance:eu,receiverId:ed,methodNames:eg}){this.allowance=eu,this.receiverId=ed,this.methodNames=eg}}class eD{}class eB extends ek{enum;functionCall;fullAccess;constructor(eu){for(let[ed,eg]of(super(eu),Object.entries(eu||{})))this[ed]=eg,this.enum=ed}}class eU{nonce;permission;constructor({nonce:eu,permission:ed}){this.nonce=eu,this.permission=ed}}class eL{}class ej{code;constructor({code:eu}){this.code=eu}}class eF{methodName;args;gas;deposit;constructor({methodName:eu,args:ed,gas:eg,deposit:em}){this.methodName=eu,this.args=ed,this.gas=eg,this.deposit=em}}class e$ extends ek{enum;CodeHash;AccountId;constructor(eu){for(let[ed,eg]of(super(eu),Object.entries(eu||{})))this[ed]=eg,this.enum=ed}}class eK extends ek{enum;CodeHash;AccountId;constructor(eu){for(let[ed,eg]of(super(eu),Object.entries(eu||{})))this[ed]=eg,this.enum=ed}}class eH{code;deployMode;constructor({code:eu,deployMode:ed}){this.code=eu,this.deployMode=ed}}class eV{contractIdentifier;constructor({contractIdentifier:eu}){this.contractIdentifier=eu}}class eG{deposit;constructor({deposit:eu}){this.deposit=eu}}class eW{stake;publicKey;constructor({stake:eu,publicKey:ed}){this.stake=eu,this.publicKey=ed}}class eJ{publicKey;accessKey;constructor({publicKey:eu,accessKey:ed}){this.publicKey=eu,this.accessKey=ed}}class eZ{publicKey;constructor({publicKey:eu}){this.publicKey=eu}}class eY{beneficiaryId;constructor({beneficiaryId:eu}){this.beneficiaryId=eu}}class eX{delegateAction;signature;constructor({delegateAction:eu,signature:ed}){this.delegateAction=eu,this.signature=ed}}class eQ extends ek{enum;createAccount;deployContract;functionCall;transfer;stake;addKey;deleteKey;deleteAccount;signedDelegate;deployGlobalContract;useGlobalContract;constructor(eu){for(let[ed,eg]of(super(eu),Object.entries(eu||{})))this[ed]=eg,this.enum=ed}}var e0=eg(48834).Buffer;function e6(){return new eU({nonce:0n,permission:new eB({fullAccess:new eD})})}function e8(eu,ed,eg){return new eU({nonce:0n,permission:new eB({functionCall:new eR({receiverId:eu,allowance:eg,methodNames:ed})})})}function e5(){return new eQ({createAccount:new eL})}function e9(eu){return new eQ({deployContract:new ej({code:eu})})}function e7(eu){let ed=void 0!==eu.byteLength&&eu.byteLength===eu.length;return ed?eu:e0.from(JSON.stringify(eu))}function tu(eu,ed,eg=0n,em=0n,eb=e7){return new eQ({functionCall:new eF({methodName:eu,args:eb(ed),gas:eg,deposit:em})})}function th(eu=0n){return new eQ({transfer:new eG({deposit:eu})})}function td(eu=0n,ed){return new eQ({stake:new eW({stake:eu,publicKey:ed})})}function tg(eu,ed){return new eQ({addKey:new eJ({publicKey:eu,accessKey:ed})})}function ty(eu){return new eQ({deleteKey:new eZ({publicKey:eu})})}function tb(eu){return new eQ({deleteAccount:new eY({beneficiaryId:eu})})}function tw({delegateAction:eu,signature:ed}){return new eQ({signedDelegate:new eX({delegateAction:eu,signature:ed})})}function t_(eu,ed){return new eQ({deployGlobalContract:new eH({code:eu,deployMode:ed})})}function tE(eu){return new eQ({useGlobalContract:new eV({contractIdentifier:eu})})}let tA={addKey:tg,createAccount:e5,deleteAccount:tb,deleteKey:ty,deployContract:e9,fullAccessKey:e6,functionCall:tu,functionCallAccessKey:e8,signedDelegate:tw,stake:td,transfer:th,deployGlobalContract:t_,useGlobalContract:tE};var tS=["u8","u16","u32","u64","u128","i8","i16","i32","i64","i128","f32","f64"],tI=function(){function eu(){this.offset=0,this.buffer_size=256,this.buffer=new ArrayBuffer(this.buffer_size),this.view=new DataView(this.buffer)}return eu.prototype.resize_if_necessary=function(eu){if(this.buffer_size-this.offset<eu){this.buffer_size=Math.max(2*this.buffer_size,this.buffer_size+eu);var ed=new ArrayBuffer(this.buffer_size);new Uint8Array(ed).set(new Uint8Array(this.buffer)),this.buffer=ed,this.view=new DataView(ed)}},eu.prototype.get_used_buffer=function(){return new Uint8Array(this.buffer).slice(0,this.offset)},eu.prototype.store_value=function(eu,ed){var eg=ed.substring(1),em=parseInt(eg)/8;this.resize_if_necessary(em);var eb="f"===ed[0]?"setFloat".concat(eg):"i"===ed[0]?"setInt".concat(eg):"setUint".concat(eg);this.view[eb](this.offset,eu,!0),this.offset+=em},eu.prototype.store_bytes=function(eu){this.resize_if_necessary(eu.length),new Uint8Array(this.buffer).set(new Uint8Array(eu),this.offset),this.offset+=eu.length},eu}(),tC=function(){function eu(eu){this.offset=0,this.buffer_size=eu.length,this.buffer=new ArrayBuffer(eu.length),new Uint8Array(this.buffer).set(eu),this.view=new DataView(this.buffer)}return eu.prototype.assert_enough_buffer=function(eu){if(this.offset+eu>this.buffer.byteLength)throw Error("Error in schema, the buffer is smaller than expected")},eu.prototype.consume_value=function(eu){var ed=eu.substring(1),eg=parseInt(ed)/8;this.assert_enough_buffer(eg);var em="f"===eu[0]?"getFloat".concat(ed):"i"===eu[0]?"getInt".concat(ed):"getUint".concat(ed),eb=this.view[em](this.offset,!0);return this.offset+=eg,eb},eu.prototype.consume_bytes=function(eu){this.assert_enough_buffer(eu);var ed=this.buffer.slice(this.offset,this.offset+eu);return this.offset+=eu,ed},eu}(),tO=function(){var eu=function(ed,eg){return(eu=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(eu,ed){eu.__proto__=ed}||function(eu,ed){for(var eg in ed)Object.prototype.hasOwnProperty.call(ed,eg)&&(eu[eg]=ed[eg])})(ed,eg)};return function(ed,eg){if("function"!=typeof eg&&null!==eg)throw TypeError("Class extends value "+String(eg)+" is not a constructor or null");function em(){this.constructor=ed}eu(ed,eg),ed.prototype=null===eg?Object.create(eg):(em.prototype=eg.prototype,new em)}}();function tT(eu){return Array.isArray(eu)||!!eu&&"object"==typeof eu&&"length"in eu&&"number"==typeof eu.length&&(0===eu.length||eu.length>0&&eu.length-1 in eu)}function tP(eu,ed,eg){if(typeof eu!==ed)throw Error("Expected ".concat(ed," not ").concat(typeof eu,"(").concat(eu,") at ").concat(eg.join(".")))}function tN(eu,ed){var eg=["number","string","bigint","boolean"].includes(typeof eu),em="object"==typeof eu&&null!==eu&&"toString"in eu;if(!eg&&!em)throw Error("Expected bigint, number, boolean or string not ".concat(typeof eu,"(").concat(eu,") at ").concat(ed.join(".")))}function tR(eu,ed,eg){if(eu!==ed)throw Error("Array length ".concat(eu," does not match schema length ").concat(ed," at ").concat(eg.join(".")))}function tD(eu,ed){if("object"!=typeof eu||null===eu)throw Error("Expected object not ".concat(typeof eu,"(").concat(eu,") at ").concat(ed.join(".")))}var tB=tS.concat(["bool","string"]),tU=["option","enum","array","set","map","struct"],tL=function(eu){function ed(ed,eg){var em="Invalid schema: ".concat(JSON.stringify(ed)," expected ").concat(eg);return eu.call(this,em)||this}return tO(ed,eu),ed}(Error);function tj(eu){if(!("string"==typeof eu&&tB.includes(eu))){if(eu&&"object"==typeof eu){var ed=Object.keys(eu);if(1===ed.length&&tU.includes(ed[0])){var eg=ed[0];if("option"===eg)return tj(eu[eg]);if("enum"===eg)return tF(eu[eg]);if("array"===eg)return t$(eu[eg]);if("set"===eg)return tj(eu[eg]);if("map"===eg)return tK(eu[eg]);if("struct"===eg)return tq(eu[eg])}}throw new tL(eu,tU.join(", ")+" or "+tB.join(", "))}}function tF(eu){if(!Array.isArray(eu))throw new tL(eu,"Array");for(var ed=0,eg=eu;ed<eg.length;ed++){var em=eg[ed];if("object"!=typeof em||!("struct"in em))throw Error('Missing "struct" key in enum schema');if("object"!=typeof em.struct||1!==Object.keys(em.struct).length)throw Error('The "struct" in each enum must have a single key');tj({struct:em.struct})}}function t$(eu){if("object"!=typeof eu)throw new tL(eu,"{ type, len? }");if(eu.len&&"number"!=typeof eu.len)throw Error("Invalid schema: ".concat(eu));if("type"in eu)return tj(eu.type);throw new tL(eu,"{ type, len? }")}function tK(eu){if("object"==typeof eu&&"key"in eu&&"value"in eu)tj(eu.key),tj(eu.value);else throw new tL(eu,"{ key, value }")}function tq(eu){if("object"!=typeof eu)throw new tL(eu,"object");for(var ed in eu)tj(eu[ed])}var tz=function(){function eu(eu){this.encoded=new tI,this.fieldPath=["value"],this.checkTypes=eu}return eu.prototype.encode=function(eu,ed){return this.encode_value(eu,ed),this.encoded.get_used_buffer()},eu.prototype.encode_value=function(eu,ed){if("string"==typeof ed){if(tS.includes(ed))return this.encode_integer(eu,ed);if("string"===ed)return this.encode_string(eu);if("bool"===ed)return this.encode_boolean(eu)}if("object"==typeof ed){if("option"in ed)return this.encode_option(eu,ed);if("enum"in ed)return this.encode_enum(eu,ed);if("array"in ed)return this.encode_array(eu,ed);if("set"in ed)return this.encode_set(eu,ed);if("map"in ed)return this.encode_map(eu,ed);if("struct"in ed)return this.encode_struct(eu,ed)}},eu.prototype.encode_integer=function(eu,ed){var eg=parseInt(ed.substring(1));eg<=32||"f64"==ed?(this.checkTypes&&tP(eu,"number",this.fieldPath),this.encoded.store_value(eu,ed)):(this.checkTypes&&tN(eu,this.fieldPath),this.encode_bigint(BigInt(eu),eg))},eu.prototype.encode_bigint=function(eu,ed){for(var eg=ed/8,em=new Uint8Array(eg),eb=0;eb<eg;eb++)em[eb]=Number(eu&BigInt(255)),eu>>=BigInt(8);this.encoded.store_bytes(new Uint8Array(em))},eu.prototype.encode_string=function(eu){this.checkTypes&&tP(eu,"string",this.fieldPath);var ed=eu;this.encoded.store_value(ed.length,"u32");for(var eg=0;eg<ed.length;eg++)this.encoded.store_value(ed.charCodeAt(eg),"u8")},eu.prototype.encode_boolean=function(eu){this.checkTypes&&tP(eu,"boolean",this.fieldPath),this.encoded.store_value(eu?1:0,"u8")},eu.prototype.encode_option=function(eu,ed){null==eu?this.encoded.store_value(0,"u8"):(this.encoded.store_value(1,"u8"),this.encode_value(eu,ed.option))},eu.prototype.encode_enum=function(eu,ed){this.checkTypes&&tD(eu,this.fieldPath);for(var eg=Object.keys(eu)[0],em=0;em<ed.enum.length;em++){var eb=ed.enum[em];if(eg===Object.keys(eb.struct)[0])return this.encoded.store_value(em,"u8"),this.encode_struct(eu,eb)}throw Error("Enum key (".concat(eg,") not found in enum schema: ").concat(JSON.stringify(ed)," at ").concat(this.fieldPath.join(".")))},eu.prototype.encode_array=function(eu,ed){if(tT(eu))return this.encode_arraylike(eu,ed);if(eu instanceof ArrayBuffer)return this.encode_buffer(eu,ed);throw Error("Expected Array-like not ".concat(typeof eu,"(").concat(eu,") at ").concat(this.fieldPath.join(".")))},eu.prototype.encode_arraylike=function(eu,ed){ed.array.len?tR(eu.length,ed.array.len,this.fieldPath):this.encoded.store_value(eu.length,"u32");for(var eg=0;eg<eu.length;eg++)this.encode_value(eu[eg],ed.array.type)},eu.prototype.encode_buffer=function(eu,ed){ed.array.len?tR(eu.byteLength,ed.array.len,this.fieldPath):this.encoded.store_value(eu.byteLength,"u32"),this.encoded.store_bytes(new Uint8Array(eu))},eu.prototype.encode_set=function(eu,ed){this.checkTypes&&tP(eu,"object",this.fieldPath);var eg=eu instanceof Set?Array.from(eu.values()):Object.values(eu);this.encoded.store_value(eg.length,"u32");for(var em=0,eb=eg;em<eb.length;em++){var ew=eb[em];this.encode_value(ew,ed.set)}},eu.prototype.encode_map=function(eu,ed){this.checkTypes&&tP(eu,"object",this.fieldPath);var eg=eu instanceof Map,em=eg?Array.from(eu.keys()):Object.keys(eu);this.encoded.store_value(em.length,"u32");for(var eb=0,ew=em;eb<ew.length;eb++){var e_=ew[eb];this.encode_value(e_,ed.map.key),this.encode_value(eg?eu.get(e_):eu[e_],ed.map.value)}},eu.prototype.encode_struct=function(eu,ed){this.checkTypes&&tP(eu,"object",this.fieldPath);for(var eg=0,em=Object.keys(ed.struct);eg<em.length;eg++){var eb=em[eg];this.fieldPath.push(eb),this.encode_value(eu[eb],ed.struct[eb]),this.fieldPath.pop()}},eu}(),tH=function(){function eu(eu){this.buffer=new tC(eu)}return eu.prototype.decode=function(eu){return this.decode_value(eu)},eu.prototype.decode_value=function(eu){if("string"==typeof eu){if(tS.includes(eu))return this.decode_integer(eu);if("string"===eu)return this.decode_string();if("bool"===eu)return this.decode_boolean()}if("object"==typeof eu){if("option"in eu)return this.decode_option(eu);if("enum"in eu)return this.decode_enum(eu);if("array"in eu)return this.decode_array(eu);if("set"in eu)return this.decode_set(eu);if("map"in eu)return this.decode_map(eu);if("struct"in eu)return this.decode_struct(eu)}throw Error("Unsupported type: ".concat(eu))},eu.prototype.decode_integer=function(eu){var ed=parseInt(eu.substring(1));return ed<=32||"f64"==eu?this.buffer.consume_value(eu):this.decode_bigint(ed,eu.startsWith("i"))},eu.prototype.decode_bigint=function(eu,ed){void 0===ed&&(ed=!1);var eg=eu/8,em=new Uint8Array(this.buffer.consume_bytes(eg)),eb=em.reduceRight(function(eu,ed){return eu+ed.toString(16).padStart(2,"0")},"");return ed&&em[eg-1]?BigInt.asIntN(eu,BigInt("0x".concat(eb))):BigInt("0x".concat(eb))},eu.prototype.decode_string=function(){var eu=this.decode_integer("u32"),ed=new Uint8Array(this.buffer.consume_bytes(eu));return String.fromCharCode.apply(null,ed)},eu.prototype.decode_boolean=function(){return this.buffer.consume_value("u8")>0},eu.prototype.decode_option=function(eu){var ed=this.buffer.consume_value("u8");if(1===ed)return this.decode_value(eu.option);if(0!==ed)throw Error("Invalid option ".concat(ed));return null},eu.prototype.decode_enum=function(eu){var ed,eg=this.buffer.consume_value("u8");if(eg>eu.enum.length)throw Error("Enum option ".concat(eg," is not available"));var em=eu.enum[eg].struct,eb=Object.keys(em)[0];return(ed={})[eb]=this.decode_value(em[eb]),ed},eu.prototype.decode_array=function(eu){for(var ed=[],eg=eu.array.len?eu.array.len:this.decode_integer("u32"),em=0;em<eg;++em)ed.push(this.decode_value(eu.array.type));return ed},eu.prototype.decode_set=function(eu){for(var ed=this.decode_integer("u32"),eg=new Set,em=0;em<ed;++em)eg.add(this.decode_value(eu.set));return eg},eu.prototype.decode_map=function(eu){for(var ed=this.decode_integer("u32"),eg=new Map,em=0;em<ed;++em){var eb=this.decode_value(eu.map.key),ew=this.decode_value(eu.map.value);eg.set(eb,ew)}return eg},eu.prototype.decode_struct=function(eu){var ed={};for(var eg in eu.struct)ed[eg]=this.decode_value(eu.struct[eg]);return ed},eu}();function tV(eu,ed,eg){return void 0===eg&&(eg=!0),eg&&tj(eu),new tz(eg).encode(ed,eu)}function tG(eu,ed,eg){return void 0===eg&&(eg=!0),eg&&tj(eu),new tH(ed).decode(eu)}function tW(eu){let ed="signature"in eu?tY.SignedTransaction:tY.Transaction;return tV(ed,eu)}function tJ(eu){return new tZ(tG(tY.Transaction,eu))}class tZ{signerId;publicKey;nonce;receiverId;actions;blockHash;constructor({signerId:eu,publicKey:ed,nonce:eg,receiverId:em,actions:eb,blockHash:ew}){this.signerId=eu,this.publicKey=ed,this.nonce=eg,this.receiverId=em,this.actions=eb,this.blockHash=ew}encode(){return tW(this)}static decode(eu){return tJ(eu)}}let tY=new class{Ed25519Signature={struct:{data:{array:{type:"u8",len:64}}}};Secp256k1Signature={struct:{data:{array:{type:"u8",len:65}}}};Signature={enum:[{struct:{ed25519Signature:this.Ed25519Signature}},{struct:{secp256k1Signature:this.Secp256k1Signature}}]};Ed25519Data={struct:{data:{array:{type:"u8",len:32}}}};Secp256k1Data={struct:{data:{array:{type:"u8",len:64}}}};PublicKey={enum:[{struct:{ed25519Key:this.Ed25519Data}},{struct:{secp256k1Key:this.Secp256k1Data}}]};FunctionCallPermission={struct:{allowance:{option:"u128"},receiverId:"string",methodNames:{array:{type:"string"}}}};FullAccessPermission={struct:{}};AccessKeyPermission={enum:[{struct:{functionCall:this.FunctionCallPermission}},{struct:{fullAccess:this.FullAccessPermission}}]};AccessKey={struct:{nonce:"u64",permission:this.AccessKeyPermission}};CreateAccount={struct:{}};DeployContract={struct:{code:{array:{type:"u8"}}}};FunctionCall={struct:{methodName:"string",args:{array:{type:"u8"}},gas:"u64",deposit:"u128"}};Transfer={struct:{deposit:"u128"}};Stake={struct:{stake:"u128",publicKey:this.PublicKey}};AddKey={struct:{publicKey:this.PublicKey,accessKey:this.AccessKey}};DeleteKey={struct:{publicKey:this.PublicKey}};DeleteAccount={struct:{beneficiaryId:"string"}};GlobalContractDeployMode={enum:[{struct:{CodeHash:{struct:{}}}},{struct:{AccountId:{struct:{}}}}]};GlobalContractIdentifier={enum:[{struct:{CodeHash:{array:{type:"u8",len:32}}}},{struct:{AccountId:"string"}}]};DeployGlobalContract={struct:{code:{array:{type:"u8"}},deployMode:this.GlobalContractDeployMode}};UseGlobalContract={struct:{contractIdentifier:this.GlobalContractIdentifier}};DelegateActionPrefix={struct:{prefix:"u32"}};ClassicActions={enum:[{struct:{createAccount:this.CreateAccount}},{struct:{deployContract:this.DeployContract}},{struct:{functionCall:this.FunctionCall}},{struct:{transfer:this.Transfer}},{struct:{stake:this.Stake}},{struct:{addKey:this.AddKey}},{struct:{deleteKey:this.DeleteKey}},{struct:{deleteAccount:this.DeleteAccount}},{struct:{signedDelegate:"string"}},{struct:{deployGlobalContract:this.DeployGlobalContract}},{struct:{useGlobalContract:this.UseGlobalContract}}]};DelegateAction={struct:{senderId:"string",receiverId:"string",actions:{array:{type:this.ClassicActions}},nonce:"u64",maxBlockHeight:"u64",publicKey:this.PublicKey}};SignedDelegate={struct:{delegateAction:this.DelegateAction,signature:this.Signature}};Action={enum:[{struct:{createAccount:this.CreateAccount}},{struct:{deployContract:this.DeployContract}},{struct:{functionCall:this.FunctionCall}},{struct:{transfer:this.Transfer}},{struct:{stake:this.Stake}},{struct:{addKey:this.AddKey}},{struct:{deleteKey:this.DeleteKey}},{struct:{deleteAccount:this.DeleteAccount}},{struct:{signedDelegate:this.SignedDelegate}},{struct:{deployGlobalContract:this.DeployGlobalContract}},{struct:{useGlobalContract:this.UseGlobalContract}}]};Transaction={struct:{signerId:"string",publicKey:this.PublicKey,nonce:"u64",receiverId:"string",blockHash:{array:{type:"u8",len:32}},actions:{array:{type:this.Action}}}};SignedTransaction={struct:{transaction:this.Transaction,signature:this.Signature}}};function tX(eu,ed,eg,em,eb,ew){let e_="bigint"==typeof em?em:BigInt(em);return new tZ({signerId:eu,publicKey:ed,nonce:e_,receiverId:eg,actions:eb,blockHash:ew})}let{addKey:tQ,createAccount:t6,deleteAccount:t8,deleteKey:t5,deployContract:t4,functionCall:t9,stake:t7,transfer:ru,deployGlobalContract:rd,useGlobalContract:rp}=tA;class rg{senderId;receiverId;actions;nonce;maxBlockHeight;publicKey;constructor({senderId:eu,receiverId:ed,actions:eg,nonce:em,maxBlockHeight:eb,publicKey:ew}){this.senderId=eu,this.receiverId=ed,this.actions=eg,this.nonce=em,this.maxBlockHeight=eb,this.publicKey=ew}}function ry({actions:eu,maxBlockHeight:ed,nonce:eg,publicKey:em,receiverId:eb,senderId:ew}){return new rg({senderId:ew,receiverId:eb,actions:eu.map(eu=>{if(!eu.type&&!eu.params)return eu;switch(eu.type){case"AddKey":{let{publicKey:ed,accessKey:eg}=eu.params;return tQ(ed,eg)}case"CreateAccount":return t6(eu.params.createAccount);case"DeleteAccount":return t8(eu.params.deleteAccount);case"DeleteKey":return t5(eu.params.publicKey);case"DeployContract":return t4(eu.params.code);case"FunctionCall":{let{methodName:ed,args:eg,gas:em,deposit:eb}=eu.params;return t9(ed,eg,em,eb)}case"Stake":return t7(eu.params.stake,eu.params.publicKey);case"Transfer":{let{deposit:ed}=eu.params;return ru(ed)}case"DeployGlobalContract":{let{code:ed,deployMode:eg}=eu.params,em=eg instanceof e$?eg:new e$(eg);return rd(ed,em)}case"UseGlobalContract":{let{identifier:ed}=eu.params,eg=ed instanceof eK?ed:new eK(ed);return rp(eg)}}throw Error("Unrecognized action")}),nonce:eg,maxBlockHeight:ed,publicKey:em})}class rw extends Error{constructor(){super("Contract method calls expect named arguments wrapped in object, e.g. { argName1: argValue1, argName2: argValue2 }")}}class r_ extends Error{type;context;constructor(eu,ed,eg){super(eu),this.type=ed||"UntypedError",this.context=eg}}class rE{transactionHash;constructor(eu){this.transactionHash=eu}}var rA=eg(79036),rS=eg(40199);let rI=1.5,rC=10,rM=0;function rO(eu=rC,ed=rI,eg=rM){return{numOfAttempts:eu,timeMultiple:ed,startingDelay:eg,retry:eu=>!!([503,500,408].includes(eu.cause)||eu.toString().includes("FetchError")||eu.toString().includes("Failed to fetch"))}}class rT extends Error{cause;constructor(eu,ed){super(eu,ed),ed.cause&&(this.cause=ed.cause)}}async function rP(eu,ed,eg,em){let eb=await (0,rS.backOff)(async()=>{let em=await fetch(eu,{method:"POST",body:JSON.stringify(ed),headers:{...eg,"Content-Type":"application/json"}}),{ok:eb,status:ew}=em;if(500===ew)throw new rT("Internal server error",{cause:ew});if(408===ew)throw new rT("Timeout error",{cause:ew});if(400===ew)throw new rT("Request validation error",{cause:ew});if(503===ew)throw new rT(`${eu} unavailable`,{cause:ew});if(!eb)throw new rT(await em.text(),{cause:ew});return em},em);if(!eb)throw new r_(`Exceeded ${rC} attempts for ${eu}.`,"RetriesExceeded");return await eb.json()}var rN=eg(48834).Buffer;let rR=12,rD=500,rB=1.5,rU=123;class rL{connection;options;networkId;constructor(eu,ed){this.connection=eu||{url:""};let eg={retries:rR,wait:rD,backoff:rB};this.options=Object.assign({},eg,ed),this.networkId=void 0}async getNetworkId(){if(this.networkId)return this.networkId;let{chain_id:eu}=await this.viewNodeStatus();return this.networkId=eu,this.networkId}async getCurrentEpochSeatPrice(){let{minimum_stake_ratio:eu,protocol_version:ed}=await this.experimental_protocolConfig({finality:"final"}),{current_validators:eg}=await this.viewValidators(),em=300;return(0,ew.Sd)(eg,em,eu,ed)}async getNextEpochSeatPrice(){let{minimum_stake_ratio:eu,protocol_version:ed}=await this.experimental_protocolConfig({finality:"final"}),{next_validators:eg}=await this.viewValidators(),em=300;return(0,ew.Sd)(eg,em,eu,ed)}async viewAccessKey(eu,ed,eg={finality:"final"}){let em=await this.query({...eg,request_type:"view_access_key",account_id:eu,public_key:ed.toString()});return{...em,nonce:BigInt(em.nonce)}}async viewAccessKeyList(eu,ed={finality:"final"}){return this.query({...ed,request_type:"view_access_key_list",account_id:eu})}async viewAccount(eu,ed={finality:"final"}){let eg=await this.query({...ed,request_type:"view_account",account_id:eu});return{...eg,amount:BigInt(eg.amount),locked:BigInt(eg.locked)}}async viewContractCode(eu,ed={finality:"final"}){let eg=await this.query({...ed,request_type:"view_code",account_id:eu});return{...eg,code:new Uint8Array(rN.from(eg.code_base64,"base64"))}}async viewContractState(eu,ed,eg={finality:"final"}){let em=rN.from(ed||"").toString("base64");return this.query({...eg,request_type:"view_state",account_id:eu,prefix_base64:em})}async callFunction(eu,ed,eg,em={finality:"final"}){let{result:eb}=await this.callFunctionRaw(eu,ed,eg,em);if(0===eb.length)return;let ew=rN.from(eb).toString();try{return JSON.parse(ew)}catch{return ew}}async callFunctionRaw(eu,ed,eg,em={finality:"final"}){let eb=rN.from(JSON.stringify(eg)).toString("base64");return await this.query({...em,request_type:"call_function",account_id:eu,method_name:ed,args_base64:eb})}async viewBlock(eu){let{finality:ed}=eu,{blockId:eg}=eu;return this.sendJsonRpc("block",{block_id:eg,finality:ed})}async viewChunk(eu){return this.sendJsonRpc("chunk",[eu])}async viewGasPrice(eu){return this.sendJsonRpc("gas_price",[eu||null])}async viewNodeStatus(){return this.sendJsonRpc("status",[])}async viewValidators(eu){return this.sendJsonRpc("validators",[eu||null])}async viewTransactionStatus(eu,ed,eg){let em="string"==typeof eu?eu:(0,ew.yg)(eu);return this.sendJsonRpc("tx",{tx_hash:em,sender_account_id:ed,wait_until:eg})}async viewTransactionStatusWithReceipts(eu,ed,eg){let em="string"==typeof eu?eu:(0,ew.yg)(eu);return this.sendJsonRpc("EXPERIMENTAL_tx_status",{tx_hash:em,sender_account_id:ed,wait_until:eg})}async viewTransactionReceipt(eu){return this.sendJsonRpc("EXPERIMENTAL_receipt",{receipt_id:eu})}async status(){return this.sendJsonRpc("status",[])}async sendTransactionUntil(eu,ed){let eg=tW(eu);return this.sendJsonRpc("send_tx",{signed_tx_base64:rN.from(eg).toString("base64"),wait_until:ed})}async sendTransaction(eu){return this.sendTransactionUntil(eu,"EXECUTED_OPTIMISTIC")}async sendTransactionAsync(eu){return this.sendTransactionUntil(eu,"NONE")}async txStatus(eu,ed,eg="EXECUTED_OPTIMISTIC"){return"string"==typeof eu?this.txStatusString(eu,ed,eg):this.txStatusUint8Array(eu,ed,eg)}async txStatusUint8Array(eu,ed,eg){return this.sendJsonRpc("tx",{tx_hash:(0,ew.yg)(eu),sender_account_id:ed,wait_until:eg})}async txStatusString(eu,ed,eg){return this.sendJsonRpc("tx",{tx_hash:eu,sender_account_id:ed,wait_until:eg})}async txStatusReceipts(eu,ed,eg="EXECUTED_OPTIMISTIC"){return"string"==typeof eu?this.sendJsonRpc("EXPERIMENTAL_tx_status",{tx_hash:eu,sender_account_id:ed,wait_until:eg}):this.sendJsonRpc("EXPERIMENTAL_tx_status",{tx_hash:(0,ew.yg)(eu),sender_account_id:ed,wait_until:eg})}async query(...eu){let ed;if(1===eu.length){let{block_id:eg,blockId:em,...eb}=eu[0];ed=await this.sendJsonRpc("query",{...eb,block_id:eg||em})}else{let[eg,em]=eu;ed=await this.sendJsonRpc("query",[eg,em])}if(ed&&ed.error)throw new r_(`Querying failed: ${ed.error}.
${JSON.stringify(ed,null,2)}`,(0,ew.BE)(ed.error,ed.error.name));return ed}async block(eu){let{finality:ed}=eu,{blockId:eg}=eu;return this.sendJsonRpc("block",{block_id:eg,finality:ed})}async blockChanges(eu){let{finality:ed}=eu,{blockId:eg}=eu;return this.sendJsonRpc("EXPERIMENTAL_changes_in_block",{block_id:eg,finality:ed})}async chunk(eu){return this.sendJsonRpc("chunk",[eu])}async validators(eu){return this.sendJsonRpc("validators",[eu])}async experimental_protocolConfig(eu){let{blockId:ed,...eg}=eu;return await this.sendJsonRpc("EXPERIMENTAL_protocol_config",{...eg,block_id:ed})}async lightClientProof(eu){return await this.sendJsonRpc("EXPERIMENTAL_light_client_proof",eu)}async nextLightClientBlock(eu){return await this.sendJsonRpc("next_light_client_block",eu)}async accessKeyChanges(eu,ed){let{finality:eg}=ed,{blockId:em}=ed;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"all_access_key_changes",account_ids:eu,block_id:em,finality:eg})}async singleAccessKeyChanges(eu,ed){let{finality:eg}=ed,{blockId:em}=ed;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"single_access_key_changes",keys:eu,block_id:em,finality:eg})}async accountChanges(eu,ed){let{finality:eg}=ed,{blockId:em}=ed;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"account_changes",account_ids:eu,block_id:em,finality:eg})}async contractStateChanges(eu,ed,eg=""){let{finality:em}=ed,{blockId:eb}=ed;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"data_changes",account_ids:eu,key_prefix_base64:eg,block_id:eb,finality:em})}async contractCodeChanges(eu,ed){let{finality:eg}=ed,{blockId:em}=ed;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"contract_code_changes",account_ids:eu,block_id:em,finality:eg})}async gasPrice(eu){return await this.sendJsonRpc("gas_price",[eu])}async sendJsonRpc(eu,ed){let eg={method:eu,params:ed,id:rU++,jsonrpc:"2.0"},em=await rP(this.connection.url,eg,this.connection.headers||{},rO(this.options.retries,this.options.backoff,this.options.wait));if(em.error){if("object"==typeof em.error.data){if("string"==typeof em.error.data.error_message&&"string"==typeof em.error.data.error_type)throw new r_(em.error.data.error_message,em.error.data.error_type);throw(0,ew.wM)(em.error.data)}{let eu=`[${em.error.code}] ${em.error.message}: ${em.error.data}`,eg=(0,ew.BE)(em.error.data,"");if(eg)throw new r_((0,ew.Z)(eg,ed),eg);throw new r_(eu,em.error.name)}}if("string"==typeof em.result?.error){let eu=(0,ew.BE)(em.result.error,"");if(eu)throw new ew.nl((0,ew.Z)(eu,ed),eu)}let{result:eb}=em;if(void 0===eb)throw new r_(`Exceeded ${this.options.retries} attempts for request to ${eu}.`,"RetriesExceeded");return eb}}class rj{providers;currentProviderIndex;constructor(eu){if(0===eu.length)throw Error("At least one provider must be specified");this.providers=eu,this.currentProviderIndex=0}switchToNextProvider(){1!==this.providers.length&&(this.providers.length-1<=this.currentProviderIndex?this.currentProviderIndex=0:this.currentProviderIndex+=1,ew.Yd.debug(`Switched to provider at the index ${this.currentProviderIndex}`))}get currentProvider(){let eu=this.providers[this.currentProviderIndex];if(!eu)throw Error(`Provider wasn't found at index ${this.currentProviderIndex}`);return eu}async withBackoff(eu){for(let ed=0;ed<this.providers.length;ed++)try{let ed=await eu(this.currentProvider);if(ed)return ed}catch(eu){console.error(eu),this.switchToNextProvider()}throw new r_(`Exceeded ${this.providers.length} providers to execute request`,"RetriesExceeded")}async status(){return this.withBackoff(eu=>eu.status())}async getNetworkId(){return this.withBackoff(eu=>eu.getNetworkId())}async getCurrentEpochSeatPrice(){return this.withBackoff(eu=>eu.getCurrentEpochSeatPrice())}async getNextEpochSeatPrice(){return this.withBackoff(eu=>eu.getNextEpochSeatPrice())}async viewAccessKey(eu,ed,eg){return this.withBackoff(em=>em.viewAccessKey(eu,ed,eg))}async viewAccessKeyList(eu,ed){return this.withBackoff(eg=>eg.viewAccessKeyList(eu,ed))}async viewAccount(eu,ed){return this.withBackoff(eg=>eg.viewAccount(eu,ed))}async viewContractCode(eu,ed){return this.withBackoff(eg=>eg.viewContractCode(eu,ed))}async viewContractState(eu,ed,eg){return this.withBackoff(em=>em.viewContractState(eu,ed,eg))}async callFunction(eu,ed,eg,em){return this.withBackoff(eb=>eb.callFunction(eu,ed,eg,em))}async callFunctionRaw(eu,ed,eg,em){return this.withBackoff(eb=>eb.callFunctionRaw(eu,ed,eg,em))}async viewBlock(eu){return this.withBackoff(ed=>ed.viewBlock(eu))}async viewChunk(eu){return this.withBackoff(ed=>ed.viewChunk(eu))}async viewGasPrice(eu){return this.withBackoff(ed=>ed.viewGasPrice(eu))}async viewNodeStatus(){return this.withBackoff(eu=>eu.viewNodeStatus())}async viewValidators(eu){return this.withBackoff(ed=>ed.viewValidators(eu))}async viewTransactionStatus(eu,ed,eg){return this.withBackoff(em=>em.viewTransactionStatus(eu,ed,eg))}async viewTransactionStatusWithReceipts(eu,ed,eg){return this.withBackoff(em=>em.viewTransactionStatusWithReceipts(eu,ed,eg))}async viewTransactionReceipt(eu){return this.withBackoff(ed=>ed.viewTransactionReceipt(eu))}async sendTransactionUntil(eu,ed){return this.withBackoff(eg=>eg.sendTransactionUntil(eu,ed))}async sendTransaction(eu){return this.withBackoff(ed=>ed.sendTransaction(eu))}async sendTransactionAsync(eu){return this.withBackoff(ed=>ed.sendTransactionAsync(eu))}async txStatus(eu,ed,eg){return this.withBackoff(em=>em.txStatus(eu,ed,eg))}async txStatusReceipts(eu,ed,eg){return this.withBackoff(em=>em.txStatusReceipts(eu,ed,eg))}async query(eu,ed){return ed?this.withBackoff(eg=>eg.query(eu,ed)):this.withBackoff(ed=>ed.query(eu))}async block(eu){return this.withBackoff(ed=>ed.block(eu))}async blockChanges(eu){return this.withBackoff(ed=>ed.blockChanges(eu))}async chunk(eu){return this.withBackoff(ed=>ed.chunk(eu))}async validators(eu){return this.withBackoff(ed=>ed.validators(eu))}async experimental_protocolConfig(eu){return this.withBackoff(ed=>ed.experimental_protocolConfig(eu))}async lightClientProof(eu){return this.withBackoff(ed=>ed.lightClientProof(eu))}async nextLightClientBlock(eu){return this.withBackoff(ed=>ed.nextLightClientBlock(eu))}async accessKeyChanges(eu,ed){return this.withBackoff(eg=>eg.accessKeyChanges(eu,ed))}async singleAccessKeyChanges(eu,ed){return this.withBackoff(eg=>eg.singleAccessKeyChanges(eu,ed))}async accountChanges(eu,ed){return this.withBackoff(eg=>eg.accountChanges(eu,ed))}async contractStateChanges(eu,ed,eg=""){return this.withBackoff(em=>em.contractStateChanges(eu,ed,eg))}async contractCodeChanges(eu,ed){return this.withBackoff(eg=>eg.contractCodeChanges(eu,ed))}async gasPrice(eu){return this.withBackoff(ed=>ed.gasPrice(eu))}}var rF=eg(64410);function r$(eu){switch(eu.type){case void 0:return eu;case"JsonRpcProvider":return new rL({...eu.args});case"FailoverRpcProvider":{let ed=(eu?.args||[]).map(eu=>new rL(eu));return new rj(ed)}default:throw Error(`Unknown provider type ${eu.type}`)}}function rK(eu){switch(eu.type){case void 0:return eu;case"KeyPairSigner":return new rA.e(eu.keyPair);default:throw Error(`Unknown signer type ${eu.type}`)}}class rq{networkId;provider;signer;constructor(eu,ed,eg){let em=rF("new Connection(networkId, provider, signer)");em("`Connection` is no longer used anywhere, please switch to constructing `Account` without it - use `new Account(accountId, provider, signer)`"),this.networkId=eu,this.provider=ed,this.signer=eg}getConnection(){return this}static fromConfig(eu){let ed=r$(eu.provider),eg=rK(eu.signer);return new rq(eu.networkId,ed,eg)}}var rz=eg(48834).Buffer;function rH(eu){return JSON.parse(rz.from(eu).toString())}function rV(eu){return rz.from(JSON.stringify(eu))}function rG(eu){let ed=void 0!==eu.byteLength&&eu.byteLength===eu.length;if(!ed&&(Array.isArray(eu)||"object"!=typeof eu))throw new rw}async function rW(eu,ed,eg,em={finality:"optimistic"}){let{values:eb}=await eu.provider.query({request_type:"view_state",...em,account_id:ed,prefix_base64:rz.from(eg).toString("base64")});return eb.map(({key:eu,value:ed})=>({key:rz.from(eu,"base64"),value:rz.from(ed,"base64")}))}async function rJ(eu,{contractId:ed,methodName:eg,args:em={},parse:eb=rH,stringify:e_=rV,blockQuery:eE={finality:"optimistic"}}){rG(em);let eA=e_(em),eS=await eu.provider.query({request_type:"call_function",...eE,account_id:ed,method_name:eg,args_base64:eA.toString("base64")});return eS.logs&&(0,ew.uO)({contractId:ed,logs:eS.logs}),eS.result&&eS.result.length>0&&eb(rz.from(eS.result))}var rZ=eg(22389),rY=eg(34406),rX=eg(48834).Buffer;let{addKey:rQ,createAccount:r6,deleteAccount:r3,deleteKey:r8,deployContract:r5,deployGlobalContract:r4,fullAccessKey:r9,functionCall:r7,functionCallAccessKey:nu,transfer:nh,useGlobalContract:nd}=tA,np=rY.env.DEFAULT_FINALITY||"near-final",ng="EXECUTED_OPTIMISTIC";class nm{accountId;provider;signer;constructor(eu,ed,eg){this.accountId=eu,this.provider=ed,this.signer=eg}setSigner(eu){this.signer=eu}getSigner(){return this.signer}async getState(){let eu=await this.provider.experimental_protocolConfig({finality:np}),ed=await this.provider.viewAccount(this.accountId,{finality:np}),eg=BigInt(eu.runtime_config.storage_amount_per_byte),em=BigInt(ed.storage_usage)*eg,eb=BigInt(ed.locked),ew=BigInt(ed.amount)+eb,e_=ew-(eb>em?eb:em);return{balance:{total:ew,usedOnStorage:em,locked:eb,available:e_},storageUsage:ed.storage_usage,codeHash:ed.code_hash}}async getAccessKey(eu){return this.provider.viewAccessKey(this.accountId,eu,{finality:np})}async getAccessKeyList(){return this.provider.viewAccessKeyList(this.accountId,{finality:np})}async getContractCode(){return this.provider.viewContractCode(this.accountId,{finality:np})}async getContractState(eu){return this.provider.viewContractState(this.accountId,eu,{finality:np})}async createTransaction(eu,ed,eg){if(!eg)throw Error("Please provide a public key");let em=eT.from(eg),eb=await this.getAccessKey(em),e_=await this.provider.viewBlock({finality:np}),eE=e_.header.hash,eA=BigInt(eb.nonce)+1n;return tX(this.accountId,em,eu,eA+1n,ed,(0,ew.HL)(eE))}async createSignedTransaction(eu,ed){if(!this.signer)throw Error("Please set a signer");let eg=await this.createTransaction(eu,ed,await this.signer.getPublicKey()),[,em]=await this.signer.signTransaction(eg);return em}async createMetaTransaction(eu,ed,eg=200,em){if(!em)throw Error("Please provide a public key");let eb=eT.from(em),ew=await this.getAccessKey(eb),e_=BigInt(ew.nonce)+1n,{header:eE}=await this.provider.viewBlock({finality:np}),eA=BigInt(eE.height)+BigInt(eg);return ry({receiverId:eu,senderId:this.accountId,actions:ed,publicKey:eb,nonce:e_,maxBlockHeight:eA})}async createSignedMetaTransaction(eu,ed,eg=200){if(!this.signer)throw Error("Please set a signer");let em=await this.createMetaTransaction(eu,ed,eg,await this.signer.getPublicKey());return this.signer.signDelegateAction(em)}async signAndSendTransaction({receiverId:eu,actions:ed,waitUntil:eg=ng,throwOnFailure:em=!0}){let eb=await this.createSignedTransaction(eu,ed),e_=await this.provider.sendTransactionUntil(eb,eg);if(em&&"object"==typeof e_.status&&"object"==typeof e_.status.Failure&&null!==e_.status.Failure)throw(0,ew.N4)(e_);return e_}async signAndSendTransactions({transactions:eu,waitUntil:ed=ng,throwOnFailure:eg=!0}){if(!this.signer)throw Error("Please set a signer");let em=await Promise.all(eu.map(async({receiverId:eu,actions:em})=>this.signAndSendTransaction({receiverId:eu,actions:em,waitUntil:ed,throwOnFailure:eg})));return em}async createAccount(eu,ed,eg="0"){if(eu.endsWith(this.accountId))return this.createSubAccount(eu,ed,eg);let em=eu.split(".");if(2!=em.length)throw Error("newAccountId needs to be of the form <string>.<tla>");let eb=em[1];return this.signAndSendTransaction({receiverId:eb,actions:[r7("create_account",{new_account_id:eu,new_public_key:ed.toString()},BigInt("60000000000000"),BigInt(eg))]})}async createSubAccount(eu,ed,eg="0"){if(!this.signer)throw Error("Please set a signer");let em=eu.includes(".")?eu:`${eu}.${this.accountId}`;if(em.length>64)throw Error("Accounts cannot exceed 64 characters");if(!em.endsWith(this.accountId))throw Error(`New account must end up with ${this.accountId}`);let eb=[r6(),nh(BigInt(eg)),rQ(eT.from(ed),r9())];return this.signAndSendTransaction({receiverId:em,actions:eb})}async deleteAccount(eu){return this.signAndSendTransaction({receiverId:this.accountId,actions:[r3(eu)]})}async deployContract(eu){return this.signAndSendTransaction({receiverId:this.accountId,actions:[r5(eu)]})}async deployGlobalContract(eu,ed){let eg=new e$("codeHash"===ed?{CodeHash:null}:{AccountId:null});return this.signAndSendTransaction({receiverId:this.accountId,actions:[r4(eu,eg)]})}async useGlobalContract(eu){let ed=new eK("accountId"in eu?{AccountId:eu.accountId}:{CodeHash:"string"==typeof eu.codeHash?rX.from(eu.codeHash,"hex"):eu.codeHash});return this.signAndSendTransaction({receiverId:this.accountId,actions:[nd(ed)]})}async addFunctionCallAccessKey({publicKey:eu,contractId:ed,methodNames:eg=[],allowance:em=rZ.Vs.toUnits("0.25")}){return this.signAndSendTransaction({receiverId:this.accountId,actions:[rQ(eT.from(eu),nu(ed,eg,BigInt(em)))]})}async addFullAccessKey(eu){return this.signAndSendTransaction({receiverId:this.accountId,actions:[rQ(eT.from(eu),r9())]})}async deleteKey(eu){return this.signAndSendTransaction({receiverId:this.accountId,actions:[r8(eT.from(eu))]})}async callFunction(eu){let ed=await this.callFunctionRaw(eu);return(0,ew.YS)(ed)}async callFunctionRaw({contractId:eu,methodName:ed,args:eg={},deposit:em="0",gas:eb=ew.Nn,waitUntil:e_=ng}){return await this.signAndSendTransaction({receiverId:eu,actions:[r7(ed,eg,BigInt(eb),BigInt(em))],waitUntil:e_})}async signNep413Message({message:eu,recipient:ed,nonce:eg,callbackUrl:em}){if(!this.signer)throw Error("Please set a signer");return this.signer.signNep413Message(eu,this.accountId,ed,eg,em)}async getBalance(eu=rZ.Vs){return eu.getBalance(this)}async transfer({receiverId:eu,amount:ed,token:eg=rZ.Vs}){return eg.transfer({from:this,receiverId:eu,amount:ed})}async signedDelegate({actions:eu,blockHeightTtl:ed,receiverId:eg}){let{header:em}=await this.provider.viewBlock({finality:np});if(!this.signer)throw Error("Please set a signer");let eb=await this.signer.getPublicKey(),ew=await this.getAccessKey(eb),e_=ry({actions:eu,maxBlockHeight:BigInt(em.height)+BigInt(ed),nonce:BigInt(ew.nonce)+1n,publicKey:eb,receiverId:eg,senderId:this.accountId}),[,eE]=await this.signer.signDelegateAction(e_);return eE}getConnection(){return new rq("",this.provider,this.signer)}validateArgs(eu){let ed=void 0!==eu.byteLength&&eu.byteLength===eu.length;if(!ed&&(Array.isArray(eu)||"object"!=typeof eu))throw new rw}async functionCall({contractId:eu,methodName:ed,args:eg={},gas:em=ew.Nn,attachedDeposit:eb,walletMeta:e_,walletCallbackUrl:eE,stringify:eA}){this.validateArgs(eg);let eS=void 0===eA?e7:eA,eI=[ed,eg,em,eb,eS,!1];return this.signAndSendTransactionLegacy({receiverId:eu,actions:[r7.apply(void 0,eI)],walletMeta:e_,walletCallbackUrl:eE})}async getTransactionStatus(eu){return this.provider.viewTransactionStatus(eu,this.accountId,"EXECUTED_OPTIMISTIC")}async signTransaction(eu,ed,eg){let em=eg?.signer||this.signer;if(!em)throw Error("Please set a signer");let eb=await em.getPublicKey(),e_=await this.getAccessKey(eb),eE=await this.provider.viewBlock({finality:np}),eA=eE.header.hash,eS=BigInt(e_.nonce)+1n,eI=tX(this.accountId,eb,eu,eS+1n,ed,(0,ew.HL)(eA));return em.signTransaction(eI)}async createAndDeployContract(eu,ed,eg,em){let eb=r9();return await this.signAndSendTransactionLegacy({receiverId:eu,actions:[r6(),nh(em),rQ(eT.from(ed),eb),r5(eg)]}),new nm(eu,this.provider)}async sendMoney(eu,ed){return this.signAndSendTransactionLegacy({receiverId:eu,actions:[nh(ed)]})}async signAndSendTransactionLegacy({receiverId:eu,actions:ed,returnError:eg},em){let eb,e_;let eE=12,eA=500,eS=1.5,eI=await eP(eA,eE,eS,async()=>{[eb,e_]=await this.signTransaction(eu,ed,em);try{return await this.provider.sendTransaction(e_)}catch(ed){if("InvalidNonce"===ed.type)return ew.Yd.warn(`Retrying transaction ${eu}:${(0,ew.yg)(eb)} with new nonce.`),null;if("Expired"===ed.type)return ew.Yd.warn(`Retrying transaction ${eu}:${(0,ew.yg)(eb)} due to expired block hash`),null;throw ed.context=new rE((0,ew.yg)(eb)),ed}});if(!eI)throw new r_("nonce retries exceeded for transaction. This usually means there are too many parallel requests with the same access key.","RetriesExceeded");if((0,ew.CV)({contractId:e_.transaction.receiverId,outcome:eI}),!eg&&"object"==typeof eI.status&&"object"==typeof eI.status.Failure&&null!==eI.status.Failure){if(eI.status.Failure.error_message&&eI.status.Failure.error_type)throw new r_(`Transaction ${eI.transaction_outcome.id} failed. ${eI.status.Failure.error_message}`,eI.status.Failure.error_type);throw(0,ew.N4)(eI)}return eI}accessKeyByPublicKeyCache={};async findAccessKey(eu,ed){if(!this.signer)throw Error("Please set a signer");let eg=await this.signer.getPublicKey();if(!eg)throw new r_(`no matching key pair found in ${this.signer.constructor.name}`,"PublicKeyNotFound");let em=this.accessKeyByPublicKeyCache[eg.toString()];if(void 0!==em)return{publicKey:eg,accessKey:em};try{let eu=await this.provider.query({request_type:"view_access_key",account_id:this.accountId,public_key:eg.toString(),finality:np}),ed={...eu,nonce:BigInt(eu.nonce||0)};if(this.accessKeyByPublicKeyCache[eg.toString()])return{publicKey:eg,accessKey:this.accessKeyByPublicKeyCache[eg.toString()]};return this.accessKeyByPublicKeyCache[eg.toString()]=ed,{publicKey:eg,accessKey:ed}}catch(eu){if("AccessKeyDoesNotExist"==eu.type)return null;throw eu}}async addKey(eu,ed,eg,em){let eb;return eg||(eg=[]),Array.isArray(eg)||(eg=[eg]),eb=ed?nu(ed,eg,em):r9(),this.signAndSendTransactionLegacy({receiverId:this.accountId,actions:[rQ(eT.from(eu),eb)]})}async viewFunction(eu){return await rJ(this.getConnection(),eu)}async viewState(eu,ed={finality:np}){return await rW(this.getConnection(),this.accountId,eu,ed)}async getAccessKeys(){let eu=await this.provider.query({request_type:"view_access_key_list",account_id:this.accountId,finality:np});return eu?.keys?.map(eu=>({...eu,access_key:{...eu.access_key,nonce:BigInt(eu.access_key.nonce)}}))}async getAccountDetails(){let eu=await this.getAccessKeys(),ed=eu.filter(eu=>"FullAccess"!==eu.access_key.permission).map(eu=>{let ed=eu.access_key.permission;return{contractId:ed.FunctionCall.receiver_id,amount:ed.FunctionCall.allowance,publicKey:eu.public_key}});return{authorizedApps:ed}}async state(){return this.provider.query({request_type:"view_account",account_id:this.accountId,finality:"optimistic"})}async getAccountBalance(){let eu=await this.provider.experimental_protocolConfig({finality:np}),ed=await this.state(),eg=BigInt(eu.runtime_config.storage_amount_per_byte),em=BigInt(ed.storage_usage)*eg,eb=BigInt(ed.locked),ew=BigInt(ed.amount)+eb,e_=ew-(eb>em?eb:em);return{total:ew.toString(),stateStaked:em.toString(),staked:eb.toString(),available:e_.toString()}}async getActiveDelegatedStakeBalance(){let eu=await this.provider.block({finality:np}),ed=eu.header.hash,eg=eu.header.epoch_id,{current_validators:em,next_validators:eb,current_proposals:ew}=await this.provider.validators(eg),e_=new Set;[...em,...eb,...ew].forEach(eu=>e_.add(eu.account_id));let eE=[...e_],eA=eE.map(eu=>this.viewFunction({contractId:eu,methodName:"get_account_total_balance",args:{account_id:this.accountId},blockQuery:{blockId:ed}})),eS=await Promise.allSettled(eA),eI=eS.some(eu=>"rejected"===eu.status&&"TimeoutError"===eu.reason.type);if(eI)throw Error("Failed to get delegated stake balance");let eC=eS.reduce((eu,ed,eg)=>{let em=eE[eg];if("fulfilled"===ed.status){let eg=BigInt(ed.value);if(0n!==eg)return{...eu,stakedValidators:[...eu.stakedValidators,{validatorId:em,amount:eg.toString()}],total:eu.total+eg}}return"rejected"===ed.status?{...eu,failedValidators:[...eu.failedValidators,{validatorId:em,error:ed.reason}]}:eu},{stakedValidators:[],failedValidators:[],total:0n});return{...eC,total:eC.total.toString()}}}class nw{}var n_=eg(95003);class nE extends nw{publicKey;secretKey;extendedSecretKey;constructor(eu){super();let ed=(0,ew.HL)(eu),eg=new Uint8Array(ed.slice(0,eS.SECRET_KEY)),em=e_.UN.getPublicKey(new Uint8Array(eg));this.publicKey=new eT({keyType:eA.ED25519,data:em}),this.secretKey=(0,ew.yg)(eg),this.extendedSecretKey=eu}static fromRandom(){let eu=n_(eS.SECRET_KEY),ed=e_.UN.getPublicKey(new Uint8Array(eu)),eg=new Uint8Array([...eu,...ed]);return new nE((0,ew.yg)(eg))}sign(eu){let ed=e_.UN.sign(eu,(0,ew.HL)(this.secretKey));return{signature:ed,publicKey:this.publicKey}}verify(eu,ed){return this.publicKey.verify(eu,ed)}toString(){return`ed25519:${this.extendedSecretKey}`}getPublicKey(){return this.publicKey}}class nA extends nw{publicKey;secretKey;extendedSecretKey;constructor(eu){super();let ed=(0,ew.HL)(eu),eg=new Uint8Array(ed.slice(0,eS.SECRET_KEY)),em=eE.publicKeyCreate(new Uint8Array(eg),!1),eb=em.subarray(1,em.length);this.publicKey=new eT({keyType:eA.SECP256K1,data:eb}),this.secretKey=(0,ew.yg)(eg),this.extendedSecretKey=eu}static fromRandom(){let eu=n_(eS.SECRET_KEY),ed=eE.publicKeyCreate(new Uint8Array(eu),!1),eg=ed.subarray(1,ed.length),em=new Uint8Array([...eu,...eg]);return new nA((0,ew.yg)(em))}sign(eu){let{signature:ed,recid:eg}=eE.ecdsaSign(eu,(0,ew.HL)(this.secretKey));return{signature:new Uint8Array([...ed,eg]),publicKey:this.publicKey}}verify(eu,ed){return this.publicKey.verify(eu,ed)}toString(){return`secp256k1:${this.extendedSecretKey}`}getPublicKey(){return this.publicKey}}class nS extends nw{static fromRandom(eu){switch(eu.toUpperCase()){case"ED25519":return nE.fromRandom();case"SECP256K1":return nA.fromRandom();default:throw Error(`Unknown curve ${eu}`)}}static fromString(eu){let ed=eu.split(":");if(2===ed.length)switch(ed[0].toUpperCase()){case"ED25519":return new nE(ed[1]);case"SECP256K1":return new nA(ed[1]);default:throw Error(`Unknown curve: ${ed[0]}`)}else throw Error("Invalid encoded key format, must be <curve>:<encoded key>")}}class nI{}let nC="near-api-js:keystore:";class nM extends nI{localStorage;prefix;constructor(eu=window.localStorage,ed=nC){super(),this.localStorage=eu,this.prefix=ed}async setKey(eu,ed,eg){this.localStorage.setItem(this.storageKeyForSecretKey(eu,ed),eg.toString())}async getKey(eu,ed){let eg=this.localStorage.getItem(this.storageKeyForSecretKey(eu,ed));return eg?nS.fromString(eg):null}async removeKey(eu,ed){this.localStorage.removeItem(this.storageKeyForSecretKey(eu,ed))}async clear(){for(let eu of this.storageKeys())eu.startsWith(this.prefix)&&this.localStorage.removeItem(eu)}async getNetworks(){let eu=new Set;for(let ed of this.storageKeys())if(ed.startsWith(this.prefix)){let eg=ed.substring(this.prefix.length).split(":");eu.add(eg[1])}return Array.from(eu.values())}async getAccounts(eu){let ed=[];for(let eg of this.storageKeys())if(eg.startsWith(this.prefix)){let em=eg.substring(this.prefix.length).split(":");em[1]===eu&&ed.push(em[0])}return ed}storageKeyForSecretKey(eu,ed){return`${this.prefix}${ed}:${eu}`}*storageKeys(){for(let eu=0;eu<this.localStorage.length;eu++)yield this.localStorage.key(eu)}}var nO=eg(22754);function nT(eu,ed,eg){function em(eg,em){var eb;for(let ew in Object.defineProperty(eg,"_zod",{value:eg._zod??{},enumerable:!1}),(eb=eg._zod).traits??(eb.traits=new Set),eg._zod.traits.add(eu),ed(eg,em),e_.prototype)ew in eg||Object.defineProperty(eg,ew,{value:e_.prototype[ew].bind(eg)});eg._zod.constr=e_,eg._zod.def=em}let eb=eg?.Parent??Object;class ew extends eb{}function e_(eu){var ed;let eb=eg?.Parent?new ew:this;for(let eg of(em(eb,eu),(ed=eb._zod).deferred??(ed.deferred=[]),eb._zod.deferred))eg();return eb}return Object.defineProperty(ew,"name",{value:eu}),Object.defineProperty(e_,"init",{value:em}),Object.defineProperty(e_,Symbol.hasInstance,{value:ed=>!!eg?.Parent&&ed instanceof eg.Parent||ed?._zod?.traits?.has(eu)}),Object.defineProperty(e_,"name",{value:eu}),e_}Object.freeze({status:"aborted"}),Symbol("zod_brand");class nP extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class nN extends Error{constructor(eu){super(`Encountered unidirectional transform during encode: ${eu}`),this.name="ZodEncodeError"}}let nk={};function nR(eu){return eu&&Object.assign(nk,eu),nk}let nD=/^[cC][^\s-]{8,}$/,nB=/^[0-9a-z]+$/,nU=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,nL=/^[0-9a-vA-V]{20}$/,nj=/^[A-Za-z0-9]{27}$/,nF=/^[a-zA-Z0-9_-]{21}$/,n$=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,nK=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,nq=eu=>eu?RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${eu}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,nH=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,nV="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function nG(){return RegExp(nV,"u")}let nW=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,nJ=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,nZ=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,nY=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,nX=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,nQ=/^[A-Za-z0-9_-]*$/,n6=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,n8=/^\+(?:[0-9]){6,14}[0-9]$/,n5="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",n4=RegExp(`^${n5}$`);function n9(eu){let ed="(?:[01]\\d|2[0-3]):[0-5]\\d",eg="number"==typeof eu.precision?-1===eu.precision?`${ed}`:0===eu.precision?`${ed}:[0-5]\\d`:`${ed}:[0-5]\\d\\.\\d{${eu.precision}}`:`${ed}(?::[0-5]\\d(?:\\.\\d+)?)?`;return eg}function n7(eu){return RegExp(`^${n9(eu)}$`)}function iu(eu){let ed=n9({precision:eu.precision}),eg=["Z"];eu.local&&eg.push(""),eu.offset&&eg.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");let em=`${ed}(?:${eg.join("|")})`;return RegExp(`^${n5}T(?:${em})$`)}let ih=eu=>{let ed=eu?`[\\s\\S]{${eu?.minimum??0},${eu?.maximum??""}}`:"[\\s\\S]*";return RegExp(`^${ed}$`)},ig=/undefined/i,ib=/^[^A-Z]*$/,iw=/^[^a-z]*$/;function i_(eu){let ed=Object.values(eu).filter(eu=>"number"==typeof eu),eg=Object.entries(eu).filter(([eu,eg])=>-1===ed.indexOf(+eu)).map(([eu,ed])=>ed);return eg}function iE(eu,ed){return"bigint"==typeof ed?ed.toString():ed}function iA(eu){let ed=!1;return{get value(){if(!ed){let ed=eu();return Object.defineProperty(this,"value",{value:ed}),ed}throw Error("cached value already set")}}}function iS(eu){return null==eu}function iI(eu){let ed=eu.startsWith("^")?1:0,eg=eu.endsWith("$")?eu.length-1:eu.length;return eu.slice(ed,eg)}let iC=Symbol("evaluating");function iM(eu,ed,eg){let em;Object.defineProperty(eu,ed,{get(){if(em!==iC)return void 0===em&&(em=iC,em=eg()),em},set(eg){Object.defineProperty(eu,ed,{value:eg})},configurable:!0})}function iO(eu){return Object.create(Object.getPrototypeOf(eu),Object.getOwnPropertyDescriptors(eu))}function iT(eu,ed,eg){Object.defineProperty(eu,ed,{value:eg,writable:!0,enumerable:!0,configurable:!0})}function iP(...eu){let ed={};for(let eg of eu){let eu=Object.getOwnPropertyDescriptors(eg);Object.assign(ed,eu)}return Object.defineProperties({},ed)}function iN(eu){return JSON.stringify(eu)}let iR="captureStackTrace"in Error?Error.captureStackTrace:(...eu)=>{};function iD(eu){return"object"==typeof eu&&null!==eu&&!Array.isArray(eu)}let iB=iA(()=>{if("undefined"!=typeof navigator&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{let eu=Function;return new eu(""),!0}catch(eu){return!1}});function iU(eu){if(!1===iD(eu))return!1;let ed=eu.constructor;if(void 0===ed)return!0;let eg=ed.prototype;return!1!==iD(eg)&&!1!==Object.prototype.hasOwnProperty.call(eg,"isPrototypeOf")}function iL(eu){return iU(eu)?{...eu}:eu}let ij=new Set(["string","number","symbol"]);function iF(eu){return eu.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function i$(eu,ed,eg){let em=new eu._zod.constr(ed??eu._zod.def);return(!ed||eg?.parent)&&(em._zod.parent=eu),em}function iK(eu){let ed=eu;if(!ed)return{};if("string"==typeof ed)return{error:()=>ed};if(ed?.message!==void 0){if(ed?.error!==void 0)throw Error("Cannot specify both `message` and `error` params");ed.error=ed.message}return(delete ed.message,"string"==typeof ed.error)?{...ed,error:()=>ed.error}:ed}function iq(eu){return Object.keys(eu).filter(ed=>"optional"===eu[ed]._zod.optin&&"optional"===eu[ed]._zod.optout)}function iH(eu,ed){let eg=eu._zod.def,em=iP(eu._zod.def,{get shape(){let eu={};for(let em in ed){if(!(em in eg.shape))throw Error(`Unrecognized key: "${em}"`);ed[em]&&(eu[em]=eg.shape[em])}return iT(this,"shape",eu),eu},checks:[]});return i$(eu,em)}function iV(eu,ed){let eg=eu._zod.def,em=iP(eu._zod.def,{get shape(){let em={...eu._zod.def.shape};for(let eu in ed){if(!(eu in eg.shape))throw Error(`Unrecognized key: "${eu}"`);ed[eu]&&delete em[eu]}return iT(this,"shape",em),em},checks:[]});return i$(eu,em)}function iG(eu,ed){if(!iU(ed))throw Error("Invalid input to extend: expected a plain object");let eg=eu._zod.def.checks,em=eg&&eg.length>0;if(em)throw Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");let eb=iP(eu._zod.def,{get shape(){let eg={...eu._zod.def.shape,...ed};return iT(this,"shape",eg),eg},checks:[]});return i$(eu,eb)}function iW(eu,ed){if(!iU(ed))throw Error("Invalid input to safeExtend: expected a plain object");let eg={...eu._zod.def,get shape(){let eg={...eu._zod.def.shape,...ed};return iT(this,"shape",eg),eg},checks:eu._zod.def.checks};return i$(eu,eg)}function iJ(eu,ed){let eg=iP(eu._zod.def,{get shape(){let eg={...eu._zod.def.shape,...ed._zod.def.shape};return iT(this,"shape",eg),eg},get catchall(){return ed._zod.def.catchall},checks:[]});return i$(eu,eg)}function iZ(eu,ed,eg){let em=iP(ed._zod.def,{get shape(){let em=ed._zod.def.shape,eb={...em};if(eg)for(let ed in eg){if(!(ed in em))throw Error(`Unrecognized key: "${ed}"`);eg[ed]&&(eb[ed]=eu?new eu({type:"optional",innerType:em[ed]}):em[ed])}else for(let ed in em)eb[ed]=eu?new eu({type:"optional",innerType:em[ed]}):em[ed];return iT(this,"shape",eb),eb},checks:[]});return i$(ed,em)}function iY(eu,ed,eg){let em=iP(ed._zod.def,{get shape(){let em=ed._zod.def.shape,eb={...em};if(eg)for(let ed in eg){if(!(ed in eb))throw Error(`Unrecognized key: "${ed}"`);eg[ed]&&(eb[ed]=new eu({type:"nonoptional",innerType:em[ed]}))}else for(let ed in em)eb[ed]=new eu({type:"nonoptional",innerType:em[ed]});return iT(this,"shape",eb),eb},checks:[]});return i$(ed,em)}function iX(eu,ed=0){if(!0===eu.aborted)return!0;for(let eg=ed;eg<eu.issues.length;eg++)if(eu.issues[eg]?.continue!==!0)return!0;return!1}function iQ(eu,ed){return ed.map(ed=>{var eg;return(eg=ed).path??(eg.path=[]),ed.path.unshift(eu),ed})}function i0(eu){return"string"==typeof eu?eu:eu?.message}function i1(eu,ed,eg){let em={...eu,path:eu.path??[]};if(!eu.message){let eb=i0(eu.inst?._zod.def?.error?.(eu))??i0(ed?.error?.(eu))??i0(eg.customError?.(eu))??i0(eg.localeError?.(eu))??"Invalid input";em.message=eb}return delete em.inst,delete em.continue,ed?.reportInput||delete em.input,em}function i2(eu){return Array.isArray(eu)?"array":"string"==typeof eu?"string":"unknown"}function i6(...eu){let[ed,eg,em]=eu;return"string"==typeof ed?{message:ed,code:"custom",input:eg,inst:em}:{...ed}}BigInt("-9223372036854775808"),BigInt("9223372036854775807"),BigInt(0),BigInt("18446744073709551615");let i3=nT("$ZodCheck",(eu,ed)=>{var eg;eu._zod??(eu._zod={}),eu._zod.def=ed,(eg=eu._zod).onattach??(eg.onattach=[])}),i8=nT("$ZodCheckMaxLength",(eu,ed)=>{var eg;i3.init(eu,ed),(eg=eu._zod.def).when??(eg.when=eu=>{let ed=eu.value;return!iS(ed)&&void 0!==ed.length}),eu._zod.onattach.push(eu=>{let eg=eu._zod.bag.maximum??Number.POSITIVE_INFINITY;ed.maximum<eg&&(eu._zod.bag.maximum=ed.maximum)}),eu._zod.check=eg=>{let em=eg.value,eb=em.length;if(eb<=ed.maximum)return;let ew=i2(em);eg.issues.push({origin:ew,code:"too_big",maximum:ed.maximum,inclusive:!0,input:em,inst:eu,continue:!ed.abort})}}),i5=nT("$ZodCheckMinLength",(eu,ed)=>{var eg;i3.init(eu,ed),(eg=eu._zod.def).when??(eg.when=eu=>{let ed=eu.value;return!iS(ed)&&void 0!==ed.length}),eu._zod.onattach.push(eu=>{let eg=eu._zod.bag.minimum??Number.NEGATIVE_INFINITY;ed.minimum>eg&&(eu._zod.bag.minimum=ed.minimum)}),eu._zod.check=eg=>{let em=eg.value,eb=em.length;if(eb>=ed.minimum)return;let ew=i2(em);eg.issues.push({origin:ew,code:"too_small",minimum:ed.minimum,inclusive:!0,input:em,inst:eu,continue:!ed.abort})}}),i4=nT("$ZodCheckLengthEquals",(eu,ed)=>{var eg;i3.init(eu,ed),(eg=eu._zod.def).when??(eg.when=eu=>{let ed=eu.value;return!iS(ed)&&void 0!==ed.length}),eu._zod.onattach.push(eu=>{let eg=eu._zod.bag;eg.minimum=ed.length,eg.maximum=ed.length,eg.length=ed.length}),eu._zod.check=eg=>{let em=eg.value,eb=em.length;if(eb===ed.length)return;let ew=i2(em),e_=eb>ed.length;eg.issues.push({origin:ew,...e_?{code:"too_big",maximum:ed.length}:{code:"too_small",minimum:ed.length},inclusive:!0,exact:!0,input:eg.value,inst:eu,continue:!ed.abort})}}),i9=nT("$ZodCheckStringFormat",(eu,ed)=>{var eg,em;i3.init(eu,ed),eu._zod.onattach.push(eu=>{let eg=eu._zod.bag;eg.format=ed.format,ed.pattern&&(eg.patterns??(eg.patterns=new Set),eg.patterns.add(ed.pattern))}),ed.pattern?(eg=eu._zod).check??(eg.check=eg=>{ed.pattern.lastIndex=0,ed.pattern.test(eg.value)||eg.issues.push({origin:"string",code:"invalid_format",format:ed.format,input:eg.value,...ed.pattern?{pattern:ed.pattern.toString()}:{},inst:eu,continue:!ed.abort})}):(em=eu._zod).check??(em.check=()=>{})}),i7=nT("$ZodCheckRegex",(eu,ed)=>{i9.init(eu,ed),eu._zod.check=eg=>{ed.pattern.lastIndex=0,ed.pattern.test(eg.value)||eg.issues.push({origin:"string",code:"invalid_format",format:"regex",input:eg.value,pattern:ed.pattern.toString(),inst:eu,continue:!ed.abort})}}),ou=nT("$ZodCheckLowerCase",(eu,ed)=>{ed.pattern??(ed.pattern=ib),i9.init(eu,ed)}),ol=nT("$ZodCheckUpperCase",(eu,ed)=>{ed.pattern??(ed.pattern=iw),i9.init(eu,ed)}),oh=nT("$ZodCheckIncludes",(eu,ed)=>{i3.init(eu,ed);let eg=iF(ed.includes),em=new RegExp("number"==typeof ed.position?`^.{${ed.position}}${eg}`:eg);ed.pattern=em,eu._zod.onattach.push(eu=>{let ed=eu._zod.bag;ed.patterns??(ed.patterns=new Set),ed.patterns.add(em)}),eu._zod.check=eg=>{eg.value.includes(ed.includes,ed.position)||eg.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:ed.includes,input:eg.value,inst:eu,continue:!ed.abort})}}),od=nT("$ZodCheckStartsWith",(eu,ed)=>{i3.init(eu,ed);let eg=RegExp(`^${iF(ed.prefix)}.*`);ed.pattern??(ed.pattern=eg),eu._zod.onattach.push(eu=>{let ed=eu._zod.bag;ed.patterns??(ed.patterns=new Set),ed.patterns.add(eg)}),eu._zod.check=eg=>{eg.value.startsWith(ed.prefix)||eg.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:ed.prefix,input:eg.value,inst:eu,continue:!ed.abort})}}),og=nT("$ZodCheckEndsWith",(eu,ed)=>{i3.init(eu,ed);let eg=RegExp(`.*${iF(ed.suffix)}$`);ed.pattern??(ed.pattern=eg),eu._zod.onattach.push(eu=>{let ed=eu._zod.bag;ed.patterns??(ed.patterns=new Set),ed.patterns.add(eg)}),eu._zod.check=eg=>{eg.value.endsWith(ed.suffix)||eg.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:ed.suffix,input:eg.value,inst:eu,continue:!ed.abort})}}),oy=nT("$ZodCheckOverwrite",(eu,ed)=>{i3.init(eu,ed),eu._zod.check=eu=>{eu.value=ed.tx(eu.value)}});class om{constructor(eu=[]){this.content=[],this.indent=0,this&&(this.args=eu)}indented(eu){this.indent+=1,eu(this),this.indent-=1}write(eu){if("function"==typeof eu){eu(this,{execution:"sync"}),eu(this,{execution:"async"});return}let ed=eu,eg=ed.split("\n").filter(eu=>eu),em=Math.min(...eg.map(eu=>eu.length-eu.trimStart().length)),eb=eg.map(eu=>eu.slice(em)).map(eu=>" ".repeat(2*this.indent)+eu);for(let eu of eb)this.content.push(eu)}compile(){let eu=Function,ed=this?.args,eg=this?.content??[""],em=[...eg.map(eu=>`  ${eu}`)];return new eu(...ed,em.join("\n"))}}let ob=(eu,ed)=>{eu.name="$ZodError",Object.defineProperty(eu,"_zod",{value:eu._zod,enumerable:!1}),Object.defineProperty(eu,"issues",{value:ed,enumerable:!1}),eu.message=JSON.stringify(ed,iE,2),Object.defineProperty(eu,"toString",{value:()=>eu.message,enumerable:!1})},ov=nT("$ZodError",ob),ow=nT("$ZodError",ob,{Parent:Error});function o_(eu,ed=eu=>eu.message){let eg={},em=[];for(let eb of eu.issues)eb.path.length>0?(eg[eb.path[0]]=eg[eb.path[0]]||[],eg[eb.path[0]].push(ed(eb))):em.push(ed(eb));return{formErrors:em,fieldErrors:eg}}function oE(eu,ed){let eg=ed||function(eu){return eu.message},em={_errors:[]},eb=eu=>{for(let ed of eu.issues)if("invalid_union"===ed.code&&ed.errors.length)ed.errors.map(eu=>eb({issues:eu}));else if("invalid_key"===ed.code)eb({issues:ed.issues});else if("invalid_element"===ed.code)eb({issues:ed.issues});else if(0===ed.path.length)em._errors.push(eg(ed));else{let eu=em,eb=0;for(;eb<ed.path.length;){let em=ed.path[eb],ew=eb===ed.path.length-1;ew?(eu[em]=eu[em]||{_errors:[]},eu[em]._errors.push(eg(ed))):eu[em]=eu[em]||{_errors:[]},eu=eu[em],eb++}}};return eb(eu),em}let oA=eu=>(ed,eg,em,eb)=>{let ew=em?Object.assign(em,{async:!1}):{async:!1},e_=ed._zod.run({value:eg,issues:[]},ew);if(e_ instanceof Promise)throw new nP;if(e_.issues.length){let ed=new(eb?.Err??eu)(e_.issues.map(eu=>i1(eu,ew,nR())));throw iR(ed,eb?.callee),ed}return e_.value};oA(ow);let oS=eu=>async(ed,eg,em,eb)=>{let ew=em?Object.assign(em,{async:!0}):{async:!0},e_=ed._zod.run({value:eg,issues:[]},ew);if(e_ instanceof Promise&&(e_=await e_),e_.issues.length){let ed=new(eb?.Err??eu)(e_.issues.map(eu=>i1(eu,ew,nR())));throw iR(ed,eb?.callee),ed}return e_.value};oS(ow);let oI=eu=>(ed,eg,em)=>{let eb=em?{...em,async:!1}:{async:!1},ew=ed._zod.run({value:eg,issues:[]},eb);if(ew instanceof Promise)throw new nP;return ew.issues.length?{success:!1,error:new(eu??ov)(ew.issues.map(eu=>i1(eu,eb,nR())))}:{success:!0,data:ew.value}},ox=oI(ow),oC=eu=>async(ed,eg,em)=>{let eb=em?Object.assign(em,{async:!0}):{async:!0},ew=ed._zod.run({value:eg,issues:[]},eb);return ew instanceof Promise&&(ew=await ew),ew.issues.length?{success:!1,error:new eu(ew.issues.map(eu=>i1(eu,eb,nR())))}:{success:!0,data:ew.value}},oM=oC(ow),oO=eu=>(ed,eg,em)=>{let eb=em?Object.assign(em,{direction:"backward"}):{direction:"backward"};return oA(eu)(ed,eg,eb)};oO(ow);let oT=eu=>(ed,eg,em)=>oA(eu)(ed,eg,em);oT(ow);let oP=eu=>async(ed,eg,em)=>{let eb=em?Object.assign(em,{direction:"backward"}):{direction:"backward"};return oS(eu)(ed,eg,eb)};oP(ow);let oN=eu=>async(ed,eg,em)=>oS(eu)(ed,eg,em);oN(ow);let oR=eu=>(ed,eg,em)=>{let eb=em?Object.assign(em,{direction:"backward"}):{direction:"backward"};return oI(eu)(ed,eg,eb)};oR(ow);let oD=eu=>(ed,eg,em)=>oI(eu)(ed,eg,em);oD(ow);let oB=eu=>async(ed,eg,em)=>{let eb=em?Object.assign(em,{direction:"backward"}):{direction:"backward"};return oC(eu)(ed,eg,eb)};oB(ow);let oU=eu=>async(ed,eg,em)=>oC(eu)(ed,eg,em);oU(ow);let oL={major:4,minor:1,patch:0},oj=nT("$ZodType",(eu,ed)=>{var eg;eu??(eu={}),eu._zod.def=ed,eu._zod.bag=eu._zod.bag||{},eu._zod.version=oL;let em=[...eu._zod.def.checks??[]];for(let ed of(eu._zod.traits.has("$ZodCheck")&&em.unshift(eu),em))for(let eg of ed._zod.onattach)eg(eu);if(0===em.length)(eg=eu._zod).deferred??(eg.deferred=[]),eu._zod.deferred?.push(()=>{eu._zod.run=eu._zod.parse});else{let ed=(eu,ed,eg)=>{let em,eb=iX(eu);for(let ew of ed){if(ew._zod.def.when){let ed=ew._zod.def.when(eu);if(!ed)continue}else if(eb)continue;let ed=eu.issues.length,e_=ew._zod.check(eu);if(e_ instanceof Promise&&eg?.async===!1)throw new nP;if(em||e_ instanceof Promise)em=(em??Promise.resolve()).then(async()=>{await e_;let eg=eu.issues.length;eg===ed||eb||(eb=iX(eu,ed))});else{let eg=eu.issues.length;if(eg===ed)continue;eb||(eb=iX(eu,ed))}}return em?em.then(()=>eu):eu},eg=(eg,eb,ew)=>{if(iX(eg))return eg.aborted=!0,eg;let e_=ed(eb,em,ew);if(e_ instanceof Promise){if(!1===ew.async)throw new nP;return e_.then(ed=>eu._zod.parse(ed,ew))}return eu._zod.parse(e_,ew)};eu._zod.run=(eb,ew)=>{if(ew.skipChecks)return eu._zod.parse(eb,ew);if("backward"===ew.direction){let ed=eu._zod.parse({value:eb.value,issues:[]},{...ew,skipChecks:!0});return ed instanceof Promise?ed.then(eu=>eg(eu,eb,ew)):eg(ed,eb,ew)}let e_=eu._zod.parse(eb,ew);if(e_ instanceof Promise){if(!1===ew.async)throw new nP;return e_.then(eu=>ed(eu,em,ew))}return ed(e_,em,ew)}}eu["~standard"]={validate:ed=>{try{let eg=ox(eu,ed);return eg.success?{value:eg.data}:{issues:eg.error?.issues}}catch(eg){return oM(eu,ed).then(eu=>eu.success?{value:eu.data}:{issues:eu.error?.issues})}},vendor:"zod",version:1}}),oF=nT("$ZodString",(eu,ed)=>{oj.init(eu,ed),eu._zod.pattern=[...eu?._zod.bag?.patterns??[]].pop()??ih(eu._zod.bag),eu._zod.parse=(eg,em)=>{if(ed.coerce)try{eg.value=String(eg.value)}catch(eu){}return"string"==typeof eg.value||eg.issues.push({expected:"string",code:"invalid_type",input:eg.value,inst:eu}),eg}}),o$=nT("$ZodStringFormat",(eu,ed)=>{i9.init(eu,ed),oF.init(eu,ed)}),oK=nT("$ZodGUID",(eu,ed)=>{ed.pattern??(ed.pattern=nK),o$.init(eu,ed)}),oq=nT("$ZodUUID",(eu,ed)=>{if(ed.version){let eu={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8},eg=eu[ed.version];if(void 0===eg)throw Error(`Invalid UUID version: "${ed.version}"`);ed.pattern??(ed.pattern=nq(eg))}else ed.pattern??(ed.pattern=nq());o$.init(eu,ed)}),oz=nT("$ZodEmail",(eu,ed)=>{ed.pattern??(ed.pattern=nH),o$.init(eu,ed)}),oH=nT("$ZodURL",(eu,ed)=>{o$.init(eu,ed),eu._zod.check=eg=>{try{let em=eg.value.trim(),eb=new URL(em);ed.hostname&&(ed.hostname.lastIndex=0,ed.hostname.test(eb.hostname)||eg.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:n6.source,input:eg.value,inst:eu,continue:!ed.abort})),ed.protocol&&(ed.protocol.lastIndex=0,ed.protocol.test(eb.protocol.endsWith(":")?eb.protocol.slice(0,-1):eb.protocol)||eg.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:ed.protocol.source,input:eg.value,inst:eu,continue:!ed.abort})),ed.normalize?eg.value=eb.href:eg.value=em;return}catch(em){eg.issues.push({code:"invalid_format",format:"url",input:eg.value,inst:eu,continue:!ed.abort})}}}),oV=nT("$ZodEmoji",(eu,ed)=>{ed.pattern??(ed.pattern=nG()),o$.init(eu,ed)}),oG=nT("$ZodNanoID",(eu,ed)=>{ed.pattern??(ed.pattern=nF),o$.init(eu,ed)}),oW=nT("$ZodCUID",(eu,ed)=>{ed.pattern??(ed.pattern=nD),o$.init(eu,ed)}),oJ=nT("$ZodCUID2",(eu,ed)=>{ed.pattern??(ed.pattern=nB),o$.init(eu,ed)}),oZ=nT("$ZodULID",(eu,ed)=>{ed.pattern??(ed.pattern=nU),o$.init(eu,ed)}),oY=nT("$ZodXID",(eu,ed)=>{ed.pattern??(ed.pattern=nL),o$.init(eu,ed)}),oX=nT("$ZodKSUID",(eu,ed)=>{ed.pattern??(ed.pattern=nj),o$.init(eu,ed)}),oQ=nT("$ZodISODateTime",(eu,ed)=>{ed.pattern??(ed.pattern=iu(ed)),o$.init(eu,ed)}),o2=nT("$ZodISODate",(eu,ed)=>{ed.pattern??(ed.pattern=n4),o$.init(eu,ed)}),o6=nT("$ZodISOTime",(eu,ed)=>{ed.pattern??(ed.pattern=n7(ed)),o$.init(eu,ed)}),o3=nT("$ZodISODuration",(eu,ed)=>{ed.pattern??(ed.pattern=n$),o$.init(eu,ed)}),o8=nT("$ZodIPv4",(eu,ed)=>{ed.pattern??(ed.pattern=nW),o$.init(eu,ed),eu._zod.onattach.push(eu=>{let ed=eu._zod.bag;ed.format="ipv4"})}),o5=nT("$ZodIPv6",(eu,ed)=>{ed.pattern??(ed.pattern=nJ),o$.init(eu,ed),eu._zod.onattach.push(eu=>{let ed=eu._zod.bag;ed.format="ipv6"}),eu._zod.check=eg=>{try{new URL(`http://[${eg.value}]`)}catch{eg.issues.push({code:"invalid_format",format:"ipv6",input:eg.value,inst:eu,continue:!ed.abort})}}}),o4=nT("$ZodCIDRv4",(eu,ed)=>{ed.pattern??(ed.pattern=nZ),o$.init(eu,ed)}),o9=nT("$ZodCIDRv6",(eu,ed)=>{ed.pattern??(ed.pattern=nY),o$.init(eu,ed),eu._zod.check=eg=>{let[em,eb]=eg.value.split("/");try{if(!eb)throw Error();let eu=Number(eb);if(`${eu}`!==eb||eu<0||eu>128)throw Error();new URL(`http://[${em}]`)}catch{eg.issues.push({code:"invalid_format",format:"cidrv6",input:eg.value,inst:eu,continue:!ed.abort})}}});function o7(eu){if(""===eu)return!0;if(eu.length%4!=0)return!1;try{return atob(eu),!0}catch{return!1}}let su=nT("$ZodBase64",(eu,ed)=>{ed.pattern??(ed.pattern=nX),o$.init(eu,ed),eu._zod.onattach.push(eu=>{eu._zod.bag.contentEncoding="base64"}),eu._zod.check=eg=>{o7(eg.value)||eg.issues.push({code:"invalid_format",format:"base64",input:eg.value,inst:eu,continue:!ed.abort})}});function sp(eu){if(!nQ.test(eu))return!1;let ed=eu.replace(/[-_]/g,eu=>"-"===eu?"+":"/"),eg=ed.padEnd(4*Math.ceil(ed.length/4),"=");return o7(eg)}let sg=nT("$ZodBase64URL",(eu,ed)=>{ed.pattern??(ed.pattern=nQ),o$.init(eu,ed),eu._zod.onattach.push(eu=>{eu._zod.bag.contentEncoding="base64url"}),eu._zod.check=eg=>{sp(eg.value)||eg.issues.push({code:"invalid_format",format:"base64url",input:eg.value,inst:eu,continue:!ed.abort})}}),sy=nT("$ZodE164",(eu,ed)=>{ed.pattern??(ed.pattern=n8),o$.init(eu,ed)});function sm(eu,ed=null){try{let eg=eu.split(".");if(3!==eg.length)return!1;let[em]=eg;if(!em)return!1;let eb=JSON.parse(atob(em));if("typ"in eb&&eb?.typ!=="JWT"||!eb.alg||ed&&(!("alg"in eb)||eb.alg!==ed))return!1;return!0}catch{return!1}}let sE=nT("$ZodJWT",(eu,ed)=>{o$.init(eu,ed),eu._zod.check=eg=>{sm(eg.value,ed.alg)||eg.issues.push({code:"invalid_format",format:"jwt",input:eg.value,inst:eu,continue:!ed.abort})}}),sA=nT("$ZodUndefined",(eu,ed)=>{oj.init(eu,ed),eu._zod.pattern=ig,eu._zod.values=new Set([void 0]),eu._zod.optin="optional",eu._zod.optout="optional",eu._zod.parse=(ed,eg)=>{let em=ed.value;return void 0===em||ed.issues.push({expected:"undefined",code:"invalid_type",input:em,inst:eu}),ed}}),sS=nT("$ZodUnknown",(eu,ed)=>{oj.init(eu,ed),eu._zod.parse=eu=>eu}),sI=nT("$ZodNever",(eu,ed)=>{oj.init(eu,ed),eu._zod.parse=(ed,eg)=>(ed.issues.push({expected:"never",code:"invalid_type",input:ed.value,inst:eu}),ed)});function sC(eu,ed,eg){eu.issues.length&&ed.issues.push(...iQ(eg,eu.issues)),ed.value[eg]=eu.value}let sM=nT("$ZodArray",(eu,ed)=>{oj.init(eu,ed),eu._zod.parse=(eg,em)=>{let eb=eg.value;if(!Array.isArray(eb))return eg.issues.push({expected:"array",code:"invalid_type",input:eb,inst:eu}),eg;eg.value=Array(eb.length);let ew=[];for(let eu=0;eu<eb.length;eu++){let e_=eb[eu],eE=ed.element._zod.run({value:e_,issues:[]},em);eE instanceof Promise?ew.push(eE.then(ed=>sC(ed,eg,eu))):sC(eE,eg,eu)}return ew.length?Promise.all(ew).then(()=>eg):eg}});function sO(eu,ed,eg,em){eu.issues.length&&ed.issues.push(...iQ(eg,eu.issues)),void 0===eu.value?eg in em&&(ed.value[eg]=void 0):ed.value[eg]=eu.value}function sT(eu){let ed=Object.keys(eu.shape);for(let eg of ed)if(!eu.shape[eg]._zod.traits.has("$ZodType"))throw Error(`Invalid element at key "${eg}": expected a Zod schema`);let eg=iq(eu.shape);return{...eu,keys:ed,keySet:new Set(ed),numKeys:ed.length,optionalKeys:new Set(eg)}}function sP(eu,ed,eg,em,eb,ew){let e_=[],eE=eb.keySet,eA=eb.catchall._zod,eS=eA.def.type;for(let eb of Object.keys(ed)){if(eE.has(eb))continue;if("never"===eS){e_.push(eb);continue}let ew=eA.run({value:ed[eb],issues:[]},em);ew instanceof Promise?eu.push(ew.then(eu=>sO(eu,eg,eb,ed))):sO(ew,eg,eb,ed)}return(e_.length&&eg.issues.push({code:"unrecognized_keys",keys:e_,input:ed,inst:ew}),eu.length)?Promise.all(eu).then(()=>eg):eg}let sN=nT("$ZodObject",(eu,ed)=>{let eg;oj.init(eu,ed);let em=iA(()=>sT(ed));iM(eu._zod,"propValues",()=>{let eu=ed.shape,eg={};for(let ed in eu){let em=eu[ed]._zod;if(em.values)for(let eu of(eg[ed]??(eg[ed]=new Set),em.values))eg[ed].add(eu)}return eg});let eb=iD,ew=ed.catchall;eu._zod.parse=(ed,e_)=>{eg??(eg=em.value);let eE=ed.value;if(!eb(eE))return ed.issues.push({expected:"object",code:"invalid_type",input:eE,inst:eu}),ed;ed.value={};let eA=[],eS=eg.shape;for(let eu of eg.keys){let eg=eS[eu],em=eg._zod.run({value:eE[eu],issues:[]},e_);em instanceof Promise?eA.push(em.then(eg=>sO(eg,ed,eu,eE))):sO(em,ed,eu,eE)}return ew?sP(eA,eE,ed,e_,em.value,eu):eA.length?Promise.all(eA).then(()=>ed):ed}}),sk=nT("$ZodObjectJIT",(eu,ed)=>{let eg,em;sN.init(eu,ed);let eb=eu._zod.parse,ew=iA(()=>sT(ed)),e_=eu=>{let ed=new om(["shape","payload","ctx"]),eg=ew.value,em=eu=>{let ed=iN(eu);return`shape[${ed}]._zod.run({ value: input[${ed}], issues: [] }, ctx)`};ed.write("const input = payload.value;");let eb=Object.create(null),e_=0;for(let eu of eg.keys)eb[eu]=`key_${e_++}`;for(let eu of(ed.write("const newResult = {}"),eg.keys)){let eg=eb[eu],ew=iN(eu);ed.write(`const ${eg} = ${em(eu)};`),ed.write(`
        if (${eg}.issues.length) {
          payload.issues = payload.issues.concat(${eg}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${ew}, ...iss.path] : [${ew}]
          })));
        }
        
        if (${eg}.value === undefined) {
          if (${ew} in input) {
            newResult[${ew}] = undefined;
          }
        } else {
          newResult[${ew}] = ${eg}.value;
        }
      `)}ed.write("payload.value = newResult;"),ed.write("return payload;");let eE=ed.compile();return(ed,eg)=>eE(eu,ed,eg)},eE=iD,eA=!nk.jitless,eS=iB,eI=eA&&eS.value,eC=ed.catchall;eu._zod.parse=(eS,eM)=>{em??(em=ew.value);let eO=eS.value;return eE(eO)?eA&&eI&&eM?.async===!1&&!0!==eM.jitless?(eg||(eg=e_(ed.shape)),eS=eg(eS,eM),eC)?sP([],eO,eS,eM,em,eu):eS:eb(eS,eM):(eS.issues.push({expected:"object",code:"invalid_type",input:eO,inst:eu}),eS)}});function sR(eu,ed,eg,em){for(let eg of eu)if(0===eg.issues.length)return ed.value=eg.value,ed;let eb=eu.filter(eu=>!iX(eu));return 1===eb.length?(ed.value=eb[0].value,eb[0]):(ed.issues.push({code:"invalid_union",input:ed.value,inst:eg,errors:eu.map(eu=>eu.issues.map(eu=>i1(eu,em,nR())))}),ed)}let sD=nT("$ZodUnion",(eu,ed)=>{oj.init(eu,ed),iM(eu._zod,"optin",()=>ed.options.some(eu=>"optional"===eu._zod.optin)?"optional":void 0),iM(eu._zod,"optout",()=>ed.options.some(eu=>"optional"===eu._zod.optout)?"optional":void 0),iM(eu._zod,"values",()=>{if(ed.options.every(eu=>eu._zod.values))return new Set(ed.options.flatMap(eu=>Array.from(eu._zod.values)))}),iM(eu._zod,"pattern",()=>{if(ed.options.every(eu=>eu._zod.pattern)){let eu=ed.options.map(eu=>eu._zod.pattern);return RegExp(`^(${eu.map(eu=>iI(eu.source)).join("|")})$`)}});let eg=1===ed.options.length,em=ed.options[0]._zod.run;eu._zod.parse=(eb,ew)=>{if(eg)return em(eb,ew);let e_=!1,eE=[];for(let eu of ed.options){let ed=eu._zod.run({value:eb.value,issues:[]},ew);if(ed instanceof Promise)eE.push(ed),e_=!0;else{if(0===ed.issues.length)return ed;eE.push(ed)}}return e_?Promise.all(eE).then(ed=>sR(ed,eb,eu,ew)):sR(eE,eb,eu,ew)}}),sB=nT("$ZodIntersection",(eu,ed)=>{oj.init(eu,ed),eu._zod.parse=(eu,eg)=>{let em=eu.value,eb=ed.left._zod.run({value:em,issues:[]},eg),ew=ed.right._zod.run({value:em,issues:[]},eg),e_=eb instanceof Promise||ew instanceof Promise;return e_?Promise.all([eb,ew]).then(([ed,eg])=>sL(eu,ed,eg)):sL(eu,eb,ew)}});function sU(eu,ed){if(eu===ed||eu instanceof Date&&ed instanceof Date&&+eu==+ed)return{valid:!0,data:eu};if(iU(eu)&&iU(ed)){let eg=Object.keys(ed),em=Object.keys(eu).filter(eu=>-1!==eg.indexOf(eu)),eb={...eu,...ed};for(let eg of em){let em=sU(eu[eg],ed[eg]);if(!em.valid)return{valid:!1,mergeErrorPath:[eg,...em.mergeErrorPath]};eb[eg]=em.data}return{valid:!0,data:eb}}if(Array.isArray(eu)&&Array.isArray(ed)){if(eu.length!==ed.length)return{valid:!1,mergeErrorPath:[]};let eg=[];for(let em=0;em<eu.length;em++){let eb=eu[em],ew=ed[em],e_=sU(eb,ew);if(!e_.valid)return{valid:!1,mergeErrorPath:[em,...e_.mergeErrorPath]};eg.push(e_.data)}return{valid:!0,data:eg}}return{valid:!1,mergeErrorPath:[]}}function sL(eu,ed,eg){if(ed.issues.length&&eu.issues.push(...ed.issues),eg.issues.length&&eu.issues.push(...eg.issues),iX(eu))return eu;let em=sU(ed.value,eg.value);if(!em.valid)throw Error(`Unmergable intersection. Error path: ${JSON.stringify(em.mergeErrorPath)}`);return eu.value=em.data,eu}let sj=nT("$ZodEnum",(eu,ed)=>{oj.init(eu,ed);let eg=i_(ed.entries),em=new Set(eg);eu._zod.values=em,eu._zod.pattern=RegExp(`^(${eg.filter(eu=>ij.has(typeof eu)).map(eu=>"string"==typeof eu?iF(eu):eu.toString()).join("|")})$`),eu._zod.parse=(ed,eb)=>{let ew=ed.value;return em.has(ew)||ed.issues.push({code:"invalid_value",values:eg,input:ew,inst:eu}),ed}}),sF=nT("$ZodLiteral",(eu,ed)=>{if(oj.init(eu,ed),0===ed.values.length)throw Error("Cannot create literal schema with no valid values");eu._zod.values=new Set(ed.values),eu._zod.pattern=RegExp(`^(${ed.values.map(eu=>"string"==typeof eu?iF(eu):eu?iF(eu.toString()):String(eu)).join("|")})$`),eu._zod.parse=(eg,em)=>{let eb=eg.value;return eu._zod.values.has(eb)||eg.issues.push({code:"invalid_value",values:ed.values,input:eb,inst:eu}),eg}}),s$=nT("$ZodTransform",(eu,ed)=>{oj.init(eu,ed),eu._zod.parse=(eg,em)=>{if("backward"===em.direction)throw new nN(eu.constructor.name);let eb=ed.transform(eg.value,eg);if(em.async){let eu=eb instanceof Promise?eb:Promise.resolve(eb);return eu.then(eu=>(eg.value=eu,eg))}if(eb instanceof Promise)throw new nP;return eg.value=eb,eg}});function sK(eu,ed){return eu.issues.length&&void 0===ed?{issues:[],value:void 0}:eu}let sq=nT("$ZodOptional",(eu,ed)=>{oj.init(eu,ed),eu._zod.optin="optional",eu._zod.optout="optional",iM(eu._zod,"values",()=>ed.innerType._zod.values?new Set([...ed.innerType._zod.values,void 0]):void 0),iM(eu._zod,"pattern",()=>{let eu=ed.innerType._zod.pattern;return eu?RegExp(`^(${iI(eu.source)})?$`):void 0}),eu._zod.parse=(eu,eg)=>{if("optional"===ed.innerType._zod.optin){let em=ed.innerType._zod.run(eu,eg);return em instanceof Promise?em.then(ed=>sK(ed,eu.value)):sK(em,eu.value)}return void 0===eu.value?eu:ed.innerType._zod.run(eu,eg)}}),sz=nT("$ZodNullable",(eu,ed)=>{oj.init(eu,ed),iM(eu._zod,"optin",()=>ed.innerType._zod.optin),iM(eu._zod,"optout",()=>ed.innerType._zod.optout),iM(eu._zod,"pattern",()=>{let eu=ed.innerType._zod.pattern;return eu?RegExp(`^(${iI(eu.source)}|null)$`):void 0}),iM(eu._zod,"values",()=>ed.innerType._zod.values?new Set([...ed.innerType._zod.values,null]):void 0),eu._zod.parse=(eu,eg)=>null===eu.value?eu:ed.innerType._zod.run(eu,eg)}),sH=nT("$ZodDefault",(eu,ed)=>{oj.init(eu,ed),eu._zod.optin="optional",iM(eu._zod,"values",()=>ed.innerType._zod.values),eu._zod.parse=(eu,eg)=>{if("backward"===eg.direction)return ed.innerType._zod.run(eu,eg);if(void 0===eu.value)return eu.value=ed.defaultValue,eu;let em=ed.innerType._zod.run(eu,eg);return em instanceof Promise?em.then(eu=>sV(eu,ed)):sV(em,ed)}});function sV(eu,ed){return void 0===eu.value&&(eu.value=ed.defaultValue),eu}let sG=nT("$ZodPrefault",(eu,ed)=>{oj.init(eu,ed),eu._zod.optin="optional",iM(eu._zod,"values",()=>ed.innerType._zod.values),eu._zod.parse=(eu,eg)=>("backward"===eg.direction||void 0===eu.value&&(eu.value=ed.defaultValue),ed.innerType._zod.run(eu,eg))}),sW=nT("$ZodNonOptional",(eu,ed)=>{oj.init(eu,ed),iM(eu._zod,"values",()=>{let eu=ed.innerType._zod.values;return eu?new Set([...eu].filter(eu=>void 0!==eu)):void 0}),eu._zod.parse=(eg,em)=>{let eb=ed.innerType._zod.run(eg,em);return eb instanceof Promise?eb.then(ed=>sJ(ed,eu)):sJ(eb,eu)}});function sJ(eu,ed){return eu.issues.length||void 0!==eu.value||eu.issues.push({code:"invalid_type",expected:"nonoptional",input:eu.value,inst:ed}),eu}let sZ=nT("$ZodCatch",(eu,ed)=>{oj.init(eu,ed),iM(eu._zod,"optin",()=>ed.innerType._zod.optin),iM(eu._zod,"optout",()=>ed.innerType._zod.optout),iM(eu._zod,"values",()=>ed.innerType._zod.values),eu._zod.parse=(eu,eg)=>{if("backward"===eg.direction)return ed.innerType._zod.run(eu,eg);let em=ed.innerType._zod.run(eu,eg);return em instanceof Promise?em.then(em=>(eu.value=em.value,em.issues.length&&(eu.value=ed.catchValue({...eu,error:{issues:em.issues.map(eu=>i1(eu,eg,nR()))},input:eu.value}),eu.issues=[]),eu)):(eu.value=em.value,em.issues.length&&(eu.value=ed.catchValue({...eu,error:{issues:em.issues.map(eu=>i1(eu,eg,nR()))},input:eu.value}),eu.issues=[]),eu)}}),sY=nT("$ZodPipe",(eu,ed)=>{oj.init(eu,ed),iM(eu._zod,"values",()=>ed.in._zod.values),iM(eu._zod,"optin",()=>ed.in._zod.optin),iM(eu._zod,"optout",()=>ed.out._zod.optout),iM(eu._zod,"propValues",()=>ed.in._zod.propValues),eu._zod.parse=(eu,eg)=>{if("backward"===eg.direction){let em=ed.out._zod.run(eu,eg);return em instanceof Promise?em.then(eu=>sX(eu,ed.in,eg)):sX(em,ed.in,eg)}let em=ed.in._zod.run(eu,eg);return em instanceof Promise?em.then(eu=>sX(eu,ed.out,eg)):sX(em,ed.out,eg)}});function sX(eu,ed,eg){return eu.issues.length?(eu.aborted=!0,eu):ed._zod.run({value:eu.value,issues:eu.issues},eg)}let sQ=nT("$ZodReadonly",(eu,ed)=>{oj.init(eu,ed),iM(eu._zod,"propValues",()=>ed.innerType._zod.propValues),iM(eu._zod,"values",()=>ed.innerType._zod.values),iM(eu._zod,"optin",()=>ed.innerType._zod.optin),iM(eu._zod,"optout",()=>ed.innerType._zod.optout),eu._zod.parse=(eu,eg)=>{if("backward"===eg.direction)return ed.innerType._zod.run(eu,eg);let em=ed.innerType._zod.run(eu,eg);return em instanceof Promise?em.then(s6):s6(em)}});function s6(eu){return eu.value=Object.freeze(eu.value),eu}let s8=nT("$ZodCustom",(eu,ed)=>{i3.init(eu,ed),oj.init(eu,ed),eu._zod.parse=(eu,ed)=>eu,eu._zod.check=eg=>{let em=eg.value,eb=ed.fn(em);if(eb instanceof Promise)return eb.then(ed=>s5(ed,eg,em,eu));s5(eb,eg,em,eu)}});function s5(eu,ed,eg,em){if(!eu){let eu={code:"custom",input:eg,inst:em,path:[...em._zod.def.path??[]],continue:!em._zod.def.abort};em._zod.def.params&&(eu.params=em._zod.def.params),ed.issues.push(i6(eu))}}Symbol("ZodOutput"),Symbol("ZodInput");class s4{constructor(){this._map=new Map,this._idmap=new Map}add(eu,...ed){let eg=ed[0];if(this._map.set(eu,eg),eg&&"object"==typeof eg&&"id"in eg){if(this._idmap.has(eg.id))throw Error(`ID ${eg.id} already exists in the registry`);this._idmap.set(eg.id,eu)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(eu){let ed=this._map.get(eu);return ed&&"object"==typeof ed&&"id"in ed&&this._idmap.delete(ed.id),this._map.delete(eu),this}get(eu){let ed=eu._zod.parent;if(ed){let eg={...this.get(ed)??{}};delete eg.id;let em={...eg,...this._map.get(eu)};return Object.keys(em).length?em:void 0}return this._map.get(eu)}has(eu){return this._map.has(eu)}}function s9(){return new s4}let s7=s9();function au(eu,ed){return new eu({type:"string",...iK(ed)})}function ad(eu,ed){return new eu({type:"string",format:"email",check:"string_format",abort:!1,...iK(ed)})}function ag(eu,ed){return new eu({type:"string",format:"guid",check:"string_format",abort:!1,...iK(ed)})}function am(eu,ed){return new eu({type:"string",format:"uuid",check:"string_format",abort:!1,...iK(ed)})}function av(eu,ed){return new eu({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...iK(ed)})}function aw(eu,ed){return new eu({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...iK(ed)})}function a_(eu,ed){return new eu({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...iK(ed)})}function aE(eu,ed){return new eu({type:"string",format:"url",check:"string_format",abort:!1,...iK(ed)})}function aA(eu,ed){return new eu({type:"string",format:"emoji",check:"string_format",abort:!1,...iK(ed)})}function aS(eu,ed){return new eu({type:"string",format:"nanoid",check:"string_format",abort:!1,...iK(ed)})}function aI(eu,ed){return new eu({type:"string",format:"cuid",check:"string_format",abort:!1,...iK(ed)})}function aC(eu,ed){return new eu({type:"string",format:"cuid2",check:"string_format",abort:!1,...iK(ed)})}function aM(eu,ed){return new eu({type:"string",format:"ulid",check:"string_format",abort:!1,...iK(ed)})}function aO(eu,ed){return new eu({type:"string",format:"xid",check:"string_format",abort:!1,...iK(ed)})}function aT(eu,ed){return new eu({type:"string",format:"ksuid",check:"string_format",abort:!1,...iK(ed)})}function aP(eu,ed){return new eu({type:"string",format:"ipv4",check:"string_format",abort:!1,...iK(ed)})}function aN(eu,ed){return new eu({type:"string",format:"ipv6",check:"string_format",abort:!1,...iK(ed)})}function aR(eu,ed){return new eu({type:"string",format:"cidrv4",check:"string_format",abort:!1,...iK(ed)})}function aD(eu,ed){return new eu({type:"string",format:"cidrv6",check:"string_format",abort:!1,...iK(ed)})}function aB(eu,ed){return new eu({type:"string",format:"base64",check:"string_format",abort:!1,...iK(ed)})}function aU(eu,ed){return new eu({type:"string",format:"base64url",check:"string_format",abort:!1,...iK(ed)})}function aL(eu,ed){return new eu({type:"string",format:"e164",check:"string_format",abort:!1,...iK(ed)})}function aj(eu,ed){return new eu({type:"string",format:"jwt",check:"string_format",abort:!1,...iK(ed)})}function aF(eu,ed){return new eu({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...iK(ed)})}function a$(eu,ed){return new eu({type:"string",format:"date",check:"string_format",...iK(ed)})}function aK(eu,ed){return new eu({type:"string",format:"time",check:"string_format",precision:null,...iK(ed)})}function aq(eu,ed){return new eu({type:"string",format:"duration",check:"string_format",...iK(ed)})}function az(eu,ed){return new eu({type:"undefined",...iK(ed)})}function aH(eu){return new eu({type:"unknown"})}function aV(eu,ed){return new eu({type:"never",...iK(ed)})}function aG(eu,ed){let eg=new i8({check:"max_length",...iK(ed),maximum:eu});return eg}function aW(eu,ed){return new i5({check:"min_length",...iK(ed),minimum:eu})}function aJ(eu,ed){return new i4({check:"length_equals",...iK(ed),length:eu})}function aZ(eu,ed){return new i7({check:"string_format",format:"regex",...iK(ed),pattern:eu})}function aY(eu){return new ou({check:"string_format",format:"lowercase",...iK(eu)})}function aX(eu){return new ol({check:"string_format",format:"uppercase",...iK(eu)})}function aQ(eu,ed){return new oh({check:"string_format",format:"includes",...iK(ed),includes:eu})}function cu(eu,ed){return new od({check:"string_format",format:"starts_with",...iK(ed),prefix:eu})}function cg(eu,ed){return new og({check:"string_format",format:"ends_with",...iK(ed),suffix:eu})}function cy(eu){return new oy({check:"overwrite",tx:eu})}function cm(eu){return cy(ed=>ed.normalize(eu))}function cv(){return cy(eu=>eu.trim())}function cw(){return cy(eu=>eu.toLowerCase())}function c_(){return cy(eu=>eu.toUpperCase())}function cE(eu,ed,eg){return new eu({type:"array",element:ed,...iK(eg)})}function cA(eu,ed,eg){let em=new eu({type:"custom",check:"custom",fn:ed,...iK(eg)});return em}function cS(eu){let ed=cI(eg=>(eg.addIssue=eu=>{if("string"==typeof eu)eg.issues.push(i6(eu,eg.value,ed._zod.def));else{let em=eu;em.fatal&&(em.continue=!1),em.code??(em.code="custom"),em.input??(em.input=eg.value),em.inst??(em.inst=ed),em.continue??(em.continue=!ed._zod.def.abort),eg.issues.push(i6(em))}},eu(eg.value,eg)));return ed}function cI(eu,ed){let eg=new i3({check:"custom",...iK(ed)});return eg._zod.check=eu,eg}let cx=nT("ZodISODateTime",(eu,ed)=>{oQ.init(eu,ed),cH.init(eu,ed)});function cC(eu){return aF(cx,eu)}let cM=nT("ZodISODate",(eu,ed)=>{o2.init(eu,ed),cH.init(eu,ed)});function cO(eu){return a$(cM,eu)}let cT=nT("ZodISOTime",(eu,ed)=>{o6.init(eu,ed),cH.init(eu,ed)});function cP(eu){return aK(cT,eu)}let cN=nT("ZodISODuration",(eu,ed)=>{o3.init(eu,ed),cH.init(eu,ed)});function cR(eu){return aq(cN,eu)}let cD=(eu,ed)=>{ov.init(eu,ed),eu.name="ZodError",Object.defineProperties(eu,{format:{value:ed=>oE(eu,ed)},flatten:{value:ed=>o_(eu,ed)},addIssue:{value:ed=>{eu.issues.push(ed),eu.message=JSON.stringify(eu.issues,iE,2)}},addIssues:{value:ed=>{eu.issues.push(...ed),eu.message=JSON.stringify(eu.issues,iE,2)}},isEmpty:{get:()=>0===eu.issues.length}})};nT("ZodError",cD);let cB=nT("ZodError",cD,{Parent:Error}),cU=oA(cB),cL=oS(cB),cj=oI(cB),cF=oC(cB),c$=nT("ZodType",(eu,ed)=>(oj.init(eu,ed),eu.def=ed,eu.type=ed.type,Object.defineProperty(eu,"_def",{value:ed}),eu.check=(...eg)=>eu.clone({...ed,checks:[...ed.checks??[],...eg.map(eu=>"function"==typeof eu?{_zod:{check:eu,def:{check:"custom"},onattach:[]}}:eu)]}),eu.clone=(ed,eg)=>i$(eu,ed,eg),eu.brand=()=>eu,eu.register=(ed,eg)=>(ed.add(eu,eg),eu),eu.parse=(ed,eg)=>cU(eu,ed,eg,{callee:eu.parse}),eu.safeParse=(ed,eg)=>cj(eu,ed,eg),eu.parseAsync=async(ed,eg)=>cL(eu,ed,eg,{callee:eu.parseAsync}),eu.safeParseAsync=async(ed,eg)=>cF(eu,ed,eg),eu.spa=eu.safeParseAsync,eu.refine=(ed,eg)=>eu.check(uX(ed,eg)),eu.superRefine=ed=>eu.check(uQ(ed)),eu.overwrite=ed=>eu.check(cy(ed)),eu.optional=()=>uB(eu),eu.nullable=()=>uL(eu),eu.nullish=()=>uB(uL(eu)),eu.nonoptional=ed=>uz(eu,ed),eu.array=()=>uE(eu),eu.or=ed=>ux([eu,ed]),eu.and=ed=>uM(eu,ed),eu.transform=ed=>uW(eu,uR(ed)),eu.default=ed=>uF(eu,ed),eu.prefault=ed=>uK(eu,ed),eu.catch=ed=>uV(eu,ed),eu.pipe=ed=>uW(eu,ed),eu.readonly=()=>uZ(eu),eu.describe=ed=>{let eg=eu.clone();return s7.add(eg,{description:ed}),eg},Object.defineProperty(eu,"description",{get:()=>s7.get(eu)?.description,configurable:!0}),eu.meta=(...ed)=>{if(0===ed.length)return s7.get(eu);let eg=eu.clone();return s7.add(eg,ed[0]),eg},eu.isOptional=()=>eu.safeParse(void 0).success,eu.isNullable=()=>eu.safeParse(null).success,eu)),cK=nT("_ZodString",(eu,ed)=>{oF.init(eu,ed),c$.init(eu,ed);let eg=eu._zod.bag;eu.format=eg.format??null,eu.minLength=eg.minimum??null,eu.maxLength=eg.maximum??null,eu.regex=(...ed)=>eu.check(aZ(...ed)),eu.includes=(...ed)=>eu.check(aQ(...ed)),eu.startsWith=(...ed)=>eu.check(cu(...ed)),eu.endsWith=(...ed)=>eu.check(cg(...ed)),eu.min=(...ed)=>eu.check(aW(...ed)),eu.max=(...ed)=>eu.check(aG(...ed)),eu.length=(...ed)=>eu.check(aJ(...ed)),eu.nonempty=(...ed)=>eu.check(aW(1,...ed)),eu.lowercase=ed=>eu.check(aY(ed)),eu.uppercase=ed=>eu.check(aX(ed)),eu.trim=()=>eu.check(cv()),eu.normalize=(...ed)=>eu.check(cm(...ed)),eu.toLowerCase=()=>eu.check(cw()),eu.toUpperCase=()=>eu.check(c_())}),cq=nT("ZodString",(eu,ed)=>{oF.init(eu,ed),cK.init(eu,ed),eu.email=ed=>eu.check(ad(cV,ed)),eu.url=ed=>eu.check(aE(cJ,ed)),eu.jwt=ed=>eu.check(aj(ud,ed)),eu.emoji=ed=>eu.check(aA(cZ,ed)),eu.guid=ed=>eu.check(ag(cG,ed)),eu.uuid=ed=>eu.check(am(cW,ed)),eu.uuidv4=ed=>eu.check(av(cW,ed)),eu.uuidv6=ed=>eu.check(aw(cW,ed)),eu.uuidv7=ed=>eu.check(a_(cW,ed)),eu.nanoid=ed=>eu.check(aS(cY,ed)),eu.guid=ed=>eu.check(ag(cG,ed)),eu.cuid=ed=>eu.check(aI(cX,ed)),eu.cuid2=ed=>eu.check(aC(cQ,ed)),eu.ulid=ed=>eu.check(aM(c0,ed)),eu.base64=ed=>eu.check(aB(uu,ed)),eu.base64url=ed=>eu.check(aU(ul,ed)),eu.xid=ed=>eu.check(aO(c6,ed)),eu.ksuid=ed=>eu.check(aT(c3,ed)),eu.ipv4=ed=>eu.check(aP(c5,ed)),eu.ipv6=ed=>eu.check(aN(c4,ed)),eu.cidrv4=ed=>eu.check(aR(c9,ed)),eu.cidrv6=ed=>eu.check(aD(c7,ed)),eu.e164=ed=>eu.check(aL(uh,ed)),eu.datetime=ed=>eu.check(cC(ed)),eu.date=ed=>eu.check(cO(ed)),eu.time=ed=>eu.check(cP(ed)),eu.duration=ed=>eu.check(cR(ed))});function cz(eu){return au(cq,eu)}let cH=nT("ZodStringFormat",(eu,ed)=>{o$.init(eu,ed),cK.init(eu,ed)}),cV=nT("ZodEmail",(eu,ed)=>{oz.init(eu,ed),cH.init(eu,ed)}),cG=nT("ZodGUID",(eu,ed)=>{oK.init(eu,ed),cH.init(eu,ed)}),cW=nT("ZodUUID",(eu,ed)=>{oq.init(eu,ed),cH.init(eu,ed)}),cJ=nT("ZodURL",(eu,ed)=>{oH.init(eu,ed),cH.init(eu,ed)}),cZ=nT("ZodEmoji",(eu,ed)=>{oV.init(eu,ed),cH.init(eu,ed)}),cY=nT("ZodNanoID",(eu,ed)=>{oG.init(eu,ed),cH.init(eu,ed)}),cX=nT("ZodCUID",(eu,ed)=>{oW.init(eu,ed),cH.init(eu,ed)}),cQ=nT("ZodCUID2",(eu,ed)=>{oJ.init(eu,ed),cH.init(eu,ed)}),c0=nT("ZodULID",(eu,ed)=>{oZ.init(eu,ed),cH.init(eu,ed)}),c6=nT("ZodXID",(eu,ed)=>{oY.init(eu,ed),cH.init(eu,ed)}),c3=nT("ZodKSUID",(eu,ed)=>{oX.init(eu,ed),cH.init(eu,ed)}),c5=nT("ZodIPv4",(eu,ed)=>{o8.init(eu,ed),cH.init(eu,ed)}),c4=nT("ZodIPv6",(eu,ed)=>{o5.init(eu,ed),cH.init(eu,ed)}),c9=nT("ZodCIDRv4",(eu,ed)=>{o4.init(eu,ed),cH.init(eu,ed)}),c7=nT("ZodCIDRv6",(eu,ed)=>{o9.init(eu,ed),cH.init(eu,ed)}),uu=nT("ZodBase64",(eu,ed)=>{su.init(eu,ed),cH.init(eu,ed)}),ul=nT("ZodBase64URL",(eu,ed)=>{sg.init(eu,ed),cH.init(eu,ed)}),uh=nT("ZodE164",(eu,ed)=>{sy.init(eu,ed),cH.init(eu,ed)}),ud=nT("ZodJWT",(eu,ed)=>{sE.init(eu,ed),cH.init(eu,ed)}),ug=nT("ZodUndefined",(eu,ed)=>{sA.init(eu,ed),c$.init(eu,ed)});function uy(eu){return az(ug,eu)}let um=nT("ZodUnknown",(eu,ed)=>{sS.init(eu,ed),c$.init(eu,ed)});function ub(){return aH(um)}let uv=nT("ZodNever",(eu,ed)=>{sI.init(eu,ed),c$.init(eu,ed)});function uw(eu){return aV(uv,eu)}let u_=nT("ZodArray",(eu,ed)=>{sM.init(eu,ed),c$.init(eu,ed),eu.element=ed.element,eu.min=(ed,eg)=>eu.check(aW(ed,eg)),eu.nonempty=ed=>eu.check(aW(1,ed)),eu.max=(ed,eg)=>eu.check(aG(ed,eg)),eu.length=(ed,eg)=>eu.check(aJ(ed,eg)),eu.unwrap=()=>eu.element});function uE(eu,ed){return cE(u_,eu,ed)}let uA=nT("ZodObject",(eu,ed)=>{sk.init(eu,ed),c$.init(eu,ed),iM(eu,"shape",()=>ed.shape),eu.keyof=()=>uT(Object.keys(eu._zod.def.shape)),eu.catchall=ed=>eu.clone({...eu._zod.def,catchall:ed}),eu.passthrough=()=>eu.clone({...eu._zod.def,catchall:ub()}),eu.loose=()=>eu.clone({...eu._zod.def,catchall:ub()}),eu.strict=()=>eu.clone({...eu._zod.def,catchall:uw()}),eu.strip=()=>eu.clone({...eu._zod.def,catchall:void 0}),eu.extend=ed=>iG(eu,ed),eu.safeExtend=ed=>iW(eu,ed),eu.merge=ed=>iJ(eu,ed),eu.pick=ed=>iH(eu,ed),eu.omit=ed=>iV(eu,ed),eu.partial=(...ed)=>iZ(uD,eu,ed[0]),eu.required=(...ed)=>iY(uq,eu,ed[0])});function uS(eu,ed){let eg={type:"object",get shape(){return iT(this,"shape",eu?iO(eu):{}),this.shape},...iK(ed)};return new uA(eg)}let uI=nT("ZodUnion",(eu,ed)=>{sD.init(eu,ed),c$.init(eu,ed),eu.options=ed.options});function ux(eu,ed){return new uI({type:"union",options:eu,...iK(ed)})}let uC=nT("ZodIntersection",(eu,ed)=>{sB.init(eu,ed),c$.init(eu,ed)});function uM(eu,ed){return new uC({type:"intersection",left:eu,right:ed})}let uO=nT("ZodEnum",(eu,ed)=>{sj.init(eu,ed),c$.init(eu,ed),eu.enum=ed.entries,eu.options=Object.values(ed.entries);let eg=new Set(Object.keys(ed.entries));eu.extract=(eu,em)=>{let eb={};for(let em of eu)if(eg.has(em))eb[em]=ed.entries[em];else throw Error(`Key ${em} not found in enum`);return new uO({...ed,checks:[],...iK(em),entries:eb})},eu.exclude=(eu,em)=>{let eb={...ed.entries};for(let ed of eu)if(eg.has(ed))delete eb[ed];else throw Error(`Key ${ed} not found in enum`);return new uO({...ed,checks:[],...iK(em),entries:eb})}});function uT(eu,ed){let eg=Array.isArray(eu)?Object.fromEntries(eu.map(eu=>[eu,eu])):eu;return new uO({type:"enum",entries:eg,...iK(ed)})}let uP=nT("ZodLiteral",(eu,ed)=>{sF.init(eu,ed),c$.init(eu,ed),eu.values=new Set(ed.values),Object.defineProperty(eu,"value",{get(){if(ed.values.length>1)throw Error("This schema contains multiple valid literal values. Use `.values` instead.");return ed.values[0]}})});function uN(eu,ed){return new uP({type:"literal",values:Array.isArray(eu)?eu:[eu],...iK(ed)})}let uk=nT("ZodTransform",(eu,ed)=>{s$.init(eu,ed),c$.init(eu,ed),eu._zod.parse=(eg,em)=>{if("backward"===em.direction)throw new nN(eu.constructor.name);eg.addIssue=em=>{if("string"==typeof em)eg.issues.push(i6(em,eg.value,ed));else{let ed=em;ed.fatal&&(ed.continue=!1),ed.code??(ed.code="custom"),ed.input??(ed.input=eg.value),ed.inst??(ed.inst=eu),eg.issues.push(i6(ed))}};let eb=ed.transform(eg.value,eg);return eb instanceof Promise?eb.then(eu=>(eg.value=eu,eg)):(eg.value=eb,eg)}});function uR(eu){return new uk({type:"transform",transform:eu})}let uD=nT("ZodOptional",(eu,ed)=>{sq.init(eu,ed),c$.init(eu,ed),eu.unwrap=()=>eu._zod.def.innerType});function uB(eu){return new uD({type:"optional",innerType:eu})}let uU=nT("ZodNullable",(eu,ed)=>{sz.init(eu,ed),c$.init(eu,ed),eu.unwrap=()=>eu._zod.def.innerType});function uL(eu){return new uU({type:"nullable",innerType:eu})}let uj=nT("ZodDefault",(eu,ed)=>{sH.init(eu,ed),c$.init(eu,ed),eu.unwrap=()=>eu._zod.def.innerType,eu.removeDefault=eu.unwrap});function uF(eu,ed){return new uj({type:"default",innerType:eu,get defaultValue(){return"function"==typeof ed?ed():iL(ed)}})}let u$=nT("ZodPrefault",(eu,ed)=>{sG.init(eu,ed),c$.init(eu,ed),eu.unwrap=()=>eu._zod.def.innerType});function uK(eu,ed){return new u$({type:"prefault",innerType:eu,get defaultValue(){return"function"==typeof ed?ed():iL(ed)}})}let uq=nT("ZodNonOptional",(eu,ed)=>{sW.init(eu,ed),c$.init(eu,ed),eu.unwrap=()=>eu._zod.def.innerType});function uz(eu,ed){return new uq({type:"nonoptional",innerType:eu,...iK(ed)})}let uH=nT("ZodCatch",(eu,ed)=>{sZ.init(eu,ed),c$.init(eu,ed),eu.unwrap=()=>eu._zod.def.innerType,eu.removeCatch=eu.unwrap});function uV(eu,ed){return new uH({type:"catch",innerType:eu,catchValue:"function"==typeof ed?ed:()=>ed})}let uG=nT("ZodPipe",(eu,ed)=>{sY.init(eu,ed),c$.init(eu,ed),eu.in=ed.in,eu.out=ed.out});function uW(eu,ed){return new uG({type:"pipe",in:eu,out:ed})}let uJ=nT("ZodReadonly",(eu,ed)=>{sQ.init(eu,ed),c$.init(eu,ed),eu.unwrap=()=>eu._zod.def.innerType});function uZ(eu){return new uJ({type:"readonly",innerType:eu})}let uY=nT("ZodCustom",(eu,ed)=>{s8.init(eu,ed),c$.init(eu,ed)});function uX(eu,ed={}){return cA(uY,eu,ed)}function uQ(eu){return cS(eu)}let u6="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",u3=(eu=21)=>{let ed="",eg=crypto.getRandomValues(new Uint8Array(eu|=0));for(;eu--;)ed+=u6[63&eg[eu]];return ed};var u5=eg(34126),u4=eg(48834).Buffer;let u9=function(eu){return eu.login="login",eu.sign="sign",eu.logout="logout",eu.verify_owner="verify_owner",eu.keypom_claim="keypom_claim",eu.sign_message="sign_message",eu}({}),u7=function(eu){return eu.ALL_METHODS="ALL_METHODS",eu.SELECTED_METHODS="SELECTED_METHODS",eu.FULL_ACCESS="FULL_ACCESS",eu}({}),lu=function(eu){return eu.website_callback="wcb",eu.website_post_message="wpm",eu.website_visit="wv",eu.extension_injected="ext",eu}({}),ll=function(eu){return eu.initializing="initializing",eu.connected="connected",eu.attempting_reconnect="attempting_reconnect",eu.disconnected="disconnected",eu.closed_success="closed_success",eu.closed_fail="closed_fail",eu.closed_window="closed_window",eu}({}),lh=function(eu){return eu.localnet="localnet",eu.testnet="testnet",eu.betanet="betanet",eu.mainnet="mainnet",eu}({}),ld=uS({contract_id:cz(),public_key:cz()}),lp=ld.merge(uS({type:uN(u7.SELECTED_METHODS),methods:uE(cz()).min(1)})),lg=ld.merge(uS({type:uN(u7.ALL_METHODS),methods:uy().optional()}));lp.or(lg),uS({callback_url:cz().min(2),transactions:cz().min(2),meta:cz().optional()});let ly=function(eu){return eu.NEW_ACTION_STARTED="NEW_ACTION_STARTED",eu.INCOMPLETE_ACTION="INCOMPLETE_ACTION",eu.NO_ACCOUNTS="NO_ACCOUNTS",eu.WINDOW_CLOSED="WINDOW_CLOSED",eu.USER_CANCELLED="USER_CANCELLED",eu.POPUP_WINDOW_REFUSED="POPUP_WINDOW_REFUSED",eu.POPUP_WINDOW_OPEN_FAILED="POPUP_WINDOW_OPEN_FAILED",eu}({}),lm={[ly.WINDOW_CLOSED]:"User closed the window",[ly.INCOMPLETE_ACTION]:"User didn't complete the action",[ly.NEW_ACTION_STARTED]:"A new action was started by the user, old action failed",[ly.POPUP_WINDOW_OPEN_FAILED]:"Popup window failed to open",[ly.POPUP_WINDOW_REFUSED]:"User refused to allow the popup window to open",[ly.USER_CANCELLED]:"User cancelled the action",[ly.NO_ACCOUNTS]:"No Meteor account found- try again after creating one"};function lb(eu){return lm[eu]??"An unknown error occurred"}var lv=class extends Error{_reason;cause;constructor(eu,ed){super(),null==eu.message&&(eu.message=lb(eu.endTags?.[eu.endTags.length-1]??"unknown")),this._reason=eu,this.message=eu.message,this.name="MeteorActionError",this.cause=ed}};lh.testnet,lh.mainnet,lh.localnet,lh.betanet;let lw={networkId:lh.testnet,name:"Fastnear Testnet",nodeUrl:"https://test.rpc.fastnear.com",archivalUrl:"https://archival-rpc.testnet.near.org",helperUrl:"https://helper.testnet.near.org",explorerUrl:"https://explorer.testnet.near.org"},l_={networkId:lh.betanet,name:"Fastnear Betanet",nodeUrl:"https://rpc.betanet.near.org",helperUrl:"https://helper.betanet.near.org",explorerUrl:"https://explorer.betanet.near.org"},lE={networkId:lh.mainnet,name:"Fastnear Mainnet",nodeUrl:"https://mw.rpc.fastnear.com",archivalUrl:"https://archival-rpc.mainnet.near.org",helperUrl:"https://helper.mainnet.near.org",explorerUrl:"https://explorer.mainnet.near.org"},lA={networkId:lh.localnet,name:"Localnet",nodeUrl:"http://localhost:3001",walletUrl:"http://localhost:3001/wallet"},lS={[lh.localnet]:lA,[lh.testnet]:lw,[lh.betanet]:l_,[lh.mainnet]:lE};var lI=class{implementation;constructor(eu){this.implementation=eu}setJson(eu,ed){this.implementation.setString(eu,JSON.stringify(ed))}getJson(eu){let ed=this.implementation.getString(eu);if(null!=ed&&"undefined"!==ed&&"null"!==ed)return JSON.parse(ed)}setString(eu,ed){this.implementation.setString(eu,ed)}getString(eu){let ed=this.implementation.getString(eu);if(null!=ed)return ed}clear(eu){this.implementation.clear(eu)}createJsonGetterSetter(eu){return{get:()=>this.getJson(eu),set:ed=>this.setJson(eu,ed)}}createStringGetterSetter(eu){return{get:()=>this.getString(eu),set:ed=>this.setString(eu,ed)}}};let lx=eu=>null!=eu&&eu.length>0,lC="https://wallet.meteorwallet.app",lM="undefined"!=typeof window?window.localStorage.getItem("DEV__METEOR_WALLET_BASE_URL"):void 0,lO={wallet_base_url:lM??lC},lT=390,lP=650;var lN=class{comType;websiteWindow;wasOpened;walletOrigin;constructor(eu,ed){let eg=lO.wallet_base_url,em=new URL(eg);if(this.walletOrigin=em.origin,null==window.meteorCom){this.comType=lu.website_post_message,console.log("No extension found. Need to connect to web popup for Meteor communication");let em={source:lu.website_post_message,connectionUid:eu.uid,pageUri:encodeURIComponent(window.location.href)},eb=lT,ew=lP,e_=window.top.outerHeight/2+window.top.screenY-ew/2,eE=window.top.outerWidth/2+window.top.screenX-eb/2,eA=window.open(`${eg}/connect/${eu.network}/${eu.actionType}?${(0,u5.stringify)(em)}`,"_blank",`popup=1,width=${eb},height=${ew},top=${e_},left=${eE}`);if(null!=eA)this.websiteWindow=eA;else throw new lv({message:"Couldn't open popup window to complete wallet action",endTags:[ly.POPUP_WINDOW_OPEN_FAILED]});window.addEventListener("message",eu=>ed(eu.data)),this.wasOpened=!1}else this.comType=lu.extension_injected,this.wasOpened=!0,window.meteorCom.addMessageDataListener(ed)}focus(){this.comType===lu.website_post_message&&this.websiteWindow?.focus()}sendMessage(eu){this.comType===lu.website_post_message?this.websiteWindow?.postMessage(eu,this.walletOrigin):window.meteorCom?.sendMessageData(eu)}isWindowClosed(){return this.comType===lu.website_post_message&&(this.websiteWindow?.closed??!0)}hasActiveWindow(){return this.comType!==lu.website_post_message||null!=this.websiteWindow}close(){this.comType===lu.website_post_message&&delete this.websiteWindow}};let lk=450;var lR=class{baseWalletUrl;walletOrigin;listener;connections=[];comWindow;comInterval;constructor(){let eu=lO.wallet_base_url,ed=new URL(eu);this.baseWalletUrl=eu,this.walletOrigin=ed.origin,this.listener=eu=>{if(null!=eu){let ed=this.connections.find(ed=>ed.uid===eu.uid);null!=ed&&(this.updateConnection(ed.uid,{lastConnection:Date.now()}),eu.status===ll.attempting_reconnect&&(this.updateConnection(ed.uid,{status:ll.initializing}),this.sendComs()),eu.status===ll.connected&&ed.status===ll.initializing&&this.updateConnection(ed.uid,{status:ll.connected}),eu.status===ll.closed_success&&(ed.resolve({success:!0,endTags:[],payload:eu.payload}),this.updateConnection(ed.uid,{status:ll.closed_success}),this.sendComs()),eu.status===ll.closed_fail&&(this.updateConnection(ed.uid,{status:ll.closed_fail}),this.sendComs(),ed.reject(new lv({endTags:eu.endTags}))),eu.status===ll.closed_window&&(this.updateConnection(ed.uid,{status:ll.closed_window}),ed.reject(new lv({endTags:eu.endTags,message:"User closed the window"}))),[ll.disconnected,ll.closed_fail,ll.closed_window,ll.closed_success].includes(eu.status)&&this.removeConnection(ed.uid))}}}removeConnection(eu){this.connections=this.connections.filter(ed=>ed.uid!==eu),0===this.connections.length&&(delete this.comWindow,clearInterval(this.comInterval),delete this.comInterval)}updateConnection(eu,ed){this.connections=this.connections.map(eg=>eg.uid===eu?{...eg,...ed,uid:eg.uid}:eg)}sendComs(){if(this.comWindow?.hasActiveWindow()&&this.connections.length>0){if(null==this.comInterval&&(this.comInterval=setInterval(()=>this.sendComs(),lk)),this.comWindow.isWindowClosed()){if(this.comWindow.wasOpened){for(let eu of this.connections)eu.reject(new lv({message:"User closed the window before completing the action",endTags:[ly.INCOMPLETE_ACTION,ly.WINDOW_CLOSED]}));this.connections=[],this.comWindow.close()}else console.log("Window is closed, need to allow popup")}else for(let{network:eu,actionType:ed,endTags:eg,status:em,inputs:eb,uid:ew}of(this.comWindow.wasOpened=!0,this.connections)){let e_={endTags:eg,actionType:ed,status:em,uid:ew,network:eu};em===ll.initializing&&(e_.inputs=eb),this.comWindow.sendMessage(e_)}}else clearInterval(this.comInterval),delete this.comInterval}addAndStartConnection(eu){if(this.connections.length>0)for(let eu of this.connections)eu.status=ll.disconnected,eu.endTags=[ly.NEW_ACTION_STARTED];this.connections.push(eu),null!=this.comWindow&&this.comWindow.hasActiveWindow()?this.comWindow.focus():this.comWindow=new lN(eu,this.listener),this.sendComs()}async connectAndWaitForResponse({actionType:eu,network:ed,inputs:eg}){let em={uid:u3(),actionType:eu,lastAttemptedConnection:0,lastConnection:0,status:ll.initializing,promise:void 0,reject:void 0,resolve:void 0,currentPayload:{},inputs:eg,network:ed,endTags:[]},eb=new Promise((eu,ed)=>{em.resolve=eu,em.reject=eu=>{this.connections=this.connections.filter(eu=>eu.uid!==em.uid),ed(eu)}});return em.promise=eb,this.addAndStartConnection(em),await eb}};function lD(){return null==em&&(em=new lR),em}let lB=eu=>{if("FullAccess"===eu)return tA.fullAccessKey();let{receiverId:ed,methodNames:eg=[]}=eu,em=eu.allowance?BigInt(eu.allowance):void 0;return tA.functionCallAccessKey(ed,eg,em)},lU=eu=>"string"==typeof eu?u4.from(eu,"base64"):eu,lL=eu=>{switch(eu.type){case"CreateAccount":return tA.createAccount();case"DeployContract":{let{code:ed}=eu.params;return tA.deployContract(ed)}case"FunctionCall":{let{methodName:ed,args:eg,gas:em,deposit:eb}=eu.params;return tA.functionCall(ed,lU(eg),BigInt(em),BigInt(eb))}case"Transfer":{let{deposit:ed}=eu.params;return tA.transfer(BigInt(ed))}case"Stake":{let{stake:ed,publicKey:eg}=eu.params;return tA.stake(BigInt(ed),eT.from(eg))}case"AddKey":{let{publicKey:ed,accessKey:eg}=eu.params;return tA.addKey(eT.from(ed),lB(eg.permission))}case"DeleteKey":{let{publicKey:ed}=eu.params;return tA.deleteKey(eT.from(ed))}case"DeleteAccount":{let{beneficiaryId:ed}=eu.params;return tA.deleteAccount(ed)}default:throw Error("Invalid action type")}},lj=(eu,ed)=>{if(ed)return ed;let eg=lO.wallet_base_url;switch(eu){case"mainnet":return`${eg}/connect/mainnet`;case"testnet":return`${eg}/connect/testnet`;case"betanet":return`${eg}/connect/betanet`;default:throw Error("Invalid wallet URL")}},lF="add_request_and_confirm",l$="_meteor_wallet_auth_key",lK=new lI({getString:eu=>window.localStorage.getItem(eu),setString:(eu,ed)=>window.localStorage.setItem(eu,ed),clear:eu=>window.localStorage.removeItem(eu)});new lI({getString:eu=>window.sessionStorage.getItem(eu),setString:(eu,ed)=>window.sessionStorage.setItem(eu,ed),clear:eu=>window.sessionStorage.removeItem(eu)});var lq=class eu{_walletBaseUrl;_authDataKey;_keyStore;_authData;_networkId;_provider;_connectedAccount;_initializationPromises=[];static async init(ed){let eg=new nM(window.localStorage,"_meteor_wallet"),em=new eu({appKeyPrefix:"near_app",keyStore:eg,...ed});return em.isSignedIn()||await eg.clear(),em}constructor({appKeyPrefix:eu="default",keyStore:ed,networkId:eg,walletUrl:em,nodeUrl:eb}){let ew=eu+l$;this._authDataKey=ew,this._authData=lK.getJson(ew)??{allKeys:[]},this._walletBaseUrl=lj(eg,em),this._networkId=eg,this._keyStore=ed,this._provider=new rL({url:eb??lS[eg].nodeUrl})}isExtensionInstalled(){return null!=window.meteorWallet}isSignedIn(){return!!this._authData.accountId}getAccountId(){return this._authData.accountId}async verifyOwner(eu){let ed=eu.accountId??this.getAccountId(),eg=await lD().connectAndWaitForResponse({actionType:u9.verify_owner,inputs:{accountId:ed,message:eu.message},network:this._networkId});if(eg.success)return eg;throw new lv({endTags:eg.endTags,message:eg.message})}async requestSignIn(eu){let{keyPair:ed,...eg}=eu,em=ed??nS.fromRandom("ed25519");console.log(em);let eb=em.getPublicKey().toString(),ew=await lD().connectAndWaitForResponse({actionType:u9.login,inputs:{public_key:eb,...eg},network:this._networkId});if(ew.success){let{allKeys:eu,accountId:ed}=ew.payload;return this._authData={accountId:ed,allKeys:eu,signedInContract:{contract_id:eg.contract_id,public_key:eb}},lK.setJson(this._authDataKey,this._authData),await this._keyStore.setKey(this._networkId,ed,em),{success:!0,endTags:[],payload:{accessKey:em,accountId:ed}}}throw new lv({endTags:ew.endTags,message:ew.message})}async signOut(){let eu=this.getAccountId();if(null!=this._authData.signedInContract&&null!=eu){let ed={accountId:eu,contractInfo:this._authData.signedInContract};await lD().connectAndWaitForResponse({actionType:u9.logout,inputs:ed,network:this._networkId})}this._authData={allKeys:[]},lK.clear(this._authDataKey)}async signMessage({message:eu,nonce:ed,recipient:eg,callbackUrl:em,state:eb,accountId:ew}){let e_=await lD().connectAndWaitForResponse({actionType:u9.sign_message,inputs:{message:eu,nonce:ed,recipient:eg,callbackUrl:em,state:eb,accountId:ew},network:this._networkId});if(e_.success)return e_.payload.state=eb,e_;throw new lv({endTags:e_.endTags,message:e_.message})}async requestSignTransactions(eu){let{transactions:ed}=eu,eg=await this.transformTransactions(ed);console.log("Transformed transactions",eg);let em=await lD().connectAndWaitForResponse({actionType:u9.sign,inputs:{transactions:eg.map(eu=>eu.encode()).map(eu=>u4.from(eu).toString("base64")).join(",")},network:this._networkId});if(em.success)return em.payload.executionOutcomes;throw new lv({endTags:em.endTags,message:em.message})}async account(){let eu=this.getAccountId();if(lx(eu)&&this._connectedAccount?.accountId!==eu){let ed=await this._keyStore.getKey(this._networkId,eu),eg=rA.e.fromSecretKey(ed.toString());this._connectedAccount=new lz(this,eu,eg)}if(null==this._connectedAccount)throw new lv({endTags:[],message:"No current account connected to Meteor Wallet"});return this._connectedAccount}async transformTransactions(eu){let ed=await this.account(),eg=ed.getSigner(),em=ed.provider,eb=await eg.getPublicKey();return Promise.all(eu.map(async(eu,eg)=>{let ew=await ed.accessKeyForTransaction(eb);if(!ew)throw Error(`Failed to find matching key for transaction sent to ${eu.receiverId}`);let e_=eu.actions.map(eu=>lL(eu)),eE=await em.viewBlock({finality:"final"});return tX(ed.accountId,eT.from(ew.public_key),eu.receiverId,BigInt(ew.access_key.nonce)+BigInt(eg)+BigInt(1),e_,nO.utils.serialize.base_decode(eE.header.hash))}))}},lz=class extends nm{meteorWallet;constructor(eu,ed,eg){super(ed,eu._provider,eg),this.setSigner(eg),this.meteorWallet=eu}async signAndSendTransaction(...eu){return"string"==typeof eu[0]?this.signAndSendTransaction_direct({receiverId:eu[0],actions:eu[1]}):this.signAndSendTransaction_direct(eu[0])}async trySendOrCreateTransaction({receiverId:eu,actions:ed}){let eg=await this.getSigner().getPublicKey(),em=await this.accessKeyForTransaction(eg);if(null!=em&&"FullAccess"!==em.access_key.permission){let eg=await this.accessKeyMatchesTransaction(em,eu,ed);if(!eg)return{sent:!1,transaction:{receiverId:eu,signerId:this.accountId,actions:ed}}}if(em&&eg&&eg.toString()===em.public_key)try{return{executionOutcome:await super.signAndSendTransaction({receiverId:eu,actions:ed.map(eu=>lL(eu))}),sent:!0}}catch(eu){if("NotEnoughAllowance"!==eu.type)throw eu}return{sent:!1,transaction:{receiverId:eu,signerId:this.accountId,actions:ed}}}async signAndSendTransaction_direct({receiverId:eu,actions:ed}){let{transaction:eg,sent:em,executionOutcome:eb}=await this.trySendOrCreateTransaction({receiverId:eu,actions:ed});return em?eb:(await this.meteorWallet.requestSignTransactions({transactions:[eg]}))[0]}async accessKeyMatchesTransaction(eu,ed,eg){let{access_key:{permission:em}}=eu;if("FullAccess"===em)return!0;if(console.log("Comparing access key and actions",{accessKey:eu,receiverId:ed,actions:eg}),em.FunctionCall){let{receiver_id:eu,method_names:eb}=em.FunctionCall;if(eu===ed&&eb.includes(lF))return!0;if(eu===ed){if(1!==eg.length)return!1;let eu=eg[0];if(console.log(eu),"FunctionCall"===eu.type){let ed=eu.params;return(!ed.deposit||"0"===ed.deposit.toString())&&(0===eb.length||eb.includes(ed.methodName))}}}return!1}async accessKeyForTransaction(eu){let ed=(await this.getAccessKeyList()).keys;if(console.log("accessKeys",ed),eu){let eg=ed.find(ed=>ed.public_key.toString()===eu.toString());if(eg)return eg}let eg=this.meteorWallet._authData.allKeys;for(let eu of ed)if(-1!==eg.indexOf(eu.public_key))return eu;for(let eu of ed)if("FullAccess"===eu.access_key.permission)return eu;return null}}},60537:function(eu,ed,eg){"use strict";eg.d(ed,{_:function(){return em}});class em extends Error{constructor(eu){super(eu);let ed=Object.create(em.prototype);Object.setPrototypeOf(this,ed),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:em.name})}}},38812:function(eu,ed,eg){"use strict";eg.d(ed,{n:function(){return eP}});class em{constructor(eu,ed){this.type=eu,this.data=ed}}var eb=eg(60537),ew=eg(38766);let e_=-1,eE=4294967295,eA=17179869183;function eS({sec:eu,nsec:ed}){if(eu>=0&&ed>=0&&eu<=eA){if(0===ed&&eu<=eE){let ed=new Uint8Array(4),eg=new DataView(ed.buffer);return eg.setUint32(0,eu),ed}{let eg=eu/4294967296,em=4294967295&eu,eb=new Uint8Array(8),ew=new DataView(eb.buffer);return ew.setUint32(0,ed<<2|3&eg),ew.setUint32(4,em),eb}}{let eg=new Uint8Array(12),em=new DataView(eg.buffer);return em.setUint32(0,ed),(0,ew.zT)(em,4,eu),eg}}function eI(eu){let ed=eu.getTime(),eg=Math.floor(ed/1e3),em=(ed-1e3*eg)*1e6,eb=Math.floor(em/1e9);return{sec:eg+eb,nsec:em-1e9*eb}}function eC(eu){if(!(eu instanceof Date))return null;{let ed=eI(eu);return eS(ed)}}function eM(eu){let ed=new DataView(eu.buffer,eu.byteOffset,eu.byteLength);switch(eu.byteLength){case 4:{let eu=ed.getUint32(0),eg=0;return{sec:eu,nsec:eg}}case 8:{let eu=ed.getUint32(0),eg=ed.getUint32(4),em=(3&eu)*4294967296+eg,eb=eu>>>2;return{sec:em,nsec:eb}}case 12:{let eu=(0,ew.eu)(ed,4),eg=ed.getUint32(0);return{sec:eu,nsec:eg}}default:throw new eb._(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${eu.length}`)}}function eO(eu){let ed=eM(eu);return new Date(1e3*ed.sec+ed.nsec/1e6)}let eT={type:e_,encode:eC,decode:eO};class eP{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(eT)}register({type:eu,encode:ed,decode:eg}){if(eu>=0)this.encoders[eu]=ed,this.decoders[eu]=eg;else{let em=-1-eu;this.builtInEncoders[em]=ed,this.builtInDecoders[em]=eg}}tryToEncode(eu,ed){for(let eg=0;eg<this.builtInEncoders.length;eg++){let eb=this.builtInEncoders[eg];if(null!=eb){let ew=eb(eu,ed);if(null!=ew){let eu=-1-eg;return new em(eu,ew)}}}for(let eg=0;eg<this.encoders.length;eg++){let eb=this.encoders[eg];if(null!=eb){let ew=eb(eu,ed);if(null!=ew){let eu=eg;return new em(eu,ew)}}}return eu instanceof em?eu:null}decode(eu,ed,eg){let eb=ed<0?this.builtInDecoders[-1-ed]:this.decoders[ed];return eb?eb(eu,ed,eg):new em(ed,eu)}}eP.defaultCodec=new eP},61867:function(eu,ed,eg){"use strict";function em(eu){return`${eu<0?"-":""}0x${Math.abs(eu).toString(16).padStart(2,"0")}`}eg.d(ed,{J:function(){return ej}});var eb=eg(38812),ew=eg(38766),e_=eg(4440),eE=eg(70801);let eA=16,eS=16;class eI{constructor(eu=eA,ed=eS){this.hit=0,this.miss=0,this.maxKeyLength=eu,this.maxLengthPerKey=ed,this.caches=[];for(let eu=0;eu<this.maxKeyLength;eu++)this.caches.push([])}canBeCached(eu){return eu>0&&eu<=this.maxKeyLength}find(eu,ed,eg){let em=this.caches[eg-1];t:for(let eb of em){let em=eb.bytes;for(let eb=0;eb<eg;eb++)if(em[eb]!==eu[ed+eb])continue t;return eb.str}return null}store(eu,ed){let eg=this.caches[eu.length-1],em={bytes:eu,str:ed};eg.length>=this.maxLengthPerKey?eg[Math.random()*eg.length|0]=em:eg.push(em)}decode(eu,ed,eg){let em=this.find(eu,ed,eg);if(null!=em)return this.hit++,em;this.miss++;let eb=(0,e_.zV)(eu,ed,eg),ew=Uint8Array.prototype.slice.call(eu,ed,ed+eg);return this.store(ew,eb),eb}}var eC=eg(60537);let eM="array",eO="map_key",eT="map_value",eP=eu=>{if("string"==typeof eu||"number"==typeof eu)return eu;throw new eC._("The type of key must be string or number but "+typeof eu)};class eN{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(eu){let ed=this.getUninitializedStateFromPool();ed.type=eM,ed.position=0,ed.size=eu,ed.array=Array(eu)}pushMapState(eu){let ed=this.getUninitializedStateFromPool();ed.type=eO,ed.readCount=0,ed.size=eu,ed.map={}}getUninitializedStateFromPool(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){let eu={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(eu)}return this.stack[this.stackHeadPosition]}release(eu){let ed=this.stack[this.stackHeadPosition];if(ed!==eu)throw Error("Invalid stack state. Released state is not on top of the stack.");if(eu.type===eM){let ed=eu;ed.size=0,ed.array=void 0,ed.position=0,ed.type=void 0}if(eu.type===eO||eu.type===eT){let ed=eu;ed.size=0,ed.map=void 0,ed.readCount=0,ed.type=void 0}this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}let ek=-1,eR=new DataView(new ArrayBuffer(0)),eD=new Uint8Array(eR.buffer);try{eR.getInt8(0)}catch(eu){if(!(eu instanceof RangeError))throw Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}let eB=RangeError("Insufficient data"),eU=new eI;class eL{constructor(eu){this.totalPos=0,this.pos=0,this.view=eR,this.bytes=eD,this.headByte=ek,this.stack=new eN,this.entered=!1,this.extensionCodec=eu?.extensionCodec??eb.n.defaultCodec,this.context=eu?.context,this.useBigInt64=eu?.useBigInt64??!1,this.rawStrings=eu?.rawStrings??!1,this.maxStrLength=eu?.maxStrLength??ew.x5,this.maxBinLength=eu?.maxBinLength??ew.x5,this.maxArrayLength=eu?.maxArrayLength??ew.x5,this.maxMapLength=eu?.maxMapLength??ew.x5,this.maxExtLength=eu?.maxExtLength??ew.x5,this.keyDecoder=eu?.keyDecoder!==void 0?eu.keyDecoder:eU,this.mapKeyConverter=eu?.mapKeyConverter??eP}clone(){return new eL({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=ek,this.stack.reset()}setBuffer(eu){let ed=(0,eE.z)(eu);this.bytes=ed,this.view=new DataView(ed.buffer,ed.byteOffset,ed.byteLength),this.pos=0}appendBuffer(eu){if(this.headByte!==ek||this.hasRemaining(1)){let ed=this.bytes.subarray(this.pos),eg=(0,eE.z)(eu),em=new Uint8Array(ed.length+eg.length);em.set(ed),em.set(eg,ed.length),this.setBuffer(em)}else this.setBuffer(eu)}hasRemaining(eu){return this.view.byteLength-this.pos>=eu}createExtraByteError(eu){let{view:ed,pos:eg}=this;return RangeError(`Extra ${ed.byteLength-eg} of ${ed.byteLength} byte(s) found at buffer[${eu}]`)}decode(eu){if(this.entered){let ed=this.clone();return ed.decode(eu)}try{this.entered=!0,this.reinitializeState(),this.setBuffer(eu);let ed=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return ed}finally{this.entered=!1}}*decodeMulti(eu){if(this.entered){let ed=this.clone();yield*ed.decodeMulti(eu);return}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(eu);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(eu){if(this.entered){let ed=this.clone();return ed.decodeAsync(eu)}try{let ed;this.entered=!0;let eg=!1;for await(let em of eu){if(eg)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(em);try{ed=this.doDecodeSync(),eg=!0}catch(eu){if(!(eu instanceof RangeError))throw eu}this.totalPos+=this.pos}if(eg){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return ed}let{headByte:eb,pos:ew,totalPos:e_}=this;throw RangeError(`Insufficient data in parsing ${em(eb)} at ${e_} (${ew} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(eu){return this.decodeMultiAsync(eu,!0)}decodeStream(eu){return this.decodeMultiAsync(eu,!1)}async *decodeMultiAsync(eu,ed){if(this.entered){let eg=this.clone();yield*eg.decodeMultiAsync(eu,ed);return}try{this.entered=!0;let eg=ed,em=-1;for await(let eb of eu){if(ed&&0===em)throw this.createExtraByteError(this.totalPos);this.appendBuffer(eb),eg&&(em=this.readArraySize(),eg=!1,this.complete());try{for(;yield this.doDecodeSync(),0!=--em;);}catch(eu){if(!(eu instanceof RangeError))throw eu}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){r:for(;;){let eu;let ed=this.readHeadByte();if(ed>=224)eu=ed-256;else if(ed<192){if(ed<128)eu=ed;else if(ed<144){let eg=ed-128;if(0!==eg){this.pushMapState(eg),this.complete();continue r}eu={}}else if(ed<160){let eg=ed-144;if(0!==eg){this.pushArrayState(eg),this.complete();continue r}eu=[]}else{let eg=ed-160;eu=this.decodeString(eg,0)}}else if(192===ed)eu=null;else if(194===ed)eu=!1;else if(195===ed)eu=!0;else if(202===ed)eu=this.readF32();else if(203===ed)eu=this.readF64();else if(204===ed)eu=this.readU8();else if(205===ed)eu=this.readU16();else if(206===ed)eu=this.readU32();else if(207===ed)eu=this.useBigInt64?this.readU64AsBigInt():this.readU64();else if(208===ed)eu=this.readI8();else if(209===ed)eu=this.readI16();else if(210===ed)eu=this.readI32();else if(211===ed)eu=this.useBigInt64?this.readI64AsBigInt():this.readI64();else if(217===ed){let ed=this.lookU8();eu=this.decodeString(ed,1)}else if(218===ed){let ed=this.lookU16();eu=this.decodeString(ed,2)}else if(219===ed){let ed=this.lookU32();eu=this.decodeString(ed,4)}else if(220===ed){let ed=this.readU16();if(0!==ed){this.pushArrayState(ed),this.complete();continue r}eu=[]}else if(221===ed){let ed=this.readU32();if(0!==ed){this.pushArrayState(ed),this.complete();continue r}eu=[]}else if(222===ed){let ed=this.readU16();if(0!==ed){this.pushMapState(ed),this.complete();continue r}eu={}}else if(223===ed){let ed=this.readU32();if(0!==ed){this.pushMapState(ed),this.complete();continue r}eu={}}else if(196===ed){let ed=this.lookU8();eu=this.decodeBinary(ed,1)}else if(197===ed){let ed=this.lookU16();eu=this.decodeBinary(ed,2)}else if(198===ed){let ed=this.lookU32();eu=this.decodeBinary(ed,4)}else if(212===ed)eu=this.decodeExtension(1,0);else if(213===ed)eu=this.decodeExtension(2,0);else if(214===ed)eu=this.decodeExtension(4,0);else if(215===ed)eu=this.decodeExtension(8,0);else if(216===ed)eu=this.decodeExtension(16,0);else if(199===ed){let ed=this.lookU8();eu=this.decodeExtension(ed,1)}else if(200===ed){let ed=this.lookU16();eu=this.decodeExtension(ed,2)}else if(201===ed){let ed=this.lookU32();eu=this.decodeExtension(ed,4)}else throw new eC._(`Unrecognized type byte: ${em(ed)}`);this.complete();let eg=this.stack;for(;eg.length>0;){let ed=eg.top();if(ed.type===eM){if(ed.array[ed.position]=eu,ed.position++,ed.position===ed.size)eu=ed.array,eg.release(ed);else continue r}else if(ed.type===eO){if("__proto__"===eu)throw new eC._("The key __proto__ is not allowed");ed.key=this.mapKeyConverter(eu),ed.type=eT;continue r}else if(ed.map[ed.key]=eu,ed.readCount++,ed.readCount===ed.size)eu=ed.map,eg.release(ed);else{ed.key=null,ed.type=eO;continue r}}return eu}}readHeadByte(){return this.headByte===ek&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=ek}readArraySize(){let eu=this.readHeadByte();switch(eu){case 220:return this.readU16();case 221:return this.readU32();default:if(eu<160)return eu-144;throw new eC._(`Unrecognized array type byte: ${em(eu)}`)}}pushMapState(eu){if(eu>this.maxMapLength)throw new eC._(`Max length exceeded: map length (${eu}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(eu)}pushArrayState(eu){if(eu>this.maxArrayLength)throw new eC._(`Max length exceeded: array length (${eu}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(eu)}decodeString(eu,ed){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(eu,ed):this.decodeBinary(eu,ed)}decodeUtf8String(eu,ed){let eg;if(eu>this.maxStrLength)throw new eC._(`Max length exceeded: UTF-8 byte length (${eu}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+ed+eu)throw eB;let em=this.pos+ed;return eg=this.stateIsMapKey()&&this.keyDecoder?.canBeCached(eu)?this.keyDecoder.decode(this.bytes,em,eu):(0,e_.xI)(this.bytes,em,eu),this.pos+=ed+eu,eg}stateIsMapKey(){if(this.stack.length>0){let eu=this.stack.top();return eu.type===eO}return!1}decodeBinary(eu,ed){if(eu>this.maxBinLength)throw new eC._(`Max length exceeded: bin length (${eu}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(eu+ed))throw eB;let eg=this.pos+ed,em=this.bytes.subarray(eg,eg+eu);return this.pos+=ed+eu,em}decodeExtension(eu,ed){if(eu>this.maxExtLength)throw new eC._(`Max length exceeded: ext length (${eu}) > maxExtLength (${this.maxExtLength})`);let eg=this.view.getInt8(this.pos+ed),em=this.decodeBinary(eu,ed+1);return this.extensionCodec.decode(em,eg,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){let eu=this.view.getUint8(this.pos);return this.pos++,eu}readI8(){let eu=this.view.getInt8(this.pos);return this.pos++,eu}readU16(){let eu=this.view.getUint16(this.pos);return this.pos+=2,eu}readI16(){let eu=this.view.getInt16(this.pos);return this.pos+=2,eu}readU32(){let eu=this.view.getUint32(this.pos);return this.pos+=4,eu}readI32(){let eu=this.view.getInt32(this.pos);return this.pos+=4,eu}readU64(){let eu=(0,ew.Lz)(this.view,this.pos);return this.pos+=8,eu}readI64(){let eu=(0,ew.eu)(this.view,this.pos);return this.pos+=8,eu}readU64AsBigInt(){let eu=this.view.getBigUint64(this.pos);return this.pos+=8,eu}readI64AsBigInt(){let eu=this.view.getBigInt64(this.pos);return this.pos+=8,eu}readF32(){let eu=this.view.getFloat32(this.pos);return this.pos+=4,eu}readF64(){let eu=this.view.getFloat64(this.pos);return this.pos+=8,eu}}function ej(eu,ed){let eg=new eL(ed);return eg.decode(eu)}},21611:function(eu,ed,eg){"use strict";eg.d(ed,{c:function(){return eI}});var em=eg(4440),eb=eg(38812),ew=eg(38766),e_=eg(70801);let eE=100,eA=2048;class eS{constructor(eu){this.entered=!1,this.extensionCodec=eu?.extensionCodec??eb.n.defaultCodec,this.context=eu?.context,this.useBigInt64=eu?.useBigInt64??!1,this.maxDepth=eu?.maxDepth??eE,this.initialBufferSize=eu?.initialBufferSize??eA,this.sortKeys=eu?.sortKeys??!1,this.forceFloat32=eu?.forceFloat32??!1,this.ignoreUndefined=eu?.ignoreUndefined??!1,this.forceIntegerToFloat=eu?.forceIntegerToFloat??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new eS({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(eu){if(this.entered){let ed=this.clone();return ed.encodeSharedRef(eu)}try{return this.entered=!0,this.reinitializeState(),this.doEncode(eu,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(eu){if(this.entered){let ed=this.clone();return ed.encode(eu)}try{return this.entered=!0,this.reinitializeState(),this.doEncode(eu,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(eu,ed){if(ed>this.maxDepth)throw Error(`Too deep objects in depth ${ed}`);null==eu?this.encodeNil():"boolean"==typeof eu?this.encodeBoolean(eu):"number"==typeof eu?this.forceIntegerToFloat?this.encodeNumberAsFloat(eu):this.encodeNumber(eu):"string"==typeof eu?this.encodeString(eu):this.useBigInt64&&"bigint"==typeof eu?this.encodeBigInt64(eu):this.encodeObject(eu,ed)}ensureBufferSizeToWrite(eu){let ed=this.pos+eu;this.view.byteLength<ed&&this.resizeBuffer(2*ed)}resizeBuffer(eu){let ed=new ArrayBuffer(eu),eg=new Uint8Array(ed),em=new DataView(ed);eg.set(this.bytes),this.view=em,this.bytes=eg}encodeNil(){this.writeU8(192)}encodeBoolean(eu){!1===eu?this.writeU8(194):this.writeU8(195)}encodeNumber(eu){!this.forceIntegerToFloat&&Number.isSafeInteger(eu)?eu>=0?eu<128?this.writeU8(eu):eu<256?(this.writeU8(204),this.writeU8(eu)):eu<65536?(this.writeU8(205),this.writeU16(eu)):eu<4294967296?(this.writeU8(206),this.writeU32(eu)):this.useBigInt64?this.encodeNumberAsFloat(eu):(this.writeU8(207),this.writeU64(eu)):eu>=-32?this.writeU8(224|eu+32):eu>=-128?(this.writeU8(208),this.writeI8(eu)):eu>=-32768?(this.writeU8(209),this.writeI16(eu)):eu>=-2147483648?(this.writeU8(210),this.writeI32(eu)):this.useBigInt64?this.encodeNumberAsFloat(eu):(this.writeU8(211),this.writeI64(eu)):this.encodeNumberAsFloat(eu)}encodeNumberAsFloat(eu){this.forceFloat32?(this.writeU8(202),this.writeF32(eu)):(this.writeU8(203),this.writeF64(eu))}encodeBigInt64(eu){eu>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(eu)):(this.writeU8(211),this.writeBigInt64(eu))}writeStringHeader(eu){if(eu<32)this.writeU8(160+eu);else if(eu<256)this.writeU8(217),this.writeU8(eu);else if(eu<65536)this.writeU8(218),this.writeU16(eu);else if(eu<4294967296)this.writeU8(219),this.writeU32(eu);else throw Error(`Too long string: ${eu} bytes in UTF-8`)}encodeString(eu){let ed=5,eg=(0,em.ZR)(eu);this.ensureBufferSizeToWrite(ed+eg),this.writeStringHeader(eg),(0,em.Rn)(eu,this.bytes,this.pos),this.pos+=eg}encodeObject(eu,ed){let eg=this.extensionCodec.tryToEncode(eu,this.context);if(null!=eg)this.encodeExtension(eg);else if(Array.isArray(eu))this.encodeArray(eu,ed);else if(ArrayBuffer.isView(eu))this.encodeBinary(eu);else if("object"==typeof eu)this.encodeMap(eu,ed);else throw Error(`Unrecognized object: ${Object.prototype.toString.apply(eu)}`)}encodeBinary(eu){let ed=eu.byteLength;if(ed<256)this.writeU8(196),this.writeU8(ed);else if(ed<65536)this.writeU8(197),this.writeU16(ed);else if(ed<4294967296)this.writeU8(198),this.writeU32(ed);else throw Error(`Too large binary: ${ed}`);let eg=(0,e_.z)(eu);this.writeU8a(eg)}encodeArray(eu,ed){let eg=eu.length;if(eg<16)this.writeU8(144+eg);else if(eg<65536)this.writeU8(220),this.writeU16(eg);else if(eg<4294967296)this.writeU8(221),this.writeU32(eg);else throw Error(`Too large array: ${eg}`);for(let eg of eu)this.doEncode(eg,ed+1)}countWithoutUndefined(eu,ed){let eg=0;for(let em of ed)void 0!==eu[em]&&eg++;return eg}encodeMap(eu,ed){let eg=Object.keys(eu);this.sortKeys&&eg.sort();let em=this.ignoreUndefined?this.countWithoutUndefined(eu,eg):eg.length;if(em<16)this.writeU8(128+em);else if(em<65536)this.writeU8(222),this.writeU16(em);else if(em<4294967296)this.writeU8(223),this.writeU32(em);else throw Error(`Too large map object: ${em}`);for(let em of eg){let eg=eu[em];this.ignoreUndefined&&void 0===eg||(this.encodeString(em),this.doEncode(eg,ed+1))}}encodeExtension(eu){if("function"==typeof eu.data){let ed=eu.data(this.pos+6),eg=ed.length;if(eg>=4294967296)throw Error(`Too large extension object: ${eg}`);this.writeU8(201),this.writeU32(eg),this.writeI8(eu.type),this.writeU8a(ed);return}let ed=eu.data.length;if(1===ed)this.writeU8(212);else if(2===ed)this.writeU8(213);else if(4===ed)this.writeU8(214);else if(8===ed)this.writeU8(215);else if(16===ed)this.writeU8(216);else if(ed<256)this.writeU8(199),this.writeU8(ed);else if(ed<65536)this.writeU8(200),this.writeU16(ed);else if(ed<4294967296)this.writeU8(201),this.writeU32(ed);else throw Error(`Too large extension object: ${ed}`);this.writeI8(eu.type),this.writeU8a(eu.data)}writeU8(eu){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,eu),this.pos++}writeU8a(eu){let ed=eu.length;this.ensureBufferSizeToWrite(ed),this.bytes.set(eu,this.pos),this.pos+=ed}writeI8(eu){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,eu),this.pos++}writeU16(eu){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,eu),this.pos+=2}writeI16(eu){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,eu),this.pos+=2}writeU32(eu){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,eu),this.pos+=4}writeI32(eu){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,eu),this.pos+=4}writeF32(eu){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,eu),this.pos+=4}writeF64(eu){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,eu),this.pos+=8}writeU64(eu){this.ensureBufferSizeToWrite(8),(0,ew.$t)(this.view,this.pos,eu),this.pos+=8}writeI64(eu){this.ensureBufferSizeToWrite(8),(0,ew.zT)(this.view,this.pos,eu),this.pos+=8}writeBigUint64(eu){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,eu),this.pos+=8}writeBigInt64(eu){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,eu),this.pos+=8}}function eI(eu,ed){let eg=new eS(ed);return eg.encodeSharedRef(eu)}},38766:function(eu,ed,eg){"use strict";eg.d(ed,{$t:function(){return eb},Lz:function(){return eE},eu:function(){return e_},x5:function(){return em},zT:function(){return ew}});let em=4294967295;function eb(eu,ed,eg){let em=eg/4294967296,eb=eg;eu.setUint32(ed,em),eu.setUint32(ed+4,eb)}function ew(eu,ed,eg){let em=Math.floor(eg/4294967296),eb=eg;eu.setUint32(ed,em),eu.setUint32(ed+4,eb)}function e_(eu,ed){let eg=eu.getInt32(ed),em=eu.getUint32(ed+4);return 4294967296*eg+em}function eE(eu,ed){let eg=eu.getUint32(ed),em=eu.getUint32(ed+4);return 4294967296*eg+em}},70801:function(eu,ed,eg){"use strict";function em(eu){return eu instanceof ArrayBuffer||"undefined"!=typeof SharedArrayBuffer&&eu instanceof SharedArrayBuffer}function eb(eu){return eu instanceof Uint8Array?eu:ArrayBuffer.isView(eu)?new Uint8Array(eu.buffer,eu.byteOffset,eu.byteLength):em(eu)?new Uint8Array(eu):Uint8Array.from(eu)}eg.d(ed,{z:function(){return eb}})},4440:function(eu,ed,eg){"use strict";function em(eu){let ed=eu.length,eg=0,em=0;for(;em<ed;){let eb=eu.charCodeAt(em++);if((4294967168&eb)==0){eg++;continue}if((4294965248&eb)==0)eg+=2;else{if(eb>=55296&&eb<=56319&&em<ed){let ed=eu.charCodeAt(em);(64512&ed)==56320&&(++em,eb=((1023&eb)<<10)+(1023&ed)+65536)}(4294901760&eb)==0?eg+=3:eg+=4}}return eg}function eb(eu,ed,eg){let em=eu.length,eb=eg,ew=0;for(;ew<em;){let eg=eu.charCodeAt(ew++);if((4294967168&eg)==0){ed[eb++]=eg;continue}if((4294965248&eg)==0)ed[eb++]=eg>>6&31|192;else{if(eg>=55296&&eg<=56319&&ew<em){let ed=eu.charCodeAt(ew);(64512&ed)==56320&&(++ew,eg=((1023&eg)<<10)+(1023&ed)+65536)}(4294901760&eg)==0?(ed[eb++]=eg>>12&15|224,ed[eb++]=eg>>6&63|128):(ed[eb++]=eg>>18&7|240,ed[eb++]=eg>>12&63|128,ed[eb++]=eg>>6&63|128)}ed[eb++]=63&eg|128}}eg.d(ed,{Rn:function(){return eA},ZR:function(){return em},xI:function(){return eT},zV:function(){return eI}});let ew=new TextEncoder,e_=50;function eE(eu,ed,eg){ew.encodeInto(eu,ed.subarray(eg))}function eA(eu,ed,eg){eu.length>e_?eE(eu,ed,eg):eb(eu,ed,eg)}let eS=4096;function eI(eu,ed,eg){let em=ed,eb=em+eg,ew=[],e_="";for(;em<eb;){let ed=eu[em++];if((128&ed)==0)ew.push(ed);else if((224&ed)==192){let eg=63&eu[em++];ew.push((31&ed)<<6|eg)}else if((240&ed)==224){let eg=63&eu[em++],eb=63&eu[em++];ew.push((31&ed)<<12|eg<<6|eb)}else if((248&ed)==240){let eg=63&eu[em++],eb=63&eu[em++],e_=63&eu[em++],eE=(7&ed)<<18|eg<<12|eb<<6|e_;eE>65535&&(eE-=65536,ew.push(eE>>>10&1023|55296),eE=56320|1023&eE),ew.push(eE)}else ew.push(ed);ew.length>=eS&&(e_+=String.fromCharCode(...ew),ew.length=0)}return ew.length>0&&(e_+=String.fromCharCode(...ew)),e_}let eC=new TextDecoder,eM=200;function eO(eu,ed,eg){let em=eu.subarray(ed,ed+eg);return eC.decode(em)}function eT(eu,ed,eg){return eg>eM?eO(eu,ed,eg):eI(eu,ed,eg)}},62377:function(eu,ed,eg){"use strict";eg.d(ed,{m:function(){return tA}});var em=eg(66757);async function eb(eu,ed,eg,em){let eb=eu;for(let eu=0;eu<ed;eu++){let eu=await em();if(eu)return eu;await ew(eb),eb*=eg}return null}function ew(eu){return new Promise(ed=>setTimeout(ed,eu))}var e_=eg(37791),eE=eg(9005),eA=eg(30958);let{addKey:eS,createAccount:eI,deleteAccount:eC,deleteKey:eM,deployContract:eO,functionCall:eT,stake:eP,transfer:eN,deployGlobalContract:ek,useGlobalContract:eR}=e_.c;class eD{senderId;receiverId;actions;nonce;maxBlockHeight;publicKey;constructor({senderId:eu,receiverId:ed,actions:eg,nonce:em,maxBlockHeight:eb,publicKey:ew}){this.senderId=eu,this.receiverId=ed,this.actions=eg,this.nonce=em,this.maxBlockHeight=eb,this.publicKey=ew}}function eB({actions:eu,maxBlockHeight:ed,nonce:eg,publicKey:em,receiverId:eb,senderId:ew}){return new eD({senderId:ew,receiverId:eb,actions:eu.map(eu=>{if(!eu.type&&!eu.params)return eu;switch(eu.type){case"AddKey":{let{publicKey:ed,accessKey:eg}=eu.params;return eS(ed,eg)}case"CreateAccount":return eI(eu.params.createAccount);case"DeleteAccount":return eC(eu.params.deleteAccount);case"DeleteKey":return eM(eu.params.publicKey);case"DeployContract":return eO(eu.params.code);case"FunctionCall":{let{methodName:ed,args:eg,gas:em,deposit:eb}=eu.params;return eT(ed,eg,em,eb)}case"Stake":return eP(eu.params.stake,eu.params.publicKey);case"Transfer":{let{deposit:ed}=eu.params;return eN(ed)}case"DeployGlobalContract":{let{code:ed,deployMode:eg}=eu.params,em=eg instanceof eA.kr?eg:new eA.kr(eg);return ek(ed,em)}case"UseGlobalContract":{let{identifier:ed}=eu.params,eg=ed instanceof eA.PM?ed:new eA.PM(ed);return eR(eg)}}throw Error("Unrecognized action")}),nonce:eg,maxBlockHeight:ed,publicKey:em})}var eU=eg(68564),eL=eg(46791),ej=eg(79036),eF=eg(24133),e$=eg(89268),eK=eg(64410);function eH(eu){switch(eu.type){case void 0:return eu;case"JsonRpcProvider":return new eF.r({...eu.args});case"FailoverRpcProvider":{let ed=(eu?.args||[]).map(eu=>new eF.r(eu));return new e$.z(ed)}default:throw Error(`Unknown provider type ${eu.type}`)}}function eV(eu){switch(eu.type){case void 0:return eu;case"KeyPairSigner":return new ej.e(eu.keyPair);default:throw Error(`Unknown signer type ${eu.type}`)}}class eG{networkId;provider;signer;constructor(eu,ed,eg){let em=eK("new Connection(networkId, provider, signer)");em("`Connection` is no longer used anywhere, please switch to constructing `Account` without it - use `new Account(accountId, provider, signer)`"),this.networkId=eu,this.provider=ed,this.signer=eg}getConnection(){return this}static fromConfig(eu){let ed=eH(eu.provider),eg=eV(eu.signer);return new eG(eu.networkId,ed,eg)}}var eW=eg(48834).Buffer;function eJ(eu){return JSON.parse(eW.from(eu).toString())}function eZ(eu){return eW.from(JSON.stringify(eu))}function eY(eu){let ed=void 0!==eu.byteLength&&eu.byteLength===eu.length;if(!ed&&(Array.isArray(eu)||"object"!=typeof eu))throw new eU.h7}async function eX(eu,ed,eg,em={finality:"optimistic"}){let eb=eK("viewState()");eb("It will be removed in the next major release");let{values:ew}=await eu.provider.query({request_type:"view_state",...em,account_id:ed,prefix_base64:eW.from(eg).toString("base64")});return ew.map(({key:eu,value:ed})=>({key:eW.from(eu,"base64"),value:eW.from(ed,"base64")}))}async function eQ(eu,{contractId:ed,methodName:eg,args:em={},parse:eb=eJ,stringify:ew=eZ,blockQuery:e_={finality:"optimistic"}}){let eE=eK("viewFunction()");eE("It will be removed in the next major release"),eY(em);let eA=ew(em),eS=await eu.provider.query({request_type:"call_function",...e_,account_id:ed,method_name:eg,args_base64:eA.toString("base64")});return eS.logs&&(0,eL.uO)({contractId:ed,logs:eS.logs}),eS.result&&eS.result.length>0&&eb(eW.from(eS.result))}var e0=eg(22389),e6=eg(48834).Buffer;let{addKey:e8,createAccount:e5,deleteAccount:e9,deleteKey:e7,deployContract:tu,deployGlobalContract:th,fullAccessKey:td,functionCall:tg,functionCallAccessKey:ty,transfer:tb,useGlobalContract:tw}=e_.c,t_="optimistic",tE="EXECUTED_OPTIMISTIC";class tA{accountId;provider;signer;constructor(eu,ed,eg){this.accountId=eu,this.provider=ed,this.signer=eg}setSigner(eu){this.signer=eu}getSigner(){return this.signer}async getState(){let eu=await this.provider.experimental_protocolConfig({finality:t_}),ed=await this.provider.viewAccount(this.accountId,{finality:t_}),eg=BigInt(eu.runtime_config.storage_amount_per_byte),em=BigInt(ed.storage_usage)*eg,eb=BigInt(ed.locked),ew=BigInt(ed.amount)+eb,e_=ew-(eb>em?eb:em);return{balance:{total:ew,usedOnStorage:em,locked:eb,available:e_},storageUsage:ed.storage_usage,codeHash:ed.code_hash}}async getAccessKey(eu){return this.provider.viewAccessKey(this.accountId,eu,{finality:t_})}async getAccessKeyList(){return this.provider.viewAccessKeyList(this.accountId,{finality:t_})}async getContractCode(){return this.provider.viewContractCode(this.accountId,{finality:t_})}async getContractState(eu){return this.provider.viewContractState(this.accountId,eu,{finality:t_})}async createTransaction(eu,ed,eg){if(!eg)throw Error("Please provide a public key");let eb=em.n.from(eg),ew=await this.getAccessKey(eb),e_=await this.provider.viewBlock({finality:t_}),eA=e_.header.hash,eS=BigInt(ew.nonce)+1n;return(0,eE._)(this.accountId,eb,eu,eS+1n,ed,(0,eL.HL)(eA))}async createSignedTransaction(eu,ed){if(!this.signer)throw Error("Please set a signer");let eg=await this.createTransaction(eu,ed,await this.signer.getPublicKey()),[,em]=await this.signer.signTransaction(eg);return em}async createMetaTransaction(eu,ed,eg=200,eb){if(!eb)throw Error("Please provide a public key");let ew=em.n.from(eb),e_=await this.getAccessKey(ew),eE=BigInt(e_.nonce)+1n,{header:eA}=await this.provider.viewBlock({finality:t_}),eS=BigInt(eA.height)+BigInt(eg);return eB({receiverId:eu,senderId:this.accountId,actions:ed,publicKey:ew,nonce:eE,maxBlockHeight:eS})}async createSignedMetaTransaction(eu,ed,eg=200){if(!this.signer)throw Error("Please set a signer");let em=await this.createMetaTransaction(eu,ed,eg,await this.signer.getPublicKey());return this.signer.signDelegateAction(em)}async signAndSendTransaction({receiverId:eu,actions:ed,waitUntil:eg=tE,throwOnFailure:em=!0}){let eb=await this.createSignedTransaction(eu,ed),ew=await this.provider.sendTransactionUntil(eb,eg);if(em&&"object"==typeof ew.status&&"object"==typeof ew.status.Failure&&null!==ew.status.Failure)throw(0,eL.N4)(ew);return ew}async signAndSendTransactions({transactions:eu,waitUntil:ed=tE,throwOnFailure:eg=!0}){if(!this.signer)throw Error("Please set a signer");let em=await Promise.all(eu.map(async({receiverId:eu,actions:em})=>this.signAndSendTransaction({receiverId:eu,actions:em,waitUntil:ed,throwOnFailure:eg})));return em}async createAccount(eu,ed,eg="0"){if(eu.endsWith(this.accountId))return this.createSubAccount(eu,ed,eg);let em=eu.split(".");if(2!=em.length)throw Error("newAccountId needs to be of the form <string>.<tla>");let eb=em[1];return this.signAndSendTransaction({receiverId:eb,actions:[tg("create_account",{new_account_id:eu,new_public_key:ed.toString()},BigInt("60000000000000"),BigInt(eg))]})}async createSubAccount(eu,ed,eg="0"){if(!this.signer)throw Error("Please set a signer");let eb=eu.includes(".")?eu:`${eu}.${this.accountId}`;if(eb.length>64)throw Error("Accounts cannot exceed 64 characters");if(!eb.endsWith(this.accountId))throw Error(`New account must end up with ${this.accountId}`);let ew=[e5(),tb(BigInt(eg)),e8(em.n.from(ed),td())];return this.signAndSendTransaction({receiverId:eb,actions:ew})}async deleteAccount(eu){return this.signAndSendTransaction({receiverId:this.accountId,actions:[e9(eu)]})}async deployContract(eu){return this.signAndSendTransaction({receiverId:this.accountId,actions:[tu(eu)]})}async deployGlobalContract(eu,ed){let eg=new eA.kr("codeHash"===ed?{CodeHash:null}:{AccountId:null});return this.signAndSendTransaction({receiverId:this.accountId,actions:[th(eu,eg)]})}async useGlobalContract(eu){let ed=new eA.PM("accountId"in eu?{AccountId:eu.accountId}:{CodeHash:"string"==typeof eu.codeHash?e6.from(eu.codeHash,"hex"):eu.codeHash});return this.signAndSendTransaction({receiverId:this.accountId,actions:[tw(ed)]})}async addFunctionCallAccessKey({publicKey:eu,contractId:ed,methodNames:eg=[],allowance:eb=e0.Vs.toUnits("0.25")}){return this.signAndSendTransaction({receiverId:this.accountId,actions:[e8(em.n.from(eu),ty(ed,eg,BigInt(eb)))]})}async addFullAccessKey(eu){return this.signAndSendTransaction({receiverId:this.accountId,actions:[e8(em.n.from(eu),td())]})}async deleteKey(eu){return this.signAndSendTransaction({receiverId:this.accountId,actions:[e7(em.n.from(eu))]})}async callFunction(eu){let ed=await this.callFunctionRaw(eu);return(0,eL.YS)(ed)}async callFunctionRaw({contractId:eu,methodName:ed,args:eg={},deposit:em="0",gas:eb=eL.Nn,waitUntil:ew=tE}){return await this.signAndSendTransaction({receiverId:eu,actions:[tg(ed,eg,BigInt(eb),BigInt(em))],waitUntil:ew})}async signNep413Message({message:eu,recipient:ed,nonce:eg,callbackUrl:em}){if(!this.signer)throw Error("Please set a signer");return this.signer.signNep413Message(eu,this.accountId,ed,eg,em)}async getBalance(eu=e0.Vs){return eu.getBalance(this)}async transfer({receiverId:eu,amount:ed,token:eg=e0.Vs}){return eg.transfer({from:this,receiverId:eu,amount:ed})}async signedDelegate({actions:eu,blockHeightTtl:ed,receiverId:eg}){let em=eK("Account.signedDelegate()");em("It will be removed in the next major release, please switch to Account.createSignedMetaTransaction()");let{header:eb}=await this.provider.viewBlock({finality:t_});if(!this.signer)throw Error("Please set a signer");let ew=await this.signer.getPublicKey(),e_=await this.getAccessKey(ew),eE=eB({actions:eu,maxBlockHeight:BigInt(eb.height)+BigInt(ed),nonce:BigInt(e_.nonce)+1n,publicKey:ew,receiverId:eg,senderId:this.accountId}),[,eA]=await this.signer.signDelegateAction(eE);return eA}getConnection(){return new eG("",this.provider,this.signer)}validateArgs(eu){let ed=void 0!==eu.byteLength&&eu.byteLength===eu.length;if(!ed&&(Array.isArray(eu)||"object"!=typeof eu))throw new eU.h7}async functionCall({contractId:eu,methodName:ed,args:eg={},gas:em=eL.Nn,attachedDeposit:eb,walletMeta:ew,walletCallbackUrl:eE,stringify:eA}){let eS=eK("Account.functionCall()");eS("It will be removed in the next major release, please switch to Account.callFunction()"),this.validateArgs(eg);let eI=void 0===eA?e_.P:eA,eC=[ed,eg,em,eb,eI,!1];return this.signAndSendTransactionLegacy({receiverId:eu,actions:[tg.apply(void 0,eC)],walletMeta:ew,walletCallbackUrl:eE})}async getTransactionStatus(eu){let ed=eK("Account.getTransactionStatus()");return ed("It will be removed in the next major release, please switch to Provider.viewTransactionStatus()"),this.provider.viewTransactionStatus(eu,this.accountId,"EXECUTED_OPTIMISTIC")}async signTransaction(eu,ed,eg){let em=eK("Account.signTransaction()");em("It will be removed in the next major release, please switch to Account.createSignedTransaction()");let eb=eg?.signer||this.signer;if(!eb)throw Error("Please set a signer");let ew=await eb.getPublicKey(),e_=await this.getAccessKey(ew),eA=await this.provider.viewBlock({finality:t_}),eS=eA.header.hash,eI=BigInt(e_.nonce)+1n,eC=(0,eE._)(this.accountId,ew,eu,eI+1n,ed,(0,eL.HL)(eS));return eb.signTransaction(eC)}async createAndDeployContract(eu,ed,eg,eb){let ew=eK("Account.createAndDeployContract()");ew("It will be removed in the next major release");let e_=td();return await this.signAndSendTransactionLegacy({receiverId:eu,actions:[e5(),tb(eb),e8(em.n.from(ed),e_),tu(eg)]}),new tA(eu,this.provider)}async sendMoney(eu,ed){let eg=eK("Account.sendMoney()");return eg("It will be removed in the next major release, please switch to Account.transfer()"),this.signAndSendTransactionLegacy({receiverId:eu,actions:[tb(ed)]})}async signAndSendTransactionLegacy({receiverId:eu,actions:ed,returnError:eg},em){let ew,e_;let eE=eK("Account.signAndSendTransactionLegacy()");eE("It will be removed in the next major release, please switch to Account.signAndSendTransaction()");let eA=12,eS=500,eI=1.5,eC=await eb(eS,eA,eI,async()=>{[ew,e_]=await this.signTransaction(eu,ed,em);try{return await this.provider.sendTransaction(e_)}catch(ed){if("InvalidNonce"===ed.type)return eL.Yd.warn(`Retrying transaction ${eu}:${(0,eL.yg)(ew)} with new nonce.`),null;if("Expired"===ed.type)return eL.Yd.warn(`Retrying transaction ${eu}:${(0,eL.yg)(ew)} due to expired block hash`),null;throw ed.context=new eU.w5((0,eL.yg)(ew)),ed}});if(!eC)throw new eU.hr("nonce retries exceeded for transaction. This usually means there are too many parallel requests with the same access key.","RetriesExceeded");if((0,eL.CV)({contractId:e_.transaction.receiverId,outcome:eC}),!eg&&"object"==typeof eC.status&&"object"==typeof eC.status.Failure&&null!==eC.status.Failure){if(eC.status.Failure.error_message&&eC.status.Failure.error_type)throw new eU.hr(`Transaction ${eC.transaction_outcome.id} failed. ${eC.status.Failure.error_message}`,eC.status.Failure.error_type);throw(0,eL.N4)(eC)}return eC}accessKeyByPublicKeyCache={};async findAccessKey(eu,ed){let eg=eK("Account.findAccessKey()");if(eg("It will be removed in the next major release"),!this.signer)throw Error("Please set a signer");let em=await this.signer.getPublicKey();if(!em)throw new eU.hr(`no matching key pair found in ${this.signer.constructor.name}`,"PublicKeyNotFound");let eb=this.accessKeyByPublicKeyCache[em.toString()];if(void 0!==eb)return{publicKey:em,accessKey:eb};try{let eu=await this.provider.query({request_type:"view_access_key",account_id:this.accountId,public_key:em.toString(),finality:t_}),ed={...eu,nonce:BigInt(eu.nonce||0)};if(this.accessKeyByPublicKeyCache[em.toString()])return{publicKey:em,accessKey:this.accessKeyByPublicKeyCache[em.toString()]};return this.accessKeyByPublicKeyCache[em.toString()]=ed,{publicKey:em,accessKey:ed}}catch(eu){if("AccessKeyDoesNotExist"==eu.type)return null;throw eu}}async addKey(eu,ed,eg,eb){let ew;let e_=eK("Account.addKey()");return e_("It will be removed in the next major release, please switch to either Account.addFullAccessKey(), or Account.addFunctionAccessKey()"),eg||(eg=[]),Array.isArray(eg)||(eg=[eg]),ew=ed?ty(ed,eg,eb):td(),this.signAndSendTransactionLegacy({receiverId:this.accountId,actions:[e8(em.n.from(eu),ew)]})}async viewFunction(eu){let ed=eK("Account.viewFunction()");return ed("It will be removed in the next major release, please switch to either Provider.callFunction()"),await eQ(this.getConnection(),eu)}async viewState(eu,ed={finality:t_}){let eg=eK("Account.viewState()");return eg("It will be removed in the next major release, please switch to either Account.getContractState()"),await eX(this.getConnection(),this.accountId,eu,ed)}async getAccessKeys(){let eu=eK("Account.getAccessKeys()");eu("It will be removed in the next major release, please switch to either Account.getAccessKeyList()");let ed=await this.provider.query({request_type:"view_access_key_list",account_id:this.accountId,finality:t_});return ed?.keys?.map(eu=>({...eu,access_key:{...eu.access_key,nonce:BigInt(eu.access_key.nonce)}}))}async getAccountDetails(){let eu=await this.getAccessKeys(),ed=eu.filter(eu=>"FullAccess"!==eu.access_key.permission).map(eu=>{let ed=eu.access_key.permission;return{contractId:ed.FunctionCall.receiver_id,amount:ed.FunctionCall.allowance,publicKey:eu.public_key}});return{authorizedApps:ed}}async state(){let eu=eK("Account.state()");return eu("It will be removed in the next major release, please switch to either Account.getState()"),this.provider.query({request_type:"view_account",account_id:this.accountId,finality:"optimistic"})}async getAccountBalance(){let eu=eK("Account.getAccountBalance()");eu("It will be removed in the next major release, please switch to either Account.getState()");let ed=await this.provider.experimental_protocolConfig({finality:t_}),eg=await this.state(),em=BigInt(ed.runtime_config.storage_amount_per_byte),eb=BigInt(eg.storage_usage)*em,ew=BigInt(eg.locked),e_=BigInt(eg.amount)+ew,eE=e_-(ew>eb?ew:eb);return{total:e_.toString(),stateStaked:eb.toString(),staked:ew.toString(),available:eE.toString()}}async getActiveDelegatedStakeBalance(){let eu=eK("Account.getActiveDelegatedStakeBalance()");eu("It will be removed in the next major release");let ed=await this.provider.block({finality:t_}),eg=ed.header.hash,em=ed.header.epoch_id,{current_validators:eb,next_validators:ew,current_proposals:e_}=await this.provider.validators(em),eE=new Set;[...eb,...ew,...e_].forEach(eu=>eE.add(eu.account_id));let eA=[...eE],eS=eA.map(eu=>this.viewFunction({contractId:eu,methodName:"get_account_total_balance",args:{account_id:this.accountId},blockQuery:{blockId:eg}})),eI=await Promise.allSettled(eS),eC=eI.some(eu=>"rejected"===eu.status&&"TimeoutError"===eu.reason.type);if(eC)throw Error("Failed to get delegated stake balance");let eM=eI.reduce((eu,ed,eg)=>{let em=eA[eg];if("fulfilled"===ed.status){let eg=BigInt(ed.value);if(0n!==eg)return{...eu,stakedValidators:[...eu.stakedValidators,{validatorId:em,amount:eg.toString()}],total:eu.total+eg}}return"rejected"===ed.status?{...eu,failedValidators:[...eu.failedValidators,{validatorId:em,error:ed.reason}]}:eu},{stakedValidators:[],failedValidators:[],total:0n});return{...eM,total:eM.total.toString()}}}},62250:function(eu,ed,eg){"use strict";eg.d(ed,{J:function(){return eb},U:function(){return ew}});var em,eb=((em=eb||{})[em.ED25519=0]="ED25519",em[em.SECP256K1=1]="SECP256K1",em);let ew={SECRET_KEY:32,ED25519_PUBLIC_KEY:32,SECP256k1_PUBLIC_KEY:64}},65967:function(eu,ed,eg){"use strict";eg.d(ed,{s:function(){return eC}});var em=eg(27788),eb=eg(79602),ew=eg(46791),e_=eg(95003),eE=eg(97637),eA=eg(62250),eS=eg(66757);class eI extends em.o{publicKey;secretKey;extendedSecretKey;constructor(eu){super();let ed=(0,ew.HL)(eu),eg=new Uint8Array(ed.slice(0,eA.U.SECRET_KEY)),em=eE.publicKeyCreate(new Uint8Array(eg),!1),eb=em.subarray(1,em.length);this.publicKey=new eS.n({keyType:eA.J.SECP256K1,data:eb}),this.secretKey=(0,ew.yg)(eg),this.extendedSecretKey=eu}static fromRandom(){let eu=e_(eA.U.SECRET_KEY),ed=eE.publicKeyCreate(new Uint8Array(eu),!1),eg=ed.subarray(1,ed.length),em=new Uint8Array([...eu,...eg]);return new eI((0,ew.yg)(em))}sign(eu){let{signature:ed,recid:eg}=eE.ecdsaSign(eu,(0,ew.HL)(this.secretKey));return{signature:new Uint8Array([...ed,eg]),publicKey:this.publicKey}}verify(eu,ed){return this.publicKey.verify(eu,ed)}toString(){return`secp256k1:${this.extendedSecretKey}`}getPublicKey(){return this.publicKey}}class eC extends em.o{static fromRandom(eu){switch(eu.toUpperCase()){case"ED25519":return eb.r.fromRandom();case"SECP256K1":return eI.fromRandom();default:throw Error(`Unknown curve ${eu}`)}}static fromString(eu){let ed=eu.split(":");if(2===ed.length)switch(ed[0].toUpperCase()){case"ED25519":return new eb.r(ed[1]);case"SECP256K1":return new eI(ed[1]);default:throw Error(`Unknown curve: ${ed[0]}`)}else throw Error("Invalid encoded key format, must be <curve>:<encoded key>")}}},27788:function(eu,ed,eg){"use strict";eg.d(ed,{o:function(){return em}});class em{}},79602:function(eu,ed,eg){"use strict";eg.d(ed,{r:function(){return eS}});var em=eg(46791),eb=eg(70978),ew=eg(95003),e_=eg(62250),eE=eg(27788),eA=eg(66757);class eS extends eE.o{publicKey;secretKey;extendedSecretKey;constructor(eu){super();let ed=(0,em.HL)(eu),eg=new Uint8Array(ed.slice(0,e_.U.SECRET_KEY)),ew=eb.UN.getPublicKey(new Uint8Array(eg));this.publicKey=new eA.n({keyType:e_.J.ED25519,data:ew}),this.secretKey=(0,em.yg)(eg),this.extendedSecretKey=eu}static fromRandom(){let eu=ew(e_.U.SECRET_KEY),ed=eb.UN.getPublicKey(new Uint8Array(eu)),eg=new Uint8Array([...eu,...ed]);return new eS((0,em.yg)(eg))}sign(eu){let ed=eb.UN.sign(eu,(0,em.HL)(this.secretKey));return{signature:ed,publicKey:this.publicKey}}verify(eu,ed){return this.publicKey.verify(eu,ed)}toString(){return`ed25519:${this.extendedSecretKey}`}getPublicKey(){return this.publicKey}}},66757:function(eu,ed,eg){"use strict";eg.d(ed,{n:function(){return eC}});var em=eg(46791),eb=eg(70978),ew=eg(97637),e_=eg(62250);function eE(eu){switch(eu){case e_.J.ED25519:return"ed25519";case e_.J.SECP256K1:return"secp256k1";default:throw Error(`Unknown key type ${eu}`)}}function eA(eu){switch(eu.toLowerCase()){case"ed25519":return e_.J.ED25519;case"secp256k1":return e_.J.SECP256K1;default:throw Error(`Unknown key type ${eu}`)}}function eS(eu){switch(eu){case e_.J.ED25519:return"ed25519Key";case e_.J.SECP256K1:return"secp256k1Key";default:throw Error(`unknown type ${eu}`)}}class eI{constructor(eu){if(1!==Object.keys(eu).length)throw Error("Enum can only take single value");Object.keys(eu).map(ed=>{this[ed]=eu[ed]})}}class eC extends eI{enum;ed25519Key;secp256k1Key;constructor(eu){let ed=eS(eu.keyType);super({[ed]:eu}),this[ed]=eu,this.enum=ed}static from(eu){return"string"==typeof eu?eC.fromString(eu):eu}static fromString(eu){let ed,eg;let eb=eu.split(":");if(1===eb.length)ed=eb[0];else if(2===eb.length)ed=eb[1],eg=eA(eb[0]);else throw Error("Invalid encoded key format, must be <curve>:<encoded key>");let ew=(0,em.HL)(ed);eg||(eg=ew.length===e_.U.SECP256k1_PUBLIC_KEY?e_.J.SECP256K1:e_.J.ED25519);let eE=eg===e_.J.ED25519?e_.U.ED25519_PUBLIC_KEY:e_.U.SECP256k1_PUBLIC_KEY;if(ew.length!==eE)throw Error(`Invalid public key size (${ew.length}), must be ${eE}`);return new eC({keyType:eg,data:ew})}toString(){let eu=(0,em.yg)(this.data);return`${eE(this.keyType)}:${eu}`}verify(eu,ed){let eg=this.keyType,em=this.data;switch(eg){case e_.J.ED25519:return eb.UN.verify(ed,eu,em);case e_.J.SECP256K1:return ew.ecdsaVerify(ed.subarray(0,64),eu,new Uint8Array([4,...em]));default:throw Error(`Unknown key type: ${eg}`)}}get keyPair(){return this.ed25519Key||this.secp256k1Key}get keyType(){return this.keyPair.keyType}get data(){return this.keyPair.data}}},61981:function(eu,ed,eg){"use strict";eg.d(ed,{X:function(){return e_}});var em=eg(65967),eb=eg(33634);let ew="near-api-js:keystore:";class e_ extends eb.t{localStorage;prefix;constructor(eu=window.localStorage,ed=ew){super(),this.localStorage=eu,this.prefix=ed}async setKey(eu,ed,eg){this.localStorage.setItem(this.storageKeyForSecretKey(eu,ed),eg.toString())}async getKey(eu,ed){let eg=this.localStorage.getItem(this.storageKeyForSecretKey(eu,ed));return eg?em.s.fromString(eg):null}async removeKey(eu,ed){this.localStorage.removeItem(this.storageKeyForSecretKey(eu,ed))}async clear(){for(let eu of this.storageKeys())eu.startsWith(this.prefix)&&this.localStorage.removeItem(eu)}async getNetworks(){let eu=new Set;for(let ed of this.storageKeys())if(ed.startsWith(this.prefix)){let eg=ed.substring(this.prefix.length).split(":");eu.add(eg[1])}return Array.from(eu.values())}async getAccounts(eu){let ed=[];for(let eg of this.storageKeys())if(eg.startsWith(this.prefix)){let em=eg.substring(this.prefix.length).split(":");em[1]===eu&&ed.push(em[0])}return ed}storageKeyForSecretKey(eu,ed){return`${this.prefix}${ed}:${eu}`}*storageKeys(){for(let eu=0;eu<this.localStorage.length;eu++)yield this.localStorage.key(eu)}}},69730:function(eu,ed,eg){"use strict";eg.d(ed,{T:function(){return ew}});var em=eg(65967),eb=eg(33634);class ew extends eb.t{keys;constructor(){super(),this.keys={}}async setKey(eu,ed,eg){this.keys[`${ed}:${eu}`]=eg.toString()}async getKey(eu,ed){let eg=this.keys[`${ed}:${eu}`];return eg?em.s.fromString(eg):null}async removeKey(eu,ed){delete this.keys[`${ed}:${eu}`]}async clear(){this.keys={}}async getNetworks(){let eu=new Set;return Object.keys(this.keys).forEach(ed=>{let eg=ed.split(":");eu.add(eg[1])}),Array.from(eu.values())}async getAccounts(eu){let ed=[];return Object.keys(this.keys).forEach(eg=>{let em=eg.split(":");em[em.length-1]===eu&&ed.push(em.slice(0,em.length-1).join(":"))}),ed}toString(){return"InMemoryKeyStore"}}},33634:function(eu,ed,eg){"use strict";eg.d(ed,{t:function(){return em}});class em{}},89268:function(eu,ed,eg){"use strict";eg.d(ed,{z:function(){return ew}});var em=eg(46791),eb=eg(68564);class ew{providers;currentProviderIndex;constructor(eu){if(0===eu.length)throw Error("At least one provider must be specified");this.providers=eu,this.currentProviderIndex=0}switchToNextProvider(){1!==this.providers.length&&(this.providers.length-1<=this.currentProviderIndex?this.currentProviderIndex=0:this.currentProviderIndex+=1,em.Yd.debug(`Switched to provider at the index ${this.currentProviderIndex}`))}get currentProvider(){let eu=this.providers[this.currentProviderIndex];if(!eu)throw Error(`Provider wasn't found at index ${this.currentProviderIndex}`);return eu}async withBackoff(eu){for(let ed=0;ed<this.providers.length;ed++)try{let ed=await eu(this.currentProvider);if(ed)return ed}catch(eu){console.error(eu),this.switchToNextProvider()}throw new eb.hr(`Exceeded ${this.providers.length} providers to execute request`,"RetriesExceeded")}async status(){return this.withBackoff(eu=>eu.status())}async getNetworkId(){return this.withBackoff(eu=>eu.getNetworkId())}async getCurrentEpochSeatPrice(){return this.withBackoff(eu=>eu.getCurrentEpochSeatPrice())}async getNextEpochSeatPrice(){return this.withBackoff(eu=>eu.getNextEpochSeatPrice())}async viewAccessKey(eu,ed,eg){return this.withBackoff(em=>em.viewAccessKey(eu,ed,eg))}async viewAccessKeyList(eu,ed){return this.withBackoff(eg=>eg.viewAccessKeyList(eu,ed))}async viewAccount(eu,ed){return this.withBackoff(eg=>eg.viewAccount(eu,ed))}async viewContractCode(eu,ed){return this.withBackoff(eg=>eg.viewContractCode(eu,ed))}async viewContractState(eu,ed,eg){return this.withBackoff(em=>em.viewContractState(eu,ed,eg))}async callFunction(eu,ed,eg,em){return this.withBackoff(eb=>eb.callFunction(eu,ed,eg,em))}async callFunctionRaw(eu,ed,eg,em){return this.withBackoff(eb=>eb.callFunctionRaw(eu,ed,eg,em))}async viewBlock(eu){return this.withBackoff(ed=>ed.viewBlock(eu))}async viewChunk(eu){return this.withBackoff(ed=>ed.viewChunk(eu))}async viewGasPrice(eu){return this.withBackoff(ed=>ed.viewGasPrice(eu))}async viewNodeStatus(){return this.withBackoff(eu=>eu.viewNodeStatus())}async viewValidators(eu){return this.withBackoff(ed=>ed.viewValidators(eu))}async viewTransactionStatus(eu,ed,eg){return this.withBackoff(em=>em.viewTransactionStatus(eu,ed,eg))}async viewTransactionStatusWithReceipts(eu,ed,eg){return this.withBackoff(em=>em.viewTransactionStatusWithReceipts(eu,ed,eg))}async viewTransactionReceipt(eu){return this.withBackoff(ed=>ed.viewTransactionReceipt(eu))}async sendTransactionUntil(eu,ed){return this.withBackoff(eg=>eg.sendTransactionUntil(eu,ed))}async sendTransaction(eu){return this.withBackoff(ed=>ed.sendTransaction(eu))}async sendTransactionAsync(eu){return this.withBackoff(ed=>ed.sendTransactionAsync(eu))}async txStatus(eu,ed,eg){return this.withBackoff(em=>em.txStatus(eu,ed,eg))}async txStatusReceipts(eu,ed,eg){return this.withBackoff(em=>em.txStatusReceipts(eu,ed,eg))}async query(eu,ed){return ed?this.withBackoff(eg=>eg.query(eu,ed)):this.withBackoff(ed=>ed.query(eu))}async block(eu){return this.withBackoff(ed=>ed.block(eu))}async blockChanges(eu){return this.withBackoff(ed=>ed.blockChanges(eu))}async chunk(eu){return this.withBackoff(ed=>ed.chunk(eu))}async validators(eu){return this.withBackoff(ed=>ed.validators(eu))}async experimental_protocolConfig(eu){return this.withBackoff(ed=>ed.experimental_protocolConfig(eu))}async lightClientProof(eu){return this.withBackoff(ed=>ed.lightClientProof(eu))}async nextLightClientBlock(eu){return this.withBackoff(ed=>ed.nextLightClientBlock(eu))}async accessKeyChanges(eu,ed){return this.withBackoff(eg=>eg.accessKeyChanges(eu,ed))}async singleAccessKeyChanges(eu,ed){return this.withBackoff(eg=>eg.singleAccessKeyChanges(eu,ed))}async accountChanges(eu,ed){return this.withBackoff(eg=>eg.accountChanges(eu,ed))}async contractStateChanges(eu,ed,eg=""){return this.withBackoff(em=>em.contractStateChanges(eu,ed,eg))}async contractCodeChanges(eu,ed){return this.withBackoff(eg=>eg.contractCodeChanges(eu,ed))}async gasPrice(eu){return this.withBackoff(ed=>ed.gasPrice(eu))}}},24133:function(eu,ed,eg){"use strict";eg.d(ed,{r:function(){return eR}});var em=eg(46791),eb=eg(68564),ew=eg(90464),e_=eg(40199);let eE=1.5,eA=10,eS=0;function eI(eu=eA,ed=eE,eg=eS){return{numOfAttempts:eu,timeMultiple:ed,startingDelay:eg,retry:eu=>!!([503,500,408].includes(eu.cause)||eu.toString().includes("FetchError")||eu.toString().includes("Failed to fetch"))}}class eC extends Error{cause;constructor(eu,ed){super(eu,ed),ed.cause&&(this.cause=ed.cause)}}async function eM(eu,ed,eg,em){let ew=await (0,e_.backOff)(async()=>{let em=await fetch(eu,{method:"POST",body:JSON.stringify(ed),headers:{...eg,"Content-Type":"application/json"}}),{ok:eb,status:ew}=em;if(500===ew)throw new eC("Internal server error",{cause:ew});if(408===ew)throw new eC("Timeout error",{cause:ew});if(400===ew)throw new eC("Request validation error",{cause:ew});if(503===ew)throw new eC(`${eu} unavailable`,{cause:ew});if(!eb)throw new eC(await em.text(),{cause:ew});return em},em);if(!ew)throw new eb.hr(`Exceeded ${eA} attempts for ${eu}.`,"RetriesExceeded");return await ew.json()}var eO=eg(48834).Buffer;let eT=12,eP=500,eN=1.5,ek=123;class eR{connection;options;networkId;constructor(eu,ed){this.connection=eu||{url:""};let eg={retries:eT,wait:eP,backoff:eN};this.options=Object.assign({},eg,ed),this.networkId=void 0}async getNetworkId(){if(this.networkId)return this.networkId;let{chain_id:eu}=await this.viewNodeStatus();return this.networkId=eu,this.networkId}async getCurrentEpochSeatPrice(){let{minimum_stake_ratio:eu,protocol_version:ed}=await this.experimental_protocolConfig({finality:"final"}),{current_validators:eg}=await this.viewValidators(),eb=300;return(0,em.Sd)(eg,eb,eu,ed)}async getNextEpochSeatPrice(){let{minimum_stake_ratio:eu,protocol_version:ed}=await this.experimental_protocolConfig({finality:"final"}),{next_validators:eg}=await this.viewValidators(),eb=300;return(0,em.Sd)(eg,eb,eu,ed)}async viewAccessKey(eu,ed,eg={finality:"final"}){let em=await this.query({...eg,request_type:"view_access_key",account_id:eu,public_key:ed.toString()});return{...em,nonce:BigInt(em.nonce)}}async viewAccessKeyList(eu,ed={finality:"final"}){return this.query({...ed,request_type:"view_access_key_list",account_id:eu})}async viewAccount(eu,ed={finality:"final"}){let eg=await this.query({...ed,request_type:"view_account",account_id:eu});return{...eg,amount:BigInt(eg.amount),locked:BigInt(eg.locked)}}async viewContractCode(eu,ed={finality:"final"}){let eg=await this.query({...ed,request_type:"view_code",account_id:eu});return{...eg,code:new Uint8Array(eO.from(eg.code_base64,"base64"))}}async viewContractState(eu,ed,eg={finality:"final"}){let em=eO.from(ed||"").toString("base64");return this.query({...eg,request_type:"view_state",account_id:eu,prefix_base64:em})}async callFunction(eu,ed,eg,em={finality:"final"}){let{result:eb}=await this.callFunctionRaw(eu,ed,eg,em);if(0===eb.length)return;let ew=eO.from(eb).toString();try{return JSON.parse(ew)}catch{return ew}}async callFunctionRaw(eu,ed,eg,em={finality:"final"}){let eb=eO.from(JSON.stringify(eg)).toString("base64");return await this.query({...em,request_type:"call_function",account_id:eu,method_name:ed,args_base64:eb})}async viewBlock(eu){let{finality:ed}=eu,{blockId:eg}=eu;return this.sendJsonRpc("block",{block_id:eg,finality:ed})}async viewChunk(eu){return this.sendJsonRpc("chunk",[eu])}async viewGasPrice(eu){return this.sendJsonRpc("gas_price",[eu||null])}async viewNodeStatus(){return this.sendJsonRpc("status",[])}async viewValidators(eu){return this.sendJsonRpc("validators",[eu||null])}async viewTransactionStatus(eu,ed,eg){let eb="string"==typeof eu?eu:(0,em.yg)(eu);return this.sendJsonRpc("tx",{tx_hash:eb,sender_account_id:ed,wait_until:eg})}async viewTransactionStatusWithReceipts(eu,ed,eg){let eb="string"==typeof eu?eu:(0,em.yg)(eu);return this.sendJsonRpc("EXPERIMENTAL_tx_status",{tx_hash:eb,sender_account_id:ed,wait_until:eg})}async viewTransactionReceipt(eu){return this.sendJsonRpc("EXPERIMENTAL_receipt",{receipt_id:eu})}async status(){return this.sendJsonRpc("status",[])}async sendTransactionUntil(eu,ed){let eg=(0,ew.SC)(eu);return this.sendJsonRpc("send_tx",{signed_tx_base64:eO.from(eg).toString("base64"),wait_until:ed})}async sendTransaction(eu){return this.sendTransactionUntil(eu,"EXECUTED_OPTIMISTIC")}async sendTransactionAsync(eu){return this.sendTransactionUntil(eu,"NONE")}async txStatus(eu,ed,eg="EXECUTED_OPTIMISTIC"){return"string"==typeof eu?this.txStatusString(eu,ed,eg):this.txStatusUint8Array(eu,ed,eg)}async txStatusUint8Array(eu,ed,eg){return this.sendJsonRpc("tx",{tx_hash:(0,em.yg)(eu),sender_account_id:ed,wait_until:eg})}async txStatusString(eu,ed,eg){return this.sendJsonRpc("tx",{tx_hash:eu,sender_account_id:ed,wait_until:eg})}async txStatusReceipts(eu,ed,eg="EXECUTED_OPTIMISTIC"){return"string"==typeof eu?this.sendJsonRpc("EXPERIMENTAL_tx_status",{tx_hash:eu,sender_account_id:ed,wait_until:eg}):this.sendJsonRpc("EXPERIMENTAL_tx_status",{tx_hash:(0,em.yg)(eu),sender_account_id:ed,wait_until:eg})}async query(...eu){let ed;if(1===eu.length){let{block_id:eg,blockId:em,...eb}=eu[0];ed=await this.sendJsonRpc("query",{...eb,block_id:eg||em})}else{let[eg,em]=eu;ed=await this.sendJsonRpc("query",[eg,em])}if(ed&&ed.error)throw new eb.hr(`Querying failed: ${ed.error}.
${JSON.stringify(ed,null,2)}`,(0,em.BE)(ed.error,ed.error.name));return ed}async block(eu){let{finality:ed}=eu,{blockId:eg}=eu;return this.sendJsonRpc("block",{block_id:eg,finality:ed})}async blockChanges(eu){let{finality:ed}=eu,{blockId:eg}=eu;return this.sendJsonRpc("EXPERIMENTAL_changes_in_block",{block_id:eg,finality:ed})}async chunk(eu){return this.sendJsonRpc("chunk",[eu])}async validators(eu){return this.sendJsonRpc("validators",[eu])}async experimental_protocolConfig(eu){let{blockId:ed,...eg}=eu;return await this.sendJsonRpc("EXPERIMENTAL_protocol_config",{...eg,block_id:ed})}async lightClientProof(eu){return await this.sendJsonRpc("EXPERIMENTAL_light_client_proof",eu)}async nextLightClientBlock(eu){return await this.sendJsonRpc("next_light_client_block",eu)}async accessKeyChanges(eu,ed){let{finality:eg}=ed,{blockId:em}=ed;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"all_access_key_changes",account_ids:eu,block_id:em,finality:eg})}async singleAccessKeyChanges(eu,ed){let{finality:eg}=ed,{blockId:em}=ed;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"single_access_key_changes",keys:eu,block_id:em,finality:eg})}async accountChanges(eu,ed){let{finality:eg}=ed,{blockId:em}=ed;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"account_changes",account_ids:eu,block_id:em,finality:eg})}async contractStateChanges(eu,ed,eg=""){let{finality:em}=ed,{blockId:eb}=ed;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"data_changes",account_ids:eu,key_prefix_base64:eg,block_id:eb,finality:em})}async contractCodeChanges(eu,ed){let{finality:eg}=ed,{blockId:em}=ed;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"contract_code_changes",account_ids:eu,block_id:em,finality:eg})}async gasPrice(eu){return await this.sendJsonRpc("gas_price",[eu])}async sendJsonRpc(eu,ed){let eg={method:eu,params:ed,id:ek++,jsonrpc:"2.0"},ew=await eM(this.connection.url,eg,this.connection.headers||{},eI(this.options.retries,this.options.backoff,this.options.wait));if(ew.error){if("object"==typeof ew.error.data){if("string"==typeof ew.error.data.error_message&&"string"==typeof ew.error.data.error_type)throw new eb.hr(ew.error.data.error_message,ew.error.data.error_type);throw(0,em.wM)(ew.error.data)}{let eu=`[${ew.error.code}] ${ew.error.message}: ${ew.error.data}`,eg=(0,em.BE)(ew.error.data,"");if(eg)throw new eb.hr((0,em.Z)(eg,ed),eg);throw new eb.hr(eu,ew.error.name)}}if("string"==typeof ew.result?.error){let eu=(0,em.BE)(ew.result.error,"");if(eu)throw new em.nl((0,em.Z)(eu,ed),eu)}let{result:e_}=ew;if(void 0===e_)throw new eb.hr(`Exceeded ${this.options.retries} attempts for request to ${eu}.`,"RetriesExceeded");return e_}}},79036:function(eu,ed,eg){"use strict";eg.d(ed,{e:function(){return eW}});var em=eg(65967),eb=eg(62250),ew=eg(53929);let e_={struct:{message:"string",nonce:{array:{type:"u8",len:32}},recipient:"string",callbackUrl:{option:"string"}}};class eE{}var eA=eg(90464),eS=eg(59455),eI=eg(30958),eC=["u8","u16","u32","u64","u128","i8","i16","i32","i64","i128","f32","f64"],eM=function(){function eu(){this.offset=0,this.buffer_size=256,this.buffer=new ArrayBuffer(this.buffer_size),this.view=new DataView(this.buffer)}return eu.prototype.resize_if_necessary=function(eu){if(this.buffer_size-this.offset<eu){this.buffer_size=Math.max(2*this.buffer_size,this.buffer_size+eu);var ed=new ArrayBuffer(this.buffer_size);new Uint8Array(ed).set(new Uint8Array(this.buffer)),this.buffer=ed,this.view=new DataView(ed)}},eu.prototype.get_used_buffer=function(){return new Uint8Array(this.buffer).slice(0,this.offset)},eu.prototype.store_value=function(eu,ed){var eg=ed.substring(1),em=parseInt(eg)/8;this.resize_if_necessary(em);var eb="f"===ed[0]?"setFloat".concat(eg):"i"===ed[0]?"setInt".concat(eg):"setUint".concat(eg);this.view[eb](this.offset,eu,!0),this.offset+=em},eu.prototype.store_bytes=function(eu){this.resize_if_necessary(eu.length),new Uint8Array(this.buffer).set(new Uint8Array(eu),this.offset),this.offset+=eu.length},eu}(),eO=function(){function eu(eu){this.offset=0,this.buffer_size=eu.length,this.buffer=new ArrayBuffer(eu.length),new Uint8Array(this.buffer).set(eu),this.view=new DataView(this.buffer)}return eu.prototype.assert_enough_buffer=function(eu){if(this.offset+eu>this.buffer.byteLength)throw Error("Error in schema, the buffer is smaller than expected")},eu.prototype.consume_value=function(eu){var ed=eu.substring(1),eg=parseInt(ed)/8;this.assert_enough_buffer(eg);var em="f"===eu[0]?"getFloat".concat(ed):"i"===eu[0]?"getInt".concat(ed):"getUint".concat(ed),eb=this.view[em](this.offset,!0);return this.offset+=eg,eb},eu.prototype.consume_bytes=function(eu){this.assert_enough_buffer(eu);var ed=this.buffer.slice(this.offset,this.offset+eu);return this.offset+=eu,ed},eu}(),eT=function(){var eu=function(ed,eg){return(eu=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(eu,ed){eu.__proto__=ed}||function(eu,ed){for(var eg in ed)Object.prototype.hasOwnProperty.call(ed,eg)&&(eu[eg]=ed[eg])})(ed,eg)};return function(ed,eg){if("function"!=typeof eg&&null!==eg)throw TypeError("Class extends value "+String(eg)+" is not a constructor or null");function em(){this.constructor=ed}eu(ed,eg),ed.prototype=null===eg?Object.create(eg):(em.prototype=eg.prototype,new em)}}();function eP(eu){return Array.isArray(eu)||!!eu&&"object"==typeof eu&&"length"in eu&&"number"==typeof eu.length&&(0===eu.length||eu.length>0&&eu.length-1 in eu)}function eN(eu,ed,eg){if(typeof eu!==ed)throw Error("Expected ".concat(ed," not ").concat(typeof eu,"(").concat(eu,") at ").concat(eg.join(".")))}function ek(eu,ed){var eg=["number","string","bigint","boolean"].includes(typeof eu),em="object"==typeof eu&&null!==eu&&"toString"in eu;if(!eg&&!em)throw Error("Expected bigint, number, boolean or string not ".concat(typeof eu,"(").concat(eu,") at ").concat(ed.join(".")))}function eR(eu,ed,eg){if(eu!==ed)throw Error("Array length ".concat(eu," does not match schema length ").concat(ed," at ").concat(eg.join(".")))}function eD(eu,ed){if("object"!=typeof eu||null===eu)throw Error("Expected object not ".concat(typeof eu,"(").concat(eu,") at ").concat(ed.join(".")))}var eB=eC.concat(["bool","string"]),eU=["option","enum","array","set","map","struct"],eL=function(eu){function ed(ed,eg){var em="Invalid schema: ".concat(JSON.stringify(ed)," expected ").concat(eg);return eu.call(this,em)||this}return eT(ed,eu),ed}(Error);function ej(eu){if(!("string"==typeof eu&&eB.includes(eu))){if(eu&&"object"==typeof eu){var ed=Object.keys(eu);if(1===ed.length&&eU.includes(ed[0])){var eg=ed[0];if("option"===eg)return ej(eu[eg]);if("enum"===eg)return eF(eu[eg]);if("array"===eg)return e$(eu[eg]);if("set"===eg)return ej(eu[eg]);if("map"===eg)return eK(eu[eg]);if("struct"===eg)return eH(eu[eg])}}throw new eL(eu,eU.join(", ")+" or "+eB.join(", "))}}function eF(eu){if(!Array.isArray(eu))throw new eL(eu,"Array");for(var ed=0,eg=eu;ed<eg.length;ed++){var em=eg[ed];if("object"!=typeof em||!("struct"in em))throw Error('Missing "struct" key in enum schema');if("object"!=typeof em.struct||1!==Object.keys(em.struct).length)throw Error('The "struct" in each enum must have a single key');ej({struct:em.struct})}}function e$(eu){if("object"!=typeof eu)throw new eL(eu,"{ type, len? }");if(eu.len&&"number"!=typeof eu.len)throw Error("Invalid schema: ".concat(eu));if("type"in eu)return ej(eu.type);throw new eL(eu,"{ type, len? }")}function eK(eu){if("object"==typeof eu&&"key"in eu&&"value"in eu)ej(eu.key),ej(eu.value);else throw new eL(eu,"{ key, value }")}function eH(eu){if("object"!=typeof eu)throw new eL(eu,"object");for(var ed in eu)ej(eu[ed])}var eV=function(){function eu(eu){this.encoded=new eM,this.fieldPath=["value"],this.checkTypes=eu}return eu.prototype.encode=function(eu,ed){return this.encode_value(eu,ed),this.encoded.get_used_buffer()},eu.prototype.encode_value=function(eu,ed){if("string"==typeof ed){if(eC.includes(ed))return this.encode_integer(eu,ed);if("string"===ed)return this.encode_string(eu);if("bool"===ed)return this.encode_boolean(eu)}if("object"==typeof ed){if("option"in ed)return this.encode_option(eu,ed);if("enum"in ed)return this.encode_enum(eu,ed);if("array"in ed)return this.encode_array(eu,ed);if("set"in ed)return this.encode_set(eu,ed);if("map"in ed)return this.encode_map(eu,ed);if("struct"in ed)return this.encode_struct(eu,ed)}},eu.prototype.encode_integer=function(eu,ed){var eg=parseInt(ed.substring(1));eg<=32||"f64"==ed?(this.checkTypes&&eN(eu,"number",this.fieldPath),this.encoded.store_value(eu,ed)):(this.checkTypes&&ek(eu,this.fieldPath),this.encode_bigint(BigInt(eu),eg))},eu.prototype.encode_bigint=function(eu,ed){for(var eg=ed/8,em=new Uint8Array(eg),eb=0;eb<eg;eb++)em[eb]=Number(eu&BigInt(255)),eu>>=BigInt(8);this.encoded.store_bytes(new Uint8Array(em))},eu.prototype.encode_string=function(eu){this.checkTypes&&eN(eu,"string",this.fieldPath);var ed=eu;this.encoded.store_value(ed.length,"u32");for(var eg=0;eg<ed.length;eg++)this.encoded.store_value(ed.charCodeAt(eg),"u8")},eu.prototype.encode_boolean=function(eu){this.checkTypes&&eN(eu,"boolean",this.fieldPath),this.encoded.store_value(eu?1:0,"u8")},eu.prototype.encode_option=function(eu,ed){null==eu?this.encoded.store_value(0,"u8"):(this.encoded.store_value(1,"u8"),this.encode_value(eu,ed.option))},eu.prototype.encode_enum=function(eu,ed){this.checkTypes&&eD(eu,this.fieldPath);for(var eg=Object.keys(eu)[0],em=0;em<ed.enum.length;em++){var eb=ed.enum[em];if(eg===Object.keys(eb.struct)[0])return this.encoded.store_value(em,"u8"),this.encode_struct(eu,eb)}throw Error("Enum key (".concat(eg,") not found in enum schema: ").concat(JSON.stringify(ed)," at ").concat(this.fieldPath.join(".")))},eu.prototype.encode_array=function(eu,ed){if(eP(eu))return this.encode_arraylike(eu,ed);if(eu instanceof ArrayBuffer)return this.encode_buffer(eu,ed);throw Error("Expected Array-like not ".concat(typeof eu,"(").concat(eu,") at ").concat(this.fieldPath.join(".")))},eu.prototype.encode_arraylike=function(eu,ed){ed.array.len?eR(eu.length,ed.array.len,this.fieldPath):this.encoded.store_value(eu.length,"u32");for(var eg=0;eg<eu.length;eg++)this.encode_value(eu[eg],ed.array.type)},eu.prototype.encode_buffer=function(eu,ed){ed.array.len?eR(eu.byteLength,ed.array.len,this.fieldPath):this.encoded.store_value(eu.byteLength,"u32"),this.encoded.store_bytes(new Uint8Array(eu))},eu.prototype.encode_set=function(eu,ed){this.checkTypes&&eN(eu,"object",this.fieldPath);var eg=eu instanceof Set?Array.from(eu.values()):Object.values(eu);this.encoded.store_value(eg.length,"u32");for(var em=0,eb=eg;em<eb.length;em++){var ew=eb[em];this.encode_value(ew,ed.set)}},eu.prototype.encode_map=function(eu,ed){this.checkTypes&&eN(eu,"object",this.fieldPath);var eg=eu instanceof Map,em=eg?Array.from(eu.keys()):Object.keys(eu);this.encoded.store_value(em.length,"u32");for(var eb=0,ew=em;eb<ew.length;eb++){var e_=ew[eb];this.encode_value(e_,ed.map.key),this.encode_value(eg?eu.get(e_):eu[e_],ed.map.value)}},eu.prototype.encode_struct=function(eu,ed){this.checkTypes&&eN(eu,"object",this.fieldPath);for(var eg=0,em=Object.keys(ed.struct);eg<em.length;eg++){var eb=em[eg];this.fieldPath.push(eb),this.encode_value(eu[eb],ed.struct[eb]),this.fieldPath.pop()}},eu}();function eG(eu,ed,eg){return void 0===eg&&(eg=!0),eg&&ej(eu),new eV(eg).encode(ed,eu)}!function(){function eu(eu){this.buffer=new eO(eu)}eu.prototype.decode=function(eu){return this.decode_value(eu)},eu.prototype.decode_value=function(eu){if("string"==typeof eu){if(eC.includes(eu))return this.decode_integer(eu);if("string"===eu)return this.decode_string();if("bool"===eu)return this.decode_boolean()}if("object"==typeof eu){if("option"in eu)return this.decode_option(eu);if("enum"in eu)return this.decode_enum(eu);if("array"in eu)return this.decode_array(eu);if("set"in eu)return this.decode_set(eu);if("map"in eu)return this.decode_map(eu);if("struct"in eu)return this.decode_struct(eu)}throw Error("Unsupported type: ".concat(eu))},eu.prototype.decode_integer=function(eu){var ed=parseInt(eu.substring(1));return ed<=32||"f64"==eu?this.buffer.consume_value(eu):this.decode_bigint(ed,eu.startsWith("i"))},eu.prototype.decode_bigint=function(eu,ed){void 0===ed&&(ed=!1);var eg=eu/8,em=new Uint8Array(this.buffer.consume_bytes(eg)),eb=em.reduceRight(function(eu,ed){return eu+ed.toString(16).padStart(2,"0")},"");return ed&&em[eg-1]?BigInt.asIntN(eu,BigInt("0x".concat(eb))):BigInt("0x".concat(eb))},eu.prototype.decode_string=function(){var eu=this.decode_integer("u32"),ed=new Uint8Array(this.buffer.consume_bytes(eu));return String.fromCharCode.apply(null,ed)},eu.prototype.decode_boolean=function(){return this.buffer.consume_value("u8")>0},eu.prototype.decode_option=function(eu){var ed=this.buffer.consume_value("u8");if(1===ed)return this.decode_value(eu.option);if(0!==ed)throw Error("Invalid option ".concat(ed));return null},eu.prototype.decode_enum=function(eu){var ed,eg=this.buffer.consume_value("u8");if(eg>eu.enum.length)throw Error("Enum option ".concat(eg," is not available"));var em=eu.enum[eg].struct,eb=Object.keys(em)[0];return(ed={})[eb]=this.decode_value(em[eb]),ed},eu.prototype.decode_array=function(eu){for(var ed=[],eg=eu.array.len?eu.array.len:this.decode_integer("u32"),em=0;em<eg;++em)ed.push(this.decode_value(eu.array.type));return ed},eu.prototype.decode_set=function(eu){for(var ed=this.decode_integer("u32"),eg=new Set,em=0;em<ed;++em)eg.add(this.decode_value(eu.set));return eg},eu.prototype.decode_map=function(eu){for(var ed=this.decode_integer("u32"),eg=new Map,em=0;em<ed;++em){var eb=this.decode_value(eu.map.key),ew=this.decode_value(eu.map.value);eg.set(eb,ew)}return eg},eu.prototype.decode_struct=function(eu){var ed={};for(var eg in eu.struct)ed[eg]=this.decode_value(eu.struct[eg]);return ed}}();class eW extends eE{key;constructor(eu){super(),this.key=eu}static fromSecretKey(eu){let ed=em.s.fromString(eu);return new eW(ed)}async getPublicKey(){return this.key.getPublicKey()}async signNep413Message(eu,ed,eg,em,eb){if(32!==em.length)throw Error("Nonce must be exactly 32 bytes long");let eE=this.key.getPublicKey(),eA=2147484061,eS=eG("u32",eA),eI={message:eu,recipient:eg,nonce:em,callbackUrl:eb},eC=eG(e_,eI),eM=new Uint8Array(eS.length+eC.length);eM.set(eS),eM.set(eC,eS.length);let eO=new Uint8Array((0,ew.JQ)(eM)),{signature:eT}=this.key.sign(eO);return{accountId:ed,publicKey:eE,signature:eT}}async signTransaction(eu){let ed=this.key.getPublicKey();if(eu.publicKey.toString()!==ed.toString())throw Error("The public key doesn't match the signer's key");let eg=(0,eA.SC)(eu),em=new Uint8Array((0,ew.JQ)(eg)),{signature:e_}=this.key.sign(em),eE=new eA.uQ({transaction:eu,signature:new eS.P({keyType:eu.publicKey.ed25519Key?eb.J.ED25519:eb.J.SECP256K1,data:e_})});return[em,eE]}async signDelegateAction(eu){let ed=this.key.getPublicKey();if(eu.publicKey.toString()!==ed.toString())throw Error("The public key doesn't match the signer's key");let eg=(0,eA.s4)(eu),em=new Uint8Array((0,ew.JQ)(eg)),{signature:eb}=this.key.sign(em),e_=new eI.Lv({delegateAction:eu,signature:new eS.P({keyType:ed.keyType,data:eb})});return[em,e_]}}},22389:function(eu,ed,eg){"use strict";eg.d(ed,{Vs:function(){return eM}});let em=24;function eb(eu,ed){eu=eS(eu);let eg=eu.substring(0,eu.length-ed)||"0",em=eu.substring(eu.length-ed).substring(0,ed).padStart(ed,"0");return eE(`${eg}.${em}`)}function ew(eu,ed){eu=e_(eu);let eg=eu.split(".");if(eg.length>2)throw Error(`Cannot parse amount '${eu}' as it contains more than a single dot`);let eb=eg[0],ew=eg[1]||"";if(ew.length>em)throw Error(`Cannot parse amount '${eu}' as it exceeds maximum decimal precision of ${em}`);return eA(eb+ew.substring(0,ed).padEnd(ed,"0"))}function e_(eu){return eu.replace(/,/g,".").trim()}function eE(eu){return eu.replace(/\.?0*$/,"")}function eA(eu){return""===(eu=eu.replace(/^0+/,""))?"0":eu}function eS(eu){return BigInt(eu).toString()}class eI{metadata;constructor(eu){this.metadata=eu}toUnits(eu){let ed=ew(eu.toString(),this.metadata.decimals);return BigInt(ed)}toDecimal(eu){return eb(eu,this.metadata.decimals)}}class eC extends eI{constructor(eu){super(eu)}async transfer({from:eu,receiverId:ed,amount:eg}){return eu.signAndSendTransaction({receiverId:ed,actions:[{transfer:{deposit:eg.toString()}}]})}async getBalance(eu){let{balance:{available:ed}}=await eu.getState();return ed}}let eM=new eC({name:"NEAR",decimals:24,symbol:"NEAR",icon:"data:image/svg+xml,%3Csvg%20width%3D%2232%22%20height%3D%2232%22%20viewBox%3D%220%200%2032%2032%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Ccircle%20cx%3D%2216%22%20cy%3D%2216%22%20r%3D%2216%22%20fill%3D%22white%22%3E%3C%2Fcircle%3E%3Cg%20clip-path%3D%22url(%23clip0000000003)%22%3E%3Cpath%20d%3D%22M20.8422%208.84471L17.4978%2013.776C17.4501%2013.847%2017.43%2013.9328%2017.4411%2014.0174C17.4522%2014.102%2017.4938%2014.1798%2017.5582%2014.2363C17.6225%2014.2928%2017.7053%2014.3243%2017.7913%2014.3249C17.8772%2014.3254%2017.9604%2014.2951%2018.0256%2014.2395L21.3178%2011.4036C21.3371%2011.3865%2021.361%2011.3753%2021.3866%2011.3714C21.4122%2011.3675%2021.4383%2011.3711%2021.4619%2011.3818C21.4855%2011.3924%2021.5054%2011.4096%2021.5193%2011.4314C21.5331%2011.4531%2021.5403%2011.4783%2021.54%2011.504V20.3824C21.54%2020.4095%2021.5316%2020.4361%2021.5158%2020.4583C21.5001%2020.4806%2021.4779%2020.4975%2021.4522%2020.5068C21.4265%2020.516%2021.3985%2020.5172%2021.3721%2020.5102C21.3456%2020.5031%2021.322%2020.4882%2021.3044%2020.4673L11.3533%208.63726C11.1933%208.44956%2010.994%208.29873%2010.7693%208.19525C10.5446%208.09178%2010.2999%208.03815%2010.0522%208.03809H9.70444C9.2524%208.03809%208.81887%208.21642%208.49922%208.53386C8.17957%208.8513%208%209.28185%208%209.73078V22.2351C8%2022.684%208.17957%2023.1145%208.49922%2023.432C8.81887%2023.7494%209.2524%2023.9277%209.70444%2023.9277V23.9277C9.99591%2023.9278%2010.2825%2023.8537%2010.537%2023.7125C10.7914%2023.5713%2011.0051%2023.3677%2011.1578%2023.1211L14.5022%2018.1898C14.5499%2018.1188%2014.57%2018.033%2014.5589%2017.9484C14.5478%2017.8638%2014.5062%2017.7861%2014.4418%2017.7295C14.3775%2017.673%2014.2947%2017.6415%2014.2087%2017.641C14.1228%2017.6404%2014.0396%2017.6707%2013.9744%2017.7264L10.6822%2020.5622C10.6629%2020.5794%2010.639%2020.5906%2010.6134%2020.5944C10.5878%2020.5983%2010.5617%2020.5947%2010.5381%2020.5841C10.5145%2020.5734%2010.4946%2020.5562%2010.4807%2020.5345C10.4669%2020.5128%2010.4597%2020.4875%2010.46%2020.4618V11.5813C10.46%2011.5541%2010.4684%2011.5276%2010.4842%2011.5053C10.4999%2011.483%2010.5221%2011.4661%2010.5478%2011.4568C10.5735%2011.4476%2010.6015%2011.4464%2010.6279%2011.4534C10.6544%2011.4605%2010.678%2011.4755%2010.6956%2011.4963L20.6456%2023.3286C20.8056%2023.5163%2021.0049%2023.6671%2021.2296%2023.7706C21.4543%2023.874%2021.699%2023.9277%2021.9467%2023.9277H22.2944C22.5184%2023.9279%2022.7401%2023.8842%2022.947%2023.7992C23.154%2023.7142%2023.342%2023.5895%2023.5004%2023.4324C23.6588%2023.2752%2023.7844%2023.0885%2023.8702%2022.8831C23.9559%2022.6776%2024%2022.4574%2024%2022.2351V9.73078C24%209.28185%2023.8204%208.8513%2023.5008%208.53386C23.1811%208.21642%2022.7476%208.03809%2022.2956%208.03809C22.0041%208.03801%2021.7175%208.11211%2021.4631%208.25332C21.2086%208.39453%2020.9949%208.59814%2020.8422%208.84471V8.84471Z%22%20fill%3D%22black%22%3E%3C%2Fpath%3E%3C%2Fg%3E%3Cdefs%3E%3CclipPath%20id%3D%22clip00033%22%3E%3Crect%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22black%22%20transform%3D%22translate(8%207.9834)%22%3E%3C%2Frect%3E%3C%2FclipPath%3E%3C%2Fdefs%3E%3C%2Fsvg%3E"})},37791:function(eu,ed,eg){"use strict";eg.d(ed,{P:function(){return eS},c:function(){return eD}});var em=eg(30958),eb=eg(48834).Buffer;function ew(){return new em.hc({nonce:0n,permission:new em.xN({fullAccess:new em.yR})})}function e_(eu,ed,eg){return new em.hc({nonce:0n,permission:new em.xN({functionCall:new em.lH({receiverId:eu,allowance:eg,methodNames:ed})})})}function eE(){return new em.aU({createAccount:new em.Rg})}function eA(eu){return new em.aU({deployContract:new em.ki({code:eu})})}function eS(eu){let ed=void 0!==eu.byteLength&&eu.byteLength===eu.length;return ed?eu:eb.from(JSON.stringify(eu))}function eI(eu,ed,eg=0n,eb=0n,ew=eS){return new em.aU({functionCall:new em.lX({methodName:eu,args:ew(ed),gas:eg,deposit:eb})})}function eC(eu=0n){return new em.aU({transfer:new em.FE({deposit:eu})})}function eM(eu=0n,ed){return new em.aU({stake:new em.hj({stake:eu,publicKey:ed})})}function eO(eu,ed){return new em.aU({addKey:new em.xX({publicKey:eu,accessKey:ed})})}function eT(eu){return new em.aU({deleteKey:new em.j8({publicKey:eu})})}function eP(eu){return new em.aU({deleteAccount:new em.aL({beneficiaryId:eu})})}function eN({delegateAction:eu,signature:ed}){return new em.aU({signedDelegate:new em.Lv({delegateAction:eu,signature:ed})})}function ek(eu,ed){return new em.aU({deployGlobalContract:new em.IR({code:eu,deployMode:ed})})}function eR(eu){return new em.aU({useGlobalContract:new em.Z$({contractIdentifier:eu})})}let eD={addKey:eO,createAccount:eE,deleteAccount:eP,deleteKey:eT,deployContract:eA,fullAccessKey:ew,functionCall:eI,functionCallAccessKey:e_,signedDelegate:eN,stake:eM,transfer:eC,deployGlobalContract:ek,useGlobalContract:eR}},30958:function(eu,ed,eg){"use strict";eg.d(ed,{FE:function(){return eP},IR:function(){return eO},Lv:function(){return eB},PM:function(){return eM},Rg:function(){return eA},Z$:function(){return eT},aL:function(){return eD},aU:function(){return eU},hc:function(){return eE},hj:function(){return eN},j8:function(){return eR},ki:function(){return eS},kr:function(){return eC},lH:function(){return eb},lX:function(){return eI},xN:function(){return e_},xX:function(){return ek},yR:function(){return ew}});var em=eg(96320);class eb{allowance;receiverId;methodNames;constructor({allowance:eu,receiverId:ed,methodNames:eg}){this.allowance=eu,this.receiverId=ed,this.methodNames=eg}}class ew{}class e_ extends em.x{enum;functionCall;fullAccess;constructor(eu){for(let[ed,eg]of(super(eu),Object.entries(eu||{})))this[ed]=eg,this.enum=ed}}class eE{nonce;permission;constructor({nonce:eu,permission:ed}){this.nonce=eu,this.permission=ed}}class eA{}class eS{code;constructor({code:eu}){this.code=eu}}class eI{methodName;args;gas;deposit;constructor({methodName:eu,args:ed,gas:eg,deposit:em}){this.methodName=eu,this.args=ed,this.gas=eg,this.deposit=em}}class eC extends em.x{enum;CodeHash;AccountId;constructor(eu){for(let[ed,eg]of(super(eu),Object.entries(eu||{})))this[ed]=eg,this.enum=ed}}class eM extends em.x{enum;CodeHash;AccountId;constructor(eu){for(let[ed,eg]of(super(eu),Object.entries(eu||{})))this[ed]=eg,this.enum=ed}}class eO{code;deployMode;constructor({code:eu,deployMode:ed}){this.code=eu,this.deployMode=ed}}class eT{contractIdentifier;constructor({contractIdentifier:eu}){this.contractIdentifier=eu}}class eP{deposit;constructor({deposit:eu}){this.deposit=eu}}class eN{stake;publicKey;constructor({stake:eu,publicKey:ed}){this.stake=eu,this.publicKey=ed}}class ek{publicKey;accessKey;constructor({publicKey:eu,accessKey:ed}){this.publicKey=eu,this.accessKey=ed}}class eR{publicKey;constructor({publicKey:eu}){this.publicKey=eu}}class eD{beneficiaryId;constructor({beneficiaryId:eu}){this.beneficiaryId=eu}}class eB{delegateAction;signature;constructor({delegateAction:eu,signature:ed}){this.delegateAction=eu,this.signature=ed}}class eU extends em.x{enum;createAccount;deployContract;functionCall;transfer;stake;addKey;deleteKey;deleteAccount;signedDelegate;deployGlobalContract;useGlobalContract;constructor(eu){for(let[ed,eg]of(super(eu),Object.entries(eu||{})))this[ed]=eg,this.enum=ed}}},9005:function(eu,ed,eg){"use strict";eg.d(ed,{_:function(){return eb}});var em=eg(90464);function eb(eu,ed,eg,eb,ew,e_){let eE="bigint"==typeof eb?eb:BigInt(eb);return new em.YW({signerId:eu,publicKey:ed,nonce:eE,receiverId:eg,actions:ew,blockHash:e_})}},90464:function(eu,ed,eg){"use strict";eg.d(ed,{Yi:function(){return eQ},uQ:function(){return eX},YW:function(){return eY},s4:function(){return eG},SC:function(){return eW}});var em=["u8","u16","u32","u64","u128","i8","i16","i32","i64","i128","f32","f64"],eb=function(){function eu(){this.offset=0,this.buffer_size=256,this.buffer=new ArrayBuffer(this.buffer_size),this.view=new DataView(this.buffer)}return eu.prototype.resize_if_necessary=function(eu){if(this.buffer_size-this.offset<eu){this.buffer_size=Math.max(2*this.buffer_size,this.buffer_size+eu);var ed=new ArrayBuffer(this.buffer_size);new Uint8Array(ed).set(new Uint8Array(this.buffer)),this.buffer=ed,this.view=new DataView(ed)}},eu.prototype.get_used_buffer=function(){return new Uint8Array(this.buffer).slice(0,this.offset)},eu.prototype.store_value=function(eu,ed){var eg=ed.substring(1),em=parseInt(eg)/8;this.resize_if_necessary(em);var eb="f"===ed[0]?"setFloat".concat(eg):"i"===ed[0]?"setInt".concat(eg):"setUint".concat(eg);this.view[eb](this.offset,eu,!0),this.offset+=em},eu.prototype.store_bytes=function(eu){this.resize_if_necessary(eu.length),new Uint8Array(this.buffer).set(new Uint8Array(eu),this.offset),this.offset+=eu.length},eu}(),ew=function(){function eu(eu){this.offset=0,this.buffer_size=eu.length,this.buffer=new ArrayBuffer(eu.length),new Uint8Array(this.buffer).set(eu),this.view=new DataView(this.buffer)}return eu.prototype.assert_enough_buffer=function(eu){if(this.offset+eu>this.buffer.byteLength)throw Error("Error in schema, the buffer is smaller than expected")},eu.prototype.consume_value=function(eu){var ed=eu.substring(1),eg=parseInt(ed)/8;this.assert_enough_buffer(eg);var em="f"===eu[0]?"getFloat".concat(ed):"i"===eu[0]?"getInt".concat(ed):"getUint".concat(ed),eb=this.view[em](this.offset,!0);return this.offset+=eg,eb},eu.prototype.consume_bytes=function(eu){this.assert_enough_buffer(eu);var ed=this.buffer.slice(this.offset,this.offset+eu);return this.offset+=eu,ed},eu}(),e_=function(){var eu=function(ed,eg){return(eu=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(eu,ed){eu.__proto__=ed}||function(eu,ed){for(var eg in ed)Object.prototype.hasOwnProperty.call(ed,eg)&&(eu[eg]=ed[eg])})(ed,eg)};return function(ed,eg){if("function"!=typeof eg&&null!==eg)throw TypeError("Class extends value "+String(eg)+" is not a constructor or null");function em(){this.constructor=ed}eu(ed,eg),ed.prototype=null===eg?Object.create(eg):(em.prototype=eg.prototype,new em)}}();function eE(eu){return Array.isArray(eu)||!!eu&&"object"==typeof eu&&"length"in eu&&"number"==typeof eu.length&&(0===eu.length||eu.length>0&&eu.length-1 in eu)}function eA(eu,ed,eg){if(typeof eu!==ed)throw Error("Expected ".concat(ed," not ").concat(typeof eu,"(").concat(eu,") at ").concat(eg.join(".")))}function eS(eu,ed){var eg=["number","string","bigint","boolean"].includes(typeof eu),em="object"==typeof eu&&null!==eu&&"toString"in eu;if(!eg&&!em)throw Error("Expected bigint, number, boolean or string not ".concat(typeof eu,"(").concat(eu,") at ").concat(ed.join(".")))}function eI(eu,ed,eg){if(eu!==ed)throw Error("Array length ".concat(eu," does not match schema length ").concat(ed," at ").concat(eg.join(".")))}function eC(eu,ed){if("object"!=typeof eu||null===eu)throw Error("Expected object not ".concat(typeof eu,"(").concat(eu,") at ").concat(ed.join(".")))}var eM=em.concat(["bool","string"]),eO=["option","enum","array","set","map","struct"],eT=function(eu){function ed(ed,eg){var em="Invalid schema: ".concat(JSON.stringify(ed)," expected ").concat(eg);return eu.call(this,em)||this}return e_(ed,eu),ed}(Error);function eP(eu){if(!("string"==typeof eu&&eM.includes(eu))){if(eu&&"object"==typeof eu){var ed=Object.keys(eu);if(1===ed.length&&eO.includes(ed[0])){var eg=ed[0];if("option"===eg)return eP(eu[eg]);if("enum"===eg)return eN(eu[eg]);if("array"===eg)return ek(eu[eg]);if("set"===eg)return eP(eu[eg]);if("map"===eg)return eR(eu[eg]);if("struct"===eg)return eD(eu[eg])}}throw new eT(eu,eO.join(", ")+" or "+eM.join(", "))}}function eN(eu){if(!Array.isArray(eu))throw new eT(eu,"Array");for(var ed=0,eg=eu;ed<eg.length;ed++){var em=eg[ed];if("object"!=typeof em||!("struct"in em))throw Error('Missing "struct" key in enum schema');if("object"!=typeof em.struct||1!==Object.keys(em.struct).length)throw Error('The "struct" in each enum must have a single key');eP({struct:em.struct})}}function ek(eu){if("object"!=typeof eu)throw new eT(eu,"{ type, len? }");if(eu.len&&"number"!=typeof eu.len)throw Error("Invalid schema: ".concat(eu));if("type"in eu)return eP(eu.type);throw new eT(eu,"{ type, len? }")}function eR(eu){if("object"==typeof eu&&"key"in eu&&"value"in eu)eP(eu.key),eP(eu.value);else throw new eT(eu,"{ key, value }")}function eD(eu){if("object"!=typeof eu)throw new eT(eu,"object");for(var ed in eu)eP(eu[ed])}var eB=function(){function eu(eu){this.encoded=new eb,this.fieldPath=["value"],this.checkTypes=eu}return eu.prototype.encode=function(eu,ed){return this.encode_value(eu,ed),this.encoded.get_used_buffer()},eu.prototype.encode_value=function(eu,ed){if("string"==typeof ed){if(em.includes(ed))return this.encode_integer(eu,ed);if("string"===ed)return this.encode_string(eu);if("bool"===ed)return this.encode_boolean(eu)}if("object"==typeof ed){if("option"in ed)return this.encode_option(eu,ed);if("enum"in ed)return this.encode_enum(eu,ed);if("array"in ed)return this.encode_array(eu,ed);if("set"in ed)return this.encode_set(eu,ed);if("map"in ed)return this.encode_map(eu,ed);if("struct"in ed)return this.encode_struct(eu,ed)}},eu.prototype.encode_integer=function(eu,ed){var eg=parseInt(ed.substring(1));eg<=32||"f64"==ed?(this.checkTypes&&eA(eu,"number",this.fieldPath),this.encoded.store_value(eu,ed)):(this.checkTypes&&eS(eu,this.fieldPath),this.encode_bigint(BigInt(eu),eg))},eu.prototype.encode_bigint=function(eu,ed){for(var eg=ed/8,em=new Uint8Array(eg),eb=0;eb<eg;eb++)em[eb]=Number(eu&BigInt(255)),eu>>=BigInt(8);this.encoded.store_bytes(new Uint8Array(em))},eu.prototype.encode_string=function(eu){this.checkTypes&&eA(eu,"string",this.fieldPath);var ed=eu;this.encoded.store_value(ed.length,"u32");for(var eg=0;eg<ed.length;eg++)this.encoded.store_value(ed.charCodeAt(eg),"u8")},eu.prototype.encode_boolean=function(eu){this.checkTypes&&eA(eu,"boolean",this.fieldPath),this.encoded.store_value(eu?1:0,"u8")},eu.prototype.encode_option=function(eu,ed){null==eu?this.encoded.store_value(0,"u8"):(this.encoded.store_value(1,"u8"),this.encode_value(eu,ed.option))},eu.prototype.encode_enum=function(eu,ed){this.checkTypes&&eC(eu,this.fieldPath);for(var eg=Object.keys(eu)[0],em=0;em<ed.enum.length;em++){var eb=ed.enum[em];if(eg===Object.keys(eb.struct)[0])return this.encoded.store_value(em,"u8"),this.encode_struct(eu,eb)}throw Error("Enum key (".concat(eg,") not found in enum schema: ").concat(JSON.stringify(ed)," at ").concat(this.fieldPath.join(".")))},eu.prototype.encode_array=function(eu,ed){if(eE(eu))return this.encode_arraylike(eu,ed);if(eu instanceof ArrayBuffer)return this.encode_buffer(eu,ed);throw Error("Expected Array-like not ".concat(typeof eu,"(").concat(eu,") at ").concat(this.fieldPath.join(".")))},eu.prototype.encode_arraylike=function(eu,ed){ed.array.len?eI(eu.length,ed.array.len,this.fieldPath):this.encoded.store_value(eu.length,"u32");for(var eg=0;eg<eu.length;eg++)this.encode_value(eu[eg],ed.array.type)},eu.prototype.encode_buffer=function(eu,ed){ed.array.len?eI(eu.byteLength,ed.array.len,this.fieldPath):this.encoded.store_value(eu.byteLength,"u32"),this.encoded.store_bytes(new Uint8Array(eu))},eu.prototype.encode_set=function(eu,ed){this.checkTypes&&eA(eu,"object",this.fieldPath);var eg=eu instanceof Set?Array.from(eu.values()):Object.values(eu);this.encoded.store_value(eg.length,"u32");for(var em=0,eb=eg;em<eb.length;em++){var ew=eb[em];this.encode_value(ew,ed.set)}},eu.prototype.encode_map=function(eu,ed){this.checkTypes&&eA(eu,"object",this.fieldPath);var eg=eu instanceof Map,em=eg?Array.from(eu.keys()):Object.keys(eu);this.encoded.store_value(em.length,"u32");for(var eb=0,ew=em;eb<ew.length;eb++){var e_=ew[eb];this.encode_value(e_,ed.map.key),this.encode_value(eg?eu.get(e_):eu[e_],ed.map.value)}},eu.prototype.encode_struct=function(eu,ed){this.checkTypes&&eA(eu,"object",this.fieldPath);for(var eg=0,em=Object.keys(ed.struct);eg<em.length;eg++){var eb=em[eg];this.fieldPath.push(eb),this.encode_value(eu[eb],ed.struct[eb]),this.fieldPath.pop()}},eu}(),eU=function(){function eu(eu){this.buffer=new ew(eu)}return eu.prototype.decode=function(eu){return this.decode_value(eu)},eu.prototype.decode_value=function(eu){if("string"==typeof eu){if(em.includes(eu))return this.decode_integer(eu);if("string"===eu)return this.decode_string();if("bool"===eu)return this.decode_boolean()}if("object"==typeof eu){if("option"in eu)return this.decode_option(eu);if("enum"in eu)return this.decode_enum(eu);if("array"in eu)return this.decode_array(eu);if("set"in eu)return this.decode_set(eu);if("map"in eu)return this.decode_map(eu);if("struct"in eu)return this.decode_struct(eu)}throw Error("Unsupported type: ".concat(eu))},eu.prototype.decode_integer=function(eu){var ed=parseInt(eu.substring(1));return ed<=32||"f64"==eu?this.buffer.consume_value(eu):this.decode_bigint(ed,eu.startsWith("i"))},eu.prototype.decode_bigint=function(eu,ed){void 0===ed&&(ed=!1);var eg=eu/8,em=new Uint8Array(this.buffer.consume_bytes(eg)),eb=em.reduceRight(function(eu,ed){return eu+ed.toString(16).padStart(2,"0")},"");return ed&&em[eg-1]?BigInt.asIntN(eu,BigInt("0x".concat(eb))):BigInt("0x".concat(eb))},eu.prototype.decode_string=function(){var eu=this.decode_integer("u32"),ed=new Uint8Array(this.buffer.consume_bytes(eu));return String.fromCharCode.apply(null,ed)},eu.prototype.decode_boolean=function(){return this.buffer.consume_value("u8")>0},eu.prototype.decode_option=function(eu){var ed=this.buffer.consume_value("u8");if(1===ed)return this.decode_value(eu.option);if(0!==ed)throw Error("Invalid option ".concat(ed));return null},eu.prototype.decode_enum=function(eu){var ed,eg=this.buffer.consume_value("u8");if(eg>eu.enum.length)throw Error("Enum option ".concat(eg," is not available"));var em=eu.enum[eg].struct,eb=Object.keys(em)[0];return(ed={})[eb]=this.decode_value(em[eb]),ed},eu.prototype.decode_array=function(eu){for(var ed=[],eg=eu.array.len?eu.array.len:this.decode_integer("u32"),em=0;em<eg;++em)ed.push(this.decode_value(eu.array.type));return ed},eu.prototype.decode_set=function(eu){for(var ed=this.decode_integer("u32"),eg=new Set,em=0;em<ed;++em)eg.add(this.decode_value(eu.set));return eg},eu.prototype.decode_map=function(eu){for(var ed=this.decode_integer("u32"),eg=new Map,em=0;em<ed;++em){var eb=this.decode_value(eu.map.key),ew=this.decode_value(eu.map.value);eg.set(eb,ew)}return eg},eu.prototype.decode_struct=function(eu){var ed={};for(var eg in eu.struct)ed[eg]=this.decode_value(eu.struct[eg]);return ed},eu}();function eL(eu,ed,eg){return void 0===eg&&(eg=!0),eg&&eP(eu),new eB(eg).encode(ed,eu)}function ej(eu,ed,eg){return void 0===eg&&(eg=!0),eg&&eP(eu),new eU(ed).decode(eu)}let eF=1073741824,e$={MetaTransactions:366};class eK{prefix;constructor({prefix:eu}){this.prefix=eu}}class eH extends eK{constructor(eu){super({prefix:eF+eu})}}class eV extends eH{constructor(){super(e$.MetaTransactions)}}function eG(eu){return new Uint8Array([...eL(eQ.DelegateActionPrefix,new eV),...eL(eQ.DelegateAction,eu)])}function eW(eu){let ed="signature"in eu?eQ.SignedTransaction:eQ.Transaction;return eL(ed,eu)}function eJ(eu){return new eY(ej(eQ.Transaction,eu))}function eZ(eu){return new eX(ej(eQ.SignedTransaction,eu))}class eY{signerId;publicKey;nonce;receiverId;actions;blockHash;constructor({signerId:eu,publicKey:ed,nonce:eg,receiverId:em,actions:eb,blockHash:ew}){this.signerId=eu,this.publicKey=ed,this.nonce=eg,this.receiverId=em,this.actions=eb,this.blockHash=ew}encode(){return eW(this)}static decode(eu){return eJ(eu)}}class eX{transaction;signature;constructor({transaction:eu,signature:ed}){this.transaction=eu,this.signature=ed}encode(){return eW(this)}static decode(eu){return eZ(eu)}}let eQ=new class{Ed25519Signature={struct:{data:{array:{type:"u8",len:64}}}};Secp256k1Signature={struct:{data:{array:{type:"u8",len:65}}}};Signature={enum:[{struct:{ed25519Signature:this.Ed25519Signature}},{struct:{secp256k1Signature:this.Secp256k1Signature}}]};Ed25519Data={struct:{data:{array:{type:"u8",len:32}}}};Secp256k1Data={struct:{data:{array:{type:"u8",len:64}}}};PublicKey={enum:[{struct:{ed25519Key:this.Ed25519Data}},{struct:{secp256k1Key:this.Secp256k1Data}}]};FunctionCallPermission={struct:{allowance:{option:"u128"},receiverId:"string",methodNames:{array:{type:"string"}}}};FullAccessPermission={struct:{}};AccessKeyPermission={enum:[{struct:{functionCall:this.FunctionCallPermission}},{struct:{fullAccess:this.FullAccessPermission}}]};AccessKey={struct:{nonce:"u64",permission:this.AccessKeyPermission}};CreateAccount={struct:{}};DeployContract={struct:{code:{array:{type:"u8"}}}};FunctionCall={struct:{methodName:"string",args:{array:{type:"u8"}},gas:"u64",deposit:"u128"}};Transfer={struct:{deposit:"u128"}};Stake={struct:{stake:"u128",publicKey:this.PublicKey}};AddKey={struct:{publicKey:this.PublicKey,accessKey:this.AccessKey}};DeleteKey={struct:{publicKey:this.PublicKey}};DeleteAccount={struct:{beneficiaryId:"string"}};GlobalContractDeployMode={enum:[{struct:{CodeHash:{struct:{}}}},{struct:{AccountId:{struct:{}}}}]};GlobalContractIdentifier={enum:[{struct:{CodeHash:{array:{type:"u8",len:32}}}},{struct:{AccountId:"string"}}]};DeployGlobalContract={struct:{code:{array:{type:"u8"}},deployMode:this.GlobalContractDeployMode}};UseGlobalContract={struct:{contractIdentifier:this.GlobalContractIdentifier}};DelegateActionPrefix={struct:{prefix:"u32"}};ClassicActions={enum:[{struct:{createAccount:this.CreateAccount}},{struct:{deployContract:this.DeployContract}},{struct:{functionCall:this.FunctionCall}},{struct:{transfer:this.Transfer}},{struct:{stake:this.Stake}},{struct:{addKey:this.AddKey}},{struct:{deleteKey:this.DeleteKey}},{struct:{deleteAccount:this.DeleteAccount}},{struct:{signedDelegate:"string"}},{struct:{deployGlobalContract:this.DeployGlobalContract}},{struct:{useGlobalContract:this.UseGlobalContract}}]};DelegateAction={struct:{senderId:"string",receiverId:"string",actions:{array:{type:this.ClassicActions}},nonce:"u64",maxBlockHeight:"u64",publicKey:this.PublicKey}};SignedDelegate={struct:{delegateAction:this.DelegateAction,signature:this.Signature}};Action={enum:[{struct:{createAccount:this.CreateAccount}},{struct:{deployContract:this.DeployContract}},{struct:{functionCall:this.FunctionCall}},{struct:{transfer:this.Transfer}},{struct:{stake:this.Stake}},{struct:{addKey:this.AddKey}},{struct:{deleteKey:this.DeleteKey}},{struct:{deleteAccount:this.DeleteAccount}},{struct:{signedDelegate:this.SignedDelegate}},{struct:{deployGlobalContract:this.DeployGlobalContract}},{struct:{useGlobalContract:this.UseGlobalContract}}]};Transaction={struct:{signerId:"string",publicKey:this.PublicKey,nonce:"u64",receiverId:"string",blockHash:{array:{type:"u8",len:32}},actions:{array:{type:this.Action}}}};SignedTransaction={struct:{transaction:this.Transaction,signature:this.Signature}}}},59455:function(eu,ed,eg){"use strict";eg.d(ed,{P:function(){return e_}});var em=eg(62250),eb=eg(96320);function ew(eu){switch(eu){case em.J.ED25519:return"ed25519Signature";case em.J.SECP256K1:return"secp256k1Signature";default:throw Error(`unknown type ${eu}`)}}class e_ extends eb.x{enum;ed25519Signature;secp256k1Signature;constructor(eu){let ed=ew(eu.keyType);super({[ed]:eu}),this[ed]=eu,this.enum=ed}get signature(){return this.ed25519Signature||this.secp256k1Signature}get signatureType(){return this.signature.keyType}get data(){return this.signature.data}}},96320:function(eu,ed,eg){"use strict";eg.d(ed,{x:function(){return em}});class em{constructor(eu){if(1!==Object.keys(eu).length)throw Error("Enum can only take single value");Object.keys(eu).map(ed=>{this[ed]=eu[ed]})}}},68564:function(eu,ed,eg){"use strict";eg.d(ed,{h7:function(){return em},hr:function(){return eb},w5:function(){return ew}});class em extends Error{constructor(){super("Contract method calls expect named arguments wrapped in object, e.g. { argName1: argValue1, argName2: argValue2 }")}}class eb extends Error{type;context;constructor(eu,ed,eg){super(eu),this.type=ed||"UntypedError",this.context=eg}}class ew{transactionHash;constructor(eu){this.transactionHash=eu}}},46791:function(eu,ed,eg){"use strict";eg.d(ed,{BE:function(){return eG},CV:function(){return e0},HL:function(){return eB},N4:function(){return eK},Nn:function(){return eA},Sd:function(){return e9},YS:function(){return e8},Yd:function(){return eQ},Z:function(){return eH},n2:function(){return eO},nl:function(){return ej},s6:function(){return eT},uO:function(){return e6},wM:function(){return e$},yg:function(){return eD}});var em=eg(68564),eb=eg(16599),ew=eg(95253),e_=eg(64410),eE=eg(48834).Buffer,eA=30000000000000n,eS={GasLimitExceeded:"Exceeded the maximum amount of gas allowed to burn per contract",MethodEmptyName:"Method name is empty",WasmerCompileError:"Wasmer compilation error: {{msg}}",GuestPanic:"Smart contract panicked: {{panic_msg}}",Memory:"Error creating Wasm memory",GasExceeded:"Exceeded the prepaid gas",MethodUTF8Error:"Method name is not valid UTF8 string",BadUTF16:"String encoding is bad UTF-16 sequence",WasmTrap:"WebAssembly trap: {{msg}}",GasInstrumentation:"Gas instrumentation failed or contract has denied instructions.",InvalidPromiseIndex:"{{promise_idx}} does not correspond to existing promises",InvalidPromiseResultIndex:"Accessed invalid promise result index: {{result_idx}}",Deserialization:"Error happened while deserializing the module",MethodNotFound:"Contract method is not found",InvalidRegisterId:"Accessed invalid register id: {{register_id}}",InvalidReceiptIndex:"VM Logic returned an invalid receipt index: {{receipt_index}}",EmptyMethodName:"Method name is empty in contract call",CannotReturnJointPromise:"Returning joint promise is currently prohibited",StackHeightInstrumentation:"Stack instrumentation failed",CodeDoesNotExist:"Cannot find contract code for account {{account_id}}",MethodInvalidSignature:"Invalid method signature",IntegerOverflow:"Integer overflow happened during contract execution",MemoryAccessViolation:"MemoryAccessViolation",InvalidIteratorIndex:"Iterator index {{iterator_index}} does not exist",IteratorWasInvalidated:"Iterator {{iterator_index}} was invalidated after its creation by performing a mutable operation on trie",InvalidAccountId:"VM Logic returned an invalid account id",Serialization:"Error happened while serializing the module",CannotAppendActionToJointPromise:"Actions can only be appended to non-joint promise.",InternalMemoryDeclared:"Internal memory declaration has been found in the module",Instantiate:"Error happened during instantiation",ProhibitedInView:"{{method_name}} is not allowed in view calls",InvalidMethodName:"VM Logic returned an invalid method name",BadUTF8:"String encoding is bad UTF-8 sequence",BalanceExceeded:"Exceeded the account balance",LinkError:"Wasm contract link error: {{msg}}",InvalidPublicKey:"VM Logic provided an invalid public key",ActorNoPermission:"Actor {{actor_id}} doesn't have permission to account {{account_id}} to complete the action",LackBalanceForState:"The account {{account_id}} wouldn't have enough balance to cover storage, required to have {{amount}} yoctoNEAR more",ReceiverMismatch:"Wrong AccessKey used for transaction: transaction is sent to receiver_id={{tx_receiver}}, but is signed with function call access key that restricted to only use with receiver_id={{ak_receiver}}. Either change receiver_id in your transaction or switch to use a FullAccessKey.",CostOverflow:"Transaction gas or balance cost is too high",InvalidSignature:"Transaction is not signed with the given public key",AccessKeyNotFound:'Signer "{{account_id}}" doesn\'t have access key with the given public_key {{public_key}}',NotEnoughBalance:"Sender {{signer_id}} does not have enough balance {{#formatNear}}{{balance}}{{/formatNear}} for operation costing {{#formatNear}}{{cost}}{{/formatNear}}",NotEnoughAllowance:"Access Key {account_id}:{public_key} does not have enough balance {{#formatNear}}{{allowance}}{{/formatNear}} for transaction costing {{#formatNear}}{{cost}}{{/formatNear}}",Expired:"Transaction has expired",DeleteAccountStaking:"Account {{account_id}} is staking and can not be deleted",SignerDoesNotExist:"Signer {{signer_id}} does not exist",TriesToStake:"Account {{account_id}} tried to stake {{#formatNear}}{{stake}}{{/formatNear}}, but has staked {{#formatNear}}{{locked}}{{/formatNear}} and only has {{#formatNear}}{{balance}}{{/formatNear}}",AddKeyAlreadyExists:"The public key {{public_key}} is already used for an existing access key",InvalidSigner:"Invalid signer account ID {{signer_id}} according to requirements",CreateAccountNotAllowed:"The new account_id {{account_id}} can't be created by {{predecessor_id}}",RequiresFullAccess:"The transaction contains more then one action, but it was signed with an access key which allows transaction to apply only one specific action. To apply more then one actions TX must be signed with a full access key",TriesToUnstake:"Account {{account_id}} is not yet staked, but tried to unstake",InvalidNonce:"Transaction nonce {{tx_nonce}} must be larger than nonce of the used access key {{ak_nonce}}",AccountAlreadyExists:"Can't create a new account {{account_id}}, because it already exists",InvalidChain:"Transaction parent block hash doesn't belong to the current chain",AccountDoesNotExist:"Can't complete the action because account {{account_id}} doesn't exist",AccessKeyDoesNotExist:"Can't complete the action because access key {{public_key}} doesn't exist",MethodNameMismatch:"Transaction method name {{method_name}} isn't allowed by the access key",DeleteAccountHasRent:"Account {{account_id}} can't be deleted. It has {{#formatNear}}{{balance}}{{/formatNear}}, which is enough to cover the rent",DeleteAccountHasEnoughBalance:"Account {{account_id}} can't be deleted. It has {{#formatNear}}{{balance}}{{/formatNear}}, which is enough to cover it's storage",InvalidReceiver:"Invalid receiver account ID {{receiver_id}} according to requirements",DeleteKeyDoesNotExist:"Account {{account_id}} tries to remove an access key that doesn't exist",Timeout:"Timeout exceeded",Closed:"Connection closed",ShardCongested:"Shard {{shard_id}} rejected the transaction due to congestion level {{congestion_level}}, try again later",ShardStuck:"Shard {{shard_id}} rejected the transaction because it missed {{missed_chunks}} chunks and needs to recover before accepting new transactions, try again later"},eI=24;BigInt(24);var eC=[],eM=10n;for(let eu=0,ed=5n;eu<eI;eu++,ed*=eM)eC[eu]=ed;function eO(eu,ed=eI){let eg=BigInt(eu);if(ed!==eI){let eu=eI-ed-1;eu>0&&(eg+=eC[eu])}eu=eg.toString();let em=eu.substring(0,eu.length-eI)||"0",eb=eu.substring(eu.length-eI).padStart(eI,"0").substring(0,ed);return eN(`${eR(em)}.${eb}`)}function eT(eu){if(!eu)return null;eu=eP(eu);let ed=eu.split("."),eg=ed[0],em=ed[1]||"";if(ed.length>2||em.length>eI)throw Error(`Cannot parse '${eu}' as NEAR amount`);return ek(eg+em.padEnd(eI,"0"))}function eP(eu){return eu.replace(/,/g,"").trim()}function eN(eu){return eu.replace(/\.?0*$/,"")}function ek(eu){return""===(eu=eu.replace(/^0+/,""))?"0":eu}function eR(eu){let ed=/(-?\d+)(\d{3})/;for(;ed.test(eu);)eu=eu.replace(ed,"$1,$2");return eu}function eD(eu){if("string"==typeof eu){let ed=[];for(let eg=0;eg<eu.length;eg++)ed.push(eu.charCodeAt(eg));eu=new Uint8Array(ed)}return ew.Jq.encode(eu)}function eB(eu){return ew.Jq.decode(eu)}var eU={schema:{AccessKeyNotFound:{name:"AccessKeyNotFound",subtypes:[],props:{account_id:"",public_key:""}},AccountAlreadyExists:{name:"AccountAlreadyExists",subtypes:[],props:{account_id:""}},AccountDoesNotExist:{name:"AccountDoesNotExist",subtypes:[],props:{account_id:""}},ActionError:{name:"ActionError",subtypes:["AccountAlreadyExists","AccountDoesNotExist","CreateAccountOnlyByRegistrar","CreateAccountNotAllowed","ActorNoPermission","DeleteKeyDoesNotExist","AddKeyAlreadyExists","DeleteAccountStaking","LackBalanceForState","TriesToUnstake","TriesToStake","InsufficientStake","FunctionCallError","NewReceiptValidationError","OnlyImplicitAccountCreationAllowed","DeleteAccountWithLargeState","DelegateActionInvalidSignature","DelegateActionSenderDoesNotMatchTxReceiver","DelegateActionExpired","DelegateActionAccessKeyError","DelegateActionInvalidNonce","DelegateActionNonceTooLarge"],props:{index:""}},ActionsValidationError:{name:"ActionsValidationError",subtypes:["DeleteActionMustBeFinal","TotalPrepaidGasExceeded","TotalNumberOfActionsExceeded","AddKeyMethodNamesNumberOfBytesExceeded","AddKeyMethodNameLengthExceeded","IntegerOverflow","InvalidAccountId","ContractSizeExceeded","FunctionCallMethodNameLengthExceeded","FunctionCallArgumentsLengthExceeded","UnsuitableStakingKey","FunctionCallZeroAttachedGas","DelegateActionMustBeOnlyOne","UnsupportedProtocolFeature"],props:{}},ActorNoPermission:{name:"ActorNoPermission",subtypes:[],props:{account_id:"",actor_id:""}},AddKeyAlreadyExists:{name:"AddKeyAlreadyExists",subtypes:[],props:{account_id:"",public_key:""}},AddKeyMethodNameLengthExceeded:{name:"AddKeyMethodNameLengthExceeded",subtypes:[],props:{length:"",limit:""}},AddKeyMethodNamesNumberOfBytesExceeded:{name:"AddKeyMethodNamesNumberOfBytesExceeded",subtypes:[],props:{limit:"",total_number_of_bytes:""}},AltBn128InvalidInput:{name:"AltBn128InvalidInput",subtypes:[],props:{msg:""}},BadUTF16:{name:"BadUTF16",subtypes:[],props:{}},BadUTF8:{name:"BadUTF8",subtypes:[],props:{}},BalanceExceeded:{name:"BalanceExceeded",subtypes:[],props:{}},BalanceMismatchError:{name:"BalanceMismatchError",subtypes:[],props:{final_accounts_balance:"",final_postponed_receipts_balance:"",forwarded_buffered_receipts_balance:"",incoming_receipts_balance:"",incoming_validator_rewards:"",initial_accounts_balance:"",initial_postponed_receipts_balance:"",new_buffered_receipts_balance:"",new_delayed_receipts_balance:"",other_burnt_amount:"",outgoing_receipts_balance:"",processed_delayed_receipts_balance:"",slashed_burnt_amount:"",tx_burnt_amount:""}},CallIndirectOOB:{name:"CallIndirectOOB",subtypes:[],props:{}},CannotAppendActionToJointPromise:{name:"CannotAppendActionToJointPromise",subtypes:[],props:{}},CannotReturnJointPromise:{name:"CannotReturnJointPromise",subtypes:[],props:{}},CodeDoesNotExist:{name:"CodeDoesNotExist",subtypes:[],props:{account_id:""}},CompilationError:{name:"CompilationError",subtypes:["CodeDoesNotExist","PrepareError","WasmerCompileError"],props:{}},ContractSizeExceeded:{name:"ContractSizeExceeded",subtypes:[],props:{limit:"",size:""}},CostOverflow:{name:"CostOverflow",subtypes:[],props:{}},CreateAccountNotAllowed:{name:"CreateAccountNotAllowed",subtypes:[],props:{account_id:"",predecessor_id:""}},CreateAccountOnlyByRegistrar:{name:"CreateAccountOnlyByRegistrar",subtypes:[],props:{account_id:"",predecessor_id:"",registrar_account_id:""}},DelegateActionExpired:{name:"DelegateActionExpired",subtypes:[],props:{}},DelegateActionInvalidNonce:{name:"DelegateActionInvalidNonce",subtypes:[],props:{ak_nonce:"",delegate_nonce:""}},DelegateActionInvalidSignature:{name:"DelegateActionInvalidSignature",subtypes:[],props:{}},DelegateActionMustBeOnlyOne:{name:"DelegateActionMustBeOnlyOne",subtypes:[],props:{}},DelegateActionNonceTooLarge:{name:"DelegateActionNonceTooLarge",subtypes:[],props:{delegate_nonce:"",upper_bound:""}},DelegateActionSenderDoesNotMatchTxReceiver:{name:"DelegateActionSenderDoesNotMatchTxReceiver",subtypes:[],props:{receiver_id:"",sender_id:""}},DeleteAccountStaking:{name:"DeleteAccountStaking",subtypes:[],props:{account_id:""}},DeleteAccountWithLargeState:{name:"DeleteAccountWithLargeState",subtypes:[],props:{account_id:""}},DeleteActionMustBeFinal:{name:"DeleteActionMustBeFinal",subtypes:[],props:{}},DeleteKeyDoesNotExist:{name:"DeleteKeyDoesNotExist",subtypes:[],props:{account_id:"",public_key:""}},DepositWithFunctionCall:{name:"DepositWithFunctionCall",subtypes:[],props:{}},Deprecated:{name:"Deprecated",subtypes:[],props:{method_name:""}},Deserialization:{name:"Deserialization",subtypes:[],props:{}},ECRecoverError:{name:"ECRecoverError",subtypes:[],props:{msg:""}},Ed25519VerifyInvalidInput:{name:"Ed25519VerifyInvalidInput",subtypes:[],props:{msg:""}},EmptyMethodName:{name:"EmptyMethodName",subtypes:[],props:{}},Expired:{name:"Expired",subtypes:[],props:{}},FunctionCallArgumentsLengthExceeded:{name:"FunctionCallArgumentsLengthExceeded",subtypes:[],props:{length:"",limit:""}},FunctionCallMethodNameLengthExceeded:{name:"FunctionCallMethodNameLengthExceeded",subtypes:[],props:{length:"",limit:""}},FunctionCallZeroAttachedGas:{name:"FunctionCallZeroAttachedGas",subtypes:[],props:{}},GasExceeded:{name:"GasExceeded",subtypes:[],props:{}},GasInstrumentation:{name:"GasInstrumentation",subtypes:[],props:{}},GasLimitExceeded:{name:"GasLimitExceeded",subtypes:[],props:{}},GenericTrap:{name:"GenericTrap",subtypes:[],props:{}},GuestPanic:{name:"GuestPanic",subtypes:[],props:{panic_msg:""}},HostError:{name:"HostError",subtypes:["BadUTF16","BadUTF8","GasExceeded","GasLimitExceeded","BalanceExceeded","EmptyMethodName","GuestPanic","IntegerOverflow","InvalidPromiseIndex","CannotAppendActionToJointPromise","CannotReturnJointPromise","InvalidPromiseResultIndex","InvalidRegisterId","IteratorWasInvalidated","MemoryAccessViolation","InvalidReceiptIndex","InvalidIteratorIndex","InvalidAccountId","InvalidMethodName","InvalidPublicKey","ProhibitedInView","NumberOfLogsExceeded","KeyLengthExceeded","ValueLengthExceeded","TotalLogLengthExceeded","NumberPromisesExceeded","NumberInputDataDependenciesExceeded","ReturnedValueLengthExceeded","ContractSizeExceeded","Deprecated","ECRecoverError","AltBn128InvalidInput","Ed25519VerifyInvalidInput"],props:{}},IllegalArithmetic:{name:"IllegalArithmetic",subtypes:[],props:{}},IncorrectCallIndirectSignature:{name:"IncorrectCallIndirectSignature",subtypes:[],props:{}},IndirectCallToNull:{name:"IndirectCallToNull",subtypes:[],props:{}},Instantiate:{name:"Instantiate",subtypes:[],props:{}},InsufficientStake:{name:"InsufficientStake",subtypes:[],props:{account_id:"",minimum_stake:"",stake:""}},IntegerOverflow:{name:"IntegerOverflow",subtypes:[],props:{}},InternalMemoryDeclared:{name:"InternalMemoryDeclared",subtypes:[],props:{}},InvalidAccessKeyError:{name:"InvalidAccessKeyError",subtypes:["AccessKeyNotFound","ReceiverMismatch","MethodNameMismatch","RequiresFullAccess","NotEnoughAllowance","DepositWithFunctionCall"],props:{}},InvalidAccountId:{name:"InvalidAccountId",subtypes:[],props:{}},InvalidChain:{name:"InvalidChain",subtypes:[],props:{}},InvalidDataReceiverId:{name:"InvalidDataReceiverId",subtypes:[],props:{account_id:""}},InvalidIteratorIndex:{name:"InvalidIteratorIndex",subtypes:[],props:{iterator_index:""}},InvalidMethodName:{name:"InvalidMethodName",subtypes:[],props:{}},InvalidNonce:{name:"InvalidNonce",subtypes:[],props:{ak_nonce:"",tx_nonce:""}},InvalidPredecessorId:{name:"InvalidPredecessorId",subtypes:[],props:{account_id:""}},InvalidPromiseIndex:{name:"InvalidPromiseIndex",subtypes:[],props:{promise_idx:""}},InvalidPromiseResultIndex:{name:"InvalidPromiseResultIndex",subtypes:[],props:{result_idx:""}},InvalidPublicKey:{name:"InvalidPublicKey",subtypes:[],props:{}},InvalidReceiptIndex:{name:"InvalidReceiptIndex",subtypes:[],props:{receipt_index:""}},InvalidReceiverId:{name:"InvalidReceiverId",subtypes:[],props:{account_id:""}},InvalidRegisterId:{name:"InvalidRegisterId",subtypes:[],props:{register_id:""}},InvalidSignature:{name:"InvalidSignature",subtypes:[],props:{}},InvalidSignerId:{name:"InvalidSignerId",subtypes:[],props:{account_id:""}},InvalidTxError:{name:"InvalidTxError",subtypes:["InvalidAccessKeyError","InvalidSignerId","SignerDoesNotExist","InvalidNonce","NonceTooLarge","InvalidReceiverId","InvalidSignature","NotEnoughBalance","LackBalanceForState","CostOverflow","InvalidChain","Expired","ActionsValidation","TransactionSizeExceeded","StorageError","ShardCongested","ShardStuck"],props:{}},IteratorWasInvalidated:{name:"IteratorWasInvalidated",subtypes:[],props:{iterator_index:""}},KeyLengthExceeded:{name:"KeyLengthExceeded",subtypes:[],props:{length:"",limit:""}},LackBalanceForState:{name:"LackBalanceForState",subtypes:[],props:{account_id:"",amount:""}},Memory:{name:"Memory",subtypes:[],props:{}},MemoryAccessViolation:{name:"MemoryAccessViolation",subtypes:[],props:{}},MemoryOutOfBounds:{name:"MemoryOutOfBounds",subtypes:[],props:{}},MethodEmptyName:{name:"MethodEmptyName",subtypes:[],props:{}},MethodInvalidSignature:{name:"MethodInvalidSignature",subtypes:[],props:{}},MethodNameMismatch:{name:"MethodNameMismatch",subtypes:[],props:{method_name:""}},MethodNotFound:{name:"MethodNotFound",subtypes:[],props:{}},MethodResolveError:{name:"MethodResolveError",subtypes:["MethodEmptyName","MethodNotFound","MethodInvalidSignature"],props:{}},MisalignedAtomicAccess:{name:"MisalignedAtomicAccess",subtypes:[],props:{}},NonceTooLarge:{name:"NonceTooLarge",subtypes:[],props:{tx_nonce:"",upper_bound:""}},NotEnoughAllowance:{name:"NotEnoughAllowance",subtypes:[],props:{account_id:"",allowance:"",cost:"",public_key:""}},NotEnoughBalance:{name:"NotEnoughBalance",subtypes:[],props:{balance:"",cost:"",signer_id:""}},NumberInputDataDependenciesExceeded:{name:"NumberInputDataDependenciesExceeded",subtypes:[],props:{limit:"",number_of_input_data_dependencies:""}},NumberOfLogsExceeded:{name:"NumberOfLogsExceeded",subtypes:[],props:{limit:""}},NumberPromisesExceeded:{name:"NumberPromisesExceeded",subtypes:[],props:{limit:"",number_of_promises:""}},OnlyImplicitAccountCreationAllowed:{name:"OnlyImplicitAccountCreationAllowed",subtypes:[],props:{account_id:""}},PrepareError:{name:"PrepareError",subtypes:["Serialization","Deserialization","InternalMemoryDeclared","GasInstrumentation","StackHeightInstrumentation","Instantiate","Memory","TooManyFunctions","TooManyLocals"],props:{}},ProhibitedInView:{name:"ProhibitedInView",subtypes:[],props:{method_name:""}},ReceiptSizeExceeded:{name:"ReceiptSizeExceeded",subtypes:[],props:{limit:"",size:""}},ReceiptValidationError:{name:"ReceiptValidationError",subtypes:["InvalidPredecessorId","InvalidReceiverId","InvalidSignerId","InvalidDataReceiverId","ReturnedValueLengthExceeded","NumberInputDataDependenciesExceeded","ActionsValidation","ReceiptSizeExceeded"],props:{}},ReceiverMismatch:{name:"ReceiverMismatch",subtypes:[],props:{ak_receiver:"",tx_receiver:""}},RequiresFullAccess:{name:"RequiresFullAccess",subtypes:[],props:{}},ReturnedValueLengthExceeded:{name:"ReturnedValueLengthExceeded",subtypes:[],props:{length:"",limit:""}},Serialization:{name:"Serialization",subtypes:[],props:{}},ShardCongested:{name:"ShardCongested",subtypes:[],props:{congestion_level:"",shard_id:""}},ShardStuck:{name:"ShardStuck",subtypes:[],props:{missed_chunks:"",shard_id:""}},SignerDoesNotExist:{name:"SignerDoesNotExist",subtypes:[],props:{signer_id:""}},StackHeightInstrumentation:{name:"StackHeightInstrumentation",subtypes:[],props:{}},StackOverflow:{name:"StackOverflow",subtypes:[],props:{}},TooManyFunctions:{name:"TooManyFunctions",subtypes:[],props:{}},TooManyLocals:{name:"TooManyLocals",subtypes:[],props:{}},TotalLogLengthExceeded:{name:"TotalLogLengthExceeded",subtypes:[],props:{length:"",limit:""}},TotalNumberOfActionsExceeded:{name:"TotalNumberOfActionsExceeded",subtypes:[],props:{limit:"",total_number_of_actions:""}},TotalPrepaidGasExceeded:{name:"TotalPrepaidGasExceeded",subtypes:[],props:{limit:"",total_prepaid_gas:""}},TransactionSizeExceeded:{name:"TransactionSizeExceeded",subtypes:[],props:{limit:"",size:""}},TriesToStake:{name:"TriesToStake",subtypes:[],props:{account_id:"",balance:"",locked:"",stake:""}},TriesToUnstake:{name:"TriesToUnstake",subtypes:[],props:{account_id:""}},TxExecutionError:{name:"TxExecutionError",subtypes:["ActionError","InvalidTxError"],props:{}},Unreachable:{name:"Unreachable",subtypes:[],props:{}},UnsuitableStakingKey:{name:"UnsuitableStakingKey",subtypes:[],props:{public_key:""}},UnsupportedProtocolFeature:{name:"UnsupportedProtocolFeature",subtypes:[],props:{protocol_feature:"",version:""}},ValueLengthExceeded:{name:"ValueLengthExceeded",subtypes:[],props:{length:"",limit:""}},WasmTrap:{name:"WasmTrap",subtypes:["Unreachable","IncorrectCallIndirectSignature","MemoryOutOfBounds","CallIndirectOOB","IllegalArithmetic","MisalignedAtomicAccess","IndirectCallToNull","StackOverflow","GenericTrap"],props:{}},WasmerCompileError:{name:"WasmerCompileError",subtypes:[],props:{msg:""}},Closed:{name:"Closed",subtypes:[],props:{}},ServerError:{name:"ServerError",subtypes:["TxExecutionError","Timeout","Closed"],props:{}},Timeout:{name:"Timeout",subtypes:[],props:{}}}},eL={formatNear:()=>(eu,ed)=>eO(ed(eu))},ej=class extends em.hr{},eF=class extends ej{transaction_outcome};function e$(eu){let ed={},eg=eV(eu,eU.schema,ed,""),em=new ej(eH(eg,ed),eg);return Object.assign(em,ed),em}function eK(eu){let ed=e$(eu.status.Failure),eg=new eF;return Object.assign(eg,ed),eg.type=ed.type,eg.message=ed.message,eg.transaction_outcome=eu.transaction_outcome,eg}function eH(eu,ed){return"string"==typeof eS[eu]?eb.render(eS[eu],{...ed,...eL}):JSON.stringify(ed)}function eV(eu,ed,eg,em){let eb,ew,e_;for(let eg in ed){if(eJ(eu[eg]))return eu[eg];if(eW(eu[eg]))eb=eu[eg],ew=ed[eg],e_=eg;else{if(!(eW(eu.kind)&&eW(eu.kind[eg])))continue;eb=eu.kind[eg],ew=ed[eg],e_=eg}}if(!eb||!ew)return eg.kind=eu,em;for(let eu of Object.keys(ew.props))eg[eu]=eb[eu];return eV(eb,ed,eg,e_)}function eG(eu,ed){switch(!0){case/^account .*? does not exist while viewing$/.test(eu):case/^Account .*? doesn't exist$/.test(eu):return"AccountDoesNotExist";case/^access key .*? does not exist while viewing$/.test(eu):return"AccessKeyDoesNotExist";case/wasm execution failed with error: FunctionCallError\(CompilationError\(CodeDoesNotExist/.test(eu):case/wasm execution failed with error: CompilationError\(CodeDoesNotExist/.test(eu):return"CodeDoesNotExist";case/wasm execution failed with error: FunctionCallError\(MethodResolveError\(MethodNotFound/.test(eu):case/wasm execution failed with error: MethodResolveError\(MethodNotFound/.test(eu):return"MethodNotFound";case/Transaction nonce \d+ must be larger than nonce of the used access key \d+/.test(eu):return"InvalidNonce";default:return ed}}function eW(eu){return"[object Object]"===Object.prototype.toString.call(eu)}function eJ(eu){return"[object String]"===Object.prototype.toString.call(eu)}var eZ=class{constructor(eu){this.logLevels=eu}isLevelEnabled=eu=>this.logLevels.includes(eu);print(eu,ed,...eg){switch(eu){case"error":case"fatal":return console.error(ed,...eg);case"warn":return console.warn(ed,...eg);case"log":return console.log(ed,...eg);case"debug":case"verbose":return console.debug(ed,...eg)}}verbose(eu,...ed){this.isLevelEnabled("verbose")&&this.print("verbose",eu,...ed)}debug(eu,...ed){this.isLevelEnabled("debug")&&this.print("debug",eu,...ed)}log(eu,...ed){this.isLevelEnabled("log")&&this.print("log",eu,...ed)}warn(eu,...ed){this.isLevelEnabled("warn")&&this.print("warn",eu,...ed)}error(eu,...ed){this.isLevelEnabled("error")&&this.print("error",eu,...ed)}fatal(eu,...ed){this.isLevelEnabled("fatal")&&this.print("fatal",eu,...ed)}},eY=["verbose","debug","log","warn","error","fatal"],eX=new eZ(eY),eQ=class{static instanceRef=eX;static overrideLogger=eu=>{this.instanceRef=eu};static error(eu,...ed){this.instanceRef?.error(eu,...ed)}static log(eu,...ed){this.instanceRef?.log(eu,...ed)}static warn(eu,...ed){this.instanceRef?.warn(eu,...ed)}static debug(eu,...ed){this.instanceRef?.debug?.(eu,...ed)}static verbose(eu,...ed){this.instanceRef?.verbose?.(eu,...ed)}static fatal(eu,...ed){this.instanceRef?.fatal?.(eu,...ed)}};function e0({contractId:eu,outcome:ed}){let eg=[ed.transaction_outcome,...ed.receipts_outcome].reduce((eu,ed)=>{let eg="object"==typeof ed.outcome.status&&"object"==typeof ed.outcome.status.Failure;return ed.outcome.logs.length||eg?eu.concat({receiptIds:ed.outcome.receipt_ids,logs:ed.outcome.logs,failure:"object"==typeof ed.outcome.status&&void 0!==ed.outcome.status.Failure?e$(ed.outcome.status.Failure):null}):eu},[]);for(let ed of eg)eQ.log(`Receipt${ed.receiptIds.length>1?"s":""}: ${ed.receiptIds.join(", ")}`),e6({contractId:eu,logs:ed.logs,prefix:"	"}),ed.failure&&eQ.warn(`	Failure [${eu}]: ${ed.failure}`)}function e6({contractId:eu,logs:ed,prefix:eg=""}){for(let em of ed)eQ.log(`${eg}Log [${eu}]: ${em}`)}function e8(eu){if("object"==typeof eu.status&&"string"==typeof eu.status.SuccessValue){let ed=eE.from(eu.status.SuccessValue,"base64").toString();try{return JSON.parse(ed)}catch(eu){return ed}}return null}function e5(eu,ed){return eu<ed?-1:eu>ed?1:0}function e9(eu,ed,eg,em){if(em&&em<49)return e7(eu,ed);if(!eg){let eu=e_("findSeatPrice(validators, maxNumberOfSeats)");eu("`use `findSeatPrice(validators, maxNumberOfSeats, minimumStakeRatio)` instead"),eg=[1,6250]}return tu(eu,ed,eg)}function e7(eu,ed){let eg=eu.map(eu=>BigInt(eu.stake)).sort(e5),em=BigInt(ed),eb=eg.reduce((eu,ed)=>eu+ed);if(eb<em)throw Error("Stakes are below seats");let ew=1n,e_=eb+1n;for(;ew!==e_-1n;){let eu=(ew+e_)/2n,ed=!1,eb=0n;for(let e_=0;e_<eg.length;++e_)if((eb+=eg[e_]/eu)>=em){ew=eu,ed=!0;break}ed||(e_=eu)}return ew}function tu(eu,ed,eg){if(2!=eg.length)throw Error("minimumStakeRatio should have 2 elements");let em=eu.map(eu=>BigInt(eu.stake)).sort(e5),eb=em.reduce((eu,ed)=>eu+ed);return eu.length<ed?eb*BigInt(eg[0])/BigInt(eg[1]):em[0]+1n}},88246:function(eu,ed,eg){"use strict";eg.d(ed,{D1:function(){return eN},Kd:function(){return ek},Mx:function(){return eP}});var em=eg(95814),eb=eg(17271);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */let ew=BigInt(0),e_=BigInt(1);function eE(eu,ed){let eg=ed.negate();return eu?eg:ed}function eA(eu,ed){if(!Number.isSafeInteger(eu)||eu<=0||eu>ed)throw Error("invalid window size, expected [1.."+ed+"], got W="+eu)}function eS(eu,ed){eA(eu,ed);let eg=Math.ceil(ed/eu)+1,em=2**(eu-1);return{windows:eg,windowSize:em}}function eI(eu,ed){if(!Array.isArray(eu))throw Error("array expected");eu.forEach((eu,eg)=>{if(!(eu instanceof ed))throw Error("invalid point at index "+eg)})}function eC(eu,ed){if(!Array.isArray(eu))throw Error("array of scalars expected");eu.forEach((eu,eg)=>{if(!ed.isValid(eu))throw Error("invalid scalar at index "+eg)})}let eM=new WeakMap,eO=new WeakMap;function eT(eu){return eO.get(eu)||1}function eP(eu,ed){return{constTimeNegate:eE,hasPrecomputes:eu=>1!==eT(eu),unsafeLadder(ed,eg,em=eu.ZERO){let eb=ed;for(;eg>ew;)eg&e_&&(em=em.add(eb)),eb=eb.double(),eg>>=e_;return em},precomputeWindow(eu,eg){let{windows:em,windowSize:eb}=eS(eg,ed),ew=[],e_=eu,eE=e_;for(let eu=0;eu<em;eu++){eE=e_,ew.push(eE);for(let eu=1;eu<eb;eu++)eE=eE.add(e_),ew.push(eE);e_=eE.double()}return ew},wNAF(eg,em,eb){let{windows:ew,windowSize:eA}=eS(eg,ed),eI=eu.ZERO,eC=eu.BASE,eM=BigInt(2**eg-1),eO=2**eg,eT=BigInt(eg);for(let eu=0;eu<ew;eu++){let ed=eu*eA,eg=Number(eb&eM);eb>>=eT,eg>eA&&(eg-=eO,eb+=e_);let ew=ed,eS=ed+Math.abs(eg)-1,eP=eu%2!=0,eN=eg<0;0===eg?eC=eC.add(eE(eP,em[ew])):eI=eI.add(eE(eN,em[eS]))}return{p:eI,f:eC}},wNAFUnsafe(eg,em,eb,eE=eu.ZERO){let{windows:eA,windowSize:eI}=eS(eg,ed),eC=BigInt(2**eg-1),eM=2**eg,eO=BigInt(eg);for(let eu=0;eu<eA;eu++){let ed=eu*eI;if(eb===ew)break;let eg=Number(eb&eC);if(eb>>=eO,eg>eI&&(eg-=eM,eb+=e_),0===eg)continue;let eA=em[ed+Math.abs(eg)-1];eg<0&&(eA=eA.negate()),eE=eE.add(eA)}return eE},getPrecomputes(eu,ed,eg){let em=eM.get(ed);return em||(em=this.precomputeWindow(ed,eu),1!==eu&&eM.set(ed,eg(em))),em},wNAFCached(eu,ed,eg){let em=eT(eu);return this.wNAF(em,this.getPrecomputes(em,eu,eg),ed)},wNAFCachedUnsafe(eu,ed,eg,em){let eb=eT(eu);return 1===eb?this.unsafeLadder(eu,ed,em):this.wNAFUnsafe(eb,this.getPrecomputes(eb,eu,eg),ed,em)},setWindowSize(eu,eg){eA(eg,ed),eO.set(eu,eg),eM.delete(eu)}}}function eN(eu,ed,eg,em){if(eI(eg,eu),eC(em,ed),eg.length!==em.length)throw Error("arrays of points and scalars must have equal length");let ew=eu.ZERO,e_=(0,eb.bitLen)(BigInt(eg.length)),eE=e_>12?e_-3:e_>4?e_-2:e_?2:1,eA=(1<<eE)-1,eS=Array(eA+1).fill(ew),eM=Math.floor((ed.BITS-1)/eE)*eE,eO=ew;for(let eu=eM;eu>=0;eu-=eE){eS.fill(ew);for(let ed=0;ed<em.length;ed++){let eb=em[ed],ew=Number(eb>>BigInt(eu)&BigInt(eA));eS[ew]=eS[ew].add(eg[ed])}let ed=ew;for(let eu=eS.length-1,eg=ew;eu>0;eu--)eg=eg.add(eS[eu]),ed=ed.add(eg);if(eO=eO.add(ed),0!==eu)for(let eu=0;eu<eE;eu++)eO=eO.double()}return eO}function ek(eu){return(0,em.OP)(eu.Fp),(0,eb.validateObject)(eu,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,em.kK)(eu.n,eu.nBitLength),...eu,p:eu.Fp.ORDER})}},95814:function(eu,ed,eg){"use strict";eg.d(ed,{OP:function(){return eD},PS:function(){return e$},Tu:function(){return ek},U_:function(){return eT},Us:function(){return eK},gN:function(){return ej},kK:function(){return eL},oA:function(){return eO},wQ:function(){return eC}});var em=eg(17271);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */let eb=BigInt(0),ew=BigInt(1),e_=BigInt(2),eE=BigInt(3),eA=BigInt(4),eS=BigInt(5),eI=BigInt(8);function eC(eu,ed){let eg=eu%ed;return eg>=eb?eg:ed+eg}function eM(eu,ed,eg){if(ed<eb)throw Error("invalid exponent, negatives unsupported");if(eg<=eb)throw Error("invalid modulus");if(eg===ew)return eb;let em=ew;for(;ed>eb;)ed&ew&&(em=em*eu%eg),eu=eu*eu%eg,ed>>=ew;return em}function eO(eu,ed,eg){let em=eu;for(;ed-- >eb;)em*=em,em%=eg;return em}function eT(eu,ed){if(eu===eb)throw Error("invert: expected non-zero number");if(ed<=eb)throw Error("invert: expected positive modulus, got "+ed);let eg=eC(eu,ed),em=ed,e_=eb,eE=ew,eA=ew,eS=eb;for(;eg!==eb;){let eu=em/eg,ed=em%eg,eb=e_-eA*eu,ew=eE-eS*eu;em=eg,eg=ed,e_=eA,eE=eS,eA=eb,eS=ew}let eI=em;if(eI!==ew)throw Error("invert: does not exist");return eC(e_,ed)}function eP(eu){let ed,eg,em;let eE=(eu-ew)/e_;for(ed=eu-ew,eg=0;ed%e_===eb;ed/=e_,eg++);for(em=e_;em<eu&&eM(em,eE,eu)!==eu-ew;em++)if(em>1e3)throw Error("Cannot find square root: likely non-prime P");if(1===eg){let ed=(eu+ew)/eA;return function(eu,eg){let em=eu.pow(eg,ed);if(!eu.eql(eu.sqr(em),eg))throw Error("Cannot find square root");return em}}let eS=(ed+ew)/e_;return function(eu,eb){if(eu.pow(eb,eE)===eu.neg(eu.ONE))throw Error("Cannot find square root");let e_=eg,eA=eu.pow(eu.mul(eu.ONE,em),ed),eI=eu.pow(eb,eS),eC=eu.pow(eb,ed);for(;!eu.eql(eC,eu.ONE);){if(eu.eql(eC,eu.ZERO))return eu.ZERO;let ed=1;for(let eg=eu.sqr(eC);ed<e_&&!eu.eql(eg,eu.ONE);ed++)eg=eu.sqr(eg);let eg=eu.pow(eA,ew<<BigInt(e_-ed-1));eA=eu.sqr(eg),eI=eu.mul(eI,eg),eC=eu.mul(eC,eA),e_=ed}return eI}}function eN(eu){if(eu%eA===eE){let ed=(eu+ew)/eA;return function(eu,eg){let em=eu.pow(eg,ed);if(!eu.eql(eu.sqr(em),eg))throw Error("Cannot find square root");return em}}if(eu%eI===eS){let ed=(eu-eS)/eI;return function(eu,eg){let em=eu.mul(eg,e_),eb=eu.pow(em,ed),ew=eu.mul(eg,eb),eE=eu.mul(eu.mul(ew,e_),eb),eA=eu.mul(ew,eu.sub(eE,eu.ONE));if(!eu.eql(eu.sqr(eA),eg))throw Error("Cannot find square root");return eA}}return eP(eu)}BigInt(9),BigInt(16);let ek=(eu,ed)=>(eC(eu,ed)&ew)===ew,eR=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function eD(eu){let ed={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},eg=eR.reduce((eu,ed)=>(eu[ed]="function",eu),ed);return(0,em.validateObject)(eu,eg)}function eB(eu,ed,eg){if(eg<eb)throw Error("invalid exponent, negatives unsupported");if(eg===eb)return eu.ONE;if(eg===ew)return ed;let em=eu.ONE,e_=ed;for(;eg>eb;)eg&ew&&(em=eu.mul(em,e_)),e_=eu.sqr(e_),eg>>=ew;return em}function eU(eu,ed){let eg=Array(ed.length),em=ed.reduce((ed,em,eb)=>eu.is0(em)?ed:(eg[eb]=ed,eu.mul(ed,em)),eu.ONE),eb=eu.inv(em);return ed.reduceRight((ed,em,eb)=>eu.is0(em)?ed:(eg[eb]=eu.mul(ed,eg[eb]),eu.mul(ed,em)),eb),eg}function eL(eu,ed){let eg=void 0!==ed?ed:eu.toString(2).length,em=Math.ceil(eg/8);return{nBitLength:eg,nByteLength:em}}function ej(eu,ed,eg=!1,e_={}){let eE;if(eu<=eb)throw Error("invalid field: expected ORDER > 0, got "+eu);let{nBitLength:eA,nByteLength:eS}=eL(eu,ed);if(eS>2048)throw Error("invalid field: expected ORDER of <= 2048 bytes");let eI=Object.freeze({ORDER:eu,isLE:eg,BITS:eA,BYTES:eS,MASK:(0,em.bitMask)(eA),ZERO:eb,ONE:ew,create:ed=>eC(ed,eu),isValid:ed=>{if("bigint"!=typeof ed)throw Error("invalid field element: expected bigint, got "+typeof ed);return eb<=ed&&ed<eu},is0:eu=>eu===eb,isOdd:eu=>(eu&ew)===ew,neg:ed=>eC(-ed,eu),eql:(eu,ed)=>eu===ed,sqr:ed=>eC(ed*ed,eu),add:(ed,eg)=>eC(ed+eg,eu),sub:(ed,eg)=>eC(ed-eg,eu),mul:(ed,eg)=>eC(ed*eg,eu),pow:(eu,ed)=>eB(eI,eu,ed),div:(ed,eg)=>eC(ed*eT(eg,eu),eu),sqrN:eu=>eu*eu,addN:(eu,ed)=>eu+ed,subN:(eu,ed)=>eu-ed,mulN:(eu,ed)=>eu*ed,inv:ed=>eT(ed,eu),sqrt:e_.sqrt||(ed=>(eE||(eE=eN(eu)),eE(eI,ed))),invertBatch:eu=>eU(eI,eu),cmov:(eu,ed,eg)=>eg?ed:eu,toBytes:eu=>eg?(0,em.numberToBytesLE)(eu,eS):(0,em.numberToBytesBE)(eu,eS),fromBytes:eu=>{if(eu.length!==eS)throw Error("Field.fromBytes: expected "+eS+" bytes, got "+eu.length);return eg?(0,em.bytesToNumberLE)(eu):(0,em.bytesToNumberBE)(eu)}});return Object.freeze(eI)}function eF(eu){if("bigint"!=typeof eu)throw Error("field order must be bigint");let ed=eu.toString(2).length;return Math.ceil(ed/8)}function e$(eu){let ed=eF(eu);return ed+Math.ceil(ed/2)}function eK(eu,ed,eg=!1){let eb=eu.length,e_=eF(ed),eE=e$(ed);if(eb<16||eb<eE||eb>1024)throw Error("expected "+eE+"-1024 bytes of input, got "+eb);let eA=eg?(0,em.bytesToNumberLE)(eu):(0,em.bytesToNumberBE)(eu),eS=eC(eA,ed-ew)+ew;return eg?(0,em.numberToBytesLE)(eS,e_):(0,em.numberToBytesBE)(eS,e_)}},17271:function(eu,ed,eg){"use strict";eg.r(ed),eg.d(ed,{aInRange:function(){return eH},abool:function(){return eA},abytes:function(){return eE},bitGet:function(){return eG},bitLen:function(){return eV},bitMask:function(){return eJ},bitSet:function(){return eW},bytesToHex:function(){return eI},bytesToNumberBE:function(){return eN},bytesToNumberLE:function(){return ek},concatBytes:function(){return eL},createHmacDrbg:function(){return eX},ensureBytes:function(){return eU},equalBytes:function(){return ej},hexToBytes:function(){return eP},hexToNumber:function(){return eM},inRange:function(){return eK},isBytes:function(){return e_},memoized:function(){return e8},notImplemented:function(){return e6},numberToBytesBE:function(){return eR},numberToBytesLE:function(){return eD},numberToHexUnpadded:function(){return eC},numberToVarBytesBE:function(){return eB},utf8ToBytes:function(){return eF},validateObject:function(){return e0}});/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */let em=BigInt(0),eb=BigInt(1),ew=BigInt(2);function e_(eu){return eu instanceof Uint8Array||ArrayBuffer.isView(eu)&&"Uint8Array"===eu.constructor.name}function eE(eu){if(!e_(eu))throw Error("Uint8Array expected")}function eA(eu,ed){if("boolean"!=typeof ed)throw Error(eu+" boolean expected, got "+ed)}let eS=Array.from({length:256},(eu,ed)=>ed.toString(16).padStart(2,"0"));function eI(eu){eE(eu);let ed="";for(let eg=0;eg<eu.length;eg++)ed+=eS[eu[eg]];return ed}function eC(eu){let ed=eu.toString(16);return 1&ed.length?"0"+ed:ed}function eM(eu){if("string"!=typeof eu)throw Error("hex string expected, got "+typeof eu);return""===eu?em:BigInt("0x"+eu)}let eO={_0:48,_9:57,A:65,F:70,a:97,f:102};function eT(eu){return eu>=eO._0&&eu<=eO._9?eu-eO._0:eu>=eO.A&&eu<=eO.F?eu-(eO.A-10):eu>=eO.a&&eu<=eO.f?eu-(eO.a-10):void 0}function eP(eu){if("string"!=typeof eu)throw Error("hex string expected, got "+typeof eu);let ed=eu.length,eg=ed/2;if(ed%2)throw Error("hex string expected, got unpadded hex of length "+ed);let em=new Uint8Array(eg);for(let ed=0,eb=0;ed<eg;ed++,eb+=2){let eg=eT(eu.charCodeAt(eb)),ew=eT(eu.charCodeAt(eb+1));if(void 0===eg||void 0===ew){let ed=eu[eb]+eu[eb+1];throw Error('hex string expected, got non-hex character "'+ed+'" at index '+eb)}em[ed]=16*eg+ew}return em}function eN(eu){return eM(eI(eu))}function ek(eu){return eE(eu),eM(eI(Uint8Array.from(eu).reverse()))}function eR(eu,ed){return eP(eu.toString(16).padStart(2*ed,"0"))}function eD(eu,ed){return eR(eu,ed).reverse()}function eB(eu){return eP(eC(eu))}function eU(eu,ed,eg){let em;if("string"==typeof ed)try{em=eP(ed)}catch(ed){throw Error(eu+" must be hex string or Uint8Array, cause: "+ed)}else if(e_(ed))em=Uint8Array.from(ed);else throw Error(eu+" must be hex string or Uint8Array");let eb=em.length;if("number"==typeof eg&&eb!==eg)throw Error(eu+" of length "+eg+" expected, got "+eb);return em}function eL(...eu){let ed=0;for(let eg=0;eg<eu.length;eg++){let em=eu[eg];eE(em),ed+=em.length}let eg=new Uint8Array(ed);for(let ed=0,em=0;ed<eu.length;ed++){let eb=eu[ed];eg.set(eb,em),em+=eb.length}return eg}function ej(eu,ed){if(eu.length!==ed.length)return!1;let eg=0;for(let em=0;em<eu.length;em++)eg|=eu[em]^ed[em];return 0===eg}function eF(eu){if("string"!=typeof eu)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(eu))}let e$=eu=>"bigint"==typeof eu&&em<=eu;function eK(eu,ed,eg){return e$(eu)&&e$(ed)&&e$(eg)&&ed<=eu&&eu<eg}function eH(eu,ed,eg,em){if(!eK(ed,eg,em))throw Error("expected valid "+eu+": "+eg+" <= n < "+em+", got "+ed)}function eV(eu){let ed;for(ed=0;eu>em;eu>>=eb,ed+=1);return ed}function eG(eu,ed){return eu>>BigInt(ed)&eb}function eW(eu,ed,eg){return eu|(eg?eb:em)<<BigInt(ed)}let eJ=eu=>(ew<<BigInt(eu-1))-eb,eZ=eu=>new Uint8Array(eu),eY=eu=>Uint8Array.from(eu);function eX(eu,ed,eg){if("number"!=typeof eu||eu<2)throw Error("hashLen must be a number");if("number"!=typeof ed||ed<2)throw Error("qByteLen must be a number");if("function"!=typeof eg)throw Error("hmacFn must be a function");let em=eZ(eu),eb=eZ(eu),ew=0,e_=()=>{em.fill(1),eb.fill(0),ew=0},eE=(...eu)=>eg(eb,em,...eu),eA=(eu=eZ())=>{eb=eE(eY([0]),eu),em=eE(),0!==eu.length&&(eb=eE(eY([1]),eu),em=eE())},eS=()=>{if(ew++>=1e3)throw Error("drbg: tried 1000 values");let eu=0,eg=[];for(;eu<ed;){em=eE();let ed=em.slice();eg.push(ed),eu+=em.length}return eL(...eg)},eI=(eu,ed)=>{let eg;for(e_(),eA(eu);!(eg=ed(eS()));)eA();return e_(),eg};return eI}let eQ={bigint:eu=>"bigint"==typeof eu,function:eu=>"function"==typeof eu,boolean:eu=>"boolean"==typeof eu,string:eu=>"string"==typeof eu,stringOrUint8Array:eu=>"string"==typeof eu||e_(eu),isSafeInteger:eu=>Number.isSafeInteger(eu),array:eu=>Array.isArray(eu),field:(eu,ed)=>ed.Fp.isValid(eu),hash:eu=>"function"==typeof eu&&Number.isSafeInteger(eu.outputLen)};function e0(eu,ed,eg={}){let em=(ed,eg,em)=>{let eb=eQ[eg];if("function"!=typeof eb)throw Error("invalid validator function");let ew=eu[ed];if((!em||void 0!==ew)&&!eb(ew,eu))throw Error("param "+String(ed)+" is invalid. Expected "+eg+", got "+ew)};for(let[eu,eg]of Object.entries(ed))em(eu,eg,!1);for(let[eu,ed]of Object.entries(eg))em(eu,ed,!0);return eu}let e6=()=>{throw Error("not implemented")};function e8(eu){let ed=new WeakMap;return(eg,...em)=>{let eb=ed.get(eg);if(void 0!==eb)return eb;let ew=eu(eg,...em);return ed.set(eg,ew),ew}}},70978:function(eu,ed,eg){"use strict";eg.d(ed,{UN:function(){return eX}});var em=eg(80264),eb=eg(96541),ew=eg(67136);let[e_,eE]=eb.ZP.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(eu=>BigInt(eu))),eA=new Uint32Array(80),eS=new Uint32Array(80);class eI extends em.VR{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:eu,Al:ed,Bh:eg,Bl:em,Ch:eb,Cl:ew,Dh:e_,Dl:eE,Eh:eA,El:eS,Fh:eI,Fl:eC,Gh:eM,Gl:eO,Hh:eT,Hl:eP}=this;return[eu,ed,eg,em,eb,ew,e_,eE,eA,eS,eI,eC,eM,eO,eT,eP]}set(eu,ed,eg,em,eb,ew,e_,eE,eA,eS,eI,eC,eM,eO,eT,eP){this.Ah=0|eu,this.Al=0|ed,this.Bh=0|eg,this.Bl=0|em,this.Ch=0|eb,this.Cl=0|ew,this.Dh=0|e_,this.Dl=0|eE,this.Eh=0|eA,this.El=0|eS,this.Fh=0|eI,this.Fl=0|eC,this.Gh=0|eM,this.Gl=0|eO,this.Hh=0|eT,this.Hl=0|eP}process(eu,ed){for(let eg=0;eg<16;eg++,ed+=4)eA[eg]=eu.getUint32(ed),eS[eg]=eu.getUint32(ed+=4);for(let eu=16;eu<80;eu++){let ed=0|eA[eu-15],eg=0|eS[eu-15],em=eb.ZP.rotrSH(ed,eg,1)^eb.ZP.rotrSH(ed,eg,8)^eb.ZP.shrSH(ed,eg,7),ew=eb.ZP.rotrSL(ed,eg,1)^eb.ZP.rotrSL(ed,eg,8)^eb.ZP.shrSL(ed,eg,7),e_=0|eA[eu-2],eE=0|eS[eu-2],eI=eb.ZP.rotrSH(e_,eE,19)^eb.ZP.rotrBH(e_,eE,61)^eb.ZP.shrSH(e_,eE,6),eC=eb.ZP.rotrSL(e_,eE,19)^eb.ZP.rotrBL(e_,eE,61)^eb.ZP.shrSL(e_,eE,6),eM=eb.ZP.add4L(ew,eC,eS[eu-7],eS[eu-16]),eO=eb.ZP.add4H(eM,em,eI,eA[eu-7],eA[eu-16]);eA[eu]=0|eO,eS[eu]=0|eM}let{Ah:eg,Al:em,Bh:ew,Bl:eI,Ch:eC,Cl:eM,Dh:eO,Dl:eT,Eh:eP,El:eN,Fh:ek,Fl:eR,Gh:eD,Gl:eB,Hh:eU,Hl:eL}=this;for(let eu=0;eu<80;eu++){let ed=eb.ZP.rotrSH(eP,eN,14)^eb.ZP.rotrSH(eP,eN,18)^eb.ZP.rotrBH(eP,eN,41),ej=eb.ZP.rotrSL(eP,eN,14)^eb.ZP.rotrSL(eP,eN,18)^eb.ZP.rotrBL(eP,eN,41),eF=eP&ek^~eP&eD,e$=eN&eR^~eN&eB,eK=eb.ZP.add5L(eL,ej,e$,eE[eu],eS[eu]),eH=eb.ZP.add5H(eK,eU,ed,eF,e_[eu],eA[eu]),eV=0|eK,eG=eb.ZP.rotrSH(eg,em,28)^eb.ZP.rotrBH(eg,em,34)^eb.ZP.rotrBH(eg,em,39),eW=eb.ZP.rotrSL(eg,em,28)^eb.ZP.rotrBL(eg,em,34)^eb.ZP.rotrBL(eg,em,39),eJ=eg&ew^eg&eC^ew&eC,eZ=em&eI^em&eM^eI&eM;eU=0|eD,eL=0|eB,eD=0|ek,eB=0|eR,ek=0|eP,eR=0|eN,({h:eP,l:eN}=eb.ZP.add(0|eO,0|eT,0|eH,0|eV)),eO=0|eC,eT=0|eM,eC=0|ew,eM=0|eI,ew=0|eg,eI=0|em;let eY=eb.ZP.add3L(eV,eW,eZ);eg=eb.ZP.add3H(eY,eH,eG,eJ),em=0|eY}({h:eg,l:em}=eb.ZP.add(0|this.Ah,0|this.Al,0|eg,0|em)),({h:ew,l:eI}=eb.ZP.add(0|this.Bh,0|this.Bl,0|ew,0|eI)),({h:eC,l:eM}=eb.ZP.add(0|this.Ch,0|this.Cl,0|eC,0|eM)),({h:eO,l:eT}=eb.ZP.add(0|this.Dh,0|this.Dl,0|eO,0|eT)),({h:eP,l:eN}=eb.ZP.add(0|this.Eh,0|this.El,0|eP,0|eN)),({h:ek,l:eR}=eb.ZP.add(0|this.Fh,0|this.Fl,0|ek,0|eR)),({h:eD,l:eB}=eb.ZP.add(0|this.Gh,0|this.Gl,0|eD,0|eB)),({h:eU,l:eL}=eb.ZP.add(0|this.Hh,0|this.Hl,0|eU,0|eL)),this.set(eg,em,ew,eI,eC,eM,eO,eT,eP,eN,ek,eR,eD,eB,eU,eL)}roundClean(){eA.fill(0),eS.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}let eC=(0,ew.hE)(()=>new eI);var eM=eg(88246),eO=eg(95814),eT=eg(17271);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */let eP=BigInt(0),eN=BigInt(1),ek=BigInt(2),eR=BigInt(8),eD={zip215:!0};function eB(eu){let ed=(0,eM.Kd)(eu);return eT.validateObject(eu,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...ed})}function eU(eu){let ed=eB(eu),{Fp:eg,n:em,prehash:eb,hash:ew,randomBytes:e_,nByteLength:eE,h:eA}=ed,eS=ek<<BigInt(8*eE)-eN,eI=eg.create,eC=(0,eO.gN)(ed.n,ed.nBitLength),eU=ed.uvRatio||((eu,ed)=>{try{return{isValid:!0,value:eg.sqrt(eu*eg.inv(ed))}}catch(eu){return{isValid:!1,value:eP}}}),eL=ed.adjustScalarBytes||(eu=>eu),ej=ed.domain||((eu,ed,eg)=>{if((0,eT.abool)("phflag",eg),ed.length||eg)throw Error("Contexts/pre-hash are not supported");return eu});function eF(eu,ed){eT.aInRange("coordinate "+eu,ed,eP,eS)}function e$(eu){if(!(eu instanceof eV))throw Error("ExtendedPoint expected")}let eK=(0,eT.memoized)((eu,ed)=>{let{ex:em,ey:eb,ez:ew}=eu,e_=eu.is0();null==ed&&(ed=e_?eR:eg.inv(ew));let eE=eI(em*ed),eA=eI(eb*ed),eS=eI(ew*ed);if(e_)return{x:eP,y:eN};if(eS!==eN)throw Error("invZ was invalid");return{x:eE,y:eA}}),eH=(0,eT.memoized)(eu=>{let{a:eg,d:em}=ed;if(eu.is0())throw Error("bad point: ZERO");let{ex:eb,ey:ew,ez:e_,et:eE}=eu,eA=eI(eb*eb),eS=eI(ew*ew),eC=eI(e_*e_),eM=eI(eC*eC),eO=eI(eA*eg),eT=eI(eC*eI(eO+eS)),eP=eI(eM+eI(em*eI(eA*eS)));if(eT!==eP)throw Error("bad point: equation left != right (1)");let eN=eI(eb*ew),ek=eI(e_*eE);if(eN!==ek)throw Error("bad point: equation left != right (2)");return!0});class eV{constructor(eu,ed,eg,em){this.ex=eu,this.ey=ed,this.ez=eg,this.et=em,eF("x",eu),eF("y",ed),eF("z",eg),eF("t",em),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(eu){if(eu instanceof eV)throw Error("extended point not allowed");let{x:ed,y:eg}=eu||{};return eF("x",ed),eF("y",eg),new eV(ed,eg,eN,eI(ed*eg))}static normalizeZ(eu){let ed=eg.invertBatch(eu.map(eu=>eu.ez));return eu.map((eu,eg)=>eu.toAffine(ed[eg])).map(eV.fromAffine)}static msm(eu,ed){return(0,eM.D1)(eV,eC,eu,ed)}_setWindowSize(eu){eJ.setWindowSize(this,eu)}assertValidity(){eH(this)}equals(eu){e$(eu);let{ex:ed,ey:eg,ez:em}=this,{ex:eb,ey:ew,ez:e_}=eu,eE=eI(ed*e_),eA=eI(eb*em),eS=eI(eg*e_),eC=eI(ew*em);return eE===eA&&eS===eC}is0(){return this.equals(eV.ZERO)}negate(){return new eV(eI(-this.ex),this.ey,this.ez,eI(-this.et))}double(){let{a:eu}=ed,{ex:eg,ey:em,ez:eb}=this,ew=eI(eg*eg),e_=eI(em*em),eE=eI(ek*eI(eb*eb)),eA=eI(eu*ew),eS=eg+em,eC=eI(eI(eS*eS)-ew-e_),eM=eA+e_,eO=eM-eE,eT=eA-e_,eP=eI(eC*eO),eN=eI(eM*eT),eR=eI(eC*eT),eD=eI(eO*eM);return new eV(eP,eN,eD,eR)}add(eu){e$(eu);let{a:eg,d:em}=ed,{ex:eb,ey:ew,ez:e_,et:eE}=this,{ex:eA,ey:eS,ez:eC,et:eM}=eu;if(eg===BigInt(-1)){let eu=eI((ew-eb)*(eS+eA)),ed=eI((ew+eb)*(eS-eA)),eg=eI(ed-eu);if(eg===eP)return this.double();let em=eI(e_*ek*eM),eO=eI(eE*ek*eC),eT=eO+em,eN=ed+eu,eR=eO-em,eD=eI(eT*eg),eB=eI(eN*eR),eU=eI(eT*eR),eL=eI(eg*eN);return new eV(eD,eB,eL,eU)}let eO=eI(eb*eA),eT=eI(ew*eS),eN=eI(eE*em*eM),eR=eI(e_*eC),eD=eI((eb+ew)*(eA+eS)-eO-eT),eB=eR-eN,eU=eR+eN,eL=eI(eT-eg*eO),ej=eI(eD*eB),eF=eI(eU*eL),eK=eI(eD*eL),eH=eI(eB*eU);return new eV(ej,eF,eH,eK)}subtract(eu){return this.add(eu.negate())}wNAF(eu){return eJ.wNAFCached(this,eu,eV.normalizeZ)}multiply(eu){let ed=eu;eT.aInRange("scalar",ed,eN,em);let{p:eg,f:eb}=this.wNAF(ed);return eV.normalizeZ([eg,eb])[0]}multiplyUnsafe(eu,ed=eV.ZERO){let eg=eu;return(eT.aInRange("scalar",eg,eP,em),eg===eP)?eW:this.is0()||eg===eN?this:eJ.wNAFCachedUnsafe(this,eg,eV.normalizeZ,ed)}isSmallOrder(){return this.multiplyUnsafe(eA).is0()}isTorsionFree(){return eJ.unsafeLadder(this,em).is0()}toAffine(eu){return eK(this,eu)}clearCofactor(){let{h:eu}=ed;return eu===eN?this:this.multiplyUnsafe(eu)}static fromHex(eu,em=!1){let{d:eb,a:ew}=ed,e_=eg.BYTES;eu=(0,eT.ensureBytes)("pointHex",eu,e_),(0,eT.abool)("zip215",em);let eE=eu.slice(),eA=eu[e_-1];eE[e_-1]=-129&eA;let eC=eT.bytesToNumberLE(eE),eM=em?eS:eg.ORDER;eT.aInRange("pointHex.y",eC,eP,eM);let eO=eI(eC*eC),ek=eI(eO-eN),eR=eI(eb*eO-ew),{isValid:eD,value:eB}=eU(ek,eR);if(!eD)throw Error("Point.fromHex: invalid y coordinate");let eL=(eB&eN)===eN,ej=(128&eA)!=0;if(!em&&eB===eP&&ej)throw Error("Point.fromHex: x=0 and x_0=1");return ej!==eL&&(eB=eI(-eB)),eV.fromAffine({x:eB,y:eC})}static fromPrivateKey(eu){return eX(eu).point}toRawBytes(){let{x:eu,y:ed}=this.toAffine(),em=eT.numberToBytesLE(ed,eg.BYTES);return em[em.length-1]|=eu&eN?128:0,em}toHex(){return eT.bytesToHex(this.toRawBytes())}}eV.BASE=new eV(ed.Gx,ed.Gy,eN,eI(ed.Gx*ed.Gy)),eV.ZERO=new eV(eP,eN,eN,eP);let{BASE:eG,ZERO:eW}=eV,eJ=(0,eM.Mx)(eV,8*eE);function eZ(eu){return(0,eO.wQ)(eu,em)}function eY(eu){return eZ(eT.bytesToNumberLE(eu))}function eX(eu){let ed=eg.BYTES;eu=(0,eT.ensureBytes)("private key",eu,ed);let em=(0,eT.ensureBytes)("hashed private key",ew(eu),2*ed),eb=eL(em.slice(0,ed)),e_=em.slice(ed,2*ed),eE=eY(eb),eA=eG.multiply(eE),eS=eA.toRawBytes();return{head:eb,prefix:e_,scalar:eE,point:eA,pointBytes:eS}}function eQ(eu){return eX(eu).pointBytes}function e0(eu=new Uint8Array,...ed){let eg=eT.concatBytes(...ed);return eY(ew(ej(eg,(0,eT.ensureBytes)("context",eu),!!eb)))}function e6(eu,ed,ew={}){eu=(0,eT.ensureBytes)("message",eu),eb&&(eu=eb(eu));let{prefix:e_,scalar:eE,pointBytes:eA}=eX(ed),eS=e0(ew.context,e_,eu),eI=eG.multiply(eS).toRawBytes(),eC=e0(ew.context,eI,eA,eu),eM=eZ(eS+eC*eE);eT.aInRange("signature.s",eM,eP,em);let eO=eT.concatBytes(eI,eT.numberToBytesLE(eM,eg.BYTES));return(0,eT.ensureBytes)("result",eO,2*eg.BYTES)}let e8=eD;function e5(eu,ed,em,ew=e8){let e_,eE,eA;let{context:eS,zip215:eI}=ew,eC=eg.BYTES;eu=(0,eT.ensureBytes)("signature",eu,2*eC),ed=(0,eT.ensureBytes)("message",ed),em=(0,eT.ensureBytes)("publicKey",em,eC),void 0!==eI&&(0,eT.abool)("zip215",eI),eb&&(ed=eb(ed));let eM=eT.bytesToNumberLE(eu.slice(eC,2*eC));try{e_=eV.fromHex(em,eI),eE=eV.fromHex(eu.slice(0,eC),eI),eA=eG.multiplyUnsafe(eM)}catch(eu){return!1}if(!eI&&e_.isSmallOrder())return!1;let eO=e0(eS,eE.toRawBytes(),e_.toRawBytes(),ed),eP=eE.add(e_.multiplyUnsafe(eO));return eP.subtract(eA).clearCofactor().equals(eV.ZERO)}eG._setWindowSize(8);let e9={getExtendedPublicKey:eX,randomPrivateKey:()=>e_(eg.BYTES),precompute:(eu=8,ed=eV.BASE)=>(ed._setWindowSize(eu),ed.multiply(BigInt(3)),ed)};return{CURVE:ed,getPublicKey:eQ,sign:e6,verify:e5,ExtendedPoint:eV,utils:e9}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */let eL=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),ej=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),eF=BigInt(0),e$=BigInt(1),eK=BigInt(2);BigInt(3);let eH=BigInt(5),eV=BigInt(8);function eG(eu){let ed=BigInt(10),eg=BigInt(20),em=BigInt(40),eb=BigInt(80),ew=eL,e_=eu*eu%ew,eE=e_*eu%ew,eA=(0,eO.oA)(eE,eK,ew)*eE%ew,eS=(0,eO.oA)(eA,e$,ew)*eu%ew,eI=(0,eO.oA)(eS,eH,ew)*eS%ew,eC=(0,eO.oA)(eI,ed,ew)*eI%ew,eM=(0,eO.oA)(eC,eg,ew)*eC%ew,eT=(0,eO.oA)(eM,em,ew)*eM%ew,eP=(0,eO.oA)(eT,eb,ew)*eT%ew,eN=(0,eO.oA)(eP,eb,ew)*eT%ew,ek=(0,eO.oA)(eN,ed,ew)*eI%ew,eR=(0,eO.oA)(ek,eK,ew)*eu%ew;return{pow_p_5_8:eR,b2:eE}}function eW(eu){return eu[0]&=248,eu[31]&=127,eu[31]|=64,eu}function eJ(eu,ed){let eg=eL,em=(0,eO.wQ)(ed*ed*ed,eg),eb=(0,eO.wQ)(em*em*ed,eg),ew=eG(eu*eb).pow_p_5_8,e_=(0,eO.wQ)(eu*em*ew,eg),eE=(0,eO.wQ)(ed*e_*e_,eg),eA=e_,eS=(0,eO.wQ)(e_*ej,eg),eI=eE===eu,eC=eE===(0,eO.wQ)(-eu,eg),eM=eE===(0,eO.wQ)(-eu*ej,eg);return eI&&(e_=eA),(eC||eM)&&(e_=eS),(0,eO.Tu)(e_,eg)&&(e_=(0,eO.wQ)(-e_,eg)),{isValid:eI||eC,value:e_}}let eZ=(0,eO.gN)(eL,void 0,!0),eY={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:eZ,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:eV,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:eC,randomBytes:ew.O6,adjustScalarBytes:eW,uvRatio:eJ},eX=eU(eY);function eQ(eu){if(!(eu instanceof tg))throw Error("RistrettoPoint expected")}let e0=null,e6=null,e8=null,e5=null,e9=null,e7=eu=>eJ(e$,eu),tu=null,th=eu=>eX.CURVE.Fp.create(bytesToNumberLE(eu)&tu);function td(eu){let{d:ed}=eX.CURVE,eg=eX.CURVE.Fp.ORDER,em=eX.CURVE.Fp.create,eb=em(e0*eu*eu),ew=em((eb+e$)*e5),e_=BigInt(-1),eE=em((e_-ed*eb)*em(eb+ed)),{isValid:eA,value:eS}=eJ(ew,eE),eI=em(eS*eu);isNegativeLE(eI,eg)||(eI=em(-eI)),eA||(eS=eI),eA||(e_=eb);let eC=em(e_*(eb-e$)*e9-eE),eM=eS*eS,eO=em((eS+eS)*eE),eT=em(eC*e6),eP=em(e$-eM),eN=em(e$+eM);return new eX.ExtendedPoint(em(eO*eN),em(eP*eT),em(eT*eN),em(eO*eP))}class tg{constructor(eu){this.ep=eu}static fromAffine(eu){return new tg(eX.ExtendedPoint.fromAffine(eu))}static hashToCurve(eu){eu=ensureBytes("ristrettoHash",eu,64);let ed=th(eu.slice(0,32)),eg=td(ed),em=th(eu.slice(32,64)),eb=td(em);return new tg(eg.add(eb))}static fromHex(eu){eu=ensureBytes("ristrettoHex",eu,32);let{a:ed,d:eg}=eX.CURVE,em=eX.CURVE.Fp.ORDER,eb=eX.CURVE.Fp.create,ew="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",e_=th(eu);if(!equalBytes(numberToBytesLE(e_,32),eu)||isNegativeLE(e_,em))throw Error(ew);let eE=eb(e_*e_),eA=eb(e$+ed*eE),eS=eb(e$-ed*eE),eI=eb(eA*eA),eC=eb(eS*eS),eM=eb(ed*eg*eI-eC),{isValid:eO,value:eT}=e7(eb(eM*eC)),eP=eb(eT*eS),eN=eb(eT*eP*eM),ek=eb((e_+e_)*eP);isNegativeLE(ek,em)&&(ek=eb(-ek));let eR=eb(eA*eN),eD=eb(ek*eR);if(!eO||isNegativeLE(eD,em)||eR===eF)throw Error(ew);return new tg(new eX.ExtendedPoint(ek,eR,e$,eD))}static msm(eu,ed){let eg=Field(eX.CURVE.n,eX.CURVE.nBitLength);return pippenger(tg,eg,eu,ed)}toRawBytes(){let eu,{ex:ed,ey:eg,ez:em,et:eb}=this.ep,ew=eX.CURVE.Fp.ORDER,e_=eX.CURVE.Fp.create,eE=e_(e_(em+eg)*e_(em-eg)),eA=e_(ed*eg),eS=e_(eA*eA),{value:eI}=e7(e_(eE*eS)),eC=e_(eI*eE),eM=e_(eI*eA),eO=e_(eC*eM*eb);if(isNegativeLE(eb*eO,ew)){let em=e_(eg*e0),eb=e_(ed*e0);ed=em,eg=eb,eu=e_(eC*e8)}else eu=eM;isNegativeLE(ed*eO,ew)&&(eg=e_(-eg));let eT=e_((em-eg)*eu);return isNegativeLE(eT,ew)&&(eT=e_(-eT)),numberToBytesLE(eT,32)}toHex(){return bytesToHex(this.toRawBytes())}toString(){return this.toHex()}equals(eu){eQ(eu);let{ex:ed,ey:eg}=this.ep,{ex:em,ey:eb}=eu.ep,ew=eX.CURVE.Fp.create,e_=ew(ed*eb)===ew(eg*em),eE=ew(eg*eb)===ew(ed*em);return e_||eE}add(eu){return eQ(eu),new tg(this.ep.add(eu.ep))}subtract(eu){return eQ(eu),new tg(this.ep.subtract(eu.ep))}multiply(eu){return new tg(this.ep.multiply(eu))}multiplyUnsafe(eu){return new tg(this.ep.multiplyUnsafe(eu))}double(){return new tg(this.ep.double())}negate(){return new tg(this.ep.negate())}}},59629:function(eu,ed,eg){"use strict";function em(eu){if(!Number.isSafeInteger(eu)||eu<0)throw Error("positive integer expected, got "+eu)}function eb(eu){return eu instanceof Uint8Array||ArrayBuffer.isView(eu)&&"Uint8Array"===eu.constructor.name}function ew(eu,...ed){if(!eb(eu))throw Error("Uint8Array expected");if(ed.length>0&&!ed.includes(eu.length))throw Error("Uint8Array expected of length "+ed+", got length="+eu.length)}function e_(eu){if("function"!=typeof eu||"function"!=typeof eu.create)throw Error("Hash should be wrapped by utils.wrapConstructor");em(eu.outputLen),em(eu.blockLen)}function eE(eu,ed=!0){if(eu.destroyed)throw Error("Hash instance has been destroyed");if(ed&&eu.finished)throw Error("Hash#digest() has already been called")}function eA(eu,ed){ew(eu);let eg=ed.outputLen;if(eu.length<eg)throw Error("digestInto() expects output buffer of length at least "+eg)}eg.d(ed,{$h:function(){return eE},eB:function(){return eA},gk:function(){return ew},k8:function(){return em},z3:function(){return e_}})},80264:function(eu,ed,eg){"use strict";eg.d(ed,{VR:function(){return eA},bc:function(){return e_},l3:function(){return eE}});var em=eg(59629),eb=eg(67136);function ew(eu,ed,eg,em){if("function"==typeof eu.setBigUint64)return eu.setBigUint64(ed,eg,em);let eb=BigInt(32),ew=BigInt(4294967295),e_=Number(eg>>eb&ew),eE=Number(eg&ew),eA=em?4:0,eS=em?0:4;eu.setUint32(ed+eA,e_,em),eu.setUint32(ed+eS,eE,em)}function e_(eu,ed,eg){return eu&ed^~eu&eg}function eE(eu,ed,eg){return eu&ed^eu&eg^ed&eg}class eA extends eb.kb{constructor(eu,ed,eg,em){super(),this.blockLen=eu,this.outputLen=ed,this.padOffset=eg,this.isLE=em,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(eu),this.view=(0,eb.GL)(this.buffer)}update(eu){(0,em.$h)(this);let{view:ed,buffer:eg,blockLen:ew}=this;eu=(0,eb.O0)(eu);let e_=eu.length;for(let em=0;em<e_;){let eE=Math.min(ew-this.pos,e_-em);if(eE===ew){let ed=(0,eb.GL)(eu);for(;ew<=e_-em;em+=ew)this.process(ed,em);continue}eg.set(eu.subarray(em,em+eE),this.pos),this.pos+=eE,em+=eE,this.pos===ew&&(this.process(ed,0),this.pos=0)}return this.length+=eu.length,this.roundClean(),this}digestInto(eu){(0,em.$h)(this),(0,em.eB)(eu,this),this.finished=!0;let{buffer:ed,view:eg,blockLen:e_,isLE:eE}=this,{pos:eA}=this;ed[eA++]=128,this.buffer.subarray(eA).fill(0),this.padOffset>e_-eA&&(this.process(eg,0),eA=0);for(let eu=eA;eu<e_;eu++)ed[eu]=0;ew(eg,e_-8,BigInt(8*this.length),eE),this.process(eg,0);let eS=(0,eb.GL)(eu),eI=this.outputLen;if(eI%4)throw Error("_sha2: outputLen should be aligned to 32bit");let eC=eI/4,eM=this.get();if(eC>eM.length)throw Error("_sha2: outputLen bigger than state");for(let eu=0;eu<eC;eu++)eS.setUint32(4*eu,eM[eu],eE)}digest(){let{buffer:eu,outputLen:ed}=this;this.digestInto(eu);let eg=eu.slice(0,ed);return this.destroy(),eg}_cloneInto(eu){eu||(eu=new this.constructor),eu.set(...this.get());let{blockLen:ed,buffer:eg,length:em,finished:eb,destroyed:ew,pos:e_}=this;return eu.length=em,eu.pos=e_,eu.finished=eb,eu.destroyed=ew,em%ed&&eu.buffer.set(eg),eu}}},96541:function(eu,ed,eg){"use strict";eg.d(ed,{EP:function(){return eN},SD:function(){return eR},Vl:function(){return e_},gm:function(){return ek},mk:function(){return eD}});let em=BigInt(4294967296-1),eb=BigInt(32);function ew(eu,ed=!1){return ed?{h:Number(eu&em),l:Number(eu>>eb&em)}:{h:0|Number(eu>>eb&em),l:0|Number(eu&em)}}function e_(eu,ed=!1){let eg=new Uint32Array(eu.length),em=new Uint32Array(eu.length);for(let eb=0;eb<eu.length;eb++){let{h:e_,l:eE}=ew(eu[eb],ed);[eg[eb],em[eb]]=[e_,eE]}return[eg,em]}let eE=(eu,ed)=>BigInt(eu>>>0)<<eb|BigInt(ed>>>0),eA=(eu,ed,eg)=>eu>>>eg,eS=(eu,ed,eg)=>eu<<32-eg|ed>>>eg,eI=(eu,ed,eg)=>eu>>>eg|ed<<32-eg,eC=(eu,ed,eg)=>eu<<32-eg|ed>>>eg,eM=(eu,ed,eg)=>eu<<64-eg|ed>>>eg-32,eO=(eu,ed,eg)=>eu>>>eg-32|ed<<64-eg,eT=(eu,ed)=>ed,eP=(eu,ed)=>eu,eN=(eu,ed,eg)=>eu<<eg|ed>>>32-eg,ek=(eu,ed,eg)=>ed<<eg|eu>>>32-eg,eR=(eu,ed,eg)=>ed<<eg-32|eu>>>64-eg,eD=(eu,ed,eg)=>eu<<eg-32|ed>>>64-eg;function eB(eu,ed,eg,em){let eb=(ed>>>0)+(em>>>0);return{h:eu+eg+(eb/4294967296|0)|0,l:0|eb}}let eU=(eu,ed,eg)=>(eu>>>0)+(ed>>>0)+(eg>>>0),eL=(eu,ed,eg,em)=>ed+eg+em+(eu/4294967296|0)|0,ej=(eu,ed,eg,em)=>(eu>>>0)+(ed>>>0)+(eg>>>0)+(em>>>0),eF=(eu,ed,eg,em,eb)=>ed+eg+em+eb+(eu/4294967296|0)|0,e$=(eu,ed,eg,em,eb)=>(eu>>>0)+(ed>>>0)+(eg>>>0)+(em>>>0)+(eb>>>0),eK=(eu,ed,eg,em,eb,ew)=>ed+eg+em+eb+ew+(eu/4294967296|0)|0,eH={fromBig:ew,split:e_,toBig:eE,shrSH:eA,shrSL:eS,rotrSH:eI,rotrSL:eC,rotrBH:eM,rotrBL:eO,rotr32H:eT,rotr32L:eP,rotlSH:eN,rotlSL:ek,rotlBH:eR,rotlBL:eD,add:eB,add3L:eU,add3H:eL,add4L:ej,add4H:eF,add5H:eK,add5L:e$};ed.ZP=eH},53929:function(eu,ed,eg){"use strict";eg.d(ed,{JQ:function(){return eS}});var em=eg(80264),eb=eg(67136);let ew=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),e_=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),eE=new Uint32Array(64);class eA extends em.VR{constructor(){super(64,32,8,!1),this.A=0|e_[0],this.B=0|e_[1],this.C=0|e_[2],this.D=0|e_[3],this.E=0|e_[4],this.F=0|e_[5],this.G=0|e_[6],this.H=0|e_[7]}get(){let{A:eu,B:ed,C:eg,D:em,E:eb,F:ew,G:e_,H:eE}=this;return[eu,ed,eg,em,eb,ew,e_,eE]}set(eu,ed,eg,em,eb,ew,e_,eE){this.A=0|eu,this.B=0|ed,this.C=0|eg,this.D=0|em,this.E=0|eb,this.F=0|ew,this.G=0|e_,this.H=0|eE}process(eu,ed){for(let eg=0;eg<16;eg++,ed+=4)eE[eg]=eu.getUint32(ed,!1);for(let eu=16;eu<64;eu++){let ed=eE[eu-15],eg=eE[eu-2],em=(0,eb.np)(ed,7)^(0,eb.np)(ed,18)^ed>>>3,ew=(0,eb.np)(eg,17)^(0,eb.np)(eg,19)^eg>>>10;eE[eu]=ew+eE[eu-7]+em+eE[eu-16]|0}let{A:eg,B:e_,C:eA,D:eS,E:eI,F:eC,G:eM,H:eO}=this;for(let eu=0;eu<64;eu++){let ed=(0,eb.np)(eI,6)^(0,eb.np)(eI,11)^(0,eb.np)(eI,25),eT=eO+ed+(0,em.bc)(eI,eC,eM)+ew[eu]+eE[eu]|0,eP=(0,eb.np)(eg,2)^(0,eb.np)(eg,13)^(0,eb.np)(eg,22),eN=eP+(0,em.l3)(eg,e_,eA)|0;eO=eM,eM=eC,eC=eI,eI=eS+eT|0,eS=eA,eA=e_,e_=eg,eg=eT+eN|0}eg=eg+this.A|0,e_=e_+this.B|0,eA=eA+this.C|0,eS=eS+this.D|0,eI=eI+this.E|0,eC=eC+this.F|0,eM=eM+this.G|0,eO=eO+this.H|0,this.set(eg,e_,eA,eS,eI,eC,eM,eO)}roundClean(){eE.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}let eS=(0,eb.hE)(()=>new eA)},67136:function(eu,ed,eg){"use strict";eg.d(ed,{kb:function(){return eN},l1:function(){return eI},ci:function(){return eM},eV:function(){return eP},GL:function(){return e_},iA:function(){return eA},O6:function(){return eR},np:function(){return eE},O0:function(){return eT},Jq:function(){return ew},hE:function(){return ek}});let em="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;var eb=eg(59629);function ew(eu){return new Uint32Array(eu.buffer,eu.byteOffset,Math.floor(eu.byteLength/4))}function e_(eu){return new DataView(eu.buffer,eu.byteOffset,eu.byteLength)}function eE(eu,ed){return eu<<32-ed|eu>>>ed}let eA=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0];function eS(eu){return eu<<24&4278190080|eu<<8&16711680|eu>>>8&65280|eu>>>24&255}function eI(eu){for(let ed=0;ed<eu.length;ed++)eu[ed]=eS(eu[ed])}let eC=Array.from({length:256},(eu,ed)=>ed.toString(16).padStart(2,"0"));function eM(eu){(0,eb.gk)(eu);let ed="";for(let eg=0;eg<eu.length;eg++)ed+=eC[eu[eg]];return ed}function eO(eu){if("string"!=typeof eu)throw Error("utf8ToBytes expected string, got "+typeof eu);return new Uint8Array(new TextEncoder().encode(eu))}function eT(eu){return"string"==typeof eu&&(eu=eO(eu)),(0,eb.gk)(eu),eu}function eP(...eu){let ed=0;for(let eg=0;eg<eu.length;eg++){let em=eu[eg];(0,eb.gk)(em),ed+=em.length}let eg=new Uint8Array(ed);for(let ed=0,em=0;ed<eu.length;ed++){let eb=eu[ed];eg.set(eb,em),em+=eb.length}return eg}class eN{clone(){return this._cloneInto()}}function ek(eu){let ed=ed=>eu().update(eT(ed)).digest(),eg=eu();return ed.outputLen=eg.outputLen,ed.blockLen=eg.blockLen,ed.create=()=>eu(),ed}function eR(eu=32){if(em&&"function"==typeof em.getRandomValues)return em.getRandomValues(new Uint8Array(eu));if(em&&"function"==typeof em.randomBytes)return em.randomBytes(eu);throw Error("crypto.getRandomValues must be defined")}},68945:function(eu,ed,eg){"use strict";eg.d(ed,{K:function(){return tD}});var em=eg(5950),eb=eg(45604),ew=eg(56916),e_=eg(33134),eE=eg(71965),eA=eg(39288),eS=eg(12236),eI=eg(26178),eC=eg(24961),eM=eg(27386),eO=eg(86400),eT=eg(93236),eP=eg(90819),eN=eg(80474),ek=eg(57477),eR=eg(73710),eD=eg(67626),eB=eg(52948),eU=eg(71638),eL=eg(38150);class ej extends eL.G{constructor({value:eu}){super(`Number \`${eu}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function eF(eu,ed){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(eu))throw new ej({value:eu});let[eg,em="0"]=eu.split("."),eb=eg.startsWith("-");if(eb&&(eg=eg.slice(1)),em=em.replace(/(0+)$/,""),0===ed)1===Math.round(Number(`.${em}`))&&(eg=`${BigInt(eg)+1n}`),em="";else if(em.length>ed){let[eu,eb,ew]=[em.slice(0,ed-1),em.slice(ed-1,ed),em.slice(ed)],e_=Math.round(Number(`${eb}.${ew}`));(em=e_>9?`${BigInt(eu)+BigInt(1)}0`.padStart(eu.length+1,"0"):`${eu}${e_}`).length>ed&&(em=em.slice(1),eg=`${BigInt(eg)+1n}`),em=em.slice(0,ed)}else em=em.padEnd(ed,"0");return BigInt(`${eb?"-":""}${eg}${em}`)}var e$=eg(92083);eg(91443);var eK=eg(34609),eH=eg(16541),eV=eg(10944),eG=eg(23704),eW=eg(46719),eJ=eg(556),eZ=eg(2706),eY=eg(36563),eX=eg(845),eQ=eg(17739),e0=eg(95314),e6=eg(39854),e8=eg(76182),e5=eg(1241),e9=eg(88518),e7=eg(93921),tu=eg(40458),th=eg(28672),td=eg(44984),tg=eg(21257),ty=eg(98863);function tb(eu){let ed,eg,em=[];function eb(eu){return eV.p.parseEvmChainId(eu)||1}function ew(){return ed||(ed=ty.D.getInstance({projectId:eu.options.projectId,chainId:eZ.R.getActiveCaipNetwork()?.caipNetworkId,enableLogger:eu.options.enableAuthLogger,onTimeout:eu=>{"iframe_load_failed"===eu?e7.B.open(tg.j.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):"iframe_request_timeout"===eu?e7.B.open(tg.j.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):"unverified_domain"===eu&&e7.B.open(tg.j.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")},abortController:tg.j.EmbeddedWalletAbortController,getActiveCaipNetwork:eu=>eZ.R.getActiveCaipNetwork(eu)})),ed}async function e_(ed={}){let eg=ew(),e_=ed.chainId;if(ed.isReconnecting){let ed=eV.p.parseEvmChainId(eg.getLastUsedChainId()||""),em=eu.chains?.[0].id;if(!(e_=ed||em))throw Error("ChainId not found in provider")}let eE=(0,tu.r9)("eip155"),{address:eA,chainId:eS,accounts:eI}=await th.w.authConnectorAuthenticate({authConnector:eg,chainId:e_,preferredAccountType:eE,socialUri:ed.socialUri,chainNamespace:eH.b.CHAIN.EVM});em=eI?.map(eu=>eu.address)||[eA];let eC=eb(eS);return{accounts:em,account:eA,chainId:eC,chain:{id:eC,unsuported:!1}}}return(0,e8.K)(ed=>({id:eH.b.CONNECTOR_ID.AUTH,name:eH.b.CONNECTOR_NAMES.AUTH,type:"AUTH",chain:eH.b.CHAIN.EVM,async connect(eu={}){if(eg)return eg;eg||(eg=new Promise(ed=>{ed(e_(eu))}));let ed=await eg;return eg=void 0,ed},async disconnect(){let eu=await this.getProvider();await eu.disconnect()},getAccounts:()=>em?.length?(ed.emitter.emit("change",{accounts:em}),Promise.resolve(em)):Promise.resolve([]),async getProvider(){return this.provider||(this.provider=ty.D.getInstance({projectId:eu.options.projectId,chainId:eZ.R.getActiveCaipNetwork()?.caipNetworkId,enableLogger:eu.options.enableAuthLogger,abortController:tg.j.EmbeddedWalletAbortController,onTimeout:eu=>{"iframe_load_failed"===eu?e7.B.open(tg.j.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):"iframe_request_timeout"===eu?e7.B.open(tg.j.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):"unverified_domain"===eu&&e7.B.open(tg.j.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")},getActiveCaipNetwork:eu=>eZ.R.getActiveCaipNetwork(eu)})),Promise.resolve(this.provider)},async getChainId(){let eu=await this.getProvider(),{chainId:ed}=await eu.getChainId();return eb(ed)},async isAuthorized(){let eu=eZ.R.state.activeChain,ed=eu===eH.b.CHAIN.EVM,eg=eH.b.AUTH_CONNECTOR_SUPPORTED_CHAINS.some(eu=>td.A.getConnectorId(eu)===eH.b.CONNECTOR_ID.AUTH);if(eg&&!ed)return!1;let em=await this.getProvider();return Promise.resolve(em.getLoginEmailUsed())},async switchChain({chainId:eu}){try{let eg=ed.chains.find(ed=>ed.id===eu);if(!eg)throw new e5.x3(Error("chain not found on connector."));let eb=await this.getProvider(),ew=(0,tu.r9)("eip155"),e_=await eb.connect({chainId:eu,preferredAccountType:ew});return em=e_?.accounts?.map(eu=>eu.address)||[e_.address],ed.emitter.emit("change",{chainId:Number(eu),accounts:em}),eg}catch(eu){if(eu instanceof Error)throw new e5.x3(eu);throw eu}},onAccountsChanged(eu){0===eu.length?this.onDisconnect():ed.emitter.emit("change",{accounts:eu.map(e9.K)})},onChainChanged(eu){let eg=Number(eu);ed.emitter.emit("change",{chainId:eg})},async onDisconnect(eu){let ed=await this.getProvider();await ed.disconnect()}}))}var tw=eg(77979),t_=eg(54875);eg(59782);var tE=eg(56940);function tA(eu,ed){let eg,em,eb,ew,e_,eE,eA;let eS=eu.isNewChainsStale??!0;return(0,e8.K)(eu=>({id:"walletConnect",name:"WalletConnect",type:tA.type,async setup(){let eu=await this.getProvider().catch(()=>null);eu&&(ew||(ew=this.onConnect.bind(this),eu.on("connect",ew)),eE||(eE=this.onSessionDelete.bind(this),eu.on("session_delete",eE)))},async connect({...eu}={}){try{let ed=eZ.R.getCaipNetworks(),eg=await this.getProvider();if(!eg)throw new tw.M;e_||(e_=this.onDisplayUri,eg.on("display_uri",e_));let eS=await this.isChainsStale();eg.session&&eS&&await eg.disconnect();let eI=eJ.h.state.universalProviderConfigOverride;if(!eg.session||eS){let em=eK.sQ.createNamespaces(ed,eI);await eg.connect({optionalNamespaces:em,..."pairingTopic"in eu?{pairingTopic:eu.pairingTopic}:{}}),this.setRequestedChainsIds(ed.map(eu=>Number(eu.id)))}let eC=await this.getAccounts(),eM=await this.getChainId(),eO=eg.session?.namespaces?.eip155?.chains,eT=eO?.some(eu=>Number(eu.split(":")[1])===eM),eP=1;eT?eP=eM:eO?.[0]&&(eP=Number(eO[0].split(":")[1])),e_&&(eg.removeListener("display_uri",e_),e_=void 0),ew&&(eg.removeListener("connect",ew),ew=void 0),em||(em=this.onAccountsChanged.bind(this),eg.on("accountsChanged",em)),eb||(eb=this.onChainChanged.bind(this),eg.on("chainChanged",eb)),eA||(eA=this.onDisconnect.bind(this),eg.on("disconnect",eA)),eE||(eE=this.onSessionDelete.bind(this),eg.on("session_delete",eE));let eN=eI?.defaultChain;return eg.setDefaultChain(eN??`eip155:${eP}`),{accounts:eC,chainId:eP}}catch(eu){if(/(user rejected|connection request reset)/i.test(eu?.message))throw new e5.ab(eu);throw eu}},async disconnect(){let eu=await this.getProvider();try{await eu?.disconnect()}catch(eu){if(!/No matching key/i.test(eu.message))throw eu}finally{eb&&(eu?.removeListener("chainChanged",eb),eb=void 0),eA&&(eu?.removeListener("disconnect",eA),eA=void 0),ew||(ew=this.onConnect.bind(this),eu?.on("connect",ew)),em&&(eu?.removeListener("accountsChanged",em),em=void 0),eE&&(eu?.removeListener("session_delete",eE),eE=void 0),this.setRequestedChainsIds([])}},async getAccounts(){let eu=await this.getProvider();if(!eu?.session?.namespaces)return[];let ed=eu?.session?.namespaces[eH.b.CHAIN.EVM]?.accounts,eg=ed?.map(eu=>eu.split(":")[2])??[],em=new Set,eb=eg.filter(eu=>{let ed=eu?.toLowerCase();return!em.has(ed)&&(em.add(ed),!0)});return eb},async getProvider({chainId:eu}={}){eg||(eg=await ed.getUniversalProvider(),eg?.events.setMaxListeners(Number.POSITIVE_INFINITY));let em=eW.M.getActiveNamespace(),eb=ed.getCaipNetwork()?.id;if(eu&&eb!==eu&&em){let eu=eW.M.getStoredActiveCaipNetworkId(),eg=em?ed.getCaipNetworks(em):[],eb=eg?.find(ed=>ed.id===eu);eb&&eb.chainNamespace===eH.b.CHAIN.EVM&&await this.switchChain?.({chainId:Number(eb.id)})}return eg},async getChainId(){let eu=ed.getCaipNetwork(eH.b.CHAIN.EVM)?.id;if(eu)return eu;let eg=await this.getProvider(),em=eg.session?.namespaces[eH.b.CHAIN.EVM]?.chains?.[0],eb=eZ.R.getCaipNetworks().find(eu=>eu.id===em);return eb?.id},async isAuthorized(){try{let[eu,ed]=await Promise.all([this.getAccounts(),this.getProvider()]);if(!eu.length)return!1;let eg=await this.isChainsStale();if(eg&&ed.session)return await ed.disconnect().catch(()=>{}),!1;return!0}catch{return!1}},async switchChain({addEthereumChainParameter:ed,chainId:eg}){let em=await this.getProvider();if(!em)throw new tw.M;let eb=eZ.R.getCaipNetworks().find(eu=>eu.id===eg);if(!eb)throw new e5.x3(new t_.X4);try{await em.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,tE.eC)(eg)}]}),eb?.caipNetworkId&&em.setDefaultChain(eb?.caipNetworkId),eu.emitter.emit("change",{chainId:Number(eg)});let ed=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...ed,eg]),{...eb,id:eb.id}}catch(ew){let eu=ew;if(/(?:user rejected)/iu.test(eu.message))throw new e5.ab(eu);try{let eu;eu=ed?.blockExplorerUrls?ed.blockExplorerUrls:eb.blockExplorers?.default.url?[eb.blockExplorers?.default.url]:[];let ew=eb.rpcUrls?.chainDefault?.http||[],e_={blockExplorerUrls:eu,chainId:(0,tE.eC)(eg),chainName:eb.name,iconUrls:ed?.iconUrls,nativeCurrency:eb.nativeCurrency,rpcUrls:ew};await em.request({method:"wallet_addEthereumChain",params:[e_]});let eE=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...eE,eg]),{...eb,id:eb.id}}catch(eu){throw new e5.ab(eu)}}},onAccountsChanged(ed){0===ed.length?this.onDisconnect():eu.emitter.emit("change",{accounts:ed.map(eu=>(0,e9.K)(eu))})},onChainChanged(ed){let eg=Number(ed);eu.emitter.emit("change",{chainId:eg})},onConnect(eu){this.setRequestedChainsIds(eZ.R.getCaipNetworks().map(eu=>Number(eu.id)))},async onDisconnect(ed){this.setRequestedChainsIds([]),eu.emitter.emit("disconnect");let eg=await this.getProvider();em&&(eg.removeListener("accountsChanged",em),em=void 0),eb&&(eg.removeListener("chainChanged",eb),eb=void 0),eA&&(eg.removeListener("disconnect",eA),eA=void 0),eE&&(eg.removeListener("session_delete",eE),eE=void 0),ew||(ew=this.onConnect.bind(this),eg.on("connect",ew))},onDisplayUri(ed){eu.emitter.emit("message",{type:"display_uri",data:ed})},onSessionDelete(){this.onDisconnect()},getNamespaceChainsIds(){if(!eg?.session?.namespaces)return[];let eu=eg?.session?.namespaces[eH.b.CHAIN.EVM]?.accounts,ed=eu?.map(eu=>Number.parseInt(eu.split(":")[1]??""))??[];return ed},async getRequestedChainsIds(){let ed=await eu.storage?.getItem(this.requestedChainsStorageKey)??[];return[...new Set(ed)]},async isChainsStale(){if(!eS)return!1;let ed=eu.chains.map(eu=>eu.id),eg=this.getNamespaceChainsIds();if(eg.length&&!eg.some(eu=>ed.includes(eu)))return!1;let em=await this.getRequestedChainsIds();return!ed.every(eu=>em.includes(Number(eu)))},async setRequestedChainsIds(ed){await eu.storage?.setItem(this.requestedChainsStorageKey,ed)},get requestedChainsStorageKey(){return`${this.id}.requestedChains`}}))}tA.type="walletConnect";var tS=eg(62405),tI=eg(60052);let tC=(0,tS.sj)({pendingTransactions:0}),tO={state:tC,subscribeKey:(eu,ed)=>(0,tI.VW)(tC,eu,ed),increase(eu){tC[eu]+=1},decrease(eu){tC[eu]-=1},reset(eu){tC[eu]=0}};function tT(eu){try{return JSON.parse(eu)}catch(eu){throw Error("Error parsing wallet capabilities")}}async function tP(eu){if(eG.j.isSafeApp()){let{safe:ed}=await Promise.all([eg.e(1563),eg.e(3415)]).then(eg.bind(eg,73415));if(ed&&!eu.some(eu=>"safe"===eu.type)){let eu=ed();return eu}}return null}async function tN(eu){try{let{coinbaseWallet:ed}=await Promise.all([eg.e(1563),eg.e(3415)]).then(eg.bind(eg,73415));if(ed&&!eu.some(eu=>"coinbaseWalletSDK"===eu.id))return ed()}catch(eu){console.error("Failed to import Coinbase Wallet SDK:",eu)}return null}let tR={enable:!1,pollingInterval:3e4};class tD extends e0.q{constructor(eu){let ed=eY.f.extendCaipNetworks(eu.networks,{projectId:eu.projectId,customNetworkImageUrls:{},customRpcUrls:eu.customRpcUrls});super(),this.balancePromises={},this.namespace=eH.b.CHAIN.EVM,this.adapterType=eH.b.ADAPTER_TYPES.WAGMI,this.projectId=eu.projectId,this.pendingTransactionsFilter={...tR,...eu.pendingTransactionsFilter??{}},this.createConfig({...eu,networks:ed}),this.checkChainId()}construct(eu){this.checkChainId(),this.setupWatchers()}async getAccounts(eu){let ed=this.getWagmiConnector(eu.id);if(!ed)return{accounts:[]};if(ed.id===eH.b.CONNECTOR_ID.AUTH){let eu=await ed.getProvider();if(!eu?.user)return{accounts:[]};let{address:eg,accounts:em}=eu.user;return Promise.resolve({accounts:(em||[{address:eg,type:"eoa"}]).map(eu=>eG.j.createAccount("eip155",eu.address,eu.type))})}let{addresses:eg,address:eb}=(0,em.D)(this.wagmiConfig);return Promise.resolve({accounts:[...new Set(eg||[eb])].map(eu=>eG.j.createAccount("eip155",eu||"","eoa"))})}checkChainId(){let{chainId:eu}=(0,em.D)(this.wagmiConfig);eu&&this.emit("switchNetwork",{chainId:eu})}getWagmiConnector(eu){return this.wagmiConfig.connectors.find(ed=>ed.id===eu)}createConfig(eu){this.wagmiChains=eu.networks.filter(eu=>eu.chainNamespace===eH.b.CHAIN.EVM);let ed={},eg=[...eu.connectors??[]];this.wagmiChains.forEach(eg=>{let em=eu.transports?.[eg.id],eb=eY.f.getCaipNetworkId(eg);em?ed[eg.id]=eY.f.extendWagmiTransports(eg,eu.projectId,em):ed[eg.id]=eY.f.getViemTransport(eg,eu.projectId,eu.customRpcUrls?.[eb])}),this.wagmiConfig=(0,eb._)({...eu,chains:this.wagmiChains,connectors:eg,transports:ed})}setupWatchPendingTransactions(){if(!this.pendingTransactionsFilter.enable||this.unwatchPendingTransactions)return;this.unwatchPendingTransactions=(0,ew.O)(this.wagmiConfig,{pollingInterval:this.pendingTransactionsFilter.pollingInterval,onError:()=>{},onTransactions:()=>{this.emit("pendingTransactions"),tO.increase("pendingTransactions")}});let eu=tO.subscribeKey("pendingTransactions",ed=>{ed>=eH.b.LIMITS.PENDING_TRANSACTIONS&&(this.unwatchPendingTransactions?.(),eu())})}setupWatchers(){(0,e_.u)(this.wagmiConfig,{onChange:(eu,ed)=>{if("disconnected"===eu.status&&ed.address&&this.emit("disconnect"),eu?.chainId&&eu?.chainId!==ed?.chainId&&this.emit("switchNetwork",{chainId:eu.chainId}),"connected"===eu.status){let eg=eu.address!==ed?.address,em=eu.connector.id!==ed.connector?.id,eb="connected"!==ed.status;(eg||em||eb)&&(this.setupWatchPendingTransactions(),this.handleAccountChanged({address:eu.address,chainId:eu.chainId,connector:eu.connector}))}}}),(0,eE.a)(this.wagmiConfig,{onChange:eu=>{this.clearConnections(),this.addConnection(...eu.map(eu=>{let ed=this.getCaipNetworks().find(ed=>ed.id===eu.chainId),eg=eu.connector.id===eH.b.CONNECTOR_ID.AUTH;return{accounts:eu.accounts.map(eu=>({address:eu})),caipNetwork:ed,connectorId:eu.connector.id,auth:eg?{name:eW.M.getConnectedSocialProvider(),username:eW.M.getConnectedSocialUsername()}:void 0}}))}})}async addThirdPartyConnectors(eu){let ed=[];if(!1!==eu.enableCoinbase){let eu=await tN(this.wagmiConfig.connectors);eu&&ed.push(eu)}let eg=await tP(this.wagmiConfig.connectors);eg&&ed.push(eg),await Promise.all(ed.map(ed=>{let eg=this.wagmiConfig._internal.connectors.setup(ed);return this.wagmiConfig._internal.connectors.setState(eu=>[...eu,eg]),this.addWagmiConnector(eg,eu)}))}addWagmiConnectors(eu,ed){let eg=[];!1!==eu.enableWalletConnect&&eg.push(tA(eu,ed)),!1!==eu.enableEIP6963&&eg.push((0,eA.L)({shimDisconnect:!0}));let em=ed?.remoteFeatures?.email??!0,eb=Array.isArray(ed?.remoteFeatures?.socials)&&ed?.remoteFeatures?.socials?.length>0;(em||eb)&&eg.push(tb({chains:this.wagmiChains,options:{projectId:eu.projectId,enableAuthLogger:eu.enableAuthLogger}})),eg.forEach(eu=>{let ed=this.wagmiConfig._internal.connectors.setup(eu);this.wagmiConfig._internal.connectors.setState(eu=>[...eu,ed])})}async handleAccountChanged({address:eu,chainId:ed,connector:eg}){if(!this.namespace)throw Error("WagmiAdapter:handleAccountChanged - namespace is required");let em=await eg.getProvider().catch(()=>void 0);this.emit("accountChanged",{address:eu,chainId:ed,connector:{id:eg.id,name:eX.C.ConnectorNamesMap[eg.id]??eg.name,imageId:eX.C.ConnectorImageIds[eg.id],type:eX.C.ConnectorTypesMap[eg.type]??"EXTERNAL",info:eg.id===eH.b.CONNECTOR_ID.INJECTED?void 0:{rdns:eg.id},provider:em,chain:this.namespace,chains:[]}})}async signMessage(eu){try{let ed=await (0,eS.l)(this.wagmiConfig,{message:eu.message,account:eu.address});return{signature:ed}}catch(eu){throw Error("WagmiAdapter:signMessage - Sign message failed")}}async sendTransaction(eu){let{chainId:ed,address:eg}=(0,em.D)(this.wagmiConfig),eb={account:eg,to:eu.to,value:Number.isNaN(Number(eu.value))?BigInt(0):BigInt(eu.value),gas:eu.gas?BigInt(eu.gas):void 0,gasPrice:eu.gasPrice?BigInt(eu.gasPrice):void 0,data:eu.data,chainId:ed,type:"legacy",parameters:["nonce"]};await (0,eI.Z)(this.wagmiConfig,eb);let ew=await (0,eC.T)(this.wagmiConfig,eb);return await (0,eM.e)(this.wagmiConfig,{hash:ew,timeout:25e3}),{hash:ew}}async writeContract(eu){let{caipNetwork:ed,...eg}=eu,em=Number(eV.p.caipNetworkIdToNumber(ed.caipNetworkId)),eb=await (0,eO.n)(this.wagmiConfig,{chain:this.wagmiChains?.[em],chainId:em,address:eg.tokenAddress,account:eg.fromAddress,abi:eg.abi,functionName:eg.method,args:eg.args,__mode:"prepared"});return{hash:eb}}async estimateGas(eu){try{let ed=await (0,eT.Q)(this.wagmiConfig,{account:eu.address,to:eu.to,data:eu.data,type:"legacy"});return{gas:ed}}catch(eu){throw Error("WagmiAdapter:estimateGas - error estimating gas")}}parseUnits(eu){return eF(eu.value,eu.decimals)}formatUnits(eu){return(0,e$.b)(eu.value,eu.decimals)}async addWagmiConnector(eu,ed){if(!this.namespace)throw Error("WagmiAdapter:addWagmiConnector - namespace is required");if(eu.type===eH.b.CONNECTOR_ID.INJECTED&&!1===ed.enableEIP6963||eu.id===eH.b.CONNECTOR_ID.AUTH||eu.id===eH.b.CONNECTOR_ID.WALLET_CONNECT)return;let eg=await eu.getProvider().catch(()=>void 0);this.addConnector({id:eu.id,explorerId:eX.C.ConnectorExplorerIds[eu.id],imageUrl:ed?.connectorImages?.[eu.id]??eu.icon,name:eX.C.ConnectorNamesMap[eu.id]??eu.name,imageId:eX.C.ConnectorImageIds[eu.id],type:eX.C.ConnectorTypesMap[eu.type]??"EXTERNAL",info:eu.id===eH.b.CONNECTOR_ID.INJECTED?void 0:{rdns:eu.id},provider:eg,chain:this.namespace,chains:[]})}async syncConnectors(eu,ed){(0,eP.f)(this.wagmiConfig,{onChange:ed=>{ed.forEach(ed=>this.addWagmiConnector(ed,eu))}}),this.addWagmiConnectors(eu,ed),await Promise.all(this.wagmiConfig.connectors.map(ed=>this.addWagmiConnector(ed,eu))),this.addThirdPartyConnectors(eu)}async syncConnections(){return Promise.resolve()}async syncConnection(eu){let{id:ed,chainId:eg}=eu,em=(0,eN.E)(this.wagmiConfig),eb=em.find(eu=>eu.connector.id===ed),ew=this.getWagmiConnector(ed),e_=await ew?.getProvider(),eE=eG.j.isSafeApp();if(eE&&ed===eH.b.CONNECTOR_ID.SAFE&&!eb?.accounts.length){let eu=this.getWagmiConnector("safe");if(eu){let ed=await (0,ek.$)(this.wagmiConfig,{connector:eu,chainId:Number(eg)}),em=await eu.getProvider();return{chainId:Number(eg),address:ed.accounts[0],provider:em,type:eb?.connector.type?.toUpperCase(),id:eb?.connector.id}}}return{chainId:Number(eb?.chainId),address:eb?.accounts[0],provider:e_,type:eb?.connector.type?.toUpperCase(),id:eb?.connector.id}}async connectWalletConnect(eu){let ed=this.getWalletConnectConnector();await ed.authenticate();let eg=this.getWagmiConnector("walletConnect");if(!eg)throw Error("UniversalAdapter:connectWalletConnect - connector not found");let em=await (0,ek.$)(this.wagmiConfig,{connector:eg,chainId:eu?Number(eu):void 0});return em.chainId!==Number(eu)&&await (0,eR.c)(this.wagmiConfig,{chainId:em.chainId}),{clientId:await ed.provider.client.core.crypto.getClientId()}}async connect(eu){let{id:ed,address:eg,provider:em,type:eb,info:ew,chainId:e_,socialUri:eE}=eu,eA=this.getWagmiConnector(ed);if(!eA)throw Error("connectionControllerClient:connectExternal - connector is undefined");em&&ew&&eA.id===eH.b.CONNECTOR_ID.EIP6963&&eA.setEip6963Wallet?.({provider:em,info:ew});let eS=this.wagmiConfig.state?.connections?.get(eA.uid);if(eS){await this.wagmiConfig.storage?.setItem("recentConnectorId",eA.id);let eu=[...eS.accounts].sort((eu,ed)=>eQ.g.isLowerCaseMatch(eu,eg)?-1:eQ.g.isLowerCaseMatch(ed,eg)?1:0);return this.wagmiConfig?.setState(ed=>({...ed,connections:new Map(ed.connections).set(eA.uid,{accounts:eu,chainId:eS.chainId,connector:eS.connector}),current:eA.uid,status:"connected"})),{address:eu[0],chainId:eS.chainId,provider:em,type:eb,id:ed}}let eI=await (0,ek.$)(this.wagmiConfig,{connector:eA,chainId:e_?Number(e_):void 0,socialUri:eE});return{address:eI.accounts[0],chainId:eI.chainId,provider:em,type:eb,id:ed}}get connections(){return Array.from(this.wagmiConfig.state.connections.values()).map(eu=>({accounts:eu.accounts.map(eu=>({address:eu})),connectorId:eu.connector.id}))}async reconnect(eu){let{id:ed}=eu,eg=this.getWagmiConnector(ed);if(!eg)throw Error("connectionControllerClient:connectExternal - connector is undefined");await (0,eD.G)(this.wagmiConfig,{connectors:[eg]})}async getBalance(eu){let ed=eu.address,eg=this.getCaipNetworks().find(ed=>ed.id===eu.chainId);if(!ed)return Promise.resolve({balance:"0.00",symbol:"ETH"});if(eg&&this.wagmiConfig){let ed=`${eg.caipNetworkId}:${eu.address}`,em=this.balancePromises[ed];if(em)return em;let eb=eW.M.getNativeBalanceCacheForCaipAddress(ed);return eb?{balance:eb.balance,symbol:eb.symbol}:(this.balancePromises[ed]=new Promise(async em=>{try{let eb=Number(eu.chainId),ew=await (0,eB.s)(this.wagmiConfig,{address:eu.address,chainId:eb,token:eu.tokens?.[eg.caipNetworkId]?.address});eW.M.updateNativeBalanceCache({caipAddress:ed,balance:ew.formatted,symbol:ew.symbol,timestamp:Date.now()}),em({balance:ew.formatted,symbol:ew.symbol})}catch(eu){console.warn("Appkit:WagmiAdapter:getBalance - Error getting balance",eu),em({balance:"0.00",symbol:"ETH"})}}).finally(()=>{delete this.balancePromises[ed]}),this.balancePromises[ed]||{balance:"0.00",symbol:"ETH"})}return{balance:"",symbol:""}}getWalletConnectProvider(){return this.getWagmiConnector("walletConnect")?.provider}async disconnect(eu){if(eu.id){let ed=this.getWagmiConnector(eu.id),eg=(0,eN.E)(this.wagmiConfig),em=eg.find(ed=>eQ.g.isLowerCaseMatch(ed.connector.id,eu.id));return(await (0,eU.z)(this.wagmiConfig,{connector:ed}),!1===eJ.h.state.enableReconnect&&this.deleteConnection(eu.id),em)?{connections:[{accounts:em.accounts.map(eu=>({address:eu})),connectorId:em.connector.id}]}:{connections:[]}}return this.disconnectAll()}async disconnectAll(){let eu=(0,eN.E)(this.wagmiConfig),ed=await Promise.allSettled(eu.map(async eu=>{let ed=this.getWagmiConnector(eu.connector.id);return ed&&await (0,eU.z)(this.wagmiConfig,{connector:ed}),eu}));return this.wagmiConfig.state.connections.clear(),{connections:ed.filter(eu=>"fulfilled"===eu.status).map(({value:eu})=>({accounts:eu.accounts.map(eu=>({address:eu})),connectorId:eu.connector.id}))}}async switchNetwork(eu){let{caipNetwork:ed}=eu,eg=this.wagmiConfig.chains.find(eu=>eu.id.toString()===ed.id.toString());await (0,eR.c)(this.wagmiConfig,{chainId:ed.id,addEthereumChainParameter:{chainName:eg?.name??ed.name,nativeCurrency:eg?.nativeCurrency??ed.nativeCurrency,rpcUrls:[ed.rpcUrls?.chainDefault?.http?.[0]??eg?.rpcUrls?.default?.http?.[0]??""],blockExplorerUrls:[eg?.blockExplorers?.default?.url??ed.blockExplorers?.default?.url??""]}}),await super.switchNetwork(eu)}async getCapabilities(eu){if(!this.wagmiConfig)throw Error("connectionControllerClient:getCapabilities - wagmiConfig is undefined");let ed=(0,eN.E)(this.wagmiConfig),eg=ed[0],em=eg?this.getWagmiConnector(eg.connector.id):null;if(!em)throw Error("connectionControllerClient:getCapabilities - connector is undefined");let eb=await em.getProvider();if(!eb)throw Error("connectionControllerClient:getCapabilities - provider is undefined");let ew=eb.session?.sessionProperties?.capabilities;if(ew){let ed=tT(ew),eg=ed[eu];if(eg)return eg}return await eb.request({method:"wallet_getCapabilities",params:[eu]})}async grantPermissions(eu){if(!this.wagmiConfig)throw Error("connectionControllerClient:grantPermissions - wagmiConfig is undefined");let ed=(0,eN.E)(this.wagmiConfig),eg=ed[0],em=eg?this.getWagmiConnector(eg.connector.id):null;if(!em)throw Error("connectionControllerClient:grantPermissions - connector is undefined");let eb=await em.getProvider();if(!eb)throw Error("connectionControllerClient:grantPermissions - provider is undefined");return eb.request({method:"wallet_grantPermissions",params:eu})}async revokePermissions(eu){if(!this.wagmiConfig)throw Error("connectionControllerClient:revokePermissions - wagmiConfig is undefined");let ed=(0,eN.E)(this.wagmiConfig),eg=ed[0],em=eg?this.getWagmiConnector(eg.connector.id):null;if(!em)throw Error("connectionControllerClient:revokePermissions - connector is undefined");let eb=await em.getProvider();if(!eb)throw Error("connectionControllerClient:revokePermissions - provider is undefined");return eb.request({method:"wallet_revokePermissions",params:eu})}async walletGetAssets(eu){if(!this.wagmiConfig)throw Error("connectionControllerClient:walletGetAssets - wagmiConfig is undefined");let ed=(0,eN.E)(this.wagmiConfig),eg=ed[0],em=eg?this.getWagmiConnector(eg.connector.id):null;if(!em)throw Error("connectionControllerClient:walletGetAssets - connector is undefined");let eb=await em.getProvider();if(!eb)throw Error("connectionControllerClient:walletGetAssets - provider is undefined");return eb.request({method:"wallet_getAssets",params:[eu]})}setAuthProvider(eu){if(!this.namespace)throw Error("WagmiAdapter:setAuthProvider - namespace is required");this.addConnector({id:eH.b.CONNECTOR_ID.AUTH,type:"AUTH",name:eH.b.CONNECTOR_NAMES.AUTH,provider:eu,imageId:eX.C.ConnectorImageIds[eH.b.CONNECTOR_ID.AUTH],chain:this.namespace,chains:[]})}async setUniversalProvider(eu){return eu.on("connect",()=>{let eu=(0,eN.E)(this.wagmiConfig),ed=this.getWagmiConnector("walletConnect");if(ed&&!eu.find(eu=>eu.connector.id===ed.id)){if("eip155"===eZ.R.state.activeChain)return;(0,eD.G)(this.wagmiConfig,{connectors:[ed]})}}),this.addConnector(new e6.z({provider:eu,caipNetworks:this.getCaipNetworks(),namespace:"eip155"})),Promise.resolve()}}},16541:function(eu,ed,eg){"use strict";eg.d(ed,{b:function(){return eb}});var em=eg(34406);let eb={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"ID_AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin",cosmos:"Cosmos"},ADAPTER_TYPES:{BITCOIN:"bitcoin",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],HTTP_STATUS_CODES:{SERVER_ERROR:500,TOO_MANY_REQUESTS:429,SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network",SECURE_SITE_SDK_ORIGIN:(void 0!==em&&void 0!==em.env?em.env.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",REMOTE_FEATURES_ALERTS:{MULTI_WALLET_NOT_ENABLED:{DEFAULT:{shortMessage:"Multi-Wallet Not Enabled",longMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com."},CONNECTIONS_HOOK:{shortMessage:"Multi-Wallet Not Enabled",longMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnections hook."},CONNECTION_HOOK:{shortMessage:"Multi-Wallet Not Enabled",longMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnection hook."}}}}},97625:function(eu,ed,eg){"use strict";eg.d(ed,{g:function(){return eE}});let em=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],eb=[{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],ew=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}];var e_=eg(16541);let eE={getERC20Abi:eu=>e_.b.USDT_CONTRACT_ADDRESSES.includes(eu)?ew:em,getSwapAbi:()=>eb}},82493:function(eu,ed,eg){"use strict";eg.d(ed,{E:function(){return eS}});var em=eg(28879),eb=eg(16017),ew=eg(77491),e_=eg(53193);em.extend(ew),em.extend(e_);let eE={...eb,name:"en-web3-modal",relativeTime:{future:"in %s",past:"%s ago",s:"%d sec",m:"1 min",mm:"%d min",h:"1 hr",hh:"%d hrs",d:"1 d",dd:"%d d",M:"1 mo",MM:"%d mo",y:"1 yr",yy:"%d yr"}},eA=["January","February","March","April","May","June","July","August","September","October","November","December"];em.locale("en-web3-modal",eE);let eS={getMonthNameByIndex:eu=>eA[eu],getYear:(eu=new Date().toISOString())=>em(eu).year(),getRelativeDateFromNow:eu=>em(eu).locale("en-web3-modal").fromNow(!0),formatDate:(eu,ed="DD MMM")=>em(eu).format(ed)}},10944:function(eu,ed,eg){"use strict";eg.d(ed,{p:function(){return eb}});var em=eg(16541);let eb={caipNetworkIdToNumber:eu=>eu?Number(eu.split(":")[1]):void 0,parseEvmChainId(eu){return"string"==typeof eu?this.caipNetworkIdToNumber(eu):eu},getNetworksByNamespace:(eu,ed)=>eu?.filter(eu=>eu.chainNamespace===ed)||[],getFirstNetworkByNamespace(eu,ed){return this.getNetworksByNamespace(eu,ed)[0]},getNetworkNameByCaipNetworkId(eu,ed){if(!ed)return;let eg=eu.find(eu=>eu.caipNetworkId===ed);if(eg)return eg.name;let[eb]=ed.split(":");return em.b.CHAIN_NAME_MAP?.[eb]||void 0}}},43654:function(eu,ed,eg){"use strict";eg.d(ed,{C:function(){return eb}});var em=eg(47342);let eb={bigNumber:eu=>new em.Z(eu||0),multiply(eu,ed){if(void 0===eu||void 0===ed)return new em.Z(0);let eg=new em.Z(eu),eb=new em.Z(ed);return eg.times(eb)},formatNumberToLocalString:(eu,ed=2)=>void 0===eu?"0.00":"number"==typeof eu?eu.toLocaleString("en-US",{maximumFractionDigits:ed,minimumFractionDigits:ed}):parseFloat(eu).toLocaleString("en-US",{maximumFractionDigits:ed,minimumFractionDigits:ed}),parseLocalStringToNumber:eu=>void 0===eu?0:parseFloat(eu.replace(/,/gu,""))}},87729:function(eu,ed,eg){"use strict";eg.d(ed,{u:function(){return em}});let em={validateCaipAddress(eu){if(eu.split(":")?.length!==3)throw Error("Invalid CAIP Address");return eu},parseCaipAddress(eu){let ed=eu.split(":");if(3!==ed.length)throw Error(`Invalid CAIP-10 address: ${eu}`);let[eg,em,eb]=ed;if(!eg||!em||!eb)throw Error(`Invalid CAIP-10 address: ${eu}`);return{chainNamespace:eg,chainId:em,address:eb}},parseCaipNetworkId(eu){let ed=eu.split(":");if(2!==ed.length)throw Error(`Invalid CAIP-2 network id: ${eu}`);let[eg,em]=ed;if(!eg||!em)throw Error(`Invalid CAIP-2 network id: ${eu}`);return{chainNamespace:eg,chainId:em}}}},59069:function(eu,ed,eg){"use strict";eg.d(ed,{$U:function(){return e_},Vk:function(){return eb},mr:function(){return ew},uJ:function(){return em}});let em={WALLET_ID:"@appkit/wallet_id",WALLET_NAME:"@appkit/wallet_name",SOLANA_WALLET:"@appkit/solana_wallet",SOLANA_CAIP_CHAIN:"@appkit/solana_caip_chain",ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit-wallet/SOCIAL_USERNAME",RECENT_WALLETS:"@appkit/recent_wallets",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",ACTIVE_NAMESPACE:"@appkit/active_namespace",CONNECTED_NAMESPACES:"@appkit/connected_namespaces",CONNECTION_STATUS:"@appkit/connection_status",SIWX_AUTH_TOKEN:"@appkit/siwx-auth-token",SIWX_NONCE_TOKEN:"@appkit/siwx-nonce-token",TELEGRAM_SOCIAL_PROVIDER:"@appkit/social_provider",NATIVE_BALANCE_CACHE:"@appkit/native_balance_cache",PORTFOLIO_CACHE:"@appkit/portfolio_cache",ENS_CACHE:"@appkit/ens_cache",IDENTITY_CACHE:"@appkit/identity_cache",PREFERRED_ACCOUNT_TYPES:"@appkit/preferred_account_types",CONNECTIONS:"@appkit/connections",DISCONNECTED_CONNECTOR_IDS:"@appkit/disconnected_connector_ids"};function eb(eu){if(!eu)throw Error("Namespace is required for CONNECTED_CONNECTOR_ID");return`@appkit/${eu}:connected_connector_id`}let ew={setItem(eu,ed){e_()&&void 0!==ed&&localStorage.setItem(eu,ed)},getItem(eu){if(e_())return localStorage.getItem(eu)||void 0},removeItem(eu){e_()&&localStorage.removeItem(eu)},clear(){e_()&&localStorage.clear()}};function e_(){return"undefined"!=typeof window&&"undefined"!=typeof localStorage}},58780:function(eu,ed,eg){"use strict";function em(eu,ed){return"light"===ed?{"--w3m-accent":eu?.["--w3m-accent"]||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":eu?.["--w3m-accent"]||"hsla(230, 100%, 67%, 1)","--w3m-background":"#121313"}}eg.d(ed,{t:function(){return em}})},69479:function(eu,ed,eg){"use strict";eg.d(ed,{N:function(){return eM}});var em=eg(62405),eb=eg(41103),ew=eg(1278),e_=eg(23704),eE=eg(63153),eA=eg(2706),eS=eg(25721);let eI=(0,em.sj)({currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map}),eC={state:eI,replaceState(eu){eu&&Object.assign(eI,(0,em.iH)(eu))},subscribe:eu=>eA.R.subscribeChainProp("accountState",ed=>{if(ed)return eu(ed)}),subscribeKey(eu,ed,eg){let em;return eA.R.subscribeChainProp("accountState",eg=>{if(eg){let eb=eg[eu];em!==eb&&(em=eb,ed(eb))}},eg)},setStatus(eu,ed){eA.R.setAccountProp("status",eu,ed)},getCaipAddress:eu=>eA.R.getAccountProp("caipAddress",eu),setCaipAddress(eu,ed){let eg=eu?e_.j.getPlainAddress(eu):void 0;ed===eA.R.state.activeChain&&(eA.R.state.activeCaipAddress=eu),eA.R.setAccountProp("caipAddress",eu,ed),eA.R.setAccountProp("address",eg,ed)},setBalance(eu,ed,eg){eA.R.setAccountProp("balance",eu,eg),eA.R.setAccountProp("balanceSymbol",ed,eg)},setProfileName(eu,ed){eA.R.setAccountProp("profileName",eu,ed)},setProfileImage(eu,ed){eA.R.setAccountProp("profileImage",eu,ed)},setUser(eu,ed){eA.R.setAccountProp("user",eu,ed)},setAddressExplorerUrl(eu,ed){eA.R.setAccountProp("addressExplorerUrl",eu,ed)},setSmartAccountDeployed(eu,ed){eA.R.setAccountProp("smartAccountDeployed",eu,ed)},setCurrentTab(eu){eA.R.setAccountProp("currentTab",eu,eA.R.state.activeChain)},setTokenBalance(eu,ed){eu&&eA.R.setAccountProp("tokenBalance",eu,ed)},setShouldUpdateToAddress(eu,ed){eA.R.setAccountProp("shouldUpdateToAddress",eu,ed)},addAddressLabel(eu,ed,eg){let em=eA.R.getAccountProp("addressLabels",eg)||new Map;em.set(eu,ed),eA.R.setAccountProp("addressLabels",em,eg)},removeAddressLabel(eu,ed){let eg=eA.R.getAccountProp("addressLabels",ed)||new Map;eg.delete(eu),eA.R.setAccountProp("addressLabels",eg,ed)},setConnectedWalletInfo(eu,ed){eA.R.setAccountProp("connectedWalletInfo",eu,ed,!1)},setPreferredAccountType(eu,ed){eA.R.setAccountProp("preferredAccountType",eu,ed)},setSocialProvider(eu,ed){eu&&eA.R.setAccountProp("socialProvider",eu,ed)},setSocialWindow(eu,ed){eA.R.setAccountProp("socialWindow",eu?(0,em.iH)(eu):void 0,ed)},setFarcasterUrl(eu,ed){eA.R.setAccountProp("farcasterUrl",eu,ed)},async fetchTokenBalance(eu){eI.balanceLoading=!0;let ed=eA.R.state.activeCaipNetwork?.caipNetworkId,eg=eA.R.state.activeCaipNetwork?.chainNamespace,em=eA.R.state.activeCaipAddress,eE=em?e_.j.getPlainAddress(em):void 0;if(eI.lastRetry&&!e_.j.isAllowedRetry(eI.lastRetry,30*ew.bq.ONE_SEC_MS))return eI.balanceLoading=!1,[];try{if(eE&&ed&&eg){let eu=await eb.Q.getMyTokensWithBalance();return eM.setTokenBalance(eu,eg),eI.lastRetry=void 0,eI.balanceLoading=!1,eu}}catch(ed){eI.lastRetry=Date.now(),eu?.(ed),eS.K.showError("Token Balance Unavailable")}finally{eI.balanceLoading=!1}return[]},resetAccount(eu){eA.R.resetAccount(eu)}},eM=(0,eE.P)(eC)},93921:function(eu,ed,eg){"use strict";eg.d(ed,{B:function(){return eS}});var em=eg(62405),eb=eg(60052),ew=eg(63153),e_=eg(556);let eE=(0,em.sj)({message:"",variant:"info",open:!1}),eA={state:eE,subscribeKey:(eu,ed)=>(0,eb.VW)(eE,eu,ed),open(eu,ed){let{debug:eg}=e_.h.state,{shortMessage:em,longMessage:eb}=eu;eg&&(eE.message=em,eE.variant=ed,eE.open=!0),eb&&console.error("function"==typeof eb?eb():eb)},close(){eE.open=!1,eE.message="",eE.variant="info"}},eS=(0,ew.P)(eA)},68157:function(eu,ed,eg){"use strict";eg.d(ed,{Q:function(){return eL}});var em=eg(62405),eb=eg(60052),ew=eg(16541),e_=eg(93934),eE=eg(23704),eA=eg(55315),eS=eg(62964),eI=eg(46719),eC=eg(91588),eM=eg(2706),eO=eg(44984),eT=eg(86126),eP=eg(556);let eN=eE.j.getApiUrl(),ek=new eA.V({baseUrl:eN,clientId:null}),eR=40,eD=4,eB=20,eU=(0,em.sj)({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],filteredWallets:[],search:[],isAnalyticsEnabled:!1,excludedWallets:[],isFetchingRecommendedWallets:!1}),eL={state:eU,subscribeKey:(eu,ed)=>(0,eb.VW)(eU,eu,ed),_getSdkProperties(){let{projectId:eu,sdkType:ed,sdkVersion:eg}=eP.h.state;return{projectId:eu,st:ed||"appkit",sv:eg||"html-wagmi-4.2.2"}},_filterOutExtensions:eu=>eP.h.state.isUniversalProvider?eu.filter(eu=>!!(eu.mobile_link||eu.desktop_link||eu.webapp_link)):eu,async _fetchWalletImage(eu){let ed=`${ek.baseUrl}/getWalletImage/${eu}`,eg=await ek.getBlob({path:ed,params:eL._getSdkProperties()});eC.W.setWalletImage(eu,URL.createObjectURL(eg))},async _fetchNetworkImage(eu){let ed=`${ek.baseUrl}/public/getAssetImage/${eu}`,eg=await ek.getBlob({path:ed,params:eL._getSdkProperties()});eC.W.setNetworkImage(eu,URL.createObjectURL(eg))},async _fetchConnectorImage(eu){let ed=`${ek.baseUrl}/public/getAssetImage/${eu}`,eg=await ek.getBlob({path:ed,params:eL._getSdkProperties()});eC.W.setConnectorImage(eu,URL.createObjectURL(eg))},async _fetchCurrencyImage(eu){let ed=`${ek.baseUrl}/public/getCurrencyImage/${eu}`,eg=await ek.getBlob({path:ed,params:eL._getSdkProperties()});eC.W.setCurrencyImage(eu,URL.createObjectURL(eg))},async _fetchTokenImage(eu){let ed=`${ek.baseUrl}/public/getTokenImage/${eu}`,eg=await ek.getBlob({path:ed,params:eL._getSdkProperties()});eC.W.setTokenImage(eu,URL.createObjectURL(eg))},_filterWalletsByPlatform(eu){let ed=eE.j.isMobile()?eu?.filter(eu=>{if(eu.mobile_link||eu.id===eS.m.COINBASE.id)return!0;let ed="solana"===eM.R.state.activeChain;return ed&&(eu.id===eS.m.SOLFLARE.id||eu.id===eS.m.PHANTOM.id)}):eu;return ed},async fetchProjectConfig(){let eu=await ek.get({path:"/appkit/v1/config",params:eL._getSdkProperties()});return eu.features},async fetchAllowedOrigins(){try{let{allowedOrigins:eu}=await ek.get({path:"/projects/v1/origins",params:eL._getSdkProperties()});return eu}catch(eu){if(eu instanceof Error&&eu.cause instanceof Response){let ed=eu.cause.status;if(ed===ew.b.HTTP_STATUS_CODES.TOO_MANY_REQUESTS)throw Error("RATE_LIMITED",{cause:eu});if(ed>=ew.b.HTTP_STATUS_CODES.SERVER_ERROR&&ed<600)throw Error("SERVER_ERROR",{cause:eu})}return[]}},async fetchNetworkImages(){let eu=eM.R.getAllRequestedCaipNetworks(),ed=eu?.map(({assets:eu})=>eu?.imageId).filter(Boolean).filter(eu=>!e_.f.getNetworkImageById(eu));ed&&await Promise.allSettled(ed.map(eu=>eL._fetchNetworkImage(eu)))},async fetchConnectorImages(){let{connectors:eu}=eO.A.state,ed=eu.map(({imageId:eu})=>eu).filter(Boolean);await Promise.allSettled(ed.map(eu=>eL._fetchConnectorImage(eu)))},async fetchCurrencyImages(eu=[]){await Promise.allSettled(eu.map(eu=>eL._fetchCurrencyImage(eu)))},async fetchTokenImages(eu=[]){await Promise.allSettled(eu.map(eu=>eL._fetchTokenImage(eu)))},async fetchWallets(eu){let ed=eu.exclude??[],eg=eL._getSdkProperties();eg.sv.startsWith("html-core-")&&ed.push(...Object.values(eS.m).map(eu=>eu.id));let em=await ek.get({path:"/getWallets",params:{...eL._getSdkProperties(),...eu,page:String(eu.page),entries:String(eu.entries),include:eu.include?.join(","),exclude:ed.join(",")}}),eb=eL._filterWalletsByPlatform(em?.data);return{data:eb||[],count:em?.count}},async fetchFeaturedWallets(){let{featuredWalletIds:eu}=eP.h.state;if(eu?.length){let ed={...eL._getSdkProperties(),page:1,entries:eu?.length??eD,include:eu},{data:eg}=await eL.fetchWallets(ed),em=[...eg].sort((ed,eg)=>eu.indexOf(ed.id)-eu.indexOf(eg.id)),eb=em.map(eu=>eu.image_id).filter(Boolean);await Promise.allSettled(eb.map(eu=>eL._fetchWalletImage(eu))),eU.featured=em,eU.allFeatured=em}},async fetchRecommendedWallets(){try{eU.isFetchingRecommendedWallets=!0;let{includeWalletIds:eu,excludeWalletIds:ed,featuredWalletIds:eg}=eP.h.state,em=[...ed??[],...eg??[]].filter(Boolean),eb=eM.R.getRequestedCaipNetworkIds().join(","),ew={page:1,entries:eD,include:eu,exclude:em,chains:eb},{data:e_,count:eE}=await eL.fetchWallets(ew),eA=eI.M.getRecentWallets(),eS=e_.map(eu=>eu.image_id).filter(Boolean),eC=eA.map(eu=>eu.image_id).filter(Boolean);await Promise.allSettled([...eS,...eC].map(eu=>eL._fetchWalletImage(eu))),eU.recommended=e_,eU.allRecommended=e_,eU.count=eE??0}catch{}finally{eU.isFetchingRecommendedWallets=!1}},async fetchWalletsByPage({page:eu}){let{includeWalletIds:ed,excludeWalletIds:eg,featuredWalletIds:em}=eP.h.state,eb=eM.R.getRequestedCaipNetworkIds().join(","),ew=[...eU.recommended.map(({id:eu})=>eu),...eg??[],...em??[]].filter(Boolean),e_={page:eu,entries:eR,include:ed,exclude:ew,chains:eb},{data:eA,count:eS}=await eL.fetchWallets(e_),eI=eA.slice(0,eB).map(eu=>eu.image_id).filter(Boolean);await Promise.allSettled(eI.map(eu=>eL._fetchWalletImage(eu))),eU.wallets=eE.j.uniqueBy([...eU.wallets,...eL._filterOutExtensions(eA)],"id").filter(eu=>eu.chains?.some(eu=>eb.includes(eu))),eU.count=eS>eU.count?eS:eU.count,eU.page=eu},async initializeExcludedWallets({ids:eu}){let ed={page:1,entries:eu.length,include:eu},{data:eg}=await eL.fetchWallets(ed);eg&&eg.forEach(eu=>{eU.excludedWallets.push({rdns:eu.rdns,name:eu.name})})},async searchWallet({search:eu,badge:ed}){let{includeWalletIds:eg,excludeWalletIds:em}=eP.h.state,eb=eM.R.getRequestedCaipNetworkIds().join(",");eU.search=[];let ew={page:1,entries:100,search:eu?.trim(),badge_type:ed,include:eg,exclude:em,chains:eb},{data:e_}=await eL.fetchWallets(ew);eT.X.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:ed??"",search:eu??""}});let eA=e_.map(eu=>eu.image_id).filter(Boolean);await Promise.allSettled([...eA.map(eu=>eL._fetchWalletImage(eu)),eE.j.wait(300)]),eU.search=eL._filterOutExtensions(e_)},initPromise(eu,ed){let eg=eU.promises[eu];return eg||(eU.promises[eu]=ed())},prefetch({fetchConnectorImages:eu=!0,fetchFeaturedWallets:ed=!0,fetchRecommendedWallets:eg=!0,fetchNetworkImages:em=!0}={}){let eb=[eu&&eL.initPromise("connectorImages",eL.fetchConnectorImages),ed&&eL.initPromise("featuredWallets",eL.fetchFeaturedWallets),eg&&eL.initPromise("recommendedWallets",eL.fetchRecommendedWallets),em&&eL.initPromise("networkImages",eL.fetchNetworkImages)].filter(Boolean);return Promise.allSettled(eb)},prefetchAnalyticsConfig(){eP.h.state.features?.analytics&&eL.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{let{isAnalyticsEnabled:eu}=await ek.get({path:"/getAnalyticsConfig",params:eL._getSdkProperties()});eP.h.setFeatures({analytics:eu})}catch(eu){eP.h.setFeatures({analytics:!1})}},filterByNamespaces(eu){if(!eu?.length){eU.featured=eU.allFeatured,eU.recommended=eU.allRecommended;return}let ed=eM.R.getRequestedCaipNetworkIds().join(",");eU.featured=eU.allFeatured.filter(eu=>eu.chains?.some(eu=>ed.includes(eu))),eU.recommended=eU.allRecommended.filter(eu=>eu.chains?.some(eu=>ed.includes(eu))),eU.filteredWallets=eU.wallets.filter(eu=>eu.chains?.some(eu=>ed.includes(eu)))},clearFilterByNamespaces(){eU.filteredWallets=[]},setFilterByNamespace(eu){if(!eu){eU.featured=eU.allFeatured,eU.recommended=eU.allRecommended;return}let ed=eM.R.getRequestedCaipNetworkIds().join(",");eU.featured=eU.allFeatured.filter(eu=>eu.chains?.some(eu=>ed.includes(eu))),eU.recommended=eU.allRecommended.filter(eu=>eu.chains?.some(eu=>ed.includes(eu))),eU.filteredWallets=eU.wallets.filter(eu=>eu.chains?.some(eu=>ed.includes(eu)))}}},91588:function(eu,ed,eg){"use strict";eg.d(ed,{W:function(){return eA}});var em=eg(62405),eb=eg(60052),ew=eg(63153);let e_=(0,em.sj)({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),eE={state:e_,subscribeNetworkImages:eu=>(0,em.Ld)(e_.networkImages,()=>eu(e_.networkImages)),subscribeKey:(eu,ed)=>(0,eb.VW)(e_,eu,ed),subscribe:eu=>(0,em.Ld)(e_,()=>eu(e_)),setWalletImage(eu,ed){e_.walletImages[eu]=ed},setNetworkImage(eu,ed){e_.networkImages[eu]=ed},setChainImage(eu,ed){e_.chainImages[eu]=ed},setConnectorImage(eu,ed){e_.connectorImages={...e_.connectorImages,[eu]:ed}},setTokenImage(eu,ed){e_.tokenImages[eu]=ed},setCurrencyImage(eu,ed){e_.currencyImages[eu]=ed}},eA=(0,ew.P)(eE)},46951:function(eu,ed,eg){"use strict";eg.d(ed,{L:function(){return eP}});var em=eg(62405),eb=eg(1278),ew=eg(23704),e_=eg(55315),eE=eg(46719),eA=eg(69479),eS=eg(2706),eI=eg(556),eC=eg(25721);let eM={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},eO=ew.j.getBlockchainApiUrl(),eT=(0,em.sj)({clientId:null,api:new e_.V({baseUrl:eO,clientId:null}),supportedChains:{http:[],ws:[]}}),eP={state:eT,async get(eu){let{st:ed,sv:eg}=eP.getSdkProperties(),em=eI.h.state.projectId,eb={...eu.params||{},st:ed,sv:eg,projectId:em};return eT.api.get({...eu,params:eb})},getSdkProperties(){let{sdkType:eu,sdkVersion:ed}=eI.h.state;return{st:eu||"unknown",sv:ed||"unknown"}},async isNetworkSupported(eu){if(!eu)return!1;try{eT.supportedChains.http.length||await eP.getSupportedNetworks()}catch(eu){return!1}return eT.supportedChains.http.includes(eu)},async getSupportedNetworks(){try{let eu=await eP.get({path:"v1/supported-chains"});return eT.supportedChains=eu,eu}catch{return eT.supportedChains}},async fetchIdentity({address:eu,caipNetworkId:ed}){let eg=await eP.isNetworkSupported(ed);if(!eg)return{avatar:"",name:""};let em=eE.M.getIdentityFromCacheForAddress(eu);if(em)return em;let eb=await eP.get({path:`/v1/identity/${eu}`,params:{sender:eS.R.state.activeCaipAddress?ew.j.getPlainAddress(eS.R.state.activeCaipAddress):void 0}});return eE.M.updateIdentityCache({address:eu,identity:eb,timestamp:Date.now()}),eb},async fetchTransactions({account:eu,cursor:ed,signal:eg,cache:em,chainId:eb}){let ew=await eP.isNetworkSupported(eS.R.state.activeCaipNetwork?.caipNetworkId);return ew?eP.get({path:`/v1/account/${eu}/history`,params:{cursor:ed,chainId:eb},signal:eg,cache:em}):{data:[],next:void 0}},async fetchSwapQuote({amount:eu,userAddress:ed,from:eg,to:em,gasPrice:eb}){let ew=await eP.isNetworkSupported(eS.R.state.activeCaipNetwork?.caipNetworkId);return ew?eP.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:eu,userAddress:ed,from:eg,to:em,gasPrice:eb}}):{quotes:[]}},async fetchSwapTokens({chainId:eu}){let ed=await eP.isNetworkSupported(eS.R.state.activeCaipNetwork?.caipNetworkId);return ed?eP.get({path:"/v1/convert/tokens",params:{chainId:eu}}):{tokens:[]}},async fetchTokenPrice({addresses:eu}){let ed=await eP.isNetworkSupported(eS.R.state.activeCaipNetwork?.caipNetworkId);return ed?eT.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:eu,projectId:eI.h.state.projectId},headers:{"Content-Type":"application/json"}}):{fungibles:[]}},async fetchSwapAllowance({tokenAddress:eu,userAddress:ed}){let eg=await eP.isNetworkSupported(eS.R.state.activeCaipNetwork?.caipNetworkId);return eg?eP.get({path:"/v1/convert/allowance",params:{tokenAddress:eu,userAddress:ed},headers:{"Content-Type":"application/json"}}):{allowance:"0"}},async fetchGasPrice({chainId:eu}){let{st:ed,sv:eg}=eP.getSdkProperties(),em=await eP.isNetworkSupported(eS.R.state.activeCaipNetwork?.caipNetworkId);if(!em)throw Error("Network not supported for Gas Price");return eP.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:eu,st:ed,sv:eg}})},async generateSwapCalldata({amount:eu,from:ed,to:eg,userAddress:em,disableEstimate:ew}){let e_=await eP.isNetworkSupported(eS.R.state.activeCaipNetwork?.caipNetworkId);if(!e_)throw Error("Network not supported for Swaps");return eT.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:eu,eip155:{slippage:eb.bq.CONVERT_SLIPPAGE_TOLERANCE},projectId:eI.h.state.projectId,from:ed,to:eg,userAddress:em,disableEstimate:ew}})},async generateApproveCalldata({from:eu,to:ed,userAddress:eg}){let{st:em,sv:eb}=eP.getSdkProperties(),ew=await eP.isNetworkSupported(eS.R.state.activeCaipNetwork?.caipNetworkId);if(!ew)throw Error("Network not supported for Swaps");return eP.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:eg,from:eu,to:ed,st:em,sv:eb}})},async getBalance(eu,ed,eg){let{st:em,sv:eb}=eP.getSdkProperties(),ew=await eP.isNetworkSupported(eS.R.state.activeCaipNetwork?.caipNetworkId);if(!ew)return eC.K.showError("Token Balance Unavailable"),{balances:[]};let e_=`${ed}:${eu}`,eA=eE.M.getBalanceCacheForCaipAddress(e_);if(eA)return eA;let eI=await eP.get({path:`/v1/account/${eu}/balance`,params:{currency:"usd",chainId:ed,forceUpdate:eg,st:em,sv:eb}});return eE.M.updateBalanceCache({caipAddress:e_,balance:eI,timestamp:Date.now()}),eI},async lookupEnsName(eu){let ed=await eP.isNetworkSupported(eS.R.state.activeCaipNetwork?.caipNetworkId);return ed?eP.get({path:`/v1/profile/account/${eu}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]}},async reverseLookupEnsName({address:eu}){let ed=await eP.isNetworkSupported(eS.R.state.activeCaipNetwork?.caipNetworkId);return ed?eP.get({path:`/v1/profile/reverse/${eu}`,params:{sender:eA.N.state.address,apiVersion:"2"}}):[]},async getEnsNameSuggestions(eu){let ed=await eP.isNetworkSupported(eS.R.state.activeCaipNetwork?.caipNetworkId);return ed?eP.get({path:`/v1/profile/suggestions/${eu}`,params:{zone:"reown.id"}}):{suggestions:[]}},async registerEnsName({coinType:eu,address:ed,message:eg,signature:em}){let eb=await eP.isNetworkSupported(eS.R.state.activeCaipNetwork?.caipNetworkId);return eb?eT.api.post({path:"/v1/profile/account",body:{coin_type:eu,address:ed,message:eg,signature:em},headers:{"Content-Type":"application/json"}}):{success:!1}},async generateOnRampURL({destinationWallets:eu,partnerUserId:ed,defaultNetwork:eg,purchaseAmount:em,paymentAmount:eb}){let ew=await eP.isNetworkSupported(eS.R.state.activeCaipNetwork?.caipNetworkId);if(!ew)return"";let e_=await eT.api.post({path:"/v1/generators/onrampurl",params:{projectId:eI.h.state.projectId},body:{destinationWallets:eu,defaultNetwork:eg,partnerUserId:ed,defaultExperience:"buy",presetCryptoAmount:em,presetFiatAmount:eb}});return e_.url},async getOnrampOptions(){let eu=await eP.isNetworkSupported(eS.R.state.activeCaipNetwork?.caipNetworkId);if(!eu)return{paymentCurrencies:[],purchaseCurrencies:[]};try{let eu=await eP.get({path:"/v1/onramp/options"});return eu}catch(eu){return eM}},async getOnrampQuote({purchaseCurrency:eu,paymentCurrency:ed,amount:eg,network:em}){try{let eb=await eP.isNetworkSupported(eS.R.state.activeCaipNetwork?.caipNetworkId);if(!eb)return null;let ew=await eT.api.post({path:"/v1/onramp/quote",params:{projectId:eI.h.state.projectId},body:{purchaseCurrency:eu,paymentCurrency:ed,amount:eg,network:em}});return ew}catch(eu){return{networkFee:{amount:eg,currency:ed.id},paymentSubtotal:{amount:eg,currency:ed.id},paymentTotal:{amount:eg,currency:ed.id},purchaseAmount:{amount:eg,currency:ed.id},quoteId:"mocked-quote-id"}}},async getSmartSessions(eu){let ed=await eP.isNetworkSupported(eS.R.state.activeCaipNetwork?.caipNetworkId);return ed?eP.get({path:`/v1/sessions/${eu}`}):[]},async revokeSmartSession(eu,ed,eg){let em=await eP.isNetworkSupported(eS.R.state.activeCaipNetwork?.caipNetworkId);return em?eT.api.post({path:`/v1/sessions/${eu}/revoke`,params:{projectId:eI.h.state.projectId},body:{pci:ed,signature:eg}}):{success:!1}},setClientId(eu){eT.clientId=eu,eT.api=new e_.V({baseUrl:eO,clientId:eu})}}},2706:function(eu,ed,eg){"use strict";eg.d(ed,{R:function(){return eF}});var em=eg(62405),eb=eg(60052),ew=eg(10944),e_=eg(16541),eE=eg(1278),eA=eg(23704),eS=eg(46719),eI=eg(63153),eC=eg(69479),eM=eg(86321),eO=eg(44984),eT=eg(86126),eP=eg(91368),eN=eg(556),ek=eg(61556),eR=eg(77405),eD=eg(27393);let eB={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,user:void 0,preferredAccountType:void 0},eU={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},eL=(0,em.sj)({chains:(0,eb.Yr)(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{networkControllerClient:void 0,connectionControllerClient:void 0},isSwitchingNamespace:!1}),ej={state:eL,subscribe:eu=>(0,em.Ld)(eL,()=>{eu(eL)}),subscribeKey:(eu,ed)=>(0,eb.VW)(eL,eu,ed),subscribeChainProp(eu,ed,eg){let eb;return(0,em.Ld)(eL.chains,()=>{let em=eg||eL.activeChain;if(em){let eg=eL.chains.get(em)?.[eu];eb!==eg&&(eb=eg,ed(eg))}})},initialize(eu,ed,eg){let{chainId:eb,namespace:ew}=eS.M.getActiveNetworkProps(),e_=ed?.find(eu=>eu.id.toString()===eb?.toString()),eE=eu.find(eu=>eu?.namespace===ew),eA=eE||eu?.[0],eI=eu.map(eu=>eu.namespace).filter(eu=>void 0!==eu),eC=new Set(eN.h.state.enableEmbedded?[...eI]:[...ed?.map(eu=>eu.chainNamespace)??[]]);eu?.length!==0&&eA||(eL.noAdapters=!0),!eL.noAdapters&&(eL.activeChain=eA?.namespace,eL.activeCaipNetwork=e_,eF.setChainNetworkData(eA?.namespace,{caipNetwork:e_}),eL.activeChain&&ek.I.set({activeChain:eA?.namespace})),eC.forEach(eu=>{let eb=ed?.filter(ed=>ed.chainNamespace===eu),ew=eS.M.getPreferredAccountTypes()||{},e_={...eN.h.state.defaultAccountTypes,...ew};eF.state.chains.set(eu,{namespace:eu,networkState:(0,em.sj)({...eU,caipNetwork:eb?.[0]}),accountState:(0,em.sj)({...eB,preferredAccountType:e_[eu]}),caipNetworks:eb??[],...eg}),eF.setRequestedCaipNetworks(eb??[],eu)})},removeAdapter(eu){if(eL.activeChain===eu){let ed=Array.from(eL.chains.entries()).find(([ed])=>ed!==eu);if(ed){let eu=ed[1]?.caipNetworks?.[0];eu&&eF.setActiveCaipNetwork(eu)}}eL.chains.delete(eu)},addAdapter(eu,{networkControllerClient:ed,connectionControllerClient:eg},em){if(!eu.namespace)throw Error("ChainController:addAdapter - adapter must have a namespace");eL.chains.set(eu.namespace,{namespace:eu.namespace,networkState:{...eU,caipNetwork:em[0]},accountState:eB,caipNetworks:em,connectionControllerClient:eg,networkControllerClient:ed}),eF.setRequestedCaipNetworks(em?.filter(ed=>ed.chainNamespace===eu.namespace)??[],eu.namespace)},addNetwork(eu){let ed=eL.chains.get(eu.chainNamespace);if(ed){let eg=[...ed.caipNetworks||[]];ed.caipNetworks?.find(ed=>ed.id===eu.id)||eg.push(eu),eL.chains.set(eu.chainNamespace,{...ed,caipNetworks:eg}),eF.setRequestedCaipNetworks(eg,eu.chainNamespace),eO.A.filterByNamespace(eu.chainNamespace,!0)}},removeNetwork(eu,ed){let eg=eL.chains.get(eu);if(eg){let em=eL.activeCaipNetwork?.id===ed,eb=[...eg.caipNetworks?.filter(eu=>eu.id!==ed)||[]];em&&eg?.caipNetworks?.[0]&&eF.setActiveCaipNetwork(eg.caipNetworks[0]),eL.chains.set(eu,{...eg,caipNetworks:eb}),eF.setRequestedCaipNetworks(eb||[],eu),0===eb.length&&eO.A.filterByNamespace(eu,!1)}},setAdapterNetworkState(eu,ed){let eg=eL.chains.get(eu);eg&&(eg.networkState={...eg.networkState||eU,...ed},eL.chains.set(eu,eg))},setChainAccountData(eu,ed,eg=!0){if(!eu)throw Error("Chain is required to update chain account data");let em=eL.chains.get(eu);if(em){let eg={...em.accountState||eB,...ed};eL.chains.set(eu,{...em,accountState:eg}),(1===eL.chains.size||eL.activeChain===eu)&&(ed.caipAddress&&(eL.activeCaipAddress=ed.caipAddress),eC.N.replaceState(eg))}},setChainNetworkData(eu,ed){if(!eu)return;let eg=eL.chains.get(eu);if(eg){let em={...eg.networkState||eU,...ed};eL.chains.set(eu,{...eg,networkState:em})}},setAccountProp(eu,ed,eg,em=!0){eF.setChainAccountData(eg,{[eu]:ed},em)},setActiveNamespace(eu){eL.activeChain=eu;let ed=eu?eL.chains.get(eu):void 0,eg=ed?.networkState?.caipNetwork;eg?.id&&eu&&(eL.activeCaipAddress=ed?.accountState?.caipAddress,eL.activeCaipNetwork=eg,eF.setChainNetworkData(eu,{caipNetwork:eg}),eS.M.setActiveCaipNetworkId(eg?.caipNetworkId),ek.I.set({activeChain:eu,selectedNetworkId:eg?.caipNetworkId}))},setActiveCaipNetwork(eu){if(!eu)return;eL.activeChain!==eu.chainNamespace&&eF.setIsSwitchingNamespace(!0);let ed=eL.chains.get(eu.chainNamespace);eL.activeChain=eu.chainNamespace,eL.activeCaipNetwork=eu,eF.setChainNetworkData(eu.chainNamespace,{caipNetwork:eu}),ed?.accountState?.address?eL.activeCaipAddress=`${eu.chainNamespace}:${eu.id}:${ed?.accountState?.address}`:eL.activeCaipAddress=void 0,eF.setAccountProp("caipAddress",eL.activeCaipAddress,eu.chainNamespace),ed&&eC.N.replaceState(ed.accountState),eD.S.resetSend(),ek.I.set({activeChain:eL.activeChain,selectedNetworkId:eL.activeCaipNetwork?.caipNetworkId}),eS.M.setActiveCaipNetworkId(eu.caipNetworkId);let eg=eF.checkIfSupportedNetwork(eu.chainNamespace);eg||!eN.h.state.enableNetworkSwitch||eN.h.state.allowUnsupportedChain||eM.l.state.wcBasic||eF.showUnsupportedChainUI()},addCaipNetwork(eu){if(!eu)return;let ed=eL.chains.get(eu.chainNamespace);ed&&ed?.caipNetworks?.push(eu)},async switchActiveNamespace(eu){if(!eu)return;let ed=eu!==eF.state.activeChain,eg=eF.getNetworkData(eu)?.caipNetwork,em=eF.getCaipNetworkByNamespace(eu,eg?.id);ed&&em&&await eF.switchActiveNetwork(em)},async switchActiveNetwork(eu){let ed=eF.state.activeChain;if(!ed)throw Error("ChainController:switchActiveNetwork - namespace is required");let eg=eF.state.chains.get(ed),em=!eg?.caipNetworks?.some(eu=>eu.id===eL.activeCaipNetwork?.id),eb=eF.getNetworkControllerClient(eu.chainNamespace);if(eb){try{await eb.switchCaipNetwork(eu),em&&eP.I.close()}catch(eu){eR.P.goBack()}eT.X.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:eu.caipNetworkId}})}},getNetworkControllerClient(eu){let ed=eu||eL.activeChain;if(!ed)throw Error("ChainController:getNetworkControllerClient - chain is required");let eg=eL.chains.get(ed);if(!eg)throw Error("Chain adapter not found");if(!eg.networkControllerClient)throw Error("NetworkController client not set");return eg.networkControllerClient},getConnectionControllerClient(eu){let ed=eu||eL.activeChain;if(!ed)throw Error("Chain is required to get connection controller client");let eg=eL.chains.get(ed);if(!eg?.connectionControllerClient)throw Error("ConnectionController client not set");return eg.connectionControllerClient},getAccountProp(eu,ed){let eg=eL.activeChain;if(ed&&(eg=ed),!eg)return;let em=eL.chains.get(eg)?.accountState;if(em)return em[eu]},getNetworkProp(eu,ed){let eg=eL.chains.get(ed)?.networkState;if(eg)return eg[eu]},getRequestedCaipNetworks(eu){let ed=eL.chains.get(eu),{approvedCaipNetworkIds:eg=[],requestedCaipNetworks:em=[]}=ed?.networkState||{},eb=eA.j.sortRequestedNetworks(eg,em),ew=eb.filter(eu=>eu?.id);return ew},getAllRequestedCaipNetworks(){let eu=[];return eL.chains.forEach(ed=>{if(!ed.namespace)throw Error("ChainController:getAllRequestedCaipNetworks - chainAdapter must have a namespace");let eg=eF.getRequestedCaipNetworks(ed.namespace);eu.push(...eg)}),eu},setRequestedCaipNetworks(eu,ed){eF.setAdapterNetworkState(ed,{requestedCaipNetworks:eu});let eg=eF.getAllRequestedCaipNetworks(),em=eg.map(eu=>eu.chainNamespace),eb=Array.from(new Set(em));eO.A.filterByNamespaces(eb)},getAllApprovedCaipNetworkIds(){let eu=[];return eL.chains.forEach(ed=>{if(!ed.namespace)throw Error("ChainController:getAllApprovedCaipNetworkIds - chainAdapter must have a namespace");let eg=eF.getApprovedCaipNetworkIds(ed.namespace);eu.push(...eg)}),eu},getActiveCaipNetwork:eu=>eu?eL.chains.get(eu)?.networkState?.caipNetwork:eL.activeCaipNetwork,getActiveCaipAddress:()=>eL.activeCaipAddress,getApprovedCaipNetworkIds(eu){let ed=eL.chains.get(eu),eg=ed?.networkState?.approvedCaipNetworkIds||[];return eg},async setApprovedCaipNetworksData(eu){let ed=eF.getNetworkControllerClient(),eg=await ed?.getApprovedCaipNetworksData();eF.setAdapterNetworkState(eu,{approvedCaipNetworkIds:eg?.approvedCaipNetworkIds,supportsAllNetworks:eg?.supportsAllNetworks})},checkIfSupportedNetwork(eu,ed){let eg=ed||eL.activeCaipNetwork,em=eF.getRequestedCaipNetworks(eu);return!em.length||em?.some(eu=>eu.id===eg?.id)},checkIfSupportedChainId(eu){if(!eL.activeChain)return!0;let ed=eF.getRequestedCaipNetworks(eL.activeChain);return ed?.some(ed=>ed.id===eu)},setSmartAccountEnabledNetworks(eu,ed){eF.setAdapterNetworkState(ed,{smartAccountEnabledNetworks:eu})},checkIfSmartAccountEnabled(){let eu=ew.p.caipNetworkIdToNumber(eL.activeCaipNetwork?.caipNetworkId),ed=eL.activeChain;if(!ed||!eu)return!1;let eg=eF.getNetworkProp("smartAccountEnabledNetworks",ed);return!!eg?.includes(Number(eu))},showUnsupportedChainUI(){eP.I.open({view:"UnsupportedChain"})},checkIfNamesSupported(){let eu=eL.activeCaipNetwork;return!!(eu?.chainNamespace&&eE.bq.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(eu.chainNamespace))},resetNetwork(eu){eF.setAdapterNetworkState(eu,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0})},resetAccount(eu){let ed=eu;if(!ed)throw Error("Chain is required to set account prop");let eg=eN.h.state.defaultAccountTypes[ed],em=eF.getAccountProp("preferredAccountType",ed);eL.activeCaipAddress=void 0,eF.setChainAccountData(ed,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountType:eg||em,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,user:void 0,status:"disconnected"}),eO.A.removeConnectorId(ed)},setIsSwitchingNamespace(eu){eL.isSwitchingNamespace=eu},getFirstCaipNetworkSupportsAuthConnector(){let eu=[];if(eL.chains.forEach(ed=>{e_.b.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(eu=>eu===ed.namespace)&&ed.namespace&&eu.push(ed.namespace)}),eu.length>0){let ed=eu[0];return ed?eL.chains.get(ed)?.caipNetworks?.[0]:void 0}},getAccountData:eu=>eu?eF.state.chains.get(eu)?.accountState:eC.N.state,getNetworkData(eu){let ed=eu||eL.activeChain;if(ed)return eF.state.chains.get(ed)?.networkState},getCaipNetworkByNamespace(eu,ed){if(!eu)return;let eg=eF.state.chains.get(eu),em=eg?.caipNetworks?.find(eu=>eu.id===ed);return em||eg?.networkState?.caipNetwork||eg?.caipNetworks?.[0]},getRequestedCaipNetworkIds(){let eu=eO.A.state.filterByNamespace,ed=eu?[eL.chains.get(eu)]:Array.from(eL.chains.values());return ed.flatMap(eu=>eu?.caipNetworks||[]).map(eu=>eu.caipNetworkId)},getCaipNetworks:eu=>eu?eF.getRequestedCaipNetworks(eu):eF.getAllRequestedCaipNetworks(),setLastConnectedSIWECaipNetwork(eu){eL.lastConnectedSIWECaipNetwork=eu},getLastConnectedSIWECaipNetwork:()=>eL.lastConnectedSIWECaipNetwork},eF=(0,eI.P)(ej)},86321:function(eu,ed,eg){"use strict";let em;eg.d(ed,{l:function(){return eK}});var eb=eg(62405),ew=eg(60052),e_=eg(16541),eE=eg(87729),eA=eg(40458),eS=eg(35776),eI=eg(89499),eC=eg(69479),eM=eg(2706),eO=eg(44984),eT=eg(86126),eP=eg(91368),eN=eg(77405),ek=eg(1278),eR=eg(23704),eD=eg(46719);let eB=1e3,eU={checkNamespaceConnectorId:(eu,ed)=>eO.A.getConnectorId(eu)===ed,isSocialProvider:eu=>ek.bq.DEFAULT_REMOTE_FEATURES.socials.includes(eu),connectWalletConnect:({walletConnect:eu,connector:ed,closeModalOnConnect:eg=!0,redirectViewOnModalClose:em="Connect",onOpen:eb,onConnect:ew})=>new Promise((e_,eA)=>{if(eu&&eO.A.setActiveConnector(ed),eb?.(eR.j.isMobile()&&eu),em){let eu=eP.I.subscribeKey("open",ed=>{ed||(eN.P.state.view!==em&&eN.P.replace(em),eu(),eA(Error("Modal closed")))})}let eS=eM.R.subscribeKey("activeCaipAddress",eu=>{eu&&(ew?.(),eg&&eP.I.close(),eS(),e_(eE.u.parseCaipAddress(eu)))})}),connectExternal:eu=>new Promise((ed,eg)=>{let em=eM.R.subscribeKey("activeCaipAddress",eu=>{eu&&(eP.I.close(),em(),ed(eE.u.parseCaipAddress(eu)))});eK.connectExternal(eu,eu.chain).catch(()=>{em(),eg(Error("Connection rejected"))})}),connectSocial({social:eu,closeModalOnConnect:ed=!0,onOpenFarcaster:eg,onConnect:em}){let eb=eC.N.state.socialWindow,ew=eC.N.state.socialProvider,eA=!1,eS=null,eI=eM.R.subscribeKey("activeCaipAddress",eu=>{eu&&(ed&&eP.I.close(),eI())});return new Promise((ed,eI)=>{async function eN(eu){if(eu.data?.resultUri){if(eu.origin===e_.b.SECURE_SITE_SDK_ORIGIN){window.removeEventListener("message",eN,!1);try{let eg=eO.A.getAuthConnector();if(eg&&!eA){eb&&(eb.close(),eC.N.setSocialWindow(void 0,eM.R.state.activeChain),eb=eC.N.state.socialWindow),eA=!0;let em=eu.data.resultUri;if(ew&&eT.X.sendEvent({type:"track",event:"SOCIAL_LOGIN_REQUEST_USER_DATA",properties:{provider:ew}}),ew){eD.M.setConnectedSocialProvider(ew),await eK.connectExternal({id:eg.id,type:eg.type,socialUri:em},eg.chain);let eu=eM.R.state.activeCaipAddress;if(!eu){eI(Error("Failed to connect"));return}ed(eE.u.parseCaipAddress(eu)),eT.X.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:ew,caipNetworkId:eM.R.getActiveCaipNetwork()?.caipNetworkId}})}}}catch(eu){ew&&eT.X.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:ew}}),eI(Error("Failed to connect"))}}else ew&&eT.X.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:ew}})}}!async function(){if(eu&&(eC.N.setSocialProvider(eu,eM.R.state.activeChain),ew=eC.N.state.socialProvider,eT.X.sendEvent({type:"track",event:"SOCIAL_LOGIN_STARTED",properties:{provider:ew}})),"farcaster"===ew){eg?.();let ed=eP.I.subscribeKey("open",eg=>{eg||"farcaster"!==eu||(eI(Error("Popup closed")),em?.(),ed())}),eb=eO.A.getAuthConnector();if(eb&&!eC.N.state.farcasterUrl)try{let{url:eu}=await eb.provider.getFarcasterUri();eC.N.setFarcasterUrl(eu,eM.R.state.activeChain)}catch{eI(Error("Failed to connect to farcaster"))}}else{let eu=eO.A.getAuthConnector();eS=eR.j.returnOpenHref(`${e_.b.SECURE_SITE_SDK_ORIGIN}/loading`,"popupWindow","width=600,height=800,scrollbars=yes");try{if(eu&&ew){let{uri:ed}=await eu.provider.getSocialRedirectUri({provider:ew});if(eS&&ed){eC.N.setSocialWindow(eS,eM.R.state.activeChain),eb=eC.N.state.socialWindow,eS.location.href=ed;let eu=setInterval(()=>{eb?.closed&&!eA&&(eI(Error("Popup closed")),clearInterval(eu))},1e3);window.addEventListener("message",eN,!1)}else eS?.close(),eI(Error("Failed to initiate social connection"))}}catch{eI(Error("Failed to initiate social connection")),eS?.close()}}}()})},connectEmail:({closeModalOnConnect:eu=!0,redirectViewOnModalClose:ed="Connect",onOpen:eg,onConnect:em})=>new Promise((eb,ew)=>{if(eg?.(),ed){let eu=eP.I.subscribeKey("open",eg=>{eg||(eN.P.state.view!==ed&&eN.P.replace(ed),eu(),ew(Error("Modal closed")))})}let e_=eM.R.subscribeKey("activeCaipAddress",ed=>{ed&&(em?.(),eu&&eP.I.close(),e_(),eb(eE.u.parseCaipAddress(ed)))})}),async updateEmail(){let eu=eD.M.getConnectedConnectorId(eM.R.state.activeChain),ed=eO.A.getAuthConnector();if(!ed)throw Error("No auth connector found");if(eu!==e_.b.CONNECTOR_ID.AUTH)throw Error("Not connected to email or social");let eg=ed.provider.getEmail()??"";return eN.P.push("UpdateEmailWallet",{email:eg,redirectView:void 0}),new Promise((eu,em)=>{let eb=setInterval(()=>{let em=ed.provider.getEmail()??"";em!==eg&&(eP.I.close(),clearInterval(eb),ew(),eu({email:em}))},eB),ew=eP.I.subscribeKey("open",eu=>{eu||("Connect"!==eN.P.state.view&&eN.P.push("Connect"),clearInterval(eb),ew(),em(Error("Modal closed")))})})},canSwitchToSmartAccount(eu){let ed=eM.R.checkIfSmartAccountEnabled();return ed&&(0,eA.r9)(eu)===eI.y_.ACCOUNT_TYPES.EOA}};var eL=eg(63153),ej=eg(36715);let eF=(0,eb.sj)({connections:new Map,recentConnections:new Map,isSwitchingConnection:!1,wcError:!1,buffering:!1,status:"disconnected"}),e$={state:eF,subscribe:eu=>(0,eb.Ld)(eF,()=>eu(eF)),subscribeKey:(eu,ed)=>(0,ew.VW)(eF,eu,ed),_getClient:()=>eF._client,setClient(eu){eF._client=(0,eb.iH)(eu)},initialize(eu){let ed=eu.filter(eu=>!!eu.namespace).map(eu=>eu.namespace);eK.syncStorageConnections(ed)},syncStorageConnections(eu){let ed=eD.M.getConnections(),eg=eu??Array.from(eM.R.state.chains.keys());for(let eu of eg){let eg=ed[eu]??[],em=new Map(eF.recentConnections);em.set(eu,eg),eF.recentConnections=em}},getConnections:eu=>eu?eF.connections.get(eu)??[]:[],hasAnyConnection(eu){let ed=eK.state.connections;return Array.from(ed.values()).flatMap(eu=>eu).some(({connectorId:ed})=>ed===eu)},async connectWalletConnect(){if(eR.j.isTelegram()||eR.j.isSafari()&&eR.j.isIos()){if(em){await em,em=void 0;return}if(!eR.j.isPairingExpired(eF?.wcPairingExpiry)){let eu=eF.wcUri;eF.wcUri=eu;return}em=eK._getClient()?.connectWalletConnect?.().catch(()=>void 0),eK.state.status="connecting",await em,em=void 0,eF.wcPairingExpiry=void 0,eK.state.status="connected"}else await eK._getClient()?.connectWalletConnect?.()},async connectExternal(eu,ed,eg=!0){let em=await eK._getClient()?.connectExternal?.(eu);return eg&&eM.R.setActiveNamespace(ed),em},async reconnectExternal(eu){await eK._getClient()?.reconnectExternal?.(eu);let ed=eu.chain||eM.R.state.activeChain;ed&&eO.A.setConnectorId(eu.id,ed)},async setPreferredAccountType(eu,ed){if(!ed)return;eP.I.setLoading(!0,eM.R.state.activeChain);let eg=eO.A.getAuthConnector();eg&&(eC.N.setPreferredAccountType(eu,ed),await eg.provider.setPreferredAccount(eu),eD.M.setPreferredAccountTypes(Object.entries(eM.R.state.chains).reduce((eu,[ed,eg])=>{let em=ed,eb=(0,eA.r9)(em);return void 0!==eb&&(eu[em]=eb),eu},{})),await eK.reconnectExternal(eg),eP.I.setLoading(!1,eM.R.state.activeChain),eT.X.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:eu,network:eM.R.state.activeCaipNetwork?.caipNetworkId||""}}))},signMessage:async eu=>eK._getClient()?.signMessage(eu),parseUnits:(eu,ed)=>eK._getClient()?.parseUnits(eu,ed),formatUnits:(eu,ed)=>eK._getClient()?.formatUnits(eu,ed),sendTransaction:async eu=>eK._getClient()?.sendTransaction(eu),getCapabilities:async eu=>eK._getClient()?.getCapabilities(eu),grantPermissions:async eu=>eK._getClient()?.grantPermissions(eu),walletGetAssets:async eu=>eK._getClient()?.walletGetAssets(eu)??{},estimateGas:async eu=>eK._getClient()?.estimateGas(eu),writeContract:async eu=>eK._getClient()?.writeContract(eu),getEnsAddress:async eu=>eK._getClient()?.getEnsAddress(eu),getEnsAvatar:async eu=>eK._getClient()?.getEnsAvatar(eu),checkInstalled:eu=>eK._getClient()?.checkInstalled?.(eu)||!1,resetWcConnection(){eF.wcUri=void 0,eF.wcPairingExpiry=void 0,eF.wcLinking=void 0,eF.recentWallet=void 0,eF.status="disconnected",ej.s.resetTransactions(),eD.M.deleteWalletConnectDeepLink()},resetUri(){eF.wcUri=void 0,eF.wcPairingExpiry=void 0,em=void 0},finalizeWcConnection(){let{wcLinking:eu,recentWallet:ed}=eK.state;eu&&eD.M.setWalletConnectDeepLink(eu),ed&&eD.M.setAppKitRecent(ed),eT.X.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:eu?"mobile":"qrcode",name:eN.P.state.data?.wallet?.name||"Unknown",caipNetworkId:eM.R.getActiveCaipNetwork()?.caipNetworkId}})},setWcBasic(eu){eF.wcBasic=eu},setUri(eu){eF.wcUri=eu,eF.wcPairingExpiry=eR.j.getPairingExpiry()},setWcLinking(eu){eF.wcLinking=eu},setWcError(eu){eF.wcError=eu,eF.buffering=!1},setRecentWallet(eu){eF.recentWallet=eu},setBuffering(eu){eF.buffering=eu},setStatus(eu){eF.status=eu},setIsSwitchingConnection(eu){eF.isSwitchingConnection=eu},async disconnect({id:eu,namespace:ed,initialDisconnect:eg}={}){try{await eK._getClient()?.disconnect({id:eu,chainNamespace:ed,initialDisconnect:eg})}catch(eu){throw new eL.g("Failed to disconnect","INTERNAL_SDK_ERROR",eu)}},setConnections(eu,ed){let eg=new Map(eF.connections);eg.set(ed,eu),eF.connections=eg},async handleAuthAccountSwitch({address:eu,namespace:ed}){let eg=eC.N.state.user?.accounts?.find(eu=>"smartAccount"===eu.type),em=eg&&eg.address.toLowerCase()===eu.toLowerCase()&&eU.canSwitchToSmartAccount(ed)?"smartAccount":"eoa";await eK.setPreferredAccountType(em,ed)},async handleActiveConnection({connection:eu,namespace:ed,address:eg}){let em=eO.A.getConnectorById(eu.connectorId),eb=eu.connectorId===e_.b.CONNECTOR_ID.AUTH;if(!em)throw Error(`No connector found for connection: ${eu.connectorId}`);if(eb)eb&&eg&&await eK.handleAuthAccountSwitch({address:eg,namespace:ed});else{let eu=await eK.connectExternal({id:em.id,type:em.type,provider:em.provider,address:eg,chain:ed},ed);return eu?.address}return eg},async handleDisconnectedConnection({connection:eu,namespace:ed,address:eg,closeModalOnConnect:em}){let eb;let ew=eO.A.getConnectorById(eu.connectorId),eE=eu.auth?.name?.toLowerCase(),eA=eu.connectorId===e_.b.CONNECTOR_ID.AUTH,eS=eu.connectorId===e_.b.CONNECTOR_ID.WALLET_CONNECT;if(!ew)throw Error(`No connector found for connection: ${eu.connectorId}`);if(eA){if(eE&&eU.isSocialProvider(eE)){let{address:eu}=await eU.connectSocial({social:eE,closeModalOnConnect:em,onOpenFarcaster(){eP.I.open({view:"ConnectingFarcaster"})},onConnect(){eN.P.replace("ProfileWallets")}});eb=eu}else{let{address:eu}=await eU.connectEmail({closeModalOnConnect:em,onOpen(){eP.I.open({view:"EmailLogin"})},onConnect(){eN.P.replace("ProfileWallets")}});eb=eu}}else if(eS){let{address:eu}=await eU.connectWalletConnect({walletConnect:!0,connector:ew,closeModalOnConnect:em,onOpen(eu){eP.I.open({view:eu?"AllWallets":"ConnectingWalletConnect"})},onConnect(){eN.P.replace("ProfileWallets")}});eb=eu}else{let eu=await eK.connectExternal({id:ew.id,type:ew.type,provider:ew.provider,chain:ed},ed);eu&&(eb=eu.address)}return eA&&eg&&await eK.handleAuthAccountSwitch({address:eg,namespace:ed}),eb},async switchConnection({connection:eu,address:ed,namespace:eg,closeModalOnConnect:em,onChange:eb}){let ew;let e_=eC.N.getCaipAddress(eg);if(e_){let{address:eu}=eE.u.parseCaipAddress(e_);ew=eu}let eA=eS.f.getConnectionStatus(eu,eg);switch(eA){case"connected":case"active":{let em=await eK.handleActiveConnection({connection:eu,namespace:eg,address:ed});if(ew&&em){let eu=em.toLowerCase()!==ew.toLowerCase();eb?.({address:em,namespace:eg,hasSwitchedAccount:eu,hasSwitchedWallet:"active"===eA})}break}case"disconnected":{let ew=await eK.handleDisconnectedConnection({connection:eu,namespace:eg,address:ed,closeModalOnConnect:em});ew&&eb?.({address:ew,namespace:eg,hasSwitchedAccount:!0,hasSwitchedWallet:!0});break}default:throw Error(`Invalid connection status: ${eA}`)}}},eK=(0,eL.P)(e$)},44984:function(eu,ed,eg){"use strict";eg.d(ed,{A:function(){return eB}});var em=eg(62405),eb=eg(60052),ew=eg(16541),e_=eg(58780),eE=eg(89499),eA=eg(40458),eS=eg(62964),eI=eg(46719),eC=eg(63153),eM=eg(68157),eO=eg(2706),eT=eg(556),eP=eg(77405),eN=eg(36139);let ek={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0},eR=(0,em.sj)({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:{...ek},filterByNamespaceMap:{eip155:!0,solana:!0,polkadot:!0,bip122:!0,cosmos:!0}}),eD={state:eR,subscribe:eu=>(0,em.Ld)(eR,()=>{eu(eR)}),subscribeKey:(eu,ed)=>(0,eb.VW)(eR,eu,ed),initialize(eu){eu.forEach(eu=>{let ed=eI.M.getConnectedConnectorId(eu);ed&&eB.setConnectorId(ed,eu)})},setActiveConnector(eu){eu&&(eR.activeConnector=(0,em.iH)(eu))},setConnectors(eu){let ed=eu.filter(eu=>!eR.allConnectors.some(ed=>ed.id===eu.id&&eB.getConnectorName(ed.name)===eB.getConnectorName(eu.name)&&ed.chain===eu.chain));ed.forEach(eu=>{"MULTI_CHAIN"!==eu.type&&eR.allConnectors.push((0,em.iH)(eu))});let eg=eB.getEnabledNamespaces(),eb=eB.getEnabledConnectors(eg);eR.connectors=eB.mergeMultiChainConnectors(eb)},filterByNamespaces(eu){Object.keys(eR.filterByNamespaceMap).forEach(eu=>{eR.filterByNamespaceMap[eu]=!1}),eu.forEach(eu=>{eR.filterByNamespaceMap[eu]=!0}),eB.updateConnectorsForEnabledNamespaces()},filterByNamespace(eu,ed){eR.filterByNamespaceMap[eu]=ed,eB.updateConnectorsForEnabledNamespaces()},updateConnectorsForEnabledNamespaces(){let eu=eB.getEnabledNamespaces(),ed=eB.getEnabledConnectors(eu),eg=eB.areAllNamespacesEnabled();eR.connectors=eB.mergeMultiChainConnectors(ed),eg?eM.Q.clearFilterByNamespaces():eM.Q.filterByNamespaces(eu)},getEnabledNamespaces:()=>Object.entries(eR.filterByNamespaceMap).filter(([eu,ed])=>ed).map(([eu])=>eu),getEnabledConnectors:eu=>eR.allConnectors.filter(ed=>eu.includes(ed.chain)),areAllNamespacesEnabled:()=>Object.values(eR.filterByNamespaceMap).every(eu=>eu),mergeMultiChainConnectors(eu){let ed=eB.generateConnectorMapByName(eu),eg=[];return ed.forEach(eu=>{let ed=eu[0],em=ed?.id===ew.b.CONNECTOR_ID.AUTH;eu.length>1&&ed?eg.push({name:ed.name,imageUrl:ed.imageUrl,imageId:ed.imageId,connectors:[...eu],type:em?"AUTH":"MULTI_CHAIN",chain:"eip155",id:ed?.id||""}):ed&&eg.push(ed)}),eg},generateConnectorMapByName(eu){let ed=new Map;return eu.forEach(eu=>{let{name:eg}=eu,em=eB.getConnectorName(eg);if(!em)return;let eb=ed.get(em)||[],ew=eb.find(ed=>ed.chain===eu.chain);ew||eb.push(eu),ed.set(em,eb)}),ed},getConnectorName(eu){if(!eu)return eu;let ed={"Trust Wallet":"Trust"};return ed[eu]||eu},getUniqueConnectorsByName(eu){let ed=[];return eu.forEach(eu=>{ed.find(ed=>ed.chain===eu.chain)||ed.push(eu)}),ed},addConnector(eu){if(eu.id===ew.b.CONNECTOR_ID.AUTH){let ed=eu,eg=(0,em.CO)(eT.h.state),eb=eN.u.getSnapshot().themeMode,ew=eN.u.getSnapshot().themeVariables;ed?.provider?.syncDappData?.({metadata:eg.metadata,sdkVersion:eg.sdkVersion,projectId:eg.projectId,sdkType:eg.sdkType}),ed?.provider?.syncTheme({themeMode:eb,themeVariables:ew,w3mThemeVariables:(0,e_.t)(ew,eb)}),eB.setConnectors([eu])}else eB.setConnectors([eu])},getAuthConnector(eu){let ed=eu||eO.R.state.activeChain,eg=eR.connectors.find(eu=>eu.id===ew.b.CONNECTOR_ID.AUTH);if(eg){if(eg?.connectors?.length){let eu=eg.connectors.find(eu=>eu.chain===ed);return eu}return eg}},getAnnouncedConnectorRdns:()=>eR.connectors.filter(eu=>"ANNOUNCED"===eu.type).map(eu=>eu.info?.rdns),getConnectorById:eu=>eR.allConnectors.find(ed=>ed.id===eu),getConnector(eu,ed){let eg=eR.allConnectors.filter(eu=>eu.chain===eO.R.state.activeChain);return eg.find(eg=>eg.explorerId===eu||eg.info?.rdns===ed)},syncIfAuthConnector(eu){if("ID_AUTH"!==eu.id)return;let ed=eu,eg=(0,em.CO)(eT.h.state),eb=eN.u.getSnapshot().themeMode,ew=eN.u.getSnapshot().themeVariables;ed?.provider?.syncDappData?.({metadata:eg.metadata,sdkVersion:eg.sdkVersion,sdkType:eg.sdkType,projectId:eg.projectId}),ed.provider.syncTheme({themeMode:eb,themeVariables:ew,w3mThemeVariables:(0,e_.t)(ew,eb)})},getConnectorsByNamespace(eu){let ed=eR.allConnectors.filter(ed=>ed.chain===eu);return eB.mergeMultiChainConnectors(ed)},canSwitchToSmartAccount(eu){let ed=eO.R.checkIfSmartAccountEnabled();return ed&&(0,eA.r9)(eu)===eE.y_.ACCOUNT_TYPES.EOA},selectWalletConnector(eu){let ed=eB.getConnector(eu.id,eu.rdns);eS.R.handleMobileDeeplinkRedirect(ed?.explorerId||eu.id,eO.R.state.activeChain),ed?eP.P.push("ConnectingExternal",{connector:ed}):eP.P.push("ConnectingWalletConnect",{wallet:eu})},getConnectors:eu=>eu?eB.getConnectorsByNamespace(eu):eB.mergeMultiChainConnectors(eR.allConnectors),setFilterByNamespace(eu){eR.filterByNamespace=eu,eR.connectors=eB.getConnectors(eu),eM.Q.setFilterByNamespace(eu)},setConnectorId(eu,ed){eu&&(eR.activeConnectorIds={...eR.activeConnectorIds,[ed]:eu},eI.M.setConnectedConnectorId(ed,eu))},removeConnectorId(eu){eR.activeConnectorIds={...eR.activeConnectorIds,[eu]:void 0},eI.M.deleteConnectedConnectorId(eu)},getConnectorId(eu){if(eu)return eR.activeConnectorIds[eu]},isConnected:eu=>eu?!!eR.activeConnectorIds[eu]:Object.values(eR.activeConnectorIds).some(eu=>!!eu),resetConnectorIds(){eR.activeConnectorIds={...ek}}},eB=(0,eC.P)(eD)},71181:function(eu,ed,eg){"use strict";eg.d(ed,{a:function(){return ek}});var em=eg(62405),eb=eg(60052);let ew=2147483648,e_={convertEVMChainIdToCoinType(eu){if(eu>=ew)throw Error("Invalid chainId");return(ew|eu)>>>0}};var eE=eg(46719),eA=eg(63153),eS=eg(69479),eI=eg(46951),eC=eg(2706),eM=eg(86321),eO=eg(44984),eT=eg(77405);let eP=(0,em.sj)({suggestions:[],loading:!1}),eN={state:eP,subscribe:eu=>(0,em.Ld)(eP,()=>eu(eP)),subscribeKey:(eu,ed)=>(0,eb.VW)(eP,eu,ed),async resolveName(eu){try{return await eI.L.lookupEnsName(eu)}catch(ed){let eu=ed;throw Error(eu?.reasons?.[0]?.description||"Error resolving name")}},async isNameRegistered(eu){try{return await eI.L.lookupEnsName(eu),!0}catch{return!1}},async getSuggestions(eu){try{eP.loading=!0,eP.suggestions=[];let ed=await eI.L.getEnsNameSuggestions(eu);return eP.suggestions=ed.suggestions.map(eu=>({...eu,name:eu.name}))||[],eP.suggestions}catch(ed){let eu=ek.parseEnsApiError(ed,"Error fetching name suggestions");throw Error(eu)}finally{eP.loading=!1}},async getNamesForAddress(eu){try{let ed=eC.R.state.activeCaipNetwork;if(!ed)return[];let eg=eE.M.getEnsFromCacheForAddress(eu);if(eg)return eg;let em=await eI.L.reverseLookupEnsName({address:eu});return eE.M.updateEnsCache({address:eu,ens:em,timestamp:Date.now()}),em}catch(ed){let eu=ek.parseEnsApiError(ed,"Error fetching names for address");throw Error(eu)}},async registerName(eu){let ed=eC.R.state.activeCaipNetwork,eg=eS.N.state.address,em=eO.A.getAuthConnector();if(!ed)throw Error("Network not found");if(!eg||!em)throw Error("Address or auth connector not found");eP.loading=!0;try{let em=JSON.stringify({name:eu,attributes:{},timestamp:Math.floor(Date.now()/1e3)});eT.P.pushTransactionStack({onCancel(){eT.P.replace("RegisterAccountName")}});let eb=await eM.l.signMessage(em);eP.loading=!1;let ew=ed.id;if(!ew)throw Error("Network not found");let eE=e_.convertEVMChainIdToCoinType(Number(ew));await eI.L.registerEnsName({coinType:eE,address:eg,signature:eb,message:em}),eS.N.setProfileName(eu,ed.chainNamespace),eT.P.replace("RegisterAccountNameSuccess")}catch(eg){let ed=ek.parseEnsApiError(eg,`Error registering name ${eu}`);throw eT.P.replace("RegisterAccountName"),Error(ed)}finally{eP.loading=!1}},validateName:eu=>/^[a-zA-Z0-9-]{4,}$/u.test(eu),parseEnsApiError(eu,ed){let eg=eu;return eg?.reasons?.[0]?.description||ed}},ek=(0,eA.P)(eN)},86126:function(eu,ed,eg){"use strict";eg.d(ed,{X:function(){return eP}});var em=eg(62405),eb=eg(16541),ew=eg(59069),e_=eg(23704),eE=eg(55315),eA=eg(69479),eS=eg(93921),eI=eg(556);let eC=e_.j.getAnalyticsUrl(),eM=new eE.V({baseUrl:eC,clientId:null}),eO=["MODAL_CREATED"],eT=(0,em.sj)({timestamp:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"}}),eP={state:eT,subscribe:eu=>(0,em.Ld)(eT,()=>eu(eT)),getSdkProperties(){let{projectId:eu,sdkType:ed,sdkVersion:eg}=eI.h.state;return{projectId:eu,st:ed,sv:eg||"html-wagmi-4.2.2"}},async _sendAnalyticsEvent(eu){try{let ed=eA.N.state.address;if(eO.includes(eu.data.event)||"undefined"==typeof window)return;await eM.post({path:"/e",params:eP.getSdkProperties(),body:{eventId:e_.j.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:eu.timestamp,props:{...eu.data,address:ed}}}),eT.reportedErrors.FORBIDDEN=!1}catch(ed){let eu=ed instanceof Error&&ed.cause instanceof Response&&ed.cause.status===eb.b.HTTP_STATUS_CODES.FORBIDDEN&&!eT.reportedErrors.FORBIDDEN;eu&&(eS.B.open({shortMessage:"Invalid App Configuration",longMessage:`Origin ${(0,ew.$U)()?window.origin:"uknown"} not found on Allowlist - update configuration on cloud.reown.com`},"error"),eT.reportedErrors.FORBIDDEN=!0)}},sendEvent(eu){eT.timestamp=Date.now(),eT.data=eu,(eI.h.state.features?.analytics||"INITIALIZE"===eu.event)&&eP._sendAnalyticsEvent(eT)}}},91368:function(eu,ed,eg){"use strict";eg.d(ed,{I:function(){return eR}});var em=eg(62405),eb=eg(60052),ew=eg(23704),e_=eg(65360),eE=eg(63153),eA=eg(68157),eS=eg(2706),eI=eg(86321),eC=eg(44984),eM=eg(86126),eO=eg(556),eT=eg(61556),eP=eg(77405);let eN=(0,em.sj)({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),ek={state:eN,subscribe:eu=>(0,em.Ld)(eN,()=>eu(eN)),subscribeKey:(eu,ed)=>(0,eb.VW)(eN,eu,ed),async open(eu){let ed=eu?.namespace,eg=eS.R.state.activeChain,em=ed&&ed!==eg,eb=eS.R.getAccountData(eu?.namespace)?.caipAddress;if(eI.l.state.wcBasic?eA.Q.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1}):await eA.Q.prefetch(),eC.A.setFilterByNamespace(eu?.namespace),eR.setLoading(!0,ed),ed&&em){let eu=eS.R.getNetworkData(ed)?.caipNetwork||eS.R.getRequestedCaipNetworks(ed)[0];eu&&e_.p.onSwitchNetwork({network:eu,ignoreSwitchConfirmation:!0})}else{let ed=eS.R.state.noAdapters;eO.h.state.manualWCControl||ed&&!eb?ew.j.isMobile()?eP.P.reset("AllWallets"):eP.P.reset("ConnectingWalletConnectBasic"):eu?.view?eP.P.reset(eu.view,eu.data):eb?eP.P.reset("Account"):eP.P.reset("Connect")}eN.open=!0,eT.I.set({open:!0}),eM.X.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!eb}})},close(){let eu=eO.h.state.enableEmbedded,ed=!!eS.R.state.activeCaipAddress;eN.open&&eM.X.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:ed}}),eN.open=!1,eP.P.reset("Connect"),eR.clearLoading(),eu?ed?eP.P.replace("Account"):eP.P.push("Connect"):eT.I.set({open:!1}),eI.l.resetUri()},setLoading(eu,ed){ed&&eN.loadingNamespaceMap.set(ed,eu),eN.loading=eu,eT.I.set({loading:eu})},clearLoading(){eN.loadingNamespaceMap.clear(),eN.loading=!1},shake(){eN.shake||(eN.shake=!0,setTimeout(()=>{eN.shake=!1},500))}},eR=(0,eE.P)(ek)},62640:function(eu,ed,eg){"use strict";eg.d(ed,{ph:function(){return ek}});var em=eg(62405),eb=eg(60052),ew=eg(16541),e_=eg(1278),eE=eg(63153),eA=eg(68157),eS=eg(46951),eI=eg(2706),eC=eg(556);let eM={id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},eO={id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},eT={providers:e_.gy,selectedProvider:null,error:null,purchaseCurrency:eM,paymentCurrency:eO,purchaseCurrencies:[eM],paymentCurrencies:[],quotesLoading:!1},eP=(0,em.sj)(eT),eN={state:eP,subscribe:eu=>(0,em.Ld)(eP,()=>eu(eP)),subscribeKey:(eu,ed)=>(0,eb.VW)(eP,eu,ed),setSelectedProvider(eu){if(eu&&"meld"===eu.name){let ed=eI.R.state.activeChain,eg=ed===ew.b.CHAIN.SOLANA?"SOL":"USDC",em=eI.R.getAccountProp("address",ed)??"",eb=new URL(eu.url);eb.searchParams.append("publicKey",e_.a$),eb.searchParams.append("destinationCurrencyCode",eg),eb.searchParams.append("walletAddress",em),eb.searchParams.append("externalCustomerId",eC.h.state.projectId),eP.selectedProvider={...eu,url:eb.toString()}}else eP.selectedProvider=eu},setOnrampProviders(eu){if(Array.isArray(eu)&&eu.every(eu=>"string"==typeof eu)){let ed=eu,eg=e_.gy.filter(eu=>ed.includes(eu.name));eP.providers=eg}else eP.providers=[]},setPurchaseCurrency(eu){eP.purchaseCurrency=eu},setPaymentCurrency(eu){eP.paymentCurrency=eu},setPurchaseAmount(eu){ek.state.purchaseAmount=eu},setPaymentAmount(eu){ek.state.paymentAmount=eu},async getAvailableCurrencies(){let eu=await eS.L.getOnrampOptions();eP.purchaseCurrencies=eu.purchaseCurrencies,eP.paymentCurrencies=eu.paymentCurrencies,eP.paymentCurrency=eu.paymentCurrencies[0]||eO,eP.purchaseCurrency=eu.purchaseCurrencies[0]||eM,await eA.Q.fetchCurrencyImages(eu.paymentCurrencies.map(eu=>eu.id)),await eA.Q.fetchTokenImages(eu.purchaseCurrencies.map(eu=>eu.symbol))},async getQuote(){eP.quotesLoading=!0;try{let eu=await eS.L.getOnrampQuote({purchaseCurrency:eP.purchaseCurrency,paymentCurrency:eP.paymentCurrency,amount:eP.paymentAmount?.toString()||"0",network:eP.purchaseCurrency?.symbol});return eP.quotesLoading=!1,eP.purchaseAmount=Number(eu?.purchaseAmount.amount),eu}catch(eu){return eP.error=eu.message,eP.quotesLoading=!1,null}finally{eP.quotesLoading=!1}},resetState(){eP.selectedProvider=null,eP.error=null,eP.purchaseCurrency=eM,eP.paymentCurrency=eO,eP.purchaseCurrencies=[eM],eP.paymentCurrencies=[],eP.paymentAmount=void 0,eP.purchaseAmount=void 0,eP.quotesLoading=!1}},ek=(0,eE.P)(eN)},556:function(eu,ed,eg){"use strict";eg.d(ed,{h:function(){return eS}});var em=eg(62405),eb=eg(60052),ew=eg(1278),e_=eg(23704);let eE={getFeatureValue(eu,ed){let eg=ed?.[eu];return void 0===eg?ew.bq.DEFAULT_FEATURES[eu]:eg},filterSocialsByPlatform(eu){if(!eu||!eu.length)return eu;if(e_.j.isTelegram()){if(e_.j.isIos())return eu.filter(eu=>"google"!==eu);if(e_.j.isMac())return eu.filter(eu=>"x"!==eu);if(e_.j.isAndroid())return eu.filter(eu=>!["facebook","x"].includes(eu))}return eu}},eA=(0,em.sj)({features:ew.bq.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:ew.bq.DEFAULT_ACCOUNT_TYPES,enableNetworkSwitch:!0,experimental_preferUniversalLinks:!1,remoteFeatures:{}}),eS={state:eA,subscribeKey:(eu,ed)=>(0,eb.VW)(eA,eu,ed),setOptions(eu){Object.assign(eA,eu)},setRemoteFeatures(eu){if(!eu)return;let ed={...eA.remoteFeatures,...eu};eA.remoteFeatures=ed,eA.remoteFeatures?.socials&&(eA.remoteFeatures.socials=eE.filterSocialsByPlatform(eA.remoteFeatures.socials)),eA.features?.pay&&(eA.remoteFeatures.email=!1,eA.remoteFeatures.socials=!1)},setFeatures(eu){if(!eu)return;eA.features||(eA.features=ew.bq.DEFAULT_FEATURES);let ed={...eA.features,...eu};eA.features=ed,eA.features?.pay&&eA.remoteFeatures&&(eA.remoteFeatures.email=!1,eA.remoteFeatures.socials=!1)},setProjectId(eu){eA.projectId=eu},setCustomRpcUrls(eu){eA.customRpcUrls=eu},setAllWallets(eu){eA.allWallets=eu},setIncludeWalletIds(eu){eA.includeWalletIds=eu},setExcludeWalletIds(eu){eA.excludeWalletIds=eu},setFeaturedWalletIds(eu){eA.featuredWalletIds=eu},setTokens(eu){eA.tokens=eu},setTermsConditionsUrl(eu){eA.termsConditionsUrl=eu},setPrivacyPolicyUrl(eu){eA.privacyPolicyUrl=eu},setCustomWallets(eu){eA.customWallets=eu},setIsSiweEnabled(eu){eA.isSiweEnabled=eu},setIsUniversalProvider(eu){eA.isUniversalProvider=eu},setSdkVersion(eu){eA.sdkVersion=eu},setMetadata(eu){eA.metadata=eu},setDisableAppend(eu){eA.disableAppend=eu},setEIP6963Enabled(eu){eA.enableEIP6963=eu},setDebug(eu){eA.debug=eu},setEnableWalletConnect(eu){eA.enableWalletConnect=eu},setEnableWalletGuide(eu){eA.enableWalletGuide=eu},setEnableAuthLogger(eu){eA.enableAuthLogger=eu},setEnableWallets(eu){eA.enableWallets=eu},setPreferUniversalLinks(eu){eA.experimental_preferUniversalLinks=eu},setSIWX(eu){if(eu)for(let[ed,eg]of Object.entries(ew.bq.SIWX_DEFAULTS))eu[ed]??=eg;eA.siwx=eu},setConnectMethodsOrder(eu){eA.features={...eA.features,connectMethodsOrder:eu}},setWalletFeaturesOrder(eu){eA.features={...eA.features,walletFeaturesOrder:eu}},setSocialsOrder(eu){eA.remoteFeatures={...eA.remoteFeatures,socials:eu}},setCollapseWallets(eu){eA.features={...eA.features,collapseWallets:eu}},setEnableEmbedded(eu){eA.enableEmbedded=eu},setAllowUnsupportedChain(eu){eA.allowUnsupportedChain=eu},setManualWCControl(eu){eA.manualWCControl=eu},setEnableNetworkSwitch(eu){eA.enableNetworkSwitch=eu},setEnableReconnect(eu){eA.enableReconnect=eu},setDefaultAccountTypes(eu={}){Object.entries(eu).forEach(([eu,ed])=>{ed&&(eA.defaultAccountTypes[eu]=ed)})},setUniversalProviderConfigOverride(eu){eA.universalProviderConfigOverride=eu},getUniversalProviderConfigOverride:()=>eA.universalProviderConfigOverride,getSnapshot:()=>(0,em.CO)(eA)}},61556:function(eu,ed,eg){"use strict";eg.d(ed,{I:function(){return e_}});var em=eg(62405),eb=eg(60052);let ew=(0,em.sj)({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1}),e_={state:ew,subscribe:eu=>(0,em.Ld)(ew,()=>eu(ew)),subscribeOpen:eu=>(0,eb.VW)(ew,"open",eu),set(eu){Object.assign(ew,{...ew,...eu})}}},77405:function(eu,ed,eg){"use strict";eg.d(ed,{P:function(){return eO}});var em=eg(62405),eb=eg(60052),ew=eg(63153),e_=eg(69479),eE=eg(2706),eA=eg(44984),eS=eg(91368),eI=eg(556);let eC=(0,em.sj)({view:"Connect",history:["Connect"],transactionStack:[]}),eM={state:eC,subscribeKey:(eu,ed)=>(0,eb.VW)(eC,eu,ed),pushTransactionStack(eu){eC.transactionStack.push(eu)},popTransactionStack(eu){let ed=eC.transactionStack.pop();if(!ed)return;let{onSuccess:eg,onError:em,onCancel:eb}=ed;switch(eu){case"success":eg?.();break;case"error":em?.(),eO.goBack();break;case"cancel":eb?.(),eO.goBack()}},push(eu,ed){eu!==eC.view&&(eC.view=eu,eC.history.push(eu),eC.data=ed)},reset(eu,ed){eC.view=eu,eC.history=[eu],eC.data=ed},replace(eu,ed){let eg=eC.history.at(-1),em=eg===eu;em||(eC.view=eu,eC.history[eC.history.length-1]=eu,eC.data=ed)},goBack(){let eu=eE.R.state.activeCaipAddress,ed="ConnectingFarcaster"===eO.state.view,eg=!eu&&ed;if(eC.history.length>1){eC.history.pop();let[ed]=eC.history.slice(-1);if(ed){let eg="Connect"===ed;eu&&eg?eC.view="Account":eC.view=ed}}else eS.I.close();eC.data?.wallet&&(eC.data.wallet=void 0),setTimeout(()=>{if(eg){e_.N.setFarcasterUrl(void 0,eE.R.state.activeChain);let eu=eA.A.getAuthConnector();eu?.provider?.reload();let ed=(0,em.CO)(eI.h.state);eu?.provider?.syncDappData?.({metadata:ed.metadata,sdkVersion:ed.sdkVersion,projectId:ed.projectId,sdkType:ed.sdkType})}},100)},goBackToIndex(eu){if(eC.history.length>1){eC.history=eC.history.slice(0,eu+1);let[ed]=eC.history.slice(-1);ed&&(eC.view=ed)}},goBackOrCloseModal(){eO.state.history.length>1?eO.goBack():eS.I.close()}},eO=(0,ew.P)(eM)},27393:function(eu,ed,eg){"use strict";eg.d(ed,{S:function(){return ej}});var em=eg(62405),eb=eg(60052),ew=eg(43654),e_=eg(16541),eE=eg(97625),eA=eg(89499),eS=eg(41103),eI=eg(40458),eC=eg(1278),eM=eg(23704),eO=eg(62857),eT=eg(63153),eP=eg(69479),eN=eg(2706),ek=eg(86321),eR=eg(86126),eD=eg(77405),eB=eg(25721);let eU=(0,em.sj)({tokenBalances:[],loading:!1}),eL={state:eU,subscribe:eu=>(0,em.Ld)(eU,()=>eu(eU)),subscribeKey:(eu,ed)=>(0,eb.VW)(eU,eu,ed),setToken(eu){eu&&(eU.token=(0,em.iH)(eu))},setTokenAmount(eu){eU.sendTokenAmount=eu},setReceiverAddress(eu){eU.receiverAddress=eu},setReceiverProfileImageUrl(eu){eU.receiverProfileImageUrl=eu},setReceiverProfileName(eu){eU.receiverProfileName=eu},setNetworkBalanceInUsd(eu){eU.networkBalanceInUSD=eu},setLoading(eu){eU.loading=eu},async sendToken(){try{switch(ej.setLoading(!0),eN.R.state.activeCaipNetwork?.chainNamespace){case"eip155":await ej.sendEvmToken();return;case"solana":await ej.sendSolanaToken();return;default:throw Error("Unsupported chain")}}finally{ej.setLoading(!1)}},async sendEvmToken(){let eu=eN.R.state.activeChain;if(!eu)throw Error("SendController:sendEvmToken - activeChainNamespace is required");let ed=(0,eI.r9)(eu);if(!ej.state.sendTokenAmount||!ej.state.receiverAddress)throw Error("An amount and receiver address are required");if(!ej.state.token)throw Error("A token is required");ej.state.token?.address?(eR.X.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:ed===eA.y_.ACCOUNT_TYPES.SMART_ACCOUNT,token:ej.state.token.address,amount:ej.state.sendTokenAmount,network:eN.R.state.activeCaipNetwork?.caipNetworkId||""}}),await ej.sendERC20Token({receiverAddress:ej.state.receiverAddress,tokenAddress:ej.state.token.address,sendTokenAmount:ej.state.sendTokenAmount,decimals:ej.state.token.quantity.decimals})):(eR.X.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:ed===eA.y_.ACCOUNT_TYPES.SMART_ACCOUNT,token:ej.state.token.symbol||"",amount:ej.state.sendTokenAmount,network:eN.R.state.activeCaipNetwork?.caipNetworkId||""}}),await ej.sendNativeToken({receiverAddress:ej.state.receiverAddress,sendTokenAmount:ej.state.sendTokenAmount,decimals:ej.state.token.quantity.decimals}))},async fetchTokenBalance(eu){eU.loading=!0;let ed=eN.R.state.activeCaipNetwork?.caipNetworkId,eg=eN.R.state.activeCaipNetwork?.chainNamespace,em=eN.R.state.activeCaipAddress,eb=em?eM.j.getPlainAddress(em):void 0;if(eU.lastRetry&&!eM.j.isAllowedRetry(eU.lastRetry,30*eC.bq.ONE_SEC_MS))return eU.loading=!1,[];try{if(eb&&ed&&eg){let eu=await eS.Q.getMyTokensWithBalance();return eU.tokenBalances=eu,eU.lastRetry=void 0,eu}}catch(ed){eU.lastRetry=Date.now(),eu?.(ed),eB.K.showError("Token Balance Unavailable")}finally{eU.loading=!1}return[]},fetchNetworkBalance(){if(0===eU.tokenBalances.length)return;let eu=eO.n.mapBalancesToSwapTokens(eU.tokenBalances);if(!eu)return;let ed=eu.find(eu=>eu.address===(0,eI.EO)());ed&&(eU.networkBalanceInUSD=ed?ew.C.multiply(ed.quantity.numeric,ed.price).toString():"0")},async sendNativeToken(eu){eD.P.pushTransactionStack({});let ed=eu.receiverAddress,eg=eP.N.state.address,em=ek.l.parseUnits(eu.sendTokenAmount.toString(),Number(eu.decimals)),eb="0x";await ek.l.sendTransaction({chainNamespace:e_.b.CHAIN.EVM,to:ed,address:eg,data:eb,value:em??BigInt(0)}),eR.X.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:(0,eI.r9)("eip155")===eA.y_.ACCOUNT_TYPES.SMART_ACCOUNT,token:ej.state.token?.symbol||"",amount:eu.sendTokenAmount,network:eN.R.state.activeCaipNetwork?.caipNetworkId||""}}),ek.l._getClient()?.updateBalance("eip155"),ej.resetSend()},async sendERC20Token(eu){eD.P.pushTransactionStack({onSuccess(){eD.P.replace("Account")}});let ed=ek.l.parseUnits(eu.sendTokenAmount.toString(),Number(eu.decimals));if(eP.N.state.address&&eu.sendTokenAmount&&eu.receiverAddress&&eu.tokenAddress){let eg=eM.j.getPlainAddress(eu.tokenAddress);if(!eg)throw Error("SendController:sendERC20Token - tokenAddress is required");await ek.l.writeContract({fromAddress:eP.N.state.address,tokenAddress:eg,args:[eu.receiverAddress,ed??BigInt(0)],method:"transfer",abi:eE.g.getERC20Abi(eg),chainNamespace:e_.b.CHAIN.EVM}),ej.resetSend()}},async sendSolanaToken(){if(!ej.state.sendTokenAmount||!ej.state.receiverAddress)throw Error("An amount and receiver address are required");eD.P.pushTransactionStack({onSuccess(){eD.P.replace("Account")}}),await ek.l.sendTransaction({chainNamespace:"solana",to:ej.state.receiverAddress,value:ej.state.sendTokenAmount}),ek.l._getClient()?.updateBalance("solana"),ej.resetSend()},resetSend(){eU.token=void 0,eU.sendTokenAmount=void 0,eU.receiverAddress=void 0,eU.receiverProfileImageUrl=void 0,eU.receiverProfileName=void 0,eU.loading=!1,eU.tokenBalances=[]}},ej=(0,eT.P)(eL)},25721:function(eu,ed,eg){"use strict";eg.d(ed,{K:function(){return eS}});var em=eg(62405),eb=eg(60052),ew=eg(23704);let e_=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),eE=(0,em.sj)({...e_}),eA={state:eE,subscribeKey:(eu,ed)=>(0,eb.VW)(eE,eu,ed),showLoading(eu,ed={}){this._showMessage({message:eu,variant:"loading",...ed})},showSuccess(eu){this._showMessage({message:eu,variant:"success"})},showSvg(eu,ed){this._showMessage({message:eu,svg:ed})},showError(eu){let ed=ew.j.parseError(eu);this._showMessage({message:ed,variant:"error"})},hide(){eE.message=e_.message,eE.variant=e_.variant,eE.svg=e_.svg,eE.open=e_.open,eE.autoClose=e_.autoClose},_showMessage({message:eu,svg:ed,variant:eg="success",autoClose:em=e_.autoClose}){eE.open?(eE.open=!1,setTimeout(()=>{eE.message=eu,eE.variant=eg,eE.svg=ed,eE.open=!0,eE.autoClose=em},150)):(eE.message=eu,eE.variant=eg,eE.svg=ed,eE.open=!0,eE.autoClose=em)}},eS=eA},36139:function(eu,ed,eg){"use strict";eg.d(ed,{u:function(){return eS}});var em=eg(62405),eb=eg(58780),ew=eg(63153),e_=eg(44984);let eE=(0,em.sj)({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),eA={state:eE,subscribe:eu=>(0,em.Ld)(eE,()=>eu(eE)),setThemeMode(eu){eE.themeMode=eu;try{let ed=e_.A.getAuthConnector();if(ed){let eg=eA.getSnapshot().themeVariables;ed.provider.syncTheme({themeMode:eu,themeVariables:eg,w3mThemeVariables:(0,eb.t)(eg,eu)})}}catch{console.info("Unable to sync theme to auth connector")}},setThemeVariables(eu){eE.themeVariables={...eE.themeVariables,...eu};try{let eu=e_.A.getAuthConnector();if(eu){let ed=eA.getSnapshot().themeVariables;eu.provider.syncTheme({themeVariables:ed,w3mThemeVariables:(0,eb.t)(eE.themeVariables,eE.themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},getSnapshot:()=>(0,em.CO)(eE)},eS=(0,ew.P)(eA)},36715:function(eu,ed,eg){"use strict";eg.d(ed,{s:function(){return eT}});var em=eg(62405),eb=eg(89499),ew=eg(40458),e_=eg(63153),eE=eg(46951),eA=eg(2706),eS=eg(86126),eI=eg(556),eC=eg(25721);let eM=(0,em.sj)({transactions:[],transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),eO={state:eM,subscribe:eu=>(0,em.Ld)(eM,()=>eu(eM)),setLastNetworkInView(eu){eM.lastNetworkInView=eu},async fetchTransactions(eu){if(!eu)throw Error("Transactions can't be fetched without an accountAddress");eM.loading=!0;try{let ed=await eE.L.fetchTransactions({account:eu,cursor:eM.next,chainId:eA.R.state.activeCaipNetwork?.caipNetworkId}),eg=eT.filterSpamTransactions(ed.data),em=eT.filterByConnectedChain(eg),eb=[...eM.transactions,...em];eM.loading=!1,eM.transactions=eb,eM.transactionsByYear=eT.groupTransactionsByYearAndMonth(eM.transactionsByYear,em),eM.empty=0===eb.length,eM.next=ed.next?ed.next:void 0}catch(eg){let ed=eA.R.state.activeChain;eS.X.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:eu,projectId:eI.h.state.projectId,cursor:eM.next,isSmartAccount:(0,ew.r9)(ed)===eb.y_.ACCOUNT_TYPES.SMART_ACCOUNT}}),eC.K.showError("Failed to fetch transactions"),eM.loading=!1,eM.empty=!0,eM.next=void 0}},groupTransactionsByYearAndMonth(eu={},ed=[]){let eg=eu;return ed.forEach(eu=>{let ed=new Date(eu.metadata.minedAt).getFullYear(),em=new Date(eu.metadata.minedAt).getMonth(),eb=eg[ed]??{},ew=eb[em]??[],e_=ew.filter(ed=>ed.id!==eu.id);eg[ed]={...eb,[em]:[...e_,eu].sort((eu,ed)=>new Date(ed.metadata.minedAt).getTime()-new Date(eu.metadata.minedAt).getTime())}}),eg},filterSpamTransactions:eu=>eu.filter(eu=>{let ed=eu.transfers.every(eu=>!0===eu.nft_info?.flags.is_spam);return!ed}),filterByConnectedChain(eu){let ed=eA.R.state.activeCaipNetwork?.caipNetworkId,eg=eu.filter(eu=>eu.metadata.chain===ed);return eg},clearCursor(){eM.next=void 0},resetTransactions(){eM.transactions=[],eM.transactionsByYear={},eM.lastNetworkInView=void 0,eM.loading=!1,eM.empty=!1,eM.next=void 0}},eT=(0,e_.P)(eO,"API_ERROR")},93934:function(eu,ed,eg){"use strict";eg.d(ed,{f:function(){return eA}});var em=eg(62405),eb=eg(68157),ew=eg(91588);let e_={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00",cosmos:""},eE=(0,em.sj)({networkImagePromises:{}}),eA={async fetchWalletImage(eu){if(eu)return await eb.Q._fetchWalletImage(eu),this.getWalletImageById(eu)},async fetchNetworkImage(eu){if(!eu)return;let ed=this.getNetworkImageById(eu);return ed||(eE.networkImagePromises[eu]||(eE.networkImagePromises[eu]=eb.Q._fetchNetworkImage(eu)),await eE.networkImagePromises[eu],this.getNetworkImageById(eu))},getWalletImageById(eu){if(eu)return ew.W.state.walletImages[eu]},getWalletImage:eu=>eu?.image_url?eu?.image_url:eu?.image_id?ew.W.state.walletImages[eu.image_id]:void 0,getNetworkImage:eu=>eu?.assets?.imageUrl?eu?.assets?.imageUrl:eu?.assets?.imageId?ew.W.state.networkImages[eu.assets.imageId]:void 0,getNetworkImageById(eu){if(eu)return ew.W.state.networkImages[eu]},getConnectorImage:eu=>eu?.imageUrl?eu.imageUrl:eu?.info?.icon?eu.info.icon:eu?.imageId?ew.W.state.connectorImages[eu.imageId]:void 0,getChainImage:eu=>ew.W.state.networkImages[e_[eu]]}},41103:function(eu,ed,eg){"use strict";eg.d(ed,{Q:function(){return eM}});var em=eg(16541),eb=eg(69479),ew=eg(46951),e_=eg(2706),eE=eg(86321),eA=eg(44984),eS=eg(92083);let eI={createBalance(eu,ed){let eg={name:eu.metadata.name||"",symbol:eu.metadata.symbol||"",decimals:eu.metadata.decimals||0,value:eu.metadata.value||0,price:eu.metadata.price||0,iconUrl:eu.metadata.iconUrl||""};return{name:eg.name,symbol:eg.symbol,chainId:ed,address:"native"===eu.address?void 0:this.convertAddressToCAIP10Address(eu.address,ed),value:eg.value,price:eg.price,quantity:{decimals:eg.decimals.toString(),numeric:this.convertHexToBalance({hex:eu.balance,decimals:eg.decimals})},iconUrl:eg.iconUrl}},convertHexToBalance:({hex:eu,decimals:ed})=>(0,eS.b)(BigInt(eu),ed),convertAddressToCAIP10Address:(eu,ed)=>`${ed}:${eu}`,createCAIP2ChainId:(eu,ed)=>`${ed}:${parseInt(eu,16)}`,getChainIdHexFromCAIP2ChainId(eu){let ed=eu.split(":");if(ed.length<2||!ed[1])return"0x0";let eg=ed[1],em=parseInt(eg,10);return isNaN(em)?"0x0":`0x${em.toString(16)}`},isWalletGetAssetsResponse(eu){return"object"==typeof eu&&null!==eu&&Object.values(eu).every(eu=>Array.isArray(eu)&&eu.every(eu=>this.isValidAsset(eu)))},isValidAsset:eu=>"object"==typeof eu&&null!==eu&&"string"==typeof eu.address&&"string"==typeof eu.balance&&("ERC20"===eu.type||"NATIVE"===eu.type)&&"object"==typeof eu.metadata&&null!==eu.metadata&&"string"==typeof eu.metadata.name&&"string"==typeof eu.metadata.symbol&&"number"==typeof eu.metadata.decimals&&"number"==typeof eu.metadata.price&&"string"==typeof eu.metadata.iconUrl};var eC=eg(46719);let eM={async getMyTokensWithBalance(eu){let ed=eb.N.state.address,eg=e_.R.state.activeCaipNetwork,eE=eA.A.getConnectorId("eip155")===em.b.CONNECTOR_ID.AUTH;if(!ed||!eg)return[];let eS=`${eg.caipNetworkId}:${ed}`,eI=eC.M.getBalanceCacheForCaipAddress(eS);if(eI)return eI.balances;if(eg.chainNamespace===em.b.CHAIN.EVM&&eE){let eu=await this.getEIP155Balances(ed,eg);if(eu)return this.filterLowQualityTokens(eu)}let eM=await ew.L.getBalance(ed,eg.caipNetworkId,eu);return this.filterLowQualityTokens(eM.balances)},async getEIP155Balances(eu,ed){try{let eg=eI.getChainIdHexFromCAIP2ChainId(ed.caipNetworkId),em=await eE.l.getCapabilities(eu);if(!em?.[eg]?.assetDiscovery?.supported)return null;let eb=await eE.l.walletGetAssets({account:eu,chainFilter:[eg]});if(!eI.isWalletGetAssetsResponse(eb))return null;let ew=eb[eg]||[],e_=ew.map(eu=>eI.createBalance(eu,ed.caipNetworkId));return eC.M.updateBalanceCache({caipAddress:`${ed.caipNetworkId}:${eu}`,balance:{balances:e_},timestamp:Date.now()}),e_}catch(eu){return null}},filterLowQualityTokens:eu=>eu.filter(eu=>"0"!==eu.quantity.decimals)}},40458:function(eu,ed,eg){"use strict";eg.d(ed,{EO:function(){return ew},r9:function(){return e_}});var em=eg(2706),eb=eg(1278);function ew(){let eu=em.R.state.activeCaipNetwork?.chainNamespace||"eip155",ed=em.R.state.activeCaipNetwork?.id||1,eg=eb.bq.NATIVE_TOKEN_ADDRESS[eu];return`${eu}:${ed}:${eg}`}function e_(eu){let ed=em.R.getAccountData(eu)?.preferredAccountType;return ed}},35776:function(eu,ed,eg){"use strict";eg.d(ed,{f:function(){return e_}});var em=eg(86321),eb=eg(44984),ew=eg(556);let e_={getConnectionStatus(eu,ed){let eg=eb.A.state.activeConnectorIds[ed],ew=em.l.getConnections(ed),e_=!!eg&&eu.connectorId===eg;if(e_)return"connected";let eE=ew.some(ed=>ed.connectorId.toLowerCase()===eu.connectorId.toLowerCase());return eE?"active":"disconnected"},excludeConnectorAddressFromConnections:({connections:eu,connectorId:ed,addresses:eg})=>eu.map(eu=>{let em=!!ed&&eu.connectorId.toLowerCase()===ed.toLowerCase();if(em&&eg){let ed=eu.accounts.filter(eu=>{let ed=eg.some(ed=>ed.toLowerCase()===eu.address.toLowerCase());return!ed});return{...eu,accounts:ed}}return eu}),excludeExistingConnections(eu,ed){let eg=new Set(eu);return ed.filter(eu=>!eg.has(eu.connectorId))},getConnectionsByConnectorId:(eu,ed)=>eu.filter(eu=>eu.connectorId.toLowerCase()===ed.toLowerCase()),getConnectionsData(eu){let ed=!!ew.h.state.remoteFeatures?.multiWallet,eg=eb.A.state.activeConnectorIds[eu],eE=em.l.getConnections(eu),eA=em.l.state.recentConnections.get(eu)??[],eS=eA.filter(eu=>eb.A.getConnectorById(eu.connectorId)),eI=e_.excludeExistingConnections([...eE.map(eu=>eu.connectorId),...eg?[eg]:[]],eS);return ed?{connections:eE,recentConnections:eI}:{connections:eE.filter(eu=>eu.connectorId.toLowerCase()===eg?.toLowerCase()),recentConnections:[]}}}},1278:function(eu,ed,eg){"use strict";eg.d(ed,{a$:function(){return eE},bq:function(){return eA},gy:function(){return e_}});var em=eg(16541),eb=eg(34406);let ew=(void 0!==eb&&void 0!==eb.env?eb.env.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",e_=[{label:"Meld.io",name:"meld",feeRange:"1-2%",url:"https://meldcrypto.com",supportedChains:["eip155","solana"]}],eE="WXETMuFUQmqqybHuRkSgxv:25B8LJHSfpG6LVjR2ytU5Cwh7Z4Sch2ocoU",eA={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,FIVE_SEC_MS:5e3,THREE_SEC_MS:3e3,ONE_SEC_MS:1e3,SECURE_SITE:ew,SECURE_SITE_DASHBOARD:`${ew}/dashboard`,SECURE_SITE_FAVICON:`${ew}/images/favicon.png`,RESTRICTED_TIMEZONES:["ASIA/SHANGHAI","ASIA/URUMQI","ASIA/CHONGQING","ASIA/HARBIN","ASIA/KASHGAR","ASIA/MACAU","ASIA/HONG_KONG","ASIA/MACAO","ASIA/BEIJING","ASIA/HARBIN"],SWAP_SUGGESTED_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP"],SWAP_POPULAR_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP","METAL","DAI","CHAMP","WOLF","SALE","BAL","BUSD","MUST","BTCpx","ROUTE","HEX","WELT","amDAI","VSQ","VISION","AURUM","pSP","SNX","VC","LINK","CHP","amUSDT","SPHERE","FOX","GIDDY","GFC","OMEN","OX_OLD","DE","WNT"],BALANCE_SUPPORTED_CHAINS:[em.b.CHAIN.EVM,em.b.CHAIN.SOLANA],SWAP_SUPPORTED_NETWORKS:["eip155:1","eip155:42161","eip155:10","eip155:324","eip155:8453","eip155:56","eip155:137","eip155:100","eip155:43114","eip155:250","eip155:8217","eip155:1313161554"],NAMES_SUPPORTED_CHAIN_NAMESPACES:[em.b.CHAIN.EVM],ONRAMP_SUPPORTED_CHAIN_NAMESPACES:[em.b.CHAIN.EVM,em.b.CHAIN.SOLANA],ACTIVITY_ENABLED_CHAIN_NAMESPACES:[em.b.CHAIN.EVM],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x",cosmos:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:"Open and continue in the wallet app",WEB:"Open and continue in the wallet app"},SEND_SUPPORTED_NAMESPACES:[em.b.CHAIN.EVM,em.b.CHAIN.SOLANA],DEFAULT_REMOTE_FEATURES:{swaps:["1inch"],onramp:["meld"],email:!0,socials:["google","x","discord","farcaster","github","apple","facebook"],activity:!0,reownBranding:!0,multiWallet:!1},DEFAULT_REMOTE_FEATURES_DISABLED:{email:!1,socials:!1,swaps:!1,onramp:!1,activity:!1,reownBranding:!1},DEFAULT_FEATURES:{receive:!0,send:!0,emailShowWallets:!0,connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0,pay:!1},DEFAULT_SOCIALS:["google","x","farcaster","discord","apple","github","facebook"],DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5",BITCOIN:"bitcoin"},SIWX_DEFAULTS:{signOutOnDisconnect:!0}}},23704:function(eu,ed,eg){"use strict";eg.d(ed,{j:function(){return e_}});var em=eg(16541),eb=eg(1278),ew=eg(46719);let e_={isMobile(){return!!this.isClient()&&!!(window?.matchMedia&&"function"==typeof window.matchMedia&&window.matchMedia("(pointer:coarse)")?.matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent))},checkCaipNetwork:(eu,ed="")=>eu?.caipNetworkId.toLocaleLowerCase().includes(ed.toLowerCase()),isAndroid(){if(!this.isMobile())return!1;let eu=window?.navigator.userAgent.toLowerCase();return e_.isMobile()&&eu.includes("android")},isIos(){if(!this.isMobile())return!1;let eu=window?.navigator.userAgent.toLowerCase();return eu.includes("iphone")||eu.includes("ipad")},isSafari(){if(!this.isClient())return!1;let eu=window?.navigator.userAgent.toLowerCase();return eu.includes("safari")},isClient:()=>"undefined"!=typeof window,isPairingExpired:eu=>!eu||eu-Date.now()<=eb.bq.TEN_SEC_MS,isAllowedRetry:(eu,ed=eb.bq.ONE_SEC_MS)=>Date.now()-eu>=ed,copyToClopboard(eu){navigator.clipboard.writeText(eu)},isIframe(){try{return window?.self!==window?.top}catch(eu){return!1}},isSafeApp(){if(e_.isClient()&&window.self!==window.top)try{let eu=window?.location?.ancestorOrigins?.[0],ed="https://app.safe.global";if(eu){let eg=new URL(eu),em=new URL(ed);return eg.hostname===em.hostname}}catch{}return!1},getPairingExpiry:()=>Date.now()+eb.bq.FOUR_MINUTES_MS,getNetworkId:eu=>eu?.split(":")[1],getPlainAddress:eu=>eu?.split(":")[2],wait:async eu=>new Promise(ed=>{setTimeout(ed,eu)}),debounce(eu,ed=500){let eg;return(...em)=>{function eb(){eu(...em)}eg&&clearTimeout(eg),eg=setTimeout(eb,ed)}},isHttpUrl:eu=>eu.startsWith("http://")||eu.startsWith("https://"),formatNativeUrl(eu,ed,eg=null){if(e_.isHttpUrl(eu))return this.formatUniversalUrl(eu,ed);let em=eu,eb=eg;em.includes("://")||(em=`${em=eu.replaceAll("/","").replaceAll(":","")}://`),em.endsWith("/")||(em=`${em}/`),eb&&!eb?.endsWith("/")&&(eb=`${eb}/`),this.isTelegram()&&this.isAndroid()&&(ed=encodeURIComponent(ed));let ew=encodeURIComponent(ed);return{redirect:`${em}wc?uri=${ew}`,redirectUniversalLink:eb?`${eb}wc?uri=${ew}`:void 0,href:em}},formatUniversalUrl(eu,ed){if(!e_.isHttpUrl(eu))return this.formatNativeUrl(eu,ed);let eg=eu;eg.endsWith("/")||(eg=`${eg}/`);let em=encodeURIComponent(ed);return{redirect:`${eg}wc?uri=${em}`,href:eg}},getOpenTargetForPlatform(eu){return"popupWindow"===eu?eu:this.isTelegram()?ew.M.getTelegramSocialProvider()?"_top":"_blank":eu},openHref(eu,ed,eg){window?.open(eu,this.getOpenTargetForPlatform(ed),eg||"noreferrer noopener")},returnOpenHref(eu,ed,eg){return window?.open(eu,this.getOpenTargetForPlatform(ed),eg||"noreferrer noopener")},isTelegram:()=>"undefined"!=typeof window&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto),isPWA(){if("undefined"==typeof window)return!1;let eu=!!window?.matchMedia&&"function"==typeof window.matchMedia&&window.matchMedia("(display-mode: standalone)")?.matches,ed=window?.navigator?.standalone;return!!(eu||ed)},async preloadImage(eu){let ed=new Promise((ed,eg)=>{let em=new Image;em.onload=ed,em.onerror=eg,em.crossOrigin="anonymous",em.src=eu});return Promise.race([ed,e_.wait(2e3)])},formatBalance(eu,ed){let eg="0.000";if("string"==typeof eu){let ed=Number(eu);if(ed){let eu=Math.floor(1e3*ed)/1e3;eu&&(eg=eu.toString())}}return`${eg}${ed?` ${ed}`:""}`},formatBalance2(eu,ed){let eg;if("0"===eu)eg="0";else if("string"==typeof eu){let ed=Number(eu);ed&&(eg=ed.toString().match(/^-?\d+(?:\.\d{0,3})?/u)?.[0])}return{value:eg??"0",rest:"0"===eg?"000":"",symbol:ed}},getApiUrl:()=>em.b.W3M_API_URL,getBlockchainApiUrl:()=>em.b.BLOCKCHAIN_API_RPC_URL,getAnalyticsUrl:()=>em.b.PULSE_API_URL,getUUID:()=>crypto?.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,eu=>{let ed=16*Math.random()|0,eg="x"===eu?ed:3&ed|8;return eg.toString(16)}),parseError:eu=>"string"==typeof eu?eu:"string"==typeof eu?.issues?.[0]?.message?eu.issues[0].message:eu instanceof Error?eu.message:"Unknown error",sortRequestedNetworks(eu,ed=[]){let eg={};return ed&&eu&&(eu.forEach((eu,ed)=>{eg[eu]=ed}),ed.sort((eu,ed)=>{let em=eg[eu.id],eb=eg[ed.id];return void 0!==em&&void 0!==eb?em-eb:void 0!==em?-1:void 0!==eb?1:0})),ed},calculateBalance(eu){let ed=0;for(let eg of eu)ed+=eg.value??0;return ed},formatTokenBalance(eu){let ed=eu.toFixed(2),[eg,em]=ed.split(".");return{dollars:eg,pennies:em}},isAddress(eu,ed="eip155"){switch(ed){case"eip155":if(/^(?:0x)?[0-9a-f]{40}$/iu.test(eu)&&(/^(?:0x)?[0-9a-f]{40}$/iu.test(eu)||/^(?:0x)?[0-9A-F]{40}$/iu.test(eu)))return!0;return!1;case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(eu);default:return!1}},uniqueBy(eu,ed){let eg=new Set;return eu.filter(eu=>{let em=eu[ed];return!eg.has(em)&&(eg.add(em),!0)})},generateSdkVersion(eu,ed,eg){let em=0===eu.length,ew=em?eb.bq.ADAPTER_TYPES.UNIVERSAL:eu.map(eu=>eu.adapterType).join(",");return`${ed}-${ew}-${eg}`},createAccount:(eu,ed,eg,em,eb)=>({namespace:eu,address:ed,type:eg,publicKey:em,path:eb}),isCaipAddress(eu){if("string"!=typeof eu)return!1;let ed=eu.split(":"),eg=ed[0];return 3===ed.filter(Boolean).length&&eg in em.b.CHAIN_NAME_MAP},getAccount:eu=>eu?"string"==typeof eu?{address:eu,chainId:void 0}:{address:eu.address,chainId:eu.chainId}:{address:void 0,chainId:void 0},isMac(){let eu=window?.navigator.userAgent.toLowerCase();return eu.includes("macintosh")&&!eu.includes("safari")},formatTelegramSocialLoginUrl(eu){let ed=`--${encodeURIComponent(window?.location.href)}`,eg="state=",em=new URL(eu);if("auth.magic.link"===em.host){let em="provider_authorization_url=",eb=eu.substring(eu.indexOf(em)+em.length),ew=this.injectIntoUrl(decodeURIComponent(eb),eg,ed);return eu.replace(eb,encodeURIComponent(ew))}return this.injectIntoUrl(eu,eg,ed)},injectIntoUrl(eu,ed,eg){let em=eu.indexOf(ed);if(-1===em)throw Error(`${ed} parameter not found in the URL: ${eu}`);let eb=eu.indexOf("&",em),ew=ed.length,e_=-1!==eb?eb:eu.length,eE=eu.substring(0,em+ew),eA=eu.substring(em+ew,e_),eS=eu.substring(eb),eI=eA+eg,eC=eE+eI+eS;return eC}}},55315:function(eu,ed,eg){"use strict";async function em(...eu){let ed=await fetch(...eu);if(!ed.ok){let eu=Error(`HTTP status code: ${ed.status}`,{cause:ed});throw eu}return ed}eg.d(ed,{V:function(){return eb}});class eb{constructor({baseUrl:eu,clientId:ed}){this.baseUrl=eu,this.clientId=ed}async get({headers:eu,signal:ed,cache:eg,...eb}){let ew=this.createUrl(eb),e_=await em(ew,{method:"GET",headers:eu,signal:ed,cache:eg});return e_.json()}async getBlob({headers:eu,signal:ed,...eg}){let eb=this.createUrl(eg),ew=await em(eb,{method:"GET",headers:eu,signal:ed});return ew.blob()}async post({body:eu,headers:ed,signal:eg,...eb}){let ew=this.createUrl(eb),e_=await em(ew,{method:"POST",headers:ed,body:eu?JSON.stringify(eu):void 0,signal:eg});return e_.json()}async put({body:eu,headers:ed,signal:eg,...eb}){let ew=this.createUrl(eb),e_=await em(ew,{method:"PUT",headers:ed,body:eu?JSON.stringify(eu):void 0,signal:eg});return e_.json()}async delete({body:eu,headers:ed,signal:eg,...eb}){let ew=this.createUrl(eb),e_=await em(ew,{method:"DELETE",headers:ed,body:eu?JSON.stringify(eu):void 0,signal:eg});return e_.json()}createUrl({path:eu,params:ed}){let eg=new URL(eu,this.baseUrl);return ed&&Object.entries(ed).forEach(([eu,ed])=>{ed&&eg.searchParams.append(eu,ed)}),this.clientId&&eg.searchParams.append("clientId",this.clientId),eg}}},62964:function(eu,ed,eg){"use strict";eg.d(ed,{R:function(){return ew},m:function(){return eb}});var em=eg(16541);let eb={PHANTOM:{id:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",url:"https://phantom.app"},SOLFLARE:{id:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",url:"https://solflare.com"},COINBASE:{id:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",url:"https://go.cb-w.com"}},ew={handleMobileDeeplinkRedirect(eu,ed){let eg=window.location.href,ew=encodeURIComponent(eg);if(eu===eb.PHANTOM.id&&!("phantom"in window)){let eu=eg.startsWith("https")?"https":"http",ed=eg.split("/")[2],em=encodeURIComponent(`${eu}://${ed}`);window.location.href=`${eb.PHANTOM.url}/ul/browse/${ew}?ref=${em}`}eu!==eb.SOLFLARE.id||"solflare"in window||(window.location.href=`${eb.SOLFLARE.url}/ul/v1/browse/${ew}?ref=${ew}`),ed!==em.b.CHAIN.SOLANA||eu!==eb.COINBASE.id||"coinbaseSolana"in window||(window.location.href=`${eb.COINBASE.url}/dapp?cb_url=${ew}`)}}},65360:function(eu,ed,eg){"use strict";eg.d(ed,{p:function(){return eA}});var em=eg(16541),eb=eg(69479),ew=eg(2706),e_=eg(44984),eE=eg(77405);let eA={onSwitchNetwork({network:eu,ignoreSwitchConfirmation:ed=!1}){let eg=ew.R.state.activeCaipNetwork,eA=eE.P.state.data,eS=eu.id===eg?.id;if(eS)return;let eI=eb.N.getCaipAddress(ew.R.state.activeChain),eC=eu.chainNamespace!==ew.R.state.activeChain,eM=eb.N.getCaipAddress(eu.chainNamespace),eO=e_.A.getConnectorId(ew.R.state.activeChain),eT=eO===em.b.CONNECTOR_ID.AUTH,eP=em.b.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(ed=>ed===eu.chainNamespace);ed||eT&&eP?eE.P.push("SwitchNetwork",{...eA,network:eu}):eI&&eC&&!eM?eE.P.push("SwitchActiveChain",{switchToChain:eu.chainNamespace,navigateTo:"Connect",navigateWithReplace:!0,network:eu}):eE.P.push("SwitchNetwork",{...eA,network:eu})}}},28672:function(eu,ed,eg){"use strict";eg.d(ed,{w:function(){return ek}}),eg(59782);var em=eg(16541),eb=eg(89499),ew=eg(69479),e_=eg(2706),eE=eg(86321),eA=eg(44984),eS=eg(86126),eI=eg(91368),eC=eg(556),eM=eg(77405),eO=eg(25721),eT=eg(40458),eP=eg(23704);let eN=null,ek={getSIWX:()=>eC.h.state.siwx,async initializeIfEnabled(){let eu=eC.h.state.siwx,ed=e_.R.getActiveCaipAddress();if(!(eu&&ed))return;let[eg,em,eb]=ed.split(":");if(e_.R.checkIfSupportedNetwork(eg))try{eN&&await eN;let ed=await eu.getSessions(`${eg}:${em}`,eb);if(ed.length)return;await eI.I.open({view:"SIWXSignMessage"})}catch(eu){console.error("SIWXUtil:initializeIfEnabled",eu),eS.X.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties()}),await eE.l._getClient()?.disconnect().catch(console.error),eM.P.reset("Connect"),eO.K.showError("A problem occurred while trying initialize authentication")}},async requestSignMessage(){let eu=eC.h.state.siwx,ed=eP.j.getPlainAddress(e_.R.getActiveCaipAddress()),eg=e_.R.getActiveCaipNetwork(),eb=eE.l._getClient();if(!eu)throw Error("SIWX is not enabled");if(!ed)throw Error("No ActiveCaipAddress found");if(!eg)throw Error("No ActiveCaipNetwork or client found");if(!eb)throw Error("No ConnectionController client found");try{let ew=await eu.createMessage({chainId:eg.caipNetworkId,accountAddress:ed}),eE=ew.toString(),eC=eA.A.getConnectorId(eg.chainNamespace);eC===em.b.CONNECTOR_ID.AUTH&&eM.P.pushTransactionStack({});let eO=await eb.signMessage(eE);await eu.addSession({data:ew,message:eE,signature:eO}),e_.R.setLastConnectedSIWECaipNetwork(eg),eI.I.close(),eS.X.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:this.getSIWXEventProperties()})}catch(ed){let eu=this.getSIWXEventProperties();eI.I.state.open&&"ApproveTransaction"!==eM.P.state.view||await eI.I.open({view:"SIWXSignMessage"}),eO.K.showError("Error signing message"),eS.X.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:eu}),console.error("SWIXUtil:requestSignMessage",ed)}},async cancelSignMessage(){try{let eu=this.getSIWX(),ed=eu?.getRequired?.();if(ed){let ed=e_.R.getLastConnectedSIWECaipNetwork();if(ed){let eg=await eu?.getSessions(ed?.caipNetworkId,eP.j.getPlainAddress(e_.R.getActiveCaipAddress())||"");eg&&eg.length>0?await e_.R.switchActiveNetwork(ed):await eE.l.disconnect()}else await eE.l.disconnect()}else eI.I.close();eI.I.close(),eS.X.sendEvent({event:"CLICK_CANCEL_SIWX",type:"track",properties:this.getSIWXEventProperties()})}catch(eu){console.error("SIWXUtil:cancelSignMessage",eu)}},async getAllSessions(){let eu=this.getSIWX(),ed=e_.R.getAllRequestedCaipNetworks(),eg=[];return await Promise.all(ed.map(async ed=>{let em=await eu?.getSessions(ed.caipNetworkId,eP.j.getPlainAddress(e_.R.getActiveCaipAddress())||"");em&&eg.push(...em)})),eg},async getSessions(eu){let ed=eC.h.state.siwx,eg=eu?.address;if(!eg){let eu=e_.R.getActiveCaipAddress();eg=eP.j.getPlainAddress(eu)}let em=eu?.caipNetworkId;if(!em){let eu=e_.R.getActiveCaipNetwork();em=eu?.caipNetworkId}return ed&&eg&&em?ed.getSessions(em,eg):[]},async isSIWXCloseDisabled(){let eu=this.getSIWX();if(eu){let ed="ApproveTransaction"===eM.P.state.view,eg="SIWXSignMessage"===eM.P.state.view;if(ed||eg)return eu.getRequired?.()&&0===(await this.getSessions()).length}return!1},async authConnectorAuthenticate({authConnector:eu,chainId:ed,socialUri:eg,preferredAccountType:eb,chainNamespace:ew}){let eE=ek.getSIWX();if(!eE||!ew.includes(em.b.CHAIN.EVM)){let em=await eu.connect({chainId:ed,socialUri:eg,preferredAccountType:eb});return{address:em.address,chainId:em.chainId,accounts:em.accounts}}let eA=await eE.createMessage({chainId:e_.R.getActiveCaipNetwork()?.caipNetworkId||"",accountAddress:"<<AccountAddress>>"}),eS={accountAddress:eA.accountAddress,chainId:eA.chainId,domain:eA.domain,uri:eA.uri,version:eA.version,nonce:eA.nonce,notBefore:eA.notBefore,statement:eA.statement,resources:eA.resources,requestId:eA.requestId,issuedAt:eA.issuedAt,expirationTime:eA.expirationTime,serializedMessage:eA.toString()},eI=await eu.connect({chainId:ed,socialUri:eg,siwxMessage:eS,preferredAccountType:eb});if(eS.accountAddress=eI.address,eS.serializedMessage=eI.message||"",eI.signature&&eI.message){let eu=ek.addEmbeddedWalletSession(eS,eI.message,eI.signature);await eu}return{address:eI.address,chainId:eI.chainId,accounts:eI.accounts}},async addEmbeddedWalletSession(eu,ed,eg){if(eN)return eN;let em=ek.getSIWX();return em?eN=em.addSession({data:eu,message:ed,signature:eg}).finally(()=>{eN=null}):Promise.resolve()},async universalProviderAuthenticate({universalProvider:eu,chains:ed,methods:eg}){let em=ek.getSIWX(),eb=new Set(ed.map(eu=>eu.split(":")[0]));if(!em||1!==eb.size||!eb.has("eip155"))return!1;let eE=await em.createMessage({chainId:e_.R.getActiveCaipNetwork()?.caipNetworkId||"",accountAddress:""}),eA=await eu.authenticate({nonce:eE.nonce,domain:eE.domain,uri:eE.uri,exp:eE.expirationTime,iat:eE.issuedAt,nbf:eE.notBefore,requestId:eE.requestId,version:eE.version,resources:eE.resources,statement:eE.statement,chainId:eE.chainId,methods:eg,chains:[eE.chainId,...ed.filter(eu=>eu!==eE.chainId)]});if(eO.K.showLoading("Authenticating...",{autoClose:!1}),ew.N.setConnectedWalletInfo({...eA.session.peer.metadata,name:eA.session.peer.metadata.name,icon:eA.session.peer.metadata.icons?.[0],type:"WALLET_CONNECT"},Array.from(eb)[0]),eA?.auths?.length){let ed=eA.auths.map(ed=>{let eg=eu.client.formatAuthMessage({request:ed.p,iss:ed.p.iss});return{data:{...ed.p,accountAddress:ed.p.iss.split(":").slice(-1).join(""),chainId:ed.p.iss.split(":").slice(2,4).join(":"),uri:ed.p.aud,version:ed.p.version||eE.version,expirationTime:ed.p.exp,issuedAt:ed.p.iat,notBefore:ed.p.nbf},message:eg,signature:ed.s.s,cacao:ed}});try{await em.setSessions(ed),eS.X.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:ek.getSIWXEventProperties()})}catch(ed){throw console.error("SIWX:universalProviderAuth - failed to set sessions",ed),eS.X.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:ek.getSIWXEventProperties()}),await eu.disconnect().catch(console.error),ed}finally{eO.K.hide()}}return!0},getSIWXEventProperties(){let eu=e_.R.state.activeChain;if(!eu)throw Error("SIWXUtil:getSIWXEventProperties - namespace is required");return{network:e_.R.state.activeCaipNetwork?.caipNetworkId||"",isSmartAccount:(0,eT.r9)(eu)===eb.y_.ACCOUNT_TYPES.SMART_ACCOUNT}},async clearSessions(){let eu=this.getSIWX();eu&&await eu.setSessions([])}}},46719:function(eu,ed,eg){"use strict";eg.d(ed,{M:function(){return ew}});var em=eg(59069),eb=eg(16541);let ew={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5},isCacheExpired:(eu,ed)=>Date.now()-eu>ed,getActiveNetworkProps(){let eu=ew.getActiveNamespace(),ed=ew.getActiveCaipNetworkId(),eg=ed?ed.split(":")[1]:void 0,em=eg?isNaN(Number(eg))?eg:Number(eg):void 0;return{namespace:eu,caipNetworkId:ed,chainId:em}},setWalletConnectDeepLink({name:eu,href:ed}){try{em.mr.setItem(em.uJ.DEEPLINK_CHOICE,JSON.stringify({href:ed,name:eu}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{let eu=em.mr.getItem(em.uJ.DEEPLINK_CHOICE);if(eu)return JSON.parse(eu)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{em.mr.removeItem(em.uJ.DEEPLINK_CHOICE)}catch{console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(eu){try{em.mr.setItem(em.uJ.ACTIVE_NAMESPACE,eu)}catch{console.info("Unable to set active namespace")}},setActiveCaipNetworkId(eu){try{em.mr.setItem(em.uJ.ACTIVE_CAIP_NETWORK_ID,eu),ew.setActiveNamespace(eu.split(":")[0])}catch{console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return em.mr.getItem(em.uJ.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to get active caip network id");return}},deleteActiveCaipNetworkId(){try{em.mr.removeItem(em.uJ.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(eu){try{let ed=(0,em.Vk)(eu);em.mr.removeItem(ed)}catch{console.info("Unable to delete connected connector id")}},setAppKitRecent(eu){try{let ed=ew.getRecentWallets(),eg=ed.find(ed=>ed.id===eu.id);eg||(ed.unshift(eu),ed.length>2&&ed.pop(),em.mr.setItem(em.uJ.RECENT_WALLETS,JSON.stringify(ed)))}catch{console.info("Unable to set AppKit recent")}},getRecentWallets(){try{let eu=em.mr.getItem(em.uJ.RECENT_WALLETS);return eu?JSON.parse(eu):[]}catch{console.info("Unable to get AppKit recent")}return[]},setConnectedConnectorId(eu,ed){try{let eg=(0,em.Vk)(eu);em.mr.setItem(eg,ed)}catch{console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{let eu=em.mr.getItem(em.uJ.ACTIVE_NAMESPACE);return eu}catch{console.info("Unable to get active namespace")}},getConnectedConnectorId(eu){if(eu)try{let ed=(0,em.Vk)(eu);return em.mr.getItem(ed)}catch(ed){console.info("Unable to get connected connector id in namespace",eu)}},setConnectedSocialProvider(eu){try{em.mr.setItem(em.uJ.CONNECTED_SOCIAL,eu)}catch{console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return em.mr.getItem(em.uJ.CONNECTED_SOCIAL)}catch{console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{em.mr.removeItem(em.uJ.CONNECTED_SOCIAL)}catch{console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return em.mr.getItem(em.uJ.CONNECTED_SOCIAL_USERNAME)}catch{console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){let eu=em.mr.getItem(em.uJ.ACTIVE_CAIP_NETWORK_ID),ed=eu?.split(":")?.[1];return ed},setConnectionStatus(eu){try{em.mr.setItem(em.uJ.CONNECTION_STATUS,eu)}catch{console.info("Unable to set connection status")}},getConnectionStatus(){try{return em.mr.getItem(em.uJ.CONNECTION_STATUS)}catch{return}},getConnectedNamespaces(){try{let eu=em.mr.getItem(em.uJ.CONNECTED_NAMESPACES);if(!eu?.length)return[];return eu.split(",")}catch{return[]}},setConnectedNamespaces(eu){try{let ed=Array.from(new Set(eu));em.mr.setItem(em.uJ.CONNECTED_NAMESPACES,ed.join(","))}catch{console.info("Unable to set namespaces in storage")}},addConnectedNamespace(eu){try{let ed=ew.getConnectedNamespaces();ed.includes(eu)||(ed.push(eu),ew.setConnectedNamespaces(ed))}catch{console.info("Unable to add connected namespace")}},removeConnectedNamespace(eu){try{let ed=ew.getConnectedNamespaces(),eg=ed.indexOf(eu);eg>-1&&(ed.splice(eg,1),ew.setConnectedNamespaces(ed))}catch{console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return em.mr.getItem(em.uJ.TELEGRAM_SOCIAL_PROVIDER)}catch{return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(eu){try{em.mr.setItem(em.uJ.TELEGRAM_SOCIAL_PROVIDER,eu)}catch{console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{em.mr.removeItem(em.uJ.TELEGRAM_SOCIAL_PROVIDER)}catch{console.info("Unable to remove telegram social provider")}},getBalanceCache(){let eu={};try{let ed=em.mr.getItem(em.uJ.PORTFOLIO_CACHE);eu=ed?JSON.parse(ed):{}}catch{console.info("Unable to get balance cache")}return eu},removeAddressFromBalanceCache(eu){try{let ed=ew.getBalanceCache();em.mr.setItem(em.uJ.PORTFOLIO_CACHE,JSON.stringify({...ed,[eu]:void 0}))}catch{console.info("Unable to remove address from balance cache",eu)}},getBalanceCacheForCaipAddress(eu){try{let ed=ew.getBalanceCache(),eg=ed[eu];if(eg&&!this.isCacheExpired(eg.timestamp,this.cacheExpiry.portfolio))return eg.balance;ew.removeAddressFromBalanceCache(eu)}catch{console.info("Unable to get balance cache for address",eu)}},updateBalanceCache(eu){try{let ed=ew.getBalanceCache();ed[eu.caipAddress]=eu,em.mr.setItem(em.uJ.PORTFOLIO_CACHE,JSON.stringify(ed))}catch{console.info("Unable to update balance cache",eu)}},getNativeBalanceCache(){let eu={};try{let ed=em.mr.getItem(em.uJ.NATIVE_BALANCE_CACHE);eu=ed?JSON.parse(ed):{}}catch{console.info("Unable to get balance cache")}return eu},removeAddressFromNativeBalanceCache(eu){try{let ed=ew.getBalanceCache();em.mr.setItem(em.uJ.NATIVE_BALANCE_CACHE,JSON.stringify({...ed,[eu]:void 0}))}catch{console.info("Unable to remove address from balance cache",eu)}},getNativeBalanceCacheForCaipAddress(eu){try{let ed=ew.getNativeBalanceCache(),eg=ed[eu];if(eg&&!this.isCacheExpired(eg.timestamp,this.cacheExpiry.nativeBalance))return eg;console.info("Discarding cache for address",eu),ew.removeAddressFromBalanceCache(eu)}catch{console.info("Unable to get balance cache for address",eu)}},updateNativeBalanceCache(eu){try{let ed=ew.getNativeBalanceCache();ed[eu.caipAddress]=eu,em.mr.setItem(em.uJ.NATIVE_BALANCE_CACHE,JSON.stringify(ed))}catch{console.info("Unable to update balance cache",eu)}},getEnsCache(){let eu={};try{let ed=em.mr.getItem(em.uJ.ENS_CACHE);eu=ed?JSON.parse(ed):{}}catch{console.info("Unable to get ens name cache")}return eu},getEnsFromCacheForAddress(eu){try{let ed=ew.getEnsCache(),eg=ed[eu];if(eg&&!this.isCacheExpired(eg.timestamp,this.cacheExpiry.ens))return eg.ens;ew.removeEnsFromCache(eu)}catch{console.info("Unable to get ens name from cache",eu)}},updateEnsCache(eu){try{let ed=ew.getEnsCache();ed[eu.address]=eu,em.mr.setItem(em.uJ.ENS_CACHE,JSON.stringify(ed))}catch{console.info("Unable to update ens name cache",eu)}},removeEnsFromCache(eu){try{let ed=ew.getEnsCache();em.mr.setItem(em.uJ.ENS_CACHE,JSON.stringify({...ed,[eu]:void 0}))}catch{console.info("Unable to remove ens name from cache",eu)}},getIdentityCache(){let eu={};try{let ed=em.mr.getItem(em.uJ.IDENTITY_CACHE);eu=ed?JSON.parse(ed):{}}catch{console.info("Unable to get identity cache")}return eu},getIdentityFromCacheForAddress(eu){try{let ed=ew.getIdentityCache(),eg=ed[eu];if(eg&&!this.isCacheExpired(eg.timestamp,this.cacheExpiry.identity))return eg.identity;ew.removeIdentityFromCache(eu)}catch{console.info("Unable to get identity from cache",eu)}},updateIdentityCache(eu){try{let ed=ew.getIdentityCache();ed[eu.address]={identity:eu.identity,timestamp:eu.timestamp},em.mr.setItem(em.uJ.IDENTITY_CACHE,JSON.stringify(ed))}catch{console.info("Unable to update identity cache",eu)}},removeIdentityFromCache(eu){try{let ed=ew.getIdentityCache();em.mr.setItem(em.uJ.IDENTITY_CACHE,JSON.stringify({...ed,[eu]:void 0}))}catch{console.info("Unable to remove identity from cache",eu)}},clearAddressCache(){try{em.mr.removeItem(em.uJ.PORTFOLIO_CACHE),em.mr.removeItem(em.uJ.NATIVE_BALANCE_CACHE),em.mr.removeItem(em.uJ.ENS_CACHE),em.mr.removeItem(em.uJ.IDENTITY_CACHE)}catch{console.info("Unable to clear address cache")}},setPreferredAccountTypes(eu){try{em.mr.setItem(em.uJ.PREFERRED_ACCOUNT_TYPES,JSON.stringify(eu))}catch{console.info("Unable to set preferred account types",eu)}},getPreferredAccountTypes(){try{let eu=em.mr.getItem(em.uJ.PREFERRED_ACCOUNT_TYPES);if(!eu)return{};return JSON.parse(eu)}catch{console.info("Unable to get preferred account types")}return{}},setConnections(eu,ed){try{let eg=ew.getConnections(),e_=eg[ed]??[],eE=new Map;for(let eu of e_)eE.set(eu.connectorId,{...eu});for(let ed of eu){let eu=eE.get(ed.connectorId),eg=ed.connectorId===eb.b.CONNECTOR_ID.AUTH;if(eu&&!eg){let eg=new Set(eu.accounts.map(eu=>eu.address.toLowerCase())),em=ed.accounts.filter(eu=>!eg.has(eu.address.toLowerCase()));eu.accounts.push(...em)}else eE.set(ed.connectorId,{...ed})}let eA={...eg,[ed]:Array.from(eE.values())};em.mr.setItem(em.uJ.CONNECTIONS,JSON.stringify(eA))}catch(eu){console.error("Unable to sync connections to storage",eu)}},getConnections(){try{let eu=em.mr.getItem(em.uJ.CONNECTIONS);if(!eu)return{};return JSON.parse(eu)}catch(eu){return console.error("Unable to get connections from storage",eu),{}}},deleteAddressFromConnection({connectorId:eu,address:ed,namespace:eg}){try{let eb=ew.getConnections(),e_=eb[eg]??[],eE=new Map(e_.map(eu=>[eu.connectorId,eu])),eA=eE.get(eu);if(eA){let eg=eA.accounts.filter(eu=>eu.address.toLowerCase()!==ed.toLowerCase());0===eg.length?eE.delete(eu):eE.set(eu,{...eA,accounts:eA.accounts.filter(eu=>eu.address.toLowerCase()!==ed.toLowerCase())})}em.mr.setItem(em.uJ.CONNECTIONS,JSON.stringify({...eb,[eg]:Array.from(eE.values())}))}catch{console.error(`Unable to remove address "${ed}" from connector "${eu}" in namespace "${eg}"`)}},getDisconnectedConnectorIds(){try{let eu=em.mr.getItem(em.uJ.DISCONNECTED_CONNECTOR_IDS);if(!eu)return{};return JSON.parse(eu)}catch{console.info("Unable to get disconnected connector ids")}return{}},addDisconnectedConnectorId(eu,ed){try{let eg=ew.getDisconnectedConnectorIds(),eb=eg[ed]??[];eb.push(eu),em.mr.setItem(em.uJ.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...eg,[ed]:Array.from(new Set(eb))}))}catch{console.error(`Unable to set disconnected connector id "${eu}" for namespace "${ed}"`)}},removeDisconnectedConnectorId(eu,ed){try{let eg=ew.getDisconnectedConnectorIds(),eb=eg[ed]??[];eb=eb.filter(ed=>ed.toLowerCase()!==eu.toLowerCase()),em.mr.setItem(em.uJ.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...eg,[ed]:Array.from(new Set(eb))}))}catch{console.error(`Unable to remove disconnected connector id "${eu}" for namespace "${ed}"`)}},isConnectorDisconnected(eu,ed){try{let eg=ew.getDisconnectedConnectorIds(),em=eg[ed]??[];return em.some(ed=>ed.toLowerCase()===eu.toLowerCase())}catch{console.info(`Unable to get disconnected connector id "${eu}" for namespace "${ed}"`)}return!1}}},62857:function(eu,ed,eg){"use strict";eg.d(ed,{n:function(){return eS}});var em=eg(69479),eb=eg(46951),ew=eg(2706),e_=eg(86321),eE=eg(41103),eA=eg(40458);let eS={async getTokenList(){let eu=ew.R.state.activeCaipNetwork,ed=await eb.L.fetchSwapTokens({chainId:eu?.caipNetworkId}),eg=ed?.tokens?.map(eu=>({...eu,eip2612:!1,quantity:{decimals:"0",numeric:"0"},price:0,value:0}))||[];return eg},async fetchGasPrice(){let eu=ew.R.state.activeCaipNetwork;if(!eu)return null;try{if("solana"===eu.chainNamespace){let eu=(await e_.l?.estimateGas({chainNamespace:"solana"}))?.toString();return{standard:eu,fast:eu,instant:eu}}return await eb.L.fetchGasPrice({chainId:eu.caipNetworkId})}catch{return null}},async fetchSwapAllowance({tokenAddress:eu,userAddress:ed,sourceTokenAmount:eg,sourceTokenDecimals:em}){let ew=await eb.L.fetchSwapAllowance({tokenAddress:eu,userAddress:ed});if(ew?.allowance&&eg&&em){let eu=e_.l.parseUnits(eg,em)||0,ed=BigInt(ew.allowance)>=eu;return ed}return!1},async getMyTokensWithBalance(eu){let ed=await eE.Q.getMyTokensWithBalance(eu);return em.N.setTokenBalance(ed,ew.R.state.activeChain),this.mapBalancesToSwapTokens(ed)},mapBalancesToSwapTokens:eu=>eu?.map(eu=>({...eu,address:eu?.address?eu.address:(0,eA.EO)(),decimals:parseInt(eu.quantity.decimals,10),logoUri:eu.iconUrl,eip2612:!1}))||[]}},63153:function(eu,ed,eg){"use strict";eg.d(ed,{g:function(){return eT},P:function(){return eN}});var em=eg(62405),eb=eg(60052),ew=eg(23704),e_=eg(55315),eE=eg(556);let eA=Object.freeze({enabled:!0,events:[]}),eS=new e_.V({baseUrl:ew.j.getAnalyticsUrl(),clientId:null}),eI=5,eC=6e4,eM=(0,em.sj)({...eA}),eO={state:eM,subscribeKey:(eu,ed)=>(0,eb.VW)(eM,eu,ed),async sendError(eu,ed){if(!eM.enabled)return;let eg=Date.now(),em=eM.events.filter(eu=>{let ed=new Date(eu.properties.timestamp||"").getTime();return eg-ed<eC});if(em.length>=eI)return;let eb={type:"error",event:ed,properties:{errorType:eu.name,errorMessage:eu.message,stackTrace:eu.stack,timestamp:new Date().toISOString()}};eM.events.push(eb);try{if("undefined"==typeof window)return;let{projectId:eg,sdkType:em,sdkVersion:eb}=eE.h.state;await eS.post({path:"/e",params:{projectId:eg,st:em,sv:eb||"html-wagmi-4.2.2"},body:{eventId:ew.j.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:new Date().toISOString(),props:{type:"error",event:ed,errorType:eu.name,errorMessage:eu.message,stackTrace:eu.stack}}})}catch{}},enable(){eM.enabled=!0},disable(){eM.enabled=!1},clearEvents(){eM.events=[]}};class eT extends Error{constructor(eu,ed,eg){super(eu),this.name="AppKitError",this.category=ed,this.originalError=eg,Object.setPrototypeOf(this,eT.prototype);let em=!1;if(eg instanceof Error&&"string"==typeof eg.stack&&eg.stack){let eu=eg.stack,ed=eu.indexOf("\n");if(ed>-1){let eg=eu.substring(ed+1);this.stack=`${this.name}: ${this.message}
${eg}`,em=!0}}em||(Error.captureStackTrace?Error.captureStackTrace(this,eT):this.stack||(this.stack=`${this.name}: ${this.message}`))}}function eP(eu,ed){let eg=eu instanceof eT?eu:new eT(eu instanceof Error?eu.message:String(eu),ed,eu);throw eO.sendError(eg,eg.category),eg}function eN(eu,ed="INTERNAL_SDK_ERROR"){let eg={};return Object.keys(eu).forEach(em=>{let eb=eu[em];if("function"==typeof eb){let eu=eb;eu="AsyncFunction"===eb.constructor.name?async(...eu)=>{try{return await eb(...eu)}catch(eu){return eP(eu,ed)}}:(...eu)=>{try{return eb(...eu)}catch(eu){return eP(eu,ed)}},eg[em]=eu}else eg[em]=eb}),eg}},98596:function(eu,ed,eg){"use strict";eg.d(ed,{CR:function(){return em.C},JG:function(){return eb.J}});var em=eg(74769);eg(28791);var eb=eg(89933)},74769:function(eu,ed,eg){"use strict";eg.d(ed,{C:function(){return eO}});var em=eg(16541),eb=eg(556),ew=eg(46719),e_=eg(68157),eE=eg(23704),eA=eg(86321),eS=eg(2706),eI=eg(44984),eC=eg(17739),eM=eg(89933);let eO={getConnectorsByType(eu,ed,eg){let{customWallets:em}=eb.h.state,e_=ew.M.getRecentWallets(),eE=eM.J.filterOutDuplicateWallets(ed),eA=eM.J.filterOutDuplicateWallets(eg),eS=eu.filter(eu=>"MULTI_CHAIN"===eu.type),eI=eu.filter(eu=>"ANNOUNCED"===eu.type),eC=eu.filter(eu=>"INJECTED"===eu.type),eO=eu.filter(eu=>"EXTERNAL"===eu.type);return{custom:em,recent:e_,external:eO,multiChain:eS,announced:eI,injected:eC,recommended:eE,featured:eA}},showConnector(eu){let ed=eu.info?.rdns,eg=!!ed&&e_.Q.state.excludedWallets.some(eu=>!!eu.rdns&&eu.rdns===ed),em=!!eu.name&&e_.Q.state.excludedWallets.some(ed=>eC.g.isLowerCaseMatch(ed.name,eu.name));if("INJECTED"===eu.type){let eb="Browser Wallet"===eu.name;if(eb&&(!eE.j.isMobile()||eE.j.isMobile()&&!ed&&!eA.l.checkInstalled())||eg||em)return!1}return"ANNOUNCED"!==eu.type&&"EXTERNAL"!==eu.type||!eg&&!em},getIsConnectedWithWC(){let eu=Array.from(eS.R.state.chains.values()),ed=eu.some(eu=>{let ed=eI.A.getConnectorId(eu.namespace);return ed===em.b.CONNECTOR_ID.WALLET_CONNECT});return ed},getConnectorTypeOrder({recommended:eu,featured:ed,custom:eg,recent:em,announced:ew,injected:e_,multiChain:eE,external:eA,overriddenConnectors:eS=eb.h.state.features?.connectorTypeOrder??[]}){let eI=eb.h.state.enableWalletConnect,eC=[{type:"walletConnect",isEnabled:eI},{type:"recent",isEnabled:em.length>0},{type:"injected",isEnabled:[...e_,...ew,...eE].length>0},{type:"featured",isEnabled:ed.length>0},{type:"custom",isEnabled:eg&&eg.length>0},{type:"external",isEnabled:eA.length>0},{type:"recommended",isEnabled:eu.length>0}],eM=eC.filter(eu=>eu.isEnabled),eO=new Set(eM.map(eu=>eu.type)),eT=eS.filter(eu=>eO.has(eu)).map(eu=>({type:eu,isEnabled:!0})),eP=eM.filter(({type:eu})=>{let ed=eT.some(({type:ed})=>ed===eu);return!ed});return Array.from(new Set([...eT,...eP].map(({type:eu})=>eu)))},getAuthName:({email:eu,socialUsername:ed,socialProvider:eg})=>ed?eg&&"discord"===eg&&ed.endsWith("0")?ed.slice(0,-1):ed:eu.length>30?`${eu.slice(0,-3)}...`:eu,async fetchProviderData(eu){try{if("Browser Wallet"===eu.name&&!eE.j.isMobile()||eu.id===em.b.CONNECTOR_ID.AUTH)return{accounts:[],chainId:void 0};let[ed,eg]=await Promise.all([eu.provider?.request({method:"eth_accounts"}),eu.provider?.request({method:"eth_chainId"}).then(eu=>Number(eu))]);return{accounts:ed,chainId:eg}}catch(ed){return console.warn(`Failed to fetch provider data for ${eu.name}`,ed),{accounts:[],chainId:void 0}}}}},28791:function(eu,ed,eg){"use strict";eg.d(ed,{b:function(){return eb}});var em=eg(34406);let eb={ACCOUNT_TABS:[{label:"Tokens"},{label:"NFTs"},{label:"Activity"}],SECURE_SITE_ORIGIN:(void 0!==em&&void 0!==em.env?em.env.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",VIEW_DIRECTION:{Next:"next",Prev:"prev"},DEFAULT_CONNECT_METHOD_ORDER:["email","social","wallet"],ANIMATION_DURATIONS:{HeaderText:120,ModalHeight:150,ViewTransition:150}}},89933:function(eu,ed,eg){"use strict";eg.d(ed,{J:function(){return eC}});var em=eg(556),eb=eg(44984),ew=eg(46719),e_=eg(23704),eE=eg(68157),eA=eg(17739),eS=eg(74769),eI=eg(28791);let eC={filterOutDuplicatesByRDNS(eu){let ed=em.h.state.enableEIP6963?eb.A.state.connectors:[],eg=ew.M.getRecentWallets(),eE=ed.map(eu=>eu.info?.rdns).filter(Boolean),eA=eg.map(eu=>eu.rdns).filter(Boolean),eS=eE.concat(eA);if(eS.includes("io.metamask.mobile")&&e_.j.isMobile()){let eu=eS.indexOf("io.metamask.mobile");eS[eu]="io.metamask"}let eI=eu.filter(eu=>{if(eu?.rdns&&eS.includes(String(eu.rdns)))return!1;if(!eu?.rdns){let eg=ed.some(ed=>ed.name===eu.name);if(eg)return!1}return!0});return eI},filterOutDuplicatesByIds(eu){let ed=eb.A.state.connectors.filter(eu=>"ANNOUNCED"===eu.type||"INJECTED"===eu.type),eg=ew.M.getRecentWallets(),em=ed.map(eu=>eu.explorerId),e_=eg.map(eu=>eu.id),eE=em.concat(e_),eA=eu.filter(eu=>!eE.includes(eu?.id));return eA},filterOutDuplicateWallets(eu){let ed=this.filterOutDuplicatesByRDNS(eu),eg=this.filterOutDuplicatesByIds(ed);return eg},markWalletsAsInstalled(eu){let{connectors:ed}=eb.A.state,{featuredWalletIds:eg}=em.h.state,ew=ed.filter(eu=>"ANNOUNCED"===eu.type).reduce((eu,ed)=>(ed.info?.rdns&&(eu[ed.info.rdns]=!0),eu),{}),e_=eu.map(eu=>({...eu,installed:!!eu.rdns&&!!ew[eu.rdns??""]})),eE=e_.sort((eu,ed)=>{let em=Number(ed.installed)-Number(eu.installed);if(0!==em)return em;if(eg?.length){let em=eg.indexOf(eu.id),eb=eg.indexOf(ed.id);if(-1!==em&&-1!==eb)return em-eb;if(-1!==em)return -1;if(-1!==eb)return 1}return 0});return eE},getConnectOrderMethod(eu,ed){let eg=eu?.connectMethodsOrder||em.h.state.features?.connectMethodsOrder,ew=ed||eb.A.state.connectors;if(eg)return eg;let{injected:e_,announced:eA}=eS.C.getConnectorsByType(ew,eE.Q.state.recommended,eE.Q.state.featured),eC=e_.filter(eS.C.showConnector),eM=eA.filter(eS.C.showConnector);return eC.length||eM.length?["wallet","email","social"]:eI.b.DEFAULT_CONNECT_METHOD_ORDER},isExcluded(eu){let ed=!!eu.rdns&&eE.Q.state.excludedWallets.some(ed=>ed.rdns===eu.rdns),eg=!!eu.name&&eE.Q.state.excludedWallets.some(ed=>eA.g.isLowerCaseMatch(ed.name,eu.name));return ed||eg}}},93907:function(eu,ed,eg){"use strict";eg.d(ed,{kj:function(){return em},AI:function(){return eI},Hg:function(){return ew.H},Mo:function(){return eC.M},n:function(){return eb.n},Hs:function(){return eb.Hs},R:function(){return eb.R}});let em={interpolate(eu,ed,eg){if(2!==eu.length||2!==ed.length)throw Error("inputRange and outputRange must be an array of length 2");let em=eu[0]||0,eb=eu[1]||0,ew=ed[0]||0,e_=ed[1]||0;return eg<em?ew:eg>eb?e_:(e_-ew)/(eb-em)*(eg-em)+ew}};var eb=eg(17770),ew=eg(57172),e_=eg(82493);let eE=3,eA=["receive","deposit","borrow","claim"],eS=["withdraw","repay","burn"],eI={getTransactionGroupTitle(eu,ed){let eg=e_.E.getYear(),em=e_.E.getMonthNameByIndex(ed),eb=eu===eg,ew=eb?em:`${em} ${eu}`;return ew},getTransactionImages(eu){let[ed,eg]=eu,em=!!ed&&eu?.every(eu=>!!eu.nft_info),eb=eu?.length>1,ew=eu?.length===2;return ew&&!em?[this.getTransactionImage(eg),this.getTransactionImage(ed)]:eb?eu.map(eu=>this.getTransactionImage(eu)):[this.getTransactionImage(ed)]},getTransactionImage:eu=>({type:eI.getTransactionTransferTokenType(eu),url:eI.getTransactionImageURL(eu)}),getTransactionImageURL(eu){let ed;let eg=!!eu?.nft_info,em=!!eu?.fungible_info;return eu&&eg?ed=eu?.nft_info?.content?.preview?.url:eu&&em&&(ed=eu?.fungible_info?.icon?.url),ed},getTransactionTransferTokenType:eu=>eu?.fungible_info?"FUNGIBLE":eu?.nft_info?"NFT":void 0,getTransactionDescriptions(eu){let ed=eu?.metadata?.operationType,eg=eu?.transfers,em=eu?.transfers?.length>0,eb=eu?.transfers?.length>1,e_=em&&eg?.every(eu=>!!eu?.fungible_info),[eE,eI]=eg,eC=this.getTransferDescription(eE),eM=this.getTransferDescription(eI);if(!em){let eg="send"===ed||"receive"===ed;return eg&&e_?[eC=ew.H.getTruncateString({string:eu?.metadata.sentFrom,charsStart:4,charsEnd:6,truncate:"middle"}),eM=ew.H.getTruncateString({string:eu?.metadata.sentTo,charsStart:4,charsEnd:6,truncate:"middle"})]:[eu.metadata.status]}if(eb)return eg.map(eu=>this.getTransferDescription(eu)).reverse();let eO="";return eA.includes(ed)?eO="+":eS.includes(ed)&&(eO="-"),[eC=eO.concat(eC)]},getTransferDescription(eu){let ed="";return eu&&(eu?.nft_info?ed=eu?.nft_info?.name||"-":eu?.fungible_info&&(ed=this.getFungibleTransferDescription(eu)||"-")),ed},getFungibleTransferDescription(eu){if(!eu)return null;let ed=this.getQuantityFixedValue(eu?.quantity.numeric),eg=[ed,eu?.fungible_info?.symbol].join(" ").trim();return eg},getQuantityFixedValue(eu){if(!eu)return null;let ed=parseFloat(eu);return ed.toFixed(eE)}};var eC=eg(66501)},17770:function(eu,ed,eg){"use strict";let em,eb,ew;eg.d(ed,{Bp:function(){return eT},ET:function(){return eM},Hs:function(){return eS},R:function(){return eI},ZM:function(){return eO},n:function(){return eA}});var e_=eg(44920),eE=eg(58780);function eA(eu,ed){em=document.createElement("style"),eb=document.createElement("style"),ew=document.createElement("style"),em.textContent=eC(eu).core.cssText,eb.textContent=eC(eu).dark.cssText,ew.textContent=eC(eu).light.cssText,document.head.appendChild(em),document.head.appendChild(eb),document.head.appendChild(ew),eS(ed)}function eS(eu){eb&&ew&&("light"===eu?(eb.removeAttribute("media"),ew.media="enabled"):(ew.removeAttribute("media"),eb.media="enabled"))}function eI(eu){em&&eb&&ew&&(em.textContent=eC(eu).core.cssText,eb.textContent=eC(eu).dark.cssText,ew.textContent=eC(eu).light.cssText)}function eC(eu){return{core:e_.iv`
      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
      @keyframes w3m-shake {
        0% {
          transform: scale(1) rotate(0deg);
        }
        20% {
          transform: scale(1) rotate(-1deg);
        }
        40% {
          transform: scale(1) rotate(1.5deg);
        }
        60% {
          transform: scale(1) rotate(-1.5deg);
        }
        80% {
          transform: scale(1) rotate(1deg);
        }
        100% {
          transform: scale(1) rotate(0deg);
        }
      }
      @keyframes w3m-iframe-fade-out {
        0% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
      @keyframes w3m-iframe-zoom-in {
        0% {
          transform: translateY(50px);
          opacity: 0;
        }
        100% {
          transform: translateY(0px);
          opacity: 1;
        }
      }
      @keyframes w3m-iframe-zoom-in-mobile {
        0% {
          transform: scale(0.95);
          opacity: 0;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }
      :root {
        --w3m-modal-width: 360px;
        --w3m-color-mix-strength: ${(0,e_.$m)(eu?.["--w3m-color-mix-strength"]?`${eu["--w3m-color-mix-strength"]}%`:"0%")};
        --w3m-font-family: ${(0,e_.$m)(eu?.["--w3m-font-family"]||"Inter, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;")};
        --w3m-font-size-master: ${(0,e_.$m)(eu?.["--w3m-font-size-master"]||"10px")};
        --w3m-border-radius-master: ${(0,e_.$m)(eu?.["--w3m-border-radius-master"]||"4px")};
        --w3m-z-index: ${(0,e_.$m)(eu?.["--w3m-z-index"]||999)};

        --wui-font-family: var(--w3m-font-family);

        --wui-font-size-mini: calc(var(--w3m-font-size-master) * 0.8);
        --wui-font-size-micro: var(--w3m-font-size-master);
        --wui-font-size-tiny: calc(var(--w3m-font-size-master) * 1.2);
        --wui-font-size-small: calc(var(--w3m-font-size-master) * 1.4);
        --wui-font-size-paragraph: calc(var(--w3m-font-size-master) * 1.6);
        --wui-font-size-medium: calc(var(--w3m-font-size-master) * 1.8);
        --wui-font-size-large: calc(var(--w3m-font-size-master) * 2);
        --wui-font-size-title-6: calc(var(--w3m-font-size-master) * 2.2);
        --wui-font-size-medium-title: calc(var(--w3m-font-size-master) * 2.4);
        --wui-font-size-2xl: calc(var(--w3m-font-size-master) * 4);

        --wui-border-radius-5xs: var(--w3m-border-radius-master);
        --wui-border-radius-4xs: calc(var(--w3m-border-radius-master) * 1.5);
        --wui-border-radius-3xs: calc(var(--w3m-border-radius-master) * 2);
        --wui-border-radius-xxs: calc(var(--w3m-border-radius-master) * 3);
        --wui-border-radius-xs: calc(var(--w3m-border-radius-master) * 4);
        --wui-border-radius-s: calc(var(--w3m-border-radius-master) * 5);
        --wui-border-radius-m: calc(var(--w3m-border-radius-master) * 7);
        --wui-border-radius-l: calc(var(--w3m-border-radius-master) * 9);
        --wui-border-radius-3xl: calc(var(--w3m-border-radius-master) * 20);

        --wui-font-weight-light: 400;
        --wui-font-weight-regular: 500;
        --wui-font-weight-medium: 600;
        --wui-font-weight-bold: 700;

        --wui-letter-spacing-2xl: -1.6px;
        --wui-letter-spacing-medium-title: -0.96px;
        --wui-letter-spacing-title-6: -0.88px;
        --wui-letter-spacing-large: -0.8px;
        --wui-letter-spacing-medium: -0.72px;
        --wui-letter-spacing-paragraph: -0.64px;
        --wui-letter-spacing-small: -0.56px;
        --wui-letter-spacing-tiny: -0.48px;
        --wui-letter-spacing-micro: -0.2px;
        --wui-letter-spacing-mini: -0.16px;

        --wui-spacing-0: 0px;
        --wui-spacing-4xs: 2px;
        --wui-spacing-3xs: 4px;
        --wui-spacing-xxs: 6px;
        --wui-spacing-2xs: 7px;
        --wui-spacing-xs: 8px;
        --wui-spacing-1xs: 10px;
        --wui-spacing-s: 12px;
        --wui-spacing-m: 14px;
        --wui-spacing-l: 16px;
        --wui-spacing-2l: 18px;
        --wui-spacing-xl: 20px;
        --wui-spacing-xxl: 24px;
        --wui-spacing-2xl: 32px;
        --wui-spacing-3xl: 40px;
        --wui-spacing-4xl: 90px;
        --wui-spacing-5xl: 95px;

        --wui-icon-box-size-xxs: 14px;
        --wui-icon-box-size-xs: 20px;
        --wui-icon-box-size-sm: 24px;
        --wui-icon-box-size-md: 32px;
        --wui-icon-box-size-mdl: 36px;
        --wui-icon-box-size-lg: 40px;
        --wui-icon-box-size-2lg: 48px;
        --wui-icon-box-size-xl: 64px;

        --wui-icon-size-inherit: inherit;
        --wui-icon-size-xxs: 10px;
        --wui-icon-size-xs: 12px;
        --wui-icon-size-sm: 14px;
        --wui-icon-size-md: 16px;
        --wui-icon-size-mdl: 18px;
        --wui-icon-size-lg: 20px;
        --wui-icon-size-xl: 24px;
        --wui-icon-size-xxl: 28px;

        --wui-wallet-image-size-inherit: inherit;
        --wui-wallet-image-size-sm: 40px;
        --wui-wallet-image-size-md: 56px;
        --wui-wallet-image-size-lg: 80px;

        --wui-visual-size-size-inherit: inherit;
        --wui-visual-size-sm: 40px;
        --wui-visual-size-md: 55px;
        --wui-visual-size-lg: 80px;

        --wui-box-size-md: 100px;
        --wui-box-size-lg: 120px;

        --wui-ease-out-power-2: cubic-bezier(0, 0, 0.22, 1);
        --wui-ease-out-power-1: cubic-bezier(0, 0, 0.55, 1);

        --wui-ease-in-power-3: cubic-bezier(0.66, 0, 1, 1);
        --wui-ease-in-power-2: cubic-bezier(0.45, 0, 1, 1);
        --wui-ease-in-power-1: cubic-bezier(0.3, 0, 1, 1);

        --wui-ease-inout-power-1: cubic-bezier(0.45, 0, 0.55, 1);

        --wui-duration-lg: 200ms;
        --wui-duration-md: 125ms;
        --wui-duration-sm: 75ms;

        --wui-path-network-sm: path(
          'M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z'
        );

        --wui-path-network-md: path(
          'M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z'
        );

        --wui-path-network-lg: path(
          'M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z'
        );

        --wui-width-network-sm: 36px;
        --wui-width-network-md: 48px;
        --wui-width-network-lg: 86px;

        --wui-height-network-sm: 40px;
        --wui-height-network-md: 54px;
        --wui-height-network-lg: 96px;

        --wui-icon-size-network-xs: 12px;
        --wui-icon-size-network-sm: 16px;
        --wui-icon-size-network-md: 24px;
        --wui-icon-size-network-lg: 42px;

        --wui-color-inherit: inherit;

        --wui-color-inverse-100: #fff;
        --wui-color-inverse-000: #000;

        --wui-cover: rgba(20, 20, 20, 0.8);

        --wui-color-modal-bg: var(--wui-color-modal-bg-base);

        --wui-color-accent-100: var(--wui-color-accent-base-100);
        --wui-color-accent-090: var(--wui-color-accent-base-090);
        --wui-color-accent-080: var(--wui-color-accent-base-080);

        --wui-color-success-100: var(--wui-color-success-base-100);
        --wui-color-success-125: var(--wui-color-success-base-125);

        --wui-color-warning-100: var(--wui-color-warning-base-100);

        --wui-color-error-100: var(--wui-color-error-base-100);
        --wui-color-error-125: var(--wui-color-error-base-125);

        --wui-color-blue-100: var(--wui-color-blue-base-100);
        --wui-color-blue-90: var(--wui-color-blue-base-90);

        --wui-icon-box-bg-error-100: var(--wui-icon-box-bg-error-base-100);
        --wui-icon-box-bg-blue-100: var(--wui-icon-box-bg-blue-base-100);
        --wui-icon-box-bg-success-100: var(--wui-icon-box-bg-success-base-100);
        --wui-icon-box-bg-inverse-100: var(--wui-icon-box-bg-inverse-base-100);

        --wui-all-wallets-bg-100: var(--wui-all-wallets-bg-100);

        --wui-avatar-border: var(--wui-avatar-border-base);

        --wui-thumbnail-border: var(--wui-thumbnail-border-base);

        --wui-wallet-button-bg: var(--wui-wallet-button-bg-base);

        --wui-box-shadow-blue: var(--wui-color-accent-glass-020);
      }

      @supports (background: color-mix(in srgb, white 50%, black)) {
        :root {
          --wui-color-modal-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-modal-bg-base)
          );

          --wui-box-shadow-blue: color-mix(in srgb, var(--wui-color-accent-100) 20%, transparent);

          --wui-color-accent-100: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 100%,
            transparent
          );
          --wui-color-accent-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-glass-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-020: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 20%,
            transparent
          );
          --wui-color-accent-glass-015: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 15%,
            transparent
          );
          --wui-color-accent-glass-010: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 10%,
            transparent
          );
          --wui-color-accent-glass-005: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 5%,
            transparent
          );
          --wui-color-accent-002: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 2%,
            transparent
          );

          --wui-color-fg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-100)
          );
          --wui-color-fg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-125)
          );
          --wui-color-fg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-150)
          );
          --wui-color-fg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-175)
          );
          --wui-color-fg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-200)
          );
          --wui-color-fg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-225)
          );
          --wui-color-fg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-250)
          );
          --wui-color-fg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-275)
          );
          --wui-color-fg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-300)
          );
          --wui-color-fg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-325)
          );
          --wui-color-fg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-350)
          );

          --wui-color-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-100)
          );
          --wui-color-bg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-125)
          );
          --wui-color-bg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-150)
          );
          --wui-color-bg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-175)
          );
          --wui-color-bg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-200)
          );
          --wui-color-bg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-225)
          );
          --wui-color-bg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-250)
          );
          --wui-color-bg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-275)
          );
          --wui-color-bg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-300)
          );
          --wui-color-bg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-325)
          );
          --wui-color-bg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-350)
          );

          --wui-color-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-100)
          );
          --wui-color-success-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-125)
          );

          --wui-color-warning-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-warning-base-100)
          );

          --wui-color-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-100)
          );
          --wui-color-blue-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-100)
          );
          --wui-color-blue-90: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-90)
          );
          --wui-color-error-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-125)
          );

          --wui-icon-box-bg-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-error-base-100)
          );
          --wui-icon-box-bg-accent-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-blue-base-100)
          );
          --wui-icon-box-bg-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-success-base-100)
          );
          --wui-icon-box-bg-inverse-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-inverse-base-100)
          );

          --wui-all-wallets-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-all-wallets-bg-100)
          );

          --wui-avatar-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-avatar-border-base)
          );

          --wui-thumbnail-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-thumbnail-border-base)
          );

          --wui-wallet-button-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-wallet-button-bg-base)
          );
        }
      }
    `,light:e_.iv`
      :root {
        --w3m-color-mix: ${(0,e_.$m)(eu?.["--w3m-color-mix"]||"#fff")};
        --w3m-accent: ${(0,e_.$m)((0,eE.t)(eu,"dark")["--w3m-accent"])};
        --w3m-default: #fff;

        --wui-color-modal-bg-base: ${(0,e_.$m)((0,eE.t)(eu,"dark")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(230, 100%, 67%, 1);
        --wui-color-blueberry-090: hsla(231, 76%, 61%, 1);
        --wui-color-blueberry-080: hsla(230, 59%, 55%, 1);
        --wui-color-blueberry-050: hsla(231, 100%, 70%, 0.1);

        --wui-color-fg-100: #e4e7e7;
        --wui-color-fg-125: #d0d5d5;
        --wui-color-fg-150: #a8b1b1;
        --wui-color-fg-175: #a8b0b0;
        --wui-color-fg-200: #949e9e;
        --wui-color-fg-225: #868f8f;
        --wui-color-fg-250: #788080;
        --wui-color-fg-275: #788181;
        --wui-color-fg-300: #6e7777;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #363636;

        --wui-color-bg-100: #141414;
        --wui-color-bg-125: #191a1a;
        --wui-color-bg-150: #1e1f1f;
        --wui-color-bg-175: #222525;
        --wui-color-bg-200: #272a2a;
        --wui-color-bg-225: #2c3030;
        --wui-color-bg-250: #313535;
        --wui-color-bg-275: #363b3b;
        --wui-color-bg-300: #3b4040;
        --wui-color-bg-325: #252525;
        --wui-color-bg-350: #ffffff;

        --wui-color-success-base-100: #26d962;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f25a67;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 217, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 217, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 217, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 217, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 217, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 217, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 217, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 217, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 217, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 217, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(242, 90, 103, 0.01);
        --wui-color-error-glass-002: rgba(242, 90, 103, 0.02);
        --wui-color-error-glass-005: rgba(242, 90, 103, 0.05);
        --wui-color-error-glass-010: rgba(242, 90, 103, 0.1);
        --wui-color-error-glass-015: rgba(242, 90, 103, 0.15);
        --wui-color-error-glass-020: rgba(242, 90, 103, 0.2);
        --wui-color-error-glass-025: rgba(242, 90, 103, 0.25);
        --wui-color-error-glass-030: rgba(242, 90, 103, 0.3);
        --wui-color-error-glass-060: rgba(242, 90, 103, 0.6);
        --wui-color-error-glass-080: rgba(242, 90, 103, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-color-gray-glass-001: rgba(255, 255, 255, 0.01);
        --wui-color-gray-glass-002: rgba(255, 255, 255, 0.02);
        --wui-color-gray-glass-005: rgba(255, 255, 255, 0.05);
        --wui-color-gray-glass-010: rgba(255, 255, 255, 0.1);
        --wui-color-gray-glass-015: rgba(255, 255, 255, 0.15);
        --wui-color-gray-glass-020: rgba(255, 255, 255, 0.2);
        --wui-color-gray-glass-025: rgba(255, 255, 255, 0.25);
        --wui-color-gray-glass-030: rgba(255, 255, 255, 0.3);
        --wui-color-gray-glass-060: rgba(255, 255, 255, 0.6);
        --wui-color-gray-glass-080: rgba(255, 255, 255, 0.8);
        --wui-color-gray-glass-090: rgba(255, 255, 255, 0.9);

        --wui-color-dark-glass-100: rgba(42, 42, 42, 1);

        --wui-icon-box-bg-error-base-100: #3c2426;
        --wui-icon-box-bg-blue-base-100: #20303f;
        --wui-icon-box-bg-success-base-100: #1f3a28;
        --wui-icon-box-bg-inverse-base-100: #243240;

        --wui-all-wallets-bg-100: #222b35;

        --wui-avatar-border-base: #252525;

        --wui-thumbnail-border-base: #252525;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --w3m-card-embedded-shadow-color: rgb(17 17 18 / 25%);
      }
    `,dark:e_.iv`
      :root {
        --w3m-color-mix: ${(0,e_.$m)(eu?.["--w3m-color-mix"]||"#000")};
        --w3m-accent: ${(0,e_.$m)((0,eE.t)(eu,"light")["--w3m-accent"])};
        --w3m-default: #000;

        --wui-color-modal-bg-base: ${(0,e_.$m)((0,eE.t)(eu,"light")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(231, 100%, 70%, 1);
        --wui-color-blueberry-090: hsla(231, 97%, 72%, 1);
        --wui-color-blueberry-080: hsla(231, 92%, 74%, 1);

        --wui-color-fg-100: #141414;
        --wui-color-fg-125: #2d3131;
        --wui-color-fg-150: #474d4d;
        --wui-color-fg-175: #636d6d;
        --wui-color-fg-200: #798686;
        --wui-color-fg-225: #828f8f;
        --wui-color-fg-250: #8b9797;
        --wui-color-fg-275: #95a0a0;
        --wui-color-fg-300: #9ea9a9;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #d0d0d0;

        --wui-color-bg-100: #ffffff;
        --wui-color-bg-125: #f5fafa;
        --wui-color-bg-150: #f3f8f8;
        --wui-color-bg-175: #eef4f4;
        --wui-color-bg-200: #eaf1f1;
        --wui-color-bg-225: #e5eded;
        --wui-color-bg-250: #e1e9e9;
        --wui-color-bg-275: #dce7e7;
        --wui-color-bg-300: #d8e3e3;
        --wui-color-bg-325: #f3f3f3;
        --wui-color-bg-350: #202020;

        --wui-color-success-base-100: #26b562;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f05142;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 181, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 181, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 181, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 181, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 181, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 181, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 181, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 181, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 181, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 181, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(240, 81, 66, 0.01);
        --wui-color-error-glass-002: rgba(240, 81, 66, 0.02);
        --wui-color-error-glass-005: rgba(240, 81, 66, 0.05);
        --wui-color-error-glass-010: rgba(240, 81, 66, 0.1);
        --wui-color-error-glass-015: rgba(240, 81, 66, 0.15);
        --wui-color-error-glass-020: rgba(240, 81, 66, 0.2);
        --wui-color-error-glass-025: rgba(240, 81, 66, 0.25);
        --wui-color-error-glass-030: rgba(240, 81, 66, 0.3);
        --wui-color-error-glass-060: rgba(240, 81, 66, 0.6);
        --wui-color-error-glass-080: rgba(240, 81, 66, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-icon-box-bg-error-base-100: #f4dfdd;
        --wui-icon-box-bg-blue-base-100: #d9ecfb;
        --wui-icon-box-bg-success-base-100: #daf0e4;
        --wui-icon-box-bg-inverse-base-100: #dcecfc;

        --wui-all-wallets-bg-100: #e8f1fa;

        --wui-avatar-border-base: #f3f4f4;

        --wui-thumbnail-border-base: #eaefef;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --wui-color-gray-glass-001: rgba(0, 0, 0, 0.01);
        --wui-color-gray-glass-002: rgba(0, 0, 0, 0.02);
        --wui-color-gray-glass-005: rgba(0, 0, 0, 0.05);
        --wui-color-gray-glass-010: rgba(0, 0, 0, 0.1);
        --wui-color-gray-glass-015: rgba(0, 0, 0, 0.15);
        --wui-color-gray-glass-020: rgba(0, 0, 0, 0.2);
        --wui-color-gray-glass-025: rgba(0, 0, 0, 0.25);
        --wui-color-gray-glass-030: rgba(0, 0, 0, 0.3);
        --wui-color-gray-glass-060: rgba(0, 0, 0, 0.6);
        --wui-color-gray-glass-080: rgba(0, 0, 0, 0.8);
        --wui-color-gray-glass-090: rgba(0, 0, 0, 0.9);

        --wui-color-dark-glass-100: rgba(233, 233, 233, 1);

        --w3m-card-embedded-shadow-color: rgb(224 225 233 / 25%);
      }
    `}}let eM=e_.iv`
  *,
  *::after,
  *::before,
  :host {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-style: normal;
    text-rendering: optimizeSpeed;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    font-family: var(--wui-font-family);
    backface-visibility: hidden;
  }
`,eO=e_.iv`
  button,
  a {
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    transition:
      color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1),
      box-shadow var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: background-color, color, border, box-shadow, border-radius;
    outline: none;
    border: none;
    column-gap: var(--wui-spacing-3xs);
    background-color: transparent;
    text-decoration: none;
  }

  wui-flex {
    transition: border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: border-radius;
  }

  button:disabled > wui-wallet-image,
  button:disabled > wui-all-wallets-image,
  button:disabled > wui-network-image,
  button:disabled > wui-image,
  button:disabled > wui-transaction-visual,
  button:disabled > wui-logo {
    filter: grayscale(1);
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: var(--wui-color-gray-glass-005);
    }

    button:active:enabled {
      background-color: var(--wui-color-gray-glass-010);
    }
  }

  button:disabled > wui-icon-box {
    opacity: 0.5;
  }

  input {
    border: none;
    outline: none;
    appearance: none;
  }
`,eT=e_.iv`
  .wui-color-inherit {
    color: var(--wui-color-inherit);
  }

  .wui-color-accent-100 {
    color: var(--wui-color-accent-100);
  }

  .wui-color-error-100 {
    color: var(--wui-color-error-100);
  }

  .wui-color-blue-100 {
    color: var(--wui-color-blue-100);
  }

  .wui-color-blue-90 {
    color: var(--wui-color-blue-90);
  }

  .wui-color-error-125 {
    color: var(--wui-color-error-125);
  }

  .wui-color-success-100 {
    color: var(--wui-color-success-100);
  }

  .wui-color-success-125 {
    color: var(--wui-color-success-125);
  }

  .wui-color-inverse-100 {
    color: var(--wui-color-inverse-100);
  }

  .wui-color-inverse-000 {
    color: var(--wui-color-inverse-000);
  }

  .wui-color-fg-100 {
    color: var(--wui-color-fg-100);
  }

  .wui-color-fg-200 {
    color: var(--wui-color-fg-200);
  }

  .wui-color-fg-300 {
    color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    color: var(--wui-color-fg-350);
  }

  .wui-bg-color-inherit {
    background-color: var(--wui-color-inherit);
  }

  .wui-bg-color-blue-100 {
    background-color: var(--wui-color-accent-100);
  }

  .wui-bg-color-error-100 {
    background-color: var(--wui-color-error-100);
  }

  .wui-bg-color-error-125 {
    background-color: var(--wui-color-error-125);
  }

  .wui-bg-color-success-100 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-success-125 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-inverse-100 {
    background-color: var(--wui-color-inverse-100);
  }

  .wui-bg-color-inverse-000 {
    background-color: var(--wui-color-inverse-000);
  }

  .wui-bg-color-fg-100 {
    background-color: var(--wui-color-fg-100);
  }

  .wui-bg-color-fg-200 {
    background-color: var(--wui-color-fg-200);
  }

  .wui-bg-color-fg-300 {
    background-color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    background-color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    background-color: var(--wui-color-fg-350);
  }
`},57172:function(eu,ed,eg){"use strict";eg.d(ed,{H:function(){return em}});let em={getSpacingStyles:(eu,ed)=>Array.isArray(eu)?eu[ed]?`var(--wui-spacing-${eu[ed]})`:void 0:"string"==typeof eu?`var(--wui-spacing-${eu})`:void 0,getFormattedDate:eu=>new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric"}).format(eu),getHostName(eu){try{let ed=new URL(eu);return ed.hostname}catch(eu){return""}},getTruncateString:({string:eu,charsStart:ed,charsEnd:eg,truncate:em})=>eu.length<=ed+eg?eu:"end"===em?`${eu.substring(0,ed)}...`:"start"===em?`...${eu.substring(eu.length-eg)}`:`${eu.substring(0,Math.floor(ed))}...${eu.substring(eu.length-Math.floor(eg))}`,generateAvatarColors(eu){let ed=eu.toLowerCase().replace(/^0x/iu,"").replace(/[^a-f0-9]/gu,""),eg=ed.substring(0,6).padEnd(6,"0"),em=this.hexToRgb(eg),eb=getComputedStyle(document.documentElement).getPropertyValue("--w3m-border-radius-master"),ew=Number(eb?.replace("px","")),e_=100-3*ew,eE=`${e_}% ${e_}% at 65% 40%`,eA=[];for(let eu=0;eu<5;eu+=1){let ed=this.tintColor(em,.15*eu);eA.push(`rgb(${ed[0]}, ${ed[1]}, ${ed[2]})`)}return`
    --local-color-1: ${eA[0]};
    --local-color-2: ${eA[1]};
    --local-color-3: ${eA[2]};
    --local-color-4: ${eA[3]};
    --local-color-5: ${eA[4]};
    --local-radial-circle: ${eE}
   `},hexToRgb(eu){let ed=parseInt(eu,16),eg=ed>>16&255,em=ed>>8&255,eb=255&ed;return[eg,em,eb]},tintColor(eu,ed){let[eg,em,eb]=eu,ew=Math.round(eg+(255-eg)*ed),e_=Math.round(em+(255-em)*ed),eE=Math.round(eb+(255-eb)*ed);return[ew,e_,eE]},isNumber(eu){let ed={number:/^[0-9]+$/u};return ed.number.test(eu)},getColorTheme:eu=>eu||("undefined"!=typeof window&&window.matchMedia&&"function"==typeof window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)")?.matches?"dark":"light":"dark"),splitBalance(eu){let ed=eu.split(".");return 2===ed.length?[ed[0],ed[1]]:["0","00"]},roundNumber(eu,ed,eg){let em=eu.toString().length>=ed?Number(eu).toFixed(eg):eu;return em},formatNumberToLocalString:(eu,ed=2)=>void 0===eu?"0.00":"number"==typeof eu?eu.toLocaleString("en-US",{maximumFractionDigits:ed,minimumFractionDigits:ed}):parseFloat(eu).toLocaleString("en-US",{maximumFractionDigits:ed,minimumFractionDigits:ed})}},66501:function(eu,ed,eg){"use strict";function em(eu,ed){let{kind:eg,elements:em}=ed;return{kind:eg,elements:em,finisher(ed){customElements.get(eu)||customElements.define(eu,ed)}}}function eb(eu,ed){return customElements.get(eu)||customElements.define(eu,ed),ed}function ew(eu){return function(ed){return"function"==typeof ed?eb(eu,ed):em(eu,ed)}}eg.d(ed,{M:function(){return ew}})},36563:function(eu,ed,eg){"use strict";eg.d(ed,{f:function(){return eM}});var em=eg(39461),eb=eg(99826),ew=eg(16541),e_=eg(46719),eE=eg(2706),eA=eg(845);let eS="rpc.walletconnect.org";function eI(eu,ed){let eg=new URL("https://rpc.walletconnect.org/v1/");return eg.searchParams.set("chainId",eu),eg.searchParams.set("projectId",ed),eg.toString()}let eC=["near:mainnet","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","eip155:1101","eip155:56","eip155:42161","eip155:7777777","eip155:59144","eip155:324","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1","eip155:5000","solana:4sgjmw1sunhzsxgspuhpqldx6wiyjntz","eip155:80084","eip155:5003","eip155:100","eip155:8453","eip155:42220","eip155:1313161555","eip155:17000","eip155:1","eip155:300","eip155:1313161554","eip155:1329","eip155:84532","eip155:421614","eip155:11155111","eip155:8217","eip155:43114","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","eip155:999999999","eip155:11155420","eip155:80002","eip155:97","eip155:43113","eip155:137","eip155:10","eip155:1301","bip122:000000000019d6689c085ae165831e93","bip122:000000000933ea01ad0ee984209779ba"],eM={extendRpcUrlWithProjectId(eu,ed){let eg=!1;try{let ed=new URL(eu);eg=ed.host===eS}catch(eu){eg=!1}if(eg){let eg=new URL(eu);return eg.searchParams.has("projectId")||eg.searchParams.set("projectId",ed),eg.toString()}return eu},isCaipNetwork:eu=>"chainNamespace"in eu&&"caipNetworkId"in eu,getChainNamespace(eu){return this.isCaipNetwork(eu)?eu.chainNamespace:ew.b.CHAIN.EVM},getCaipNetworkId(eu){return this.isCaipNetwork(eu)?eu.caipNetworkId:`${ew.b.CHAIN.EVM}:${eu.id}`},getDefaultRpcUrl(eu,ed,eg){let em=eu.rpcUrls?.default?.http?.[0];return eC.includes(ed)?eI(ed,eg):em||""},extendCaipNetwork(eu,{customNetworkImageUrls:ed,projectId:eg,customRpcUrls:em}){let eb=this.getChainNamespace(eu),ew=this.getCaipNetworkId(eu),e_=eu.rpcUrls?.default?.http?.[0],eE=this.getDefaultRpcUrl(eu,ew,eg),eS=eu?.rpcUrls?.chainDefault?.http?.[0]||e_,eI=em?.[ew]?.map(eu=>eu.url)||[],eC=[...eI,...eE?[eE]:[]],eM=[...eI];return eS&&!eM.includes(eS)&&eM.push(eS),{...eu,chainNamespace:eb,caipNetworkId:ew,assets:{imageId:eA.C.NetworkImageIds[eu.id],imageUrl:ed?.[eu.id]},rpcUrls:{...eu.rpcUrls,default:{http:eC},chainDefault:{http:eM}}}},extendCaipNetworks:(eu,{customNetworkImageUrls:ed,projectId:eg,customRpcUrls:em})=>eu.map(eu=>eM.extendCaipNetwork(eu,{customNetworkImageUrls:ed,customRpcUrls:em,projectId:eg})),getViemTransport(eu,ed,eg){let ew=[];return eg?.forEach(eu=>{ew.push((0,em.d)(eu.url,eu.config))}),eC.includes(eu.caipNetworkId)&&ew.push((0,em.d)(eI(eu.caipNetworkId,ed),{fetchOptions:{headers:{"Content-Type":"text/plain"}}})),eu?.rpcUrls?.default?.http?.forEach(eu=>{ew.push((0,em.d)(eu))}),(0,eb.tv)(ew)},extendWagmiTransports(eu,ed,eg){if(eC.includes(eu.caipNetworkId)){let ew=this.getDefaultRpcUrl(eu,eu.caipNetworkId,ed);return(0,eb.tv)([eg,(0,em.d)(ew)])}return eg},getUnsupportedNetwork:eu=>({id:eu.split(":")[1],caipNetworkId:eu,name:ew.b.UNSUPPORTED_NETWORK_NAME,chainNamespace:eu.split(":")[0],nativeCurrency:{name:"",decimals:0,symbol:""},rpcUrls:{default:{http:[]}}}),getCaipNetworkFromStorage(eu){let ed=e_.M.getActiveCaipNetworkId(),eg=eE.R.getAllRequestedCaipNetworks(),em=Array.from(eE.R.state.chains?.keys()||[]),eb=ed?.split(":")[0],ew=!!eb&&em.includes(eb),eA=eg?.find(eu=>eu.caipNetworkId===ed),eS=ew&&!eA&&ed;return eS?this.getUnsupportedNetwork(ed):eA||eu||eg?.[0]}}},27577:function(eu,ed,eg){"use strict";eg.d(ed,{b:function(){return eb}});var em=eg(16541);let eb={METMASK_CONNECTOR_NAME:"MetaMask",TRUST_CONNECTOR_NAME:"Trust Wallet",SOLFLARE_CONNECTOR_NAME:"Solflare",PHANTOM_CONNECTOR_NAME:"Phantom",COIN98_CONNECTOR_NAME:"Coin98",MAGIC_EDEN_CONNECTOR_NAME:"Magic Eden",BACKPACK_CONNECTOR_NAME:"Backpack",BITGET_CONNECTOR_NAME:"Bitget Wallet",FRONTIER_CONNECTOR_NAME:"Frontier",XVERSE_CONNECTOR_NAME:"Xverse Wallet",LEATHER_CONNECTOR_NAME:"Leather",EIP155:em.b.CHAIN.EVM,ADD_CHAIN_METHOD:"wallet_addEthereumChain",EIP6963_ANNOUNCE_EVENT:"eip6963:announceProvider",EIP6963_REQUEST_EVENT:"eip6963:requestProvider",CONNECTOR_RDNS_MAP:{coinbaseWallet:"com.coinbase.wallet",coinbaseWalletSDK:"com.coinbase.wallet"},CONNECTOR_TYPE_EXTERNAL:"EXTERNAL",CONNECTOR_TYPE_WALLET_CONNECT:"WALLET_CONNECT",CONNECTOR_TYPE_INJECTED:"INJECTED",CONNECTOR_TYPE_ANNOUNCED:"ANNOUNCED",CONNECTOR_TYPE_AUTH:"AUTH",CONNECTOR_TYPE_MULTI_CHAIN:"MULTI_CHAIN",CONNECTOR_TYPE_W3M_AUTH:"ID_AUTH"}},21257:function(eu,ed,eg){"use strict";eg.d(ed,{j:function(){return eb}});let em=new AbortController,eb={EmbeddedWalletAbortController:em,UniversalProviderErrors:{UNAUTHORIZED_DOMAIN_NOT_ALLOWED:{message:"Unauthorized: origin not allowed",alertErrorKey:"ORIGIN_NOT_ALLOWED"},JWT_VALIDATION_ERROR:{message:"JWT validation error: JWT Token is not yet valid",alertErrorKey:"JWT_TOKEN_NOT_VALID"},INVALID_KEY:{message:"Unauthorized: invalid key",alertErrorKey:"INVALID_PROJECT_ID"}},ALERT_ERRORS:{SWITCH_NETWORK_NOT_FOUND:{shortMessage:"Network Not Found",longMessage:"Network not found. Please make sure it is included in 'networks' array in createAppKit function."},ORIGIN_NOT_ALLOWED:{shortMessage:"Origin Not Allowed",longMessage:()=>` Origin ${ew()?window.origin:"unknown"} not found on allow list. Please update your project configurations on dashboard.reown.com.`},IFRAME_LOAD_FAILED:{shortMessage:"Network Error - Could not load embedded wallet",longMessage:()=>"There was an issue loading the embedded wallet. Please try again later."},IFRAME_REQUEST_TIMEOUT:{shortMessage:"Embedded Wallet Request Timed Out",longMessage:()=>"There was an issue doing the request to the embedded wallet. Please try again later."},UNVERIFIED_DOMAIN:{shortMessage:"Unverified Domain",longMessage:()=>"There was an issue loading the embedded wallet. Please verify that your domain is allowed at dashboard.reown.com."},JWT_TOKEN_NOT_VALID:{shortMessage:"Session Expired",longMessage:"Invalid session found on UniversalProvider. Please check your time settings and connect again."},INVALID_PROJECT_ID:{shortMessage:"Invalid Project ID",longMessage:"The project ID is invalid. Visit dashboard.reown.com to get a new one."},PROJECT_ID_NOT_CONFIGURED:{shortMessage:"Project ID Not Configured",longMessage:"Project ID Not Configured. Please update your project configurations on dashboard.reown.com."},SERVER_ERROR_APP_CONFIGURATION:{shortMessage:"Server Error",longMessage:eu=>`Failed to get App Configuration ${eu||""}`},RATE_LIMITED_APP_CONFIGURATION:{shortMessage:"Rate Limited",longMessage:"Rate limited when trying to get the App Configuration"}}};function ew(){return"undefined"!=typeof window}},17739:function(eu,ed,eg){"use strict";eg.d(ed,{g:function(){return eE}});var em=eg(16541),eb=eg(2706),ew=eg(44984),e_=eg(27577);let eE={getCaipTokens(eu){if(!eu)return;let ed={};return Object.entries(eu).forEach(([eu,eg])=>{ed[`${e_.b.EIP155}:${eu}`]=eg}),ed},isLowerCaseMatch:(eu,ed)=>eu?.toLowerCase()===ed?.toLowerCase(),getActiveNamespaceConnectedToAuth(){let eu=eb.R.state.activeChain;return em.b.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(ed=>ew.A.getConnectorId(ed)===em.b.CONNECTOR_ID.AUTH&&ed===eu)},withRetry({conditionFn:eu,intervalMs:ed,maxRetries:eg}){let em=0;return new Promise(eb=>{async function ew(){em+=1;let e_=await eu();return e_?eb(!0):em>=eg?eb(!1):(setTimeout(ew,ed),null)}ew()})}}},845:function(eu,ed,eg){"use strict";eg.d(ed,{C:function(){return ew}});var em=eg(16541),eb=eg(27577);let ew={ConnectorExplorerIds:{[em.b.CONNECTOR_ID.COINBASE]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[em.b.CONNECTOR_ID.COINBASE_SDK]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[em.b.CONNECTOR_ID.SAFE]:"225affb176778569276e484e1b92637ad061b01e13a048b35a9d280c3b58970f",[em.b.CONNECTOR_ID.LEDGER]:"19177a98252e07ddfc9af2083ba8e07ef627cb6103467ffebb3f8f4205fd7927",[em.b.CONNECTOR_ID.OKX]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",[eb.b.METMASK_CONNECTOR_NAME]:"c57ca95b47569778a828d19178114f4db188b89b763c899ba0be274e97267d96",[eb.b.TRUST_CONNECTOR_NAME]:"4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0",[eb.b.SOLFLARE_CONNECTOR_NAME]:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",[eb.b.PHANTOM_CONNECTOR_NAME]:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",[eb.b.COIN98_CONNECTOR_NAME]:"2a3c89040ac3b723a1972a33a125b1db11e258a6975d3a61252cd64e6ea5ea01",[eb.b.MAGIC_EDEN_CONNECTOR_NAME]:"8b830a2b724a9c3fbab63af6f55ed29c9dfa8a55e732dc88c80a196a2ba136c6",[eb.b.BACKPACK_CONNECTOR_NAME]:"2bd8c14e035c2d48f184aaa168559e86b0e3433228d3c4075900a221785019b0",[eb.b.BITGET_CONNECTOR_NAME]:"38f5d18bd8522c244bdd70cb4a68e0e718865155811c043f052fb9f1c51de662",[eb.b.FRONTIER_CONNECTOR_NAME]:"85db431492aa2e8672e93f4ea7acf10c88b97b867b0d373107af63dc4880f041",[eb.b.XVERSE_CONNECTOR_NAME]:"2a87d74ae02e10bdd1f51f7ce6c4e1cc53cd5f2c0b6b5ad0d7b3007d2b13de7b",[eb.b.LEATHER_CONNECTOR_NAME]:"483afe1df1df63daf313109971ff3ef8356ddf1cc4e45877d205eee0b7893a13"},NetworkImageIds:{1:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",42161:"3bff954d-5cb0-47a0-9a23-d20192e74600",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",5e3:"e86fae9b-b770-4eea-e520-150e12c81100",295:"6a97d510-cac8-4e58-c7ce-e8681b044c00",11155111:"e909ea0a-f92a-4512-c8fc-748044ea6800",84532:"a18a7ecd-e307-4360-4746-283182228e00",1301:"4eeea7ef-0014-4649-5d1d-07271a80f600",130:"2257980a-3463-48c6-cbac-a42d2a956e00",10143:"0a728e83-bacb-46db-7844-948f05434900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00",7777777:"845c60df-d429-4991-e687-91ae45791600",42220:"ab781bbc-ccc6-418d-d32d-789b15da1f00",8453:"7289c336-3981-4081-c5f4-efc26ac64a00",1313161554:"3ff73439-a619-4894-9262-4470c773a100",2020:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",2021:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",80094:"e329c2c9-59b0-4a02-83e4-212ff3779900",2741:"fc2427d1-5af9-4a9c-8da5-6f94627cd900","5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":"a1b58899-f671-4276-6a5e-56ca5bd59700","4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":"a1b58899-f671-4276-6a5e-56ca5bd59700",EtWTRABZaYq6iMfeYKouRu166VU2xqa1:"a1b58899-f671-4276-6a5e-56ca5bd59700","000000000019d6689c085ae165831e93":"0b4838db-0161-4ffe-022d-532bf03dba00","000000000933ea01ad0ee984209779ba":"39354064-d79b-420b-065d-f980c4b78200"},ConnectorImageIds:{[em.b.CONNECTOR_ID.COINBASE]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[em.b.CONNECTOR_ID.COINBASE_SDK]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[em.b.CONNECTOR_ID.SAFE]:"461db637-8616-43ce-035a-d89b8a1d5800",[em.b.CONNECTOR_ID.LEDGER]:"54a1aa77-d202-4f8d-0fb2-5d2bb6db0300",[em.b.CONNECTOR_ID.WALLET_CONNECT]:"ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",[em.b.CONNECTOR_ID.INJECTED]:"07ba87ed-43aa-4adf-4540-9e6a2b9cae00"},ConnectorNamesMap:{[em.b.CONNECTOR_ID.INJECTED]:"Browser Wallet",[em.b.CONNECTOR_ID.WALLET_CONNECT]:"WalletConnect",[em.b.CONNECTOR_ID.COINBASE]:"Coinbase",[em.b.CONNECTOR_ID.COINBASE_SDK]:"Coinbase",[em.b.CONNECTOR_ID.LEDGER]:"Ledger",[em.b.CONNECTOR_ID.SAFE]:"Safe"},ConnectorTypesMap:{[em.b.CONNECTOR_ID.INJECTED]:"INJECTED",[em.b.CONNECTOR_ID.WALLET_CONNECT]:"WALLET_CONNECT",[em.b.CONNECTOR_ID.EIP6963]:"ANNOUNCED",[em.b.CONNECTOR_ID.AUTH]:"AUTH",[eb.b.CONNECTOR_TYPE_AUTH]:"AUTH"},WalletConnectRpcChainIds:[1,5,11155111,10,420,42161,421613,137,80001,42220,1313161554,1313161555,56,97,43114,43113,100,8453,84531,7777777,999,324,280]}},2089:function(eu,ed,eg){"use strict";eg.d(ed,{h:function(){return eE}});var em=eg(62405),eb=eg(60052);let ew={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0},e_=(0,em.sj)({providers:{...ew},providerIds:{...ew}}),eE={state:e_,subscribeKey:(eu,ed)=>(0,eb.VW)(e_,eu,ed),subscribe:eu=>(0,em.Ld)(e_,()=>{eu(e_)}),subscribeProviders:eu=>(0,em.Ld)(e_.providers,()=>eu(e_.providers)),setProvider(eu,ed){eu&&ed&&(e_.providers[eu]=(0,em.iH)(ed))},getProvider(eu){if(eu)return e_.providers[eu]},setProviderId(eu,ed){ed&&(e_.providerIds[eu]=ed)},getProviderId(eu){if(eu)return e_.providerIds[eu]},reset(){e_.providers={...ew},e_.providerIds={...ew}},resetChain(eu){e_.providers[eu]=void 0,e_.providerIds[eu]=void 0}}},89499:function(eu,ed,eg){"use strict";eg.d(ed,{$0:function(){return eA},Dr:function(){return ew},jd:function(){return e_},y_:function(){return eS},zN:function(){return eE}});var em=eg(34406);let eb="https://secure.walletconnect.org/sdk",ew=(void 0!==em&&void 0!==em.env?em.env.NEXT_PUBLIC_SECURE_SITE_SDK_URL:void 0)||eb,e_=(void 0!==em&&void 0!==em.env?em.env.NEXT_PUBLIC_DEFAULT_LOG_LEVEL:void 0)||"error",eE=(void 0!==em&&void 0!==em.env?em.env.NEXT_PUBLIC_SECURE_SITE_SDK_VERSION:void 0)||"4",eA={APP_EVENT_KEY:"@w3m-app/",FRAME_EVENT_KEY:"@w3m-frame/",RPC_METHOD_KEY:"RPC_",STORAGE_KEY:"@appkit-wallet/",SESSION_TOKEN_KEY:"SESSION_TOKEN_KEY",EMAIL_LOGIN_USED_KEY:"EMAIL_LOGIN_USED_KEY",LAST_USED_CHAIN_KEY:"LAST_USED_CHAIN_KEY",LAST_EMAIL_LOGIN_TIME:"LAST_EMAIL_LOGIN_TIME",EMAIL:"EMAIL",PREFERRED_ACCOUNT_TYPE:"PREFERRED_ACCOUNT_TYPE",SMART_ACCOUNT_ENABLED:"SMART_ACCOUNT_ENABLED",SMART_ACCOUNT_ENABLED_NETWORKS:"SMART_ACCOUNT_ENABLED_NETWORKS",SOCIAL_USERNAME:"SOCIAL_USERNAME",APP_SWITCH_NETWORK:"@w3m-app/SWITCH_NETWORK",APP_CONNECT_EMAIL:"@w3m-app/CONNECT_EMAIL",APP_CONNECT_DEVICE:"@w3m-app/CONNECT_DEVICE",APP_CONNECT_OTP:"@w3m-app/CONNECT_OTP",APP_CONNECT_SOCIAL:"@w3m-app/CONNECT_SOCIAL",APP_GET_SOCIAL_REDIRECT_URI:"@w3m-app/GET_SOCIAL_REDIRECT_URI",APP_GET_USER:"@w3m-app/GET_USER",APP_SIGN_OUT:"@w3m-app/SIGN_OUT",APP_IS_CONNECTED:"@w3m-app/IS_CONNECTED",APP_GET_CHAIN_ID:"@w3m-app/GET_CHAIN_ID",APP_RPC_REQUEST:"@w3m-app/RPC_REQUEST",APP_UPDATE_EMAIL:"@w3m-app/UPDATE_EMAIL",APP_UPDATE_EMAIL_PRIMARY_OTP:"@w3m-app/UPDATE_EMAIL_PRIMARY_OTP",APP_UPDATE_EMAIL_SECONDARY_OTP:"@w3m-app/UPDATE_EMAIL_SECONDARY_OTP",APP_AWAIT_UPDATE_EMAIL:"@w3m-app/AWAIT_UPDATE_EMAIL",APP_SYNC_THEME:"@w3m-app/SYNC_THEME",APP_SYNC_DAPP_DATA:"@w3m-app/SYNC_DAPP_DATA",APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS:"@w3m-app/GET_SMART_ACCOUNT_ENABLED_NETWORKS",APP_INIT_SMART_ACCOUNT:"@w3m-app/INIT_SMART_ACCOUNT",APP_SET_PREFERRED_ACCOUNT:"@w3m-app/SET_PREFERRED_ACCOUNT",APP_CONNECT_FARCASTER:"@w3m-app/CONNECT_FARCASTER",APP_GET_FARCASTER_URI:"@w3m-app/GET_FARCASTER_URI",APP_RELOAD:"@w3m-app/RELOAD",APP_RPC_ABORT:"@w3m-app/RPC_ABORT",FRAME_SWITCH_NETWORK_ERROR:"@w3m-frame/SWITCH_NETWORK_ERROR",FRAME_SWITCH_NETWORK_SUCCESS:"@w3m-frame/SWITCH_NETWORK_SUCCESS",FRAME_CONNECT_EMAIL_ERROR:"@w3m-frame/CONNECT_EMAIL_ERROR",FRAME_CONNECT_EMAIL_SUCCESS:"@w3m-frame/CONNECT_EMAIL_SUCCESS",FRAME_CONNECT_DEVICE_ERROR:"@w3m-frame/CONNECT_DEVICE_ERROR",FRAME_CONNECT_DEVICE_SUCCESS:"@w3m-frame/CONNECT_DEVICE_SUCCESS",FRAME_CONNECT_OTP_SUCCESS:"@w3m-frame/CONNECT_OTP_SUCCESS",FRAME_CONNECT_OTP_ERROR:"@w3m-frame/CONNECT_OTP_ERROR",FRAME_CONNECT_SOCIAL_SUCCESS:"@w3m-frame/CONNECT_SOCIAL_SUCCESS",FRAME_CONNECT_SOCIAL_ERROR:"@w3m-frame/CONNECT_SOCIAL_ERROR",FRAME_CONNECT_FARCASTER_SUCCESS:"@w3m-frame/CONNECT_FARCASTER_SUCCESS",FRAME_CONNECT_FARCASTER_ERROR:"@w3m-frame/CONNECT_FARCASTER_ERROR",FRAME_GET_FARCASTER_URI_SUCCESS:"@w3m-frame/GET_FARCASTER_URI_SUCCESS",FRAME_GET_FARCASTER_URI_ERROR:"@w3m-frame/GET_FARCASTER_URI_ERROR",FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_SUCCESS",FRAME_GET_SOCIAL_REDIRECT_URI_ERROR:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_ERROR",FRAME_GET_USER_SUCCESS:"@w3m-frame/GET_USER_SUCCESS",FRAME_GET_USER_ERROR:"@w3m-frame/GET_USER_ERROR",FRAME_SIGN_OUT_SUCCESS:"@w3m-frame/SIGN_OUT_SUCCESS",FRAME_SIGN_OUT_ERROR:"@w3m-frame/SIGN_OUT_ERROR",FRAME_IS_CONNECTED_SUCCESS:"@w3m-frame/IS_CONNECTED_SUCCESS",FRAME_IS_CONNECTED_ERROR:"@w3m-frame/IS_CONNECTED_ERROR",FRAME_GET_CHAIN_ID_SUCCESS:"@w3m-frame/GET_CHAIN_ID_SUCCESS",FRAME_GET_CHAIN_ID_ERROR:"@w3m-frame/GET_CHAIN_ID_ERROR",FRAME_RPC_REQUEST_SUCCESS:"@w3m-frame/RPC_REQUEST_SUCCESS",FRAME_RPC_REQUEST_ERROR:"@w3m-frame/RPC_REQUEST_ERROR",FRAME_SESSION_UPDATE:"@w3m-frame/SESSION_UPDATE",FRAME_UPDATE_EMAIL_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SUCCESS",FRAME_UPDATE_EMAIL_ERROR:"@w3m-frame/UPDATE_EMAIL_ERROR",FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_ERROR",FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_ERROR",FRAME_SYNC_THEME_SUCCESS:"@w3m-frame/SYNC_THEME_SUCCESS",FRAME_SYNC_THEME_ERROR:"@w3m-frame/SYNC_THEME_ERROR",FRAME_SYNC_DAPP_DATA_SUCCESS:"@w3m-frame/SYNC_DAPP_DATA_SUCCESS",FRAME_SYNC_DAPP_DATA_ERROR:"@w3m-frame/SYNC_DAPP_DATA_ERROR",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR",FRAME_INIT_SMART_ACCOUNT_SUCCESS:"@w3m-frame/INIT_SMART_ACCOUNT_SUCCESS",FRAME_INIT_SMART_ACCOUNT_ERROR:"@w3m-frame/INIT_SMART_ACCOUNT_ERROR",FRAME_SET_PREFERRED_ACCOUNT_SUCCESS:"@w3m-frame/SET_PREFERRED_ACCOUNT_SUCCESS",FRAME_SET_PREFERRED_ACCOUNT_ERROR:"@w3m-frame/SET_PREFERRED_ACCOUNT_ERROR",FRAME_READY:"@w3m-frame/READY",FRAME_RELOAD_SUCCESS:"@w3m-frame/RELOAD_SUCCESS",FRAME_RELOAD_ERROR:"@w3m-frame/RELOAD_ERROR",FRAME_RPC_ABORT_SUCCESS:"@w3m-frame/RPC_ABORT_SUCCESS",FRAME_RPC_ABORT_ERROR:"@w3m-frame/RPC_ABORT_ERROR",RPC_RESPONSE_TYPE_ERROR:"RPC_RESPONSE_ERROR",RPC_RESPONSE_TYPE_TX:"RPC_RESPONSE_TRANSACTION_HASH",RPC_RESPONSE_TYPE_OBJECT:"RPC_RESPONSE_OBJECT"},eS={SAFE_RPC_METHODS:["eth_accounts","eth_blockNumber","eth_call","eth_chainId","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getAccount","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockReceipts","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_maxPriorityFeePerGas","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_sendRawTransaction","eth_syncing","eth_uninstallFilter","wallet_getCapabilities","wallet_getCallsStatus","eth_getUserOperationReceipt","eth_estimateUserOperationGas","eth_getUserOperationByHash","eth_supportedEntryPoints","wallet_getAssets"],NOT_SAFE_RPC_METHODS:["personal_sign","eth_signTypedData_v4","eth_sendTransaction","solana_signMessage","solana_signTransaction","solana_signAllTransactions","solana_signAndSendTransaction","wallet_sendCalls","wallet_grantPermissions","wallet_revokePermissions","eth_sendUserOperation"],GET_CHAIN_ID:"eth_chainId",RPC_METHOD_NOT_ALLOWED_MESSAGE:"Requested RPC call is not allowed",RPC_METHOD_NOT_ALLOWED_UI_MESSAGE:"Action not allowed",ACCOUNT_TYPES:{EOA:"eoa",SMART_ACCOUNT:"smartAccount"}}},80924:function(eu,ed,eg){"use strict";eg.d(ed,{$:function(){return eE}});let em={address:/^0x(?:[A-Fa-f0-9]{40})$/u,transactionHash:/^0x(?:[A-Fa-f0-9]{64})$/u,signedMessage:/^0x(?:[a-fA-F0-9]{62,})$/u};var eb=eg(89499),ew=eg(44495);let e_=3e4,eE={checkIfAllowedToTriggerEmail(){let eu=ew.e.get(eb.$0.LAST_EMAIL_LOGIN_TIME);if(eu){let ed=Date.now()-Number(eu);if(ed<e_){let eu=Math.ceil((e_-ed)/1e3);throw Error(`Please try again after ${eu} seconds`)}}},getTimeToNextEmailLogin(){let eu=ew.e.get(eb.$0.LAST_EMAIL_LOGIN_TIME);if(eu){let ed=Date.now()-Number(eu);if(ed<e_)return Math.ceil((e_-ed)/1e3)}return 0},checkIfRequestExists:eu=>eb.y_.NOT_SAFE_RPC_METHODS.includes(eu.method)||eb.y_.SAFE_RPC_METHODS.includes(eu.method),getResponseType(eu){let ed="string"==typeof eu,eg=ed&&(eu?.match(em.transactionHash)||eu?.match(em.signedMessage));return eg?eb.$0.RPC_RESPONSE_TYPE_TX:eb.$0.RPC_RESPONSE_TYPE_OBJECT},checkIfRequestIsSafe:eu=>eb.y_.SAFE_RPC_METHODS.includes(eu.method),isClient:"undefined"!=typeof window}},74077:function(eu,ed,eg){"use strict";let em;eg.d(ed,{S:function(){return i7}});var eb,ew,e_,eE,eA=eg(87729),eS=eg(16541),eI=eg(89499),eC=eg(80924);!function(eu){function ed(eu){}function eg(eu){throw Error()}function em(eu,ed=" | "){return eu.map(eu=>"string"==typeof eu?`'${eu}'`:eu).join(ed)}eu.assertEqual=eu=>eu,eu.assertIs=ed,eu.assertNever=eg,eu.arrayToEnum=eu=>{let ed={};for(let eg of eu)ed[eg]=eg;return ed},eu.getValidEnumValues=ed=>{let eg=eu.objectKeys(ed).filter(eu=>"number"!=typeof ed[ed[eu]]),em={};for(let eu of eg)em[eu]=ed[eu];return eu.objectValues(em)},eu.objectValues=ed=>eu.objectKeys(ed).map(function(eu){return ed[eu]}),eu.objectKeys="function"==typeof Object.keys?eu=>Object.keys(eu):eu=>{let ed=[];for(let eg in eu)Object.prototype.hasOwnProperty.call(eu,eg)&&ed.push(eg);return ed},eu.find=(eu,ed)=>{for(let eg of eu)if(ed(eg))return eg},eu.isInteger="function"==typeof Number.isInteger?eu=>Number.isInteger(eu):eu=>"number"==typeof eu&&isFinite(eu)&&Math.floor(eu)===eu,eu.joinValues=em,eu.jsonStringifyReplacer=(eu,ed)=>"bigint"==typeof ed?ed.toString():ed}(eb||(eb={})),function(eu){eu.mergeShapes=(eu,ed)=>({...eu,...ed})}(ew||(ew={}));let eM=eb.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),eO=eu=>{let ed=typeof eu;switch(ed){case"undefined":return eM.undefined;case"string":return eM.string;case"number":return isNaN(eu)?eM.nan:eM.number;case"boolean":return eM.boolean;case"function":return eM.function;case"bigint":return eM.bigint;case"symbol":return eM.symbol;case"object":if(Array.isArray(eu))return eM.array;if(null===eu)return eM.null;if(eu.then&&"function"==typeof eu.then&&eu.catch&&"function"==typeof eu.catch)return eM.promise;if("undefined"!=typeof Map&&eu instanceof Map)return eM.map;if("undefined"!=typeof Set&&eu instanceof Set)return eM.set;if("undefined"!=typeof Date&&eu instanceof Date)return eM.date;return eM.object;default:return eM.unknown}},eT=eb.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),eP=eu=>{let ed=JSON.stringify(eu,null,2);return ed.replace(/"([^"]+)":/g,"$1:")};class eN extends Error{constructor(eu){super(),this.issues=[],this.addIssue=eu=>{this.issues=[...this.issues,eu]},this.addIssues=(eu=[])=>{this.issues=[...this.issues,...eu]};let ed=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,ed):this.__proto__=ed,this.name="ZodError",this.issues=eu}get errors(){return this.issues}format(eu){let ed=eu||function(eu){return eu.message},eg={_errors:[]},em=eu=>{for(let eb of eu.issues)if("invalid_union"===eb.code)eb.unionErrors.map(em);else if("invalid_return_type"===eb.code)em(eb.returnTypeError);else if("invalid_arguments"===eb.code)em(eb.argumentsError);else if(0===eb.path.length)eg._errors.push(ed(eb));else{let eu=eg,em=0;for(;em<eb.path.length;){let eg=eb.path[em],ew=em===eb.path.length-1;ew?(eu[eg]=eu[eg]||{_errors:[]},eu[eg]._errors.push(ed(eb))):eu[eg]=eu[eg]||{_errors:[]},eu=eu[eg],em++}}};return em(this),eg}toString(){return this.message}get message(){return JSON.stringify(this.issues,eb.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(eu=eu=>eu.message){let ed={},eg=[];for(let em of this.issues)em.path.length>0?(ed[em.path[0]]=ed[em.path[0]]||[],ed[em.path[0]].push(eu(em))):eg.push(eu(em));return{formErrors:eg,fieldErrors:ed}}get formErrors(){return this.flatten()}}eN.create=eu=>{let ed=new eN(eu);return ed};let ek=(eu,ed)=>{let eg;switch(eu.code){case eT.invalid_type:eg=eu.received===eM.undefined?"Required":`Expected ${eu.expected}, received ${eu.received}`;break;case eT.invalid_literal:eg=`Invalid literal value, expected ${JSON.stringify(eu.expected,eb.jsonStringifyReplacer)}`;break;case eT.unrecognized_keys:eg=`Unrecognized key(s) in object: ${eb.joinValues(eu.keys,", ")}`;break;case eT.invalid_union:eg="Invalid input";break;case eT.invalid_union_discriminator:eg=`Invalid discriminator value. Expected ${eb.joinValues(eu.options)}`;break;case eT.invalid_enum_value:eg=`Invalid enum value. Expected ${eb.joinValues(eu.options)}, received '${eu.received}'`;break;case eT.invalid_arguments:eg="Invalid function arguments";break;case eT.invalid_return_type:eg="Invalid function return type";break;case eT.invalid_date:eg="Invalid date";break;case eT.invalid_string:"object"==typeof eu.validation?"includes"in eu.validation?(eg=`Invalid input: must include "${eu.validation.includes}"`,"number"==typeof eu.validation.position&&(eg=`${eg} at one or more positions greater than or equal to ${eu.validation.position}`)):"startsWith"in eu.validation?eg=`Invalid input: must start with "${eu.validation.startsWith}"`:"endsWith"in eu.validation?eg=`Invalid input: must end with "${eu.validation.endsWith}"`:eb.assertNever(eu.validation):eg="regex"!==eu.validation?`Invalid ${eu.validation}`:"Invalid";break;case eT.too_small:eg="array"===eu.type?`Array must contain ${eu.exact?"exactly":eu.inclusive?"at least":"more than"} ${eu.minimum} element(s)`:"string"===eu.type?`String must contain ${eu.exact?"exactly":eu.inclusive?"at least":"over"} ${eu.minimum} character(s)`:"number"===eu.type?`Number must be ${eu.exact?"exactly equal to ":eu.inclusive?"greater than or equal to ":"greater than "}${eu.minimum}`:"date"===eu.type?`Date must be ${eu.exact?"exactly equal to ":eu.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(eu.minimum))}`:"Invalid input";break;case eT.too_big:eg="array"===eu.type?`Array must contain ${eu.exact?"exactly":eu.inclusive?"at most":"less than"} ${eu.maximum} element(s)`:"string"===eu.type?`String must contain ${eu.exact?"exactly":eu.inclusive?"at most":"under"} ${eu.maximum} character(s)`:"number"===eu.type?`Number must be ${eu.exact?"exactly":eu.inclusive?"less than or equal to":"less than"} ${eu.maximum}`:"bigint"===eu.type?`BigInt must be ${eu.exact?"exactly":eu.inclusive?"less than or equal to":"less than"} ${eu.maximum}`:"date"===eu.type?`Date must be ${eu.exact?"exactly":eu.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(eu.maximum))}`:"Invalid input";break;case eT.custom:eg="Invalid input";break;case eT.invalid_intersection_types:eg="Intersection results could not be merged";break;case eT.not_multiple_of:eg=`Number must be a multiple of ${eu.multipleOf}`;break;case eT.not_finite:eg="Number must be finite";break;default:eg=ed.defaultError,eb.assertNever(eu)}return{message:eg}},eR=ek;function eD(eu){eR=eu}function eB(){return eR}let eU=eu=>{let{data:ed,path:eg,errorMaps:em,issueData:eb}=eu,ew=[...eg,...eb.path||[]],e_={...eb,path:ew},eE="",eA=em.filter(eu=>!!eu).slice().reverse();for(let eu of eA)eE=eu(e_,{data:ed,defaultError:eE}).message;return{...eb,path:ew,message:eb.message||eE}},eL=[];function ej(eu,ed){let eg=eU({issueData:ed,data:eu.data,path:eu.path,errorMaps:[eu.common.contextualErrorMap,eu.schemaErrorMap,eB(),ek].filter(eu=>!!eu)});eu.common.issues.push(eg)}class eF{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(eu,ed){let eg=[];for(let em of ed){if("aborted"===em.status)return e$;"dirty"===em.status&&eu.dirty(),eg.push(em.value)}return{status:eu.value,value:eg}}static async mergeObjectAsync(eu,ed){let eg=[];for(let eu of ed)eg.push({key:await eu.key,value:await eu.value});return eF.mergeObjectSync(eu,eg)}static mergeObjectSync(eu,ed){let eg={};for(let em of ed){let{key:ed,value:eb}=em;if("aborted"===ed.status||"aborted"===eb.status)return e$;"dirty"===ed.status&&eu.dirty(),"dirty"===eb.status&&eu.dirty(),"__proto__"!==ed.value&&(void 0!==eb.value||em.alwaysSet)&&(eg[ed.value]=eb.value)}return{status:eu.value,value:eg}}}let e$=Object.freeze({status:"aborted"}),eK=eu=>({status:"dirty",value:eu}),eH=eu=>({status:"valid",value:eu}),eV=eu=>"aborted"===eu.status,eG=eu=>"dirty"===eu.status,eW=eu=>"valid"===eu.status,eJ=eu=>"undefined"!=typeof Promise&&eu instanceof Promise;!function(eu){eu.errToObj=eu=>"string"==typeof eu?{message:eu}:eu||{},eu.toString=eu=>"string"==typeof eu?eu:null==eu?void 0:eu.message}(e_||(e_={}));class eZ{constructor(eu,ed,eg,em){this._cachedPath=[],this.parent=eu,this.data=ed,this._path=eg,this._key=em}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let eY=(eu,ed)=>{if(eW(ed))return{success:!0,data:ed.value};if(!eu.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let ed=new eN(eu.common.issues);return this._error=ed,this._error}}};function eX(eu){if(!eu)return{};let{errorMap:ed,invalid_type_error:eg,required_error:em,description:eb}=eu;if(ed&&(eg||em))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');if(ed)return{errorMap:ed,description:eb};let ew=(eu,ed)=>"invalid_type"!==eu.code?{message:ed.defaultError}:void 0===ed.data?{message:null!=em?em:ed.defaultError}:{message:null!=eg?eg:ed.defaultError};return{errorMap:ew,description:eb}}class eQ{constructor(eu){this.spa=this.safeParseAsync,this._def=eu,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(eu){return eO(eu.data)}_getOrReturnCtx(eu,ed){return ed||{common:eu.parent.common,data:eu.data,parsedType:eO(eu.data),schemaErrorMap:this._def.errorMap,path:eu.path,parent:eu.parent}}_processInputParams(eu){return{status:new eF,ctx:{common:eu.parent.common,data:eu.data,parsedType:eO(eu.data),schemaErrorMap:this._def.errorMap,path:eu.path,parent:eu.parent}}}_parseSync(eu){let ed=this._parse(eu);if(eJ(ed))throw Error("Synchronous parse encountered promise.");return ed}_parseAsync(eu){let ed=this._parse(eu);return Promise.resolve(ed)}parse(eu,ed){let eg=this.safeParse(eu,ed);if(eg.success)return eg.data;throw eg.error}safeParse(eu,ed){var eg;let em={common:{issues:[],async:null!==(eg=null==ed?void 0:ed.async)&&void 0!==eg&&eg,contextualErrorMap:null==ed?void 0:ed.errorMap},path:(null==ed?void 0:ed.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:eu,parsedType:eO(eu)},eb=this._parseSync({data:eu,path:em.path,parent:em});return eY(em,eb)}async parseAsync(eu,ed){let eg=await this.safeParseAsync(eu,ed);if(eg.success)return eg.data;throw eg.error}async safeParseAsync(eu,ed){let eg={common:{issues:[],contextualErrorMap:null==ed?void 0:ed.errorMap,async:!0},path:(null==ed?void 0:ed.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:eu,parsedType:eO(eu)},em=this._parse({data:eu,path:eg.path,parent:eg}),eb=await (eJ(em)?em:Promise.resolve(em));return eY(eg,eb)}refine(eu,ed){let eg=eu=>"string"==typeof ed||void 0===ed?{message:ed}:"function"==typeof ed?ed(eu):ed;return this._refinement((ed,em)=>{let eb=eu(ed),ew=()=>em.addIssue({code:eT.custom,...eg(ed)});return"undefined"!=typeof Promise&&eb instanceof Promise?eb.then(eu=>!!eu||(ew(),!1)):!!eb||(ew(),!1)})}refinement(eu,ed){return this._refinement((eg,em)=>!!eu(eg)||(em.addIssue("function"==typeof ed?ed(eg,em):ed),!1))}_refinement(eu){return new tQ({schema:this,typeName:eE.ZodEffects,effect:{type:"refinement",refinement:eu}})}superRefine(eu){return this._refinement(eu)}optional(){return t6.create(this,this._def)}nullable(){return t8.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return tR.create(this,this._def)}promise(){return tX.create(this,this._def)}or(eu){return tU.create([this,eu],this._def)}and(eu){return t$.create(this,eu,this._def)}transform(eu){return new tQ({...eX(this._def),schema:this,typeName:eE.ZodEffects,effect:{type:"transform",transform:eu}})}default(eu){let ed="function"==typeof eu?eu:()=>eu;return new t5({...eX(this._def),innerType:this,defaultValue:ed,typeName:eE.ZodDefault})}brand(){return new ru({typeName:eE.ZodBranded,type:this,...eX(this._def)})}catch(eu){let ed="function"==typeof eu?eu:()=>eu;return new t4({...eX(this._def),innerType:this,catchValue:ed,typeName:eE.ZodCatch})}describe(eu){let ed=this.constructor;return new ed({...this._def,description:eu})}pipe(eu){return rd.create(this,eu)}readonly(){return rp.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let e0=/^c[^\s-]{8,}$/i,e6=/^[a-z][a-z0-9]*$/,e8=/^[0-9A-HJKMNP-TV-Z]{26}$/,e5=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,e9=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,e7="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",tu=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,th=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,td=eu=>eu.precision?eu.offset?RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${eu.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${eu.precision}}Z$`):0===eu.precision?eu.offset?RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):eu.offset?RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function tg(eu,ed){return!!(("v4"===ed||!ed)&&tu.test(eu)||("v6"===ed||!ed)&&th.test(eu))}class ty extends eQ{_parse(eu){let ed;this._def.coerce&&(eu.data=String(eu.data));let eg=this._getType(eu);if(eg!==eM.string){let ed=this._getOrReturnCtx(eu);return ej(ed,{code:eT.invalid_type,expected:eM.string,received:ed.parsedType}),e$}let ew=new eF;for(let eg of this._def.checks)if("min"===eg.kind)eu.data.length<eg.value&&(ej(ed=this._getOrReturnCtx(eu,ed),{code:eT.too_small,minimum:eg.value,type:"string",inclusive:!0,exact:!1,message:eg.message}),ew.dirty());else if("max"===eg.kind)eu.data.length>eg.value&&(ej(ed=this._getOrReturnCtx(eu,ed),{code:eT.too_big,maximum:eg.value,type:"string",inclusive:!0,exact:!1,message:eg.message}),ew.dirty());else if("length"===eg.kind){let em=eu.data.length>eg.value,eb=eu.data.length<eg.value;(em||eb)&&(ed=this._getOrReturnCtx(eu,ed),em?ej(ed,{code:eT.too_big,maximum:eg.value,type:"string",inclusive:!0,exact:!0,message:eg.message}):eb&&ej(ed,{code:eT.too_small,minimum:eg.value,type:"string",inclusive:!0,exact:!0,message:eg.message}),ew.dirty())}else if("email"===eg.kind)e9.test(eu.data)||(ej(ed=this._getOrReturnCtx(eu,ed),{validation:"email",code:eT.invalid_string,message:eg.message}),ew.dirty());else if("emoji"===eg.kind)em||(em=RegExp(e7,"u")),em.test(eu.data)||(ej(ed=this._getOrReturnCtx(eu,ed),{validation:"emoji",code:eT.invalid_string,message:eg.message}),ew.dirty());else if("uuid"===eg.kind)e5.test(eu.data)||(ej(ed=this._getOrReturnCtx(eu,ed),{validation:"uuid",code:eT.invalid_string,message:eg.message}),ew.dirty());else if("cuid"===eg.kind)e0.test(eu.data)||(ej(ed=this._getOrReturnCtx(eu,ed),{validation:"cuid",code:eT.invalid_string,message:eg.message}),ew.dirty());else if("cuid2"===eg.kind)e6.test(eu.data)||(ej(ed=this._getOrReturnCtx(eu,ed),{validation:"cuid2",code:eT.invalid_string,message:eg.message}),ew.dirty());else if("ulid"===eg.kind)e8.test(eu.data)||(ej(ed=this._getOrReturnCtx(eu,ed),{validation:"ulid",code:eT.invalid_string,message:eg.message}),ew.dirty());else if("url"===eg.kind)try{new URL(eu.data)}catch(em){ej(ed=this._getOrReturnCtx(eu,ed),{validation:"url",code:eT.invalid_string,message:eg.message}),ew.dirty()}else if("regex"===eg.kind){eg.regex.lastIndex=0;let em=eg.regex.test(eu.data);em||(ej(ed=this._getOrReturnCtx(eu,ed),{validation:"regex",code:eT.invalid_string,message:eg.message}),ew.dirty())}else if("trim"===eg.kind)eu.data=eu.data.trim();else if("includes"===eg.kind)eu.data.includes(eg.value,eg.position)||(ej(ed=this._getOrReturnCtx(eu,ed),{code:eT.invalid_string,validation:{includes:eg.value,position:eg.position},message:eg.message}),ew.dirty());else if("toLowerCase"===eg.kind)eu.data=eu.data.toLowerCase();else if("toUpperCase"===eg.kind)eu.data=eu.data.toUpperCase();else if("startsWith"===eg.kind)eu.data.startsWith(eg.value)||(ej(ed=this._getOrReturnCtx(eu,ed),{code:eT.invalid_string,validation:{startsWith:eg.value},message:eg.message}),ew.dirty());else if("endsWith"===eg.kind)eu.data.endsWith(eg.value)||(ej(ed=this._getOrReturnCtx(eu,ed),{code:eT.invalid_string,validation:{endsWith:eg.value},message:eg.message}),ew.dirty());else if("datetime"===eg.kind){let em=td(eg);em.test(eu.data)||(ej(ed=this._getOrReturnCtx(eu,ed),{code:eT.invalid_string,validation:"datetime",message:eg.message}),ew.dirty())}else"ip"===eg.kind?tg(eu.data,eg.version)||(ej(ed=this._getOrReturnCtx(eu,ed),{validation:"ip",code:eT.invalid_string,message:eg.message}),ew.dirty()):eb.assertNever(eg);return{status:ew.value,value:eu.data}}_regex(eu,ed,eg){return this.refinement(ed=>eu.test(ed),{validation:ed,code:eT.invalid_string,...e_.errToObj(eg)})}_addCheck(eu){return new ty({...this._def,checks:[...this._def.checks,eu]})}email(eu){return this._addCheck({kind:"email",...e_.errToObj(eu)})}url(eu){return this._addCheck({kind:"url",...e_.errToObj(eu)})}emoji(eu){return this._addCheck({kind:"emoji",...e_.errToObj(eu)})}uuid(eu){return this._addCheck({kind:"uuid",...e_.errToObj(eu)})}cuid(eu){return this._addCheck({kind:"cuid",...e_.errToObj(eu)})}cuid2(eu){return this._addCheck({kind:"cuid2",...e_.errToObj(eu)})}ulid(eu){return this._addCheck({kind:"ulid",...e_.errToObj(eu)})}ip(eu){return this._addCheck({kind:"ip",...e_.errToObj(eu)})}datetime(eu){var ed;return"string"==typeof eu?this._addCheck({kind:"datetime",precision:null,offset:!1,message:eu}):this._addCheck({kind:"datetime",precision:void 0===(null==eu?void 0:eu.precision)?null:null==eu?void 0:eu.precision,offset:null!==(ed=null==eu?void 0:eu.offset)&&void 0!==ed&&ed,...e_.errToObj(null==eu?void 0:eu.message)})}regex(eu,ed){return this._addCheck({kind:"regex",regex:eu,...e_.errToObj(ed)})}includes(eu,ed){return this._addCheck({kind:"includes",value:eu,position:null==ed?void 0:ed.position,...e_.errToObj(null==ed?void 0:ed.message)})}startsWith(eu,ed){return this._addCheck({kind:"startsWith",value:eu,...e_.errToObj(ed)})}endsWith(eu,ed){return this._addCheck({kind:"endsWith",value:eu,...e_.errToObj(ed)})}min(eu,ed){return this._addCheck({kind:"min",value:eu,...e_.errToObj(ed)})}max(eu,ed){return this._addCheck({kind:"max",value:eu,...e_.errToObj(ed)})}length(eu,ed){return this._addCheck({kind:"length",value:eu,...e_.errToObj(ed)})}nonempty(eu){return this.min(1,e_.errToObj(eu))}trim(){return new ty({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ty({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ty({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(eu=>"datetime"===eu.kind)}get isEmail(){return!!this._def.checks.find(eu=>"email"===eu.kind)}get isURL(){return!!this._def.checks.find(eu=>"url"===eu.kind)}get isEmoji(){return!!this._def.checks.find(eu=>"emoji"===eu.kind)}get isUUID(){return!!this._def.checks.find(eu=>"uuid"===eu.kind)}get isCUID(){return!!this._def.checks.find(eu=>"cuid"===eu.kind)}get isCUID2(){return!!this._def.checks.find(eu=>"cuid2"===eu.kind)}get isULID(){return!!this._def.checks.find(eu=>"ulid"===eu.kind)}get isIP(){return!!this._def.checks.find(eu=>"ip"===eu.kind)}get minLength(){let eu=null;for(let ed of this._def.checks)"min"===ed.kind&&(null===eu||ed.value>eu)&&(eu=ed.value);return eu}get maxLength(){let eu=null;for(let ed of this._def.checks)"max"===ed.kind&&(null===eu||ed.value<eu)&&(eu=ed.value);return eu}}function tb(eu,ed){let eg=(eu.toString().split(".")[1]||"").length,em=(ed.toString().split(".")[1]||"").length,eb=eg>em?eg:em,ew=parseInt(eu.toFixed(eb).replace(".","")),e_=parseInt(ed.toFixed(eb).replace(".",""));return ew%e_/Math.pow(10,eb)}ty.create=eu=>{var ed;return new ty({checks:[],typeName:eE.ZodString,coerce:null!==(ed=null==eu?void 0:eu.coerce)&&void 0!==ed&&ed,...eX(eu)})};class tw extends eQ{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(eu){let ed;this._def.coerce&&(eu.data=Number(eu.data));let eg=this._getType(eu);if(eg!==eM.number){let ed=this._getOrReturnCtx(eu);return ej(ed,{code:eT.invalid_type,expected:eM.number,received:ed.parsedType}),e$}let em=new eF;for(let eg of this._def.checks)if("int"===eg.kind)eb.isInteger(eu.data)||(ej(ed=this._getOrReturnCtx(eu,ed),{code:eT.invalid_type,expected:"integer",received:"float",message:eg.message}),em.dirty());else if("min"===eg.kind){let eb=eg.inclusive?eu.data<eg.value:eu.data<=eg.value;eb&&(ej(ed=this._getOrReturnCtx(eu,ed),{code:eT.too_small,minimum:eg.value,type:"number",inclusive:eg.inclusive,exact:!1,message:eg.message}),em.dirty())}else if("max"===eg.kind){let eb=eg.inclusive?eu.data>eg.value:eu.data>=eg.value;eb&&(ej(ed=this._getOrReturnCtx(eu,ed),{code:eT.too_big,maximum:eg.value,type:"number",inclusive:eg.inclusive,exact:!1,message:eg.message}),em.dirty())}else"multipleOf"===eg.kind?0!==tb(eu.data,eg.value)&&(ej(ed=this._getOrReturnCtx(eu,ed),{code:eT.not_multiple_of,multipleOf:eg.value,message:eg.message}),em.dirty()):"finite"===eg.kind?Number.isFinite(eu.data)||(ej(ed=this._getOrReturnCtx(eu,ed),{code:eT.not_finite,message:eg.message}),em.dirty()):eb.assertNever(eg);return{status:em.value,value:eu.data}}gte(eu,ed){return this.setLimit("min",eu,!0,e_.toString(ed))}gt(eu,ed){return this.setLimit("min",eu,!1,e_.toString(ed))}lte(eu,ed){return this.setLimit("max",eu,!0,e_.toString(ed))}lt(eu,ed){return this.setLimit("max",eu,!1,e_.toString(ed))}setLimit(eu,ed,eg,em){return new tw({...this._def,checks:[...this._def.checks,{kind:eu,value:ed,inclusive:eg,message:e_.toString(em)}]})}_addCheck(eu){return new tw({...this._def,checks:[...this._def.checks,eu]})}int(eu){return this._addCheck({kind:"int",message:e_.toString(eu)})}positive(eu){return this._addCheck({kind:"min",value:0,inclusive:!1,message:e_.toString(eu)})}negative(eu){return this._addCheck({kind:"max",value:0,inclusive:!1,message:e_.toString(eu)})}nonpositive(eu){return this._addCheck({kind:"max",value:0,inclusive:!0,message:e_.toString(eu)})}nonnegative(eu){return this._addCheck({kind:"min",value:0,inclusive:!0,message:e_.toString(eu)})}multipleOf(eu,ed){return this._addCheck({kind:"multipleOf",value:eu,message:e_.toString(ed)})}finite(eu){return this._addCheck({kind:"finite",message:e_.toString(eu)})}safe(eu){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:e_.toString(eu)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:e_.toString(eu)})}get minValue(){let eu=null;for(let ed of this._def.checks)"min"===ed.kind&&(null===eu||ed.value>eu)&&(eu=ed.value);return eu}get maxValue(){let eu=null;for(let ed of this._def.checks)"max"===ed.kind&&(null===eu||ed.value<eu)&&(eu=ed.value);return eu}get isInt(){return!!this._def.checks.find(eu=>"int"===eu.kind||"multipleOf"===eu.kind&&eb.isInteger(eu.value))}get isFinite(){let eu=null,ed=null;for(let eg of this._def.checks){if("finite"===eg.kind||"int"===eg.kind||"multipleOf"===eg.kind)return!0;"min"===eg.kind?(null===ed||eg.value>ed)&&(ed=eg.value):"max"===eg.kind&&(null===eu||eg.value<eu)&&(eu=eg.value)}return Number.isFinite(ed)&&Number.isFinite(eu)}}tw.create=eu=>new tw({checks:[],typeName:eE.ZodNumber,coerce:(null==eu?void 0:eu.coerce)||!1,...eX(eu)});class t_ extends eQ{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(eu){let ed;this._def.coerce&&(eu.data=BigInt(eu.data));let eg=this._getType(eu);if(eg!==eM.bigint){let ed=this._getOrReturnCtx(eu);return ej(ed,{code:eT.invalid_type,expected:eM.bigint,received:ed.parsedType}),e$}let em=new eF;for(let eg of this._def.checks)if("min"===eg.kind){let eb=eg.inclusive?eu.data<eg.value:eu.data<=eg.value;eb&&(ej(ed=this._getOrReturnCtx(eu,ed),{code:eT.too_small,type:"bigint",minimum:eg.value,inclusive:eg.inclusive,message:eg.message}),em.dirty())}else if("max"===eg.kind){let eb=eg.inclusive?eu.data>eg.value:eu.data>=eg.value;eb&&(ej(ed=this._getOrReturnCtx(eu,ed),{code:eT.too_big,type:"bigint",maximum:eg.value,inclusive:eg.inclusive,message:eg.message}),em.dirty())}else"multipleOf"===eg.kind?eu.data%eg.value!==BigInt(0)&&(ej(ed=this._getOrReturnCtx(eu,ed),{code:eT.not_multiple_of,multipleOf:eg.value,message:eg.message}),em.dirty()):eb.assertNever(eg);return{status:em.value,value:eu.data}}gte(eu,ed){return this.setLimit("min",eu,!0,e_.toString(ed))}gt(eu,ed){return this.setLimit("min",eu,!1,e_.toString(ed))}lte(eu,ed){return this.setLimit("max",eu,!0,e_.toString(ed))}lt(eu,ed){return this.setLimit("max",eu,!1,e_.toString(ed))}setLimit(eu,ed,eg,em){return new t_({...this._def,checks:[...this._def.checks,{kind:eu,value:ed,inclusive:eg,message:e_.toString(em)}]})}_addCheck(eu){return new t_({...this._def,checks:[...this._def.checks,eu]})}positive(eu){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:e_.toString(eu)})}negative(eu){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:e_.toString(eu)})}nonpositive(eu){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:e_.toString(eu)})}nonnegative(eu){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:e_.toString(eu)})}multipleOf(eu,ed){return this._addCheck({kind:"multipleOf",value:eu,message:e_.toString(ed)})}get minValue(){let eu=null;for(let ed of this._def.checks)"min"===ed.kind&&(null===eu||ed.value>eu)&&(eu=ed.value);return eu}get maxValue(){let eu=null;for(let ed of this._def.checks)"max"===ed.kind&&(null===eu||ed.value<eu)&&(eu=ed.value);return eu}}t_.create=eu=>{var ed;return new t_({checks:[],typeName:eE.ZodBigInt,coerce:null!==(ed=null==eu?void 0:eu.coerce)&&void 0!==ed&&ed,...eX(eu)})};class tE extends eQ{_parse(eu){this._def.coerce&&(eu.data=!!eu.data);let ed=this._getType(eu);if(ed!==eM.boolean){let ed=this._getOrReturnCtx(eu);return ej(ed,{code:eT.invalid_type,expected:eM.boolean,received:ed.parsedType}),e$}return eH(eu.data)}}tE.create=eu=>new tE({typeName:eE.ZodBoolean,coerce:(null==eu?void 0:eu.coerce)||!1,...eX(eu)});class tA extends eQ{_parse(eu){let ed;this._def.coerce&&(eu.data=new Date(eu.data));let eg=this._getType(eu);if(eg!==eM.date){let ed=this._getOrReturnCtx(eu);return ej(ed,{code:eT.invalid_type,expected:eM.date,received:ed.parsedType}),e$}if(isNaN(eu.data.getTime())){let ed=this._getOrReturnCtx(eu);return ej(ed,{code:eT.invalid_date}),e$}let em=new eF;for(let eg of this._def.checks)"min"===eg.kind?eu.data.getTime()<eg.value&&(ej(ed=this._getOrReturnCtx(eu,ed),{code:eT.too_small,message:eg.message,inclusive:!0,exact:!1,minimum:eg.value,type:"date"}),em.dirty()):"max"===eg.kind?eu.data.getTime()>eg.value&&(ej(ed=this._getOrReturnCtx(eu,ed),{code:eT.too_big,message:eg.message,inclusive:!0,exact:!1,maximum:eg.value,type:"date"}),em.dirty()):eb.assertNever(eg);return{status:em.value,value:new Date(eu.data.getTime())}}_addCheck(eu){return new tA({...this._def,checks:[...this._def.checks,eu]})}min(eu,ed){return this._addCheck({kind:"min",value:eu.getTime(),message:e_.toString(ed)})}max(eu,ed){return this._addCheck({kind:"max",value:eu.getTime(),message:e_.toString(ed)})}get minDate(){let eu=null;for(let ed of this._def.checks)"min"===ed.kind&&(null===eu||ed.value>eu)&&(eu=ed.value);return null!=eu?new Date(eu):null}get maxDate(){let eu=null;for(let ed of this._def.checks)"max"===ed.kind&&(null===eu||ed.value<eu)&&(eu=ed.value);return null!=eu?new Date(eu):null}}tA.create=eu=>new tA({checks:[],coerce:(null==eu?void 0:eu.coerce)||!1,typeName:eE.ZodDate,...eX(eu)});class tS extends eQ{_parse(eu){let ed=this._getType(eu);if(ed!==eM.symbol){let ed=this._getOrReturnCtx(eu);return ej(ed,{code:eT.invalid_type,expected:eM.symbol,received:ed.parsedType}),e$}return eH(eu.data)}}tS.create=eu=>new tS({typeName:eE.ZodSymbol,...eX(eu)});class tI extends eQ{_parse(eu){let ed=this._getType(eu);if(ed!==eM.undefined){let ed=this._getOrReturnCtx(eu);return ej(ed,{code:eT.invalid_type,expected:eM.undefined,received:ed.parsedType}),e$}return eH(eu.data)}}tI.create=eu=>new tI({typeName:eE.ZodUndefined,...eX(eu)});class tC extends eQ{_parse(eu){let ed=this._getType(eu);if(ed!==eM.null){let ed=this._getOrReturnCtx(eu);return ej(ed,{code:eT.invalid_type,expected:eM.null,received:ed.parsedType}),e$}return eH(eu.data)}}tC.create=eu=>new tC({typeName:eE.ZodNull,...eX(eu)});class tO extends eQ{constructor(){super(...arguments),this._any=!0}_parse(eu){return eH(eu.data)}}tO.create=eu=>new tO({typeName:eE.ZodAny,...eX(eu)});class tT extends eQ{constructor(){super(...arguments),this._unknown=!0}_parse(eu){return eH(eu.data)}}tT.create=eu=>new tT({typeName:eE.ZodUnknown,...eX(eu)});class tP extends eQ{_parse(eu){let ed=this._getOrReturnCtx(eu);return ej(ed,{code:eT.invalid_type,expected:eM.never,received:ed.parsedType}),e$}}tP.create=eu=>new tP({typeName:eE.ZodNever,...eX(eu)});class tN extends eQ{_parse(eu){let ed=this._getType(eu);if(ed!==eM.undefined){let ed=this._getOrReturnCtx(eu);return ej(ed,{code:eT.invalid_type,expected:eM.void,received:ed.parsedType}),e$}return eH(eu.data)}}tN.create=eu=>new tN({typeName:eE.ZodVoid,...eX(eu)});class tR extends eQ{_parse(eu){let{ctx:ed,status:eg}=this._processInputParams(eu),em=this._def;if(ed.parsedType!==eM.array)return ej(ed,{code:eT.invalid_type,expected:eM.array,received:ed.parsedType}),e$;if(null!==em.exactLength){let eu=ed.data.length>em.exactLength.value,eb=ed.data.length<em.exactLength.value;(eu||eb)&&(ej(ed,{code:eu?eT.too_big:eT.too_small,minimum:eb?em.exactLength.value:void 0,maximum:eu?em.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:em.exactLength.message}),eg.dirty())}if(null!==em.minLength&&ed.data.length<em.minLength.value&&(ej(ed,{code:eT.too_small,minimum:em.minLength.value,type:"array",inclusive:!0,exact:!1,message:em.minLength.message}),eg.dirty()),null!==em.maxLength&&ed.data.length>em.maxLength.value&&(ej(ed,{code:eT.too_big,maximum:em.maxLength.value,type:"array",inclusive:!0,exact:!1,message:em.maxLength.message}),eg.dirty()),ed.common.async)return Promise.all([...ed.data].map((eu,eg)=>em.type._parseAsync(new eZ(ed,eu,ed.path,eg)))).then(eu=>eF.mergeArray(eg,eu));let eb=[...ed.data].map((eu,eg)=>em.type._parseSync(new eZ(ed,eu,ed.path,eg)));return eF.mergeArray(eg,eb)}get element(){return this._def.type}min(eu,ed){return new tR({...this._def,minLength:{value:eu,message:e_.toString(ed)}})}max(eu,ed){return new tR({...this._def,maxLength:{value:eu,message:e_.toString(ed)}})}length(eu,ed){return new tR({...this._def,exactLength:{value:eu,message:e_.toString(ed)}})}nonempty(eu){return this.min(1,eu)}}function tD(eu){if(eu instanceof tB){let ed={};for(let eg in eu.shape){let em=eu.shape[eg];ed[eg]=t6.create(tD(em))}return new tB({...eu._def,shape:()=>ed})}return eu instanceof tR?new tR({...eu._def,type:tD(eu.element)}):eu instanceof t6?t6.create(tD(eu.unwrap())):eu instanceof t8?t8.create(tD(eu.unwrap())):eu instanceof tK?tK.create(eu.items.map(eu=>tD(eu))):eu}tR.create=(eu,ed)=>new tR({type:eu,minLength:null,maxLength:null,exactLength:null,typeName:eE.ZodArray,...eX(ed)});class tB extends eQ{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let eu=this._def.shape(),ed=eb.objectKeys(eu);return this._cached={shape:eu,keys:ed}}_parse(eu){let ed=this._getType(eu);if(ed!==eM.object){let ed=this._getOrReturnCtx(eu);return ej(ed,{code:eT.invalid_type,expected:eM.object,received:ed.parsedType}),e$}let{status:eg,ctx:em}=this._processInputParams(eu),{shape:eb,keys:ew}=this._getCached(),e_=[];if(!(this._def.catchall instanceof tP&&"strip"===this._def.unknownKeys))for(let eu in em.data)ew.includes(eu)||e_.push(eu);let eE=[];for(let eu of ew){let ed=eb[eu],eg=em.data[eu];eE.push({key:{status:"valid",value:eu},value:ed._parse(new eZ(em,eg,em.path,eu)),alwaysSet:eu in em.data})}if(this._def.catchall instanceof tP){let eu=this._def.unknownKeys;if("passthrough"===eu)for(let eu of e_)eE.push({key:{status:"valid",value:eu},value:{status:"valid",value:em.data[eu]}});else if("strict"===eu)e_.length>0&&(ej(em,{code:eT.unrecognized_keys,keys:e_}),eg.dirty());else if("strip"===eu);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let eu=this._def.catchall;for(let ed of e_){let eg=em.data[ed];eE.push({key:{status:"valid",value:ed},value:eu._parse(new eZ(em,eg,em.path,ed)),alwaysSet:ed in em.data})}}return em.common.async?Promise.resolve().then(async()=>{let eu=[];for(let ed of eE){let eg=await ed.key;eu.push({key:eg,value:await ed.value,alwaysSet:ed.alwaysSet})}return eu}).then(eu=>eF.mergeObjectSync(eg,eu)):eF.mergeObjectSync(eg,eE)}get shape(){return this._def.shape()}strict(eu){return e_.errToObj,new tB({...this._def,unknownKeys:"strict",...void 0!==eu?{errorMap:(ed,eg)=>{var em,eb,ew,eE;let eA=null!==(ew=null===(eb=(em=this._def).errorMap)||void 0===eb?void 0:eb.call(em,ed,eg).message)&&void 0!==ew?ew:eg.defaultError;return"unrecognized_keys"===ed.code?{message:null!==(eE=e_.errToObj(eu).message)&&void 0!==eE?eE:eA}:{message:eA}}}:{}})}strip(){return new tB({...this._def,unknownKeys:"strip"})}passthrough(){return new tB({...this._def,unknownKeys:"passthrough"})}extend(eu){return new tB({...this._def,shape:()=>({...this._def.shape(),...eu})})}merge(eu){let ed=new tB({unknownKeys:eu._def.unknownKeys,catchall:eu._def.catchall,shape:()=>({...this._def.shape(),...eu._def.shape()}),typeName:eE.ZodObject});return ed}setKey(eu,ed){return this.augment({[eu]:ed})}catchall(eu){return new tB({...this._def,catchall:eu})}pick(eu){let ed={};return eb.objectKeys(eu).forEach(eg=>{eu[eg]&&this.shape[eg]&&(ed[eg]=this.shape[eg])}),new tB({...this._def,shape:()=>ed})}omit(eu){let ed={};return eb.objectKeys(this.shape).forEach(eg=>{eu[eg]||(ed[eg]=this.shape[eg])}),new tB({...this._def,shape:()=>ed})}deepPartial(){return tD(this)}partial(eu){let ed={};return eb.objectKeys(this.shape).forEach(eg=>{let em=this.shape[eg];eu&&!eu[eg]?ed[eg]=em:ed[eg]=em.optional()}),new tB({...this._def,shape:()=>ed})}required(eu){let ed={};return eb.objectKeys(this.shape).forEach(eg=>{if(eu&&!eu[eg])ed[eg]=this.shape[eg];else{let eu=this.shape[eg],em=eu;for(;em instanceof t6;)em=em._def.innerType;ed[eg]=em}}),new tB({...this._def,shape:()=>ed})}keyof(){return tJ(eb.objectKeys(this.shape))}}tB.create=(eu,ed)=>new tB({shape:()=>eu,unknownKeys:"strip",catchall:tP.create(),typeName:eE.ZodObject,...eX(ed)}),tB.strictCreate=(eu,ed)=>new tB({shape:()=>eu,unknownKeys:"strict",catchall:tP.create(),typeName:eE.ZodObject,...eX(ed)}),tB.lazycreate=(eu,ed)=>new tB({shape:eu,unknownKeys:"strip",catchall:tP.create(),typeName:eE.ZodObject,...eX(ed)});class tU extends eQ{_parse(eu){let{ctx:ed}=this._processInputParams(eu),eg=this._def.options;function em(eu){for(let ed of eu)if("valid"===ed.result.status)return ed.result;for(let eg of eu)if("dirty"===eg.result.status)return ed.common.issues.push(...eg.ctx.common.issues),eg.result;let eg=eu.map(eu=>new eN(eu.ctx.common.issues));return ej(ed,{code:eT.invalid_union,unionErrors:eg}),e$}if(ed.common.async)return Promise.all(eg.map(async eu=>{let eg={...ed,common:{...ed.common,issues:[]},parent:null};return{result:await eu._parseAsync({data:ed.data,path:ed.path,parent:eg}),ctx:eg}})).then(em);{let eu;let em=[];for(let eb of eg){let eg={...ed,common:{...ed.common,issues:[]},parent:null},ew=eb._parseSync({data:ed.data,path:ed.path,parent:eg});if("valid"===ew.status)return ew;"dirty"!==ew.status||eu||(eu={result:ew,ctx:eg}),eg.common.issues.length&&em.push(eg.common.issues)}if(eu)return ed.common.issues.push(...eu.ctx.common.issues),eu.result;let eb=em.map(eu=>new eN(eu));return ej(ed,{code:eT.invalid_union,unionErrors:eb}),e$}}get options(){return this._def.options}}tU.create=(eu,ed)=>new tU({options:eu,typeName:eE.ZodUnion,...eX(ed)});let tL=eu=>{if(eu instanceof tG)return tL(eu.schema);if(eu instanceof tQ)return tL(eu.innerType());if(eu instanceof tW)return[eu.value];if(eu instanceof tZ)return eu.options;if(eu instanceof tY)return Object.keys(eu.enum);if(eu instanceof t5)return tL(eu._def.innerType);if(eu instanceof tI)return[void 0];else if(eu instanceof tC)return[null];else return null};class tj extends eQ{_parse(eu){let{ctx:ed}=this._processInputParams(eu);if(ed.parsedType!==eM.object)return ej(ed,{code:eT.invalid_type,expected:eM.object,received:ed.parsedType}),e$;let eg=this.discriminator,em=ed.data[eg],eb=this.optionsMap.get(em);return eb?ed.common.async?eb._parseAsync({data:ed.data,path:ed.path,parent:ed}):eb._parseSync({data:ed.data,path:ed.path,parent:ed}):(ej(ed,{code:eT.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[eg]}),e$)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(eu,ed,eg){let em=new Map;for(let eg of ed){let ed=tL(eg.shape[eu]);if(!ed)throw Error(`A discriminator value for key \`${eu}\` could not be extracted from all schema options`);for(let eb of ed){if(em.has(eb))throw Error(`Discriminator property ${String(eu)} has duplicate value ${String(eb)}`);em.set(eb,eg)}}return new tj({typeName:eE.ZodDiscriminatedUnion,discriminator:eu,options:ed,optionsMap:em,...eX(eg)})}}function tF(eu,ed){let eg=eO(eu),em=eO(ed);if(eu===ed)return{valid:!0,data:eu};if(eg===eM.object&&em===eM.object){let eg=eb.objectKeys(ed),em=eb.objectKeys(eu).filter(eu=>-1!==eg.indexOf(eu)),ew={...eu,...ed};for(let eg of em){let em=tF(eu[eg],ed[eg]);if(!em.valid)return{valid:!1};ew[eg]=em.data}return{valid:!0,data:ew}}if(eg===eM.array&&em===eM.array){if(eu.length!==ed.length)return{valid:!1};let eg=[];for(let em=0;em<eu.length;em++){let eb=eu[em],ew=ed[em],e_=tF(eb,ew);if(!e_.valid)return{valid:!1};eg.push(e_.data)}return{valid:!0,data:eg}}return eg===eM.date&&em===eM.date&&+eu==+ed?{valid:!0,data:eu}:{valid:!1}}class t$ extends eQ{_parse(eu){let{status:ed,ctx:eg}=this._processInputParams(eu),em=(eu,em)=>{if(eV(eu)||eV(em))return e$;let eb=tF(eu.value,em.value);return eb.valid?((eG(eu)||eG(em))&&ed.dirty(),{status:ed.value,value:eb.data}):(ej(eg,{code:eT.invalid_intersection_types}),e$)};return eg.common.async?Promise.all([this._def.left._parseAsync({data:eg.data,path:eg.path,parent:eg}),this._def.right._parseAsync({data:eg.data,path:eg.path,parent:eg})]).then(([eu,ed])=>em(eu,ed)):em(this._def.left._parseSync({data:eg.data,path:eg.path,parent:eg}),this._def.right._parseSync({data:eg.data,path:eg.path,parent:eg}))}}t$.create=(eu,ed,eg)=>new t$({left:eu,right:ed,typeName:eE.ZodIntersection,...eX(eg)});class tK extends eQ{_parse(eu){let{status:ed,ctx:eg}=this._processInputParams(eu);if(eg.parsedType!==eM.array)return ej(eg,{code:eT.invalid_type,expected:eM.array,received:eg.parsedType}),e$;if(eg.data.length<this._def.items.length)return ej(eg,{code:eT.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),e$;let em=this._def.rest;!em&&eg.data.length>this._def.items.length&&(ej(eg,{code:eT.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ed.dirty());let eb=[...eg.data].map((eu,ed)=>{let em=this._def.items[ed]||this._def.rest;return em?em._parse(new eZ(eg,eu,eg.path,ed)):null}).filter(eu=>!!eu);return eg.common.async?Promise.all(eb).then(eu=>eF.mergeArray(ed,eu)):eF.mergeArray(ed,eb)}get items(){return this._def.items}rest(eu){return new tK({...this._def,rest:eu})}}tK.create=(eu,ed)=>{if(!Array.isArray(eu))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new tK({items:eu,typeName:eE.ZodTuple,rest:null,...eX(ed)})};class tq extends eQ{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(eu){let{status:ed,ctx:eg}=this._processInputParams(eu);if(eg.parsedType!==eM.object)return ej(eg,{code:eT.invalid_type,expected:eM.object,received:eg.parsedType}),e$;let em=[],eb=this._def.keyType,ew=this._def.valueType;for(let eu in eg.data)em.push({key:eb._parse(new eZ(eg,eu,eg.path,eu)),value:ew._parse(new eZ(eg,eg.data[eu],eg.path,eu))});return eg.common.async?eF.mergeObjectAsync(ed,em):eF.mergeObjectSync(ed,em)}get element(){return this._def.valueType}static create(eu,ed,eg){return new tq(ed instanceof eQ?{keyType:eu,valueType:ed,typeName:eE.ZodRecord,...eX(eg)}:{keyType:ty.create(),valueType:eu,typeName:eE.ZodRecord,...eX(ed)})}}class tz extends eQ{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(eu){let{status:ed,ctx:eg}=this._processInputParams(eu);if(eg.parsedType!==eM.map)return ej(eg,{code:eT.invalid_type,expected:eM.map,received:eg.parsedType}),e$;let em=this._def.keyType,eb=this._def.valueType,ew=[...eg.data.entries()].map(([eu,ed],ew)=>({key:em._parse(new eZ(eg,eu,eg.path,[ew,"key"])),value:eb._parse(new eZ(eg,ed,eg.path,[ew,"value"]))}));if(eg.common.async){let eu=new Map;return Promise.resolve().then(async()=>{for(let eg of ew){let em=await eg.key,eb=await eg.value;if("aborted"===em.status||"aborted"===eb.status)return e$;("dirty"===em.status||"dirty"===eb.status)&&ed.dirty(),eu.set(em.value,eb.value)}return{status:ed.value,value:eu}})}{let eu=new Map;for(let eg of ew){let em=eg.key,eb=eg.value;if("aborted"===em.status||"aborted"===eb.status)return e$;("dirty"===em.status||"dirty"===eb.status)&&ed.dirty(),eu.set(em.value,eb.value)}return{status:ed.value,value:eu}}}}tz.create=(eu,ed,eg)=>new tz({valueType:ed,keyType:eu,typeName:eE.ZodMap,...eX(eg)});class tH extends eQ{_parse(eu){let{status:ed,ctx:eg}=this._processInputParams(eu);if(eg.parsedType!==eM.set)return ej(eg,{code:eT.invalid_type,expected:eM.set,received:eg.parsedType}),e$;let em=this._def;null!==em.minSize&&eg.data.size<em.minSize.value&&(ej(eg,{code:eT.too_small,minimum:em.minSize.value,type:"set",inclusive:!0,exact:!1,message:em.minSize.message}),ed.dirty()),null!==em.maxSize&&eg.data.size>em.maxSize.value&&(ej(eg,{code:eT.too_big,maximum:em.maxSize.value,type:"set",inclusive:!0,exact:!1,message:em.maxSize.message}),ed.dirty());let eb=this._def.valueType;function ew(eu){let eg=new Set;for(let em of eu){if("aborted"===em.status)return e$;"dirty"===em.status&&ed.dirty(),eg.add(em.value)}return{status:ed.value,value:eg}}let e_=[...eg.data.values()].map((eu,ed)=>eb._parse(new eZ(eg,eu,eg.path,ed)));return eg.common.async?Promise.all(e_).then(eu=>ew(eu)):ew(e_)}min(eu,ed){return new tH({...this._def,minSize:{value:eu,message:e_.toString(ed)}})}max(eu,ed){return new tH({...this._def,maxSize:{value:eu,message:e_.toString(ed)}})}size(eu,ed){return this.min(eu,ed).max(eu,ed)}nonempty(eu){return this.min(1,eu)}}tH.create=(eu,ed)=>new tH({valueType:eu,minSize:null,maxSize:null,typeName:eE.ZodSet,...eX(ed)});class tV extends eQ{constructor(){super(...arguments),this.validate=this.implement}_parse(eu){let{ctx:ed}=this._processInputParams(eu);if(ed.parsedType!==eM.function)return ej(ed,{code:eT.invalid_type,expected:eM.function,received:ed.parsedType}),e$;function eg(eu,eg){return eU({data:eu,path:ed.path,errorMaps:[ed.common.contextualErrorMap,ed.schemaErrorMap,eB(),ek].filter(eu=>!!eu),issueData:{code:eT.invalid_arguments,argumentsError:eg}})}function em(eu,eg){return eU({data:eu,path:ed.path,errorMaps:[ed.common.contextualErrorMap,ed.schemaErrorMap,eB(),ek].filter(eu=>!!eu),issueData:{code:eT.invalid_return_type,returnTypeError:eg}})}let eb={errorMap:ed.common.contextualErrorMap},ew=ed.data;if(this._def.returns instanceof tX){let eu=this;return eH(async function(...ed){let e_=new eN([]),eE=await eu._def.args.parseAsync(ed,eb).catch(eu=>{throw e_.addIssue(eg(ed,eu)),e_}),eA=await Reflect.apply(ew,this,eE),eS=await eu._def.returns._def.type.parseAsync(eA,eb).catch(eu=>{throw e_.addIssue(em(eA,eu)),e_});return eS})}{let eu=this;return eH(function(...ed){let e_=eu._def.args.safeParse(ed,eb);if(!e_.success)throw new eN([eg(ed,e_.error)]);let eE=Reflect.apply(ew,this,e_.data),eA=eu._def.returns.safeParse(eE,eb);if(!eA.success)throw new eN([em(eE,eA.error)]);return eA.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...eu){return new tV({...this._def,args:tK.create(eu).rest(tT.create())})}returns(eu){return new tV({...this._def,returns:eu})}implement(eu){let ed=this.parse(eu);return ed}strictImplement(eu){let ed=this.parse(eu);return ed}static create(eu,ed,eg){return new tV({args:eu||tK.create([]).rest(tT.create()),returns:ed||tT.create(),typeName:eE.ZodFunction,...eX(eg)})}}class tG extends eQ{get schema(){return this._def.getter()}_parse(eu){let{ctx:ed}=this._processInputParams(eu),eg=this._def.getter();return eg._parse({data:ed.data,path:ed.path,parent:ed})}}tG.create=(eu,ed)=>new tG({getter:eu,typeName:eE.ZodLazy,...eX(ed)});class tW extends eQ{_parse(eu){if(eu.data!==this._def.value){let ed=this._getOrReturnCtx(eu);return ej(ed,{received:ed.data,code:eT.invalid_literal,expected:this._def.value}),e$}return{status:"valid",value:eu.data}}get value(){return this._def.value}}function tJ(eu,ed){return new tZ({values:eu,typeName:eE.ZodEnum,...eX(ed)})}tW.create=(eu,ed)=>new tW({value:eu,typeName:eE.ZodLiteral,...eX(ed)});class tZ extends eQ{_parse(eu){if("string"!=typeof eu.data){let ed=this._getOrReturnCtx(eu),eg=this._def.values;return ej(ed,{expected:eb.joinValues(eg),received:ed.parsedType,code:eT.invalid_type}),e$}if(-1===this._def.values.indexOf(eu.data)){let ed=this._getOrReturnCtx(eu),eg=this._def.values;return ej(ed,{received:ed.data,code:eT.invalid_enum_value,options:eg}),e$}return eH(eu.data)}get options(){return this._def.values}get enum(){let eu={};for(let ed of this._def.values)eu[ed]=ed;return eu}get Values(){let eu={};for(let ed of this._def.values)eu[ed]=ed;return eu}get Enum(){let eu={};for(let ed of this._def.values)eu[ed]=ed;return eu}extract(eu){return tZ.create(eu)}exclude(eu){return tZ.create(this.options.filter(ed=>!eu.includes(ed)))}}tZ.create=tJ;class tY extends eQ{_parse(eu){let ed=eb.getValidEnumValues(this._def.values),eg=this._getOrReturnCtx(eu);if(eg.parsedType!==eM.string&&eg.parsedType!==eM.number){let eu=eb.objectValues(ed);return ej(eg,{expected:eb.joinValues(eu),received:eg.parsedType,code:eT.invalid_type}),e$}if(-1===ed.indexOf(eu.data)){let eu=eb.objectValues(ed);return ej(eg,{received:eg.data,code:eT.invalid_enum_value,options:eu}),e$}return eH(eu.data)}get enum(){return this._def.values}}tY.create=(eu,ed)=>new tY({values:eu,typeName:eE.ZodNativeEnum,...eX(ed)});class tX extends eQ{unwrap(){return this._def.type}_parse(eu){let{ctx:ed}=this._processInputParams(eu);if(ed.parsedType!==eM.promise&&!1===ed.common.async)return ej(ed,{code:eT.invalid_type,expected:eM.promise,received:ed.parsedType}),e$;let eg=ed.parsedType===eM.promise?ed.data:Promise.resolve(ed.data);return eH(eg.then(eu=>this._def.type.parseAsync(eu,{path:ed.path,errorMap:ed.common.contextualErrorMap})))}}tX.create=(eu,ed)=>new tX({type:eu,typeName:eE.ZodPromise,...eX(ed)});class tQ extends eQ{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===eE.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(eu){let{status:ed,ctx:eg}=this._processInputParams(eu),em=this._def.effect||null,ew={addIssue:eu=>{ej(eg,eu),eu.fatal?ed.abort():ed.dirty()},get path(){return eg.path}};if(ew.addIssue=ew.addIssue.bind(ew),"preprocess"===em.type){let eu=em.transform(eg.data,ew);return eg.common.issues.length?{status:"dirty",value:eg.data}:eg.common.async?Promise.resolve(eu).then(eu=>this._def.schema._parseAsync({data:eu,path:eg.path,parent:eg})):this._def.schema._parseSync({data:eu,path:eg.path,parent:eg})}if("refinement"===em.type){let eu=eu=>{let ed=em.refinement(eu,ew);if(eg.common.async)return Promise.resolve(ed);if(ed instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return eu};if(!1!==eg.common.async)return this._def.schema._parseAsync({data:eg.data,path:eg.path,parent:eg}).then(eg=>"aborted"===eg.status?e$:("dirty"===eg.status&&ed.dirty(),eu(eg.value).then(()=>({status:ed.value,value:eg.value}))));{let em=this._def.schema._parseSync({data:eg.data,path:eg.path,parent:eg});return"aborted"===em.status?e$:("dirty"===em.status&&ed.dirty(),eu(em.value),{status:ed.value,value:em.value})}}if("transform"===em.type){if(!1!==eg.common.async)return this._def.schema._parseAsync({data:eg.data,path:eg.path,parent:eg}).then(eu=>eW(eu)?Promise.resolve(em.transform(eu.value,ew)).then(eu=>({status:ed.value,value:eu})):eu);{let eu=this._def.schema._parseSync({data:eg.data,path:eg.path,parent:eg});if(!eW(eu))return eu;let eb=em.transform(eu.value,ew);if(eb instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:ed.value,value:eb}}}eb.assertNever(em)}}tQ.create=(eu,ed,eg)=>new tQ({schema:eu,typeName:eE.ZodEffects,effect:ed,...eX(eg)}),tQ.createWithPreprocess=(eu,ed,eg)=>new tQ({schema:ed,effect:{type:"preprocess",transform:eu},typeName:eE.ZodEffects,...eX(eg)});class t6 extends eQ{_parse(eu){let ed=this._getType(eu);return ed===eM.undefined?eH(void 0):this._def.innerType._parse(eu)}unwrap(){return this._def.innerType}}t6.create=(eu,ed)=>new t6({innerType:eu,typeName:eE.ZodOptional,...eX(ed)});class t8 extends eQ{_parse(eu){let ed=this._getType(eu);return ed===eM.null?eH(null):this._def.innerType._parse(eu)}unwrap(){return this._def.innerType}}t8.create=(eu,ed)=>new t8({innerType:eu,typeName:eE.ZodNullable,...eX(ed)});class t5 extends eQ{_parse(eu){let{ctx:ed}=this._processInputParams(eu),eg=ed.data;return ed.parsedType===eM.undefined&&(eg=this._def.defaultValue()),this._def.innerType._parse({data:eg,path:ed.path,parent:ed})}removeDefault(){return this._def.innerType}}t5.create=(eu,ed)=>new t5({innerType:eu,typeName:eE.ZodDefault,defaultValue:"function"==typeof ed.default?ed.default:()=>ed.default,...eX(ed)});class t4 extends eQ{_parse(eu){let{ctx:ed}=this._processInputParams(eu),eg={...ed,common:{...ed.common,issues:[]}},em=this._def.innerType._parse({data:eg.data,path:eg.path,parent:{...eg}});return eJ(em)?em.then(eu=>({status:"valid",value:"valid"===eu.status?eu.value:this._def.catchValue({get error(){return new eN(eg.common.issues)},input:eg.data})})):{status:"valid",value:"valid"===em.status?em.value:this._def.catchValue({get error(){return new eN(eg.common.issues)},input:eg.data})}}removeCatch(){return this._def.innerType}}t4.create=(eu,ed)=>new t4({innerType:eu,typeName:eE.ZodCatch,catchValue:"function"==typeof ed.catch?ed.catch:()=>ed.catch,...eX(ed)});class t9 extends eQ{_parse(eu){let ed=this._getType(eu);if(ed!==eM.nan){let ed=this._getOrReturnCtx(eu);return ej(ed,{code:eT.invalid_type,expected:eM.nan,received:ed.parsedType}),e$}return{status:"valid",value:eu.data}}}t9.create=eu=>new t9({typeName:eE.ZodNaN,...eX(eu)});let t7=Symbol("zod_brand");class ru extends eQ{_parse(eu){let{ctx:ed}=this._processInputParams(eu),eg=ed.data;return this._def.type._parse({data:eg,path:ed.path,parent:ed})}unwrap(){return this._def.type}}class rd extends eQ{_parse(eu){let{status:ed,ctx:eg}=this._processInputParams(eu);if(eg.common.async){let eu=async()=>{let eu=await this._def.in._parseAsync({data:eg.data,path:eg.path,parent:eg});return"aborted"===eu.status?e$:"dirty"===eu.status?(ed.dirty(),eK(eu.value)):this._def.out._parseAsync({data:eu.value,path:eg.path,parent:eg})};return eu()}{let eu=this._def.in._parseSync({data:eg.data,path:eg.path,parent:eg});return"aborted"===eu.status?e$:"dirty"===eu.status?(ed.dirty(),{status:"dirty",value:eu.value}):this._def.out._parseSync({data:eu.value,path:eg.path,parent:eg})}}static create(eu,ed){return new rd({in:eu,out:ed,typeName:eE.ZodPipeline})}}class rp extends eQ{_parse(eu){let ed=this._def.innerType._parse(eu);return eW(ed)&&(ed.value=Object.freeze(ed.value)),ed}}rp.create=(eu,ed)=>new rp({innerType:eu,typeName:eE.ZodReadonly,...eX(ed)});let rg=(eu,ed={},eg)=>eu?tO.create().superRefine((em,eb)=>{var ew,e_;if(!eu(em)){let eu="function"==typeof ed?ed(em):"string"==typeof ed?{message:ed}:ed,eE=null===(e_=null!==(ew=eu.fatal)&&void 0!==ew?ew:eg)||void 0===e_||e_,eA="string"==typeof eu?{message:eu}:eu;eb.addIssue({code:"custom",...eA,fatal:eE})}}):tO.create(),ry={object:tB.lazycreate};!function(eu){eu.ZodString="ZodString",eu.ZodNumber="ZodNumber",eu.ZodNaN="ZodNaN",eu.ZodBigInt="ZodBigInt",eu.ZodBoolean="ZodBoolean",eu.ZodDate="ZodDate",eu.ZodSymbol="ZodSymbol",eu.ZodUndefined="ZodUndefined",eu.ZodNull="ZodNull",eu.ZodAny="ZodAny",eu.ZodUnknown="ZodUnknown",eu.ZodNever="ZodNever",eu.ZodVoid="ZodVoid",eu.ZodArray="ZodArray",eu.ZodObject="ZodObject",eu.ZodUnion="ZodUnion",eu.ZodDiscriminatedUnion="ZodDiscriminatedUnion",eu.ZodIntersection="ZodIntersection",eu.ZodTuple="ZodTuple",eu.ZodRecord="ZodRecord",eu.ZodMap="ZodMap",eu.ZodSet="ZodSet",eu.ZodFunction="ZodFunction",eu.ZodLazy="ZodLazy",eu.ZodLiteral="ZodLiteral",eu.ZodEnum="ZodEnum",eu.ZodEffects="ZodEffects",eu.ZodNativeEnum="ZodNativeEnum",eu.ZodOptional="ZodOptional",eu.ZodNullable="ZodNullable",eu.ZodDefault="ZodDefault",eu.ZodCatch="ZodCatch",eu.ZodPromise="ZodPromise",eu.ZodBranded="ZodBranded",eu.ZodPipeline="ZodPipeline",eu.ZodReadonly="ZodReadonly"}(eE||(eE={}));let rw=(eu,ed={message:`Input not instance of ${eu.name}`})=>rg(ed=>ed instanceof eu,ed),r_=ty.create,rE=tw.create,rA=t9.create,rS=t_.create,rI=tE.create,rC=tA.create,rM=tS.create,rO=tI.create,rT=tC.create,rP=tO.create,rN=tT.create,rR=tP.create,rD=tN.create,rB=tR.create,rU=tB.create,rL=tB.strictCreate,rj=tU.create,rF=tj.create,r$=t$.create,rK=tK.create,rq=tq.create,rz=tz.create,rH=tH.create,rV=tV.create,rG=tG.create,rW=tW.create,rJ=tZ.create,rZ=tY.create,rY=tX.create,rX=tQ.create,rQ=t6.create,r6=t8.create,r3=tQ.createWithPreprocess,r8=rd.create,r5=()=>r_().optional(),r4=()=>rE().optional(),r9=()=>rI().optional(),r7={string:eu=>ty.create({...eu,coerce:!0}),number:eu=>tw.create({...eu,coerce:!0}),boolean:eu=>tE.create({...eu,coerce:!0}),bigint:eu=>t_.create({...eu,coerce:!0}),date:eu=>tA.create({...eu,coerce:!0})},nu=e$;var nh=Object.freeze({__proto__:null,defaultErrorMap:ek,setErrorMap:eD,getErrorMap:eB,makeIssue:eU,EMPTY_PATH:eL,addIssueToContext:ej,ParseStatus:eF,INVALID:e$,DIRTY:eK,OK:eH,isAborted:eV,isDirty:eG,isValid:eW,isAsync:eJ,get util(){return eb},get objectUtil(){return ew},ZodParsedType:eM,getParsedType:eO,ZodType:eQ,ZodString:ty,ZodNumber:tw,ZodBigInt:t_,ZodBoolean:tE,ZodDate:tA,ZodSymbol:tS,ZodUndefined:tI,ZodNull:tC,ZodAny:tO,ZodUnknown:tT,ZodNever:tP,ZodVoid:tN,ZodArray:tR,ZodObject:tB,ZodUnion:tU,ZodDiscriminatedUnion:tj,ZodIntersection:t$,ZodTuple:tK,ZodRecord:tq,ZodMap:tz,ZodSet:tH,ZodFunction:tV,ZodLazy:tG,ZodLiteral:tW,ZodEnum:tZ,ZodNativeEnum:tY,ZodPromise:tX,ZodEffects:tQ,ZodTransformer:tQ,ZodOptional:t6,ZodNullable:t8,ZodDefault:t5,ZodCatch:t4,ZodNaN:t9,BRAND:t7,ZodBranded:ru,ZodPipeline:rd,ZodReadonly:rp,custom:rg,Schema:eQ,ZodSchema:eQ,late:ry,get ZodFirstPartyTypeKind(){return eE},coerce:r7,any:rP,array:rB,bigint:rS,boolean:rI,date:rC,discriminatedUnion:rF,effect:rX,enum:rJ,function:rV,instanceof:rw,intersection:r$,lazy:rG,literal:rW,map:rz,nan:rA,nativeEnum:rZ,never:rR,null:rT,nullable:r6,number:rE,object:rU,oboolean:r9,onumber:r4,optional:rQ,ostring:r5,pipeline:r8,preprocess:r3,promise:rY,record:rq,set:rH,strictObject:rL,string:r_,symbol:rM,transformer:rX,tuple:rK,undefined:rO,union:rj,unknown:rN,void:rD,NEVER:nu,ZodIssueCode:eT,quotelessJson:eP,ZodError:eN});let nd=nh.object({message:nh.string()});function np(eu){return nh.literal(eI.$0[eu])}let ng=nh.object({serializedMessage:nh.string().optional(),accountAddress:nh.string(),chainId:nh.string(),notBefore:nh.string().optional(),domain:nh.string(),uri:nh.string(),version:nh.string(),nonce:nh.string(),statement:nh.string().optional(),resources:nh.array(nh.string()).optional(),requestId:nh.string().optional(),issuedAt:nh.string().optional(),expirationTime:nh.string().optional()});nh.object({accessList:nh.array(nh.string()),blockHash:nh.string().nullable(),blockNumber:nh.string().nullable(),chainId:nh.string().or(nh.number()),from:nh.string(),gas:nh.string(),hash:nh.string(),input:nh.string().nullable(),maxFeePerGas:nh.string(),maxPriorityFeePerGas:nh.string(),nonce:nh.string(),r:nh.string(),s:nh.string(),to:nh.string(),transactionIndex:nh.string().nullable(),type:nh.string(),v:nh.string(),value:nh.string()});let nm=nh.object({chainId:nh.string().or(nh.number()),rpcUrl:nh.optional(nh.string())}),nw=nh.object({email:nh.string().email()}),n_=nh.object({otp:nh.string()}),nE=nh.object({uri:nh.string(),preferredAccountType:nh.optional(nh.string()),chainId:nh.optional(nh.string().or(nh.number())),siwxMessage:nh.optional(ng),rpcUrl:nh.optional(nh.string())}),nA=nh.object({chainId:nh.optional(nh.string().or(nh.number())),preferredAccountType:nh.optional(nh.string()),socialUri:nh.optional(nh.string()),siwxMessage:nh.optional(ng),rpcUrl:nh.optional(nh.string())}),nS=nh.object({provider:nh.enum(["google","github","apple","facebook","x","discord"])}),nI=nh.object({email:nh.string().email()}),nC=nh.object({otp:nh.string()}),nM=nh.object({otp:nh.string()}),nO=nh.object({themeMode:nh.optional(nh.enum(["light","dark"])),themeVariables:nh.optional(nh.record(nh.string(),nh.string().or(nh.number()))),w3mThemeVariables:nh.optional(nh.record(nh.string(),nh.string()))}),nT=nh.object({metadata:nh.object({name:nh.string(),description:nh.string(),url:nh.string(),icons:nh.array(nh.string())}).optional(),sdkVersion:nh.string().optional(),sdkType:nh.string().optional(),projectId:nh.string()}),nP=nh.object({type:nh.string()}),nN=nh.object({action:nh.enum(["VERIFY_DEVICE","VERIFY_OTP","CONNECT"])}),nk=nh.object({url:nh.string()}),nR=nh.object({userName:nh.string()}),nD=nh.object({email:nh.string().optional().nullable(),address:nh.string(),chainId:nh.string().or(nh.number()),accounts:nh.array(nh.object({address:nh.string(),type:nh.enum([eI.y_.ACCOUNT_TYPES.EOA,eI.y_.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),userName:nh.string().optional().nullable(),preferredAccountType:nh.optional(nh.string()),signature:nh.string().optional(),message:nh.string().optional(),siwxMessage:nh.optional(ng)}),nB=nh.object({action:nh.enum(["VERIFY_PRIMARY_OTP","VERIFY_SECONDARY_OTP"])}),nU=nh.object({email:nh.string().email().optional().nullable(),address:nh.string(),chainId:nh.string().or(nh.number()),smartAccountDeployed:nh.optional(nh.boolean()),accounts:nh.array(nh.object({address:nh.string(),type:nh.enum([eI.y_.ACCOUNT_TYPES.EOA,eI.y_.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),preferredAccountType:nh.optional(nh.string()),signature:nh.string().optional(),message:nh.string().optional(),siwxMessage:nh.optional(ng)}),nL=nh.object({uri:nh.string()}),nj=nh.object({isConnected:nh.boolean()}),nF=nh.object({chainId:nh.string().or(nh.number())}),n$=nh.object({chainId:nh.string().or(nh.number())}),nK=nh.object({newEmail:nh.string().email()}),nq=nh.object({smartAccountEnabledNetworks:nh.array(nh.number())});nh.object({address:nh.string(),isDeployed:nh.boolean()});let nH=nh.object({version:nh.string().optional()}),nV=nh.object({type:nh.string(),address:nh.string()}),nG=nh.any(),nW=nh.object({method:nh.literal("eth_accounts")}),nJ=nh.object({method:nh.literal("eth_blockNumber")}),nZ=nh.object({method:nh.literal("eth_call"),params:nh.array(nh.any())}),nY=nh.object({method:nh.literal("eth_chainId")}),nX=nh.object({method:nh.literal("eth_estimateGas"),params:nh.array(nh.any())}),nQ=nh.object({method:nh.literal("eth_feeHistory"),params:nh.array(nh.any())}),n6=nh.object({method:nh.literal("eth_gasPrice")}),n8=nh.object({method:nh.literal("eth_getAccount"),params:nh.array(nh.any())}),n5=nh.object({method:nh.literal("eth_getBalance"),params:nh.array(nh.any())}),n4=nh.object({method:nh.literal("eth_getBlockByHash"),params:nh.array(nh.any())}),n9=nh.object({method:nh.literal("eth_getBlockByNumber"),params:nh.array(nh.any())}),n7=nh.object({method:nh.literal("eth_getBlockReceipts"),params:nh.array(nh.any())}),iu=nh.object({method:nh.literal("eth_getBlockTransactionCountByHash"),params:nh.array(nh.any())}),ih=nh.object({method:nh.literal("eth_getBlockTransactionCountByNumber"),params:nh.array(nh.any())}),ig=nh.object({method:nh.literal("eth_getCode"),params:nh.array(nh.any())}),ib=nh.object({method:nh.literal("eth_getFilterChanges"),params:nh.array(nh.any())}),iw=nh.object({method:nh.literal("eth_getFilterLogs"),params:nh.array(nh.any())}),i_=nh.object({method:nh.literal("eth_getLogs"),params:nh.array(nh.any())}),iE=nh.object({method:nh.literal("eth_getProof"),params:nh.array(nh.any())}),iA=nh.object({method:nh.literal("eth_getStorageAt"),params:nh.array(nh.any())}),iS=nh.object({method:nh.literal("eth_getTransactionByBlockHashAndIndex"),params:nh.array(nh.any())}),iI=nh.object({method:nh.literal("eth_getTransactionByBlockNumberAndIndex"),params:nh.array(nh.any())}),iC=nh.object({method:nh.literal("eth_getTransactionByHash"),params:nh.array(nh.any())}),iM=nh.object({method:nh.literal("eth_getTransactionCount"),params:nh.array(nh.any())}),iO=nh.object({method:nh.literal("eth_getTransactionReceipt"),params:nh.array(nh.any())}),iT=nh.object({method:nh.literal("eth_getUncleCountByBlockHash"),params:nh.array(nh.any())}),iP=nh.object({method:nh.literal("eth_getUncleCountByBlockNumber"),params:nh.array(nh.any())}),iN=nh.object({method:nh.literal("eth_maxPriorityFeePerGas")}),iR=nh.object({method:nh.literal("eth_newBlockFilter")}),iD=nh.object({method:nh.literal("eth_newFilter"),params:nh.array(nh.any())}),iB=nh.object({method:nh.literal("eth_newPendingTransactionFilter")}),iU=nh.object({method:nh.literal("eth_sendRawTransaction"),params:nh.array(nh.any())}),iL=nh.object({method:nh.literal("eth_syncing"),params:nh.array(nh.any())}),ij=nh.object({method:nh.literal("eth_uninstallFilter"),params:nh.array(nh.any())}),iF=nh.object({method:nh.literal("personal_sign"),params:nh.array(nh.any())}),i$=nh.object({method:nh.literal("eth_signTypedData_v4"),params:nh.array(nh.any())}),iK=nh.object({method:nh.literal("eth_sendTransaction"),params:nh.array(nh.any())}),iq=nh.object({method:nh.literal("solana_signMessage"),params:nh.object({message:nh.string(),pubkey:nh.string()})}),iH=nh.object({method:nh.literal("solana_signTransaction"),params:nh.object({transaction:nh.string()})}),iV=nh.object({method:nh.literal("solana_signAllTransactions"),params:nh.object({transactions:nh.array(nh.string())})}),iG=nh.object({method:nh.literal("solana_signAndSendTransaction"),params:nh.object({transaction:nh.string(),options:nh.object({skipPreflight:nh.boolean().optional(),preflightCommitment:nh.enum(["processed","confirmed","finalized","recent","single","singleGossip","root","max"]).optional(),maxRetries:nh.number().optional(),minContextSlot:nh.number().optional()}).optional()})}),iW=nh.object({method:nh.literal("wallet_sendCalls"),params:nh.array(nh.object({chainId:nh.string().or(nh.number()).optional(),from:nh.string().optional(),version:nh.string().optional(),capabilities:nh.any().optional(),calls:nh.array(nh.object({to:nh.string().startsWith("0x"),data:nh.string().startsWith("0x").optional(),value:nh.string().optional()}))}))}),iJ=nh.object({method:nh.literal("wallet_getCallsStatus"),params:nh.array(nh.string())}),iZ=nh.object({method:nh.literal("wallet_getCapabilities"),params:nh.array(nh.string().or(nh.number()).optional()).optional()}),iY=nh.object({method:nh.literal("wallet_grantPermissions"),params:nh.array(nh.any())}),iX=nh.object({method:nh.literal("wallet_revokePermissions"),params:nh.any()}),iQ=nh.object({method:nh.literal("wallet_getAssets"),params:nh.any()}),i0=nh.object({token:nh.string()}),i1=nh.object({id:nh.string().optional()}),i2={appEvent:i1.extend({type:np("APP_SWITCH_NETWORK"),payload:nm}).or(i1.extend({type:np("APP_CONNECT_EMAIL"),payload:nw})).or(i1.extend({type:np("APP_CONNECT_DEVICE")})).or(i1.extend({type:np("APP_CONNECT_OTP"),payload:n_})).or(i1.extend({type:np("APP_CONNECT_SOCIAL"),payload:nE})).or(i1.extend({type:np("APP_GET_FARCASTER_URI")})).or(i1.extend({type:np("APP_CONNECT_FARCASTER")})).or(i1.extend({type:np("APP_GET_USER"),payload:nh.optional(nA)})).or(i1.extend({type:np("APP_GET_SOCIAL_REDIRECT_URI"),payload:nS})).or(i1.extend({type:np("APP_SIGN_OUT")})).or(i1.extend({type:np("APP_IS_CONNECTED"),payload:nh.optional(i0)})).or(i1.extend({type:np("APP_GET_CHAIN_ID")})).or(i1.extend({type:np("APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS")})).or(i1.extend({type:np("APP_INIT_SMART_ACCOUNT")})).or(i1.extend({type:np("APP_SET_PREFERRED_ACCOUNT"),payload:nP})).or(i1.extend({type:np("APP_RPC_REQUEST"),payload:iF.or(iQ).or(nW).or(nJ).or(nZ).or(nY).or(nX).or(nQ).or(n6).or(n8).or(n5).or(n4).or(n9).or(n7).or(iu).or(ih).or(ig).or(ib).or(iw).or(i_).or(iE).or(iA).or(iS).or(iI).or(iC).or(iM).or(iO).or(iT).or(iP).or(iN).or(iR).or(iD).or(iB).or(iU).or(iL).or(ij).or(iF).or(i$).or(iK).or(iq).or(iH).or(iV).or(iG).or(iJ).or(iW).or(iZ).or(iY).or(iX).and(nh.object({chainId:nh.string().or(nh.number()).optional(),chainNamespace:nh.enum(["eip155","solana","polkadot","bip122","cosmos"]).optional(),rpcUrl:nh.string().optional()}))})).or(i1.extend({type:np("APP_UPDATE_EMAIL"),payload:nI})).or(i1.extend({type:np("APP_UPDATE_EMAIL_PRIMARY_OTP"),payload:nC})).or(i1.extend({type:np("APP_UPDATE_EMAIL_SECONDARY_OTP"),payload:nM})).or(i1.extend({type:np("APP_SYNC_THEME"),payload:nO})).or(i1.extend({type:np("APP_SYNC_DAPP_DATA"),payload:nT})).or(i1.extend({type:np("APP_RELOAD")})).or(i1.extend({type:np("APP_RPC_ABORT")})),frameEvent:i1.extend({type:np("FRAME_SWITCH_NETWORK_ERROR"),payload:nd}).or(i1.extend({type:np("FRAME_SWITCH_NETWORK_SUCCESS"),payload:n$})).or(i1.extend({type:np("FRAME_CONNECT_EMAIL_SUCCESS"),payload:nN})).or(i1.extend({type:np("FRAME_CONNECT_EMAIL_ERROR"),payload:nd})).or(i1.extend({type:np("FRAME_GET_FARCASTER_URI_SUCCESS"),payload:nk})).or(i1.extend({type:np("FRAME_GET_FARCASTER_URI_ERROR"),payload:nd})).or(i1.extend({type:np("FRAME_CONNECT_FARCASTER_SUCCESS"),payload:nR})).or(i1.extend({type:np("FRAME_CONNECT_FARCASTER_ERROR"),payload:nd})).or(i1.extend({type:np("FRAME_CONNECT_OTP_ERROR"),payload:nd})).or(i1.extend({type:np("FRAME_CONNECT_OTP_SUCCESS")})).or(i1.extend({type:np("FRAME_CONNECT_DEVICE_ERROR"),payload:nd})).or(i1.extend({type:np("FRAME_CONNECT_DEVICE_SUCCESS")})).or(i1.extend({type:np("FRAME_CONNECT_SOCIAL_SUCCESS"),payload:nD})).or(i1.extend({type:np("FRAME_CONNECT_SOCIAL_ERROR"),payload:nd})).or(i1.extend({type:np("FRAME_GET_USER_ERROR"),payload:nd})).or(i1.extend({type:np("FRAME_GET_USER_SUCCESS"),payload:nU})).or(i1.extend({type:np("FRAME_GET_SOCIAL_REDIRECT_URI_ERROR"),payload:nd})).or(i1.extend({type:np("FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS"),payload:nL})).or(i1.extend({type:np("FRAME_SIGN_OUT_ERROR"),payload:nd})).or(i1.extend({type:np("FRAME_SIGN_OUT_SUCCESS")})).or(i1.extend({type:np("FRAME_IS_CONNECTED_ERROR"),payload:nd})).or(i1.extend({type:np("FRAME_IS_CONNECTED_SUCCESS"),payload:nj})).or(i1.extend({type:np("FRAME_GET_CHAIN_ID_ERROR"),payload:nd})).or(i1.extend({type:np("FRAME_GET_CHAIN_ID_SUCCESS"),payload:nF})).or(i1.extend({type:np("FRAME_RPC_REQUEST_ERROR"),payload:nd})).or(i1.extend({type:np("FRAME_RPC_REQUEST_SUCCESS"),payload:nG})).or(i1.extend({type:np("FRAME_SESSION_UPDATE"),payload:i0})).or(i1.extend({type:np("FRAME_UPDATE_EMAIL_ERROR"),payload:nd})).or(i1.extend({type:np("FRAME_UPDATE_EMAIL_SUCCESS"),payload:nB})).or(i1.extend({type:np("FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR"),payload:nd})).or(i1.extend({type:np("FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS")})).or(i1.extend({type:np("FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR"),payload:nd})).or(i1.extend({type:np("FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS"),payload:nK})).or(i1.extend({type:np("FRAME_SYNC_THEME_ERROR"),payload:nd})).or(i1.extend({type:np("FRAME_SYNC_THEME_SUCCESS")})).or(i1.extend({type:np("FRAME_SYNC_DAPP_DATA_ERROR"),payload:nd})).or(i1.extend({type:np("FRAME_SYNC_DAPP_DATA_SUCCESS")})).or(i1.extend({type:np("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS"),payload:nq})).or(i1.extend({type:np("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR"),payload:nd})).or(i1.extend({type:np("FRAME_INIT_SMART_ACCOUNT_ERROR"),payload:nd})).or(i1.extend({type:np("FRAME_SET_PREFERRED_ACCOUNT_SUCCESS"),payload:nV})).or(i1.extend({type:np("FRAME_SET_PREFERRED_ACCOUNT_ERROR"),payload:nd})).or(i1.extend({type:np("FRAME_READY"),payload:nH})).or(i1.extend({type:np("FRAME_RELOAD_ERROR"),payload:nd})).or(i1.extend({type:np("FRAME_RELOAD_SUCCESS")}))};function i6(eu,ed={}){return"string"==typeof ed?.type&&ed?.type?.includes(eu)}function i3({projectId:eu,chainId:ed,version:eg,enableLogger:em,rpcUrl:eb=eS.b.BLOCKCHAIN_API_RPC_URL}){let ew=new URL(eI.Dr);return ew.searchParams.set("projectId",eu),ew.searchParams.set("chainId",String(ed)),ew.searchParams.set("version",eg),ew.searchParams.set("enableLogger",String(em)),ew.searchParams.set("rpcUrl",eb),ew.toString()}class i8{constructor({projectId:eu,isAppClient:ed=!1,chainId:eg="eip155:1",enableLogger:em=!0,rpcUrl:eb=eS.b.BLOCKCHAIN_API_RPC_URL}){if(this.iframe=null,this.iframeIsReady=!1,this.initFrame=()=>{let eu=document.getElementById("w3m-iframe");this.iframe&&!eu&&document.body.appendChild(this.iframe)},this.events={registerFrameEventHandler:(eu,ed,eg)=>{function em({data:eg}){if(!i6(eI.$0.FRAME_EVENT_KEY,eg))return;let eb=i2.frameEvent.safeParse(eg);if(!eb.success){console.warn("W3mFrame: invalid frame event",eb.error.message);return}eb.data?.id===eu&&(ed(eb.data),window.removeEventListener("message",em))}eC.$.isClient&&(window.addEventListener("message",em),eg.addEventListener("abort",()=>{window.removeEventListener("message",em)}))},onFrameEvent:eu=>{eC.$.isClient&&window.addEventListener("message",({data:ed})=>{if(!i6(eI.$0.FRAME_EVENT_KEY,ed))return;let eg=i2.frameEvent.safeParse(ed);eg.success?eu(eg.data):console.warn("W3mFrame: invalid frame event",eg.error.message)})},onAppEvent:eu=>{eC.$.isClient&&window.addEventListener("message",({data:ed})=>{if(!i6(eI.$0.APP_EVENT_KEY,ed))return;let eg=i2.appEvent.safeParse(ed);eg.success||console.warn("W3mFrame: invalid app event",eg.error.message),eu(ed)})},postAppEvent:eu=>{if(eC.$.isClient){if(!this.iframe?.contentWindow)throw Error("W3mFrame: iframe is not set");this.iframe.contentWindow.postMessage(eu,"*")}},postFrameEvent:eu=>{if(eC.$.isClient){if(!parent)throw Error("W3mFrame: parent is not set");parent.postMessage(eu,"*")}}},this.projectId=eu,this.frameLoadPromise=new Promise((eu,ed)=>{this.frameLoadPromiseResolver={resolve:eu,reject:ed}}),this.rpcUrl=eb,ed&&(this.frameLoadPromise=new Promise((eu,ed)=>{this.frameLoadPromiseResolver={resolve:eu,reject:ed}}),eC.$.isClient)){let ed=document.createElement("iframe");ed.id="w3m-iframe",ed.src=i3({projectId:eu,chainId:eg,version:eI.zN,enableLogger:em,rpcUrl:this.rpcUrl}),ed.name="w3m-secure-iframe",ed.style.position="fixed",ed.style.zIndex="999999",ed.style.display="none",ed.style.border="none",ed.style.animationDelay="0s, 50ms",ed.style.borderBottomLeftRadius="clamp(0px, var(--wui-border-radius-l), 44px)",ed.style.borderBottomRightRadius="clamp(0px, var(--wui-border-radius-l), 44px)",this.iframe=ed,this.iframe.onerror=()=>{this.frameLoadPromiseResolver?.reject("Unable to load email login dependency")},this.events.onFrameEvent(eu=>{"@w3m-frame/READY"===eu.type&&(this.iframeIsReady=!0,this.frameLoadPromiseResolver?.resolve(void 0))})}}get networks(){let eu=["eip155:1","eip155:5","eip155:11155111","eip155:10","eip155:420","eip155:42161","eip155:421613","eip155:137","eip155:80001","eip155:42220","eip155:1313161554","eip155:1313161555","eip155:56","eip155:97","eip155:43114","eip155:43113","eip155:324","eip155:280","eip155:100","eip155:8453","eip155:84531","eip155:84532","eip155:7777777","eip155:999","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1"].map(eu=>({[eu]:{rpcUrl:`${this.rpcUrl}/v1/?chainId=${eu}&projectId=${this.projectId}`,chainId:eu}}));return Object.assign({},...eu)}}var i5=eg(18776);class i4{constructor(eu){let ed=(0,i5.jI)({level:eI.jd}),{logger:eg,chunkLoggerController:em}=(0,i5.Rt)({opts:ed});this.logger=(0,i5.Ep)(eg,this.constructor.name),this.chunkLoggerController=em,"undefined"!=typeof window&&this.chunkLoggerController?.downloadLogsBlobInBrowser&&(window.downloadAppKitLogsBlob||(window.downloadAppKitLogsBlob={}),window.downloadAppKitLogsBlob.sdk=()=>{this.chunkLoggerController?.downloadLogsBlobInBrowser&&this.chunkLoggerController.downloadLogsBlobInBrowser({projectId:eu})})}}var i9=eg(44495);class i7{constructor({projectId:eu,chainId:ed,enableLogger:eg=!0,onTimeout:em,abortController:eb,getActiveCaipNetwork:ew}){this.openRpcRequests=[],this.isInitialized=!1,eg&&(this.w3mLogger=new i4(eu)),this.abortController=eb,this.getActiveCaipNetwork=ew;let e_=this.getRpcUrl(ed);this.w3mFrame=new i8({projectId:eu,isAppClient:!0,chainId:ed,enableLogger:eg,rpcUrl:e_}),this.onTimeout=em,this.getLoginEmailUsed()&&this.createFrame()}async createFrame(){this.w3mFrame.initFrame(),this.initPromise=new Promise(eu=>{this.w3mFrame.events.onFrameEvent(ed=>{ed.type===eI.$0.FRAME_READY&&setTimeout(()=>{eu()},500)})}),await this.initPromise,this.isInitialized=!0,this.initPromise=void 0}async init(){if(!this.isInitialized){if(this.initPromise){await this.initPromise;return}await this.createFrame()}}getLoginEmailUsed(){return!!i9.e.get(eI.$0.EMAIL_LOGIN_USED_KEY)}getEmail(){return i9.e.get(eI.$0.EMAIL)}getUsername(){return i9.e.get(eI.$0.SOCIAL_USERNAME)}async reload(){try{await this.appEvent({type:eI.$0.APP_RELOAD})}catch(eu){throw this.w3mLogger?.logger.error({error:eu},"Error reloading iframe"),eu}}async connectEmail(eu){try{eC.$.checkIfAllowedToTriggerEmail(),await this.init();let ed=await this.appEvent({type:eI.$0.APP_CONNECT_EMAIL,payload:eu});return this.setNewLastEmailLoginTime(),ed}catch(eu){throw this.w3mLogger?.logger.error({error:eu},"Error connecting email"),eu}}async connectDevice(){try{return this.appEvent({type:eI.$0.APP_CONNECT_DEVICE})}catch(eu){throw this.w3mLogger?.logger.error({error:eu},"Error connecting device"),eu}}async connectOtp(eu){try{return this.appEvent({type:eI.$0.APP_CONNECT_OTP,payload:eu})}catch(eu){throw this.w3mLogger?.logger.error({error:eu},"Error connecting otp"),eu}}async isConnected(){try{if(!this.getLoginEmailUsed())return{isConnected:!1};let eu=await this.appEvent({type:eI.$0.APP_IS_CONNECTED});return eu?.isConnected||this.deleteAuthLoginCache(),eu}catch(eu){throw this.deleteAuthLoginCache(),this.w3mLogger?.logger.error({error:eu},"Error checking connection"),eu}}async getChainId(){try{let eu=await this.appEvent({type:eI.$0.APP_GET_CHAIN_ID});return this.setLastUsedChainId(eu.chainId),eu}catch(eu){throw this.w3mLogger?.logger.error({error:eu},"Error getting chain id"),eu}}async getSocialRedirectUri(eu){try{return await this.init(),this.appEvent({type:eI.$0.APP_GET_SOCIAL_REDIRECT_URI,payload:eu})}catch(eu){throw this.w3mLogger?.logger.error({error:eu},"Error getting social redirect uri"),eu}}async updateEmail(eu){try{let ed=await this.appEvent({type:eI.$0.APP_UPDATE_EMAIL,payload:eu});return this.setNewLastEmailLoginTime(),ed}catch(eu){throw this.w3mLogger?.logger.error({error:eu},"Error updating email"),eu}}async updateEmailPrimaryOtp(eu){try{return this.appEvent({type:eI.$0.APP_UPDATE_EMAIL_PRIMARY_OTP,payload:eu})}catch(eu){throw this.w3mLogger?.logger.error({error:eu},"Error updating email primary otp"),eu}}async updateEmailSecondaryOtp(eu){try{let ed=await this.appEvent({type:eI.$0.APP_UPDATE_EMAIL_SECONDARY_OTP,payload:eu});return this.setLoginSuccess(ed.newEmail),ed}catch(eu){throw this.w3mLogger?.logger.error({error:eu},"Error updating email secondary otp"),eu}}async syncTheme(eu){try{return this.appEvent({type:eI.$0.APP_SYNC_THEME,payload:eu})}catch(eu){throw this.w3mLogger?.logger.error({error:eu},"Error syncing theme"),eu}}async syncDappData(eu){try{return this.appEvent({type:eI.$0.APP_SYNC_DAPP_DATA,payload:eu})}catch(eu){throw this.w3mLogger?.logger.error({error:eu},"Error syncing dapp data"),eu}}async getSmartAccountEnabledNetworks(){try{let eu=await this.appEvent({type:eI.$0.APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS});return this.persistSmartAccountEnabledNetworks(eu.smartAccountEnabledNetworks),eu}catch(eu){throw this.persistSmartAccountEnabledNetworks([]),this.w3mLogger?.logger.error({error:eu},"Error getting smart account enabled networks"),eu}}async setPreferredAccount(eu){try{return this.appEvent({type:eI.$0.APP_SET_PREFERRED_ACCOUNT,payload:{type:eu}})}catch(eu){throw this.w3mLogger?.logger.error({error:eu},"Error setting preferred account"),eu}}async connect(eu){if(eu?.socialUri)try{await this.init();let ed=this.getRpcUrl(eu.chainId),eg=await this.appEvent({type:eI.$0.APP_CONNECT_SOCIAL,payload:{uri:eu.socialUri,preferredAccountType:eu.preferredAccountType,chainId:eu.chainId,siwxMessage:eu.siwxMessage,rpcUrl:ed}});return eg.userName&&this.setSocialLoginSuccess(eg.userName),this.setLoginSuccess(eg.email),this.setLastUsedChainId(eg.chainId),this.user=eg,eg}catch(eu){throw this.w3mLogger?.logger.error({error:eu},"Error connecting social"),eu}else try{let ed=eu?.chainId||this.getLastUsedChainId()||1,eg=await this.getUser({chainId:ed,preferredAccountType:eu?.preferredAccountType,siwxMessage:eu?.siwxMessage,rpcUrl:this.getRpcUrl(ed)});return this.setLoginSuccess(eg.email),this.setLastUsedChainId(eg.chainId),this.user=eg,eg}catch(eu){throw this.w3mLogger?.logger.error({error:eu},"Error connecting"),eu}}async getUser(eu){try{await this.init();let ed=eu?.chainId||this.getLastUsedChainId()||1,eg=await this.appEvent({type:eI.$0.APP_GET_USER,payload:{...eu,chainId:ed}});return this.user=eg,eg}catch(eu){throw this.w3mLogger?.logger.error({error:eu},"Error connecting"),eu}}async connectSocial({uri:eu,chainId:ed,preferredAccountType:eg}){try{await this.init();let em=this.getRpcUrl(ed),eb=await this.appEvent({type:eI.$0.APP_CONNECT_SOCIAL,payload:{uri:eu,chainId:ed,rpcUrl:em,preferredAccountType:eg}});return eb.userName&&this.setSocialLoginSuccess(eb.userName),eb}catch(eu){throw this.w3mLogger?.logger.error({error:eu},"Error connecting social"),eu}}async getFarcasterUri(){try{await this.init();let eu=await this.appEvent({type:eI.$0.APP_GET_FARCASTER_URI});return eu}catch(eu){throw this.w3mLogger?.logger.error({error:eu},"Error getting farcaster uri"),eu}}async connectFarcaster(){try{let eu=await this.appEvent({type:eI.$0.APP_CONNECT_FARCASTER});return eu.userName&&this.setSocialLoginSuccess(eu.userName),eu}catch(eu){throw this.w3mLogger?.logger.error({error:eu},"Error connecting farcaster"),eu}}async switchNetwork({chainId:eu}){try{let ed=this.getRpcUrl(eu),eg=await this.appEvent({type:eI.$0.APP_SWITCH_NETWORK,payload:{chainId:eu,rpcUrl:ed}});return this.setLastUsedChainId(eg.chainId),eg}catch(eu){throw this.w3mLogger?.logger.error({error:eu},"Error switching network"),eu}}async disconnect(){try{this.deleteAuthLoginCache();let eu=await new Promise(async eu=>{let ed=setTimeout(()=>{eu()},3e3);await this.appEvent({type:eI.$0.APP_SIGN_OUT}),clearTimeout(ed),eu()});return eu}catch(eu){throw this.w3mLogger?.logger.error({error:eu},"Error disconnecting"),eu}}async request(eu){let ed=eu;try{if(eI.y_.GET_CHAIN_ID===eu.method)return this.getLastUsedChainId();let eg=eu.chainNamespace||"eip155",em=this.getActiveCaipNetwork(eg)?.id;ed.chainNamespace=eg,ed.chainId=em,ed.rpcUrl=this.getRpcUrl(em),this.rpcRequestHandler?.(eu);let eb=await this.appEvent({type:eI.$0.APP_RPC_REQUEST,payload:ed});return this.rpcSuccessHandler?.(eb,ed),eb}catch(eu){throw this.rpcErrorHandler?.(eu,ed),this.w3mLogger?.logger.error({error:eu},"Error requesting"),eu}}onRpcRequest(eu){this.rpcRequestHandler=eu}onRpcSuccess(eu){this.rpcSuccessHandler=eu}onRpcError(eu){this.rpcErrorHandler=eu}onIsConnected(eu){this.w3mFrame.events.onFrameEvent(ed=>{ed.type===eI.$0.FRAME_IS_CONNECTED_SUCCESS&&ed.payload.isConnected&&eu()})}onNotConnected(eu){this.w3mFrame.events.onFrameEvent(ed=>{ed.type===eI.$0.FRAME_IS_CONNECTED_ERROR&&eu(),ed.type!==eI.$0.FRAME_IS_CONNECTED_SUCCESS||ed.payload.isConnected||eu()})}onConnect(eu){this.w3mFrame.events.onFrameEvent(ed=>{ed.type===eI.$0.FRAME_GET_USER_SUCCESS&&eu(ed.payload)})}onSocialConnected(eu){this.w3mFrame.events.onFrameEvent(ed=>{ed.type===eI.$0.FRAME_CONNECT_SOCIAL_SUCCESS&&eu(ed.payload)})}async getCapabilities(){try{let eu=await this.request({method:"wallet_getCapabilities"});return eu||{}}catch{return{}}}onSetPreferredAccount(eu){this.w3mFrame.events.onFrameEvent(ed=>{ed.type===eI.$0.FRAME_SET_PREFERRED_ACCOUNT_SUCCESS?eu(ed.payload):ed.type===eI.$0.FRAME_SET_PREFERRED_ACCOUNT_ERROR&&eu({type:eI.y_.ACCOUNT_TYPES.EOA})})}getAvailableChainIds(){return Object.keys(this.w3mFrame.networks)}async rejectRpcRequests(){try{await Promise.all(this.openRpcRequests.map(async({abortController:eu,method:ed})=>{eI.y_.SAFE_RPC_METHODS.includes(ed)||eu.abort(),await this.appEvent({type:eI.$0.APP_RPC_ABORT})})),this.openRpcRequests=[]}catch(eu){this.w3mLogger?.logger.error({error:eu},"Error aborting RPC request")}}async appEvent(eu){let ed,eg;function em(eu){return eu.replace("@w3m-app/","")}let eb=[eI.$0.APP_SYNC_DAPP_DATA,eI.$0.APP_SYNC_THEME,eI.$0.APP_SET_PREFERRED_ACCOUNT],ew=em(eu.type);this.w3mFrame.iframeIsReady||eb.includes(eu.type)||(eg=setTimeout(()=>{this.onTimeout?.("iframe_load_failed"),this.abortController.abort()},2e4)),await this.w3mFrame.frameLoadPromise,clearTimeout(eg);let e_=[eI.$0.APP_CONNECT_EMAIL,eI.$0.APP_CONNECT_DEVICE,eI.$0.APP_CONNECT_OTP,eI.$0.APP_CONNECT_SOCIAL,eI.$0.APP_GET_SOCIAL_REDIRECT_URI].map(em).includes(ew);return e_&&(ed=setTimeout(()=>{this.onTimeout?.("iframe_request_timeout"),this.abortController.abort()},12e4)),new Promise((em,eb)=>{let e_=Math.random().toString(36).substring(7);this.w3mLogger?.logger.info?.({event:eu,id:e_},"Sending app event"),this.w3mFrame.events.postAppEvent({...eu,id:e_});let eE=new AbortController;if("RPC_REQUEST"===ew){let ed=eu;this.openRpcRequests=[...this.openRpcRequests,{...ed.payload,abortController:eE}]}function eA(eu,eE){eu.id===e_&&(eE?.logger.info?.({framEvent:eu,id:e_},"Received frame response"),eu.type===`@w3m-frame/${ew}_SUCCESS`?(ed&&clearTimeout(ed),eg&&clearTimeout(eg),"payload"in eu&&em(eu.payload),em(void 0)):eu.type===`@w3m-frame/${ew}_ERROR`&&(ed&&clearTimeout(ed),eg&&clearTimeout(eg),"payload"in eu&&eb(Error(eu.payload?.message||"An error occurred")),eb(Error("An error occurred"))))}eE.signal.addEventListener("abort",()=>{"RPC_REQUEST"===ew?eb(Error("Request was aborted")):"GET_FARCASTER_URI"!==ew&&eb(Error("Something went wrong"))}),this.w3mFrame.events.registerFrameEventHandler(e_,eu=>eA(eu,this.w3mLogger),this.abortController.signal)})}setNewLastEmailLoginTime(){i9.e.set(eI.$0.LAST_EMAIL_LOGIN_TIME,Date.now().toString())}setSocialLoginSuccess(eu){i9.e.set(eI.$0.SOCIAL_USERNAME,eu)}setLoginSuccess(eu){eu&&i9.e.set(eI.$0.EMAIL,eu),i9.e.set(eI.$0.EMAIL_LOGIN_USED_KEY,"true"),i9.e.delete(eI.$0.LAST_EMAIL_LOGIN_TIME)}deleteAuthLoginCache(){i9.e.delete(eI.$0.EMAIL_LOGIN_USED_KEY),i9.e.delete(eI.$0.EMAIL),i9.e.delete(eI.$0.LAST_USED_CHAIN_KEY),i9.e.delete(eI.$0.SOCIAL_USERNAME)}setLastUsedChainId(eu){eu&&i9.e.set(eI.$0.LAST_USED_CHAIN_KEY,String(eu))}getLastUsedChainId(){let eu=i9.e.get(eI.$0.LAST_USED_CHAIN_KEY)??void 0,ed=Number(eu);return isNaN(ed)?eu:ed}persistSmartAccountEnabledNetworks(eu){i9.e.set(eI.$0.SMART_ACCOUNT_ENABLED_NETWORKS,eu.join(","))}getRpcUrl(eu){let ed=void 0===eu?void 0:"eip155";"string"==typeof eu&&(ed=eu.includes(":")?eA.u.parseCaipNetworkId(eu)?.chainNamespace:Number.isInteger(Number(eu))?"eip155":"solana");let eg=this.getActiveCaipNetwork(ed);return eg?.rpcUrls.default.http?.[0]}}},44495:function(eu,ed,eg){"use strict";eg.d(ed,{e:function(){return ew}});var em=eg(89499),eb=eg(80924);let ew={set(eu,ed){eb.$.isClient&&localStorage.setItem(`${em.$0.STORAGE_KEY}${eu}`,ed)},get:eu=>eb.$.isClient?localStorage.getItem(`${em.$0.STORAGE_KEY}${eu}`):null,delete(eu,ed){eb.$.isClient&&(ed?localStorage.removeItem(eu):localStorage.removeItem(`${em.$0.STORAGE_KEY}${eu}`))}}},15622:function(eu,ed,eg){"use strict";eg.d(ed,{axR:function(){return em.axR}});var em=eg(17326)},79558:function(eu,ed,eg){"use strict";let em;eg.d(ed,{cz:function(){return eE}});var eb=eg(23704),ew=eg(91443);eg(2784);let e_="1.7.15";function eE(eu){return em||(em=new ew.b({...eu,sdkVersion:eb.j.generateSdkVersion(eu.adapters??[],"react",e_)})),em}eg(34609)},95314:function(eu,ed,eg){"use strict";eg.d(ed,{q:function(){return eR}}),eg(59782);var em=eg(16541),eb=eg(2706),ew=eg(44984),e_=eg(69479),eE=eg(40458),eA=eg(23704),eS=eg(845),eI=eg(17739);let eC={hexStringToNumber(eu){let ed=eu.startsWith("0x")?eu.slice(2):eu,eg=parseInt(ed,16);return eg},numberToHexString:eu=>`0x${eu.toString(16)}`,async getUserInfo(eu){let[ed,eg]=await Promise.all([eC.getAddresses(eu),eC.getChainId(eu)]);return{chainId:eg,addresses:ed}},async getChainId(eu){let ed=await eu.request({method:"eth_chainId"});return Number(ed)},async getAddress(eu){let[ed]=await eu.request({method:"eth_accounts"});return ed},async getAddresses(eu){let ed=await eu.request({method:"eth_accounts"});return ed},async addEthereumChain(eu,ed){let eg=ed.rpcUrls.chainDefault?.http||[];await eu.request({method:"wallet_addEthereumChain",params:[{chainId:eC.numberToHexString(ed.id),rpcUrls:[...eg],chainName:ed.name,nativeCurrency:{name:ed.nativeCurrency.name,decimals:ed.nativeCurrency.decimals,symbol:ed.nativeCurrency.symbol},blockExplorerUrls:[ed.blockExplorers?.default.url],iconUrls:[eS.C.NetworkImageIds[ed.id]]}]})}};var eM=eg(98596);let eO={ACCOUNT_INDEXES:{PAYMENT:0,ORDINAL:1}};var eT=eg(30026);class eP{constructor(eu){this.namespace=eu.namespace}async syncConnections(eu){switch(this.namespace){case em.b.CHAIN.EVM:await this.syncEVMConnections(eu);break;case em.b.CHAIN.SOLANA:await this.syncSolanaConnections(eu);break;case em.b.CHAIN.BITCOIN:await this.syncBitcoinConnections(eu);break;default:throw Error(`Unsupported chain namespace: ${this.namespace}`)}}async syncEVMConnections({connectors:eu,caipNetworks:ed,universalProvider:eg,getConnectionStatusInfo:eb,onConnection:ew,onListenProvider:e_}){await Promise.all(eu.filter(eu=>{let{hasDisconnected:ed,hasConnected:eg}=eb(eu.id);return!ed&&eg}).map(async eu=>{if(eu.id===em.b.CONNECTOR_ID.WALLET_CONNECT){let em=eT.s.getWalletConnectAccounts(eg,this.namespace),eb=ed.find(eu=>eu.chainNamespace===this.namespace&&eu.id.toString()===em[0]?.chainId?.toString());em.length>0&&ew({connectorId:eu.id,accounts:em.map(eu=>({address:eu.address})),caipNetwork:eb})}else{let{accounts:eg,chainId:eb}=await eM.CR.fetchProviderData(eu);if(eg.length>0&&eb){let eE=ed.find(eu=>eu.chainNamespace===this.namespace&&eu.id.toString()===eb.toString());ew({connectorId:eu.id,accounts:eg.map(eu=>({address:eu})),caipNetwork:eE}),eu.provider&&eu.id!==em.b.CONNECTOR_ID.AUTH&&eu.id!==em.b.CONNECTOR_ID.WALLET_CONNECT&&e_(eu.id,eu.provider)}}}))}async syncSolanaConnections({connectors:eu,caipNetwork:ed,universalProvider:eg,getConnectionStatusInfo:eb,onConnection:ew,onListenProvider:e_}){await Promise.all(eu.filter(eu=>{let{hasDisconnected:ed,hasConnected:eg}=eb(eu.id);return!ed&&eg}).map(async eu=>{if(eu.id===em.b.CONNECTOR_ID.WALLET_CONNECT){let em=eT.s.getWalletConnectAccounts(eg,this.namespace);em.length>0&&ew({connectorId:eu.id,accounts:em.map(eu=>({address:eu.address})),caipNetwork:ed})}else{let eg=await eu.connect({chainId:ed?.id});eg&&(ew({connectorId:eu.id,accounts:[{address:eg}],caipNetwork:ed}),e_(eu.id,eu.provider))}}))}async syncBitcoinConnections({connectors:eu,caipNetwork:ed,universalProvider:eg,getConnectionStatusInfo:eb,onConnection:ew,onListenProvider:e_}){await Promise.all(eu.filter(eu=>{let{hasDisconnected:ed,hasConnected:eg}=eb(eu.id);return!ed&&eg}).map(async eu=>{if(eu.id===em.b.CONNECTOR_ID.WALLET_CONNECT){let em=eT.s.getWalletConnectAccounts(eg,this.namespace);em.length>0&&ew({connectorId:eu.id,accounts:em.map(eu=>({address:eu.address})),caipNetwork:ed});return}let eb=await eu.connect(),eE=await eu.getAccountAddresses(),eS=eE?.map(eu=>eA.j.createAccount(em.b.CHAIN.BITCOIN,eu.address,eu.purpose||"payment",eu.publicKey,eu.path));eS&&eS.length>1&&(eS=[{namespace:em.b.CHAIN.BITCOIN,publicKey:eS[eO.ACCOUNT_INDEXES.PAYMENT]?.publicKey??"",path:eS[eO.ACCOUNT_INDEXES.PAYMENT]?.path??"",address:eS[eO.ACCOUNT_INDEXES.PAYMENT]?.address??"",type:"payment"},{namespace:em.b.CHAIN.BITCOIN,publicKey:eS[eO.ACCOUNT_INDEXES.ORDINAL]?.publicKey??"",path:eS[eO.ACCOUNT_INDEXES.ORDINAL]?.path??"",address:eS[eO.ACCOUNT_INDEXES.ORDINAL]?.address??"",type:"ordinal"}]);let eI=eu.chains.find(eu=>eu.id===ed?.id)||eu.chains[0];if(!eI)throw Error("The connector does not support any of the requested chains");eb&&(e_(eu.id,eu.provider),ew({connectorId:eu.id,accounts:eS.map(eu=>({address:eu.address,type:eu.type})),caipNetwork:ed}))}))}getConnection({address:eu,connectorId:ed,connections:eg,connectors:em}){if(ed){let eb=eg.find(eu=>eI.g.isLowerCaseMatch(eu.connectorId,ed));if(!eb)return null;let ew=em.find(eu=>eI.g.isLowerCaseMatch(eu.id,eb.connectorId)),e_=eu?eb.accounts.find(ed=>eI.g.isLowerCaseMatch(ed.address,eu)):eb.accounts[0];return{...eb,account:e_,connector:ew}}let eb=eg.find(eu=>eu.accounts.length>0&&em.some(ed=>eI.g.isLowerCaseMatch(ed.id,eu.connectorId)));if(eb){let[eu]=eb.accounts,ed=em.find(eu=>eI.g.isLowerCaseMatch(eu.id,eb.connectorId));return{...eb,account:eu,connector:ed}}return null}}var eN=eg(39854);let ek=[em.b.CONNECTOR_ID.AUTH,em.b.CONNECTOR_ID.WALLET_CONNECT];class eR{constructor(eu){this.availableConnectors=[],this.availableConnections=[],this.providerHandlers={},this.eventListeners=new Map,this.getCaipNetworks=eu=>eb.R.getCaipNetworks(eu),this.getConnectorId=eu=>ew.A.getConnectorId(eu),eu&&this.construct(eu),eu?.namespace&&(this.connectionManager=new eP({namespace:eu.namespace}))}construct(eu){this.projectId=eu.projectId,this.namespace=eu.namespace,this.adapterType=eu.adapterType}get connectors(){return this.availableConnectors}get connections(){return this.availableConnections}get networks(){return this.getCaipNetworks(this.namespace)}onAuthConnected({accounts:eu,chainId:ed}){let eg=this.getCaipNetworks().filter(eu=>eu.chainNamespace===this.namespace).find(eu=>eu.id.toString()===ed?.toString());eu&&eg&&this.addConnection({connectorId:em.b.CONNECTOR_ID.AUTH,accounts:eu,caipNetwork:eg})}setAuthProvider(eu){eu.onConnect(this.onAuthConnected.bind(this)),eu.onSocialConnected(this.onAuthConnected.bind(this)),this.addConnector({id:em.b.CONNECTOR_ID.AUTH,type:"AUTH",name:em.b.CONNECTOR_NAMES.AUTH,provider:eu,imageId:eS.C.ConnectorImageIds[em.b.CONNECTOR_ID.AUTH],chain:this.namespace,chains:[]})}addConnector(...eu){let ed=new Set;this.availableConnectors=[...eu,...this.availableConnectors].filter(eu=>!ed.has(eu.id)&&(ed.add(eu.id),!0)),this.emit("connectors",this.availableConnectors)}addConnection(...eu){let ed=new Set;this.availableConnections=[...eu,...this.availableConnections].filter(eu=>!ed.has(eu.connectorId.toLowerCase())&&(ed.add(eu.connectorId.toLowerCase()),!0)),this.emit("connections",this.availableConnections)}deleteConnection(eu){this.availableConnections=this.availableConnections.filter(ed=>!eI.g.isLowerCaseMatch(ed.connectorId,eu)),this.emit("connections",this.availableConnections)}clearConnections(eu=!1){this.availableConnections=[],eu&&this.emit("connections",this.availableConnections)}setStatus(eu,ed){e_.N.setStatus(eu,ed)}on(eu,ed){this.eventListeners.has(eu)||this.eventListeners.set(eu,new Set),this.eventListeners.get(eu)?.add(ed)}off(eu,ed){let eg=this.eventListeners.get(eu);eg&&eg.delete(ed)}removeAllEventListeners(){this.eventListeners.forEach(eu=>{eu.clear()})}emit(eu,ed){let eg=this.eventListeners.get(eu);eg&&eg.forEach(eu=>eu(ed))}async connectWalletConnect(eu){let ed=this.getWalletConnectConnector(),eg=await ed.connectWalletConnect();return{clientId:eg.clientId}}async switchNetwork(eu){let{caipNetwork:ed,providerType:eg}=eu;if(!eu.provider)return;let em="provider"in eu.provider?eu.provider.provider:eu.provider;if("WALLET_CONNECT"===eg){em.setDefaultChain(ed.caipNetworkId);return}if(em&&"AUTH"===eg){let eu=em,eg=(0,eE.r9)(ed.chainNamespace);await eu.switchNetwork({chainId:ed.caipNetworkId});let eb=await eu.getUser({chainId:ed.caipNetworkId,preferredAccountType:eg});this.emit("switchNetwork",eb)}}getWalletConnectConnector(){let eu=this.connectors.find(eu=>eu instanceof eN.z);if(!eu)throw Error("WalletConnectConnector not found");return eu}onConnect(eu,ed){if(eu.length>0){let{address:eg,chainId:em}=eA.j.getAccount(eu[0]),eb=this.getCaipNetworks().filter(eu=>eu.chainNamespace===this.namespace).find(eu=>eu.id.toString()===em?.toString()),ew=this.connectors.find(eu=>eu.id===ed);eg&&(this.emit("accountChanged",{address:eg,chainId:em,connector:ew}),this.addConnection({connectorId:ed,accounts:eu.map(eu=>{let{address:ed}=eA.j.getAccount(eu);return{address:ed}}),caipNetwork:eb}))}}onAccountsChanged(eu,ed,eg=!0){if(eu.length>0){let{address:eg}=eA.j.getAccount(eu[0]),eb=this.connectionManager?.getConnection({connectorId:ed,connections:this.connections,connectors:this.connectors});eg&&eI.g.isLowerCaseMatch(this.getConnectorId(em.b.CHAIN.EVM),ed)&&this.emit("accountChanged",{address:eg,chainId:eb?.caipNetwork?.id,connector:eb?.connector}),this.addConnection({connectorId:ed,accounts:eu.map(eu=>{let{address:ed}=eA.j.getAccount(eu);return{address:ed}}),caipNetwork:eb?.caipNetwork})}else eg&&this.onDisconnect(ed)}onDisconnect(eu){this.removeProviderListeners(eu),this.deleteConnection(eu),eI.g.isLowerCaseMatch(this.getConnectorId(em.b.CHAIN.EVM),eu)&&this.emitFirstAvailableConnection(),0===this.connections.length&&this.emit("disconnect")}onChainChanged(eu,ed){let eg="string"==typeof eu&&eu.startsWith("0x")?eC.hexStringToNumber(eu).toString():eu.toString(),eb=this.connectionManager?.getConnection({connectorId:ed,connections:this.connections,connectors:this.connectors}),ew=this.getCaipNetworks().filter(eu=>eu.chainNamespace===this.namespace).find(eu=>eu.id.toString()===eg);eb&&this.addConnection({connectorId:ed,accounts:eb.accounts,caipNetwork:ew}),eI.g.isLowerCaseMatch(this.getConnectorId(em.b.CHAIN.EVM),ed)&&this.emit("switchNetwork",{chainId:eg})}listenProviderEvents(eu,ed){if(ek.includes(eu))return;let eg=ed=>this.onAccountsChanged(ed,eu),em=ed=>this.onChainChanged(ed,eu),eb=()=>this.onDisconnect(eu);this.providerHandlers[eu]||(ed.on("disconnect",eb),ed.on("accountsChanged",eg),ed.on("chainChanged",em),this.providerHandlers[eu]={provider:ed,disconnect:eb,accountsChanged:eg,chainChanged:em})}removeProviderListeners(eu){if(this.providerHandlers[eu]){let{provider:ed,disconnect:eg,accountsChanged:em,chainChanged:eb}=this.providerHandlers[eu];ed.removeListener("disconnect",eg),ed.removeListener("accountsChanged",em),ed.removeListener("chainChanged",eb),this.providerHandlers[eu]=null}}emitFirstAvailableConnection(){let eu=this.connectionManager?.getConnection({connections:this.connections,connectors:this.connectors});if(eu){let[ed]=eu.accounts;this.emit("accountChanged",{address:ed?.address,chainId:eu.caipNetwork?.id,connector:eu.connector})}}}},98863:function(eu,ed,eg){"use strict";eg.d(ed,{D:function(){return eb}});var em=eg(74077);class eb{constructor(){}static getInstance({projectId:eu,chainId:ed,enableLogger:eg,onTimeout:ew,abortController:e_,getActiveCaipNetwork:eE}){return eb.instance||(eb.instance=new em.S({projectId:eu,chainId:ed,enableLogger:eg,onTimeout:ew,abortController:e_,getActiveCaipNetwork:eE})),eb.instance}}},91443:function(eu,ed,eg){"use strict";eg.d(ed,{b:function(){return tT}});var em=eg(16541),eb=eg(58780),ew=eg(28672),e_=eg(40458),eE=eg(44984),eA=eg(86321),eS=eg(86126),eI=eg(61556),eC=eg(68157),eM=eg(1278),eO=eg(2706),eT=eg(556),eP=eg(69479),eN=eg(36139),ek=eg(46719),eR=eg(23704),eD=eg(93921),eB=eg(17739),eU=eg(27577),eL=eg(21257),ej=eg(2089),eF=eg(80924),e$=eg(89499),eK=eg(98863),eH=eg(59782),eV=eg(87729),eG=eg(10944),eW=eg(46951),eJ=eg(71181),eZ=eg(93934),eY=eg(35776),eX=eg(62640),eQ=eg(27393),e0=eg(91368),e6=eg(25721),e8=eg(77405),e5=eg(98596),e9=eg(93907),e7=eg(36563),tu=eg(18776);let th={createLogger(eu,ed="error"){let eg=(0,tu.jI)({level:ed}),{logger:em}=(0,tu.Rt)({opts:eg});return em.error=(...ed)=>{for(let eg of ed)if(eg instanceof Error){eu(eg,...ed);return}eu(void 0,...ed)},em}};var td=function(eu){if(eu.length>=255)throw TypeError("Alphabet too long");let ed=new Uint8Array(256);for(let eu=0;eu<ed.length;eu++)ed[eu]=255;for(let eg=0;eg<eu.length;eg++){let em=eu.charAt(eg),eb=em.charCodeAt(0);if(255!==ed[eb])throw TypeError(em+" is ambiguous");ed[eb]=eg}let eg=eu.length,em=eu.charAt(0),eb=Math.log(eg)/Math.log(256),ew=Math.log(256)/Math.log(eg);function e_(eu){if("string"!=typeof eu)throw TypeError("Expected String");if(0===eu.length)return new Uint8Array;let ew=0,e_=0,eE=0;for(;eu[ew]===em;)e_++,ew++;let eA=(eu.length-ew)*eb+1>>>0,eS=new Uint8Array(eA);for(;ew<eu.length;){let em=eu.charCodeAt(ew);if(em>255)return;let eb=ed[em];if(255===eb)return;let e_=0;for(let eu=eA-1;(0!==eb||e_<eE)&&-1!==eu;eu--,e_++)eb+=eg*eS[eu]>>>0,eS[eu]=eb%256>>>0,eb=eb/256>>>0;if(0!==eb)throw Error("Non-zero carry");eE=e_,ew++}let eI=eA-eE;for(;eI!==eA&&0===eS[eI];)eI++;let eC=new Uint8Array(e_+(eA-eI)),eM=e_;for(;eI!==eA;)eC[eM++]=eS[eI++];return eC}return{encode:function(ed){if(ed instanceof Uint8Array||(ArrayBuffer.isView(ed)?ed=new Uint8Array(ed.buffer,ed.byteOffset,ed.byteLength):Array.isArray(ed)&&(ed=Uint8Array.from(ed))),!(ed instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===ed.length)return"";let eb=0,e_=0,eE=0,eA=ed.length;for(;eE!==eA&&0===ed[eE];)eE++,eb++;let eS=(eA-eE)*ew+1>>>0,eI=new Uint8Array(eS);for(;eE!==eA;){let eu=ed[eE],em=0;for(let ed=eS-1;(0!==eu||em<e_)&&-1!==ed;ed--,em++)eu+=256*eI[ed]>>>0,eI[ed]=eu%eg>>>0,eu=eu/eg>>>0;if(0!==eu)throw Error("Non-zero carry");e_=em,eE++}let eC=eS-e_;for(;eC!==eS&&0===eI[eC];)eC++;let eM=em.repeat(eb);for(;eC<eS;++eC)eM+=eu.charAt(eI[eC]);return eM},decodeUnsafe:e_,decode:function(eu){let ed=e_(eu);if(ed)return ed;throw Error("Non-base"+eg+" character")}}}("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),tg=eg(56940),ty=eg(95314),tb=eg(39854),tw=eg(35612);class t_ extends ty.q{async setUniversalProvider(eu){if(!this.namespace)throw Error("UniversalAdapter:setUniversalProvider - namespace is required");return this.addConnector(new tb.z({provider:eu,caipNetworks:this.getCaipNetworks(),namespace:this.namespace})),Promise.resolve()}async connect(eu){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:Number(eu.chainId),provider:this.provider,address:""})}async disconnect(){try{let eu=this.getWalletConnectConnector();await eu.disconnect(),this.emit("disconnect")}catch(eu){console.warn("UniversalAdapter:disconnect - error",eu)}return{connections:[]}}syncConnections(){return Promise.resolve()}async getAccounts({namespace:eu}){let ed=this.provider,eg=ed?.session?.namespaces?.[eu]?.accounts?.map(eu=>{let[,,ed]=eu.split(":");return ed}).filter((eu,ed,eg)=>eg.indexOf(eu)===ed)||[];return Promise.resolve({accounts:eg.map(ed=>eR.j.createAccount(eu,ed,"bip122"===eu?"payment":"eoa"))})}async syncConnectors(){return Promise.resolve()}async getBalance(eu){let ed=eu.caipNetwork&&eM.bq.BALANCE_SUPPORTED_CHAINS.includes(eu.caipNetwork?.chainNamespace);if(!ed||eu.caipNetwork?.testnet)return{balance:"0.00",symbol:eu.caipNetwork?.nativeCurrency.symbol||""};if(eP.N.state.balanceLoading&&eu.chainId===eO.R.state.activeCaipNetwork?.id)return{balance:eP.N.state.balance||"0.00",symbol:eP.N.state.balanceSymbol||""};let eg=await eP.N.fetchTokenBalance(),em=eg.find(ed=>ed.chainId===`${eu.caipNetwork?.chainNamespace}:${eu.chainId}`&&ed.symbol===eu.caipNetwork?.nativeCurrency.symbol);return{balance:em?.quantity.numeric||"0.00",symbol:em?.symbol||eu.caipNetwork?.nativeCurrency.symbol||""}}async signMessage(eu){let{provider:ed,message:eg,address:eb}=eu;if(!ed)throw Error("UniversalAdapter:signMessage - provider is undefined");let ew="";if(eO.R.state.activeCaipNetwork?.chainNamespace===em.b.CHAIN.SOLANA){let eu=await ed.request({method:"solana_signMessage",params:{message:td.encode(new TextEncoder().encode(eg)),pubkey:eb}},eO.R.state.activeCaipNetwork?.caipNetworkId);ew=eu.signature}else ew=await ed.request({method:"personal_sign",params:[eg,eb]},eO.R.state.activeCaipNetwork?.caipNetworkId);return{signature:ew}}async estimateGas(){return Promise.resolve({gas:BigInt(0)})}async sendTransaction(){return Promise.resolve({hash:""})}walletGetAssets(eu){return Promise.resolve({})}async writeContract(){return Promise.resolve({hash:""})}emitFirstAvailableConnection(){}parseUnits(){return 0n}formatUnits(){return"0"}async getCapabilities(){return Promise.resolve({})}async grantPermissions(){return Promise.resolve({})}async revokePermissions(){return Promise.resolve("0x")}async syncConnection(){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:1,provider:this.provider,address:""})}async switchNetwork(eu){let{caipNetwork:ed}=eu,eg=this.getWalletConnectConnector();if(ed.chainNamespace===em.b.CHAIN.EVM)try{await eg.provider?.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,tg.NC)(ed.id)}]})}catch(eu){if(eu.code===tw.T.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||eu.code===tw.T.ERROR_INVALID_CHAIN_ID||eu.code===tw.T.ERROR_CODE_DEFAULT||eu?.data?.originalError?.code===tw.T.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)try{await eg.provider?.request({method:"wallet_addEthereumChain",params:[{chainId:(0,tg.NC)(ed.id),rpcUrls:[ed?.rpcUrls.chainDefault?.http],chainName:ed.name,nativeCurrency:ed.nativeCurrency,blockExplorerUrls:[ed.blockExplorers?.default.url]}]})}catch(eu){throw Error("Chain is not supported")}}eg.provider.setDefaultChain(ed.caipNetworkId)}getWalletConnectProvider(){let eu=this.connectors.find(eu=>"WALLET_CONNECT"===eu.type),ed=eu?.provider;return ed}}let tE=["email","socials","swaps","onramp","activity","reownBranding","multiWallet"],tA={email:{apiFeatureName:"social_login",localFeatureName:"email",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:eu=>{if(!eu?.config)return!1;let ed=eu.config;return!!eu.isEnabled&&ed.includes("email")},processFallback:eu=>void 0===eu?eM.bq.DEFAULT_REMOTE_FEATURES.email:!!eu},socials:{apiFeatureName:"social_login",localFeatureName:"socials",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:eu=>{if(!eu?.config)return!1;let ed=eu.config;return!!eu.isEnabled&&ed.length>0&&ed.filter(eu=>"email"!==eu)},processFallback:eu=>void 0===eu?eM.bq.DEFAULT_REMOTE_FEATURES.socials:"boolean"==typeof eu?!!eu&&eM.bq.DEFAULT_REMOTE_FEATURES.socials:eu},swaps:{apiFeatureName:"swap",localFeatureName:"swaps",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:eu=>{if(!eu?.config)return!1;let ed=eu.config;return!!eu.isEnabled&&ed.length>0&&ed},processFallback:eu=>void 0===eu?eM.bq.DEFAULT_REMOTE_FEATURES.swaps:"boolean"==typeof eu?!!eu&&eM.bq.DEFAULT_REMOTE_FEATURES.swaps:eu},onramp:{apiFeatureName:"onramp",localFeatureName:"onramp",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:eu=>{if(!eu?.config)return!1;let ed=eu.config;return!!eu.isEnabled&&ed.length>0&&ed},processFallback:eu=>void 0===eu?eM.bq.DEFAULT_REMOTE_FEATURES.onramp:"boolean"==typeof eu?!!eu&&eM.bq.DEFAULT_REMOTE_FEATURES.onramp:eu},activity:{apiFeatureName:"activity",localFeatureName:"history",returnType:!1,isLegacy:!0,isAvailableOnBasic:!1,processApi:eu=>!!eu.isEnabled,processFallback:eu=>void 0===eu?eM.bq.DEFAULT_REMOTE_FEATURES.activity:!!eu},reownBranding:{apiFeatureName:"reown_branding",localFeatureName:"reownBranding",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:eu=>!!eu.isEnabled,processFallback:eu=>void 0===eu?eM.bq.DEFAULT_REMOTE_FEATURES.reownBranding:!!eu},multiWallet:{apiFeatureName:"multi_wallet",localFeatureName:"multiWallet",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:eu=>!!eu.isEnabled,processFallback:()=>eM.bq.DEFAULT_REMOTE_FEATURES.multiWallet}},tS={localSettingsOverridden:new Set,getApiConfig:(eu,ed)=>ed?.find(ed=>ed.id===eu),addWarning(eu,ed){if(void 0!==eu){let eu=tA[ed],eg=eu.isLegacy?`"features.${eu.localFeatureName}" (now "${ed}")`:`"features.${ed}"`;this.localSettingsOverridden.add(eg)}},processFeature(eu,ed,eg,em,eb){let ew=tA[eu],e_=ed[ew.localFeatureName];if(eb&&!ew.isAvailableOnBasic)return!1;if(em){let ed=this.getApiConfig(ew.apiFeatureName,eg);return ed?.config===null?this.processFallbackFeature(eu,e_):!!ed?.config&&(void 0!==e_&&this.addWarning(e_,eu),this.processApiFeature(eu,ed))}return this.processFallbackFeature(eu,e_)},processApiFeature:(eu,ed)=>tA[eu].processApi(ed),processFallbackFeature:(eu,ed)=>tA[eu].processFallback(ed),async fetchRemoteFeatures(eu){let ed=eu.basic??!1,eg=eu.features||{};this.localSettingsOverridden.clear();let em=null,eb=!1;try{eb=null!=(em=await eC.Q.fetchProjectConfig())}catch(eu){console.warn("[Reown Config] Failed to fetch remote project configuration. Using local/default values.",eu)}let ew=eb&&!ed?eM.bq.DEFAULT_REMOTE_FEATURES:eM.bq.DEFAULT_REMOTE_FEATURES_DISABLED;try{for(let eu of tE){let e_=this.processFeature(eu,eg,em,eb,ed);Object.assign(ew,{[eu]:e_})}}catch(eu){return console.warn("[Reown Config] Failed to process the configuration from Cloud. Using default values.",eu),eM.bq.DEFAULT_REMOTE_FEATURES}if(eb&&this.localSettingsOverridden.size>0){let eu=`Your local configuration for ${Array.from(this.localSettingsOverridden).join(", ")} was ignored because a remote configuration was successfully fetched. Please manage these features via your project dashboard on dashboard.reown.com.`;eD.B.open({shortMessage:"Local configuration ignored",longMessage:`[Reown Config Notice] ${eu}`},"warning")}return ew}};var tI=eg(34609);class tC{constructor(eu){this.chainNamespaces=[],this.remoteFeatures={},this.reportedAlertErrors={},this.getCaipNetwork=(eu,ed)=>{if(eu){let eg=eO.R.getCaipNetworks(eu)?.find(eu=>eu.id===ed);if(eg)return eg;let em=eO.R.getNetworkData(eu)?.caipNetwork;if(em)return em;let eb=eO.R.getRequestedCaipNetworks(eu);return eb.filter(ed=>ed.chainNamespace===eu)?.[0]}return eO.R.state.activeCaipNetwork||this.defaultCaipNetwork},this.getCaipNetworkId=()=>{let eu=this.getCaipNetwork();if(eu)return eu.id},this.getCaipNetworks=eu=>eO.R.getCaipNetworks(eu),this.getActiveChainNamespace=()=>eO.R.state.activeChain,this.setRequestedCaipNetworks=(eu,ed)=>{eO.R.setRequestedCaipNetworks(eu,ed)},this.getApprovedCaipNetworkIds=()=>eO.R.getAllApprovedCaipNetworkIds(),this.getCaipAddress=eu=>eO.R.state.activeChain!==eu&&eu?eO.R.getAccountProp("caipAddress",eu):eO.R.state.activeCaipAddress,this.setClientId=eu=>{eW.L.setClientId(eu)},this.getProvider=eu=>ej.h.getProvider(eu),this.getProviderType=eu=>ej.h.getProviderId(eu),this.getPreferredAccountType=eu=>(0,e_.r9)(eu),this.setCaipAddress=(eu,ed)=>{eP.N.setCaipAddress(eu,ed)},this.setBalance=(eu,ed,eg)=>{eP.N.setBalance(eu,ed,eg)},this.setProfileName=(eu,ed)=>{eP.N.setProfileName(eu,ed)},this.setProfileImage=(eu,ed)=>{eP.N.setProfileImage(eu,ed)},this.setUser=(eu,ed)=>{eP.N.setUser(eu,ed)},this.resetAccount=eu=>{eP.N.resetAccount(eu)},this.setCaipNetwork=eu=>{eO.R.setActiveCaipNetwork(eu)},this.setCaipNetworkOfNamespace=(eu,ed)=>{eO.R.setChainNetworkData(ed,{caipNetwork:eu})},this.setStatus=(eu,ed)=>{eP.N.setStatus(eu,ed),eE.A.isConnected()?ek.M.setConnectionStatus("connected"):ek.M.setConnectionStatus("disconnected")},this.getAddressByChainNamespace=eu=>eO.R.getAccountProp("address",eu),this.setConnectors=eu=>{let ed=[...eE.A.state.allConnectors,...eu];eE.A.setConnectors(ed)},this.setConnections=(eu,ed)=>{ek.M.setConnections(eu,ed),eA.l.setConnections(eu,ed)},this.fetchIdentity=eu=>eW.L.fetchIdentity(eu),this.getReownName=eu=>eJ.a.getNamesForAddress(eu),this.getConnectors=()=>eE.A.getConnectors(),this.getConnectorImage=eu=>eZ.f.getConnectorImage(eu),this.getConnections=eu=>this.remoteFeatures.multiWallet?eY.f.getConnectionsData(eu).connections:(eD.B.open(em.b.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),[]),this.getRecentConnections=eu=>this.remoteFeatures.multiWallet?eY.f.getConnectionsData(eu).recentConnections:(eD.B.open(em.b.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),[]),this.switchConnection=async eu=>{if(!this.remoteFeatures.multiWallet){eD.B.open(em.b.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info");return}await eA.l.switchConnection(eu)},this.deleteConnection=eu=>{if(!this.remoteFeatures.multiWallet){eD.B.open(em.b.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info");return}ek.M.deleteAddressFromConnection(eu),eA.l.syncStorageConnections()},this.setConnectedWalletInfo=(eu,ed)=>{let eg=ej.h.getProviderId(ed),em=eu?{...eu,type:eg}:void 0;eP.N.setConnectedWalletInfo(em,ed)},this.getIsConnectedState=()=>!!eO.R.state.activeCaipAddress,this.addAddressLabel=(eu,ed,eg)=>{eP.N.addAddressLabel(eu,ed,eg)},this.removeAddressLabel=(eu,ed)=>{eP.N.removeAddressLabel(eu,ed)},this.getAddress=eu=>eO.R.state.activeChain!==eu&&eu?eO.R.getAccountProp("address",eu):eP.N.state.address,this.setApprovedCaipNetworksData=eu=>eO.R.setApprovedCaipNetworksData(eu),this.resetNetwork=eu=>{eO.R.resetNetwork(eu)},this.addConnector=eu=>{eE.A.addConnector(eu)},this.resetWcConnection=()=>{eA.l.resetWcConnection()},this.setAddressExplorerUrl=(eu,ed)=>{eP.N.setAddressExplorerUrl(eu,ed)},this.setSmartAccountDeployed=(eu,ed)=>{eP.N.setSmartAccountDeployed(eu,ed)},this.setPreferredAccountType=(eu,ed)=>{eO.R.setAccountProp("preferredAccountType",eu,ed)},this.setEIP6963Enabled=eu=>{eT.h.setEIP6963Enabled(eu)},this.handleUnsafeRPCRequest=()=>{this.isOpen()?this.isTransactionStackEmpty()||this.redirect("ApproveTransaction"):this.open({view:"ApproveTransaction"})},this.options=eu,this.version=eu.sdkVersion,this.caipNetworks=this.extendCaipNetworks(eu),this.chainNamespaces=this.getChainNamespacesSet(eu.adapters,this.caipNetworks),this.defaultCaipNetwork=this.extendDefaultCaipNetwork(eu),this.chainAdapters=this.createAdapters(eu.adapters),this.readyPromise=this.initialize(eu)}getChainNamespacesSet(eu,ed){let eg=eu?.map(eu=>eu.namespace).filter(eu=>!!eu);if(eg?.length)return[...new Set(eg)];let em=ed?.map(eu=>eu.chainNamespace);return[...new Set(em)]}async initialize(eu){this.initializeProjectSettings(eu),this.initControllers(eu),await this.initChainAdapters(),this.sendInitializeEvent(eu),eT.h.state.enableReconnect?(await this.syncExistingConnection(),await this.syncAdapterConnections()):await this.unSyncExistingConnection(),this.remoteFeatures=await tS.fetchRemoteFeatures(eu),eT.h.setRemoteFeatures(this.remoteFeatures),this.remoteFeatures.onramp&&eX.ph.setOnrampProviders(this.remoteFeatures.onramp),(eT.h.state.remoteFeatures?.email||Array.isArray(eT.h.state.remoteFeatures?.socials)&&eT.h.state.remoteFeatures?.socials.length>0)&&await this.checkAllowedOrigins()}async checkAllowedOrigins(){try{let eu=await eC.Q.fetchAllowedOrigins();if(!eu||!eR.j.isClient()){eD.B.open(eL.j.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}let ed=window.location.origin,eg=tI.sQ.isOriginAllowed(ed,eu,tI.Tz.DEFAULT_ALLOWED_ANCESTORS);eg||eD.B.open(eL.j.ALERT_ERRORS.ORIGIN_NOT_ALLOWED,"error")}catch(eu){if(!(eu instanceof Error)){eD.B.open(eL.j.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}switch(eu.message){case"RATE_LIMITED":eD.B.open(eL.j.ALERT_ERRORS.RATE_LIMITED_APP_CONFIGURATION,"error");break;case"SERVER_ERROR":{let ed=eu.cause instanceof Error?eu.cause:eu;eD.B.open({shortMessage:eL.j.ALERT_ERRORS.SERVER_ERROR_APP_CONFIGURATION.shortMessage,longMessage:eL.j.ALERT_ERRORS.SERVER_ERROR_APP_CONFIGURATION.longMessage(ed.message)},"error");break}default:eD.B.open(eL.j.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error")}}}sendInitializeEvent(eu){let{...ed}=eu;delete ed.adapters,delete ed.universalProvider,eS.X.sendEvent({type:"track",event:"INITIALIZE",properties:{...ed,networks:eu.networks.map(eu=>eu.id),siweConfig:{options:eu.siweConfig?.options||{}}}})}initControllers(eu){this.initializeOptionsController(eu),this.initializeChainController(eu),this.initializeThemeController(eu),this.initializeConnectionController(eu),this.initializeConnectorController()}initializeThemeController(eu){eu.themeMode&&eN.u.setThemeMode(eu.themeMode),eu.themeVariables&&eN.u.setThemeVariables(eu.themeVariables)}initializeChainController(eu){if(!this.connectionControllerClient||!this.networkControllerClient)throw Error("ConnectionControllerClient and NetworkControllerClient must be set");eO.R.initialize(eu.adapters??[],this.caipNetworks,{connectionControllerClient:this.connectionControllerClient,networkControllerClient:this.networkControllerClient});let ed=this.getDefaultNetwork();ed&&eO.R.setActiveCaipNetwork(ed)}initializeConnectionController(eu){eA.l.initialize(eu.adapters??[]),eA.l.setWcBasic(eu.basic??!1)}initializeConnectorController(){eE.A.initialize(this.chainNamespaces)}initializeProjectSettings(eu){eT.h.setProjectId(eu.projectId),eT.h.setSdkVersion(eu.sdkVersion)}initializeOptionsController(eu){eT.h.setDebug(!1!==eu.debug),eT.h.setEnableWalletConnect(!1!==eu.enableWalletConnect),eT.h.setEnableWalletGuide(!1!==eu.enableWalletGuide),eT.h.setEnableWallets(!1!==eu.enableWallets),eT.h.setEIP6963Enabled(!1!==eu.enableEIP6963),eT.h.setEnableNetworkSwitch(!1!==eu.enableNetworkSwitch),eT.h.setEnableReconnect(!1!==eu.enableReconnect),eT.h.setEnableAuthLogger(!1!==eu.enableAuthLogger),eT.h.setCustomRpcUrls(eu.customRpcUrls),eT.h.setEnableEmbedded(eu.enableEmbedded),eT.h.setAllWallets(eu.allWallets),eT.h.setIncludeWalletIds(eu.includeWalletIds),eT.h.setExcludeWalletIds(eu.excludeWalletIds),eT.h.setFeaturedWalletIds(eu.featuredWalletIds),eT.h.setTokens(eu.tokens),eT.h.setTermsConditionsUrl(eu.termsConditionsUrl),eT.h.setPrivacyPolicyUrl(eu.privacyPolicyUrl),eT.h.setCustomWallets(eu.customWallets),eT.h.setFeatures(eu.features),eT.h.setAllowUnsupportedChain(eu.allowUnsupportedChain),eT.h.setUniversalProviderConfigOverride(eu.universalProviderConfigOverride),eT.h.setPreferUniversalLinks(eu.experimental_preferUniversalLinks),eT.h.setDefaultAccountTypes(eu.defaultAccountTypes);let ed=this.getDefaultMetaData();if(!eu.metadata&&ed&&(eu.metadata=ed),eT.h.setMetadata(eu.metadata),eT.h.setDisableAppend(eu.disableAppend),eT.h.setEnableEmbedded(eu.enableEmbedded),eT.h.setSIWX(eu.siwx),!eu.projectId){eD.B.open(eL.j.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}let eg=eu.adapters?.find(eu=>eu.namespace===em.b.CHAIN.EVM);if(eg&&eu.siweConfig){if(eu.siwx)throw Error("Cannot set both `siweConfig` and `siwx` options");eT.h.setSIWX(eu.siweConfig.mapToSIWX())}}getDefaultMetaData(){return eR.j.isClient()?{name:document.getElementsByTagName("title")?.[0]?.textContent||"",description:document.querySelector('meta[property="og:description"]')?.content||"",url:window.location.origin,icons:[document.querySelector('link[rel~="icon"]')?.href||""]}:null}setUnsupportedNetwork(eu){let ed=this.getActiveChainNamespace();if(ed){let eg=e7.f.getUnsupportedNetwork(`${ed}:${eu}`);eO.R.setActiveCaipNetwork(eg)}}getDefaultNetwork(){return e7.f.getCaipNetworkFromStorage(this.defaultCaipNetwork)}extendCaipNetwork(eu,ed){let eg=e7.f.extendCaipNetwork(eu,{customNetworkImageUrls:ed.chainImages,projectId:ed.projectId});return eg}extendCaipNetworks(eu){let ed=e7.f.extendCaipNetworks(eu.networks,{customNetworkImageUrls:eu.chainImages,customRpcUrls:eu.customRpcUrls,projectId:eu.projectId});return ed}extendDefaultCaipNetwork(eu){let ed=eu.networks.find(ed=>ed.id===eu.defaultNetwork?.id),eg=ed?e7.f.extendCaipNetwork(ed,{customNetworkImageUrls:eu.chainImages,customRpcUrls:eu.customRpcUrls,projectId:eu.projectId}):void 0;return eg}async disconnectNamespace(eu,ed){try{this.setLoading(!0,eu);let eg={connections:[]},em=this.getAdapter(eu),{caipAddress:eb}=eO.R.getAccountData(eu)||{};return(eb||!eT.h.state.enableReconnect)&&em?.disconnect&&(eg=await em.disconnect({id:ed})),this.setLoading(!1,eu),eg}catch(ed){throw this.setLoading(!1,eu),Error(`Failed to disconnect chains: ${ed.message}`)}}createClients(){this.connectionControllerClient={connectWalletConnect:async()=>{let eu=eO.R.state.activeChain,ed=this.getAdapter(eu),eg=this.getCaipNetwork(eu)?.id,em=eA.l.getConnections(eu),eb=this.remoteFeatures.multiWallet,e_=em.length>0;if(!ed)throw Error("Adapter not found");let eE=await ed.connectWalletConnect(eg),eS=!e_||!eb;eS&&this.close(),this.setClientId(eE?.clientId||null),ek.M.setConnectedNamespaces([...eO.R.state.chains.keys()]),await this.syncWalletConnectAccount(),await ew.w.initializeIfEnabled()},connectExternal:async({id:eu,address:ed,info:eg,type:em,provider:eb,chain:ew,caipNetwork:e_,socialUri:eE})=>{let eA=eO.R.state.activeChain,eS=ew||eA,eI=this.getAdapter(eS);if(ew&&ew!==eA&&!e_){let eu=this.getCaipNetworks().find(eu=>eu.chainNamespace===ew);eu&&this.setCaipNetwork(eu)}if(!eS)throw Error("connectExternal: namespace not found");if(!eI)throw Error("connectExternal: adapter not found");let eC=this.getCaipNetwork(eS),eM=await eI.connect({id:eu,address:ed,info:eg,type:em,provider:eb,socialUri:eE,chainId:e_?.id||eC?.id,rpcUrl:e_?.rpcUrls?.default?.http?.[0]||eC?.rpcUrls?.default?.http?.[0]});if(eM)return ek.M.addConnectedNamespace(eS),this.syncProvider({...eM,chainNamespace:eS}),this.setStatus("connected",eS),this.syncConnectedWalletInfo(eS),ek.M.removeDisconnectedConnectorId(eu,eS),{address:eM.address}},reconnectExternal:async({id:eu,info:ed,type:eg,provider:em})=>{let eb=eO.R.state.activeChain,ew=this.getAdapter(eb);if(!eb)throw Error("reconnectExternal: namespace not found");if(!ew)throw Error("reconnectExternal: adapter not found");ew?.reconnect&&(await ew?.reconnect({id:eu,info:ed,type:eg,provider:em,chainId:this.getCaipNetwork()?.id}),ek.M.addConnectedNamespace(eb),this.syncConnectedWalletInfo(eb))},disconnect:async eu=>{let{id:ed,chainNamespace:eg,initialDisconnect:eb}=eu||{},e_=eg||eO.R.state.activeChain,eI=eE.A.getConnectorId(e_),eC=ed===em.b.CONNECTOR_ID.AUTH||eI===em.b.CONNECTOR_ID.AUTH,eM=ed===em.b.CONNECTOR_ID.WALLET_CONNECT||eI===em.b.CONNECTOR_ID.WALLET_CONNECT;try{let eu=Array.from(eO.R.state.chains.keys()),em=eg?[eg]:eu;(eM||eC)&&(em=eu);let e_=em.map(async eu=>{let eg=eE.A.getConnectorId(eu),em=await this.disconnectNamespace(eu,ed||eg);em&&(eC&&ek.M.deleteConnectedSocialProvider(),em.connections.forEach(ed=>{ek.M.addDisconnectedConnectorId(ed.connectorId,eu)})),eb&&this.onDisconnectNamespace({chainNamespace:eu,closeModal:!1})}),eI=await Promise.allSettled(e_);eQ.S.resetSend(),eA.l.resetWcConnection(),ew.w.getSIWX()?.signOutOnDisconnect&&await ew.w.clearSessions(),eE.A.setFilterByNamespace(void 0),eA.l.syncStorageConnections();let eT=eI.filter(eu=>"rejected"===eu.status);if(eT.length>0)throw Error(eT.map(eu=>eu.reason.message).join(", "));eS.X.sendEvent({type:"track",event:"DISCONNECT_SUCCESS",properties:{namespace:eg||"all"}})}catch(eu){throw Error(`Failed to disconnect chains: ${eu.message}`)}},checkInstalled:eu=>eu?eu.some(eu=>!!window.ethereum?.[String(eu)]):!!window.ethereum,signMessage:async eu=>{let ed=eO.R.state.activeChain,eg=this.getAdapter(eO.R.state.activeChain);if(!ed)throw Error("signMessage: namespace not found");if(!eg)throw Error("signMessage: adapter not found");let em=await eg?.signMessage({message:eu,address:eP.N.state.address,provider:ej.h.getProvider(ed)});return em?.signature||""},sendTransaction:async eu=>{let ed=eu.chainNamespace;if(!ed)throw Error("sendTransaction: namespace not found");if(eM.bq.SEND_SUPPORTED_NAMESPACES.includes(ed)){let eg=this.getAdapter(ed);if(!eg)throw Error("sendTransaction: adapter not found");let em=ej.h.getProvider(ed),eb=await eg?.sendTransaction({...eu,caipNetwork:this.getCaipNetwork(),provider:em});return eb?.hash||""}return""},estimateGas:async eu=>{let ed=eu.chainNamespace;if(ed===em.b.CHAIN.EVM){let eg=this.getAdapter(ed);if(!eg)throw Error("estimateGas: adapter is required but got undefined");let em=ej.h.getProvider(ed),eb=this.getCaipNetwork();if(!eb)throw Error("estimateGas: caipNetwork is required but got undefined");let ew=await eg?.estimateGas({...eu,provider:em,caipNetwork:eb});return ew?.gas||0n}return 0n},getEnsAvatar:async()=>{let eu=eO.R.state.activeChain;if(!eu)throw Error("getEnsAvatar: namespace is required but got undefined");return await this.syncIdentity({address:eP.N.state.address,chainId:Number(this.getCaipNetwork()?.id),chainNamespace:eu}),eP.N.state.profileImage||!1},getEnsAddress:async eu=>await tI.sQ.resolveReownName(eu),writeContract:async eu=>{let ed=eO.R.state.activeChain,eg=this.getAdapter(ed);if(!ed)throw Error("writeContract: namespace is required but got undefined");if(!eg)throw Error("writeContract: adapter is required but got undefined");let em=this.getCaipNetwork(),eb=this.getCaipAddress(),ew=ej.h.getProvider(ed);if(!em||!eb)throw Error("writeContract: caipNetwork or caipAddress is required but got undefined");let e_=await eg?.writeContract({...eu,caipNetwork:em,provider:ew,caipAddress:eb});return e_?.hash},parseUnits:(eu,ed)=>{let eg=this.getAdapter(eO.R.state.activeChain);if(!eg)throw Error("parseUnits: adapter is required but got undefined");return eg?.parseUnits({value:eu,decimals:ed})??0n},formatUnits:(eu,ed)=>{let eg=this.getAdapter(eO.R.state.activeChain);if(!eg)throw Error("formatUnits: adapter is required but got undefined");return eg?.formatUnits({value:eu,decimals:ed})??"0"},getCapabilities:async eu=>{let ed=this.getAdapter(eO.R.state.activeChain);if(!ed)throw Error("getCapabilities: adapter is required but got undefined");return await ed?.getCapabilities(eu)},grantPermissions:async eu=>{let ed=this.getAdapter(eO.R.state.activeChain);if(!ed)throw Error("grantPermissions: adapter is required but got undefined");return await ed?.grantPermissions(eu)},revokePermissions:async eu=>{let ed=this.getAdapter(eO.R.state.activeChain);if(!ed)throw Error("revokePermissions: adapter is required but got undefined");return ed?.revokePermissions?await ed.revokePermissions(eu):"0x"},walletGetAssets:async eu=>{let ed=this.getAdapter(eO.R.state.activeChain);if(!ed)throw Error("walletGetAssets: adapter is required but got undefined");return await ed?.walletGetAssets(eu)??{}},updateBalance:eu=>{let ed=this.getCaipNetwork(eu);ed&&eP.N.state.address&&this.updateNativeBalance(eP.N.state.address,ed?.id,eu)}},this.networkControllerClient={switchCaipNetwork:async eu=>await this.switchCaipNetwork(eu),getApprovedCaipNetworksData:async()=>this.getApprovedCaipNetworksData()},eA.l.setClient(this.connectionControllerClient)}getApprovedCaipNetworksData(){let eu=ej.h.getProviderId(eO.R.state.activeChain);if(eu===eU.b.CONNECTOR_TYPE_WALLET_CONNECT){let eu=this.universalProvider?.session?.namespaces;return{supportsAllNetworks:"MetaMask Wallet"===this.universalProvider?.session?.peer?.metadata.name,approvedCaipNetworkIds:this.getChainsFromNamespaces(eu)}}return{supportsAllNetworks:!0,approvedCaipNetworkIds:[]}}async switchCaipNetwork(eu){if(!eu)return;let ed=eu.chainNamespace,eg=this.getAddressByChainNamespace(eu.chainNamespace);if(eg){let eg=ej.h.getProvider(ed),em=ej.h.getProviderId(ed);if(eu.chainNamespace===eO.R.state.activeChain){let eb=this.getAdapter(ed);await eb?.switchNetwork({caipNetwork:eu,provider:eg,providerType:em})}else if(this.setCaipNetwork(eu),em===eU.b.CONNECTOR_TYPE_WALLET_CONNECT)this.syncWalletConnectAccount();else{let eg=this.getAddressByChainNamespace(ed);eg&&this.syncAccount({address:eg,chainId:eu.id,chainNamespace:ed})}}else this.setCaipNetwork(eu)}getChainsFromNamespaces(eu={}){return Object.values(eu).flatMap(eu=>{let ed=eu.chains||[],eg=eu.accounts.map(eu=>{let{chainId:ed,chainNamespace:eg}=eV.u.parseCaipAddress(eu);return`${eg}:${ed}`});return Array.from(new Set([...ed,...eg]))})}createAdapters(eu){return this.createClients(),this.chainNamespaces.reduce((ed,eg)=>{let em=eu?.find(eu=>eu.namespace===eg);return em?(em.construct({namespace:eg,projectId:this.options?.projectId,networks:this.getCaipNetworks()}),ed[eg]=em):ed[eg]=new t_({namespace:eg,networks:this.getCaipNetworks()}),ed},{})}async initChainAdapter(eu){this.onConnectors(eu),this.listenAdapter(eu),await this.chainAdapters?.[eu].syncConnectors(this.options,this),await this.createUniversalProviderForAdapter(eu)}async initChainAdapters(){await Promise.all(this.chainNamespaces.map(async eu=>{await this.initChainAdapter(eu)}))}onConnectors(eu){let ed=this.getAdapter(eu);ed?.on("connectors",this.setConnectors.bind(this))}listenAdapter(eu){let ed=this.getAdapter(eu);if(!ed)return;let eg=ek.M.getConnectionStatus();!1===eT.h.state.enableReconnect?this.setStatus("disconnected",eu):"connected"===eg?this.setStatus("connecting",eu):("disconnected"===eg&&ek.M.clearAddressCache(),this.setStatus(eg,eu)),ed.on("switchNetwork",({address:ed,chainId:eg})=>{let em=this.getCaipNetworks().find(eu=>eu.id.toString()===eg.toString()||eu.caipNetworkId.toString()===eg.toString()),eb=eO.R.state.activeChain===eu,ew=eO.R.getAccountProp("address",eu);if(em){let eg=eb&&ed?ed:ew;eg&&this.syncAccount({address:eg,chainId:em.id,chainNamespace:eu})}else this.setUnsupportedNetwork(eg)}),ed.on("disconnect",()=>{this.onDisconnectNamespace({chainNamespace:eu})}),ed.on("connections",ed=>{this.setConnections(ed,eu)}),ed.on("pendingTransactions",()=>{let eu=eP.N.state.address,ed=eO.R.state.activeCaipNetwork;eu&&ed?.id&&this.updateNativeBalance(eu,ed.id,ed.chainNamespace)}),ed.on("accountChanged",({address:ed,chainId:eg,connector:em})=>{let eb=eO.R.state.activeChain===eu;em?.provider&&(this.syncProvider({id:em.id,type:em.type,provider:em.provider,chainNamespace:eu}),this.syncConnectedWalletInfo(eu)),eb&&eg?this.syncAccount({address:ed,chainId:eg,chainNamespace:eu}):eb&&eO.R.state.activeCaipNetwork?.id?this.syncAccount({address:ed,chainId:eO.R.state.activeCaipNetwork?.id,chainNamespace:eu}):this.syncAccountInfo(ed,eg,eu),ek.M.addConnectedNamespace(eu)})}async createUniversalProviderForAdapter(eu){await this.getUniversalProvider(),this.universalProvider&&await this.chainAdapters?.[eu]?.setUniversalProvider?.(this.universalProvider)}async syncExistingConnection(){await Promise.allSettled(this.chainNamespaces.map(eu=>this.syncNamespaceConnection(eu)))}async unSyncExistingConnection(){try{await Promise.allSettled(this.chainNamespaces.map(eu=>eA.l.disconnect({namespace:eu,initialDisconnect:!0})))}catch(eu){console.error("Error disconnecting existing connections:",eu)}}async syncNamespaceConnection(eu){try{eu===em.b.CHAIN.EVM&&eR.j.isSafeApp()&&eE.A.setConnectorId(em.b.CONNECTOR_ID.SAFE,eu);let ed=eE.A.getConnectorId(eu);switch(this.setStatus("connecting",eu),ed){case em.b.CONNECTOR_ID.WALLET_CONNECT:await this.syncWalletConnectAccount();break;case em.b.CONNECTOR_ID.AUTH:break;default:await this.syncAdapterConnection(eu)}}catch(ed){console.warn("AppKit couldn't sync existing connection",ed),this.setStatus("disconnected",eu)}}onDisconnectNamespace(eu){let{chainNamespace:ed,closeModal:eg}=eu||{};eO.R.resetAccount(ed),eO.R.resetNetwork(ed),ek.M.removeConnectedNamespace(ed);let em=Array.from(eO.R.state.chains.keys()),eb=ed?[ed]:em;eb.forEach(eu=>ek.M.addDisconnectedConnectorId(eE.A.getConnectorId(eu)||"",eu)),eE.A.removeConnectorId(ed),ej.h.resetChain(ed),this.setUser(void 0,ed),this.setStatus("disconnected",ed),this.setConnectedWalletInfo(void 0,ed),!1!==eg&&e0.I.close()}async syncAdapterConnections(){await Promise.allSettled(this.chainNamespaces.map(eu=>{let ed=this.getCaipAddress(eu),eg=this.getCaipNetwork(eu);return this.chainAdapters?.[eu].syncConnections({connectToFirstConnector:!ed,caipNetwork:eg,getConnectorStorageInfo(ed){let eg=ek.M.getConnections(),em=eg[eu]??[];return{hasDisconnected:ek.M.isConnectorDisconnected(ed,eu),hasConnected:em.some(eu=>eB.g.isLowerCaseMatch(eu.connectorId,ed))}}})}))}async syncAdapterConnection(eu){let ed=this.getAdapter(eu),eg=eE.A.getConnectorId(eu),em=this.getCaipNetwork(eu),eb=eE.A.getConnectors(eu),ew=eb.find(eu=>eu.id===eg);try{if(!ed||!ew)throw Error(`Adapter or connector not found for namespace ${eu}`);if(!em?.id)throw Error("CaipNetwork not found");let eg=await ed?.syncConnection({namespace:eu,id:ew.id,chainId:em.id,rpcUrl:em?.rpcUrls?.default?.http?.[0]});eg?(this.syncProvider({...eg,chainNamespace:eu}),await this.syncAccount({...eg,chainNamespace:eu}),this.setStatus("connected",eu)):this.setStatus("disconnected",eu)}catch(ed){this.onDisconnectNamespace({chainNamespace:eu,closeModal:!1})}}async syncWalletConnectAccount(){let eu=Object.keys(this.universalProvider?.session?.namespaces||{}),ed=this.chainNamespaces.map(async ed=>{let eg=this.getAdapter(ed);if(!eg)return;let eb=this.universalProvider?.session?.namespaces?.[ed]?.accounts||[],ew=eO.R.state.activeCaipNetwork?.id,e_=eb.find(eu=>{let{chainId:ed}=eV.u.parseCaipAddress(eu);return ed===ew?.toString()})||eb[0];if(e_){let eu=eV.u.validateCaipAddress(e_),{chainId:eb,address:ew}=eV.u.parseCaipAddress(eu);if(ej.h.setProviderId(ed,eU.b.CONNECTOR_TYPE_WALLET_CONNECT),this.caipNetworks&&eO.R.state.activeCaipNetwork&&eg.namespace!==em.b.CHAIN.EVM){let eu=eg.getWalletConnectProvider({caipNetworks:this.getCaipNetworks(),provider:this.universalProvider,activeCaipNetwork:eO.R.state.activeCaipNetwork});ej.h.setProvider(ed,eu)}else ej.h.setProvider(ed,this.universalProvider);eE.A.setConnectorId(em.b.CONNECTOR_ID.WALLET_CONNECT,ed),ek.M.addConnectedNamespace(ed),await this.syncAccount({address:ew,chainId:eb,chainNamespace:ed})}else eu.includes(ed)&&this.setStatus("disconnected",ed);this.syncConnectedWalletInfo(ed),await eO.R.setApprovedCaipNetworksData(ed)});await Promise.all(ed)}syncProvider({type:eu,provider:ed,id:eg,chainNamespace:em}){ej.h.setProviderId(em,eu),ej.h.setProvider(em,ed),eE.A.setConnectorId(eg,em)}async syncAccount(eu){let ed=eu.chainNamespace===eO.R.state.activeChain,eg=eO.R.getCaipNetworkByNamespace(eu.chainNamespace,eu.chainId),{address:eb,chainId:ew,chainNamespace:e_}=eu,{chainId:eE}=ek.M.getActiveNetworkProps(),eA=ew||eE,eS=eO.R.state.activeCaipNetwork?.name===em.b.UNSUPPORTED_NETWORK_NAME,eI=eO.R.getNetworkProp("supportsAllNetworks",e_);if(this.setStatus("connected",e_),(!eS||eI)&&eA){let eu=this.getCaipNetworks().find(eu=>eu.id.toString()===eA.toString()),ew=this.getCaipNetworks().find(eu=>eu.chainNamespace===e_);if(!eI&&!eu&&!ew){let ed=this.getApprovedCaipNetworkIds()||[],eg=ed.find(eu=>eV.u.parseCaipNetworkId(eu)?.chainId===eA.toString()),em=ed.find(eu=>eV.u.parseCaipNetworkId(eu)?.chainNamespace===e_);eu=this.getCaipNetworks().find(eu=>eu.caipNetworkId===eg),ew=this.getCaipNetworks().find(eu=>eu.caipNetworkId===em||"deprecatedCaipNetworkId"in eu&&eu.deprecatedCaipNetworkId===em)}let eE=eu||ew;eE?.chainNamespace===eO.R.state.activeChain?eT.h.state.enableNetworkSwitch&&!eT.h.state.allowUnsupportedChain&&eO.R.state.activeCaipNetwork?.name===em.b.UNSUPPORTED_NETWORK_NAME?eO.R.showUnsupportedChainUI():this.setCaipNetwork(eE):!ed&&eg&&this.setCaipNetworkOfNamespace(eg,e_),this.syncConnectedWalletInfo(e_),eB.g.isLowerCaseMatch(eb,eP.N.state.address)||this.syncAccountInfo(eb,eE?.id,e_),ed?await this.syncBalance({address:eb,chainId:eE?.id,chainNamespace:e_}):await this.syncBalance({address:eb,chainId:eg?.id,chainNamespace:e_})}}async syncAccountInfo(eu,ed,eg){let em=this.getCaipAddress(eg),eb=ed||em?.split(":")[1];if(!eb)return;let ew=`${eg}:${eb}:${eu}`;this.setCaipAddress(ew,eg),await this.syncIdentity({address:eu,chainId:eb,chainNamespace:eg})}async syncReownName(eu,ed){try{let eg=await this.getReownName(eu);if(eg[0]){let eu=eg[0];this.setProfileName(eu.name,ed)}else this.setProfileName(null,ed)}catch{this.setProfileName(null,ed)}}syncConnectedWalletInfo(eu){let ed=eE.A.getConnectorId(eu),eg=ej.h.getProviderId(eu);if(eg===eU.b.CONNECTOR_TYPE_ANNOUNCED||eg===eU.b.CONNECTOR_TYPE_INJECTED){if(ed){let eg=this.getConnectors().find(eu=>{let eg=eu.id===ed,em=eu.info?.rdns===ed,eb=eu.connectors?.some(eu=>eu.id===ed||eu.info?.rdns===ed);return eg||em||!!eb});if(eg){let{info:ed,name:em,imageUrl:eb}=eg,ew=eb||this.getConnectorImage(eg);this.setConnectedWalletInfo({name:em,icon:ew,...ed},eu)}}}else if(eg===eU.b.CONNECTOR_TYPE_WALLET_CONNECT){let ed=ej.h.getProvider(eu);ed?.session&&this.setConnectedWalletInfo({...ed.session.peer.metadata,name:ed.session.peer.metadata.name,icon:ed.session.peer.metadata.icons?.[0]},eu)}else if(ed&&ed===em.b.CONNECTOR_ID.COINBASE){let ed=this.getConnectors().find(eu=>eu.id===em.b.CONNECTOR_ID.COINBASE);this.setConnectedWalletInfo({name:"Coinbase Wallet",icon:this.getConnectorImage(ed)},eu)}}async syncBalance(eu){let ed=eG.p.getNetworksByNamespace(this.getCaipNetworks(),eu.chainNamespace).find(ed=>ed.id.toString()===eu.chainId?.toString());ed&&eu.chainId&&await this.updateNativeBalance(eu.address,eu.chainId,eu.chainNamespace)}async ready(){await this.readyPromise}async updateNativeBalance(eu,ed,eg){let em=this.getAdapter(eg),eb=eO.R.getCaipNetworkByNamespace(eg,ed);if(em){let ew=await em.getBalance({address:eu,chainId:ed,caipNetwork:eb,tokens:this.options.tokens});return this.setBalance(ew.balance,ew.symbol,eg),ew}}async initializeUniversalAdapter(){let eu=th.createLogger((eu,...ed)=>{eu&&this.handleAlertError(eu),console.error(...ed)}),ed={projectId:this.options?.projectId,metadata:{name:this.options?.metadata?this.options?.metadata.name:"",description:this.options?.metadata?this.options?.metadata.description:"",url:this.options?.metadata?this.options?.metadata.url:"",icons:this.options?.metadata?this.options?.metadata.icons:[""]},logger:eu};eT.h.setManualWCControl(!!this.options?.manualWCControl),this.universalProvider=this.options.universalProvider??await eH.Z.init(ed),!1===eT.h.state.enableReconnect&&this.universalProvider.session&&await this.universalProvider.disconnect(),this.listenWalletConnect()}listenWalletConnect(){this.universalProvider&&this.chainNamespaces.forEach(eu=>{tI.sQ.listenWcProvider({universalProvider:this.universalProvider,namespace:eu,onDisplayUri:eu=>{eA.l.setUri(eu)},onConnect:()=>{eA.l.finalizeWcConnection()},onDisconnect:()=>{eO.R.state.noAdapters&&this.resetAccount(eu),eA.l.resetWcConnection()},onChainChanged:ed=>{let eg=eO.R.state.activeChain,eb=eg&&eE.A.state.activeConnectorIds[eg]===em.b.CONNECTOR_ID.WALLET_CONNECT;if(eg===eu&&(eO.R.state.noAdapters||eb)){let eu=this.getCaipNetworks().find(eu=>eu.id.toString()===ed.toString()||eu.caipNetworkId.toString()===ed.toString()),eg=this.getCaipNetwork();if(!eu){this.setUnsupportedNetwork(ed);return}eg?.id.toString()!==eu?.id.toString()&&eg?.chainNamespace===eu?.chainNamespace&&this.setCaipNetwork(eu)}},onAccountsChanged:ed=>{let eg=eO.R.state.activeChain,eb=eg&&eE.A.state.activeConnectorIds[eg]===em.b.CONNECTOR_ID.WALLET_CONNECT;if(eg===eu&&(eO.R.state.noAdapters||eb)&&ed.length>0){let eu=ed[0];this.syncAccount({address:eu.address,chainId:eu.chainId,chainNamespace:eu.chainNamespace})}}})})}createUniversalProvider(){return!this.universalProviderInitPromise&&eR.j.isClient()&&this.options?.projectId&&(this.universalProviderInitPromise=this.initializeUniversalAdapter()),this.universalProviderInitPromise}async getUniversalProvider(){if(!this.universalProvider)try{await this.createUniversalProvider()}catch(eu){eS.X.sendEvent({type:"error",event:"INTERNAL_SDK_ERROR",properties:{errorType:"UniversalProviderInitError",errorMessage:eu instanceof Error?eu.message:"Unknown",uncaught:!1}}),console.error("AppKit:getUniversalProvider - Cannot create provider",eu)}return this.universalProvider}handleAlertError(eu){let ed=Object.entries(eL.j.UniversalProviderErrors).find(([,{message:ed}])=>eu.message.includes(ed)),[eg,em]=ed??[],{message:eb,alertErrorKey:ew}=em??{};if(eg&&eb&&!this.reportedAlertErrors[eg]){let eu=eL.j.ALERT_ERRORS[ew];eu&&(eD.B.open(eu,"error"),this.reportedAlertErrors[eg]=!0)}}getAdapter(eu){if(eu)return this.chainAdapters?.[eu]}createAdapter(eu){if(!eu)return;let ed=eu.namespace;if(!ed)return;this.createClients();let eg=eu;eg.namespace=ed,eg.construct({namespace:ed,projectId:this.options?.projectId,networks:this.getCaipNetworks()}),this.chainNamespaces.includes(ed)||this.chainNamespaces.push(ed),this.chainAdapters&&(this.chainAdapters[ed]=eg)}async open(eu){return(await this.injectModalUi(),eu?.uri&&eA.l.setUri(eu.uri),eu?.arguments&&eu?.view==="Swap")?e0.I.open({...eu,data:{swap:eu.arguments}}):e0.I.open(eu)}async close(){await this.injectModalUi(),e0.I.close()}setLoading(eu,ed){e0.I.setLoading(eu,ed)}async disconnect(eu){await eA.l.disconnect({namespace:eu})}getSIWX(){return eT.h.state.siwx}getError(){return""}getChainId(){return eO.R.state.activeCaipNetwork?.id}async switchNetwork(eu){let ed=this.getCaipNetworks().find(ed=>ed.id===eu.id);if(!ed){eD.B.open(eL.j.ALERT_ERRORS.SWITCH_NETWORK_NOT_FOUND,"error");return}await eO.R.switchActiveNetwork(ed)}getWalletProvider(){return eO.R.state.activeChain?ej.h.state.providers[eO.R.state.activeChain]:null}getWalletProviderType(){return ej.h.getProviderId(eO.R.state.activeChain)}subscribeProviders(eu){return ej.h.subscribeProviders(eu)}getThemeMode(){return eN.u.state.themeMode}getThemeVariables(){return eN.u.state.themeVariables}setThemeMode(eu){eN.u.setThemeMode(eu),(0,e9.Hs)(eN.u.state.themeMode)}setTermsConditionsUrl(eu){eT.h.setTermsConditionsUrl(eu)}setPrivacyPolicyUrl(eu){eT.h.setPrivacyPolicyUrl(eu)}setThemeVariables(eu){eN.u.setThemeVariables(eu),(0,e9.R)(eN.u.state.themeVariables)}subscribeTheme(eu){return eN.u.subscribe(eu)}subscribeConnections(eu){return this.remoteFeatures.multiWallet?eA.l.subscribe(eu):(eD.B.open(em.b.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),()=>void 0)}getWalletInfo(eu){return eu?eO.R.getAccountProp("connectedWalletInfo",eu):eP.N.state.connectedWalletInfo}getAccount(eu){let ed=eu||eO.R.state.activeChain,eg=eE.A.getAuthConnector(ed),eb=eO.R.getAccountData(ed),ew=ek.M.getConnectedConnectorId(eO.R.state.activeChain),eS=eA.l.getConnections(ed);if(!ed)throw Error("AppKit:getAccount - namespace is required");let eI=eS.flatMap(eu=>eu.accounts.map(({address:eu,type:eg})=>eR.j.createAccount(ed,eu,eg||"eoa")));if(eb)return{allAccounts:eI,caipAddress:eb.caipAddress,address:eR.j.getPlainAddress(eb.caipAddress),isConnected:!!eb.caipAddress,status:eb.status,embeddedWalletInfo:eg&&ew===em.b.CONNECTOR_ID.AUTH?{user:eb.user?{...eb.user,username:ek.M.getConnectedSocialUsername()}:void 0,authProvider:eb.socialProvider||"email",accountType:(0,e_.r9)(ed),isSmartAccountDeployed:!!eb.smartAccountDeployed}:void 0}}subscribeAccount(eu,ed){let eg=()=>{let eg=this.getAccount(ed);eg&&eu(eg)};ed?eO.R.subscribeChainProp("accountState",eg,ed):eO.R.subscribe(eg),eE.A.subscribe(eg)}subscribeNetwork(eu){return eO.R.subscribe(({activeCaipNetwork:ed})=>{eu({caipNetwork:ed,chainId:ed?.id,caipNetworkId:ed?.caipNetworkId})})}subscribeWalletInfo(eu,ed){return ed?eP.N.subscribeKey("connectedWalletInfo",eu,ed):eP.N.subscribeKey("connectedWalletInfo",eu)}subscribeShouldUpdateToAddress(eu){eP.N.subscribeKey("shouldUpdateToAddress",eu)}subscribeCaipNetworkChange(eu){eO.R.subscribeKey("activeCaipNetwork",eu)}getState(){return eI.I.state}getRemoteFeatures(){return eT.h.state.remoteFeatures}subscribeState(eu){return eI.I.subscribe(eu)}subscribeRemoteFeatures(eu){return eT.h.subscribeKey("remoteFeatures",eu)}showErrorMessage(eu){e6.K.showError(eu)}showSuccessMessage(eu){e6.K.showSuccess(eu)}getEvent(){return{...eS.X.state}}subscribeEvents(eu){return eS.X.subscribe(eu)}replace(eu){e8.P.replace(eu)}redirect(eu){e8.P.push(eu)}popTransactionStack(eu){e8.P.popTransactionStack(eu)}isOpen(){return e0.I.state.open}isTransactionStackEmpty(){return 0===e8.P.state.transactionStack.length}static getInstance(){return this.instance}updateFeatures(eu){eT.h.setFeatures(eu)}updateRemoteFeatures(eu){eT.h.setRemoteFeatures(eu)}updateOptions(eu){let ed=eT.h.state||{},eg={...ed,...eu};eT.h.setOptions(eg)}setConnectMethodsOrder(eu){eT.h.setConnectMethodsOrder(eu)}setWalletFeaturesOrder(eu){eT.h.setWalletFeaturesOrder(eu)}setCollapseWallets(eu){eT.h.setCollapseWallets(eu)}setSocialsOrder(eu){eT.h.setSocialsOrder(eu)}getConnectMethodsOrder(){return e5.JG.getConnectOrderMethod(eT.h.state.features,eE.A.getConnectors())}addNetwork(eu,ed){if(this.chainAdapters&&!this.chainAdapters[eu])throw Error(`Adapter for namespace ${eu} doesn't exist`);let eg=this.extendCaipNetwork(ed,this.options);this.getCaipNetworks().find(eu=>eu.id===eg.id)||eO.R.addNetwork(eg)}removeNetwork(eu,ed){if(this.chainAdapters&&!this.chainAdapters[eu])throw Error(`Adapter for namespace ${eu} doesn't exist`);let eg=this.getCaipNetworks().find(eu=>eu.id===ed);eg&&eO.R.removeNetwork(eu,ed)}}let tO=!1;class tT extends tC{async onAuthProviderConnected(eu){eu.message&&eu.signature&&eu.siwxMessage&&await ew.w.addEmbeddedWalletSession({chainId:eu.siwxMessage.chainId,accountAddress:eu.address,notBefore:eu.siwxMessage.notBefore,statement:eu.siwxMessage.statement,resources:eu.siwxMessage.resources,requestId:eu.siwxMessage.requestId,issuedAt:eu.siwxMessage.issuedAt,domain:eu.siwxMessage.domain,uri:eu.siwxMessage.uri,version:eu.siwxMessage.version,nonce:eu.siwxMessage.nonce},eu.message,eu.signature);let ed=eO.R.state.activeChain;if(!ed)throw Error("AppKit:onAuthProviderConnected - namespace is required");let eg=ed===em.b.CHAIN.EVM?`eip155:${eu.chainId}:${eu.address}`:`${eu.chainId}:${eu.address}`,eb=eT.h.state.defaultAccountTypes[ed],eE=(0,e_.r9)(ed),eA=eu.preferredAccountType||eE||eb;eB.g.isLowerCaseMatch(eu.address,eP.N.state.address)||this.syncIdentity({address:eu.address,chainId:eu.chainId,chainNamespace:ed}),this.setCaipAddress(eg,ed);let{signature:eS,siwxMessage:eI,message:eC,...eM}=eu;this.setUser({...eP.N.state.user||{},...eM},ed),this.setSmartAccountDeployed(!!eu.smartAccountDeployed,ed),this.setPreferredAccountType(eA,ed),this.setLoading(!1,ed)}setupAuthConnectorListeners(eu){eu.onRpcRequest(ed=>{eF.$.checkIfRequestExists(ed)?eF.$.checkIfRequestIsSafe(ed)||this.handleUnsafeRPCRequest():(this.open(),console.error(e$.y_.RPC_METHOD_NOT_ALLOWED_MESSAGE,{method:ed.method}),setTimeout(()=>{this.showErrorMessage(e$.y_.RPC_METHOD_NOT_ALLOWED_UI_MESSAGE)},300),eu.rejectRpcRequests())}),eu.onRpcError(()=>{let eu=this.isOpen();eu&&(this.isTransactionStackEmpty()?this.close():this.popTransactionStack("error"))}),eu.onRpcSuccess((eu,ed)=>{let eg=eF.$.checkIfRequestIsSafe(ed),em=eP.N.state.address,eb=eO.R.state.activeCaipNetwork;eg||(em&&eb?.id&&this.updateNativeBalance(em,eb.id,eb.chainNamespace),this.isTransactionStackEmpty()?this.close():this.popTransactionStack("success"))}),eu.onNotConnected(()=>{let eu=eO.R.state.activeChain;if(!eu)throw Error("AppKit:onNotConnected - namespace is required");let ed=eE.A.getConnectorId(eu),eg=ed===em.b.CONNECTOR_ID.AUTH;eg&&(this.setCaipAddress(void 0,eu),this.setLoading(!1,eu))}),eu.onConnect(this.onAuthProviderConnected.bind(this)),eu.onSocialConnected(this.onAuthProviderConnected.bind(this)),eu.onSetPreferredAccount(({address:eu,type:ed})=>{let eg=eO.R.state.activeChain;if(!eg)throw Error("AppKit:onSetPreferredAccount - namespace is required");eu&&this.setPreferredAccountType(ed,eg)})}async syncAuthConnectorTheme(eu){if(!eu)return;let ed=eN.u.getSnapshot(),eg=eT.h.getSnapshot();await Promise.all([eu.syncDappData({metadata:eg.metadata,sdkVersion:eg.sdkVersion,projectId:eg.projectId,sdkType:eg.sdkType}),eu.syncTheme({themeMode:ed.themeMode,themeVariables:ed.themeVariables,w3mThemeVariables:(0,eb.t)(ed.themeVariables,ed.themeMode)})])}async syncAuthConnector(eu,ed){let eg=em.b.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(ed),eb=ed===eO.R.state.activeChain;if(!eg)return;this.setLoading(!0,ed);let ew=eu.getLoginEmailUsed();this.setLoading(ew,ed),ew&&this.setStatus("connecting",ed);let e_=eu.getEmail(),eA=eu.getUsername();this.setUser({...eP.N.state?.user||{},username:eA,email:e_},ed),this.setupAuthConnectorListeners(eu);let{isConnected:eS}=await eu.isConnected();if(await this.syncAuthConnectorTheme(eu),ed&&eg&&eb){let eg=await eu.getSmartAccountEnabledNetworks();eO.R.setSmartAccountEnabledNetworks(eg?.smartAccountEnabledNetworks||[],ed),eS&&this.connectionControllerClient?.connectExternal?(await this.connectionControllerClient?.connectExternal({id:em.b.CONNECTOR_ID.AUTH,info:{name:em.b.CONNECTOR_ID.AUTH},type:eU.b.CONNECTOR_TYPE_AUTH,provider:eu,chainId:eO.R.state.activeCaipNetwork?.id,chain:ed}),this.setStatus("connected",ed)):eE.A.getConnectorId(ed)===em.b.CONNECTOR_ID.AUTH&&(this.setStatus("disconnected",ed),ek.M.removeConnectedNamespace(ed))}this.setLoading(!1,ed)}async checkExistingTelegramSocialConnection(eu){try{if(!eR.j.isTelegram())return;let ed=ek.M.getTelegramSocialProvider();if(!ed||!eR.j.isClient())return;let eg=new URL(window.location.href),em=eg.searchParams.get("result_uri");if(!em)return;eP.N.setSocialProvider(ed,eu),await this.authProvider?.init();let eb=eE.A.getAuthConnector();ed&&eb&&(this.setLoading(!0,eu),await eA.l.connectExternal({id:eb.id,type:eb.type,socialUri:em},eb.chain),ek.M.setConnectedSocialProvider(ed),ek.M.removeTelegramSocialProvider(),eS.X.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:ed,caipNetworkId:eO.R.getActiveCaipNetwork()?.caipNetworkId}}))}catch(ed){this.setLoading(!1,eu),console.error("checkExistingSTelegramocialConnection error",ed)}try{let eu=new URL(window.location.href);eu.searchParams.delete("result_uri"),window.history.replaceState({},document.title,eu.toString())}catch(eu){console.error("tma social login failed",eu)}}createAuthProvider(eu){let ed=em.b.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(eu);if(!ed)return;let eg=this.remoteFeatures?.email,eb=Array.isArray(this.remoteFeatures?.socials)&&this.remoteFeatures.socials.length>0,ew=eg||eb,e_=eB.g.getActiveNamespaceConnectedToAuth(),eE=e_||eu;!this.authProvider&&this.options?.projectId&&ew&&(this.authProvider=eK.D.getInstance({projectId:this.options.projectId,enableLogger:this.options.enableAuthLogger,chainId:this.getCaipNetwork(eE)?.caipNetworkId,abortController:eL.j.EmbeddedWalletAbortController,onTimeout:eu=>{"iframe_load_failed"===eu?eD.B.open(eL.j.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):"iframe_request_timeout"===eu?eD.B.open(eL.j.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):"unverified_domain"===eu&&eD.B.open(eL.j.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")},getActiveCaipNetwork:eu=>eO.R.getActiveCaipNetwork(eu)}),eI.I.subscribeOpen(eu=>{!eu&&this.isTransactionStackEmpty()&&this.authProvider?.rejectRpcRequests()}));let eA=eu===eO.R.state.activeChain&&eT.h.state.enableReconnect;!1===eT.h.state.enableReconnect?this.syncAuthConnectorTheme(this.authProvider):this.authProvider&&eA&&(this.syncAuthConnector(this.authProvider,eu),this.checkExistingTelegramSocialConnection(eu))}createAuthProviderForAdapter(eu){this.createAuthProvider(eu),this.authProvider&&this.chainAdapters?.[eu]?.setAuthProvider?.(this.authProvider)}initControllers(eu){super.initControllers(eu),this.options.excludeWalletIds&&eC.Q.initializeExcludedWallets({ids:this.options.excludeWalletIds})}async switchCaipNetwork(eu){if(!eu)return;let ed=eO.R.state.activeChain,eg=eu.chainNamespace,eb=this.getAddressByChainNamespace(eg),ew=eg===ed;if(ew&&eb){let ed=this.getAdapter(eg),em=ej.h.getProvider(eg),eb=ej.h.getProviderId(eg);await ed?.switchNetwork({caipNetwork:eu,provider:em,providerType:eb}),this.setCaipNetwork(eu)}else{let ew=ej.h.getProviderId(ed),e_=ew===eU.b.CONNECTOR_TYPE_AUTH,eE=ej.h.getProviderId(eg),eA=eE===eU.b.CONNECTOR_TYPE_AUTH,eS=em.b.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(eg);if(!eg)throw Error("AppKit:switchCaipNetwork - networkNamespace is required");if((e_&&void 0===eE||eA)&&eS)try{if(eO.R.state.activeChain=eu.chainNamespace,eb){let ed=this.getAdapter(eg);await ed?.switchNetwork({caipNetwork:eu,provider:this.authProvider,providerType:eE})}else await this.connectionControllerClient?.connectExternal?.({id:em.b.CONNECTOR_ID.AUTH,provider:this.authProvider,chain:eg,chainId:eu.id,type:eU.b.CONNECTOR_TYPE_AUTH,caipNetwork:eu});this.setCaipNetwork(eu)}catch(em){let ed=this.getAdapter(eg);await ed?.switchNetwork({caipNetwork:eu,provider:this.authProvider,providerType:eE})}else if(eE===eU.b.CONNECTOR_TYPE_WALLET_CONNECT){if(!eO.R.state.noAdapters){let ed=this.getAdapter(eg),em=ej.h.getProvider(eg),eb=ej.h.getProviderId(eg);await ed?.switchNetwork({caipNetwork:eu,provider:em,providerType:eb})}this.setCaipNetwork(eu),this.syncWalletConnectAccount()}else this.setCaipNetwork(eu),eb&&this.syncAccount({address:eb,chainId:eu.id,chainNamespace:eg})}}async initialize(eu){await super.initialize(eu),this.chainNamespaces?.forEach(eu=>{this.createAuthProviderForAdapter(eu)}),await this.injectModalUi(),eI.I.set({initialized:!0})}async syncIdentity({address:eu,chainId:ed,chainNamespace:eg}){let eb=`${eg}:${ed}`,ew=this.caipNetworks?.find(eu=>eu.caipNetworkId===eb);if(eg!==em.b.CHAIN.EVM||ew?.testnet){this.setProfileName(null,eg),this.setProfileImage(null,eg);return}try{let{name:ed,avatar:em}=await this.fetchIdentity({address:eu,caipNetworkId:eb});this.setProfileName(ed,eg),this.setProfileImage(em,eg)}catch{await this.syncReownName(eu,eg),1!==ed&&this.setProfileImage(null,eg)}}syncConnectedWalletInfo(eu){let ed=ej.h.getProviderId(eu);if(ed===eU.b.CONNECTOR_TYPE_AUTH){let eg=this.authProvider;if(eg){let em=ek.M.getConnectedSocialProvider()??"email",eb=eg.getEmail()??eg.getUsername();this.setConnectedWalletInfo({name:ed,identifier:eb,social:em},eu)}}else super.syncConnectedWalletInfo(eu)}async injectModalUi(){if(eR.j.isClient()&&!tO)try{let eu={...eM.bq.DEFAULT_FEATURES,...this.options.features},ed=this.remoteFeatures;if(await this.loadModalComponents(eu,ed),eR.j.isClient()){let eu=document.querySelector("w3m-modal");if(!eu){let eu=document.createElement("w3m-modal");eT.h.state.disableAppend||eT.h.state.enableEmbedded||document.body.insertAdjacentElement("beforeend",eu)}}tO=!0}catch(eu){console.error("Error injecting modal UI:",eu)}}async loadModalComponents(eu,ed){if(!eR.j.isClient())return;let em=[],eb=ed.email||ed.socials&&ed.socials.length>0;eb&&em.push(Promise.all([eg.e(3853),eg.e(7379),eg.e(5561)]).then(eg.bind(eg,25561))),ed.email&&em.push(Promise.all([eg.e(3853),eg.e(7379),eg.e(7551)]).then(eg.bind(eg,87551))),ed.socials&&em.push(Promise.all([eg.e(3853),eg.e(6405),eg.e(2848)]).then(eg.bind(eg,92848))),ed.swaps&&ed.swaps.length>0&&em.push(Promise.all([eg.e(3853),eg.e(7379),eg.e(973),eg.e(7155)]).then(eg.bind(eg,77155))),eu.send&&em.push(Promise.all([eg.e(3853),eg.e(7379),eg.e(973),eg.e(9156)]).then(eg.bind(eg,19156))),eu.receive&&em.push(Promise.all([eg.e(3853),eg.e(6405),eg.e(6874)]).then(eg.bind(eg,6874))),ed.onramp&&ed.onramp.length>0&&em.push(Promise.all([eg.e(3853),eg.e(7379),eg.e(5821),eg.e(8654)]).then(eg.bind(eg,88654))),ed.activity&&em.push(Promise.all([eg.e(3853),eg.e(3265),eg.e(1169)]).then(eg.bind(eg,5927))),eu.pay&&em.push(Promise.all([eg.e(3853),eg.e(6579)]).then(eg.bind(eg,26579))),await Promise.all([...em,Promise.all([eg.e(3853),eg.e(7379),eg.e(6405),eg.e(5821),eg.e(3265),eg.e(4622),eg.e(4708)]).then(eg.bind(eg,84708)),Promise.all([eg.e(3853),eg.e(4622),eg.e(3751)]).then(eg.bind(eg,6706))])}}},39854:function(eu,ed,eg){"use strict";eg.d(ed,{z:function(){return eS}}),eg(59782);var em=eg(16541),eb=eg(2706),ew=eg(556),e_=eg(28672),eE=eg(845),eA=eg(34609);class eS{constructor({provider:eu,namespace:ed}){this.id=em.b.CONNECTOR_ID.WALLET_CONNECT,this.name=eE.C.ConnectorNamesMap[em.b.CONNECTOR_ID.WALLET_CONNECT],this.type="WALLET_CONNECT",this.imageId=eE.C.ConnectorImageIds[em.b.CONNECTOR_ID.WALLET_CONNECT],this.getCaipNetworks=eb.R.getCaipNetworks.bind(eb.R),this.caipNetworks=this.getCaipNetworks(),this.provider=eu,this.chain=ed}get chains(){return this.getCaipNetworks()}async connectWalletConnect(){let eu=await this.authenticate();if(!eu){let eu=this.getCaipNetworks(),ed=ew.h.state.universalProviderConfigOverride,eg=eA.sQ.createNamespaces(eu,ed);await this.provider.connect({optionalNamespaces:eg})}return{clientId:await this.provider.client.core.crypto.getClientId(),session:this.provider.session}}async disconnect(){await this.provider.disconnect()}async authenticate(){let eu=this.chains.map(eu=>eu.caipNetworkId);return e_.w.universalProviderAuthenticate({universalProvider:this.provider,chains:eu,methods:eI})}}let eI=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"]},17326:function(eu,ed,eg){"use strict";function em(eu){return{formatters:void 0,fees:void 0,serializers:void 0,...eu}}eg.d(ed,{axR:function(){return em},Zjg:function(){return eb},ol5:function(){return ew}});let eb=em({id:"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",name:"Solana",network:"solana-mainnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!1,chainNamespace:"solana",caipNetworkId:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",deprecatedCaipNetworkId:"solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ"}),ew=em({id:"EtWTRABZaYq6iMfeYKouRu166VU2xqa1",name:"Solana Devnet",network:"solana-devnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",deprecatedCaipNetworkId:"solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K"});em({id:"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",name:"Solana Testnet",network:"solana-testnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"}),em({id:"000000000019d6689c085ae165831e93",caipNetworkId:"bip122:000000000019d6689c085ae165831e93",chainNamespace:"bip122",name:"Bitcoin",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}}),em({id:"000000000933ea01ad0ee984209779ba",caipNetworkId:"bip122:000000000933ea01ad0ee984209779ba",chainNamespace:"bip122",name:"Bitcoin Testnet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0})},35612:function(eu,ed,eg){"use strict";eg.d(ed,{T:function(){return em}});let em={ERROR_CODE_UNRECOGNIZED_CHAIN_ID:4902,ERROR_CODE_DEFAULT:5e3,ERROR_INVALID_CHAIN_ID:32603,DEFAULT_ALLOWED_ANCESTORS:["http://localhost:*","https://localhost:*","http://127.0.0.1:*","https://127.0.0.1:*","https://*.pages.dev","https://*.vercel.app","https://*.ngrok-free.app","https://secure-mobile.walletconnect.com","https://secure-mobile.walletconnect.org"]}},30026:function(eu,ed,eg){"use strict";eg.d(ed,{s:function(){return eA}});var em=eg(87729),eb=eg(71181),ew=eg(23704),e_=eg(17326);let eE={solana:["solana_signMessage","solana_signTransaction","solana_requestAccounts","solana_getAccounts","solana_signAllTransactions","solana_signAndSendTransaction"],eip155:["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_showCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],bip122:["sendTransfer","signMessage","signPsbt","getAccountAddresses"]},eA={getMethodsByChainNamespace:eu=>eE[eu]||[],createDefaultNamespace(eu){return{methods:this.getMethodsByChainNamespace(eu),events:["accountsChanged","chainChanged"],chains:[],rpcMap:{}}},applyNamespaceOverrides(eu,ed){if(!ed)return{...eu};let eg={...eu},em=new Set;if(ed.methods&&Object.keys(ed.methods).forEach(eu=>em.add(eu)),ed.chains&&Object.keys(ed.chains).forEach(eu=>em.add(eu)),ed.events&&Object.keys(ed.events).forEach(eu=>em.add(eu)),ed.rpcMap&&Object.keys(ed.rpcMap).forEach(eu=>{let[ed]=eu.split(":");ed&&em.add(ed)}),em.forEach(eu=>{eg[eu]||(eg[eu]=this.createDefaultNamespace(eu))}),ed.methods&&Object.entries(ed.methods).forEach(([eu,ed])=>{eg[eu]&&(eg[eu].methods=ed)}),ed.chains&&Object.entries(ed.chains).forEach(([eu,ed])=>{eg[eu]&&(eg[eu].chains=ed)}),ed.events&&Object.entries(ed.events).forEach(([eu,ed])=>{eg[eu]&&(eg[eu].events=ed)}),ed.rpcMap){let eu=new Set;Object.entries(ed.rpcMap).forEach(([ed,em])=>{let[eb,ew]=ed.split(":");eb&&ew&&eg[eb]&&(eg[eb].rpcMap||(eg[eb].rpcMap={}),eu.has(eb)||(eg[eb].rpcMap={},eu.add(eb)),eg[eb].rpcMap[ew]=em)})}return eg},createNamespaces(eu,ed){let eg=eu.reduce((eu,ed)=>{let{id:eg,chainNamespace:em,rpcUrls:eb}=ed,ew=eb.default.http[0];eu[em]||(eu[em]=this.createDefaultNamespace(em));let eE=`${em}:${eg}`,eA=eu[em];switch(eA.chains.push(eE),eE){case e_.Zjg.caipNetworkId:eA.chains.push(e_.Zjg.deprecatedCaipNetworkId);break;case e_.ol5.caipNetworkId:eA.chains.push(e_.ol5.deprecatedCaipNetworkId)}return eA?.rpcMap&&ew&&(eA.rpcMap[eg]=ew),eu},{});return this.applyNamespaceOverrides(eg,ed)},resolveReownName:async eu=>{let ed=await eb.a.resolveName(eu),eg=Object.values(ed?.addresses)||[];return eg[0]?.address||!1},getChainsFromNamespaces:(eu={})=>Object.values(eu).flatMap(eu=>{let ed=eu.chains||[],eg=eu.accounts.map(eu=>{let[ed,eg]=eu.split(":");return`${ed}:${eg}`});return Array.from(new Set([...ed,...eg]))}),isSessionEventData:eu=>"object"==typeof eu&&null!==eu&&"id"in eu&&"topic"in eu&&"params"in eu&&"object"==typeof eu.params&&null!==eu.params&&"chainId"in eu.params&&"event"in eu.params&&"object"==typeof eu.params.event&&null!==eu.params.event,isOriginAllowed(eu,ed,eg){for(let em of[...ed,...eg])if(em.includes("*")){let ed=em.replace(/[.*+?^${}()|[\]\\]/gu,"\\$&"),eg=`^${ed.replace(/\\\*/gu,".*")}$`,eb=RegExp(eg,"u");if(eb.test(eu))return!0}else try{if(new URL(em).origin===eu)return!0}catch(ed){if(em===eu)return!0}return!1},listenWcProvider({universalProvider:eu,namespace:ed,onConnect:eg,onDisconnect:eb,onAccountsChanged:e_,onChainChanged:eE,onDisplayUri:eS}){eg&&eu.on("connect",()=>{let em=eA.getWalletConnectAccounts(eu,ed);eg(em)}),eb&&eu.on("disconnect",()=>{eb()}),e_&&eu.on("session_event",eu=>{if(eA.isSessionEventData(eu)){let{name:eg,data:eb}=eu.params.event;if("accountsChanged"===eg&&Array.isArray(eb)){let eu=eb.filter(eu=>ew.j.isCaipAddress(eu)).map(eu=>em.u.parseCaipAddress(eu)).filter(eu=>eu.chainNamespace===ed);e_(eu)}}}),eE&&eu.on("chainChanged",eu=>{eE(eu)}),eS&&eu.on("display_uri",eu=>{eS(eu)})},getWalletConnectAccounts(eu,ed){let eg=new Set,eb=eu?.session?.namespaces?.[ed]?.accounts?.map(eu=>em.u.parseCaipAddress(eu)).filter(({address:eu})=>!eg.has(eu.toLowerCase())&&(eg.add(eu.toLowerCase()),!0));return eb&&eb.length>0?eb:[]}}},34609:function(eu,ed,eg){"use strict";eg.d(ed,{Tz:function(){return em.T},sQ:function(){return eb.s}});var em=eg(35612),eb=eg(30026)},95253:function(eu,ed,eg){"use strict";/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function em(eu){return eu instanceof Uint8Array||ArrayBuffer.isView(eu)&&"Uint8Array"===eu.constructor.name}function eb(eu,ed){return!!Array.isArray(ed)&&(0===ed.length||(eu?ed.every(eu=>"string"==typeof eu):ed.every(eu=>Number.isSafeInteger(eu))))}function ew(eu){if("function"!=typeof eu)throw Error("function expected");return!0}function e_(eu,ed){if("string"!=typeof ed)throw Error(`${eu}: string expected`);return!0}function eE(eu){if(!Number.isSafeInteger(eu))throw Error(`invalid integer: ${eu}`)}function eA(eu){if(!Array.isArray(eu))throw Error("array expected")}function eS(eu,ed){if(!eb(!0,ed))throw Error(`${eu}: array of strings expected`)}function eI(eu,ed){if(!eb(!1,ed))throw Error(`${eu}: array of numbers expected`)}function eC(...eu){let ed=eu=>eu,eg=(eu,ed)=>eg=>eu(ed(eg)),em=eu.map(eu=>eu.encode).reduceRight(eg,ed),eb=eu.map(eu=>eu.decode).reduce(eg,ed);return{encode:em,decode:eb}}function eM(eu){let ed="string"==typeof eu?eu.split(""):eu,eg=ed.length;eS("alphabet",ed);let em=new Map(ed.map((eu,ed)=>[eu,ed]));return{encode:em=>(eA(em),em.map(em=>{if(!Number.isSafeInteger(em)||em<0||em>=eg)throw Error(`alphabet.encode: digit index outside alphabet "${em}". Allowed: ${eu}`);return ed[em]})),decode:ed=>(eA(ed),ed.map(ed=>{e_("alphabet.decode",ed);let eg=em.get(ed);if(void 0===eg)throw Error(`Unknown letter: "${ed}". Allowed: ${eu}`);return eg}))}}function eO(eu=""){return e_("join",eu),{encode:ed=>(eS("join.decode",ed),ed.join(eu)),decode:ed=>(e_("join.decode",ed),ed.split(eu))}}function eT(eu,ed="="){return eE(eu),e_("padding",ed),{encode(eg){for(eS("padding.encode",eg);eg.length*eu%8;)eg.push(ed);return eg},decode(eg){eS("padding.decode",eg);let em=eg.length;if(em*eu%8)throw Error("padding: invalid, string should have whole number of bytes");for(;em>0&&eg[em-1]===ed;em--){let ed=em-1,eg=ed*eu;if(eg%8==0)throw Error("padding: invalid, string has too much padding")}return eg.slice(0,em)}}}function eP(eu){return ew(eu),{encode:eu=>eu,decode:ed=>eu(ed)}}function eN(eu,ed,eg){if(ed<2)throw Error(`convertRadix: invalid from=${ed}, base cannot be less than 2`);if(eg<2)throw Error(`convertRadix: invalid to=${eg}, base cannot be less than 2`);if(eA(eu),!eu.length)return[];let em=0,eb=[],ew=Array.from(eu,eu=>{if(eE(eu),eu<0||eu>=ed)throw Error(`invalid integer: ${eu}`);return eu}),e_=ew.length;for(;;){let eu=0,eE=!0;for(let eb=em;eb<e_;eb++){let e_=ew[eb],eA=ed*eu,eS=eA+e_;if(!Number.isSafeInteger(eS)||eA/ed!==eu||eS-e_!==eA)throw Error("convertRadix: carry overflow");let eI=eS/eg;eu=eS%eg;let eC=Math.floor(eI);if(ew[eb]=eC,!Number.isSafeInteger(eC)||eC*eg+eu!==eS)throw Error("convertRadix: carry overflow");eE&&(eC?eE=!1:em=eb)}if(eb.push(eu),eE)break}for(let ed=0;ed<eu.length-1&&0===eu[ed];ed++)eb.push(0);return eb.reverse()}eg.d(ed,{Jq:function(){return eH},pJ:function(){return eF}});let ek=(eu,ed)=>0===ed?eu:ek(ed,eu%ed),eR=(eu,ed)=>eu+(ed-ek(eu,ed)),eD=(()=>{let eu=[];for(let ed=0;ed<40;ed++)eu.push(2**ed);return eu})();function eB(eu,ed,eg,em){if(eA(eu),ed<=0||ed>32)throw Error(`convertRadix2: wrong from=${ed}`);if(eg<=0||eg>32)throw Error(`convertRadix2: wrong to=${eg}`);if(eR(ed,eg)>32)throw Error(`convertRadix2: carry overflow from=${ed} to=${eg} carryBits=${eR(ed,eg)}`);let eb=0,ew=0,e_=eD[ed],eS=eD[eg]-1,eI=[];for(let em of eu){if(eE(em),em>=e_)throw Error(`convertRadix2: invalid data word=${em} from=${ed}`);if(eb=eb<<ed|em,ew+ed>32)throw Error(`convertRadix2: carry overflow pos=${ew} from=${ed}`);for(ew+=ed;ew>=eg;ew-=eg)eI.push((eb>>ew-eg&eS)>>>0);let eu=eD[ew];if(void 0===eu)throw Error("invalid carry");eb&=eu-1}if(eb=eb<<eg-ew&eS,!em&&ew>=ed)throw Error("Excess padding");if(!em&&eb>0)throw Error(`Non-zero padding: ${eb}`);return em&&ew>0&&eI.push(eb>>>0),eI}function eU(eu){eE(eu);let ed=256;return{encode:eg=>{if(!em(eg))throw Error("radix.encode input should be Uint8Array");return eN(Array.from(eg),ed,eu)},decode:eg=>(eI("radix.decode",eg),Uint8Array.from(eN(eg,eu,ed)))}}function eL(eu,ed=!1){if(eE(eu),eu<=0||eu>32)throw Error("radix2: bits should be in (0..32]");if(eR(8,eu)>32||eR(eu,8)>32)throw Error("radix2: carry overflow");return{encode:eg=>{if(!em(eg))throw Error("radix2.encode input should be Uint8Array");return eB(Array.from(eg),8,eu,!ed)},decode:eg=>(eI("radix2.decode",eg),Uint8Array.from(eB(eg,eu,8,ed)))}}function ej(eu){return ew(eu),function(...ed){try{return eu.apply(null,ed)}catch(eu){}}}eC(eL(4),eM("0123456789ABCDEF"),eO(""));let eF=eC(eL(5),eM("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),eT(5),eO(""));eC(eL(5),eM("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),eO("")),eC(eL(5),eM("0123456789ABCDEFGHIJKLMNOPQRSTUV"),eT(5),eO("")),eC(eL(5),eM("0123456789ABCDEFGHIJKLMNOPQRSTUV"),eO("")),eC(eL(5),eM("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),eO(""),eP(eu=>eu.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")));let e$="function"==typeof Uint8Array.from([]).toBase64&&"function"==typeof Uint8Array.fromBase64;e$||eC(eL(6),eM("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),eT(6),eO("")),eC(eL(6),eM("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),eO("")),e$||eC(eL(6),eM("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),eT(6),eO("")),eC(eL(6),eM("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),eO(""));let eK=eu=>eC(eU(58),eM(eu),eO("")),eH=eK("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");eK("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),eK("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");let eV=eC(eM("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),eO("")),eG=[996825010,642813549,513874426,1027748829,705979059];function eW(eu){let ed=eu>>25,eg=(33554431&eu)<<5;for(let eu=0;eu<eG.length;eu++)(ed>>eu&1)==1&&(eg^=eG[eu]);return eg}function eJ(eu,ed,eg=1){let em=eu.length,eb=1;for(let ed=0;ed<em;ed++){let eg=eu.charCodeAt(ed);if(eg<33||eg>126)throw Error(`Invalid prefix (${eu})`);eb=eW(eb)^eg>>5}eb=eW(eb);for(let ed=0;ed<em;ed++)eb=eW(eb)^31&eu.charCodeAt(ed);for(let eu of ed)eb=eW(eb)^eu;for(let eu=0;eu<6;eu++)eb=eW(eb);return eb^=eg,eV.encode(eB([eb%eD[30]],30,5,!1))}function eZ(eu){let ed="bech32"===eu?1:734539939,eg=eL(5),eb=eg.decode,ew=eg.encode,eE=ej(eb);function eA(eu,eg,eb=90){e_("bech32.encode prefix",eu),em(eg)&&(eg=Array.from(eg)),eI("bech32.encode",eg);let ew=eu.length;if(0===ew)throw TypeError(`Invalid prefix length ${ew}`);let eE=ew+7+eg.length;if(!1!==eb&&eE>eb)throw TypeError(`Length ${eE} exceeds limit ${eb}`);let eA=eu.toLowerCase(),eS=eJ(eA,eg,ed);return`${eA}1${eV.encode(eg)}${eS}`}function eS(eu,eg=90){e_("bech32.decode input",eu);let em=eu.length;if(em<8||!1!==eg&&em>eg)throw TypeError(`invalid string length: ${em} (${eu}). Expected (8..${eg})`);let eb=eu.toLowerCase();if(eu!==eb&&eu!==eu.toUpperCase())throw Error("String must be lowercase or uppercase");let ew=eb.lastIndexOf("1");if(0===ew||-1===ew)throw Error('Letter "1" must be present between prefix and data only');let eE=eb.slice(0,ew),eA=eb.slice(ew+1);if(eA.length<6)throw Error("Data must be at least 6 characters long");let eS=eV.decode(eA).slice(0,-6),eI=eJ(eE,eS,ed);if(!eA.endsWith(eI))throw Error(`Invalid checksum in ${eu}: expected "${eI}"`);return{prefix:eE,words:eS}}let eC=ej(eS);return{encode:eA,decode:eS,encodeFromBytes:function(eu,ed){return eA(eu,ew(ed))},decodeToBytes:function(eu){let{prefix:ed,words:eg}=eS(eu,!1);return{prefix:ed,words:eg,bytes:eb(eg)}},decodeUnsafe:eC,fromWords:eb,fromWordsUnsafe:eE,toWords:ew}}eZ("bech32"),eZ("bech32m");let eY="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex;eY||eC(eL(4),eM("0123456789abcdef"),eO(""),eP(eu=>{if("string"!=typeof eu||eu.length%2!=0)throw TypeError(`hex.decode: expected string, got ${typeof eu} with length ${eu.length}`);return eu.toLowerCase()}))},43640:function(eu,ed,eg){"use strict";eg.d(ed,{a:function(){return eI}});var em=eg(76182),eb=eg(77979),ew=eg(77314),e_=eg(54875),eE=eg(88518),eA=eg(1241),eS=eg(56940);function eI(eu){let ed,eC,eM,eO,eT,eP,eN,ek;let eR=eu.isNewChainsStale??!0,eD="eip155";return(0,em.K)(em=>({id:"walletConnect",name:"WalletConnect",type:eI.type,async setup(){let eu=await this.getProvider().catch(()=>null);eu&&(eT||(eT=this.onConnect.bind(this),eu.on("connect",eT)),eN||(eN=this.onSessionDelete.bind(this),eu.on("session_delete",eN)))},async connect({chainId:eu,...ed}={}){try{let eg=await this.getProvider();if(!eg)throw new eb.M;eP||(eP=this.onDisplayUri,eg.on("display_uri",eP));let ew=eu;if(!ew){let eu=await em.storage?.getItem("state")??{},ed=em.chains.some(ed=>ed.id===eu.chainId);ew=ed?eu.chainId:em.chains[0]?.id}if(!ew)throw Error("No chains found on connector.");let e_=await this.isChainsStale();if(eg.session&&e_&&await eg.disconnect(),!eg.session||e_){let eu=em.chains.filter(eu=>eu.id!==ew).map(eu=>eu.id);await eg.connect({optionalChains:[ew,...eu],..."pairingTopic"in ed?{pairingTopic:ed.pairingTopic}:{}}),this.setRequestedChainsIds(em.chains.map(eu=>eu.id))}let eA=(await eg.enable()).map(eu=>(0,eE.K)(eu)),eS=await this.getChainId();return eP&&(eg.removeListener("display_uri",eP),eP=void 0),eT&&(eg.removeListener("connect",eT),eT=void 0),eM||(eM=this.onAccountsChanged.bind(this),eg.on("accountsChanged",eM)),eO||(eO=this.onChainChanged.bind(this),eg.on("chainChanged",eO)),ek||(ek=this.onDisconnect.bind(this),eg.on("disconnect",ek)),eN||(eN=this.onSessionDelete.bind(this),eg.on("session_delete",eN)),{accounts:eA,chainId:eS}}catch(eu){if(/(user rejected|connection request reset)/i.test(eu?.message))throw new eA.ab(eu);throw eu}},async disconnect(){let eu=await this.getProvider();try{await eu?.disconnect()}catch(eu){if(!/No matching key/i.test(eu.message))throw eu}finally{eO&&(eu?.removeListener("chainChanged",eO),eO=void 0),ek&&(eu?.removeListener("disconnect",ek),ek=void 0),eT||(eT=this.onConnect.bind(this),eu?.on("connect",eT)),eM&&(eu?.removeListener("accountsChanged",eM),eM=void 0),eN&&(eu?.removeListener("session_delete",eN),eN=void 0),this.setRequestedChainsIds([])}},async getAccounts(){let eu=await this.getProvider();return eu.accounts.map(eu=>(0,eE.K)(eu))},async getProvider({chainId:eb}={}){async function e_(){let ed=em.chains.map(eu=>eu.id);if(!ed.length)return;let{EthereumProvider:eb}=await eg.e(6339).then(eg.bind(eg,26339));return await eb.init({...eu,disableProviderPing:!0,optionalChains:ed,projectId:eu.projectId,rpcMap:Object.fromEntries(em.chains.map(eu=>{let[ed]=(0,ew.N)({chain:eu,transports:em.transports});return[eu.id,ed]})),showQrModal:eu.showQrModal??!0})}return ed||(eC||(eC=e_()),ed=await eC,ed?.events.setMaxListeners(Number.POSITIVE_INFINITY)),eb&&await this.switchChain?.({chainId:eb}),ed},async getChainId(){let eu=await this.getProvider();return eu.chainId},async isAuthorized(){try{let[eu,ed]=await Promise.all([this.getAccounts(),this.getProvider()]);if(!eu.length)return!1;let eg=await this.isChainsStale();if(eg&&ed.session)return await ed.disconnect().catch(()=>{}),!1;return!0}catch{return!1}},async switchChain({addEthereumChainParameter:eu,chainId:ed}){let eg=await this.getProvider();if(!eg)throw new eb.M;let ew=em.chains.find(eu=>eu.id===ed);if(!ew)throw new eA.x3(new e_.X4);try{await Promise.all([new Promise(eu=>{let eg=({chainId:eb})=>{eb===ed&&(em.emitter.off("change",eg),eu())};em.emitter.on("change",eg)}),eg.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,eS.eC)(ed)}]})]);let eu=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...eu,ed]),ew}catch(eb){let em=eb;if(/(user rejected)/i.test(em.message))throw new eA.ab(em);try{let em,eb;em=eu?.blockExplorerUrls?eu.blockExplorerUrls:ew.blockExplorers?.default.url?[ew.blockExplorers?.default.url]:[],eb=eu?.rpcUrls?.length?eu.rpcUrls:[...ew.rpcUrls.default.http];let e_={blockExplorerUrls:em,chainId:(0,eS.eC)(ed),chainName:eu?.chainName??ew.name,iconUrls:eu?.iconUrls,nativeCurrency:eu?.nativeCurrency??ew.nativeCurrency,rpcUrls:eb};await eg.request({method:"wallet_addEthereumChain",params:[e_]});let eE=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...eE,ed]),ew}catch(eu){throw new eA.ab(eu)}}},onAccountsChanged(eu){0===eu.length?this.onDisconnect():em.emitter.emit("change",{accounts:eu.map(eu=>(0,eE.K)(eu))})},onChainChanged(eu){let ed=Number(eu);em.emitter.emit("change",{chainId:ed})},async onConnect(eu){let ed=Number(eu.chainId),eg=await this.getAccounts();em.emitter.emit("connect",{accounts:eg,chainId:ed})},async onDisconnect(eu){this.setRequestedChainsIds([]),em.emitter.emit("disconnect");let ed=await this.getProvider();eM&&(ed.removeListener("accountsChanged",eM),eM=void 0),eO&&(ed.removeListener("chainChanged",eO),eO=void 0),ek&&(ed.removeListener("disconnect",ek),ek=void 0),eN&&(ed.removeListener("session_delete",eN),eN=void 0),eT||(eT=this.onConnect.bind(this),ed.on("connect",eT))},onDisplayUri(eu){em.emitter.emit("message",{type:"display_uri",data:eu})},onSessionDelete(){this.onDisconnect()},getNamespaceChainsIds(){if(!ed)return[];let eu=ed.session?.namespaces[eD]?.accounts?.map(eu=>Number.parseInt(eu.split(":")[1]||""));return eu??[]},async getRequestedChainsIds(){return await em.storage?.getItem(this.requestedChainsStorageKey)??[]},async isChainsStale(){if(!eR)return!1;let eu=em.chains.map(eu=>eu.id),ed=this.getNamespaceChainsIds();if(ed.length&&!ed.some(ed=>eu.includes(ed)))return!1;let eg=await this.getRequestedChainsIds();return!eu.every(eu=>eg.includes(eu))},async setRequestedChainsIds(eu){await em.storage?.setItem(this.requestedChainsStorageKey,eu)},get requestedChainsStorageKey(){return`${this.id}.requestedChains`}}))}eI.type="walletConnect"},57477:function(eu,ed,eg){"use strict";eg.d(ed,{$:function(){return eb}});var em=eg(54875);async function eb(eu,ed){let eg;if((eg="function"==typeof ed.connector?eu._internal.connectors.setup(ed.connector):ed.connector).uid===eu.state.current)throw new em.wi;try{eu.setState(eu=>({...eu,status:"connecting"})),eg.emitter.emit("message",{type:"connecting"});let{connector:em,...eb}=ed,ew=await eg.connect(eb),e_=ew.accounts;return eg.emitter.off("connect",eu._internal.events.connect),eg.emitter.on("change",eu._internal.events.change),eg.emitter.on("disconnect",eu._internal.events.disconnect),await eu.storage?.setItem("recentConnectorId",eg.id),eu.setState(eu=>({...eu,connections:new Map(eu.connections).set(eg.uid,{accounts:e_,chainId:ew.chainId,connector:eg}),current:eg.uid,status:"connected"})),{accounts:e_,chainId:ew.chainId}}catch(ed){throw eu.setState(eu=>({...eu,status:eu.current?"connected":"disconnected"})),ed}}},71638:function(eu,ed,eg){"use strict";async function em(eu,ed={}){let eg;if(ed.connector)eg=ed.connector;else{let{connections:ed,current:em}=eu.state,eb=ed.get(em);eg=eb?.connector}let em=eu.state.connections;eg&&(await eg.disconnect(),eg.emitter.off("change",eu._internal.events.change),eg.emitter.off("disconnect",eu._internal.events.disconnect),eg.emitter.on("connect",eu._internal.events.connect),em.delete(eg.uid)),eu.setState(eu=>{if(0===em.size)return{...eu,connections:new Map,current:null,status:"disconnected"};let ed=em.values().next().value;return{...eu,connections:new Map(em),current:ed.connector.uid}});{let ed=eu.state.current;if(!ed)return;let eg=eu.state.connections.get(ed)?.connector;if(!eg)return;await eu.storage?.setItem("recentConnectorId",eg.id)}}eg.d(ed,{z:function(){return em}})},93236:function(eu,ed,eg){"use strict";eg.d(ed,{Q:function(){return e_}});var em=eg(42369),eb=eg(70018),ew=eg(70682);async function e_(eu,ed){let eg;let{chainId:e_,connector:eE,...eA}=ed;if(ed.account)eg=ed.account;else{let em=await (0,ew.e)(eu,{account:ed.account,chainId:e_,connector:eE});eg=em.account}let eS=eu.getClient({chainId:e_}),eI=(0,eb.s)(eS,em.Q,"estimateGas");return eI({...eA,account:eg})}},5950:function(eu,ed,eg){"use strict";function em(eu){let ed=eu.state.current,eg=eu.state.connections.get(ed),em=eg?.accounts,eb=em?.[0],ew=eu.chains.find(eu=>eu.id===eg?.chainId),e_=eu.state.status;switch(e_){case"connected":return{address:eb,addresses:em,chain:ew,chainId:eg?.chainId,connector:eg?.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:e_};case"reconnecting":return{address:eb,addresses:em,chain:ew,chainId:eg?.chainId,connector:eg?.connector,isConnected:!!eb,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:e_};case"connecting":return{address:eb,addresses:em,chain:ew,chainId:eg?.chainId,connector:eg?.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:e_};case"disconnected":return{address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:e_}}}eg.d(ed,{D:function(){return em}})},52948:function(eu,ed,eg){"use strict";eg.d(ed,{s:function(){return eI}});var em=eg(1491),eb=eg(55870),ew=eg(92083),e_=eg(86003),eE=eg(70018),eA=eg(24249),eS=eg(93672);async function eI(eu,ed){let{address:eg,blockNumber:eS,blockTag:eI,chainId:eM,token:eO,unit:eT="ether"}=ed;if(eO)try{return await eC(eu,{balanceAddress:eg,chainId:eM,symbolType:"string",tokenAddress:eO})}catch(ed){if("ContractFunctionExecutionError"===ed.name){let ed=await eC(eu,{balanceAddress:eg,chainId:eM,symbolType:"bytes32",tokenAddress:eO}),ew=(0,em.rR)((0,eb.f)(ed.symbol,{dir:"right"}));return{...ed,symbol:ew}}throw ed}let eP=eu.getClient({chainId:eM}),eN=(0,eE.s)(eP,e_.s,"getBalance"),ek=await eN(eS?{address:eg,blockNumber:eS}:{address:eg,blockTag:eI}),eR=eu.chains.find(eu=>eu.id===eM)??eP.chain;return{decimals:eR.nativeCurrency.decimals,formatted:(0,ew.b)(ek,(0,eA.W)(eT)),symbol:eR.nativeCurrency.symbol,value:ek}}async function eC(eu,ed){let{balanceAddress:eg,chainId:em,symbolType:eb,tokenAddress:e_,unit:eE}=ed,eI={abi:[{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:eb}]}],address:e_},[eC,eM,eO]=await (0,eS.J)(eu,{allowFailure:!1,contracts:[{...eI,functionName:"balanceOf",args:[eg],chainId:em},{...eI,functionName:"decimals",chainId:em},{...eI,functionName:"symbol",chainId:em}]}),eT=(0,ew.b)(eC??"0",(0,eA.W)(eE??eM));return{decimals:eM,formatted:eT,symbol:eO,value:eC}}},80474:function(eu,ed,eg){"use strict";eg.d(ed,{E:function(){return ew}});var em=eg(9651);let eb=[];function ew(eu){let ed=[...eu.state.connections.values()];return"reconnecting"===eu.state.status||(0,em.v)(eb,ed)?eb:(eb=ed,ed)}},70682:function(eu,ed,eg){"use strict";eg.d(ed,{e:function(){return eA}});var em=eg(76341),eb=eg(82419),ew=eg(6405),e_=eg(88518),eE=eg(54875);async function eA(eu,ed={}){let eg;if(ed.connector){let{connector:em}=ed;if("reconnecting"===eu.state.status&&!em.getAccounts&&!em.getChainId)throw new eE.$S({connector:em});let[eb,ew]=await Promise.all([em.getAccounts().catch(eu=>{if(null===ed.account)return[];throw eu}),em.getChainId()]);eg={accounts:eb,chainId:ew,connector:em}}else eg=eu.state.connections.get(eu.state.current);if(!eg)throw new eE.aH;let eA=ed.chainId??eg.chainId,eS=await eg.connector.getChainId();if(eS!==eg.chainId)throw new eE.XZ({connectionChainId:eg.chainId,connectorChainId:eS});let eI=eg.connector;if(eI.getClient)return eI.getClient({chainId:eA});let eC=(0,ew.T)(ed.account??eg.accounts[0]);if(eC&&(eC.address=(0,e_.K)(eC.address)),ed.account&&!eg.accounts.some(eu=>eu.toLowerCase()===eC.address.toLowerCase()))throw new eE.JK({address:eC.address,connector:eI});let eM=eu.chains.find(eu=>eu.id===eA),eO=await eg.connector.getProvider({chainId:eA});return(0,em.e)({account:eC,chain:eM,name:"Connector Client",transport:eu=>(0,eb.P)(eO)({...eu,retryCount:0})})}},87482:function(eu,ed,eg){"use strict";eg.d(ed,{A:function(){return ew}});var em=eg(26250),eb=eg(70018);async function ew(eu,ed){let{allowFailure:eg=!0,chainId:ew,contracts:e_,...eE}=ed,eA=eu.getClient({chainId:ew}),eS=(0,eb.s)(eA,em.A,"multicall");return eS({allowFailure:eg,contracts:e_,...eE})}},26178:function(eu,ed,eg){"use strict";eg.d(ed,{Z:function(){return e_}});var em=eg(44717),eb=eg(70018),ew=eg(5950);async function e_(eu,ed){let{account:eg,chainId:e_,...eE}=ed,eA=eg??(0,ew.D)(eu).address,eS=eu.getClient({chainId:e_}),eI=(0,eb.s)(eS,em.ZE,"prepareTransactionRequest");return eI({...eE,...eA?{account:eA}:{}})}},75096:function(eu,ed,eg){"use strict";eg.d(ed,{L:function(){return ew}});var em=eg(58845),eb=eg(70018);function ew(eu,ed){let{chainId:eg,...ew}=ed,e_=eu.getClient({chainId:eg}),eE=(0,eb.s)(e_,em.L,"readContract");return eE(ew)}},93672:function(eu,ed,eg){"use strict";eg.d(ed,{J:function(){return e_}});var em=eg(30412),eb=eg(87482),ew=eg(75096);async function e_(eu,ed){let{allowFailure:eg=!0,blockNumber:e_,blockTag:eE,...eA}=ed,eS=ed.contracts;try{let ed={};for(let[eg,em]of eS.entries()){let eb=em.chainId??eu.state.chainId;ed[eb]||(ed[eb]=[]),ed[eb]?.push({contract:em,index:eg})}let em=()=>Object.entries(ed).map(([ed,em])=>(0,eb.A)(eu,{...eA,allowFailure:eg,blockNumber:e_,blockTag:eE,chainId:Number.parseInt(ed),contracts:em.map(({contract:eu})=>eu)})),ew=(await Promise.all(em())).flat(),eI=Object.values(ed).flatMap(eu=>eu.map(({index:eu})=>eu));return ew.reduce((eu,ed,eg)=>(eu&&(eu[eI[eg]]=ed),eu),[])}catch(eb){if(eb instanceof em.uq)throw eb;let ed=()=>eS.map(ed=>(0,ew.L)(eu,{...ed,blockNumber:e_,blockTag:eE}));if(eg)return(await Promise.allSettled(ed())).map(eu=>"fulfilled"===eu.status?{result:eu.value,status:"success"}:{error:eu.reason,result:void 0,status:"failure"});return await Promise.all(ed())}}},67626:function(eu,ed,eg){"use strict";eg.d(ed,{G:function(){return eb}});let em=!1;async function eb(eu,ed={}){let eg;if(em)return[];em=!0,eu.setState(eu=>({...eu,status:eu.current?"reconnecting":"connecting"}));let eb=[];if(ed.connectors?.length)for(let eg of ed.connectors){let ed;ed="function"==typeof eg?eu._internal.connectors.setup(eg):eg,eb.push(ed)}else eb.push(...eu.connectors);try{eg=await eu.storage?.getItem("recentConnectorId")}catch{}let ew={};for(let[,ed]of eu.state.connections)ew[ed.connector.id]=1;eg&&(ew[eg]=0);let e_=Object.keys(ew).length>0?[...eb].sort((eu,ed)=>(ew[eu.id]??10)-(ew[ed.id]??10)):eb,eE=!1,eA=[],eS=[];for(let ed of e_){let eg=await ed.getProvider().catch(()=>void 0);if(!eg||eS.some(eu=>eu===eg))continue;let em=await ed.isAuthorized();if(!em)continue;let eb=await ed.connect({isReconnecting:!0}).catch(()=>null);eb&&(ed.emitter.off("connect",eu._internal.events.connect),ed.emitter.on("change",eu._internal.events.change),ed.emitter.on("disconnect",eu._internal.events.disconnect),eu.setState(eu=>{let eg=new Map(eE?eu.connections:new Map).set(ed.uid,{accounts:eb.accounts,chainId:eb.chainId,connector:ed});return{...eu,current:eE?eu.current:ed.uid,connections:eg}}),eA.push({accounts:eb.accounts,chainId:eb.chainId,connector:ed}),eS.push(eg),eE=!0)}return("reconnecting"===eu.state.status||"connecting"===eu.state.status)&&(eE?eu.setState(eu=>({...eu,status:"connected"})):eu.setState(eu=>({...eu,connections:new Map,current:null,status:"disconnected"}))),em=!1,eA}},24961:function(eu,ed,eg){"use strict";eg.d(ed,{T:function(){return e_}});var em=eg(10771),eb=eg(70018),ew=eg(70682);async function e_(eu,ed){let eg;let{account:e_,chainId:eE,connector:eA,...eS}=ed;eg="object"==typeof e_&&e_?.type==="local"?eu.getClient({chainId:eE}):await (0,ew.e)(eu,{account:e_??void 0,chainId:eE,connector:eA});let eI=(0,eb.s)(eg,em.T,"sendTransaction"),eC=await eI({...eS,...e_?{account:e_}:{},chain:eE?{id:eE}:null,gas:eS.gas??void 0});return eC}},12236:function(eu,ed,eg){"use strict";eg.d(ed,{l:function(){return e_}});var em=eg(16455),eb=eg(70018),ew=eg(70682);async function e_(eu,ed){let eg;let{account:e_,connector:eE,...eA}=ed;eg="object"==typeof e_&&"local"===e_.type?eu.getClient():await (0,ew.e)(eu,{account:e_,connector:eE});let eS=(0,eb.s)(eg,em.l,"signMessage");return eS({...eA,...e_?{account:e_}:{}})}},73710:function(eu,ed,eg){"use strict";eg.d(ed,{c:function(){return ew}});var em=eg(54875),eb=eg(77979);async function ew(eu,ed){let{addEthereumChainParameter:eg,chainId:ew}=ed,e_=eu.state.connections.get(ed.connector?.uid??eu.state.current);if(e_){let eu=e_.connector;if(!eu.switchChain)throw new eb.O({connector:eu});let ed=await eu.switchChain({addEthereumChainParameter:eg,chainId:ew});return ed}let eE=eu.chains.find(eu=>eu.id===ew);if(!eE)throw new em.X4;return eu.setState(eu=>({...eu,chainId:ew})),eE}},27386:function(eu,ed,eg){"use strict";eg.d(ed,{e:function(){return eA}});var em=eg(1491),eb=eg(42925),ew=eg(11027),e_=eg(93671),eE=eg(70018);async function eA(eu,ed){let{chainId:eg,timeout:eA=0,...eS}=ed,eI=eu.getClient({chainId:eg}),eC=(0,eE.s)(eI,eb.e,"waitForTransactionReceipt"),eM=await eC({...eS,timeout:eA});if("reverted"===eM.status){let eu=(0,eE.s)(eI,ew.f,"getTransaction"),ed=await eu({hash:eM.transactionHash}),eg=(0,eE.s)(eI,e_.R,"call"),eb=await eg({...ed,data:ed.input,gasPrice:"eip1559"!==ed.type?ed.gasPrice:void 0,maxFeePerGas:"eip1559"===ed.type?ed.maxFeePerGas:void 0,maxPriorityFeePerGas:"eip1559"===ed.type?ed.maxPriorityFeePerGas:void 0}),eA=eb?.data?(0,em.rR)(`0x${eb.data.substring(138)}`):"unknown reason";throw Error(eA)}return{...eM,chainId:eI.chain.id}}},33134:function(eu,ed,eg){"use strict";eg.d(ed,{u:function(){return ew}});var em=eg(9651),eb=eg(5950);function ew(eu,ed){let{onChange:eg}=ed;return eu.subscribe(()=>(0,eb.D)(eu),eg,{equalityFn(eu,ed){let{connector:eg,...eb}=eu,{connector:ew,...e_}=ed;return(0,em.v)(eb,e_)&&eg?.id===ew?.id&&eg?.uid===ew?.uid}})}},71965:function(eu,ed,eg){"use strict";eg.d(ed,{a:function(){return ew}});var em=eg(9651),eb=eg(80474);function ew(eu,ed){let{onChange:eg}=ed;return eu.subscribe(()=>(0,eb.E)(eu),eg,{equalityFn:em.v})}},90819:function(eu,ed,eg){"use strict";function em(eu,ed){let{onChange:eg}=ed;return eu._internal.connectors.subscribe((eu,ed)=>{eg(Object.values(eu),ed)})}eg.d(ed,{f:function(){return em}})},56916:function(eu,ed,eg){"use strict";eg.d(ed,{O:function(){return ew}});var em=eg(98227),eb=eg(70018);function ew(eu,ed){let eg,ew;let{syncConnectedChain:e_=eu._internal.syncConnectedChain,...eE}=ed,eA=ed=>{eg&&eg();let ew=eu.getClient({chainId:ed}),e_=(0,eb.s)(ew,em.O,"watchPendingTransactions");return eg=e_(eE)},eS=eA(ed.chainId);return e_&&!ed.chainId&&(ew=eu.subscribe(({chainId:eu})=>eu,async eu=>eA(eu))),()=>{eS?.(),ew?.()}}},86400:function(eu,ed,eg){"use strict";eg.d(ed,{n:function(){return e_}});var em=eg(95721),eb=eg(70018),ew=eg(70682);async function e_(eu,ed){let eg;let{account:e_,chainId:eE,connector:eA,...eS}=ed;eg="object"==typeof e_&&e_?.type==="local"?eu.getClient({chainId:eE}):await (0,ew.e)(eu,{account:e_??void 0,chainId:eE,connector:eA});let eI=(0,eb.s)(eg,em.n,"writeContract"),eC=await eI({...eS,...e_?{account:e_}:{},chain:eE?{id:eE}:null});return eC}},76182:function(eu,ed,eg){"use strict";function em(eu){return eu}eg.d(ed,{K:function(){return em}})},39288:function(eu,ed,eg){"use strict";eg.d(ed,{L:function(){return eC}});var em=eg(88518),eb=eg(1241),ew=eg(21405),e_=eg(47162),eE=eg(56940),eA=eg(54875),eS=eg(77979),eI=eg(76182);function eC(eu={}){let ed,eg,eT,eP;let{shimDisconnect:eN=!0,unstable_shimAsyncInject:ek}=eu;function eR(){let ed=eu.target;if("function"==typeof ed){let eu=ed();if(eu)return eu}return"object"==typeof ed?ed:"string"==typeof ed?{...eM[ed]??{id:ed,name:`${ed[0].toUpperCase()}${ed.slice(1)}`,provider:`is${ed[0].toUpperCase()}${ed.slice(1)}`}}:{id:"injected",name:"Injected",provider:eu=>eu?.ethereum}}return(0,eI.K)(eI=>({get icon(){return eR().icon},get id(){return eR().id},get name(){return eR().name},get supportsSimulation(){return!0},type:eC.type,async setup(){let eg=await this.getProvider();eg?.on&&eu.target&&(eT||(eT=this.onConnect.bind(this),eg.on("connect",eT)),ed||(ed=this.onAccountsChanged.bind(this),eg.on("accountsChanged",ed)))},async connect({chainId:ew,isReconnecting:e_}={}){let eE=await this.getProvider();if(!eE)throw new eS.M;let eA=[];if(e_)eA=await this.getAccounts().catch(()=>[]);else if(eN)try{let eu=await eE.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]});if((eA=eu[0]?.caveats?.[0]?.value?.map(eu=>(0,em.K)(eu))).length>0){let eu=await this.getAccounts();eA=eu}}catch(ed){let eu=ed;if(eu.code===eb.ab.code)throw new eb.ab(eu);if(eu.code===eb.pT.code)throw eu}try{if(!eA?.length&&!e_){let eu=await eE.request({method:"eth_requestAccounts"});eA=eu.map(eu=>(0,em.K)(eu))}eT&&(eE.removeListener("connect",eT),eT=void 0),ed||(ed=this.onAccountsChanged.bind(this),eE.on("accountsChanged",ed)),eg||(eg=this.onChainChanged.bind(this),eE.on("chainChanged",eg)),eP||(eP=this.onDisconnect.bind(this),eE.on("disconnect",eP));let eS=await this.getChainId();if(ew&&eS!==ew){let eu=await this.switchChain({chainId:ew}).catch(eu=>{if(eu.code===eb.ab.code)throw eu;return{id:eS}});eS=eu?.id??eS}return eN&&await eI.storage?.removeItem(`${this.id}.disconnected`),eu.target||await eI.storage?.setItem("injected.connected",!0),{accounts:eA,chainId:eS}}catch(ed){let eu=ed;if(eu.code===eb.ab.code)throw new eb.ab(eu);if(eu.code===eb.pT.code)throw new eb.pT(eu);throw eu}},async disconnect(){let ed=await this.getProvider();if(!ed)throw new eS.M;eg&&(ed.removeListener("chainChanged",eg),eg=void 0),eP&&(ed.removeListener("disconnect",eP),eP=void 0),eT||(eT=this.onConnect.bind(this),ed.on("connect",eT));try{await (0,ew.F)(()=>ed.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}eN&&await eI.storage?.setItem(`${this.id}.disconnected`,!0),eu.target||await eI.storage?.removeItem("injected.connected")},async getAccounts(){let eu=await this.getProvider();if(!eu)throw new eS.M;let ed=await eu.request({method:"eth_accounts"});return ed.map(eu=>(0,em.K)(eu))},async getChainId(){let eu=await this.getProvider();if(!eu)throw new eS.M;let ed=await eu.request({method:"eth_chainId"});return Number(ed)},async getProvider(){let eu;if("undefined"==typeof window)return;let ed=eR();return(eu="function"==typeof ed.provider?ed.provider(window):"string"==typeof ed.provider?eO(window,ed.provider):ed.provider)&&!eu.removeListener&&("off"in eu&&"function"==typeof eu.off?eu.removeListener=eu.off:eu.removeListener=()=>{}),eu},async isAuthorized(){try{let ed=eN&&await eI.storage?.getItem(`${this.id}.disconnected`);if(ed)return!1;if(!eu.target){let eu=await eI.storage?.getItem("injected.connected");if(!eu)return!1}let eg=await this.getProvider();if(!eg){if(void 0!==ek&&!1!==ek){let eu=async()=>{"undefined"!=typeof window&&window.removeEventListener("ethereum#initialized",eu);let ed=await this.getProvider();return!!ed},ed="number"==typeof ek?ek:1e3,eg=await Promise.race([..."undefined"!=typeof window?[new Promise(ed=>window.addEventListener("ethereum#initialized",()=>ed(eu()),{once:!0}))]:[],new Promise(eg=>setTimeout(()=>eg(eu()),ed))]);if(eg)return!0}throw new eS.M}let em=await (0,e_.J)(()=>this.getAccounts());return!!em.length}catch{return!1}},async switchChain({addEthereumChainParameter:eu,chainId:ed}){let eg=await this.getProvider();if(!eg)throw new eS.M;let em=eI.chains.find(eu=>eu.id===ed);if(!em)throw new eb.x3(new eA.X4);let ew=new Promise(eu=>{let eg=em=>{"chainId"in em&&em.chainId===ed&&(eI.emitter.off("change",eg),eu())};eI.emitter.on("change",eg)});try{return await Promise.all([eg.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,eE.eC)(ed)}]}).then(async()=>{let eu=await this.getChainId();eu===ed&&eI.emitter.emit("change",{chainId:ed})}),ew]),em}catch(eA){let e_=eA;if(4902===e_.code||e_?.data?.originalError?.code===4902)try{let e_,eA;let{default:eS,...eC}=em.blockExplorers??{};eu?.blockExplorerUrls?e_=eu.blockExplorerUrls:eS&&(e_=[eS.url,...Object.values(eC).map(eu=>eu.url)]),eA=eu?.rpcUrls?.length?eu.rpcUrls:[em.rpcUrls.default?.http[0]??""];let eM={blockExplorerUrls:e_,chainId:(0,eE.eC)(ed),chainName:eu?.chainName??em.name,iconUrls:eu?.iconUrls,nativeCurrency:eu?.nativeCurrency??em.nativeCurrency,rpcUrls:eA};return await Promise.all([eg.request({method:"wallet_addEthereumChain",params:[eM]}).then(async()=>{let eu=await this.getChainId();if(eu===ed)eI.emitter.emit("change",{chainId:ed});else throw new eb.ab(Error("User rejected switch after adding network."))}),ew]),em}catch(eu){throw new eb.ab(eu)}if(e_.code===eb.ab.code)throw new eb.ab(e_);throw new eb.x3(e_)}},async onAccountsChanged(eu){if(0===eu.length)this.onDisconnect();else if(eI.emitter.listenerCount("connect")){let eu=(await this.getChainId()).toString();this.onConnect({chainId:eu}),eN&&await eI.storage?.removeItem(`${this.id}.disconnected`)}else eI.emitter.emit("change",{accounts:eu.map(eu=>(0,em.K)(eu))})},onChainChanged(eu){let ed=Number(eu);eI.emitter.emit("change",{chainId:ed})},async onConnect(eu){let em=await this.getAccounts();if(0===em.length)return;let eb=Number(eu.chainId);eI.emitter.emit("connect",{accounts:em,chainId:eb});let ew=await this.getProvider();ew&&(eT&&(ew.removeListener("connect",eT),eT=void 0),ed||(ed=this.onAccountsChanged.bind(this),ew.on("accountsChanged",ed)),eg||(eg=this.onChainChanged.bind(this),ew.on("chainChanged",eg)),eP||(eP=this.onDisconnect.bind(this),ew.on("disconnect",eP)))},async onDisconnect(eu){let ed=await this.getProvider();eu&&1013===eu.code&&ed&&(await this.getAccounts()).length||(eI.emitter.emit("disconnect"),ed&&(eg&&(ed.removeListener("chainChanged",eg),eg=void 0),eP&&(ed.removeListener("disconnect",eP),eP=void 0),eT||(eT=this.onConnect.bind(this),ed.on("connect",eT))))}}))}eC.type="injected";let eM={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider:eu=>eu?.coinbaseWalletExtension?eu.coinbaseWalletExtension:eO(eu,"isCoinbaseWallet")},metaMask:{id:"metaMask",name:"MetaMask",provider:eu=>eO(eu,eu=>{if(!eu.isMetaMask||eu.isBraveWallet&&!eu._events&&!eu._state)return!1;let ed=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"];for(let eg of ed)if(eu[eg])return!1;return!0})},phantom:{id:"phantom",name:"Phantom",provider:eu=>eu?.phantom?.ethereum?eu.phantom?.ethereum:eO(eu,"isPhantom")}};function eO(eu,ed){function eg(eu){return"function"==typeof ed?ed(eu):"string"!=typeof ed||eu[ed]}let em=eu.ethereum;return em?.providers?em.providers.find(eu=>eg(eu)):em&&eg(em)?em:void 0}},45604:function(eu,ed,eg){"use strict";let em;function eb(eu){if("undefined"==typeof window)return;let ed=ed=>eu(ed.detail);return window.addEventListener("eip6963:announceProvider",ed),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",ed)}function ew(){let eu=new Set,ed=[],eg=()=>eb(eg=>{ed.some(({info:eu})=>eu.uuid===eg.info.uuid)||(ed=[...ed,eg],eu.forEach(eu=>eu(ed,{added:[eg]})))}),em=eg();return{_listeners:()=>eu,clear(){eu.forEach(eu=>eu([],{removed:[...ed]})),ed=[]},destroy(){this.clear(),eu.clear(),em?.()},findProvider:({rdns:eu})=>ed.find(ed=>ed.info.rdns===eu),getProviders:()=>ed,reset(){this.clear(),em?.(),em=eg()},subscribe:(eg,{emitImmediately:em}={})=>(eu.add(eg),em&&eg(ed,{added:ed}),()=>eu.delete(eg))}}eg.d(ed,{_:function(){return e$}});var e_=eg(76341);let eE=eu=>(ed,eg,em)=>{let eb=em.subscribe;em.subscribe=(eu,ed,eg)=>{let ew=eu;if(ed){let eb=(null==eg?void 0:eg.equalityFn)||Object.is,e_=eu(em.getState());ew=eg=>{let em=eu(eg);if(!eb(e_,em)){let eu=e_;ed(e_=em,eu)}},(null==eg?void 0:eg.fireImmediately)&&ed(e_,e_)}return eb(ew)};let ew=eu(ed,eg,em);return ew},eA=eE;function eS(eu,ed){let eg;try{eg=eu()}catch(eu){return}let em={getItem:eu=>{var em;let eb=eu=>null===eu?null:JSON.parse(eu,null==ed?void 0:ed.reviver),ew=null!=(em=eg.getItem(eu))?em:null;return ew instanceof Promise?ew.then(eb):eb(ew)},setItem:(eu,em)=>eg.setItem(eu,JSON.stringify(em,null==ed?void 0:ed.replacer)),removeItem:eu=>eg.removeItem(eu)};return em}let eI=eu=>ed=>{try{let eg=eu(ed);if(eg instanceof Promise)return eg;return{then:eu=>eI(eu)(eg),catch(eu){return this}}}catch(eu){return{then(eu){return this},catch:ed=>eI(ed)(eu)}}},eC=(eu,ed)=>(eg,em,eb)=>{let ew,e_={storage:eS(()=>localStorage),partialize:eu=>eu,version:0,merge:(eu,ed)=>({...ed,...eu}),...ed},eE=!1,eA=new Set,eC=new Set,eM=e_.storage;if(!eM)return eu((...eu)=>{console.warn(`[zustand persist middleware] Unable to update item '${e_.name}', the given storage is currently unavailable.`),eg(...eu)},em,eb);let eO=()=>{let eu=e_.partialize({...em()});return eM.setItem(e_.name,{state:eu,version:e_.version})},eT=eb.setState;eb.setState=(eu,ed)=>{eT(eu,ed),eO()};let eP=eu((...eu)=>{eg(...eu),eO()},em,eb);eb.getInitialState=()=>eP;let eN=()=>{var eu,ed;if(!eM)return;eE=!1,eA.forEach(eu=>{var ed;return eu(null!=(ed=em())?ed:eP)});let eb=(null==(ed=e_.onRehydrateStorage)?void 0:ed.call(e_,null!=(eu=em())?eu:eP))||void 0;return eI(eM.getItem.bind(eM))(e_.name).then(eu=>{if(eu){if("number"!=typeof eu.version||eu.version===e_.version)return[!1,eu.state];if(e_.migrate)return[!0,e_.migrate(eu.state,eu.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(eu=>{var ed;let[eb,eE]=eu;if(eg(ew=e_.merge(eE,null!=(ed=em())?ed:eP),!0),eb)return eO()}).then(()=>{null==eb||eb(ew,void 0),ew=em(),eE=!0,eC.forEach(eu=>eu(ew))}).catch(eu=>{null==eb||eb(void 0,eu)})};return eb.persist={setOptions:eu=>{e_={...e_,...eu},eu.storage&&(eM=eu.storage)},clearStorage:()=>{null==eM||eM.removeItem(e_.name)},getOptions:()=>e_,rehydrate:()=>eN(),hasHydrated:()=>eE,onHydrate:eu=>(eA.add(eu),()=>{eA.delete(eu)}),onFinishHydration:eu=>(eC.add(eu),()=>{eC.delete(eu)})},e_.skipHydration||eN(),ew||eP},eM=eC,eO=eu=>{let ed;let eg=new Set,em=(eu,em)=>{let eb="function"==typeof eu?eu(ed):eu;if(!Object.is(eb,ed)){let eu=ed;ed=(null!=em?em:"object"!=typeof eb||null===eb)?eb:Object.assign({},ed,eb),eg.forEach(eg=>eg(ed,eu))}},eb=()=>ed,ew=()=>eA,e_=eu=>(eg.add(eu),()=>eg.delete(eu)),eE={setState:em,getState:eb,getInitialState:ew,subscribe:e_},eA=ed=eu(em,eb,eE);return eE},eT=eu=>eu?eO(eu):eO;var eP=eg(39288),eN=eg(30686);class ek{constructor(eu){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:eu}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new eN.v})}on(eu,ed){this._emitter.on(eu,ed)}once(eu,ed){this._emitter.once(eu,ed)}off(eu,ed){this._emitter.off(eu,ed)}emit(eu,...ed){let eg=ed[0];this._emitter.emit(eu,{uid:this.uid,...eg})}listenerCount(eu){return this._emitter.listenerCount(eu)}}function eR(eu){return new ek(eu)}var eD=eg(61253),eB=eg(54875);let eU=256,eL=eU;function ej(eu=11){if(!em||eL+eu>2*eU){em="",eL=0;for(let eu=0;eu<eU;eu++)em+=(256+256*Math.random()|0).toString(16).substring(1)}return em.substring(eL,eL+++eu)}var eF=eg(29604);function e$(eu){let ed;let{multiInjectedProviderDiscovery:eg=!0,storage:em=(0,eD.o6)({storage:(0,eD.ns)()}),syncConnectedChain:eb=!0,ssr:eE=!1,...eS}=eu,eI="undefined"!=typeof window&&eg?ew():void 0,eC=eT(()=>eS.chains),eO=eT(()=>{let eu=[],ed=new Set;for(let eg of eS.connectors??[]){let em=eN(eg);if(eu.push(em),!eE&&em.rdns){let eu="string"==typeof em.rdns?[em.rdns]:em.rdns;for(let eg of eu)ed.add(eg)}}if(!eE&&eI){let eg=eI.getProviders();for(let em of eg)ed.has(em.info.rdns)||eu.push(eN(ek(em)))}return eu});function eN(eu){let ed=eR(ej()),eg={...eu({emitter:ed,chains:eC.getState(),storage:em,transports:eS.transports}),emitter:ed,uid:ed.uid};return ed.on("connect",eW),eg.setup?.(),eg}function ek(eu){let{info:ed}=eu,eg=eu.provider;return(0,eP.L)({target:{...ed,id:ed.rdns,provider:eg}})}let eU=new Map;function eL(eu={}){let ed;let eg=eu.chainId??eH.getState().chainId,em=eC.getState().find(eu=>eu.id===eg);if(eu.chainId&&!em)throw new eB.X4;{let eu=eU.get(eH.getState().chainId);if(eu&&!em)return eu;if(!em)throw new eB.X4}{let eu=eU.get(eg);if(eu)return eu}if(eS.client)ed=eS.client({chain:em});else{let eu=em.id,eg=eC.getState().map(eu=>eu.id),eb={},ew=Object.entries(eS);for(let[ed,em]of ew)if("chains"!==ed&&"client"!==ed&&"connectors"!==ed&&"transports"!==ed){if("object"==typeof em){if(eu in em)eb[ed]=em[eu];else{let eu=eg.some(eu=>eu in em);if(eu)continue;eb[ed]=em}}else eb[ed]=em}ed=(0,e_.e)({...eb,chain:em,batch:eb.batch??{multicall:!0},transport:ed=>eS.transports[eu]({...ed,connectors:eO})})}return eU.set(eg,ed),ed}function e$(){return{chainId:eC.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let eK="0.0.0-canary-";ed=eF.i.startsWith(eK)?Number.parseInt(eF.i.replace(eK,"")):Number.parseInt(eF.i.split(".")[0]??"0");let eH=eT(eA(em?eM(e$,{migrate(eu,eg){if(eg===ed)return eu;let em=e$(),eb=eV(eu,em.chainId);return{...em,chainId:eb}},name:"store",partialize:eu=>({connections:{__type:"Map",value:Array.from(eu.connections.entries()).map(([eu,ed])=>{let{id:eg,name:em,type:eb,uid:ew}=ed.connector,e_={id:eg,name:em,type:eb,uid:ew};return[eu,{...ed,connector:e_}]})},chainId:eu.chainId,current:eu.current}),merge(eu,ed){"object"==typeof eu&&eu&&"status"in eu&&delete eu.status;let eg=eV(eu,ed.chainId);return{...ed,...eu,chainId:eg}},skipHydration:eE,storage:em,version:ed}):e$));function eV(eu,ed){return eu&&"object"==typeof eu&&"chainId"in eu&&"number"==typeof eu.chainId&&eC.getState().some(ed=>ed.id===eu.chainId)?eu.chainId:ed}function eG(eu){eH.setState(ed=>{let eg=ed.connections.get(eu.uid);return eg?{...ed,connections:new Map(ed.connections).set(eu.uid,{accounts:eu.accounts??eg.accounts,chainId:eu.chainId??eg.chainId,connector:eg.connector})}:ed})}function eW(eu){"connecting"!==eH.getState().status&&"reconnecting"!==eH.getState().status&&eH.setState(ed=>{let eg=eO.getState().find(ed=>ed.uid===eu.uid);return eg?(eg.emitter.listenerCount("connect")&&eg.emitter.off("connect",eG),eg.emitter.listenerCount("change")||eg.emitter.on("change",eG),eg.emitter.listenerCount("disconnect")||eg.emitter.on("disconnect",eJ),{...ed,connections:new Map(ed.connections).set(eu.uid,{accounts:eu.accounts,chainId:eu.chainId,connector:eg}),current:eu.uid,status:"connected"}):ed})}function eJ(eu){eH.setState(ed=>{let eg=ed.connections.get(eu.uid);if(eg){let eu=eg.connector;eu.emitter.listenerCount("change")&&eg.connector.emitter.off("change",eG),eu.emitter.listenerCount("disconnect")&&eg.connector.emitter.off("disconnect",eJ),eu.emitter.listenerCount("connect")||eg.connector.emitter.on("connect",eW)}if(ed.connections.delete(eu.uid),0===ed.connections.size)return{...ed,connections:new Map,current:null,status:"disconnected"};let em=ed.connections.values().next().value;return{...ed,connections:new Map(ed.connections),current:em.connector.uid}})}return eH.setState(e$()),eb&&eH.subscribe(({connections:eu,current:ed})=>ed?eu.get(ed)?.chainId:void 0,eu=>{let ed=eC.getState().some(ed=>ed.id===eu);if(ed)return eH.setState(ed=>({...ed,chainId:eu??ed.chainId}))}),eI?.subscribe(eu=>{let ed=new Set,eg=new Set;for(let eu of eO.getState())if(ed.add(eu.id),eu.rdns){let ed="string"==typeof eu.rdns?[eu.rdns]:eu.rdns;for(let eu of ed)eg.add(eu)}let eb=[];for(let em of eu){if(eg.has(em.info.rdns))continue;let eu=eN(ek(em));ed.has(eu.id)||eb.push(eu)}(!em||eH.persist.hasHydrated())&&eO.setState(eu=>[...eu,...eb],!0)}),{get chains(){return eC.getState()},get connectors(){return eO.getState()},storage:em,getClient:eL,get state(){return eH.getState()},setState(eu){let ed;ed="function"==typeof eu?eu(eH.getState()):eu;let eg=e$();"object"!=typeof ed&&(ed=eg);let em=Object.keys(eg).some(eu=>!(eu in ed));em&&(ed=eg),eH.setState(ed,!0)},subscribe:(eu,ed,eg)=>eH.subscribe(eu,ed,eg?{...eg,fireImmediately:eg.emitImmediately}:void 0),_internal:{mipd:eI,store:eH,ssr:!!eE,syncConnectedChain:eb,transports:eS.transports,chains:{setState(eu){let ed="function"==typeof eu?eu(eC.getState()):eu;if(0!==ed.length)return eC.setState(ed,!0)},subscribe:eu=>eC.subscribe(eu)},connectors:{providerDetailToConnector:ek,setup:eN,setState:eu=>eO.setState("function"==typeof eu?eu(eO.getState()):eu,!0),subscribe:eu=>eO.subscribe(eu)},events:{change:eG,connect:eW,disconnect:eJ}}}}},61253:function(eu,ed,eg){"use strict";eg.d(ed,{ns:function(){return eE},o6:function(){return ew},wp:function(){return e_}});var em=eg(26078),eb=eg(9986);function ew(eu){let{deserialize:ed=em.v,key:eg="wagmi",serialize:ew=eb.q,storage:eE=e_}=eu;function eA(eu){return eu instanceof Promise?eu.then(eu=>eu).catch(()=>null):eu}return{...eE,key:eg,async getItem(eu,em){let eb=eE.getItem(`${eg}.${eu}`),ew=await eA(eb);return ew?ed(ew)??null:em??null},async setItem(eu,ed){let em=`${eg}.${eu}`;null===ed?await eA(eE.removeItem(em)):await eA(eE.setItem(em,ew(ed)))},async removeItem(eu){await eA(eE.removeItem(`${eg}.${eu}`))}}}let e_={getItem:()=>null,setItem:()=>{},removeItem:()=>{}};function eE(){let eu="undefined"!=typeof window&&window.localStorage?window.localStorage:e_;return{getItem:ed=>eu.getItem(ed),removeItem(ed){eu.removeItem(ed)},setItem(ed,eg){try{eu.setItem(ed,eg)}catch{}}}}},58577:function(eu,ed,eg){"use strict";eg.d(ed,{G:function(){return eA}});var em,eb,ew=eg(29604);let e_=()=>`@wagmi/core@${ew.i}`;var eE=function(eu,ed,eg,em){if("a"===eg&&!em)throw TypeError("Private accessor was defined without a getter");if("function"==typeof ed?eu!==ed||!em:!ed.has(eu))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===eg?em:"a"===eg?em.call(eu):em?em.value:ed.get(eu)};class eA extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return e_()}constructor(eu,ed={}){super(),em.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});let eg=ed.cause instanceof eA?ed.cause.details:ed.cause?.message?ed.cause.message:ed.details,eb=ed.cause instanceof eA&&ed.cause.docsPath||ed.docsPath;this.message=[eu||"An error occurred.","",...ed.metaMessages?[...ed.metaMessages,""]:[],...eb?[`Docs: ${this.docsBaseUrl}${eb}.html${ed.docsSlug?`#${ed.docsSlug}`:""}`]:[],...eg?[`Details: ${eg}`]:[],`Version: ${this.version}`].join("\n"),ed.cause&&(this.cause=ed.cause),this.details=eg,this.docsPath=eb,this.metaMessages=ed.metaMessages,this.shortMessage=eu}walk(eu){return eE(this,em,"m",eb).call(this,this,eu)}}em=new WeakSet,eb=function eu(ed,eg){return eg?.(ed)?ed:ed.cause?eE(this,em,"m",eu).call(this,ed.cause,eg):ed}},54875:function(eu,ed,eg){"use strict";eg.d(ed,{$S:function(){return eI},JK:function(){return eA},Nu:function(){return eE},X4:function(){return eb},XZ:function(){return eS},aH:function(){return e_},wi:function(){return ew}});var em=eg(58577);class eb extends em.G{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}class ew extends em.G{constructor(){super("Connector already connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAlreadyConnectedError"})}}class e_ extends em.G{constructor(){super("Connector not connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorNotConnectedError"})}}class eE extends em.G{constructor(){super("Connector not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorNotFoundError"})}}class eA extends em.G{constructor({address:eu,connector:ed}){super(`Account "${eu}" not found for connector "${ed.name}".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAccountNotFoundError"})}}class eS extends em.G{constructor({connectionChainId:eu,connectorChainId:ed}){super(`The current chain of the connector (id: ${ed}) does not match the connection's chain (id: ${eu}).`,{metaMessages:[`Current Chain ID:  ${ed}`,`Expected Chain ID: ${eu}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorChainMismatchError"})}}class eI extends em.G{constructor({connector:eu}){super(`Connector "${eu.name}" unavailable while reconnecting.`,{details:"During the reconnection step, the only connector methods guaranteed to be available are: `id`, `name`, `type`, `uid`. All other methods are not guaranteed to be available until reconnection completes and connectors are fully restored. This error commonly occurs for connectors that asynchronously inject after reconnection has already started."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorUnavailableReconnectingError"})}}},77979:function(eu,ed,eg){"use strict";eg.d(ed,{M:function(){return eb},O:function(){return ew}});var em=eg(58577);class eb extends em.G{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}class ew extends em.G{constructor({connector:eu}){super(`"${eu.name}" does not support programmatic chain switching.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainNotSupportedError"})}}},9651:function(eu,ed,eg){"use strict";function em(eu,ed){if(eu===ed)return!0;if(eu&&ed&&"object"==typeof eu&&"object"==typeof ed){let eg,eb;if(eu.constructor!==ed.constructor)return!1;if(Array.isArray(eu)&&Array.isArray(ed)){if((eg=eu.length)!==ed.length)return!1;for(eb=eg;0!=eb--;)if(!em(eu[eb],ed[eb]))return!1;return!0}if(eu.valueOf!==Object.prototype.valueOf)return eu.valueOf()===ed.valueOf();if(eu.toString!==Object.prototype.toString)return eu.toString()===ed.toString();let ew=Object.keys(eu);if((eg=ew.length)!==Object.keys(ed).length)return!1;for(eb=eg;0!=eb--;)if(!Object.prototype.hasOwnProperty.call(ed,ew[eb]))return!1;for(eb=eg;0!=eb--;){let eg=ew[eb];if(eg&&!em(eu[eg],ed[eg]))return!1}return!0}return eu!=eu&&ed!=ed}eg.d(ed,{v:function(){return em}})},26078:function(eu,ed,eg){"use strict";function em(eu,ed){return JSON.parse(eu,(eu,eg)=>{let em=eg;return em?.__type==="bigint"&&(em=BigInt(em.value)),em?.__type==="Map"&&(em=new Map(em.value)),ed?.(eu,em)??em})}eg.d(ed,{v:function(){return em}})},77314:function(eu,ed,eg){"use strict";function em(eu){let{chain:ed}=eu,eg=ed.rpcUrls.default.http[0];if(!eu.transports)return[eg];let em=eu.transports?.[ed.id]?.({chain:ed}),eb=em?.value?.transports||[em];return eb.map(({value:eu})=>eu?.url||eg)}eg.d(ed,{N:function(){return em}})},70018:function(eu,ed,eg){"use strict";function em(eu,ed,eg){let em=eu[ed.name];if("function"==typeof em)return em;let eb=eu[eg];return"function"==typeof eb?eb:eg=>ed(eu,eg)}eg.d(ed,{s:function(){return em}})},24249:function(eu,ed,eg){"use strict";eg.d(ed,{W:function(){return eb}});var em=eg(30628);function eb(eu){return"number"==typeof eu?eu:"wei"===eu?0:Math.abs(em.Bd[eu])}},9986:function(eu,ed,eg){"use strict";function em(eu,ed){return eu.slice(0,ed).join(".")||"."}function eb(eu,ed){let{length:eg}=eu;for(let em=0;em<eg;++em)if(eu[em]===ed)return em+1;return 0}function ew(eu,ed){let eg="function"==typeof eu,ew="function"==typeof ed,e_=[],eE=[];return function(eA,eS){if("object"==typeof eS){if(e_.length){let eu=eb(e_,this);0===eu?e_[e_.length]=this:(e_.splice(eu),eE.splice(eu)),eE[eE.length]=eA;let eg=eb(e_,eS);if(0!==eg)return ew?ed.call(this,eA,eS,em(eE,eg)):`[ref=${em(eE,eg)}]`}else e_[0]=eS,eE[0]=eA}return eg?eu.call(this,eA,eS):eS}}function e_(eu,ed,eg,em){return JSON.stringify(eu,ew((eu,eg)=>{let em=eg;return"bigint"==typeof em&&(em={__type:"bigint",value:eg.toString()}),em instanceof Map&&(em={__type:"Map",value:Array.from(eg.entries())}),ed?.(eu,em)??em},em),eg??void 0)}eg.d(ed,{q:function(){return e_}})},29604:function(eu,ed,eg){"use strict";eg.d(ed,{i:function(){return em}});let em="2.18.0"},29962:function(eu,ed,eg){"use strict";eg.d(ed,{kb:function(){return eU},gk:function(){return e_},$h:function(){return eA},z3:function(){return eE},k8:function(){return ew},eB:function(){return eS},ru:function(){return eC},eV:function(){return eB},V1:function(){return eL},GL:function(){return eM},O6:function(){return ej},np:function(){return eO},Ux:function(){return ek},O0:function(){return eD},Jq:function(){return eI}});let em="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function eb(eu){return eu instanceof Uint8Array||ArrayBuffer.isView(eu)&&"Uint8Array"===eu.constructor.name}function ew(eu){if(!Number.isSafeInteger(eu)||eu<0)throw Error("positive integer expected, got "+eu)}function e_(eu,...ed){if(!eb(eu))throw Error("Uint8Array expected");if(ed.length>0&&!ed.includes(eu.length))throw Error("Uint8Array expected of length "+ed+", got length="+eu.length)}function eE(eu){if("function"!=typeof eu||"function"!=typeof eu.create)throw Error("Hash should be wrapped by utils.createHasher");ew(eu.outputLen),ew(eu.blockLen)}function eA(eu,ed=!0){if(eu.destroyed)throw Error("Hash instance has been destroyed");if(ed&&eu.finished)throw Error("Hash#digest() has already been called")}function eS(eu,ed){e_(eu);let eg=ed.outputLen;if(eu.length<eg)throw Error("digestInto() expects output buffer of length at least "+eg)}function eI(eu){return new Uint32Array(eu.buffer,eu.byteOffset,Math.floor(eu.byteLength/4))}function eC(...eu){for(let ed=0;ed<eu.length;ed++)eu[ed].fill(0)}function eM(eu){return new DataView(eu.buffer,eu.byteOffset,eu.byteLength)}function eO(eu,ed){return eu<<32-ed|eu>>>ed}let eT=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0];function eP(eu){return eu<<24&4278190080|eu<<8&16711680|eu>>>8&65280|eu>>>24&255}function eN(eu){for(let ed=0;ed<eu.length;ed++)eu[ed]=eP(eu[ed]);return eu}let ek=eT?eu=>eu:eN;function eR(eu){if("string"!=typeof eu)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(eu))}function eD(eu){return"string"==typeof eu&&(eu=eR(eu)),e_(eu),eu}function eB(...eu){let ed=0;for(let eg=0;eg<eu.length;eg++){let em=eu[eg];e_(em),ed+=em.length}let eg=new Uint8Array(ed);for(let ed=0,em=0;ed<eu.length;ed++){let eb=eu[ed];eg.set(eb,em),em+=eb.length}return eg}Array.from({length:256},(eu,ed)=>ed.toString(16).padStart(2,"0"));class eU{}function eL(eu){let ed=ed=>eu().update(eD(ed)).digest(),eg=eu();return ed.outputLen=eg.outputLen,ed.blockLen=eg.blockLen,ed.create=()=>eu(),ed}function ej(eu=32){if(em&&"function"==typeof em.getRandomValues)return em.getRandomValues(new Uint8Array(eu));if(em&&"function"==typeof em.randomBytes)return Uint8Array.from(em.randomBytes(eu));throw Error("crypto.getRandomValues must be defined")}},21700:function(eu,ed,eg){"use strict";eg.d(ed,{kb:function(){return eU},gk:function(){return e_},$h:function(){return eA},z3:function(){return eE},k8:function(){return ew},eB:function(){return eS},ru:function(){return eC},eV:function(){return eB},V1:function(){return eL},GL:function(){return eM},O6:function(){return ej},np:function(){return eO},Ux:function(){return ek},O0:function(){return eD},Jq:function(){return eI}});let em="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function eb(eu){return eu instanceof Uint8Array||ArrayBuffer.isView(eu)&&"Uint8Array"===eu.constructor.name}function ew(eu){if(!Number.isSafeInteger(eu)||eu<0)throw Error("positive integer expected, got "+eu)}function e_(eu,...ed){if(!eb(eu))throw Error("Uint8Array expected");if(ed.length>0&&!ed.includes(eu.length))throw Error("Uint8Array expected of length "+ed+", got length="+eu.length)}function eE(eu){if("function"!=typeof eu||"function"!=typeof eu.create)throw Error("Hash should be wrapped by utils.createHasher");ew(eu.outputLen),ew(eu.blockLen)}function eA(eu,ed=!0){if(eu.destroyed)throw Error("Hash instance has been destroyed");if(ed&&eu.finished)throw Error("Hash#digest() has already been called")}function eS(eu,ed){e_(eu);let eg=ed.outputLen;if(eu.length<eg)throw Error("digestInto() expects output buffer of length at least "+eg)}function eI(eu){return new Uint32Array(eu.buffer,eu.byteOffset,Math.floor(eu.byteLength/4))}function eC(...eu){for(let ed=0;ed<eu.length;ed++)eu[ed].fill(0)}function eM(eu){return new DataView(eu.buffer,eu.byteOffset,eu.byteLength)}function eO(eu,ed){return eu<<32-ed|eu>>>ed}let eT=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0];function eP(eu){return eu<<24&4278190080|eu<<8&16711680|eu>>>8&65280|eu>>>24&255}function eN(eu){for(let ed=0;ed<eu.length;ed++)eu[ed]=eP(eu[ed]);return eu}let ek=eT?eu=>eu:eN;function eR(eu){if("string"!=typeof eu)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(eu))}function eD(eu){return"string"==typeof eu&&(eu=eR(eu)),e_(eu),eu}function eB(...eu){let ed=0;for(let eg=0;eg<eu.length;eg++){let em=eu[eg];e_(em),ed+=em.length}let eg=new Uint8Array(ed);for(let ed=0,em=0;ed<eu.length;ed++){let eb=eu[ed];eg.set(eb,em),em+=eb.length}return eg}Array.from({length:256},(eu,ed)=>ed.toString(16).padStart(2,"0"));class eU{}function eL(eu){let ed=ed=>eu().update(eD(ed)).digest(),eg=eu();return ed.outputLen=eg.outputLen,ed.blockLen=eg.blockLen,ed.create=()=>eu(),ed}function ej(eu=32){if(em&&"function"==typeof em.getRandomValues)return em.getRandomValues(new Uint8Array(eu));if(em&&"function"==typeof em.randomBytes)return Uint8Array.from(em.randomBytes(eu));throw Error("crypto.getRandomValues must be defined")}},22602:function(eu,ed,eg){"use strict";eg.d(ed,{G:function(){return eb}});let em="1.0.8";class eb extends Error{constructor(eu,ed={}){let eg=ed.cause instanceof eb?ed.cause.details:ed.cause?.message?ed.cause.message:ed.details,ew=ed.cause instanceof eb&&ed.cause.docsPath||ed.docsPath,e_=[eu||"An error occurred.","",...ed.metaMessages?[...ed.metaMessages,""]:[],...ew?[`Docs: https://abitype.dev${ew}`]:[],...eg?[`Details: ${eg}`]:[],`Version: abitype@${em}`].join("\n");super(e_),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),ed.cause&&(this.cause=ed.cause),this.details=eg,this.docsPath=ew,this.metaMessages=ed.metaMessages,this.shortMessage=eu}}},72029:function(eu,ed,eg){"use strict";eg.d(ed,{F:function(){return ew},Hk:function(){return e_},a_:function(){return eb}});var em=eg(22602);class eb extends em.G{constructor({signature:eu}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(eu,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class ew extends em.G{constructor({type:eu}){super("Unknown type.",{metaMessages:[`Type "${eu}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class e_ extends em.G{constructor({type:eu}){super("Unknown type.",{metaMessages:[`Type "${eu}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}},57532:function(eu,ed,eg){"use strict";eg.d(ed,{TT:function(){return ew},_D:function(){return eE},aZ:function(){return eA},jO:function(){return eb},zL:function(){return e_}});var em=eg(22602);class eb extends em.G{constructor({param:eu}){super("Invalid ABI parameter.",{details:eu}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class ew extends em.G{constructor({param:eu,name:ed}){super("Invalid ABI parameter.",{details:eu,metaMessages:[`"${ed}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class e_ extends em.G{constructor({param:eu,type:ed,modifier:eg}){super("Invalid ABI parameter.",{details:eu,metaMessages:[`Modifier "${eg}" not allowed${ed?` in "${ed}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class eE extends em.G{constructor({param:eu,type:ed,modifier:eg}){super("Invalid ABI parameter.",{details:eu,metaMessages:[`Modifier "${eg}" not allowed${ed?` in "${ed}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${eg}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class eA extends em.G{constructor({abiParameter:eu}){super("Invalid ABI parameter.",{details:JSON.stringify(eu,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}},91952:function(eu,ed,eg){"use strict";eg.d(ed,{H6:function(){return e_},Vs:function(){return ew},wn:function(){return eb}});var em=eg(22602);class eb extends em.G{constructor({signature:eu,type:ed}){super(`Invalid ${ed} signature.`,{details:eu}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class ew extends em.G{constructor({signature:eu}){super("Unknown signature.",{details:eu}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class e_ extends em.G{constructor({signature:eu}){super("Invalid struct signature.",{details:eu,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}},70958:function(eu,ed,eg){"use strict";eg.d(ed,{t:function(){return eE}});var em=eg(91414);let eb=/^tuple(?<array>(\[(\d*)\])*)$/;function ew(eu){let ed=eu.type;if(eb.test(eu.type)&&"components"in eu){ed="(";let eg=eu.components.length;for(let em=0;em<eg;em++){let eb=eu.components[em];ed+=ew(eb),em<eg-1&&(ed+=", ")}let e_=(0,em.Zw)(eb,eu.type);return ed+=`)${e_?.array??""}`,ew({...eu,type:ed})}return("indexed"in eu&&eu.indexed&&(ed=`${ed} indexed`),eu.name)?`${ed} ${eu.name}`:ed}function e_(eu){let ed="",eg=eu.length;for(let em=0;em<eg;em++){let eb=eu[em];ed+=ew(eb),em!==eg-1&&(ed+=", ")}return ed}function eE(eu){return"function"===eu.type?`function ${eu.name}(${e_(eu.inputs)})${eu.stateMutability&&"nonpayable"!==eu.stateMutability?` ${eu.stateMutability}`:""}${eu.outputs?.length?` returns (${e_(eu.outputs)})`:""}`:"event"===eu.type?`event ${eu.name}(${e_(eu.inputs)})`:"error"===eu.type?`error ${eu.name}(${e_(eu.inputs)})`:"constructor"===eu.type?`constructor(${e_(eu.inputs)})${"payable"===eu.stateMutability?" payable":""}`:"fallback"===eu.type?`fallback() external${"payable"===eu.stateMutability?" payable":""}`:"receive() external payable"}},90891:function(eu,ed,eg){"use strict";eg.d(ed,{V:function(){return e_}});var em=eg(97311),eb=eg(96688),ew=eg(8689);function e_(eu){let ed=(0,eb.D)(eu),eg=[],e_=eu.length;for(let eb=0;eb<e_;eb++){let e_=eu[eb];(0,em.N0)(e_)||eg.push((0,ew.cK)(e_,ed))}return eg}},97311:function(eu,ed,eg){"use strict";eg.d(ed,{Dt:function(){return e$},EC:function(){return eB},N0:function(){return eT},PI:function(){return eR},QM:function(){return ej},SA:function(){return e_},Wg:function(){return eF},_c:function(){return ew},a4:function(){return ek},c3:function(){return eA},g1:function(){return eP},l$:function(){return eM},qm:function(){return eU},rh:function(){return eC},wA:function(){return eS}});var em=eg(91414);let eb=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function ew(eu){return eb.test(eu)}function e_(eu){return(0,em.Zw)(eb,eu)}let eE=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function eA(eu){return eE.test(eu)}function eS(eu){return(0,em.Zw)(eE,eu)}let eI=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function eC(eu){return eI.test(eu)}function eM(eu){return(0,em.Zw)(eI,eu)}let eO=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function eT(eu){return eO.test(eu)}function eP(eu){return(0,em.Zw)(eO,eu)}let eN=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function ek(eu){return eN.test(eu)}function eR(eu){return(0,em.Zw)(eN,eu)}let eD=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function eB(eu){return eD.test(eu)}function eU(eu){return(0,em.Zw)(eD,eu)}let eL=/^receive\(\) external payable$/;function ej(eu){return eL.test(eu)}let eF=new Set(["indexed"]),e$=new Set(["calldata","memory","storage"])},96688:function(eu,ed,eg){"use strict";eg.d(ed,{D:function(){return eC}});var em=eg(91414),eb=eg(72029),ew=eg(57532),e_=eg(91952),eE=eg(22602);class eA extends eE.G{constructor({type:eu}){super("Circular reference detected.",{metaMessages:[`Struct "${eu}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}var eS=eg(97311),eI=eg(8689);function eC(eu){let ed={},eg=eu.length;for(let em=0;em<eg;em++){let eg=eu[em];if(!(0,eS.N0)(eg))continue;let eb=(0,eS.g1)(eg);if(!eb)throw new e_.wn({signature:eg,type:"struct"});let ew=eb.properties.split(";"),eE=[],eA=ew.length;for(let eu=0;eu<eA;eu++){let ed=ew[eu],eg=ed.trim();if(!eg)continue;let em=(0,eI.C$)(eg,{type:"struct"});eE.push(em)}if(!eE.length)throw new e_.H6({signature:eg});ed[eb.name]=eE}let em={},eb=Object.entries(ed),ew=eb.length;for(let eu=0;eu<ew;eu++){let[eg,ew]=eb[eu];em[eg]=eO(ew,ed)}return em}let eM=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function eO(eu,ed,eg=new Set){let e_=[],eE=eu.length;for(let eS=0;eS<eE;eS++){let eE=eu[eS],eC=em.cN.test(eE.type);if(eC)e_.push(eE);else{let eu=(0,em.Zw)(eM,eE.type);if(!eu?.type)throw new ew.aZ({abiParameter:eE});let{array:eS,type:eC}=eu;if(eC in ed){if(eg.has(eC))throw new eA({type:eC});e_.push({...eE,type:`tuple${eS??""}`,components:eO(ed[eC]??[],ed,new Set([...eg,eC]))})}else if((0,eI.uN)(eC))e_.push(eE);else throw new eb.F({type:eC})}}return e_}},8689:function(eu,ed,eg){"use strict";eg.d(ed,{uN:function(){return ej},C$:function(){return eU},cK:function(){return eM}});var em=eg(91414),eb=eg(72029),ew=eg(57532),e_=eg(91952),eE=eg(22602);class eA extends eE.G{constructor({current:eu,depth:ed}){super("Unbalanced parentheses.",{metaMessages:[`"${eu.trim()}" has too many ${ed>0?"opening":"closing"} parentheses.`],details:`Depth "${ed}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function eS(eu,ed,eg){let em="";if(eg)for(let eu of Object.entries(eg)){if(!eu)continue;let ed="";for(let eg of eu[1])ed+=`[${eg.type}${eg.name?`:${eg.name}`:""}]`;em+=`(${eu[0]}{${ed}})`}return ed?`${ed}:${eu}${em}`:eu}let eI=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);var eC=eg(97311);function eM(eu,ed={}){if((0,eC.rh)(eu))return eO(eu,ed);if((0,eC.c3)(eu))return eT(eu,ed);if((0,eC._c)(eu))return eP(eu,ed);if((0,eC.a4)(eu))return eN(eu,ed);if((0,eC.EC)(eu))return ek(eu);if((0,eC.QM)(eu))return{type:"receive",stateMutability:"payable"};throw new e_.Vs({signature:eu})}function eO(eu,ed={}){let eg=(0,eC.l$)(eu);if(!eg)throw new e_.wn({signature:eu,type:"function"});let em=eL(eg.parameters),eb=[],ew=em.length;for(let eu=0;eu<ew;eu++)eb.push(eU(em[eu],{modifiers:eC.Dt,structs:ed,type:"function"}));let eE=[];if(eg.returns){let eu=eL(eg.returns),em=eu.length;for(let eg=0;eg<em;eg++)eE.push(eU(eu[eg],{modifiers:eC.Dt,structs:ed,type:"function"}))}return{name:eg.name,type:"function",stateMutability:eg.stateMutability??"nonpayable",inputs:eb,outputs:eE}}function eT(eu,ed={}){let eg=(0,eC.wA)(eu);if(!eg)throw new e_.wn({signature:eu,type:"event"});let em=eL(eg.parameters),eb=[],ew=em.length;for(let eu=0;eu<ew;eu++)eb.push(eU(em[eu],{modifiers:eC.Wg,structs:ed,type:"event"}));return{name:eg.name,type:"event",inputs:eb}}function eP(eu,ed={}){let eg=(0,eC.SA)(eu);if(!eg)throw new e_.wn({signature:eu,type:"error"});let em=eL(eg.parameters),eb=[],ew=em.length;for(let eu=0;eu<ew;eu++)eb.push(eU(em[eu],{structs:ed,type:"error"}));return{name:eg.name,type:"error",inputs:eb}}function eN(eu,ed={}){let eg=(0,eC.PI)(eu);if(!eg)throw new e_.wn({signature:eu,type:"constructor"});let em=eL(eg.parameters),eb=[],ew=em.length;for(let eu=0;eu<ew;eu++)eb.push(eU(em[eu],{structs:ed,type:"constructor"}));return{type:"constructor",stateMutability:eg.stateMutability??"nonpayable",inputs:eb}}function ek(eu){let ed=(0,eC.qm)(eu);if(!ed)throw new e_.wn({signature:eu,type:"fallback"});return{type:"fallback",stateMutability:ed.stateMutability??"nonpayable"}}let eR=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,eD=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,eB=/^u?int$/;function eU(eu,ed){let eg;let e_=eS(eu,ed?.type,ed?.structs);if(eI.has(e_))return eI.get(e_);let eE=em.cN.test(eu),eA=(0,em.Zw)(eE?eD:eR,eu);if(!eA)throw new ew.jO({param:eu});if(eA.name&&e$(eA.name))throw new ew.TT({param:eu,name:eA.name});let eM=eA.name?{name:eA.name}:{},eO="indexed"===eA.modifier?{indexed:!0}:{},eT=ed?.structs??{},eP={};if(eE){eg="tuple";let eu=eL(eA.type),ed=[],em=eu.length;for(let eg=0;eg<em;eg++)ed.push(eU(eu[eg],{structs:eT}));eP={components:ed}}else if(eA.type in eT)eg="tuple",eP={components:eT[eA.type]};else if(eB.test(eA.type))eg=`${eA.type}256`;else if(eg=eA.type,ed?.type!=="struct"&&!ej(eg))throw new eb.Hk({type:eg});if(eA.modifier){if(!ed?.modifiers?.has?.(eA.modifier))throw new ew.zL({param:eu,type:ed?.type,modifier:eA.modifier});if(eC.Dt.has(eA.modifier)&&!eK(eg,!!eA.array))throw new ew._D({param:eu,type:ed?.type,modifier:eA.modifier})}let eN={type:`${eg}${eA.array??""}`,...eM,...eO,...eP};return eI.set(e_,eN),eN}function eL(eu,ed=[],eg="",em=0){let eb=eu.trim().length;for(let ew=0;ew<eb;ew++){let eb=eu[ew],e_=eu.slice(ew+1);switch(eb){case",":return 0===em?eL(e_,[...ed,eg.trim()]):eL(e_,ed,`${eg}${eb}`,em);case"(":return eL(e_,ed,`${eg}${eb}`,em+1);case")":return eL(e_,ed,`${eg}${eb}`,em-1);default:return eL(e_,ed,`${eg}${eb}`,em)}}if(""===eg)return ed;if(0!==em)throw new eA({current:eg,depth:em});return ed.push(eg.trim()),ed}function ej(eu){return"address"===eu||"bool"===eu||"function"===eu||"string"===eu||em.eL.test(eu)||em.lh.test(eu)}let eF=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function e$(eu){return"address"===eu||"bool"===eu||"function"===eu||"string"===eu||"tuple"===eu||em.eL.test(eu)||em.lh.test(eu)||eF.test(eu)}function eK(eu,ed){return ed||"bytes"===eu||"string"===eu||"tuple"===eu}},91414:function(eu,ed,eg){"use strict";function em(eu,ed){let eg=eu.exec(ed);return eg?.groups}eg.d(ed,{Zw:function(){return em},cN:function(){return e_},eL:function(){return eb},lh:function(){return ew}});let eb=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,ew=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,e_=/^\(.+?\).*?$/},47342:function(eu,ed,eg){"use strict";var em=20,eb=1,ew=1e6,e_=1e6,eE=-7,eA=21,eS=!1,eI="[big.js] ",eC=eI+"Invalid ",eM=eC+"decimal places",eO=eC+"rounding mode",eT=eI+"Division by zero",eP={},eN=void 0,ek=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function eR(){function eu(ed){var eg=this;if(!(eg instanceof eu))return ed===eN?eR():new eu(ed);if(ed instanceof eu)eg.s=ed.s,eg.e=ed.e,eg.c=ed.c.slice();else{if("string"!=typeof ed){if(!0===eu.strict&&"bigint"!=typeof ed)throw TypeError(eC+"value");ed=0===ed&&1/ed<0?"-0":String(ed)}eD(eg,ed)}eg.constructor=eu}return eu.prototype=eP,eu.DP=em,eu.RM=eb,eu.NE=eE,eu.PE=eA,eu.strict=eS,eu.roundDown=0,eu.roundHalfUp=1,eu.roundHalfEven=2,eu.roundUp=3,eu}function eD(eu,ed){var eg,em,eb;if(!ek.test(ed))throw Error(eC+"number");for(eu.s="-"==ed.charAt(0)?(ed=ed.slice(1),-1):1,(eg=ed.indexOf("."))>-1&&(ed=ed.replace(".","")),(em=ed.search(/e/i))>0?(eg<0&&(eg=em),eg+=+ed.slice(em+1),ed=ed.substring(0,em)):eg<0&&(eg=ed.length),eb=ed.length,em=0;em<eb&&"0"==ed.charAt(em);)++em;if(em==eb)eu.c=[eu.e=0];else{for(;eb>0&&"0"==ed.charAt(--eb););for(eu.e=eg-em-1,eu.c=[],eg=0;em<=eb;)eu.c[eg++]=+ed.charAt(em++)}return eu}function eB(eu,ed,eg,em){var eb=eu.c;if(eg===eN&&(eg=eu.constructor.RM),0!==eg&&1!==eg&&2!==eg&&3!==eg)throw Error(eO);if(ed<1)em=3===eg&&(em||!!eb[0])||0===ed&&(1===eg&&eb[0]>=5||2===eg&&(eb[0]>5||5===eb[0]&&(em||eb[1]!==eN))),eb.length=1,em?(eu.e=eu.e-ed+1,eb[0]=1):eb[0]=eu.e=0;else if(ed<eb.length){if(em=1===eg&&eb[ed]>=5||2===eg&&(eb[ed]>5||5===eb[ed]&&(em||eb[ed+1]!==eN||1&eb[ed-1]))||3===eg&&(em||!!eb[0]),eb.length=ed,em){for(;++eb[--ed]>9;)if(eb[ed]=0,0===ed){++eu.e,eb.unshift(1);break}}for(ed=eb.length;!eb[--ed];)eb.pop()}return eu}function eU(eu,ed,eg){var em=eu.e,eb=eu.c.join(""),ew=eb.length;if(ed)eb=eb.charAt(0)+(ew>1?"."+eb.slice(1):"")+(em<0?"e":"e+")+em;else if(em<0){for(;++em;)eb="0"+eb;eb="0."+eb}else if(em>0){if(++em>ew)for(em-=ew;em--;)eb+="0";else em<ew&&(eb=eb.slice(0,em)+"."+eb.slice(em))}else ew>1&&(eb=eb.charAt(0)+"."+eb.slice(1));return eu.s<0&&eg?"-"+eb:eb}eP.abs=function(){var eu=new this.constructor(this);return eu.s=1,eu},eP.cmp=function(eu){var ed,eg=this,em=eg.c,eb=(eu=new eg.constructor(eu)).c,ew=eg.s,e_=eu.s,eE=eg.e,eA=eu.e;if(!em[0]||!eb[0])return em[0]?ew:eb[0]?-e_:0;if(ew!=e_)return ew;if(ed=ew<0,eE!=eA)return eE>eA^ed?1:-1;for(ew=-1,e_=(eE=em.length)<(eA=eb.length)?eE:eA;++ew<e_;)if(em[ew]!=eb[ew])return em[ew]>eb[ew]^ed?1:-1;return eE==eA?0:eE>eA^ed?1:-1},eP.div=function(eu){var ed=this,eg=ed.constructor,em=ed.c,eb=(eu=new eg(eu)).c,e_=ed.s==eu.s?1:-1,eE=eg.DP;if(eE!==~~eE||eE<0||eE>ew)throw Error(eM);if(!eb[0])throw Error(eT);if(!em[0])return eu.s=e_,eu.c=[eu.e=0],eu;var eA,eS,eI,eC,eO,eP=eb.slice(),ek=eA=eb.length,eR=em.length,eD=em.slice(0,eA),eU=eD.length,eL=eu,ej=eL.c=[],eF=0,e$=eE+(eL.e=ed.e-eu.e)+1;for(eL.s=e_,e_=e$<0?0:e$,eP.unshift(0);eU++<eA;)eD.push(0);do{for(eI=0;eI<10;eI++){if(eA!=(eU=eD.length))eC=eA>eU?1:-1;else for(eO=-1,eC=0;++eO<eA;)if(eb[eO]!=eD[eO]){eC=eb[eO]>eD[eO]?1:-1;break}if(eC<0){for(eS=eU==eA?eb:eP;eU;){if(eD[--eU]<eS[eU]){for(eO=eU;eO&&!eD[--eO];)eD[eO]=9;--eD[eO],eD[eU]+=10}eD[eU]-=eS[eU]}for(;!eD[0];)eD.shift()}else break}ej[eF++]=eC?eI:++eI,eD[0]&&eC?eD[eU]=em[ek]||0:eD=[em[ek]]}while((ek++<eR||eD[0]!==eN)&&e_--);return!ej[0]&&1!=eF&&(ej.shift(),eL.e--,e$--),eF>e$&&eB(eL,e$,eg.RM,eD[0]!==eN),eL},eP.eq=function(eu){return 0===this.cmp(eu)},eP.gt=function(eu){return this.cmp(eu)>0},eP.gte=function(eu){return this.cmp(eu)>-1},eP.lt=function(eu){return 0>this.cmp(eu)},eP.lte=function(eu){return 1>this.cmp(eu)},eP.minus=eP.sub=function(eu){var ed,eg,em,eb,ew=this,e_=ew.constructor,eE=ew.s,eA=(eu=new e_(eu)).s;if(eE!=eA)return eu.s=-eA,ew.plus(eu);var eS=ew.c.slice(),eI=ew.e,eC=eu.c,eM=eu.e;if(!eS[0]||!eC[0])return eC[0]?eu.s=-eA:eS[0]?eu=new e_(ew):eu.s=1,eu;if(eE=eI-eM){for((eb=eE<0)?(eE=-eE,em=eS):(eM=eI,em=eC),em.reverse(),eA=eE;eA--;)em.push(0);em.reverse()}else for(eg=((eb=eS.length<eC.length)?eS:eC).length,eE=eA=0;eA<eg;eA++)if(eS[eA]!=eC[eA]){eb=eS[eA]<eC[eA];break}if(eb&&(em=eS,eS=eC,eC=em,eu.s=-eu.s),(eA=(eg=eC.length)-(ed=eS.length))>0)for(;eA--;)eS[ed++]=0;for(eA=ed;eg>eE;){if(eS[--eg]<eC[eg]){for(ed=eg;ed&&!eS[--ed];)eS[ed]=9;--eS[ed],eS[eg]+=10}eS[eg]-=eC[eg]}for(;0===eS[--eA];)eS.pop();for(;0===eS[0];)eS.shift(),--eM;return eS[0]||(eu.s=1,eS=[eM=0]),eu.c=eS,eu.e=eM,eu},eP.mod=function(eu){var ed,eg=this,em=eg.constructor,eb=eg.s,ew=(eu=new em(eu)).s;if(!eu.c[0])throw Error(eT);return(eg.s=eu.s=1,ed=1==eu.cmp(eg),eg.s=eb,eu.s=ew,ed)?new em(eg):(eb=em.DP,ew=em.RM,em.DP=em.RM=0,eg=eg.div(eu),em.DP=eb,em.RM=ew,this.minus(eg.times(eu)))},eP.neg=function(){var eu=new this.constructor(this);return eu.s=-eu.s,eu},eP.plus=eP.add=function(eu){var ed,eg,em,eb=this,ew=eb.constructor;if(eu=new ew(eu),eb.s!=eu.s)return eu.s=-eu.s,eb.minus(eu);var e_=eb.e,eE=eb.c,eA=eu.e,eS=eu.c;if(!eE[0]||!eS[0])return eS[0]||(eE[0]?eu=new ew(eb):eu.s=eb.s),eu;if(eE=eE.slice(),ed=e_-eA){for(ed>0?(eA=e_,em=eS):(ed=-ed,em=eE),em.reverse();ed--;)em.push(0);em.reverse()}for(eE.length-eS.length<0&&(em=eS,eS=eE,eE=em),ed=eS.length,eg=0;ed;eE[ed]%=10)eg=(eE[--ed]=eE[ed]+eS[ed]+eg)/10|0;for(eg&&(eE.unshift(eg),++eA),ed=eE.length;0===eE[--ed];)eE.pop();return eu.c=eE,eu.e=eA,eu},eP.pow=function(eu){var ed=this,eg=new ed.constructor("1"),em=eg,eb=eu<0;if(eu!==~~eu||eu<-e_||eu>e_)throw Error(eC+"exponent");for(eb&&(eu=-eu);1&eu&&(em=em.times(ed)),eu>>=1;)ed=ed.times(ed);return eb?eg.div(em):em},eP.prec=function(eu,ed){if(eu!==~~eu||eu<1||eu>ew)throw Error(eC+"precision");return eB(new this.constructor(this),eu,ed)},eP.round=function(eu,ed){if(eu===eN)eu=0;else if(eu!==~~eu||eu<-ew||eu>ew)throw Error(eM);return eB(new this.constructor(this),eu+this.e+1,ed)},eP.sqrt=function(){var eu,ed,eg,em=this,eb=em.constructor,ew=em.s,e_=em.e,eE=new eb("0.5");if(!em.c[0])return new eb(em);if(ew<0)throw Error(eI+"No square root");0===(ew=Math.sqrt(+eU(em,!0,!0)))||ew===1/0?((ed=em.c.join("")).length+e_&1||(ed+="0"),ew=Math.sqrt(ed),e_=((e_+1)/2|0)-(e_<0||1&e_),eu=new eb((ew==1/0?"5e":(ew=ew.toExponential()).slice(0,ew.indexOf("e")+1))+e_)):eu=new eb(ew+""),e_=eu.e+(eb.DP+=4);do eg=eu,eu=eE.times(eg.plus(em.div(eg)));while(eg.c.slice(0,e_).join("")!==eu.c.slice(0,e_).join(""));return eB(eu,(eb.DP-=4)+eu.e+1,eb.RM)},eP.times=eP.mul=function(eu){var ed,eg=this,em=eg.constructor,eb=eg.c,ew=(eu=new em(eu)).c,e_=eb.length,eE=ew.length,eA=eg.e,eS=eu.e;if(eu.s=eg.s==eu.s?1:-1,!eb[0]||!ew[0])return eu.c=[eu.e=0],eu;for(eu.e=eA+eS,e_<eE&&(ed=eb,eb=ew,ew=ed,eS=e_,e_=eE,eE=eS),ed=Array(eS=e_+eE);eS--;)ed[eS]=0;for(eA=eE;eA--;){for(eE=0,eS=e_+eA;eS>eA;)eE=ed[eS]+ew[eA]*eb[eS-eA-1]+eE,ed[eS--]=eE%10,eE=eE/10|0;ed[eS]=eE}for(eE?++eu.e:ed.shift(),eA=ed.length;!ed[--eA];)ed.pop();return eu.c=ed,eu},eP.toExponential=function(eu,ed){var eg=this,em=eg.c[0];if(eu!==eN){if(eu!==~~eu||eu<0||eu>ew)throw Error(eM);for(eg=eB(new eg.constructor(eg),++eu,ed);eg.c.length<eu;)eg.c.push(0)}return eU(eg,!0,!!em)},eP.toFixed=function(eu,ed){var eg=this,em=eg.c[0];if(eu!==eN){if(eu!==~~eu||eu<0||eu>ew)throw Error(eM);for(eg=eB(new eg.constructor(eg),eu+eg.e+1,ed),eu=eu+eg.e+1;eg.c.length<eu;)eg.c.push(0)}return eU(eg,!1,!!em)},eP[Symbol.for("nodejs.util.inspect.custom")]=eP.toJSON=eP.toString=function(){var eu=this,ed=eu.constructor;return eU(eu,eu.e<=ed.NE||eu.e>=ed.PE,!!eu.c[0])},eP.toNumber=function(){var eu=+eU(this,!0,!0);if(!0===this.constructor.strict&&!this.eq(eu.toString()))throw Error(eI+"Imprecise conversion");return eu},eP.toPrecision=function(eu,ed){var eg=this,em=eg.constructor,eb=eg.c[0];if(eu!==eN){if(eu!==~~eu||eu<1||eu>ew)throw Error(eC+"precision");for(eg=eB(new em(eg),eu,ed);eg.c.length<eu;)eg.c.push(0)}return eU(eg,eu<=eg.e||eg.e<=em.NE||eg.e>=em.PE,!!eb)},eP.valueOf=function(){var eu=this,ed=eu.constructor;if(!0===ed.strict)throw Error(eI+"valueOf disallowed");return eU(eu,eu.e<=ed.NE||eu.e>=ed.PE,!0)};var eL=eR();ed.Z=eL},14281:function(eu,ed,eg){"use strict";eg.d(ed,{v:function(){return ej},q:function(){return eL}});var em=["u8","u16","u32","u64","u128","i8","i16","i32","i64","i128","f32","f64"],eb=function(){function eu(){this.offset=0,this.buffer_size=256,this.buffer=new ArrayBuffer(this.buffer_size),this.view=new DataView(this.buffer)}return eu.prototype.resize_if_necessary=function(eu){if(this.buffer_size-this.offset<eu){this.buffer_size=Math.max(2*this.buffer_size,this.buffer_size+eu);var ed=new ArrayBuffer(this.buffer_size);new Uint8Array(ed).set(new Uint8Array(this.buffer)),this.buffer=ed,this.view=new DataView(ed)}},eu.prototype.get_used_buffer=function(){return new Uint8Array(this.buffer).slice(0,this.offset)},eu.prototype.store_value=function(eu,ed){var eg=ed.substring(1),em=parseInt(eg)/8;this.resize_if_necessary(em);var eb="f"===ed[0]?"setFloat".concat(eg):"i"===ed[0]?"setInt".concat(eg):"setUint".concat(eg);this.view[eb](this.offset,eu,!0),this.offset+=em},eu.prototype.store_bytes=function(eu){this.resize_if_necessary(eu.length),new Uint8Array(this.buffer).set(new Uint8Array(eu),this.offset),this.offset+=eu.length},eu}(),ew=function(){function eu(eu){this.offset=0,this.buffer_size=eu.length,this.buffer=new ArrayBuffer(eu.length),new Uint8Array(this.buffer).set(eu),this.view=new DataView(this.buffer)}return eu.prototype.assert_enough_buffer=function(eu){if(this.offset+eu>this.buffer.byteLength)throw Error("Error in schema, the buffer is smaller than expected")},eu.prototype.consume_value=function(eu){var ed=eu.substring(1),eg=parseInt(ed)/8;this.assert_enough_buffer(eg);var em="f"===eu[0]?"getFloat".concat(ed):"i"===eu[0]?"getInt".concat(ed):"getUint".concat(ed),eb=this.view[em](this.offset,!0);return this.offset+=eg,eb},eu.prototype.consume_bytes=function(eu){this.assert_enough_buffer(eu);var ed=this.buffer.slice(this.offset,this.offset+eu);return this.offset+=eu,ed},eu}(),e_=function(){var eu=function(ed,eg){return(eu=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(eu,ed){eu.__proto__=ed}||function(eu,ed){for(var eg in ed)Object.prototype.hasOwnProperty.call(ed,eg)&&(eu[eg]=ed[eg])})(ed,eg)};return function(ed,eg){if("function"!=typeof eg&&null!==eg)throw TypeError("Class extends value "+String(eg)+" is not a constructor or null");function em(){this.constructor=ed}eu(ed,eg),ed.prototype=null===eg?Object.create(eg):(em.prototype=eg.prototype,new em)}}();function eE(eu){return Array.isArray(eu)||!!eu&&"object"==typeof eu&&"length"in eu&&"number"==typeof eu.length&&(0===eu.length||eu.length>0&&eu.length-1 in eu)}function eA(eu,ed,eg){if(typeof eu!==ed)throw Error("Expected ".concat(ed," not ").concat(typeof eu,"(").concat(eu,") at ").concat(eg.join(".")))}function eS(eu,ed){var eg=["number","string","bigint","boolean"].includes(typeof eu),em="object"==typeof eu&&null!==eu&&"toString"in eu;if(!eg&&!em)throw Error("Expected bigint, number, boolean or string not ".concat(typeof eu,"(").concat(eu,") at ").concat(ed.join(".")))}function eI(eu,ed,eg){if(eu!==ed)throw Error("Array length ".concat(eu," does not match schema length ").concat(ed," at ").concat(eg.join(".")))}function eC(eu,ed){if("object"!=typeof eu||null===eu)throw Error("Expected object not ".concat(typeof eu,"(").concat(eu,") at ").concat(ed.join(".")))}var eM=em.concat(["bool","string"]),eO=["option","enum","array","set","map","struct"],eT=function(eu){function ed(ed,eg){var em="Invalid schema: ".concat(JSON.stringify(ed)," expected ").concat(eg);return eu.call(this,em)||this}return e_(ed,eu),ed}(Error);function eP(eu){if(!("string"==typeof eu&&eM.includes(eu))){if(eu&&"object"==typeof eu){var ed=Object.keys(eu);if(1===ed.length&&eO.includes(ed[0])){var eg=ed[0];if("option"===eg)return eP(eu[eg]);if("enum"===eg)return eN(eu[eg]);if("array"===eg)return ek(eu[eg]);if("set"===eg)return eP(eu[eg]);if("map"===eg)return eR(eu[eg]);if("struct"===eg)return eD(eu[eg])}}throw new eT(eu,eO.join(", ")+" or "+eM.join(", "))}}function eN(eu){if(!Array.isArray(eu))throw new eT(eu,"Array");for(var ed=0,eg=eu;ed<eg.length;ed++){var em=eg[ed];if("object"!=typeof em||!("struct"in em))throw Error('Missing "struct" key in enum schema');if("object"!=typeof em.struct||1!==Object.keys(em.struct).length)throw Error('The "struct" in each enum must have a single key');eP({struct:em.struct})}}function ek(eu){if("object"!=typeof eu)throw new eT(eu,"{ type, len? }");if(eu.len&&"number"!=typeof eu.len)throw Error("Invalid schema: ".concat(eu));if("type"in eu)return eP(eu.type);throw new eT(eu,"{ type, len? }")}function eR(eu){if("object"==typeof eu&&"key"in eu&&"value"in eu)eP(eu.key),eP(eu.value);else throw new eT(eu,"{ key, value }")}function eD(eu){if("object"!=typeof eu)throw new eT(eu,"object");for(var ed in eu)eP(eu[ed])}var eB=function(){function eu(eu){this.encoded=new eb,this.fieldPath=["value"],this.checkTypes=eu}return eu.prototype.encode=function(eu,ed){return this.encode_value(eu,ed),this.encoded.get_used_buffer()},eu.prototype.encode_value=function(eu,ed){if("string"==typeof ed){if(em.includes(ed))return this.encode_integer(eu,ed);if("string"===ed)return this.encode_string(eu);if("bool"===ed)return this.encode_boolean(eu)}if("object"==typeof ed){if("option"in ed)return this.encode_option(eu,ed);if("enum"in ed)return this.encode_enum(eu,ed);if("array"in ed)return this.encode_array(eu,ed);if("set"in ed)return this.encode_set(eu,ed);if("map"in ed)return this.encode_map(eu,ed);if("struct"in ed)return this.encode_struct(eu,ed)}},eu.prototype.encode_integer=function(eu,ed){var eg=parseInt(ed.substring(1));eg<=32||"f64"==ed?(this.checkTypes&&eA(eu,"number",this.fieldPath),this.encoded.store_value(eu,ed)):(this.checkTypes&&eS(eu,this.fieldPath),this.encode_bigint(BigInt(eu),eg))},eu.prototype.encode_bigint=function(eu,ed){for(var eg=ed/8,em=new Uint8Array(eg),eb=0;eb<eg;eb++)em[eb]=Number(eu&BigInt(255)),eu>>=BigInt(8);this.encoded.store_bytes(new Uint8Array(em))},eu.prototype.encode_string=function(eu){this.checkTypes&&eA(eu,"string",this.fieldPath);for(var ed=eu,eg=[],em=0;em<ed.length;em++){var eb=ed.charCodeAt(em);eb<128?eg.push(eb):eb<2048?eg.push(192|eb>>6,128|63&eb):eb<55296||eb>=57344?eg.push(224|eb>>12,128|eb>>6&63,128|63&eb):(em++,eb=65536+((1023&eb)<<10|1023&ed.charCodeAt(em)),eg.push(240|eb>>18,128|eb>>12&63,128|eb>>6&63,128|63&eb))}this.encoded.store_value(eg.length,"u32"),this.encoded.store_bytes(new Uint8Array(eg))},eu.prototype.encode_boolean=function(eu){this.checkTypes&&eA(eu,"boolean",this.fieldPath),this.encoded.store_value(eu?1:0,"u8")},eu.prototype.encode_option=function(eu,ed){null==eu?this.encoded.store_value(0,"u8"):(this.encoded.store_value(1,"u8"),this.encode_value(eu,ed.option))},eu.prototype.encode_enum=function(eu,ed){this.checkTypes&&eC(eu,this.fieldPath);for(var eg=Object.keys(eu)[0],em=0;em<ed.enum.length;em++){var eb=ed.enum[em];if(eg===Object.keys(eb.struct)[0])return this.encoded.store_value(em,"u8"),this.encode_struct(eu,eb)}throw Error("Enum key (".concat(eg,") not found in enum schema: ").concat(JSON.stringify(ed)," at ").concat(this.fieldPath.join(".")))},eu.prototype.encode_array=function(eu,ed){if(eE(eu))return this.encode_arraylike(eu,ed);if(eu instanceof ArrayBuffer)return this.encode_buffer(eu,ed);throw Error("Expected Array-like not ".concat(typeof eu,"(").concat(eu,") at ").concat(this.fieldPath.join(".")))},eu.prototype.encode_arraylike=function(eu,ed){ed.array.len?eI(eu.length,ed.array.len,this.fieldPath):this.encoded.store_value(eu.length,"u32");for(var eg=0;eg<eu.length;eg++)this.encode_value(eu[eg],ed.array.type)},eu.prototype.encode_buffer=function(eu,ed){ed.array.len?eI(eu.byteLength,ed.array.len,this.fieldPath):this.encoded.store_value(eu.byteLength,"u32"),this.encoded.store_bytes(new Uint8Array(eu))},eu.prototype.encode_set=function(eu,ed){this.checkTypes&&eA(eu,"object",this.fieldPath);var eg=eu instanceof Set?Array.from(eu.values()):Object.values(eu);this.encoded.store_value(eg.length,"u32");for(var em=0,eb=eg;em<eb.length;em++){var ew=eb[em];this.encode_value(ew,ed.set)}},eu.prototype.encode_map=function(eu,ed){this.checkTypes&&eA(eu,"object",this.fieldPath);var eg=eu instanceof Map,em=eg?Array.from(eu.keys()):Object.keys(eu);this.encoded.store_value(em.length,"u32");for(var eb=0,ew=em;eb<ew.length;eb++){var e_=ew[eb];this.encode_value(e_,ed.map.key),this.encode_value(eg?eu.get(e_):eu[e_],ed.map.value)}},eu.prototype.encode_struct=function(eu,ed){this.checkTypes&&eA(eu,"object",this.fieldPath);for(var eg=0,em=Object.keys(ed.struct);eg<em.length;eg++){var eb=em[eg];this.fieldPath.push(eb),this.encode_value(eu[eb],ed.struct[eb]),this.fieldPath.pop()}},eu}(),eU=function(){function eu(eu){this.buffer=new ew(eu)}return eu.prototype.decode=function(eu){return this.decode_value(eu)},eu.prototype.decode_value=function(eu){if("string"==typeof eu){if(em.includes(eu))return this.decode_integer(eu);if("string"===eu)return this.decode_string();if("bool"===eu)return this.decode_boolean()}if("object"==typeof eu){if("option"in eu)return this.decode_option(eu);if("enum"in eu)return this.decode_enum(eu);if("array"in eu)return this.decode_array(eu);if("set"in eu)return this.decode_set(eu);if("map"in eu)return this.decode_map(eu);if("struct"in eu)return this.decode_struct(eu)}throw Error("Unsupported type: ".concat(eu))},eu.prototype.decode_integer=function(eu){var ed=parseInt(eu.substring(1));return ed<=32||"f64"==eu?this.buffer.consume_value(eu):this.decode_bigint(ed,eu.startsWith("i"))},eu.prototype.decode_bigint=function(eu,ed){void 0===ed&&(ed=!1);var eg=eu/8,em=new Uint8Array(this.buffer.consume_bytes(eg)),eb=em.reduceRight(function(eu,ed){return eu+ed.toString(16).padStart(2,"0")},"");return ed&&em[eg-1]?BigInt.asIntN(eu,BigInt("0x".concat(eb))):BigInt("0x".concat(eb))},eu.prototype.decode_string=function(){for(var eu=this.decode_integer("u32"),ed=new Uint8Array(this.buffer.consume_bytes(eu)),eg=[],em=0;em<eu;++em){var eb=ed[em];if(eb<128)eg.push(eb);else if(eb<224)eg.push((31&eb)<<6|63&ed[++em]);else if(eb<240)eg.push((15&eb)<<12|(63&ed[++em])<<6|63&ed[++em]);else{var ew=(7&eb)<<18|(63&ed[++em])<<12|(63&ed[++em])<<6|63&ed[++em];eg.push(ew)}}return String.fromCodePoint.apply(String,eg)},eu.prototype.decode_boolean=function(){return this.buffer.consume_value("u8")>0},eu.prototype.decode_option=function(eu){var ed=this.buffer.consume_value("u8");if(1===ed)return this.decode_value(eu.option);if(0!==ed)throw Error("Invalid option ".concat(ed));return null},eu.prototype.decode_enum=function(eu){var ed,eg=this.buffer.consume_value("u8");if(eg>eu.enum.length)throw Error("Enum option ".concat(eg," is not available"));var em=eu.enum[eg].struct,eb=Object.keys(em)[0];return(ed={})[eb]=this.decode_value(em[eb]),ed},eu.prototype.decode_array=function(eu){for(var ed=[],eg=eu.array.len?eu.array.len:this.decode_integer("u32"),em=0;em<eg;++em)ed.push(this.decode_value(eu.array.type));return ed},eu.prototype.decode_set=function(eu){for(var ed=this.decode_integer("u32"),eg=new Set,em=0;em<ed;++em)eg.add(this.decode_value(eu.set));return eg},eu.prototype.decode_map=function(eu){for(var ed=this.decode_integer("u32"),eg=new Map,em=0;em<ed;++em){var eb=this.decode_value(eu.map.key),ew=this.decode_value(eu.map.value);eg.set(eb,ew)}return eg},eu.prototype.decode_struct=function(eu){var ed={};for(var eg in eu.struct)ed[eg]=this.decode_value(eu.struct[eg]);return ed},eu}();function eL(eu,ed,eg){return void 0===eg&&(eg=!0),eg&&eP(eu),new eB(eg).encode(ed,eu)}function ej(eu,ed,eg){return void 0===eg&&(eg=!0),eg&&eP(eu),new eU(ed).decode(eu)}},30686:function(eu,ed,eg){"use strict";eg.d(ed,{v:function(){return em}});var em=eg(10161)},93311:function(eu,ed,eg){"use strict";eg.d(ed,{Al:function(){return e7},Jb:function(){return eK},Ld:function(){return eH},YP:function(){return e$},dy:function(){return eF},sY:function(){return th}});/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let em=globalThis,eb=em.trustedTypes,ew=eb?eb.createPolicy("lit-html",{createHTML:eu=>eu}):void 0,e_="$lit$",eE=`lit$${Math.random().toFixed(9).slice(2)}$`,eA="?"+eE,eS=`<${eA}>`,eI=document,eC=()=>eI.createComment(""),eM=eu=>null===eu||"object"!=typeof eu&&"function"!=typeof eu,eO=Array.isArray,eT=eu=>eO(eu)||"function"==typeof eu?.[Symbol.iterator],eP="[ 	\n\f\r]",eN=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,ek=/-->/g,eR=/>/g,eD=RegExp(`>|${eP}(?:([^\\s"'>=/]+)(${eP}*=${eP}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),eB=/'/g,eU=/"/g,eL=/^(?:script|style|textarea|title)$/i,ej=eu=>(ed,...eg)=>({_$litType$:eu,strings:ed,values:eg}),eF=ej(1),e$=ej(2),eK=(ej(3),Symbol.for("lit-noChange")),eH=Symbol.for("lit-nothing"),eV=new WeakMap,eG=eI.createTreeWalker(eI,129);function eW(eu,ed){if(!eO(eu)||!eu.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==ew?ew.createHTML(ed):ed}let eJ=(eu,ed)=>{let eg=eu.length-1,em=[],eb,ew=2===ed?"<svg>":3===ed?"<math>":"",eA=eN;for(let ed=0;ed<eg;ed++){let eg=eu[ed],eI,eC,eM=-1,eO=0;for(;eO<eg.length&&(eA.lastIndex=eO,null!==(eC=eA.exec(eg)));)eO=eA.lastIndex,eA===eN?"!--"===eC[1]?eA=ek:void 0!==eC[1]?eA=eR:void 0!==eC[2]?(eL.test(eC[2])&&(eb=RegExp("</"+eC[2],"g")),eA=eD):void 0!==eC[3]&&(eA=eD):eA===eD?">"===eC[0]?(eA=eb??eN,eM=-1):void 0===eC[1]?eM=-2:(eM=eA.lastIndex-eC[2].length,eI=eC[1],eA=void 0===eC[3]?eD:'"'===eC[3]?eU:eB):eA===eU||eA===eB?eA=eD:eA===ek||eA===eR?eA=eN:(eA=eD,eb=void 0);let eT=eA===eD&&eu[ed+1].startsWith("/>")?" ":"";ew+=eA===eN?eg+eS:eM>=0?(em.push(eI),eg.slice(0,eM)+e_+eg.slice(eM)+eE+eT):eg+eE+(-2===eM?ed:eT)}return[eW(eu,ew+(eu[eg]||"<?>")+(2===ed?"</svg>":3===ed?"</math>":"")),em]};class eZ{constructor({strings:eu,_$litType$:ed},eg){let em;this.parts=[];let ew=0,eS=0,eI=eu.length-1,eM=this.parts,[eO,eT]=eJ(eu,ed);if(this.el=eZ.createElement(eO,eg),eG.currentNode=this.el.content,2===ed||3===ed){let eu=this.el.content.firstChild;eu.replaceWith(...eu.childNodes)}for(;null!==(em=eG.nextNode())&&eM.length<eI;){if(1===em.nodeType){if(em.hasAttributes())for(let eu of em.getAttributeNames())if(eu.endsWith(e_)){let ed=eT[eS++],eg=em.getAttribute(eu).split(eE),eb=/([.?@])?(.*)/.exec(ed);eM.push({type:1,index:ew,name:eb[2],strings:eg,ctor:"."===eb[1]?e6:"?"===eb[1]?e8:"@"===eb[1]?e5:e0}),em.removeAttribute(eu)}else eu.startsWith(eE)&&(eM.push({type:6,index:ew}),em.removeAttribute(eu));if(eL.test(em.tagName)){let eu=em.textContent.split(eE),ed=eu.length-1;if(ed>0){em.textContent=eb?eb.emptyScript:"";for(let eg=0;eg<ed;eg++)em.append(eu[eg],eC()),eG.nextNode(),eM.push({type:2,index:++ew});em.append(eu[ed],eC())}}}else if(8===em.nodeType){if(em.data===eA)eM.push({type:2,index:ew});else{let eu=-1;for(;-1!==(eu=em.data.indexOf(eE,eu+1));)eM.push({type:7,index:ew}),eu+=eE.length-1}}ew++}}static createElement(eu,ed){let eg=eI.createElement("template");return eg.innerHTML=eu,eg}}function eY(eu,ed,eg=eu,em){if(ed===eK)return ed;let eb=void 0!==em?eg._$Co?.[em]:eg._$Cl,ew=eM(ed)?void 0:ed._$litDirective$;return eb?.constructor!==ew&&(eb?._$AO?.(!1),void 0===ew?eb=void 0:(eb=new ew(eu))._$AT(eu,eg,em),void 0!==em?(eg._$Co??=[])[em]=eb:eg._$Cl=eb),void 0!==eb&&(ed=eY(eu,eb._$AS(eu,ed.values),eb,em)),ed}class eX{constructor(eu,ed){this._$AV=[],this._$AN=void 0,this._$AD=eu,this._$AM=ed}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(eu){let{el:{content:ed},parts:eg}=this._$AD,em=(eu?.creationScope??eI).importNode(ed,!0);eG.currentNode=em;let eb=eG.nextNode(),ew=0,e_=0,eE=eg[0];for(;void 0!==eE;){if(ew===eE.index){let ed;2===eE.type?ed=new eQ(eb,eb.nextSibling,this,eu):1===eE.type?ed=new eE.ctor(eb,eE.name,eE.strings,this,eu):6===eE.type&&(ed=new e9(eb,this,eu)),this._$AV.push(ed),eE=eg[++e_]}ew!==eE?.index&&(eb=eG.nextNode(),ew++)}return eG.currentNode=eI,em}p(eu){let ed=0;for(let eg of this._$AV)void 0!==eg&&(void 0!==eg.strings?(eg._$AI(eu,eg,ed),ed+=eg.strings.length-2):eg._$AI(eu[ed])),ed++}}class eQ{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(eu,ed,eg,em){this.type=2,this._$AH=eH,this._$AN=void 0,this._$AA=eu,this._$AB=ed,this._$AM=eg,this.options=em,this._$Cv=em?.isConnected??!0}get parentNode(){let eu=this._$AA.parentNode,ed=this._$AM;return void 0!==ed&&11===eu?.nodeType&&(eu=ed.parentNode),eu}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(eu,ed=this){eM(eu=eY(this,eu,ed))?eu===eH||null==eu||""===eu?(this._$AH!==eH&&this._$AR(),this._$AH=eH):eu!==this._$AH&&eu!==eK&&this._(eu):void 0!==eu._$litType$?this.$(eu):void 0!==eu.nodeType?this.T(eu):eT(eu)?this.k(eu):this._(eu)}O(eu){return this._$AA.parentNode.insertBefore(eu,this._$AB)}T(eu){this._$AH!==eu&&(this._$AR(),this._$AH=this.O(eu))}_(eu){this._$AH!==eH&&eM(this._$AH)?this._$AA.nextSibling.data=eu:this.T(eI.createTextNode(eu)),this._$AH=eu}$(eu){let{values:ed,_$litType$:eg}=eu,em="number"==typeof eg?this._$AC(eu):(void 0===eg.el&&(eg.el=eZ.createElement(eW(eg.h,eg.h[0]),this.options)),eg);if(this._$AH?._$AD===em)this._$AH.p(ed);else{let eu=new eX(em,this),eg=eu.u(this.options);eu.p(ed),this.T(eg),this._$AH=eu}}_$AC(eu){let ed=eV.get(eu.strings);return void 0===ed&&eV.set(eu.strings,ed=new eZ(eu)),ed}k(eu){eO(this._$AH)||(this._$AH=[],this._$AR());let ed=this._$AH,eg,em=0;for(let eb of eu)em===ed.length?ed.push(eg=new eQ(this.O(eC()),this.O(eC()),this,this.options)):eg=ed[em],eg._$AI(eb),em++;em<ed.length&&(this._$AR(eg&&eg._$AB.nextSibling,em),ed.length=em)}_$AR(eu=this._$AA.nextSibling,ed){for(this._$AP?.(!1,!0,ed);eu!==this._$AB;){let ed=eu.nextSibling;eu.remove(),eu=ed}}setConnected(eu){void 0===this._$AM&&(this._$Cv=eu,this._$AP?.(eu))}}class e0{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(eu,ed,eg,em,eb){this.type=1,this._$AH=eH,this._$AN=void 0,this.element=eu,this.name=ed,this._$AM=em,this.options=eb,eg.length>2||""!==eg[0]||""!==eg[1]?(this._$AH=Array(eg.length-1).fill(new String),this.strings=eg):this._$AH=eH}_$AI(eu,ed=this,eg,em){let eb=this.strings,ew=!1;if(void 0===eb)(ew=!eM(eu=eY(this,eu,ed,0))||eu!==this._$AH&&eu!==eK)&&(this._$AH=eu);else{let em,e_;let eE=eu;for(eu=eb[0],em=0;em<eb.length-1;em++)(e_=eY(this,eE[eg+em],ed,em))===eK&&(e_=this._$AH[em]),ew||=!eM(e_)||e_!==this._$AH[em],e_===eH?eu=eH:eu!==eH&&(eu+=(e_??"")+eb[em+1]),this._$AH[em]=e_}ew&&!em&&this.j(eu)}j(eu){eu===eH?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,eu??"")}}class e6 extends e0{constructor(){super(...arguments),this.type=3}j(eu){this.element[this.name]=eu===eH?void 0:eu}}class e8 extends e0{constructor(){super(...arguments),this.type=4}j(eu){this.element.toggleAttribute(this.name,!!eu&&eu!==eH)}}class e5 extends e0{constructor(eu,ed,eg,em,eb){super(eu,ed,eg,em,eb),this.type=5}_$AI(eu,ed=this){if((eu=eY(this,eu,ed,0)??eH)===eK)return;let eg=this._$AH,em=eu===eH&&eg!==eH||eu.capture!==eg.capture||eu.once!==eg.once||eu.passive!==eg.passive,eb=eu!==eH&&(eg===eH||em);em&&this.element.removeEventListener(this.name,this,eg),eb&&this.element.addEventListener(this.name,this,eu),this._$AH=eu}handleEvent(eu){"function"==typeof this._$AH?this._$AH.call(this.options?.host??this.element,eu):this._$AH.handleEvent(eu)}}class e9{constructor(eu,ed,eg){this.element=eu,this.type=6,this._$AN=void 0,this._$AM=ed,this.options=eg}get _$AU(){return this._$AM._$AU}_$AI(eu){eY(this,eu)}}let e7={M:e_,P:eE,A:eA,C:1,L:eJ,R:eX,D:eT,V:eY,I:eQ,H:e0,N:e8,U:e5,B:e6,F:e9},tu=em.litHtmlPolyfillSupport;tu?.(eZ,eQ),(em.litHtmlVersions??=[]).push("3.3.1");let th=(eu,ed,eg)=>{let em=eg?.renderBefore??ed,eb=em._$litPart$;if(void 0===eb){let eu=eg?.renderBefore??null;em._$litPart$=eb=new eQ(ed.insertBefore(eC(),eu),eu,void 0,eg??{})}return eb._$AI(eu),eb}},44920:function(eu,ed,eg){"use strict";eg.d(ed,{oi:function(){return e_},iv:function(){return em.iv},dy:function(){return eb.dy},YP:function(){return eb.YP},$m:function(){return em.$m}});var em=eg(28551),eb=eg(93311);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let ew=globalThis;class e_ extends em.fl{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){let eu=super.createRenderRoot();return this.renderOptions.renderBefore??=eu.firstChild,eu}update(eu){let ed=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(eu),this._$Do=(0,eb.sY)(ed,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return eb.Jb}}e_._$litElement$=!0,e_.finalized=!0,ew.litElementHydrateSupport?.({LitElement:e_});let eE=ew.litElementPolyfillSupport;eE?.({LitElement:e_}),(ew.litElementVersions??=[]).push("4.2.1")},20406:function(eu,ed,eg){"use strict";function em(eu,ed,eg,em,eb,ew,e_){try{var eE=eu[ew](e_),eA=eE.value}catch(eu){eg(eu);return}eE.done?ed(eA):Promise.resolve(eA).then(em,eb)}function eb(eu){return function(){var ed=this,eg=arguments;return new Promise(function(eb,ew){var e_=eu.apply(ed,eg);function eE(eu){em(e_,eb,ew,eE,eA,"next",eu)}function eA(eu){em(e_,eb,ew,eE,eA,"throw",eu)}eE(void 0)})}}eg.d(ed,{Z:function(){return eb}})},67113:function(eu,ed,eg){"use strict";function em(eu){if(Array.isArray(eu))return eu}function eb(eu,ed){var eg,em,eb=null==eu?null:"undefined"!=typeof Symbol&&eu[Symbol.iterator]||eu["@@iterator"];if(null!=eb){var ew=[],e_=!0,eE=!1;try{for(eb=eb.call(eu);!(e_=(eg=eb.next()).done)&&(ew.push(eg.value),!ed||ew.length!==ed);e_=!0);}catch(eu){eE=!0,em=eu}finally{try{e_||null==eb.return||eb.return()}finally{if(eE)throw em}}return ew}}function ew(eu,ed){(null==ed||ed>eu.length)&&(ed=eu.length);for(var eg=0,em=Array(ed);eg<ed;eg++)em[eg]=eu[eg];return em}function e_(eu,ed){if(eu){if("string"==typeof eu)return ew(eu,ed);var eg=Object.prototype.toString.call(eu).slice(8,-1);if("Object"===eg&&eu.constructor&&(eg=eu.constructor.name),"Map"===eg||"Set"===eg)return Array.from(eu);if("Arguments"===eg||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(eg))return ew(eu,ed)}}function eE(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function eA(eu,ed){return em(eu)||eb(eu,ed)||e_(eu,ed)||eE()}eg.d(ed,{Z:function(){return eA}})},92338:function(eu,ed,eg){"use strict";function em(eu,ed,eg){return ed<=eu&&eu<=eg}function eb(eu){if(void 0===eu)return{};if(eu===Object(eu))return eu;throw TypeError("Could not convert argument to dictionary")}function ew(eu){for(var ed=String(eu),eg=ed.length,em=0,eb=[];em<eg;){var ew=ed.charCodeAt(em);if(ew<55296||ew>57343)eb.push(ew);else if(56320<=ew&&ew<=57343)eb.push(65533);else if(55296<=ew&&ew<=56319){if(em===eg-1)eb.push(65533);else{var e_=eu.charCodeAt(em+1);if(56320<=e_&&e_<=57343){var eE=1023&ew,eA=1023&e_;eb.push(65536+(eE<<10)+eA),em+=1}else eb.push(65533)}}em+=1}return eb}function e_(eu){for(var ed="",eg=0;eg<eu.length;++eg){var em=eu[eg];em<=65535?ed+=String.fromCharCode(em):(em-=65536,ed+=String.fromCharCode((em>>10)+55296,(1023&em)+56320))}return ed}eg.r(ed),eg.d(ed,{TextDecoder:function(){return eM},TextEncoder:function(){return eO}});var eE=-1;function eA(eu){this.tokens=[].slice.call(eu)}eA.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():eE},prepend:function(eu){if(Array.isArray(eu))for(var ed=eu;ed.length;)this.tokens.unshift(ed.pop());else this.tokens.unshift(eu)},push:function(eu){if(Array.isArray(eu))for(var ed=eu;ed.length;)this.tokens.push(ed.shift());else this.tokens.push(eu)}};var eS=-1;function eI(eu,ed){if(eu)throw TypeError("Decoder error");return ed||65533}var eC="utf-8";function eM(eu,ed){if(!(this instanceof eM))return new eM(eu,ed);if((eu=void 0!==eu?String(eu).toLowerCase():eC)!==eC)throw Error("Encoding not supported. Only utf-8 is supported");ed=eb(ed),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!ed.fatal,this._ignoreBOM=!!ed.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}function eO(eu,ed){if(!(this instanceof eO))return new eO(eu,ed);if((eu=void 0!==eu?String(eu).toLowerCase():eC)!==eC)throw Error("Encoding not supported. Only utf-8 is supported");ed=eb(ed),this._streaming=!1,this._encoder=null,this._options={fatal:!!ed.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}function eT(eu){var ed=eu.fatal,eg=0,eb=0,ew=0,e_=128,eA=191;this.handler=function(eu,eC){if(eC===eE&&0!==ew)return ew=0,eI(ed);if(eC===eE)return eS;if(0===ew){if(em(eC,0,127))return eC;if(em(eC,194,223))ew=1,eg=eC-192;else if(em(eC,224,239))224===eC&&(e_=160),237===eC&&(eA=159),ew=2,eg=eC-224;else{if(!em(eC,240,244))return eI(ed);240===eC&&(e_=144),244===eC&&(eA=143),ew=3,eg=eC-240}return eg<<=6*ew,null}if(!em(eC,e_,eA))return eg=ew=eb=0,e_=128,eA=191,eu.prepend(eC),eI(ed);if(e_=128,eA=191,eb+=1,eg+=eC-128<<6*(ew-eb),eb!==ew)return null;var eM=eg;return eg=ew=eb=0,eM}}function eP(eu){eu.fatal,this.handler=function(eu,ed){if(ed===eE)return eS;if(em(ed,0,127))return ed;em(ed,128,2047)?(eg=1,eb=192):em(ed,2048,65535)?(eg=2,eb=224):em(ed,65536,1114111)&&(eg=3,eb=240);for(var eg,eb,ew=[(ed>>6*eg)+eb];eg>0;){var e_=ed>>6*(eg-1);ew.push(128|63&e_),eg-=1}return ew}}eM.prototype={decode:function(eu,ed){eg="object"==typeof eu&&eu instanceof ArrayBuffer?new Uint8Array(eu):"object"==typeof eu&&"buffer"in eu&&eu.buffer instanceof ArrayBuffer?new Uint8Array(eu.buffer,eu.byteOffset,eu.byteLength):new Uint8Array(0),ed=eb(ed),this._streaming||(this._decoder=new eT({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!ed.stream;for(var eg,em,ew=new eA(eg),eE=[];!ew.endOfStream()&&(em=this._decoder.handler(ew,ew.read()))!==eS;)null!==em&&(Array.isArray(em)?eE.push.apply(eE,em):eE.push(em));if(!this._streaming){do{if((em=this._decoder.handler(ew,ew.read()))===eS)break;if(null===em)continue;Array.isArray(em)?eE.push.apply(eE,em):eE.push(em)}while(!ew.endOfStream());this._decoder=null}return!eE.length||-1===["utf-8"].indexOf(this.encoding)||this._ignoreBOM||this._BOMseen||(65279===eE[0]?(this._BOMseen=!0,eE.shift()):this._BOMseen=!0),e_(eE)}},eO.prototype={encode:function(eu,ed){eu=eu?String(eu):"",ed=eb(ed),this._streaming||(this._encoder=new eP(this._options)),this._streaming=!!ed.stream;for(var eg,em=[],e_=new eA(ew(eu));!e_.endOfStream()&&(eg=this._encoder.handler(e_,e_.read()))!==eS;)Array.isArray(eg)?em.push.apply(em,eg):em.push(eg);if(!this._streaming){for(;(eg=this._encoder.handler(e_,e_.read()))!==eS;)Array.isArray(eg)?em.push.apply(em,eg):em.push(eg);this._encoder=null}return new Uint8Array(em)}}},22970:function(eu,ed,eg){"use strict";eg.r(ed),eg.d(ed,{__addDisposableResource:function(){return eX},__assign:function(){return ew},__asyncDelegator:function(){return e$},__asyncGenerator:function(){return eF},__asyncValues:function(){return eK},__await:function(){return ej},__awaiter:function(){return eT},__classPrivateFieldGet:function(){return eJ},__classPrivateFieldIn:function(){return eY},__classPrivateFieldSet:function(){return eZ},__createBinding:function(){return eN},__decorate:function(){return eE},__disposeResources:function(){return e0},__esDecorate:function(){return eS},__exportStar:function(){return ek},__extends:function(){return eb},__generator:function(){return eP},__importDefault:function(){return eW},__importStar:function(){return eG},__makeTemplateObject:function(){return eH},__metadata:function(){return eO},__param:function(){return eA},__propKey:function(){return eC},__read:function(){return eD},__rest:function(){return e_},__runInitializers:function(){return eI},__setFunctionName:function(){return eM},__spread:function(){return eB},__spreadArray:function(){return eL},__spreadArrays:function(){return eU},__values:function(){return eR}});var em=function(eu,ed){return(em=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(eu,ed){eu.__proto__=ed}||function(eu,ed){for(var eg in ed)Object.prototype.hasOwnProperty.call(ed,eg)&&(eu[eg]=ed[eg])})(eu,ed)};function eb(eu,ed){if("function"!=typeof ed&&null!==ed)throw TypeError("Class extends value "+String(ed)+" is not a constructor or null");function eg(){this.constructor=eu}em(eu,ed),eu.prototype=null===ed?Object.create(ed):(eg.prototype=ed.prototype,new eg)}var ew=function(){return(ew=Object.assign||function(eu){for(var ed,eg=1,em=arguments.length;eg<em;eg++)for(var eb in ed=arguments[eg])Object.prototype.hasOwnProperty.call(ed,eb)&&(eu[eb]=ed[eb]);return eu}).apply(this,arguments)};function e_(eu,ed){var eg={};for(var em in eu)Object.prototype.hasOwnProperty.call(eu,em)&&0>ed.indexOf(em)&&(eg[em]=eu[em]);if(null!=eu&&"function"==typeof Object.getOwnPropertySymbols)for(var eb=0,em=Object.getOwnPropertySymbols(eu);eb<em.length;eb++)0>ed.indexOf(em[eb])&&Object.prototype.propertyIsEnumerable.call(eu,em[eb])&&(eg[em[eb]]=eu[em[eb]]);return eg}function eE(eu,ed,eg,em){var eb,ew=arguments.length,e_=ew<3?ed:null===em?em=Object.getOwnPropertyDescriptor(ed,eg):em;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)e_=Reflect.decorate(eu,ed,eg,em);else for(var eE=eu.length-1;eE>=0;eE--)(eb=eu[eE])&&(e_=(ew<3?eb(e_):ew>3?eb(ed,eg,e_):eb(ed,eg))||e_);return ew>3&&e_&&Object.defineProperty(ed,eg,e_),e_}function eA(eu,ed){return function(eg,em){ed(eg,em,eu)}}function eS(eu,ed,eg,em,eb,ew){function e_(eu){if(void 0!==eu&&"function"!=typeof eu)throw TypeError("Function expected");return eu}for(var eE,eA=em.kind,eS="getter"===eA?"get":"setter"===eA?"set":"value",eI=!ed&&eu?em.static?eu:eu.prototype:null,eC=ed||(eI?Object.getOwnPropertyDescriptor(eI,em.name):{}),eM=!1,eO=eg.length-1;eO>=0;eO--){var eT={};for(var eP in em)eT[eP]="access"===eP?{}:em[eP];for(var eP in em.access)eT.access[eP]=em.access[eP];eT.addInitializer=function(eu){if(eM)throw TypeError("Cannot add initializers after decoration has completed");ew.push(e_(eu||null))};var eN=(0,eg[eO])("accessor"===eA?{get:eC.get,set:eC.set}:eC[eS],eT);if("accessor"===eA){if(void 0===eN)continue;if(null===eN||"object"!=typeof eN)throw TypeError("Object expected");(eE=e_(eN.get))&&(eC.get=eE),(eE=e_(eN.set))&&(eC.set=eE),(eE=e_(eN.init))&&eb.unshift(eE)}else(eE=e_(eN))&&("field"===eA?eb.unshift(eE):eC[eS]=eE)}eI&&Object.defineProperty(eI,em.name,eC),eM=!0}function eI(eu,ed,eg){for(var em=arguments.length>2,eb=0;eb<ed.length;eb++)eg=em?ed[eb].call(eu,eg):ed[eb].call(eu);return em?eg:void 0}function eC(eu){return"symbol"==typeof eu?eu:"".concat(eu)}function eM(eu,ed,eg){return"symbol"==typeof ed&&(ed=ed.description?"[".concat(ed.description,"]"):""),Object.defineProperty(eu,"name",{configurable:!0,value:eg?"".concat(eg," ",ed):ed})}function eO(eu,ed){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(eu,ed)}function eT(eu,ed,eg,em){function eb(eu){return eu instanceof eg?eu:new eg(function(ed){ed(eu)})}return new(eg||(eg=Promise))(function(eg,ew){function e_(eu){try{eA(em.next(eu))}catch(eu){ew(eu)}}function eE(eu){try{eA(em.throw(eu))}catch(eu){ew(eu)}}function eA(eu){eu.done?eg(eu.value):eb(eu.value).then(e_,eE)}eA((em=em.apply(eu,ed||[])).next())})}function eP(eu,ed){var eg,em,eb,ew={label:0,sent:function(){if(1&eb[0])throw eb[1];return eb[1]},trys:[],ops:[]},e_=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return e_.next=eE(0),e_.throw=eE(1),e_.return=eE(2),"function"==typeof Symbol&&(e_[Symbol.iterator]=function(){return this}),e_;function eE(eu){return function(ed){return eA([eu,ed])}}function eA(eE){if(eg)throw TypeError("Generator is already executing.");for(;e_&&(e_=0,eE[0]&&(ew=0)),ew;)try{if(eg=1,em&&(eb=2&eE[0]?em.return:eE[0]?em.throw||((eb=em.return)&&eb.call(em),0):em.next)&&!(eb=eb.call(em,eE[1])).done)return eb;switch(em=0,eb&&(eE=[2&eE[0],eb.value]),eE[0]){case 0:case 1:eb=eE;break;case 4:return ew.label++,{value:eE[1],done:!1};case 5:ew.label++,em=eE[1],eE=[0];continue;case 7:eE=ew.ops.pop(),ew.trys.pop();continue;default:if(!(eb=(eb=ew.trys).length>0&&eb[eb.length-1])&&(6===eE[0]||2===eE[0])){ew=0;continue}if(3===eE[0]&&(!eb||eE[1]>eb[0]&&eE[1]<eb[3])){ew.label=eE[1];break}if(6===eE[0]&&ew.label<eb[1]){ew.label=eb[1],eb=eE;break}if(eb&&ew.label<eb[2]){ew.label=eb[2],ew.ops.push(eE);break}eb[2]&&ew.ops.pop(),ew.trys.pop();continue}eE=ed.call(eu,ew)}catch(eu){eE=[6,eu],em=0}finally{eg=eb=0}if(5&eE[0])throw eE[1];return{value:eE[0]?eE[1]:void 0,done:!0}}}var eN=Object.create?function(eu,ed,eg,em){void 0===em&&(em=eg);var eb=Object.getOwnPropertyDescriptor(ed,eg);(!eb||("get"in eb?!ed.__esModule:eb.writable||eb.configurable))&&(eb={enumerable:!0,get:function(){return ed[eg]}}),Object.defineProperty(eu,em,eb)}:function(eu,ed,eg,em){void 0===em&&(em=eg),eu[em]=ed[eg]};function ek(eu,ed){for(var eg in eu)"default"===eg||Object.prototype.hasOwnProperty.call(ed,eg)||eN(ed,eu,eg)}function eR(eu){var ed="function"==typeof Symbol&&Symbol.iterator,eg=ed&&eu[ed],em=0;if(eg)return eg.call(eu);if(eu&&"number"==typeof eu.length)return{next:function(){return eu&&em>=eu.length&&(eu=void 0),{value:eu&&eu[em++],done:!eu}}};throw TypeError(ed?"Object is not iterable.":"Symbol.iterator is not defined.")}function eD(eu,ed){var eg="function"==typeof Symbol&&eu[Symbol.iterator];if(!eg)return eu;var em,eb,ew=eg.call(eu),e_=[];try{for(;(void 0===ed||ed-- >0)&&!(em=ew.next()).done;)e_.push(em.value)}catch(eu){eb={error:eu}}finally{try{em&&!em.done&&(eg=ew.return)&&eg.call(ew)}finally{if(eb)throw eb.error}}return e_}function eB(){for(var eu=[],ed=0;ed<arguments.length;ed++)eu=eu.concat(eD(arguments[ed]));return eu}function eU(){for(var eu=0,ed=0,eg=arguments.length;ed<eg;ed++)eu+=arguments[ed].length;for(var em=Array(eu),eb=0,ed=0;ed<eg;ed++)for(var ew=arguments[ed],e_=0,eE=ew.length;e_<eE;e_++,eb++)em[eb]=ew[e_];return em}function eL(eu,ed,eg){if(eg||2==arguments.length)for(var em,eb=0,ew=ed.length;eb<ew;eb++)!em&&eb in ed||(em||(em=Array.prototype.slice.call(ed,0,eb)),em[eb]=ed[eb]);return eu.concat(em||Array.prototype.slice.call(ed))}function ej(eu){return this instanceof ej?(this.v=eu,this):new ej(eu)}function eF(eu,ed,eg){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var em,eb=eg.apply(eu,ed||[]),ew=[];return em=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),eE("next"),eE("throw"),eE("return",e_),em[Symbol.asyncIterator]=function(){return this},em;function e_(eu){return function(ed){return Promise.resolve(ed).then(eu,eC)}}function eE(eu,ed){eb[eu]&&(em[eu]=function(ed){return new Promise(function(eg,em){ew.push([eu,ed,eg,em])>1||eA(eu,ed)})},ed&&(em[eu]=ed(em[eu])))}function eA(eu,ed){try{eS(eb[eu](ed))}catch(eu){eM(ew[0][3],eu)}}function eS(eu){eu.value instanceof ej?Promise.resolve(eu.value.v).then(eI,eC):eM(ew[0][2],eu)}function eI(eu){eA("next",eu)}function eC(eu){eA("throw",eu)}function eM(eu,ed){eu(ed),ew.shift(),ew.length&&eA(ew[0][0],ew[0][1])}}function e$(eu){var ed,eg;return ed={},em("next"),em("throw",function(eu){throw eu}),em("return"),ed[Symbol.iterator]=function(){return this},ed;function em(em,eb){ed[em]=eu[em]?function(ed){return(eg=!eg)?{value:ej(eu[em](ed)),done:!1}:eb?eb(ed):ed}:eb}}function eK(eu){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var ed,eg=eu[Symbol.asyncIterator];return eg?eg.call(eu):(eu=eR(eu),ed={},em("next"),em("throw"),em("return"),ed[Symbol.asyncIterator]=function(){return this},ed);function em(eg){ed[eg]=eu[eg]&&function(ed){return new Promise(function(em,ew){eb(em,ew,(ed=eu[eg](ed)).done,ed.value)})}}function eb(eu,ed,eg,em){Promise.resolve(em).then(function(ed){eu({value:ed,done:eg})},ed)}}function eH(eu,ed){return Object.defineProperty?Object.defineProperty(eu,"raw",{value:ed}):eu.raw=ed,eu}var eV=Object.create?function(eu,ed){Object.defineProperty(eu,"default",{enumerable:!0,value:ed})}:function(eu,ed){eu.default=ed};function eG(eu){if(eu&&eu.__esModule)return eu;var ed={};if(null!=eu)for(var eg in eu)"default"!==eg&&Object.prototype.hasOwnProperty.call(eu,eg)&&eN(ed,eu,eg);return eV(ed,eu),ed}function eW(eu){return eu&&eu.__esModule?eu:{default:eu}}function eJ(eu,ed,eg,em){if("a"===eg&&!em)throw TypeError("Private accessor was defined without a getter");if("function"==typeof ed?eu!==ed||!em:!ed.has(eu))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===eg?em:"a"===eg?em.call(eu):em?em.value:ed.get(eu)}function eZ(eu,ed,eg,em,eb){if("m"===em)throw TypeError("Private method is not writable");if("a"===em&&!eb)throw TypeError("Private accessor was defined without a setter");if("function"==typeof ed?eu!==ed||!eb:!ed.has(eu))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===em?eb.call(eu,eg):eb?eb.value=eg:ed.set(eu,eg),eg}function eY(eu,ed){if(null===ed||"object"!=typeof ed&&"function"!=typeof ed)throw TypeError("Cannot use 'in' operator on non-object");return"function"==typeof eu?ed===eu:eu.has(ed)}function eX(eu,ed,eg){if(null!=ed){var em,eb;if("object"!=typeof ed&&"function"!=typeof ed)throw TypeError("Object expected.");if(eg){if(!Symbol.asyncDispose)throw TypeError("Symbol.asyncDispose is not defined.");em=ed[Symbol.asyncDispose]}if(void 0===em){if(!Symbol.dispose)throw TypeError("Symbol.dispose is not defined.");em=ed[Symbol.dispose],eg&&(eb=em)}if("function"!=typeof em)throw TypeError("Object not disposable.");eb&&(em=function(){try{eb.call(this)}catch(eu){return Promise.reject(eu)}}),eu.stack.push({value:ed,dispose:em,async:eg})}else eg&&eu.stack.push({async:!0});return ed}var eQ="function"==typeof SuppressedError?SuppressedError:function(eu,ed,eg){var em=Error(eg);return em.name="SuppressedError",em.error=eu,em.suppressed=ed,em};function e0(eu){function ed(ed){eu.error=eu.hasError?new eQ(ed,eu.error,"An error was suppressed during disposal."):ed,eu.hasError=!0}var eg,em=0;function eb(){for(;eg=eu.stack.pop();)try{if(!eg.async&&1===em)return em=0,eu.stack.push(eg),Promise.resolve().then(eb);if(eg.dispose){var ew=eg.dispose.call(eg.value);if(eg.async)return em|=2,Promise.resolve(ew).then(eb,function(eu){return ed(eu),eb()})}else em|=1}catch(eu){ed(eu)}if(1===em)return eu.hasError?Promise.reject(eu.error):Promise.resolve();if(eu.hasError)throw eu.error}return eb()}ed.default={__extends:eb,__assign:ew,__rest:e_,__decorate:eE,__param:eA,__metadata:eO,__awaiter:eT,__generator:eP,__createBinding:eN,__exportStar:ek,__values:eR,__read:eD,__spread:eB,__spreadArrays:eU,__spreadArray:eL,__await:ej,__asyncGenerator:eF,__asyncDelegator:e$,__asyncValues:eK,__makeTemplateObject:eH,__importStar:eG,__importDefault:eW,__classPrivateFieldGet:eJ,__classPrivateFieldSet:eZ,__classPrivateFieldIn:eY,__addDisposableResource:eX,__disposeResources:e0}},96246:function(eu,ed,eg){"use strict";eg.d(ed,{zo:function(){return eD},mL:function(){return r3},BB:function(){return r8}});var em={};eg.r(em),eg.d(em,{identity:function(){return eX}});var eb={};eg.r(eb),eg.d(eb,{base2:function(){return eQ}});var ew={};eg.r(ew),eg.d(ew,{base8:function(){return e0}});var e_={};eg.r(e_),eg.d(e_,{base10:function(){return e6}});var eE={};eg.r(eE),eg.d(eE,{base16:function(){return e8},base16upper:function(){return e5}});var eA={};eg.r(eA),eg.d(eA,{base32:function(){return e9},base32hex:function(){return td},base32hexpad:function(){return ty},base32hexpadupper:function(){return tb},base32hexupper:function(){return tg},base32pad:function(){return tu},base32padupper:function(){return th},base32upper:function(){return e7},base32z:function(){return tw}});var eS={};eg.r(eS),eg.d(eS,{base36:function(){return t_},base36upper:function(){return tE}});var eI={};eg.r(eI),eg.d(eI,{base58btc:function(){return tA},base58flickr:function(){return tS}});var eC={};eg.r(eC),eg.d(eC,{base64:function(){return tI},base64pad:function(){return tC},base64url:function(){return tO},base64urlpad:function(){return tT}});var eM={};eg.r(eM),eg.d(eM,{base256emoji:function(){return tU}});var eO={};eg.r(eO),eg.d(eO,{sha256:function(){return rp},sha512:function(){return rg}});var eT={};eg.r(eT),eg.d(eT,{identity:function(){return rA}});var eP={};eg.r(eP),eg.d(eP,{code:function(){return rI},decode:function(){return rM},encode:function(){return rC},name:function(){return rS}});var eN={};function ek(eu){return null!=globalThis.Buffer?new Uint8Array(eu.buffer,eu.byteOffset,eu.byteLength):eu}function eR(eu=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?ek(globalThis.Buffer.allocUnsafe(eu)):new Uint8Array(eu)}function eD(eu,ed){ed||(ed=eu.reduce((eu,ed)=>eu+ed.length,0));let eg=eR(ed),em=0;for(let ed of eu)eg.set(ed,em),em+=ed.length;return ek(eg)}eg.r(eN),eg.d(eN,{code:function(){return rN},decode:function(){return rD},encode:function(){return rR},name:function(){return rP}});var eB=function(eu,ed){if(eu.length>=255)throw TypeError("Alphabet too long");for(var eg=new Uint8Array(256),em=0;em<eg.length;em++)eg[em]=255;for(var eb=0;eb<eu.length;eb++){var ew=eu.charAt(eb),e_=ew.charCodeAt(0);if(255!==eg[e_])throw TypeError(ew+" is ambiguous");eg[e_]=eb}var eE=eu.length,eA=eu.charAt(0),eS=Math.log(eE)/Math.log(256),eI=Math.log(256)/Math.log(eE);function eC(eu){if("string"!=typeof eu)throw TypeError("Expected String");if(0===eu.length)return new Uint8Array;var ed=0;if(" "!==eu[0]){for(var em=0,eb=0;eu[ed]===eA;)em++,ed++;for(var ew=(eu.length-ed)*eS+1>>>0,e_=new Uint8Array(ew);eu[ed];){var eI=eg[eu.charCodeAt(ed)];if(255===eI)return;for(var eC=0,eM=ew-1;(0!==eI||eC<eb)&&-1!==eM;eM--,eC++)eI+=eE*e_[eM]>>>0,e_[eM]=eI%256>>>0,eI=eI/256>>>0;if(0!==eI)throw Error("Non-zero carry");eb=eC,ed++}if(" "!==eu[ed]){for(var eO=ew-eb;eO!==ew&&0===e_[eO];)eO++;for(var eT=new Uint8Array(em+(ew-eO)),eP=em;eO!==ew;)eT[eP++]=e_[eO++];return eT}}}function eM(eu){var eg=eC(eu);if(eg)return eg;throw Error(`Non-${ed} character`)}return{encode:function(ed){if(ed instanceof Uint8Array||(ArrayBuffer.isView(ed)?ed=new Uint8Array(ed.buffer,ed.byteOffset,ed.byteLength):Array.isArray(ed)&&(ed=Uint8Array.from(ed))),!(ed instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===ed.length)return"";for(var eg=0,em=0,eb=0,ew=ed.length;eb!==ew&&0===ed[eb];)eb++,eg++;for(var e_=(ew-eb)*eI+1>>>0,eS=new Uint8Array(e_);eb!==ew;){for(var eC=ed[eb],eM=0,eO=e_-1;(0!==eC||eM<em)&&-1!==eO;eO--,eM++)eC+=256*eS[eO]>>>0,eS[eO]=eC%eE>>>0,eC=eC/eE>>>0;if(0!==eC)throw Error("Non-zero carry");em=eM,eb++}for(var eT=e_-em;eT!==e_&&0===eS[eT];)eT++;for(var eP=eA.repeat(eg);eT<e_;++eT)eP+=eu.charAt(eS[eT]);return eP},decodeUnsafe:eC,decode:eM}};new Uint8Array(0);let eU=eu=>{if(eu instanceof Uint8Array&&"Uint8Array"===eu.constructor.name)return eu;if(eu instanceof ArrayBuffer)return new Uint8Array(eu);if(ArrayBuffer.isView(eu))return new Uint8Array(eu.buffer,eu.byteOffset,eu.byteLength);throw Error("Unknown type, must be binary type")},eL=eu=>new TextEncoder().encode(eu),ej=eu=>new TextDecoder().decode(eu);class eF{constructor(eu,ed,eg){this.name=eu,this.prefix=ed,this.baseEncode=eg}encode(eu){if(eu instanceof Uint8Array)return`${this.prefix}${this.baseEncode(eu)}`;throw Error("Unknown type, must be binary type")}}class e${constructor(eu,ed,eg){if(this.name=eu,this.prefix=ed,void 0===ed.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=ed.codePointAt(0),this.baseDecode=eg}decode(eu){if("string"==typeof eu){if(eu.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(eu)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(eu.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(eu){return eH(this,eu)}}class eK{constructor(eu){this.decoders=eu}or(eu){return eH(this,eu)}decode(eu){let ed=eu[0],eg=this.decoders[ed];if(eg)return eg.decode(eu);throw RangeError(`Unable to decode multibase string ${JSON.stringify(eu)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}let eH=(eu,ed)=>new eK({...eu.decoders||{[eu.prefix]:eu},...ed.decoders||{[ed.prefix]:ed}});class eV{constructor(eu,ed,eg,em){this.name=eu,this.prefix=ed,this.baseEncode=eg,this.baseDecode=em,this.encoder=new eF(eu,ed,eg),this.decoder=new e$(eu,ed,em)}encode(eu){return this.encoder.encode(eu)}decode(eu){return this.decoder.decode(eu)}}let eG=({name:eu,prefix:ed,encode:eg,decode:em})=>new eV(eu,ed,eg,em),eW=({prefix:eu,name:ed,alphabet:eg})=>{let{encode:em,decode:eb}=eB(eg,ed);return eG({prefix:eu,name:ed,encode:em,decode:eu=>eU(eb(eu))})},eJ=(eu,ed,eg,em)=>{let eb={};for(let eu=0;eu<ed.length;++eu)eb[ed[eu]]=eu;let ew=eu.length;for(;"="===eu[ew-1];)--ew;let e_=new Uint8Array(ew*eg/8|0),eE=0,eA=0,eS=0;for(let ed=0;ed<ew;++ed){let ew=eb[eu[ed]];if(void 0===ew)throw SyntaxError(`Non-${em} character`);eA=eA<<eg|ew,(eE+=eg)>=8&&(eE-=8,e_[eS++]=255&eA>>eE)}if(eE>=eg||255&eA<<8-eE)throw SyntaxError("Unexpected end of data");return e_},eZ=(eu,ed,eg)=>{let em="="===ed[ed.length-1],eb=(1<<eg)-1,ew="",e_=0,eE=0;for(let em=0;em<eu.length;++em)for(eE=eE<<8|eu[em],e_+=8;e_>eg;)e_-=eg,ew+=ed[eb&eE>>e_];if(e_&&(ew+=ed[eb&eE<<eg-e_]),em)for(;ew.length*eg&7;)ew+="=";return ew},eY=({name:eu,prefix:ed,bitsPerChar:eg,alphabet:em})=>eG({prefix:ed,name:eu,encode:eu=>eZ(eu,em,eg),decode:ed=>eJ(ed,em,eg,eu)}),eX=eG({prefix:"\x00",name:"identity",encode:eu=>ej(eu),decode:eu=>eL(eu)}),eQ=eY({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),e0=eY({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),e6=eW({prefix:"9",name:"base10",alphabet:"0123456789"}),e8=eY({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),e5=eY({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),e9=eY({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),e7=eY({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),tu=eY({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),th=eY({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),td=eY({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),tg=eY({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),ty=eY({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),tb=eY({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),tw=eY({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),t_=eW({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),tE=eW({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),tA=eW({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),tS=eW({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),tI=eY({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),tC=eY({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),tO=eY({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),tT=eY({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),tP=Array.from("\uD83D\uDE80\uD83E\uDE90\uD83D\uDEF0\uD83C\uDF0C\uD83C\uDF11\uD83C\uDF12\uD83C\uDF13\uD83C\uDF14\uD83C\uDF15\uD83C\uDF16\uD83C\uDF17\uD83C\uDF18\uD83C\uDF0D\uD83C\uDF0F\uD83C\uDF0E\uD83D\uDC09\uD83D\uDCBB\uD83D\uDDA5\uD83D\uDCBE\uD83D\uDCBF\uD83D\uDE02\uD83D\uDE0D\uD83E\uDD23\uD83D\uDE0A\uD83D\uDE4F\uD83D\uDC95\uD83D\uDE2D\uD83D\uDE18\uD83D\uDC4D\uD83D\uDE05\uD83D\uDC4F\uD83D\uDE01\uD83D\uDD25\uD83E\uDD70\uD83D\uDC94\uD83D\uDC96\uD83D\uDC99\uD83D\uDE22\uD83E\uDD14\uD83D\uDE06\uD83D\uDE44\uD83D\uDCAA\uD83D\uDE09\uD83D\uDC4C\uD83E\uDD17\uD83D\uDC9C\uD83D\uDE14\uD83D\uDE0E\uD83D\uDE07\uD83C\uDF39\uD83E\uDD26\uD83C\uDF89\uD83D\uDC9E\uD83E\uDD37\uD83D\uDE31\uD83D\uDE0C\uD83C\uDF38\uD83D\uDE4C\uD83D\uDE0B\uD83D\uDC97\uD83D\uDC9A\uD83D\uDE0F\uD83D\uDC9B\uD83D\uDE42\uD83D\uDC93\uD83E\uDD29\uD83D\uDE04\uD83D\uDE00\uD83D\uDDA4\uD83D\uDE03\uD83D\uDCAF\uD83D\uDE48\uD83D\uDC47\uD83C\uDFB6\uD83D\uDE12\uD83E\uDD2D\uD83D\uDE1C\uD83D\uDC8B\uD83D\uDC40\uD83D\uDE2A\uD83D\uDE11\uD83D\uDCA5\uD83D\uDE4B\uD83D\uDE1E\uD83D\uDE29\uD83D\uDE21\uD83E\uDD2A\uD83D\uDC4A\uD83E\uDD73\uD83D\uDE25\uD83E\uDD24\uD83D\uDC49\uD83D\uDC83\uD83D\uDE33\uD83D\uDE1A\uD83D\uDE1D\uD83D\uDE34\uD83C\uDF1F\uD83D\uDE2C\uD83D\uDE43\uD83C\uDF40\uD83C\uDF37\uD83D\uDE3B\uD83D\uDE13\uD83E\uDD7A\uD83C\uDF08\uD83D\uDE08\uD83E\uDD18\uD83D\uDCA6\uD83D\uDE23\uD83C\uDFC3\uD83D\uDC90\uD83C\uDF8A\uD83D\uDC98\uD83D\uDE20\uD83D\uDE15\uD83C\uDF3A\uD83C\uDF82\uD83C\uDF3B\uD83D\uDE10\uD83D\uDD95\uD83D\uDC9D\uD83D\uDE4A\uD83D\uDE39\uD83D\uDDE3\uD83D\uDCAB\uD83D\uDC80\uD83D\uDC51\uD83C\uDFB5\uD83E\uDD1E\uD83D\uDE1B\uD83D\uDD34\uD83D\uDE24\uD83C\uDF3C\uD83D\uDE2B\uD83E\uDD19\uD83C\uDFC6\uD83E\uDD2B\uD83D\uDC48\uD83D\uDE2E\uD83D\uDE46\uD83C\uDF7B\uD83C\uDF43\uD83D\uDC36\uD83D\uDC81\uD83D\uDE32\uD83C\uDF3F\uD83E\uDDE1\uD83C\uDF81\uD83C\uDF1E\uD83C\uDF88\uD83D\uDC4B\uD83D\uDE30\uD83E\uDD28\uD83D\uDE36\uD83E\uDD1D\uD83D\uDEB6\uD83D\uDCB0\uD83C\uDF53\uD83D\uDCA2\uD83E\uDD1F\uD83D\uDE41\uD83D\uDEA8\uD83D\uDCA8\uD83E\uDD2C\uD83C\uDF80\uD83C\uDF7A\uD83E\uDD13\uD83D\uDE19\uD83D\uDC9F\uD83C\uDF31\uD83D\uDE16\uD83D\uDC76\uD83E\uDD74\uD83D\uDC8E\uD83D\uDCB8\uD83D\uDE28\uD83C\uDF1A\uD83E\uDD8B\uD83D\uDE37\uD83D\uDD7A\uD83D\uDE45\uD83D\uDE1F\uD83D\uDE35\uD83D\uDC4E\uD83E\uDD32\uD83E\uDD20\uD83E\uDD27\uD83D\uDCCC\uD83D\uDD35\uD83D\uDC85\uD83E\uDDD0\uD83D\uDC3E\uD83C\uDF52\uD83D\uDE17\uD83E\uDD11\uD83C\uDF0A\uD83E\uDD2F\uD83D\uDC37\uD83D\uDCA7\uD83D\uDE2F\uD83D\uDC86\uD83D\uDC46\uD83C\uDFA4\uD83D\uDE47\uD83C\uDF51\uD83C\uDF34\uD83D\uDCA3\uD83D\uDC38\uD83D\uDC8C\uD83D\uDCCD\uD83E\uDD40\uD83E\uDD22\uD83D\uDC45\uD83D\uDCA1\uD83D\uDCA9\uD83D\uDC50\uD83D\uDCF8\uD83D\uDC7B\uD83E\uDD10\uD83E\uDD2E\uD83C\uDFBC\uD83E\uDD75\uD83D\uDEA9\uD83C\uDF4E\uD83C\uDF4A\uD83D\uDC7C\uD83D\uDC8D\uD83D\uDCE3\uD83E\uDD42"),tN=tP.reduce((eu,ed,eg)=>(eu[eg]=ed,eu),[]),tR=tP.reduce((eu,ed,eg)=>(eu[ed.codePointAt(0)]=eg,eu),[]);function tD(eu){return eu.reduce((eu,ed)=>eu+=tN[ed],"")}function tB(eu){let ed=[];for(let eg of eu){let eu=tR[eg.codePointAt(0)];if(void 0===eu)throw Error(`Non-base256emoji character: ${eg}`);ed.push(eu)}return new Uint8Array(ed)}let tU=eG({prefix:"\uD83D\uDE80",name:"base256emoji",encode:tD,decode:tB});var tL=128,tj=-128,tF=2147483648;function t$(eu,ed,eg){ed=ed||[];for(var em=eg=eg||0;eu>=tF;)ed[eg++]=255&eu|tL,eu/=128;for(;eu&tj;)ed[eg++]=255&eu|tL,eu>>>=7;return ed[eg]=0|eu,t$.bytes=eg-em+1,ed}var tK=128,tq=127;function tz(eu,ed){var eg,em=0,ed=ed||0,eb=0,ew=ed,e_=eu.length;do{if(ew>=e_)throw tz.bytes=0,RangeError("Could not decode varint");eg=eu[ew++],em+=eb<28?(eg&tq)<<eb:(eg&tq)*Math.pow(2,eb),eb+=7}while(eg>=tK);return tz.bytes=ew-ed,em}var tH=128,tV=16384,tG=2097152,tW=268435456,tJ=34359738368,tZ=4398046511104,tY=562949953421312,tX=72057594037927940,tQ=0x7fffffffffffffff,t6={encode:t$,decode:tz,encodingLength:function(eu){return eu<tH?1:eu<tV?2:eu<tG?3:eu<tW?4:eu<tJ?5:eu<tZ?6:eu<tY?7:eu<tX?8:eu<tQ?9:10}};let t8=(eu,ed,eg=0)=>(t6.encode(eu,ed,eg),ed),t5=eu=>t6.encodingLength(eu),t4=(eu,ed)=>{let eg=ed.byteLength,em=t5(eu),eb=em+t5(eg),ew=new Uint8Array(eb+eg);return t8(eu,ew,0),t8(eg,ew,em),ew.set(ed,eb),new t9(eu,eg,ed,ew)};class t9{constructor(eu,ed,eg,em){this.code=eu,this.size=ed,this.digest=eg,this.bytes=em}}let t7=({name:eu,code:ed,encode:eg})=>new ru(eu,ed,eg);class ru{constructor(eu,ed,eg){this.name=eu,this.code=ed,this.encode=eg}digest(eu){if(eu instanceof Uint8Array){let ed=this.encode(eu);return ed instanceof Uint8Array?t4(this.code,ed):ed.then(eu=>t4(this.code,eu))}throw Error("Unknown type, must be binary type")}}let rd=eu=>async ed=>new Uint8Array(await crypto.subtle.digest(eu,ed)),rp=t7({name:"sha2-256",code:18,encode:rd("SHA-256")}),rg=t7({name:"sha2-512",code:19,encode:rd("SHA-512")}),ry=0,rw="identity",r_=eU,rE=eu=>t4(ry,r_(eu)),rA={code:ry,name:rw,encode:r_,digest:rE},rS="raw",rI=85,rC=eu=>eU(eu),rM=eu=>eU(eu),rO=new TextEncoder,rT=new TextDecoder,rP="json",rN=512,rR=eu=>rO.encode(JSON.stringify(eu)),rD=eu=>JSON.parse(rT.decode(eu));class rB{constructor(eu,ed,eg,em){this.code=ed,this.version=eu,this.multihash=eg,this.bytes=em,this.byteOffset=em.byteOffset,this.byteLength=em.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:rH,byteLength:rH,code:rz,version:rz,multihash:rz,bytes:rz,_baseCache:rH,asCID:rH})}toV0(){if(0===this.version)return this;{let{code:eu,multihash:ed}=this;if(eu!==rF)throw Error("Cannot convert a non dag-pb CID to CIDv0");if(ed.code!==r$)throw Error("Cannot convert non sha2-256 multihash CID to CIDv0");return rB.createV0(ed)}}toV1(){switch(this.version){case 0:{let{code:eu,digest:ed}=this.multihash,eg=Digest.create(eu,ed);return rB.createV1(this.code,eg)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(eu){return eu&&this.code===eu.code&&this.version===eu.version&&Digest.equals(this.multihash,eu.multihash)}toString(eu){let{bytes:ed,version:eg,_baseCache:em}=this;return 0===eg?rL(ed,em,eu||base58btc.encoder):rj(ed,em,eu||base32.encoder)}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(eu){return rG(/^0\.0/,rW),!!(eu&&(eu[rq]||eu.asCID===eu))}get toBaseEncodedString(){throw Error("Deprecated, use .toString()")}get codec(){throw Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw Error('"multibaseName" property is deprecated')}get prefix(){throw Error('"prefix" property is deprecated')}static asCID(eu){if(eu instanceof rB)return eu;if(null!=eu&&eu.asCID===eu){let{version:ed,code:eg,multihash:em,bytes:eb}=eu;return new rB(ed,eg,em,eb||rK(ed,eg,em.bytes))}if(null==eu||!0!==eu[rq])return null;{let{version:ed,multihash:eg,code:em}=eu,eb=Digest.decode(eg);return rB.create(ed,em,eb)}}static create(eu,ed,eg){if("number"!=typeof ed)throw Error("String codecs are no longer supported");switch(eu){case 0:if(ed===rF)return new rB(eu,ed,eg,eg.bytes);throw Error(`Version 0 CID must use dag-pb (code: ${rF}) block encoding`);case 1:{let em=rK(eu,ed,eg.bytes);return new rB(eu,ed,eg,em)}default:throw Error("Invalid version")}}static createV0(eu){return rB.create(0,rF,eu)}static createV1(eu,ed){return rB.create(1,eu,ed)}static decode(eu){let[ed,eg]=rB.decodeFirst(eu);if(eg.length)throw Error("Incorrect length");return ed}static decodeFirst(eu){let ed=rB.inspectBytes(eu),eg=ed.size-ed.multihashSize,em=coerce(eu.subarray(eg,eg+ed.multihashSize));if(em.byteLength!==ed.multihashSize)throw Error("Incorrect length");let eb=em.subarray(ed.multihashSize-ed.digestSize),ew=new Digest.Digest(ed.multihashCode,ed.digestSize,eb,em),e_=0===ed.version?rB.createV0(ew):rB.createV1(ed.codec,ew);return[e_,eu.subarray(ed.size)]}static inspectBytes(eu){let ed=0,eg=()=>{let[eg,em]=varint.decode(eu.subarray(ed));return ed+=em,eg},em=eg(),eb=rF;if(18===em?(em=0,ed=0):1===em&&(eb=eg()),0!==em&&1!==em)throw RangeError(`Invalid CID version ${em}`);let ew=ed,e_=eg(),eE=eg(),eA=ed+eE,eS=eA-ew;return{version:em,codec:eb,multihashCode:e_,digestSize:eE,multihashSize:eS,size:eA}}static parse(eu,ed){let[eg,em]=rU(eu,ed),eb=rB.decode(em);return eb._baseCache.set(eg,eu),eb}}let rU=(eu,ed)=>{switch(eu[0]){case"Q":{let eg=ed||base58btc;return[base58btc.prefix,eg.decode(`${base58btc.prefix}${eu}`)]}case base58btc.prefix:{let eg=ed||base58btc;return[base58btc.prefix,eg.decode(eu)]}case base32.prefix:{let eg=ed||base32;return[base32.prefix,eg.decode(eu)]}default:if(null==ed)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[eu[0],ed.decode(eu)]}},rL=(eu,ed,eg)=>{let{prefix:em}=eg;if(em!==base58btc.prefix)throw Error(`Cannot string encode V0 in ${eg.name} encoding`);let eb=ed.get(em);if(null!=eb)return eb;{let eb=eg.encode(eu).slice(1);return ed.set(em,eb),eb}},rj=(eu,ed,eg)=>{let{prefix:em}=eg,eb=ed.get(em);if(null!=eb)return eb;{let eb=eg.encode(eu);return ed.set(em,eb),eb}},rF=112,r$=18,rK=(eu,ed,eg)=>{let em=varint.encodingLength(eu),eb=em+varint.encodingLength(ed),ew=new Uint8Array(eb+eg.byteLength);return varint.encodeTo(eu,ew,0),varint.encodeTo(ed,ew,em),ew.set(eg,eb),ew},rq=Symbol.for("@ipld/js-cid/CID"),rz={writable:!1,configurable:!1,enumerable:!0},rH={writable:!1,enumerable:!1,configurable:!1},rV="0.0.0-dev",rG=(eu,ed)=>{if(eu.test(rV))console.warn(ed);else throw Error(ed)},rW=null,rJ={...em,...eb,...ew,...e_,...eE,...eA,...eS,...eI,...eC,...eM};function rZ(eu,ed,eg,em){return{name:eu,prefix:ed,encoder:{name:eu,prefix:ed,encode:eg},decoder:{decode:em}}}({...eO,...eT});let rY=rZ("utf8","u",eu=>{let ed=new TextDecoder("utf8");return"u"+ed.decode(eu)},eu=>{let ed=new TextEncoder;return ed.encode(eu.substring(1))}),rX=rZ("ascii","a",eu=>{let ed="a";for(let eg=0;eg<eu.length;eg++)ed+=String.fromCharCode(eu[eg]);return ed},eu=>{eu=eu.substring(1);let ed=eR(eu.length);for(let eg=0;eg<eu.length;eg++)ed[eg]=eu.charCodeAt(eg);return ed}),rQ={utf8:rY,"utf-8":rY,hex:rJ.base16,latin1:rX,ascii:rX,binary:rX,...rJ};var r6=rQ;function r3(eu,ed="utf8"){let eg=r6[ed];if(!eg)throw Error(`Unsupported encoding "${ed}"`);return("utf8"===ed||"utf-8"===ed)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?ek(globalThis.Buffer.from(eu,"utf-8")):eg.decoder.decode(`${eg.prefix}${eu}`)}function r8(eu,ed="utf8"){let eg=r6[ed];if(!eg)throw Error(`Unsupported encoding "${ed}"`);return("utf8"===ed||"utf-8"===ed)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?globalThis.Buffer.from(eu.buffer,eu.byteOffset,eu.byteLength).toString("utf8"):eg.encoder.encode(eu).substring(1)}},89005:function(eu,ed,eg){"use strict";eg.r(ed),eg.d(ed,{uuid4:function(){return ew},valid:function(){return eb}});let em=/^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;function eb(eu){return em.test(eu)}function ew(){var eu=URL.createObjectURL(new Blob),ed=eu.toString();return URL.revokeObjectURL(eu),ed.split(/[:\/]/g).pop().toLowerCase()}ew.valid=eb,ed.default=ew},62405:function(eu,ed,eg){"use strict";eg.d(ed,{sj:function(){return tu},iH:function(){return tg},CO:function(){return td},Ld:function(){return th},WX:function(){return ty}});let em=Symbol(),eb=Symbol(),ew="a",e_="f",eE="p",eA="c",eS="t",eI="h",eC="w",eM="o",eO="k",eT=(eu,ed)=>new Proxy(eu,ed),eP=Object.getPrototypeOf,eN=new WeakMap,ek=eu=>eu&&(eN.has(eu)?eN.get(eu):eP(eu)===Object.prototype||eP(eu)===Array.prototype),eR=eu=>"object"==typeof eu&&null!==eu,eD=eu=>Object.values(Object.getOwnPropertyDescriptors(eu)).some(eu=>!eu.configurable&&!eu.writable),eB=eu=>{if(Array.isArray(eu))return Array.from(eu);let ed=Object.getOwnPropertyDescriptors(eu);return Object.values(ed).forEach(eu=>{eu.configurable=!0}),Object.create(eP(eu),ed)},eU=(eu,ed)=>{let eg={[e_]:ed},eE=!1,eT=(ed,em)=>{if(!eE){let eb=eg[ew].get(eu);if(eb||(eb={},eg[ew].set(eu,eb)),ed===eC)eb[eC]=!0;else{let eu=eb[ed];eu||(eu=new Set,eb[ed]=eu),eu.add(em)}}},eP=()=>{eE=!0,eg[ew].delete(eu)},eN={get:(ed,em)=>em===eb?eu:(eT(eO,em),ej(Reflect.get(ed,em),eg[ew],eg[eA],eg[eS])),has:(eu,ed)=>ed===em?(eP(),!0):(eT(eI,ed),Reflect.has(eu,ed)),getOwnPropertyDescriptor:(eu,ed)=>(eT(eM,ed),Reflect.getOwnPropertyDescriptor(eu,ed)),ownKeys:eu=>(eT(eC),Reflect.ownKeys(eu))};return ed&&(eN.set=eN.deleteProperty=()=>!1),[eN,eg]},eL=eu=>eu[eb]||eu,ej=(eu,ed,eg,em)=>{if(!ek(eu))return eu;let eb=em&&em.get(eu);if(!eb){let ed=eL(eu);eb=eD(ed)?[ed,eB(ed)]:[ed],null==em||em.set(eu,eb)}let[eI,eC]=eb,eM=eg&&eg.get(eI);return(!eM||!!eC!==eM[1][e_])&&((eM=eU(eI,!!eC))[1][eE]=eT(eC||eI,eM[0]),eg&&eg.set(eI,eM)),eM[1][ew]=ed,eM[1][eA]=eg,eM[1][eS]=em,eM[1][eE]},eF=(eu,ed)=>{let eg=Reflect.ownKeys(eu),em=Reflect.ownKeys(ed);return eg.length!==em.length||eg.some((eu,ed)=>eu!==em[ed])},e$=(eu,ed,eg,em,eb=Object.is)=>{if(eb(eu,ed))return!1;if(!eR(eu)||!eR(ed))return!0;let ew=eg.get(eL(eu));if(!ew)return!0;if(em){let eg=em.get(eu);if(eg===ed)return!1;em.set(eu,ed)}let e_=null;for(let eg of ew[eI]||[])if(e_=Reflect.has(eu,eg)!==Reflect.has(ed,eg))return e_;if(!0===ew[eC]){if(e_=eF(eu,ed))return e_}else for(let eg of ew[eM]||[]){let em=!!Reflect.getOwnPropertyDescriptor(eu,eg),eb=!!Reflect.getOwnPropertyDescriptor(ed,eg);if(e_=em!==eb)return e_}for(let eE of ew[eO]||[])if(e_=e$(eu[eE],ed[eE],eg,em,eb))return e_;if(null===e_)throw Error("invalid used");return e_},eK=eu=>ek(eu)&&eu[eb]||null,eH=(eu,ed=!0)=>{eN.set(eu,ed)},eV=eu=>"object"==typeof eu&&null!==eu,eG=eu=>eV(eu)&&!eY.has(eu)&&(Array.isArray(eu)||!(Symbol.iterator in eu))&&!(eu instanceof WeakMap)&&!(eu instanceof WeakSet)&&!(eu instanceof Error)&&!(eu instanceof Number)&&!(eu instanceof Date)&&!(eu instanceof String)&&!(eu instanceof RegExp)&&!(eu instanceof ArrayBuffer)&&!(eu instanceof Promise),eW=(eu,ed)=>{let eg=eX.get(eu);if((null==eg?void 0:eg[0])===ed)return eg[1];let em=Array.isArray(eu)?[]:Object.create(Object.getPrototypeOf(eu));return eH(em,!0),eX.set(eu,[ed,em]),Reflect.ownKeys(eu).forEach(ed=>{if(Object.getOwnPropertyDescriptor(em,ed))return;let eg=Reflect.get(eu,ed),{enumerable:eb}=Reflect.getOwnPropertyDescriptor(eu,ed),ew={value:eg,enumerable:eb,configurable:!0};if(eY.has(eg))eH(eg,!1);else if(eZ.has(eg)){let[eu,ed]=eZ.get(eg);ew.value=eW(eu,ed())}Object.defineProperty(em,ed,ew)}),Object.preventExtensions(em)},eJ=(eu,ed,eg,em)=>({deleteProperty(eu,ed){let eb=Reflect.get(eu,ed);eg(ed);let ew=Reflect.deleteProperty(eu,ed);return ew&&em(["delete",[ed],eb]),ew},set(eb,ew,e_,eE){let eA=!eu()&&Reflect.has(eb,ew),eS=Reflect.get(eb,ew,eE);if(eA&&(e6(eS,e_)||e0.has(e_)&&e6(eS,e0.get(e_))))return!0;eg(ew),eV(e_)&&(e_=eK(e_)||e_);let eI=!eZ.has(e_)&&e5(e_)?tu(e_):e_;return ed(ew,eI),Reflect.set(eb,ew,eI,eE),em(["set",[ew],e_,eS]),!0}}),eZ=new WeakMap,eY=new WeakSet,eX=new WeakMap,eQ=[1,1],e0=new WeakMap,e6=Object.is,e8=(eu,ed)=>new Proxy(eu,ed),e5=eG,e9=eW,e7=eJ;function tu(eu={}){if(!eV(eu))throw Error("object required");let ed=e0.get(eu);if(ed)return ed;let eg=eQ[0],em=new Set,eb=(eu,ed=++eQ[0])=>{eg!==ed&&(eg=ed,em.forEach(eg=>eg(eu,ed)))},ew=eQ[1],e_=(eu=++eQ[1])=>(ew===eu||em.size||(ew=eu,eA.forEach(([ed])=>{let em=ed[1](eu);em>eg&&(eg=em)})),eg),eE=eu=>(ed,eg)=>{let em=[...ed];em[1]=[eu,...em[1]],eb(em,eg)},eA=new Map,eS=(eu,ed)=>{let eg=!eY.has(ed)&&eZ.get(ed);if(eg){if(eA.has(eu))throw Error("prop listener already exists");if(em.size){let ed=eg[2](eE(eu));eA.set(eu,[eg,ed])}else eA.set(eu,[eg])}},eI=eu=>{var ed;let eg=eA.get(eu);eg&&(eA.delete(eu),null==(ed=eg[1])||ed.call(eg))},eC=eu=>{em.add(eu),1===em.size&&eA.forEach(([eu,ed],eg)=>{if(ed)throw Error("remove already exists");let em=eu[2](eE(eg));eA.set(eg,[eu,em])});let ed=()=>{em.delete(eu),0===em.size&&eA.forEach(([eu,ed],eg)=>{ed&&(ed(),eA.set(eg,[eu]))})};return ed},eM=!0,eO=e7(()=>eM,eS,eI,eb),eT=e8(eu,eO);e0.set(eu,eT);let eP=[eu,e_,eC];return eZ.set(eT,eP),Reflect.ownKeys(eu).forEach(ed=>{let eg=Object.getOwnPropertyDescriptor(eu,ed);"value"in eg&&eg.writable&&(eT[ed]=eu[ed])}),eM=!1,eT}function th(eu,ed,eg){let em;let eb=eZ.get(eu);eb||console.warn("Please use proxy object");let ew=[],e_=eb[2],eE=!1,eA=eu=>{if(ew.push(eu),eg){ed(ew.splice(0));return}em||(em=Promise.resolve().then(()=>{em=void 0,eE&&ed(ew.splice(0))}))},eS=e_(eA);return eE=!0,()=>{eE=!1,eS()}}function td(eu){let ed=eZ.get(eu);ed||console.warn("Please use proxy object");let[eg,em]=ed;return e9(eg,em())}function tg(eu){return eY.add(eu),eu}function ty(){return{proxyStateMap:eZ,refSet:eY,snapCache:eX,versionHolder:eQ,proxyCache:e0}}},60052:function(eu,ed,eg){"use strict";eg.d(ed,{VW:function(){return eb},Yr:function(){return eA}});var em=eg(62405);function eb(eu,ed,eg,eb){let ew=eu[ed];return(0,em.Ld)(eu,()=>{let em=eu[ed];Object.is(ew,em)||eg(ew=em)},eb)}Symbol();let{proxyStateMap:ew,snapCache:e_}=(0,em.WX)(),eE=eu=>ew.has(eu);function eA(eu){let ed=[],eg=0,eb=new Map,ew=new WeakMap,eA=()=>{let eu=e_.get(eI),ed=null==eu?void 0:eu[1];if(ed&&!ew.has(ed)){let eu=new Map(eb);ew.set(ed,eu)}},eS=eu=>ew.get(eu)||eb;if(eu){if("function"!=typeof eu[Symbol.iterator])throw TypeError("proxyMap:\n	initial state must be iterable\n		tip: structure should be [[key, value]]");for(let[em,ew]of eu)eb.set(em,eg),ed[eg++]=ew}let eI={data:ed,index:eg,epoch:0,get size(){eE(this)||eA();let eu=eS(this);return eu.size},get(eu){let ed=eS(this),eg=ed.get(eu);if(void 0===eg){this.epoch;return}return this.data[eg]},has(eu){let ed=eS(this);return this.epoch,ed.has(eu)},set(eu,ed){if(!eE(this))throw Error("Cannot perform mutations on a snapshot");let eg=eb.get(eu);return void 0===eg?(eb.set(eu,this.index),this.data[this.index++]=ed):this.data[eg]=ed,this.epoch++,this},delete(eu){if(!eE(this))throw Error("Cannot perform mutations on a snapshot");let ed=eb.get(eu);return void 0!==ed&&(delete this.data[ed],eb.delete(eu),this.epoch++,!0)},clear(){if(!eE(this))throw Error("Cannot perform mutations on a snapshot");this.data.length=0,this.index=0,this.epoch++,eb.clear()},forEach(eu){this.epoch;let ed=eS(this);ed.forEach((ed,eg)=>{eu(this.data[ed],eg,this)})},*entries(){this.epoch;let eu=eS(this);for(let[ed,eg]of eu)yield[ed,this.data[eg]]},*keys(){this.epoch;let eu=eS(this);for(let ed of eu.keys())yield ed},*values(){this.epoch;let eu=eS(this);for(let ed of eu.values())yield this.data[ed]},[Symbol.iterator](){return this.entries()},get[Symbol.toStringTag](){return"Map"},toJSON(){return new Map(this.entries())}},eC=(0,em.sj)(eI);return Object.defineProperties(eC,{size:{enumerable:!1},index:{enumerable:!1},epoch:{enumerable:!1},data:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(eC),eC}let{proxyStateMap:eS,snapCache:eI}=(0,em.WX)()},6405:function(eu,ed,eg){"use strict";function em(eu){return"string"==typeof eu?{address:eu,type:"json-rpc"}:eu}eg.d(ed,{T:function(){return em}})},93671:function(eu,ed,eg){"use strict";eg.d(ed,{R:function(){return ej}});var em=eg(90891),eb=eg(45781),ew=eg(6405),e_=eg(36571);let eE="0x82ad56cb";var eA=eg(73306),eS=eg(38150),eI=eg(45241),eC=eg(30412),eM=eg(83349),eO=eg(5668),eT=eg(93156),eP=eg(58665),eN=eg(56940),ek=eg(75928),eR=eg(39022),eD=eg(61353),eB=eg(5549),eU=eg(59607),eL=eg(86452);async function ej(eu,ed){let{account:em=eu.account,authorizationList:e_,batch:eE=!!eu.batch?.multicall,blockNumber:eA,blockTag:eM=eu.experimental_blockTag??"latest",accessList:eO,blobs:eT,blockOverrides:eP,code:eB,data:ej,factory:eG,factoryData:eW,gas:eJ,gasPrice:eZ,maxFeePerBlobGas:eY,maxFeePerGas:eX,maxPriorityFeePerGas:eQ,nonce:e0,to:e6,value:e8,stateOverride:e5,...e9}=ed,e7=em?(0,ew.T)(em):void 0;if(eB&&(eG||eW))throw new eS.G("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(eB&&e6)throw new eS.G("Cannot provide both `code` & `to` as parameters.");let tu=eB&&ej,th=eG&&eW&&e6&&ej,td=tu||th,tg=tu?eK({code:eB,data:ej}):th?eH({data:ej,factory:eG,factoryData:eW,to:e6}):ej;try{(0,eL.F)(ed);let eg="bigint"==typeof eA?(0,eN.eC)(eA):void 0,em=eg||eM,ew=eP?eb.o(eP):void 0,eS=(0,eU.mF)(e5),eC=eu.chain?.formatters?.transactionRequest?.format,ek=eC||eD.tG,eB=ek({...(0,eR.K)(e9,{format:eC}),from:e7?.address,accessList:eO,authorizationList:e_,blobs:eT,data:tg,gas:eJ,gasPrice:eZ,maxFeePerBlobGas:eY,maxFeePerGas:eX,maxPriorityFeePerGas:eQ,nonce:e0,to:td?void 0:e6,value:e8});if(eE&&eF({request:eB})&&!eS&&!ew)try{return await e$(eu,{...eB,blockNumber:eA,blockTag:eM})}catch(eu){if(!(eu instanceof eI.pZ)&&!(eu instanceof eI.mm))throw eu}let ej=(()=>{let eu=[eB,em];return eS&&ew?[...eu,eS,ew]:eS?[...eu,eS]:ew?[...eu,{},ew]:eu})(),eK=await eu.request({method:"eth_call",params:ej});if("0x"===eK)return{data:void 0};return{data:eK}}catch(e_){let em=eV(e_),{offchainLookup:eb,offchainLookupSignature:ew}=await eg.e(4338).then(eg.bind(eg,23922));if(!1!==eu.ccipRead&&em?.slice(0,10)===ew&&e6)return{data:await eb(eu,{data:em,to:e6})};if(td&&"0x101bb98d"===em?.slice(0,10))throw new eC.Mo({factory:eG});throw(0,ek.P)(e_,{...ed,account:e7,chain:eu.chain})}}function eF({request:eu}){let{data:ed,to:eg,...em}=eu;return!(!ed||ed.startsWith(eE))&&!!eg&&!(Object.values(em).filter(eu=>void 0!==eu).length>0)}async function e$(eu,ed){let{batchSize:eg=1024,wait:em=0}="object"==typeof eu.batch?.multicall?eu.batch.multicall:{},{blockNumber:eb,blockTag:ew=eu.experimental_blockTag??"latest",data:eE,multicallAddress:eA,to:eS}=ed,eO=eA;if(!eO){if(!eu.chain)throw new eI.pZ;eO=(0,eP.L)({blockNumber:eb,chain:eu.chain,contract:"multicall3"})}let ek="bigint"==typeof eb?(0,eN.eC)(eb):void 0,eR=ek||ew,{schedule:eD}=(0,eB.S)({id:`${eu.uid}.${eR}`,wait:em,shouldSplitBatch(eu){let ed=eu.reduce((eu,{data:ed})=>eu+(ed.length-2),0);return ed>2*eg},fn:async ed=>{let eg=ed.map(eu=>({allowFailure:!0,callData:eu.data,target:eu.to})),em=(0,eT.R)({abi:e_.F8,args:[eg],functionName:"aggregate3"}),eb=await eu.request({method:"eth_call",params:[{data:em,to:eO},eR]});return(0,eM.k)({abi:e_.F8,args:[eg],functionName:"aggregate3",data:eb||"0x"})}}),[{returnData:eU,success:eL}]=await eD({data:eE,to:eS});if(!eL)throw new eC.VQ({data:eU});return"0x"===eU?{data:void 0}:{data:eU}}function eK(eu){let{code:ed,data:eg}=eu;return(0,eO.w)({abi:(0,em.V)(["constructor(bytes, bytes)"]),bytecode:eA.NO,args:[ed,eg]})}function eH(eu){let{data:ed,factory:eg,factoryData:eb,to:ew}=eu;return(0,eO.w)({abi:(0,em.V)(["constructor(address, bytes, address, bytes)"]),bytecode:eA.pG,args:[ew,ed,eg,eb]})}function eV(eu){if(!(eu instanceof eS.G))return;let ed=eu.walk();return"object"==typeof ed?.data?ed.data?.data:ed.data}},77621:function(eu,ed,eg){"use strict";eg.d(ed,{W:function(){return eb}});var em=eg(20568);async function eb(eu){let ed=(0,em.g)(eu,{method:"eth_newPendingTransactionFilter"}),eg=await eu.request({method:"eth_newPendingTransactionFilter"});return{id:eg,request:ed(eg),type:"transaction"}}},21880:function(eu,ed,eg){"use strict";eg.d(ed,{C:function(){return eS},X:function(){return eA}});var em=eg(77338),eb=eg(28986),ew=eg(93843),e_=eg(48674),eE=eg(25e3);async function eA(eu,ed){return eS(eu,ed)}async function eS(eu,ed){let{block:eg,chain:eA=eu.chain,request:eS,type:eI="eip1559"}=ed||{},eC=await (async()=>"function"==typeof eA?.fees?.baseFeeMultiplier?eA.fees.baseFeeMultiplier({block:eg,client:eu,request:eS}):eA?.fees?.baseFeeMultiplier??1.2)();if(eC<1)throw new em.Fz;let eM=eC.toString().split(".")[1]?.length??0,eO=10**eM,eT=eu=>eu*BigInt(Math.ceil(eC*eO))/BigInt(eO),eP=eg||await (0,eb.s)(eu,e_.Q,"getBlock")({});if("function"==typeof eA?.fees?.estimateFeesPerGas){let ed=await eA.fees.estimateFeesPerGas({block:eg,client:eu,multiply:eT,request:eS,type:eI});if(null!==ed)return ed}if("eip1559"===eI){if("bigint"!=typeof eP.baseFeePerGas)throw new em.e5;let ed="bigint"==typeof eS?.maxPriorityFeePerGas?eS.maxPriorityFeePerGas:await (0,ew.h)(eu,{block:eP,chain:eA,request:eS}),eg=eT(eP.baseFeePerGas),eb=eS?.maxFeePerGas??eg+ed;return{maxFeePerGas:eb,maxPriorityFeePerGas:ed}}let eN=eS?.gasPrice??eT(await (0,eb.s)(eu,eE.o,"getGasPrice")({}));return{gasPrice:eN}}},42369:function(eu,ed,eg){"use strict";eg.d(ed,{Q:function(){return eB}});var em=eg(6405),eb=eg(38150),ew=eg(19958),e_=eg(56940),eE=eg(72942),eA=eg(14712),eS=eg(21984);class eI extends eb.G{constructor(eu,{account:ed,docsPath:eg,chain:em,data:eb,gas:ew,gasPrice:e_,maxFeePerGas:eI,maxPriorityFeePerGas:eC,nonce:eM,to:eO,value:eT}){let eP=(0,eS.xr)({from:ed?.address,to:eO,value:void 0!==eT&&`${(0,eE.d)(eT)} ${em?.nativeCurrency?.symbol||"ETH"}`,data:eb,gas:ew,gasPrice:void 0!==e_&&`${(0,eA.o)(e_)} gwei`,maxFeePerGas:void 0!==eI&&`${(0,eA.o)(eI)} gwei`,maxPriorityFeePerGas:void 0!==eC&&`${(0,eA.o)(eC)} gwei`,nonce:eM});super(eu.shortMessage,{cause:eu,docsPath:eg,metaMessages:[...eu.metaMessages?[...eu.metaMessages," "]:[],"Estimate Gas Arguments:",eP].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=eu}}var eC=eg(57733),eM=eg(5196);function eO(eu,{docsPath:ed,...eg}){let em=(()=>{let ed=(0,eM.k)(eu,eg);return ed instanceof eC.cj?eu:ed})();return new eI(em,{docsPath:ed,...eg})}var eT=eg(39022),eP=eg(61353),eN=eg(59607),ek=eg(86452),eR=eg(44717),eD=eg(86003);async function eB(eu,ed){let{account:eg=eu.account}=ed,eE=eg?(0,em.T)(eg):void 0;try{let{accessList:eg,authorizationList:em,blobs:eS,blobVersionedHashes:eI,blockNumber:eC,blockTag:eM,data:eO,gas:eB,gasPrice:eU,maxFeePerBlobGas:eL,maxFeePerGas:ej,maxPriorityFeePerGas:eF,nonce:e$,value:eK,stateOverride:eH,...eV}=await (0,eR.ZE)(eu,{...ed,parameters:eE?.type==="local"?void 0:["blobVersionedHashes"]}),eG="bigint"==typeof eC?(0,e_.eC)(eC):void 0,eW=eG||eM,eJ=(0,eN.mF)(eH),eZ=await (async()=>eV.to?eV.to:em&&em.length>0?await (0,ew.z)({authorization:em[0]}).catch(()=>{throw new eb.G("`to` is required. Could not infer from `authorizationList`")}):void 0)();(0,ek.F)(ed);let eY=eu.chain?.formatters?.transactionRequest?.format,eX=eY||eP.tG,eQ=eX({...(0,eT.K)(eV,{format:eY}),from:eE?.address,accessList:eg,authorizationList:em,blobs:eS,blobVersionedHashes:eI,data:eO,gas:eB,gasPrice:eU,maxFeePerBlobGas:eL,maxFeePerGas:ej,maxPriorityFeePerGas:eF,nonce:e$,to:eZ,value:eK});function eA(ed){let{block:eg,request:em,rpcStateOverride:eb}=ed;return eu.request({method:"eth_estimateGas",params:eb?[em,eg??eu.experimental_blockTag??"latest",eb]:eg?[em,eg]:[em]})}let e0=BigInt(await eA({block:eW,request:eQ,rpcStateOverride:eJ}));if(em){let ed=await (0,eD.s)(eu,{address:eQ.from}),eg=await Promise.all(em.map(async eu=>{let{address:eg}=eu,em=await eA({block:eW,request:{authorizationList:void 0,data:eO,from:eE?.address,to:eg,value:(0,e_.eC)(ed)},rpcStateOverride:eJ}).catch(()=>100000n);return 2n*BigInt(em)}));e0+=eg.reduce((eu,ed)=>eu+ed,0n)}return e0}catch(eg){throw eO(eg,{...ed,account:eE,chain:eu.chain})}}},93843:function(eu,ed,eg){"use strict";eg.d(ed,{_:function(){return eA},h:function(){return eS}});var em=eg(77338),eb=eg(1491),ew=eg(28986),e_=eg(48674),eE=eg(25e3);async function eA(eu,ed){return eS(eu,ed)}async function eS(eu,ed){let{block:eg,chain:eA=eu.chain,request:eS}=ed||{};try{let ed=eA?.fees?.maxPriorityFeePerGas??eA?.fees?.defaultPriorityFee;if("function"==typeof ed){let em=eg||await (0,ew.s)(eu,e_.Q,"getBlock")({}),eb=await ed({block:em,client:eu,request:eS});if(null===eb)throw Error();return eb}if(void 0!==ed)return ed;let em=await eu.request({method:"eth_maxPriorityFeePerGas"});return(0,eb.y_)(em)}catch{let[ed,eb]=await Promise.all([eg?Promise.resolve(eg):(0,ew.s)(eu,e_.Q,"getBlock")({}),(0,ew.s)(eu,eE.o,"getGasPrice")({})]);if("bigint"!=typeof ed.baseFeePerGas)throw new em.e5;let eA=eb-ed.baseFeePerGas;if(eA<0n)return 0n;return eA}}},86003:function(eu,ed,eg){"use strict";eg.d(ed,{s:function(){return eb}});var em=eg(56940);async function eb(eu,{address:ed,blockNumber:eg,blockTag:eb=eu.experimental_blockTag??"latest"}){let ew="bigint"==typeof eg?(0,em.eC)(eg):void 0,e_=await eu.request({method:"eth_getBalance",params:[ed,ew||eb]});return BigInt(e_)}},48674:function(eu,ed,eg){"use strict";eg.d(ed,{Q:function(){return e_}});var em=eg(87692),eb=eg(56940),ew=eg(17777);async function e_(eu,{blockHash:ed,blockNumber:eg,blockTag:e_=eu.experimental_blockTag??"latest",includeTransactions:eE}={}){let eA=eE??!1,eS=void 0!==eg?(0,eb.eC)(eg):void 0,eI=null;if(!(eI=ed?await eu.request({method:"eth_getBlockByHash",params:[ed,eA]},{dedupe:!0}):await eu.request({method:"eth_getBlockByNumber",params:[eS||e_,eA]},{dedupe:!!eS})))throw new em.f({blockHash:ed,blockNumber:eg});let eC=eu.chain?.formatters?.block?.format||ew.Z;return eC(eI)}},308:function(eu,ed,eg){"use strict";eg.d(ed,{z:function(){return eA}});let em=new Map,eb=new Map;function ew(eu){let ed=(eu,ed)=>({clear:()=>ed.delete(eu),get:()=>ed.get(eu),set:eg=>ed.set(eu,eg)}),eg=ed(eu,em),ew=ed(eu,eb);return{clear:()=>{eg.clear(),ew.clear()},promise:eg,response:ew}}async function e_(eu,{cacheKey:ed,cacheTime:eg=Number.POSITIVE_INFINITY}){let em=ew(ed),eb=em.response.get();if(eb&&eg>0){let eu=new Date().getTime()-eb.created.getTime();if(eu<eg)return eb.data}let e_=em.promise.get();e_||(e_=eu(),em.promise.set(e_));try{let eu=await e_;return em.response.set({created:new Date,data:eu}),eu}finally{em.promise.clear()}}let eE=eu=>`blockNumber.${eu}`;async function eA(eu,{cacheTime:ed=eu.cacheTime}={}){let eg=await e_(()=>eu.request({method:"eth_blockNumber"}),{cacheKey:eE(eu.uid),cacheTime:ed});return BigInt(eg)}},4672:function(eu,ed,eg){"use strict";eg.d(ed,{L:function(){return eb}});var em=eg(1491);async function eb(eu){let ed=await eu.request({method:"eth_chainId"},{dedupe:!0});return(0,em.ly)(ed)}},70409:function(eu,ed,eg){"use strict";eg.d(ed,{K:function(){return ew}});var em=eg(55944),eb=eg(26402);async function ew(eu,{filter:ed}){let eg="strict"in ed&&ed.strict,ew=await ed.request({method:"eth_getFilterChanges",params:[ed.id]});if("string"==typeof ew[0])return ew;let e_=ew.map(eu=>(0,eb.U)(eu));return"abi"in ed&&ed.abi?(0,em.h)({abi:ed.abi,logs:e_,strict:eg}):e_}},25e3:function(eu,ed,eg){"use strict";async function em(eu){let ed=await eu.request({method:"eth_gasPrice"});return BigInt(ed)}eg.d(ed,{o:function(){return em}})},11027:function(eu,ed,eg){"use strict";eg.d(ed,{f:function(){return e_}});var em=eg(21984),eb=eg(56940),ew=eg(71906);async function e_(eu,{blockHash:ed,blockNumber:eg,blockTag:e_,hash:eE,index:eA}){let eS=e_||"latest",eI=void 0!==eg?(0,eb.eC)(eg):void 0,eC=null;if(eE?eC=await eu.request({method:"eth_getTransactionByHash",params:[eE]},{dedupe:!0}):ed?eC=await eu.request({method:"eth_getTransactionByBlockHashAndIndex",params:[ed,(0,eb.eC)(eA)]},{dedupe:!0}):(eI||eS)&&(eC=await eu.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[eI||eS,(0,eb.eC)(eA)]},{dedupe:!!eI})),!eC)throw new em.Bh({blockHash:ed,blockNumber:eg,blockTag:eS,hash:eE,index:eA});let eM=eu.chain?.formatters?.transaction?.format||ew.Tr;return eM(eC)}},81853:function(eu,ed,eg){"use strict";eg.d(ed,{K:function(){return ew}});var em=eg(1491),eb=eg(56940);async function ew(eu,{address:ed,blockTag:eg="latest",blockNumber:ew}){let e_=await eu.request({method:"eth_getTransactionCount",params:[ed,"bigint"==typeof ew?(0,eb.eC)(ew):eg]},{dedupe:!!ew});return(0,em.ly)(e_)}},73579:function(eu,ed,eg){"use strict";eg.d(ed,{a:function(){return ew}});var em=eg(21984),eb=eg(35183);async function ew(eu,{hash:ed}){let eg=await eu.request({method:"eth_getTransactionReceipt",params:[ed]},{dedupe:!0});if(!eg)throw new em.Yb({hash:ed});let ew=eu.chain?.formatters?.transactionReceipt?.format||eb.fA;return ew(eg)}},26250:function(eu,ed,eg){"use strict";eg.d(ed,{A:function(){return eO}});var em=eg(36571),eb=eg(59604),ew=eg(38150),e_=eg(30412),eE=eg(83349),eA=eg(93156),eS=eg(58665),eI=eg(35066),eC=eg(28986),eM=eg(58845);async function eO(eu,ed){let{account:eg,allowFailure:eO=!0,batchSize:eT,blockNumber:eP,blockTag:eN,multicallAddress:ek,stateOverride:eR}=ed,eD=ed.contracts,eB=eT??("object"==typeof eu.batch?.multicall&&eu.batch.multicall.batchSize||1024),eU=ek;if(!eU){if(!eu.chain)throw Error("client chain not configured. multicallAddress is required.");eU=(0,eS.L)({blockNumber:eP,chain:eu.chain,contract:"multicall3"})}let eL=[[]],ej=0,eF=0;for(let eu=0;eu<eD.length;eu++){let{abi:ed,address:em,args:eb,functionName:ew}=eD[eu];try{let eu=(0,eA.R)({abi:ed,args:eb,functionName:ew});eF+=(eu.length-2)/2,eB>0&&eF>eB&&eL[ej].length>0&&(ej++,eF=(eu.length-2)/2,eL[ej]=[]),eL[ej]=[...eL[ej],{allowFailure:!0,callData:eu,target:em}]}catch(e_){let eu=(0,eI.S)(e_,{abi:ed,address:em,args:eb,docsPath:"/docs/contract/multicall",functionName:ew,sender:eg});if(!eO)throw eu;eL[ej]=[...eL[ej],{allowFailure:!0,callData:"0x",target:em}]}}let e$=await Promise.allSettled(eL.map(ed=>(0,eC.s)(eu,eM.L,"readContract")({abi:em.F8,account:eg,address:eU,args:[ed],blockNumber:eP,blockTag:eN,functionName:"aggregate3",stateOverride:eR}))),eK=[];for(let eu=0;eu<e$.length;eu++){let ed=e$[eu];if("rejected"===ed.status){if(!eO)throw ed.reason;for(let eg=0;eg<eL[eu].length;eg++)eK.push({status:"failure",error:ed.reason,result:void 0});continue}let eg=ed.value;for(let ed=0;ed<eg.length;ed++){let{returnData:em,success:ew}=eg[ed],{callData:eA}=eL[eu][ed],{abi:eS,address:eC,functionName:eM,args:eT}=eD[eK.length];try{if("0x"===eA)throw new eb.wb;if(!ew)throw new e_.VQ({data:em});let eu=(0,eE.k)({abi:eS,args:eT,data:em,functionName:eM});eK.push(eO?{result:eu,status:"success"}:eu)}catch(ed){let eu=(0,eI.S)(ed,{abi:eS,address:eC,args:eT,docsPath:"/docs/contract/multicall",functionName:eM});if(!eO)throw eu;eK.push({error:eu,result:void 0,status:"failure"})}}}if(eK.length!==eD.length)throw new ew.G("multicall results mismatch");return eK}},58845:function(eu,ed,eg){"use strict";eg.d(ed,{L:function(){return eA}});var em=eg(83349),eb=eg(93156),ew=eg(35066),e_=eg(28986),eE=eg(93671);async function eA(eu,ed){let{abi:eg,address:eA,args:eS,functionName:eI,...eC}=ed,eM=(0,eb.R)({abi:eg,args:eS,functionName:eI});try{let{data:ed}=await (0,e_.s)(eu,eE.R,"call")({...eC,data:eM,to:eA});return(0,em.k)({abi:eg,args:eS,functionName:eI,data:ed||"0x"})}catch(eu){throw(0,ew.S)(eu,{abi:eg,address:eA,args:eS,docsPath:"/docs/contract/readContract",functionName:eI})}}},77680:function(eu,ed,eg){"use strict";async function em(eu,{filter:ed}){return ed.request({method:"eth_uninstallFilter",params:[ed.id]})}eg.d(ed,{W:function(){return em}})},42925:function(eu,ed,eg){"use strict";eg.d(ed,{e:function(){return eT}});var em=eg(87692),eb=eg(21984),ew=eg(28986),e_=eg(22328),eE=eg(45032),eA=eg(47162),eS=eg(13583),eI=eg(48674),eC=eg(11027),eM=eg(73579),eO=eg(70238);async function eT(eu,ed){let eg,eT,eP,eN,ek;let{checkReplacement:eR=!0,confirmations:eD=1,hash:eB,onReplaced:eU,retryCount:eL=6,retryDelay:ej=({count:eu})=>200*~~(1<<eu),timeout:eF=18e4}=ed,e$=(0,eS.P)(["waitForTransactionReceipt",eu.uid,eB]),eK=ed.pollingInterval?ed.pollingInterval:eu.chain?.experimental_preconfirmationTime?eu.chain.experimental_preconfirmationTime:eu.pollingInterval,eH=!1,{promise:eV,resolve:eG,reject:eW}=(0,eE.n)(),eJ=eF?setTimeout(()=>{ek(),eN(),eW(new eb.mc({hash:eB}))},eF):void 0;return eN=(0,e_.N7)(e$,{onReplaced:eU,resolve:eG,reject:eW},async ed=>{if((eP=await (0,ew.s)(eu,eM.a,"getTransactionReceipt")({hash:eB}).catch(()=>void 0))&&eD<=1){clearTimeout(eJ),ed.resolve(eP),eN();return}ek=(0,ew.s)(eu,eO.q,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:eK,async onBlockNumber(e_){let eE=eu=>{clearTimeout(eJ),ek(),eu(),eN()},eS=e_;if(!eH)try{if(eP){if(eD>1&&(!eP.blockNumber||eS-eP.blockNumber+1n<eD))return;eE(()=>ed.resolve(eP));return}if(eR&&!eg&&(eH=!0,await (0,eA.J)(async()=>{(eg=await (0,ew.s)(eu,eC.f,"getTransaction")({hash:eB})).blockNumber&&(eS=eg.blockNumber)},{delay:ej,retryCount:eL}),eH=!1),eP=await (0,ew.s)(eu,eM.a,"getTransactionReceipt")({hash:eB}),eD>1&&(!eP.blockNumber||eS-eP.blockNumber+1n<eD))return;eE(()=>ed.resolve(eP))}catch(e_){if(e_ instanceof eb.Bh||e_ instanceof eb.Yb){if(!eg){eH=!1;return}try{eT=eg,eH=!0;let eb=await (0,eA.J)(()=>(0,ew.s)(eu,eI.Q,"getBlock")({blockNumber:eS,includeTransactions:!0}),{delay:ej,retryCount:eL,shouldRetry:({error:eu})=>eu instanceof em.f});eH=!1;let e_=eb.transactions.find(({from:eu,nonce:ed})=>eu===eT.from&&ed===eT.nonce);if(!e_||(eP=await (0,ew.s)(eu,eM.a,"getTransactionReceipt")({hash:e_.hash}),eD>1&&(!eP.blockNumber||eS-eP.blockNumber+1n<eD)))return;let eC="replaced";e_.to===eT.to&&e_.value===eT.value&&e_.input===eT.input?eC="repriced":e_.from===e_.to&&0n===e_.value&&(eC="cancelled"),eE(()=>{ed.onReplaced?.({reason:eC,replacedTransaction:eT,transaction:e_,transactionReceipt:eP}),ed.resolve(eP)})}catch(eu){eE(()=>ed.reject(eu))}}else eE(()=>ed.reject(e_))}}})}),eV}},70238:function(eu,ed,eg){"use strict";eg.d(ed,{q:function(){return eS}});var em=eg(1491),eb=eg(28986),ew=eg(22328),e_=eg(73338),eE=eg(13583),eA=eg(308);function eS(eu,{emitOnBegin:ed=!1,emitMissed:eg=!1,onBlockNumber:eS,onError:eI,poll:eC,pollingInterval:eM=eu.pollingInterval}){let eO;let eT=void 0!==eC?eC:"webSocket"!==eu.transport.type&&"ipc"!==eu.transport.type&&("fallback"!==eu.transport.type||"webSocket"!==eu.transport.transports[0].config.type&&"ipc"!==eu.transport.transports[0].config.type),eP=()=>{let em=(0,eE.P)(["watchBlockNumber",eu.uid,ed,eg,eM]);return(0,ew.N7)(em,{onBlockNumber:eS,onError:eI},em=>(0,e_.$)(async()=>{try{let ed=await (0,eb.s)(eu,eA.z,"getBlockNumber")({cacheTime:0});if(eO){if(ed===eO)return;if(ed-eO>1&&eg)for(let eu=eO+1n;eu<ed;eu++)em.onBlockNumber(eu,eO),eO=eu}(!eO||ed>eO)&&(em.onBlockNumber(ed,eO),eO=ed)}catch(eu){em.onError?.(eu)}},{emitOnBegin:ed,interval:eM}))},eN=()=>{let eb=(0,eE.P)(["watchBlockNumber",eu.uid,ed,eg]);return(0,ew.N7)(eb,{onBlockNumber:eS,onError:eI},ed=>{let eg=!0,eb=()=>eg=!1;return(async()=>{try{let ew=(()=>{if("fallback"===eu.transport.type){let ed=eu.transport.transports.find(eu=>"webSocket"===eu.config.type||"ipc"===eu.config.type);return ed?ed.value:eu.transport}return eu.transport})(),{unsubscribe:e_}=await ew.subscribe({params:["newHeads"],onData(eu){if(!eg)return;let eb=(0,em.y_)(eu.result?.number);ed.onBlockNumber(eb,eO),eO=eb},onError(eu){ed.onError?.(eu)}});eb=e_,eg||eb()}catch(eu){eI?.(eu)}})(),()=>eb()})};return eT?eP():eN()}},98227:function(eu,ed,eg){"use strict";eg.d(ed,{O:function(){return eI}});var em=eg(28986),eb=eg(22328),ew=eg(73338),e_=eg(13583),eE=eg(77621),eA=eg(70409),eS=eg(77680);function eI(eu,{batch:ed=!0,onError:eg,onTransactions:eI,poll:eC,pollingInterval:eM=eu.pollingInterval}){let eO=void 0!==eC?eC:"webSocket"!==eu.transport.type&&"ipc"!==eu.transport.type,eT=()=>{let eC=(0,e_.P)(["watchPendingTransactions",eu.uid,ed,eM]);return(0,eb.N7)(eC,{onTransactions:eI,onError:eg},eg=>{let eb;let e_=(0,ew.$)(async()=>{try{if(!eb)try{eb=await (0,em.s)(eu,eE.W,"createPendingTransactionFilter")({});return}catch(eu){throw e_(),eu}let ew=await (0,em.s)(eu,eA.K,"getFilterChanges")({filter:eb});if(0===ew.length)return;if(ed)eg.onTransactions(ew);else for(let eu of ew)eg.onTransactions([eu])}catch(eu){eg.onError?.(eu)}},{emitOnBegin:!0,interval:eM});return async()=>{eb&&await (0,em.s)(eu,eS.W,"uninstallFilter")({filter:eb}),e_()}})},eP=()=>{let ed=!0,em=()=>ed=!1;return(async()=>{try{let{unsubscribe:eb}=await eu.transport.subscribe({params:["newPendingTransactions"],onData(eu){if(!ed)return;let eg=eu.result;eI([eg])},onError(eu){eg?.(eu)}});em=eb,ed||em()}catch(eu){eg?.(eu)}})(),()=>em()};return eO?eT():eP()}},44717:function(eu,ed,eg){"use strict";eg.d(ed,{QZ:function(){return e0},ZE:function(){return e8}});var em=eg(6405),eb=eg(21880),ew=eg(42369),e_=eg(48674),eE=eg(81853),eA=eg(77338),eS=eg(70295),eI=eg(56940);function eC(eu){let{kzg:ed}=eu,eg=eu.to??("string"==typeof eu.blobs[0]?"hex":"bytes"),em="string"==typeof eu.blobs[0]?eu.blobs.map(eu=>(0,eS.nr)(eu)):eu.blobs,eb=[];for(let eu of em)eb.push(Uint8Array.from(ed.blobToKzgCommitment(eu)));return"bytes"===eg?eb:eb.map(eu=>(0,eI.ci)(eu))}function eM(eu){let{kzg:ed}=eu,eg=eu.to??("string"==typeof eu.blobs[0]?"hex":"bytes"),em="string"==typeof eu.blobs[0]?eu.blobs.map(eu=>(0,eS.nr)(eu)):eu.blobs,eb="string"==typeof eu.commitments[0]?eu.commitments.map(eu=>(0,eS.nr)(eu)):eu.commitments,ew=[];for(let eu=0;eu<em.length;eu++){let eg=em[eu],e_=eb[eu];ew.push(Uint8Array.from(ed.computeBlobKzgProof(eg,e_)))}return"bytes"===eg?ew:ew.map(eu=>(0,eI.ci)(eu))}var eO=eg(33234);let eT=eO.JQ;var eP=eg(16463);function eN(eu,ed){let eg=ed||"hex",em=eT((0,eP.v)(eu,{strict:!1})?(0,eS.O0)(eu):eu);return"bytes"===eg?em:(0,eI.NC)(em)}function ek(eu){let{commitment:ed,version:eg=1}=eu,em=eu.to??("string"==typeof ed?"hex":"bytes"),eb=eN(ed,"bytes");return eb.set([eg],0),"bytes"===em?eb:(0,eI.ci)(eb)}function eR(eu){let{commitments:ed,version:eg}=eu,em=eu.to??("string"==typeof ed[0]?"hex":"bytes"),eb=[];for(let eu of ed)eb.push(ek({commitment:eu,to:em,version:eg}));return eb}let eD=6,eB=32,eU=4096,eL=eB*eU,ej=eL*eD-1-1*eU*eD;var eF=eg(38150);class e$ extends eF.G{constructor({maxSize:eu,size:ed}){super("Blob size is too large.",{metaMessages:[`Max: ${eu} bytes`,`Given: ${ed} bytes`],name:"BlobSizeTooLargeError"})}}class eK extends eF.G{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}var eH=eg(31816),eV=eg(99532);function eG(eu){let ed=eu.to??("string"==typeof eu.data?"hex":"bytes"),eg="string"==typeof eu.data?(0,eS.nr)(eu.data):eu.data,em=(0,eV.d)(eg);if(!em)throw new eK;if(em>ej)throw new e$({maxSize:ej,size:em});let eb=[],ew=!0,e_=0;for(;ew;){let eu=(0,eH.q)(new Uint8Array(eL)),ed=0;for(;ed<eU;){let em=eg.slice(e_,e_+(eB-1));if(eu.pushByte(0),eu.pushBytes(em),em.length<31){eu.pushByte(128),ew=!1;break}ed++,e_+=31}eb.push(eu)}return"bytes"===ed?eb.map(eu=>eu.bytes):eb.map(eu=>(0,eI.ci)(eu.bytes))}function eW(eu){let{data:ed,kzg:eg,to:em}=eu,eb=eu.blobs??eG({data:ed,to:em}),ew=eu.commitments??eC({blobs:eb,kzg:eg,to:em}),e_=eu.proofs??eM({blobs:eb,commitments:ew,kzg:eg,to:em}),eE=[];for(let eu=0;eu<eb.length;eu++)eE.push({blob:eb[eu],commitment:ew[eu],proof:e_[eu]});return eE}var eJ=eg(28986),eZ=eg(86452),eY=eg(21984);function eX(eu){if(eu.type)return eu.type;if(void 0!==eu.authorizationList)return"eip7702";if(void 0!==eu.blobs||void 0!==eu.blobVersionedHashes||void 0!==eu.maxFeePerBlobGas||void 0!==eu.sidecars)return"eip4844";if(void 0!==eu.maxFeePerGas||void 0!==eu.maxPriorityFeePerGas)return"eip1559";if(void 0!==eu.gasPrice)return void 0!==eu.accessList?"eip2930":"legacy";throw new eY.j3({transaction:eu})}var eQ=eg(4672);let e0=["blobVersionedHashes","chainId","fees","gas","nonce","type"],e6=new Map;async function e8(eu,ed){let eg,eS;let{account:eI=eu.account,blobs:eO,chain:eT,gas:eP,kzg:eN,nonce:ek,nonceManager:eD,parameters:eB=e0,type:eU}=ed,eL=eI?(0,em.T)(eI):eI,ej={...ed,...eL?{from:eL?.address}:{}};async function eF(){return eg||(eg=await (0,eJ.s)(eu,e_.Q,"getBlock")({blockTag:"latest"}))}async function e$(){if(eS)return eS;if(eT)return eT.id;if(void 0!==ed.chainId)return ed.chainId;let eg=await (0,eJ.s)(eu,eQ.L,"getChainId")({});return eS=eg}if(eB.includes("nonce")&&void 0===ek&&eL){if(eD){let ed=await e$();ej.nonce=await eD.consume({address:eL.address,chainId:ed,client:eu})}else ej.nonce=await (0,eJ.s)(eu,eE.K,"getTransactionCount")({address:eL.address,blockTag:"pending"})}if((eB.includes("blobVersionedHashes")||eB.includes("sidecars"))&&eO&&eN){let eu=eC({blobs:eO,kzg:eN});if(eB.includes("blobVersionedHashes")){let ed=eR({commitments:eu,to:"hex"});ej.blobVersionedHashes=ed}if(eB.includes("sidecars")){let ed=eM({blobs:eO,commitments:eu,kzg:eN}),eg=eW({blobs:eO,commitments:eu,proofs:ed,to:"hex"});ej.sidecars=eg}}if(eB.includes("chainId")&&(ej.chainId=await e$()),(eB.includes("fees")||eB.includes("type"))&&void 0===eU)try{ej.type=eX(ej)}catch{let ed=e6.get(eu.uid);if(void 0===ed){let eg=await eF();ed="bigint"==typeof eg?.baseFeePerGas,e6.set(eu.uid,ed)}ej.type=ed?"eip1559":"legacy"}if(eB.includes("fees")){if("legacy"!==ej.type&&"eip2930"!==ej.type){if(void 0===ej.maxFeePerGas||void 0===ej.maxPriorityFeePerGas){let eg=await eF(),{maxFeePerGas:em,maxPriorityFeePerGas:ew}=await (0,eb.C)(eu,{block:eg,chain:eT,request:ej});if(void 0===ed.maxPriorityFeePerGas&&ed.maxFeePerGas&&ed.maxFeePerGas<ew)throw new eA.ld({maxPriorityFeePerGas:ew});ej.maxPriorityFeePerGas=ew,ej.maxFeePerGas=em}}else{if(void 0!==ed.maxFeePerGas||void 0!==ed.maxPriorityFeePerGas)throw new eA.e5;if(void 0===ed.gasPrice){let ed=await eF(),{gasPrice:eg}=await (0,eb.C)(eu,{block:ed,chain:eT,request:ej,type:"legacy"});ej.gasPrice=eg}}}return eB.includes("gas")&&void 0===eP&&(ej.gas=await (0,eJ.s)(eu,ew.Q,"estimateGas")({...ej,account:eL?{address:eL.address,type:"json-rpc"}:eL})),(0,eZ.F)(ej),delete ej.parameters,ej}},92259:function(eu,ed,eg){"use strict";async function em(eu,{serializedTransaction:ed}){return eu.request({method:"eth_sendRawTransaction",params:[ed]},{retryCount:0})}eg.d(ed,{p:function(){return em}})},10771:function(eu,ed,eg){"use strict";eg.d(ed,{T:function(){return eR}});var em=eg(6405),eb=eg(72346),ew=eg(38150),e_=eg(19958),eE=eg(51052),eA=eg(34533),eS=eg(39022),eI=eg(61353),eC=eg(28986),eM=eg(20897),eO=eg(86452),eT=eg(4672),eP=eg(44717),eN=eg(92259);let ek=new eM.k(128);async function eR(eu,ed){let{account:eg=eu.account,chain:eM=eu.chain,accessList:eR,authorizationList:eD,blobs:eB,data:eU,gas:eL,gasPrice:ej,maxFeePerBlobGas:eF,maxFeePerGas:e$,maxPriorityFeePerGas:eK,nonce:eH,type:eV,value:eG,...eW}=ed;if(void 0===eg)throw new eb.o({docsPath:"/docs/actions/wallet/sendTransaction"});let eJ=eg?(0,em.T)(eg):null;try{(0,eO.F)(ed);let eg=await (async()=>ed.to?ed.to:null!==ed.to&&eD&&eD.length>0?await (0,e_.z)({authorization:eD[0]}).catch(()=>{throw new ew.G("`to` is required. Could not infer from `authorizationList`.")}):void 0)();if(eJ?.type==="json-rpc"||null===eJ){let ed;null!==eM&&(ed=await (0,eC.s)(eu,eT.L,"getChainId")({}),(0,eE.q)({currentChainId:ed,chain:eM}));let em=eu.chain?.formatters?.transactionRequest?.format,eb=em||eI.tG,ew=eb({...(0,eS.K)(eW,{format:em}),accessList:eR,authorizationList:eD,blobs:eB,chainId:ed,data:eU,from:eJ?.address,gas:eL,gasPrice:ej,maxFeePerBlobGas:eF,maxFeePerGas:e$,maxPriorityFeePerGas:eK,nonce:eH,to:eg,type:eV,value:eG}),e_=ek.get(eu.uid),eA=e_?"wallet_sendTransaction":"eth_sendTransaction";try{return await eu.request({method:eA,params:[ew]},{retryCount:0})}catch(eg){if(!1===e_)throw eg;let ed=eg;if("InvalidInputRpcError"===ed.name||"InvalidParamsRpcError"===ed.name||"MethodNotFoundRpcError"===ed.name||"MethodNotSupportedRpcError"===ed.name)return await eu.request({method:"wallet_sendTransaction",params:[ew]},{retryCount:0}).then(ed=>(ek.set(eu.uid,!0),ed)).catch(eg=>{let em=eg;if("MethodNotFoundRpcError"===em.name||"MethodNotSupportedRpcError"===em.name)throw ek.set(eu.uid,!1),ed;throw em});throw ed}}if(eJ?.type==="local"){let ed=await (0,eC.s)(eu,eP.ZE,"prepareTransactionRequest")({account:eJ,accessList:eR,authorizationList:eD,blobs:eB,chain:eM,data:eU,gas:eL,gasPrice:ej,maxFeePerBlobGas:eF,maxFeePerGas:e$,maxPriorityFeePerGas:eK,nonce:eH,nonceManager:eJ.nonceManager,parameters:[...eP.QZ,"sidecars"],type:eV,value:eG,...eW,to:eg}),em=eM?.serializers?.transaction,eb=await eJ.signTransaction(ed,{serializer:em});return await (0,eC.s)(eu,eN.p,"sendRawTransaction")({serializedTransaction:eb})}if(eJ?.type==="smart")throw new eb.Y({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"});throw new eb.Y({docsPath:"/docs/actions/wallet/sendTransaction",type:eJ?.type})}catch(eu){if(eu instanceof eb.Y)throw eu;throw(0,eA.$)(eu,{...ed,account:eJ,chain:ed.chain||void 0})}}},16455:function(eu,ed,eg){"use strict";eg.d(ed,{l:function(){return e_}});var em=eg(6405),eb=eg(72346),ew=eg(56940);async function e_(eu,{account:ed=eu.account,message:eg}){if(!ed)throw new eb.o({docsPath:"/docs/actions/wallet/signMessage"});let e_=(0,em.T)(ed);if(e_.signMessage)return e_.signMessage({message:eg});let eE="string"==typeof eg?(0,ew.$G)(eg):eg.raw instanceof Uint8Array?(0,ew.NC)(eg.raw):eg.raw;return eu.request({method:"personal_sign",params:[eE,e_.address]},{retryCount:0})}},95721:function(eu,ed,eg){"use strict";eg.d(ed,{n:function(){return eS}});var em=eg(6405),eb=eg(72346),ew=eg(93156),e_=eg(35066),eE=eg(28986),eA=eg(10771);async function eS(eu,ed){let{abi:eg,account:eS=eu.account,address:eI,args:eC,dataSuffix:eM,functionName:eO,...eT}=ed;if(void 0===eS)throw new eb.o({docsPath:"/docs/contract/writeContract"});let eP=eS?(0,em.T)(eS):null,eN=(0,ew.R)({abi:eg,args:eC,functionName:eO});try{return await (0,eE.s)(eu,eA.T,"sendTransaction")({data:`${eN}${eM?eM.replace("0x",""):""}`,to:eI,account:eP,...eT})}catch(eu){throw(0,e_.S)(eu,{abi:eg,address:eI,args:eC,docsPath:"/docs/contract/writeContract",functionName:eO,sender:eP?.address})}}},76341:function(eu,ed,eg){"use strict";eg.d(ed,{e:function(){return ew}});var em=eg(6405),eb=eg(61293);function ew(eu){let{batch:ed,chain:eg,ccipRead:ew,key:e_="base",name:eE="Base Client",type:eA="base"}=eu,eS=eu.experimental_blockTag??("number"==typeof eg?.experimental_preconfirmationTime?"pending":void 0),eI=eg?.blockTime??12e3,eC=Math.min(Math.max(Math.floor(eI/2),500),4e3),eM=eu.pollingInterval??eC,eO=eu.cacheTime??eM,eT=eu.account?(0,em.T)(eu.account):void 0,{config:eP,request:eN,value:ek}=eu.transport({chain:eg,pollingInterval:eM}),eR={...eP,...ek},eD={account:eT,batch:ed,cacheTime:eO,ccipRead:ew,chain:eg,key:e_,name:eE,pollingInterval:eM,request:eN,transport:eR,type:eA,uid:(0,eb.h)(),...eS?{experimental_blockTag:eS}:{}};function eB(eu){return ed=>{let eg=ed(eu);for(let eu in eD)delete eg[eu];let em={...eu,...eg};return Object.assign(em,{extend:eB(em)})}}return Object.assign(eD,{extend:eB(eD)})}},72377:function(eu,ed,eg){"use strict";eg.d(ed,{q:function(){return eP}});var em=eg(38150),eb=eg(66645),ew=eg(1241),e_=eg(56940),eE=eg(20897);let eA=new eE.k(8192);function eS(eu,{enabled:ed=!0,id:eg}){if(!ed||!eg)return eu();if(eA.get(eg))return eA.get(eg);let em=eu().finally(()=>eA.delete(eg));return eA.set(eg,em),em}var eI=eg(47162),eC=eg(13583);function eM(eu,ed={}){return async(eg,eE={})=>{let{dedupe:eA=!1,methods:eM,retryDelay:eT=150,retryCount:eP=3,uid:eN}={...ed,...eE},{method:ek}=eg;if(eM?.exclude?.includes(ek)||eM?.include&&!eM.include.includes(ek))throw new ew.gS(Error("method not supported"),{method:ek});let eR=eA?(0,e_.$G)(`${eN}.${(0,eC.P)(eg)}`):void 0;return eS(()=>(0,eI.J)(async()=>{try{return await eu(eg)}catch(ed){let eu=ed;switch(eu.code){case ew.s7.code:throw new ew.s7(eu);case ew.B.code:throw new ew.B(eu);case ew.LX.code:throw new ew.LX(eu,{method:eg.method});case ew.nY.code:throw new ew.nY(eu);case ew.XS.code:throw new ew.XS(eu);case ew.yR.code:throw new ew.yR(eu);case ew.Og.code:throw new ew.Og(eu);case ew.pT.code:throw new ew.pT(eu);case ew.KB.code:throw new ew.KB(eu);case ew.gS.code:throw new ew.gS(eu,{method:eg.method});case ew.Pv.code:throw new ew.Pv(eu);case ew.GD.code:throw new ew.GD(eu);case ew.ab.code:throw new ew.ab(eu);case ew.PE.code:throw new ew.PE(eu);case ew.Ts.code:throw new ew.Ts(eu);case ew.u5.code:throw new ew.u5(eu);case ew.I0.code:throw new ew.I0(eu);case ew.x3.code:throw new ew.x3(eu);case ew.vl.code:throw new ew.vl(eu);case ew.Uu.code:throw new ew.Uu(eu);case ew.Nt.code:throw new ew.Nt(eu);case ew.EJ.code:throw new ew.EJ(eu);case ew.fl.code:throw new ew.fl(eu);case ew.NO.code:throw new ew.NO(eu);case ew.r0.code:throw new ew.r0(eu);case 5e3:throw new ew.ab(eu);default:if(ed instanceof em.G)throw ed;throw new ew.ir(eu)}}},{delay:({count:eu,error:ed})=>{if(ed&&ed instanceof eb.Gg){let eu=ed?.headers?.get("Retry-After");if(eu?.match(/\d/))return 1e3*Number.parseInt(eu)}return~~(1<<eu)*eT},retryCount:eP,shouldRetry:({error:eu})=>eO(eu)}),{enabled:eA,id:eR})}}function eO(eu){return"code"in eu&&"number"==typeof eu.code?-1===eu.code||eu.code===ew.Pv.code||eu.code===ew.XS.code:!(eu instanceof eb.Gg)||!eu.status||403===eu.status||408===eu.status||413===eu.status||429===eu.status||500===eu.status||502===eu.status||503===eu.status||504===eu.status}var eT=eg(61293);function eP({key:eu,methods:ed,name:eg,request:em,retryCount:eb=3,retryDelay:ew=150,timeout:e_,type:eE},eA){let eS=(0,eT.h)();return{config:{key:eu,methods:ed,name:eg,request:em,retryCount:eb,retryDelay:ew,timeout:e_,type:eE},request:eM(em,{methods:ed,retryCount:eb,retryDelay:ew,uid:eS}),value:eA}}},82419:function(eu,ed,eg){"use strict";eg.d(ed,{P:function(){return eb}});var em=eg(72377);function eb(eu,ed={}){let{key:eg="custom",methods:eb,name:ew="Custom Provider",retryDelay:e_}=ed;return({retryCount:eE})=>(0,em.q)({key:eg,methods:eb,name:ew,request:eu.request.bind(eu),retryCount:ed.retryCount??eE,retryDelay:e_,type:"custom"})}},99826:function(eu,ed,eg){"use strict";eg.d(ed,{tv:function(){return eE}});var em=eg(57733),eb=eg(1241),ew=eg(16775),e_=eg(72377);function eE(eu,ed={}){let{key:eg="fallback",name:em="Fallback",rank:eb=!1,shouldThrow:ew=eA,retryCount:eE,retryDelay:eI}=ed;return({chain:ed,pollingInterval:eA=4e3,timeout:eC,...eM})=>{let eO=eu,eT=()=>{},eP=(0,e_.q)({key:eg,name:em,async request({method:eu,params:eg}){let em;let eb=async(e_=0)=>{let eE=eO[e_]({...eM,chain:ed,retryCount:0,timeout:eC});try{let ed=await eE.request({method:eu,params:eg});return eT({method:eu,params:eg,response:ed,transport:eE,status:"success"}),ed}catch(eA){if(eT({error:eA,method:eu,params:eg,transport:eE,status:"error"}),ew(eA)||e_===eO.length-1||!(em??=eO.slice(e_+1).some(eg=>{let{include:em,exclude:eb}=eg({chain:ed}).config.methods||{};return em?em.includes(eu):!eb||!eb.includes(eu)})))throw eA;return eb(e_+1)}};return eb()},retryCount:eE,retryDelay:eI,type:"fallback"},{onResponse:eu=>eT=eu,transports:eO.map(eu=>eu({chain:ed,retryCount:0}))});if(eb){let eu="object"==typeof eb?eb:{};eS({chain:ed,interval:eu.interval??eA,onTransports:eu=>eO=eu,ping:eu.ping,sampleCount:eu.sampleCount,timeout:eu.timeout,transports:eO,weights:eu.weights})}return eP}}function eA(eu){return!!("code"in eu&&"number"==typeof eu.code&&(eu.code===eb.KB.code||eu.code===eb.ab.code||em.M_.nodeMessage.test(eu.message)||5e3===eu.code))}function eS({chain:eu,interval:ed=4e3,onTransports:eg,ping:em,sampleCount:eb=10,timeout:e_=1e3,transports:eE,weights:eA={}}){let{stability:eS=.7,latency:eI=.3}=eA,eC=[],eM=async()=>{let eA=await Promise.all(eE.map(async ed=>{let eg,eb;let ew=ed({chain:eu,retryCount:0,timeout:e_}),eE=Date.now();try{await (em?em({transport:ew}):ew.request({method:"net_listening"})),eb=1}catch{eb=0}finally{eg=Date.now()}let eA=eg-eE;return{latency:eA,success:eb}}));eC.push(eA),eC.length>eb&&eC.shift();let eO=Math.max(...eC.map(eu=>Math.max(...eu.map(({latency:eu})=>eu)))),eT=eE.map((eu,ed)=>{let eg=eC.map(eu=>eu[ed].latency),em=eg.reduce((eu,ed)=>eu+ed,0)/eg.length,eb=1-em/eO,ew=eC.map(eu=>eu[ed].success),e_=ew.reduce((eu,ed)=>eu+ed,0)/ew.length;return 0===e_?[0,ed]:[eI*eb+eS*e_,ed]}).sort((eu,ed)=>ed[0]-eu[0]);eg(eT.map(([,eu])=>eE[eu])),await (0,ew.D)(ed),eM()};eM()}},39461:function(eu,ed,eg){"use strict";eg.d(ed,{d:function(){return eA}});var em=eg(66645),eb=eg(18767),ew=eg(5549),e_=eg(5577),eE=eg(72377);function eA(eu,ed={}){let{batch:eg,fetchOptions:eA,key:eS="http",methods:eI,name:eC="HTTP JSON-RPC",onFetchRequest:eM,onFetchResponse:eO,retryDelay:eT,raw:eP}=ed;return({chain:eN,retryCount:ek,timeout:eR})=>{let{batchSize:eD=1e3,wait:eB=0}="object"==typeof eg?eg:{},eU=ed.retryCount??ek,eL=eR??ed.timeout??1e4,ej=eu||eN?.rpcUrls.default.http[0];if(!ej)throw new eb.I;let eF=(0,e_.x)(ej,{fetchOptions:eA,onRequest:eM,onResponse:eO,timeout:eL});return(0,eE.q)({key:eS,methods:eI,name:eC,async request({method:eu,params:ed}){let eb={method:eu,params:ed},{schedule:e_}=(0,ew.S)({id:ej,wait:eB,shouldSplitBatch:eu=>eu.length>eD,fn:eu=>eF.request({body:eu}),sort:(eu,ed)=>eu.id-ed.id}),eE=async eu=>eg?e_(eu):[await eF.request({body:eu})],[{error:eA,result:eS}]=await eE(eb);if(eP)return{error:eA,result:eS};if(eA)throw new em.bs({body:eb,error:eA,url:ej});return eS},retryCount:eU,retryDelay:eT,timeout:eL,type:"http"},{fetchOptions:eA,url:ej})}}},36571:function(eu,ed,eg){"use strict";eg.d(ed,{$o:function(){return eI},F8:function(){return em},X$:function(){return eS},Yi:function(){return eb},du:function(){return eE},k3:function(){return e_},nZ:function(){return eA}});let em=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],eb=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],ew=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"},{inputs:[],name:"ResolverNotContract",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{components:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"errors",type:"tuple[]"}],name:"HttpError",type:"error"}],e_=[...ew,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]},{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],eE=[...ew,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]},{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],eA=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],eS=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],eI=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}]},73306:function(eu,ed,eg){"use strict";eg.d(ed,{NO:function(){return em},ST:function(){return ew},pG:function(){return eb}});let em="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",eb="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",ew="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572"},72441:function(eu,ed,eg){"use strict";eg.d(ed,{$:function(){return em},Up:function(){return eb},hZ:function(){return ew}});let em={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},eb={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},ew={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"}},30628:function(eu,ed,eg){"use strict";eg.d(ed,{Bd:function(){return ew},Zn:function(){return eb},ez:function(){return em}});let em={gwei:9,wei:18},eb={ether:-9,wei:9},ew={ether:-18,gwei:-9}},59604:function(eu,ed,eg){"use strict";eg.d(ed,{CI:function(){return eH},FM:function(){return eN},Gy:function(){return e$},KY:function(){return ej},M4:function(){return eC},MS:function(){return eT},MX:function(){return eB},S4:function(){return eL},SM:function(){return eF},Zh:function(){return eO},cO:function(){return eE},dh:function(){return eK},eF:function(){return eU},fM:function(){return e_},fs:function(){return eM},gr:function(){return eI},hn:function(){return eV},lC:function(){return ek},mv:function(){return eR},wM:function(){return eG},wb:function(){return eS},xB:function(){return eA},xL:function(){return eD},yP:function(){return eP}});var em=eg(48985),eb=eg(99532),ew=eg(38150);class e_ extends ew.G{constructor({docsPath:eu}){super("A constructor was not found on the ABI.\nMake sure you are using the correct ABI and that the constructor exists on it.",{docsPath:eu,name:"AbiConstructorNotFoundError"})}}class eE extends ew.G{constructor({docsPath:eu}){super("Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.\nMake sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists.",{docsPath:eu,name:"AbiConstructorParamsNotFoundError"})}}class eA extends ew.G{constructor({data:eu,params:ed,size:eg}){super(`Data size of ${eg} bytes is too small for given parameters.`,{metaMessages:[`Params: (${(0,em.h)(ed,{includeName:!0})})`,`Data:   ${eu} (${eg} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=eu,this.params=ed,this.size=eg}}class eS extends ew.G{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class eI extends ew.G{constructor({expectedLength:eu,givenLength:ed,type:eg}){super(`ABI encoding array length mismatch for type ${eg}.
Expected length: ${eu}
Given length: ${ed}`,{name:"AbiEncodingArrayLengthMismatchError"})}}class eC extends ew.G{constructor({expectedSize:eu,value:ed}){super(`Size of bytes "${ed}" (bytes${(0,eb.d)(ed)}) does not match expected size (bytes${eu}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class eM extends ew.G{constructor({expectedLength:eu,givenLength:ed}){super(`ABI encoding params/values length mismatch.
Expected length (params): ${eu}
Given length (values): ${ed}`,{name:"AbiEncodingLengthMismatchError"})}}class eO extends ew.G{constructor(eu,{docsPath:ed}){super(`Arguments (\`args\`) were provided to "${eu}", but "${eu}" on the ABI does not contain any parameters (\`inputs\`).
Cannot encode error result without knowing what the parameter types are.
Make sure you are using the correct ABI and that the inputs exist on it.`,{docsPath:ed,name:"AbiErrorInputsNotFoundError"})}}class eT extends ew.G{constructor(eu,{docsPath:ed}={}){super(`Error ${eu?`"${eu}" `:""}not found on ABI.
Make sure you are using the correct ABI and that the error exists on it.`,{docsPath:ed,name:"AbiErrorNotFoundError"})}}class eP extends ew.G{constructor(eu,{docsPath:ed}){super(`Encoded error signature "${eu}" not found on ABI.
Make sure you are using the correct ABI and that the error exists on it.
You can look up the decoded signature here: https://openchain.xyz/signatures?query=${eu}.`,{docsPath:ed,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=eu}}class eN extends ew.G{constructor({docsPath:eu}){super("Cannot extract event signature from empty topics.",{docsPath:eu,name:"AbiEventSignatureEmptyTopicsError"})}}class ek extends ew.G{constructor(eu,{docsPath:ed}){super(`Encoded event signature "${eu}" not found on ABI.
Make sure you are using the correct ABI and that the event exists on it.
You can look up the signature here: https://openchain.xyz/signatures?query=${eu}.`,{docsPath:ed,name:"AbiEventSignatureNotFoundError"})}}class eR extends ew.G{constructor(eu,{docsPath:ed}={}){super(`Event ${eu?`"${eu}" `:""}not found on ABI.
Make sure you are using the correct ABI and that the event exists on it.`,{docsPath:ed,name:"AbiEventNotFoundError"})}}class eD extends ew.G{constructor(eu,{docsPath:ed}={}){super(`Function ${eu?`"${eu}" `:""}not found on ABI.
Make sure you are using the correct ABI and that the function exists on it.`,{docsPath:ed,name:"AbiFunctionNotFoundError"})}}class eB extends ew.G{constructor(eu,{docsPath:ed}){super(`Function "${eu}" does not contain any \`outputs\` on ABI.
Cannot decode function result without knowing what the parameter types are.
Make sure you are using the correct ABI and that the function exists on it.`,{docsPath:ed,name:"AbiFunctionOutputsNotFoundError"})}}class eU extends ew.G{constructor(eu,{docsPath:ed}){super(`Encoded function signature "${eu}" not found on ABI.
Make sure you are using the correct ABI and that the function exists on it.
You can look up the signature here: https://openchain.xyz/signatures?query=${eu}.`,{docsPath:ed,name:"AbiFunctionSignatureNotFoundError"})}}class eL extends ew.G{constructor(eu,ed){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${eu.type}\` in \`${(0,em.t)(eu.abiItem)}\`, and`,`\`${ed.type}\` in \`${(0,em.t)(ed.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}class ej extends ew.G{constructor({expectedSize:eu,givenSize:ed}){super(`Expected bytes${eu}, got bytes${ed}.`,{name:"BytesSizeMismatchError"})}}class eF extends ew.G{constructor({abiItem:eu,data:ed,params:eg,size:eb}){super(`Data size of ${eb} bytes is too small for non-indexed event parameters.`,{metaMessages:[`Params: (${(0,em.h)(eg,{includeName:!0})})`,`Data:   ${ed} (${eb} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=eu,this.data=ed,this.params=eg,this.size=eb}}class e$ extends ew.G{constructor({abiItem:eu,param:ed}){super(`Expected a topic for indexed event parameter${ed.name?` "${ed.name}"`:""} on event "${(0,em.t)(eu,{includeName:!0})}".`,{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=eu}}class eK extends ew.G{constructor(eu,{docsPath:ed}){super(`Type "${eu}" is not a valid encoding type.
Please provide a valid ABI type.`,{docsPath:ed,name:"InvalidAbiEncodingType"})}}class eH extends ew.G{constructor(eu,{docsPath:ed}){super(`Type "${eu}" is not a valid decoding type.
Please provide a valid ABI type.`,{docsPath:ed,name:"InvalidAbiDecodingType"})}}class eV extends ew.G{constructor(eu){super(`Value "${eu}" is not a valid array.`,{name:"InvalidArrayError"})}}class eG extends ew.G{constructor(eu){super(`"${eu}" is not a valid definition type.
Valid types: "function", "event", "error"`,{name:"InvalidDefinitionTypeError"})}}},72346:function(eu,ed,eg){"use strict";eg.d(ed,{Y:function(){return ew},o:function(){return eb}});var em=eg(38150);class eb extends em.G{constructor({docsPath:eu}={}){super("Could not find an Account to execute with this Action.\nPlease provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client.",{docsPath:eu,docsSlug:"account",name:"AccountNotFoundError"})}}class ew extends em.G{constructor({docsPath:eu,metaMessages:ed,type:eg}){super(`Account type "${eg}" is not supported.`,{docsPath:eu,metaMessages:ed,name:"AccountTypeNotSupportedError"})}}},31688:function(eu,ed,eg){"use strict";eg.d(ed,{b:function(){return eb}});var em=eg(38150);class eb extends em.G{constructor({address:eu}){super(`Address "${eu}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}},38150:function(eu,ed,eg){"use strict";eg.d(ed,{G:function(){return ew}});let em="2.33.0",eb={getDocsUrl:({docsBaseUrl:eu,docsPath:ed="",docsSlug:eg})=>ed?`${eu??"https://viem.sh"}${ed}${eg?`#${eg}`:""}`:void 0,version:`viem@${em}`};class ew extends Error{constructor(eu,ed={}){let eg=ed.cause instanceof ew?ed.cause.details:ed.cause?.message?ed.cause.message:ed.details,e_=ed.cause instanceof ew&&ed.cause.docsPath||ed.docsPath,eE=eb.getDocsUrl?.({...ed,docsPath:e_}),eA=[eu||"An error occurred.","",...ed.metaMessages?[...ed.metaMessages,""]:[],...eE?[`Docs: ${eE}`]:[],...eg?[`Details: ${eg}`]:[],...eb.version?[`Version: ${eb.version}`]:[]].join("\n");super(eA,ed.cause?{cause:ed.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=eg,this.docsPath=e_,this.metaMessages=ed.metaMessages,this.name=ed.name??this.name,this.shortMessage=eu,this.version=em}walk(eu){return e_(this,eu)}}function e_(eu,ed){return ed?.(eu)?eu:eu&&"object"==typeof eu&&"cause"in eu&&void 0!==eu.cause?e_(eu.cause,ed):ed?null:eu}},87692:function(eu,ed,eg){"use strict";eg.d(ed,{f:function(){return eb}});var em=eg(38150);class eb extends em.G{constructor({blockHash:eu,blockNumber:ed}){let eg="Block";eu&&(eg=`Block at hash "${eu}"`),ed&&(eg=`Block at number "${ed}"`),super(`${eg} could not be found.`,{name:"BlockNotFoundError"})}}},45241:function(eu,ed,eg){"use strict";eg.d(ed,{Bk:function(){return e_},Yl:function(){return ew},mm:function(){return eb},pZ:function(){return eE}});var em=eg(38150);class eb extends em.G{constructor({blockNumber:eu,chain:ed,contract:eg}){super(`Chain "${ed.name}" does not support contract "${eg.name}".`,{metaMessages:["This could be due to any of the following:",...eu&&eg.blockCreated&&eg.blockCreated>eu?[`- The contract "${eg.name}" was not deployed until block ${eg.blockCreated} (current block ${eu}).`]:[`- The chain does not have the contract "${eg.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class ew extends em.G{constructor({chain:eu,currentChainId:ed}){super(`The current chain of the wallet (id: ${ed}) does not match the target chain for the transaction (id: ${eu.id}  ${eu.name}).`,{metaMessages:[`Current Chain ID:  ${ed}`,`Expected Chain ID: ${eu.id}  ${eu.name}`],name:"ChainMismatchError"})}}class e_ extends em.G{constructor(){super("No chain was provided to the request.\nPlease provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient.",{name:"ChainNotFoundError"})}}class eE extends em.G{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}},30412:function(eu,ed,eg){"use strict";eg.d(ed,{cg:function(){return ek},uq:function(){return eR},Lu:function(){return eD},Dk:function(){return eB},Mo:function(){return eU},VQ:function(){return eL}});var em=eg(6405),eb=eg(72441),ew=eg(82827),e_=eg(48985),eE=eg(13583);function eA({abiItem:eu,args:ed,includeFunctionName:eg=!0,includeName:em=!1}){if("name"in eu&&"inputs"in eu&&eu.inputs)return`${eg?eu.name:""}(${eu.inputs.map((eu,eg)=>`${em&&eu.name?`${eu.name}: `:""}${"object"==typeof ed[eg]?(0,eE.P)(ed[eg]):ed[eg]}`).join(", ")})`}var eS=eg(2351),eI=eg(72942),eC=eg(14712),eM=eg(59604),eO=eg(38150),eT=eg(728),eP=eg(21984),eN=eg(80319);class ek extends eO.G{constructor(eu,{account:ed,docsPath:eg,chain:eb,data:ew,gas:e_,gasPrice:eE,maxFeePerGas:eA,maxPriorityFeePerGas:eS,nonce:eM,to:eO,value:eN,stateOverride:ek}){let eR=ed?(0,em.T)(ed):void 0,eD=(0,eP.xr)({from:eR?.address,to:eO,value:void 0!==eN&&`${(0,eI.d)(eN)} ${eb?.nativeCurrency?.symbol||"ETH"}`,data:ew,gas:e_,gasPrice:void 0!==eE&&`${(0,eC.o)(eE)} gwei`,maxFeePerGas:void 0!==eA&&`${(0,eC.o)(eA)} gwei`,maxPriorityFeePerGas:void 0!==eS&&`${(0,eC.o)(eS)} gwei`,nonce:eM});ek&&(eD+=`
${(0,eT.Bj)(ek)}`),super(eu.shortMessage,{cause:eu,docsPath:eg,metaMessages:[...eu.metaMessages?[...eu.metaMessages," "]:[],"Raw Call Arguments:",eD].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=eu}}class eR extends eO.G{constructor(eu,{abi:ed,args:eg,contractAddress:em,docsPath:eb,functionName:ew,sender:eE}){let eI=(0,eS.mE)({abi:ed,args:eg,name:ew}),eC=eI?eA({abiItem:eI,args:eg,includeFunctionName:!1,includeName:!1}):void 0,eM=eI?(0,e_.t)(eI,{includeName:!0}):void 0,eO=(0,eP.xr)({address:em&&(0,eN.C)(em),function:eM,args:eC&&"()"!==eC&&`${[...Array(ew?.length??0).keys()].map(()=>" ").join("")}${eC}`,sender:eE});super(eu.shortMessage||`An unknown error occurred while executing the contract function "${ew}".`,{cause:eu,docsPath:eb,metaMessages:[...eu.metaMessages?[...eu.metaMessages," "]:[],eO&&"Contract Call:",eO].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=ed,this.args=eg,this.cause=eu,this.contractAddress=em,this.functionName=ew,this.sender=eE}}class eD extends eO.G{constructor({abi:eu,data:ed,functionName:eg,message:em}){let eE,eS,eI,eC,eO;if(ed&&"0x"!==ed)try{eO=(0,ew.p)({abi:eu,data:ed});let{abiItem:eg,errorName:em,args:eE}=eO;if("Error"===em)eI=eE[0];else if("Panic"===em){let[eu]=eE;eI=eb.$[eu]}else{let eu=eg?(0,e_.t)(eg,{includeName:!0}):void 0,ed=eg&&eE?eA({abiItem:eg,args:eE,includeFunctionName:!1,includeName:!1}):void 0;eS=[eu?`Error: ${eu}`:"",ed&&"()"!==ed?`       ${[...Array(em?.length??0).keys()].map(()=>" ").join("")}${ed}`:""]}}catch(eu){eE=eu}else em&&(eI=em);eE instanceof eM.yP&&(eS=[`Unable to decode signature "${eC=eE.signature}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${eC}.`]),super(eI&&"execution reverted"!==eI||eC?[`The contract function "${eg}" reverted with the following ${eC?"signature":"reason"}:`,eI||eC].join("\n"):`The contract function "${eg}" reverted.`,{cause:eE,metaMessages:eS,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=eO,this.raw=ed,this.reason=eI,this.signature=eC}}class eB extends eO.G{constructor({functionName:eu}){super(`The contract function "${eu}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${eu}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class eU extends eO.G{constructor({factory:eu}){super(`Deployment for counterfactual contract call failed${eu?` for factory "${eu}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class eL extends eO.G{constructor({data:eu,message:ed}){super(ed||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=eu}}},61392:function(eu,ed,eg){"use strict";eg.d(ed,{KD:function(){return e_},T_:function(){return eb},lQ:function(){return ew}});var em=eg(38150);class eb extends em.G{constructor({offset:eu}){super(`Offset \`${eu}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class ew extends em.G{constructor({length:eu,position:ed}){super(`Position \`${ed}\` is out of bounds (\`0 < position < ${eu}\`).`,{name:"PositionOutOfBoundsError"})}}class e_ extends em.G{constructor({count:eu,limit:ed}){super(`Recursive read limit of \`${ed}\` exceeded (recursive read count: \`${eu}\`).`,{name:"RecursiveReadLimitExceededError"})}}},98523:function(eu,ed,eg){"use strict";eg.d(ed,{$s:function(){return ew},W_:function(){return e_},mV:function(){return eb}});var em=eg(38150);class eb extends em.G{constructor({offset:eu,position:ed,size:eg}){super(`Slice ${"start"===ed?"starting":"ending"} at offset "${eu}" is out-of-bounds (size: ${eg}).`,{name:"SliceOffsetOutOfBoundsError"})}}class ew extends em.G{constructor({size:eu,targetSize:ed,type:eg}){super(`${eg.charAt(0).toUpperCase()}${eg.slice(1).toLowerCase()} size (${eu}) exceeds padding size (${ed}).`,{name:"SizeExceedsPaddingSizeError"})}}class e_ extends em.G{constructor({size:eu,targetSize:ed,type:eg}){super(`${eg.charAt(0).toUpperCase()}${eg.slice(1).toLowerCase()} is expected to be ${ed} ${eg} long, but is ${eu} ${eg} long.`,{name:"InvalidBytesLengthError"})}}},42789:function(eu,ed,eg){"use strict";eg.d(ed,{Cd:function(){return e_},J5:function(){return eb},M6:function(){return eE},yr:function(){return ew}});var em=eg(38150);class eb extends em.G{constructor({max:eu,min:ed,signed:eg,size:em,value:eb}){super(`Number "${eb}" is not in safe ${em?`${8*em}-bit ${eg?"signed":"unsigned"} `:""}integer range ${eu?`(${ed} to ${eu})`:`(above ${ed})`}`,{name:"IntegerOutOfRangeError"})}}class ew extends em.G{constructor(eu){super(`Bytes value "${eu}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}class e_ extends em.G{constructor(eu){super(`Hex value "${eu}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}class eE extends em.G{constructor({givenSize:eu,maxSize:ed}){super(`Size cannot exceed ${ed} bytes. Given size: ${eu} bytes.`,{name:"SizeOverflowError"})}}},77338:function(eu,ed,eg){"use strict";eg.d(ed,{Fz:function(){return ew},e5:function(){return e_},ld:function(){return eE}});var em=eg(14712),eb=eg(38150);class ew extends eb.G{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class e_ extends eb.G{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class eE extends eb.G{constructor({maxPriorityFeePerGas:eu}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${(0,em.o)(eu)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}},57733:function(eu,ed,eg){"use strict";eg.d(ed,{C_:function(){return eC},G$:function(){return eE},Hh:function(){return e_},M_:function(){return ew},WF:function(){return eM},ZI:function(){return eA},cj:function(){return eN},cs:function(){return eP},dR:function(){return eO},pZ:function(){return eT},se:function(){return eI},vU:function(){return eS}});var em=eg(14712),eb=eg(38150);class ew extends eb.G{constructor({cause:eu,message:ed}={}){let eg=ed?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${eg?`with reason: ${eg}`:"for an unknown reason"}.`,{cause:eu,name:"ExecutionRevertedError"})}}Object.defineProperty(ew,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(ew,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class e_ extends eb.G{constructor({cause:eu,maxFeePerGas:ed}={}){super(`The fee cap (\`maxFeePerGas\`${ed?` = ${(0,em.o)(ed)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:eu,name:"FeeCapTooHighError"})}}Object.defineProperty(e_,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class eE extends eb.G{constructor({cause:eu,maxFeePerGas:ed}={}){super(`The fee cap (\`maxFeePerGas\`${ed?` = ${(0,em.o)(ed)}`:""} gwei) cannot be lower than the block base fee.`,{cause:eu,name:"FeeCapTooLowError"})}}Object.defineProperty(eE,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class eA extends eb.G{constructor({cause:eu,nonce:ed}={}){super(`Nonce provided for the transaction ${ed?`(${ed}) `:""}is higher than the next one expected.`,{cause:eu,name:"NonceTooHighError"})}}Object.defineProperty(eA,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class eS extends eb.G{constructor({cause:eu,nonce:ed}={}){super(`Nonce provided for the transaction ${ed?`(${ed}) `:""}is lower than the current nonce of the account.
Try increasing the nonce or find the latest nonce with \`getTransactionCount\`.`,{cause:eu,name:"NonceTooLowError"})}}Object.defineProperty(eS,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class eI extends eb.G{constructor({cause:eu,nonce:ed}={}){super(`Nonce provided for the transaction ${ed?`(${ed}) `:""}exceeds the maximum allowed nonce.`,{cause:eu,name:"NonceMaxValueError"})}}Object.defineProperty(eI,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class eC extends eb.G{constructor({cause:eu}={}){super("The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account.",{cause:eu,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(eC,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class eM extends eb.G{constructor({cause:eu,gas:ed}={}){super(`The amount of gas ${ed?`(${ed}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:eu,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(eM,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class eO extends eb.G{constructor({cause:eu,gas:ed}={}){super(`The amount of gas ${ed?`(${ed}) `:""}provided for the transaction is too low.`,{cause:eu,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(eO,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class eT extends eb.G{constructor({cause:eu}){super("The transaction type is not supported for this chain.",{cause:eu,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(eT,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class eP extends eb.G{constructor({cause:eu,maxPriorityFeePerGas:ed,maxFeePerGas:eg}={}){super(`The provided tip (\`maxPriorityFeePerGas\`${ed?` = ${(0,em.o)(ed)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${eg?` = ${(0,em.o)(eg)} gwei`:""}).`,{cause:eu,name:"TipAboveFeeCapError"})}}Object.defineProperty(eP,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class eN extends eb.G{constructor({cause:eu}){super(`An error occurred while executing: ${eu?.shortMessage}`,{cause:eu,name:"UnknownNodeError"})}}},66645:function(eu,ed,eg){"use strict";eg.d(ed,{Cc:function(){return eS},Gg:function(){return e_},W5:function(){return eI},bs:function(){return eA},c9:function(){return eE}});var em=eg(13583),eb=eg(38150),ew=eg(80319);class e_ extends eb.G{constructor({body:eu,cause:ed,details:eg,headers:eb,status:e_,url:eE}){super("HTTP request failed.",{cause:ed,details:eg,metaMessages:[e_&&`Status: ${e_}`,`URL: ${(0,ew.G)(eE)}`,eu&&`Request body: ${(0,em.P)(eu)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=eu,this.headers=eb,this.status=e_,this.url=eE}}class eE extends eb.G{constructor({body:eu,cause:ed,details:eg,url:eb}){super("WebSocket request failed.",{cause:ed,details:eg,metaMessages:[`URL: ${(0,ew.G)(eb)}`,eu&&`Request body: ${(0,em.P)(eu)}`].filter(Boolean),name:"WebSocketRequestError"})}}class eA extends eb.G{constructor({body:eu,error:ed,url:eg}){super("RPC Request failed.",{cause:ed,details:ed.message,metaMessages:[`URL: ${(0,ew.G)(eg)}`,`Request body: ${(0,em.P)(eu)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=ed.code,this.data=ed.data}}class eS extends eb.G{constructor({url:eu}={}){super("The socket has been closed.",{metaMessages:[eu&&`URL: ${(0,ew.G)(eu)}`].filter(Boolean),name:"SocketClosedError"})}}class eI extends eb.G{constructor({body:eu,url:ed}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${(0,ew.G)(ed)}`,`Request body: ${(0,em.P)(eu)}`],name:"TimeoutError"})}}},1241:function(eu,ed,eg){"use strict";eg.d(ed,{B:function(){return eS},EJ:function(){return eG},GD:function(){return eD},I0:function(){return eF},KB:function(){return eN},LX:function(){return eI},NO:function(){return eJ},Nt:function(){return eV},Og:function(){return eT},PE:function(){return eU},Pv:function(){return eR},Ts:function(){return eL},Uu:function(){return eH},XS:function(){return eM},ab:function(){return eB},fl:function(){return eW},gS:function(){return ek},ir:function(){return eY},nY:function(){return eC},pT:function(){return eP},r0:function(){return eZ},s7:function(){return eA},u5:function(){return ej},vl:function(){return eK},x3:function(){return e$},yR:function(){return eO}});var em=eg(38150),eb=eg(66645);let ew=-1;class e_ extends em.G{constructor(eu,{code:ed,docsPath:eg,metaMessages:em,name:e_,shortMessage:eE}){super(eE,{cause:eu,docsPath:eg,metaMessages:em||eu?.metaMessages,name:e_||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=e_||eu.name,this.code=eu instanceof eb.bs?eu.code:ed??ew}}class eE extends e_{constructor(eu,ed){super(eu,ed),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=ed.data}}class eA extends e_{constructor(eu){super(eu,{code:eA.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(eA,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class eS extends e_{constructor(eu){super(eu,{code:eS.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(eS,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class eI extends e_{constructor(eu,{method:ed}={}){super(eu,{code:eI.code,name:"MethodNotFoundRpcError",shortMessage:`The method${ed?` "${ed}"`:""} does not exist / is not available.`})}}Object.defineProperty(eI,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class eC extends e_{constructor(eu){super(eu,{code:eC.code,name:"InvalidParamsRpcError",shortMessage:"Invalid parameters were provided to the RPC method.\nDouble check you have provided the correct parameters."})}}Object.defineProperty(eC,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class eM extends e_{constructor(eu){super(eu,{code:eM.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(eM,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class eO extends e_{constructor(eu){super(eu,{code:eO.code,name:"InvalidInputRpcError",shortMessage:"Missing or invalid parameters.\nDouble check you have provided the correct parameters."})}}Object.defineProperty(eO,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class eT extends e_{constructor(eu){super(eu,{code:eT.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(eT,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class eP extends e_{constructor(eu){super(eu,{code:eP.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(eP,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class eN extends e_{constructor(eu){super(eu,{code:eN.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(eN,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class ek extends e_{constructor(eu,{method:ed}={}){super(eu,{code:ek.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${ed?` "${ed}"`:""} is not supported.`})}}Object.defineProperty(ek,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class eR extends e_{constructor(eu){super(eu,{code:eR.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(eR,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class eD extends e_{constructor(eu){super(eu,{code:eD.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(eD,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class eB extends eE{constructor(eu){super(eu,{code:eB.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(eB,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class eU extends eE{constructor(eu){super(eu,{code:eU.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(eU,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class eL extends eE{constructor(eu,{method:ed}={}){super(eu,{code:eL.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${ed?` " ${ed}"`:""}.`})}}Object.defineProperty(eL,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class ej extends eE{constructor(eu){super(eu,{code:ej.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(ej,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class eF extends eE{constructor(eu){super(eu,{code:eF.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(eF,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class e$ extends eE{constructor(eu){super(eu,{code:e$.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(e$,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class eK extends eE{constructor(eu){super(eu,{code:eK.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(eK,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class eH extends eE{constructor(eu){super(eu,{code:eH.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(eH,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class eV extends eE{constructor(eu){super(eu,{code:eV.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(eV,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class eG extends eE{constructor(eu){super(eu,{code:eG.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(eG,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class eW extends eE{constructor(eu){super(eu,{code:eW.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(eW,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class eJ extends eE{constructor(eu){super(eu,{code:eJ.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(eJ,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class eZ extends eE{constructor(eu){super(eu,{code:eZ.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(eZ,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class eY extends e_{constructor(eu){super(eu,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}},728:function(eu,ed,eg){"use strict";eg.d(ed,{Bj:function(){return eE},Nc:function(){return eb},Z8:function(){return ew}});var em=eg(38150);class eb extends em.G{constructor({address:eu}){super(`State for account "${eu}" is set multiple times.`,{name:"AccountStateConflictError"})}}class ew extends em.G{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function e_(eu){return eu.reduce((eu,{slot:ed,value:eg})=>`${eu}        ${ed}: ${eg}
`,"")}function eE(eu){return eu.reduce((eu,{address:ed,...eg})=>{let em=`${eu}    ${ed}:
`;return eg.nonce&&(em+=`      nonce: ${eg.nonce}
`),eg.balance&&(em+=`      balance: ${eg.balance}
`),eg.code&&(em+=`      code: ${eg.code}
`),eg.state&&(em+="      state:\n"+e_(eg.state)),eg.stateDiff&&(em+="      stateDiff:\n"+e_(eg.stateDiff)),em},"  State Override:\n").slice(0,-1)}},21984:function(eu,ed,eg){"use strict";eg.d(ed,{Bh:function(){return eI},Yb:function(){return eC},j3:function(){return eA},mc:function(){return eM},mk:function(){return eS},xY:function(){return eE},xr:function(){return e_}});var em=eg(72942),eb=eg(14712),ew=eg(38150);function e_(eu){let ed=Object.entries(eu).map(([eu,ed])=>void 0===ed||!1===ed?null:[eu,ed]).filter(Boolean),eg=ed.reduce((eu,[ed])=>Math.max(eu,ed.length),0);return ed.map(([eu,ed])=>`  ${`${eu}:`.padEnd(eg+1)}  ${ed}`).join("\n")}class eE extends ew.G{constructor(){super("Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.\nUse `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others.",{name:"FeeConflictError"})}}class eA extends ew.G{constructor({transaction:eu}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",e_(eu),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class eS extends ew.G{constructor(eu,{account:ed,docsPath:eg,chain:ew,data:eE,gas:eA,gasPrice:eS,maxFeePerGas:eI,maxPriorityFeePerGas:eC,nonce:eM,to:eO,value:eT}){let eP=e_({chain:ew&&`${ew?.name} (id: ${ew?.id})`,from:ed?.address,to:eO,value:void 0!==eT&&`${(0,em.d)(eT)} ${ew?.nativeCurrency?.symbol||"ETH"}`,data:eE,gas:eA,gasPrice:void 0!==eS&&`${(0,eb.o)(eS)} gwei`,maxFeePerGas:void 0!==eI&&`${(0,eb.o)(eI)} gwei`,maxPriorityFeePerGas:void 0!==eC&&`${(0,eb.o)(eC)} gwei`,nonce:eM});super(eu.shortMessage,{cause:eu,docsPath:eg,metaMessages:[...eu.metaMessages?[...eu.metaMessages," "]:[],"Request Arguments:",eP].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=eu}}class eI extends ew.G{constructor({blockHash:eu,blockNumber:ed,blockTag:eg,hash:em,index:eb}){let ew="Transaction";eg&&void 0!==eb&&(ew=`Transaction at block time "${eg}" at index "${eb}"`),eu&&void 0!==eb&&(ew=`Transaction at block hash "${eu}" at index "${eb}"`),ed&&void 0!==eb&&(ew=`Transaction at block number "${ed}" at index "${eb}"`),em&&(ew=`Transaction with hash "${em}"`),super(`${ew} could not be found.`,{name:"TransactionNotFoundError"})}}class eC extends ew.G{constructor({hash:eu}){super(`Transaction receipt with hash "${eu}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class eM extends ew.G{constructor({hash:eu}){super(`Timed out while waiting for transaction with hash "${eu}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}},18767:function(eu,ed,eg){"use strict";eg.d(ed,{I:function(){return eb}});var em=eg(38150);class eb extends em.G{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}},80319:function(eu,ed,eg){"use strict";eg.d(ed,{C:function(){return em},G:function(){return eb}});let em=eu=>eu,eb=eu=>eu},40506:function(eu,ed,eg){"use strict";eg.d(ed,{r:function(){return eR}});var em=eg(59604),eb=eg(88518),ew=eg(31816),e_=eg(99532),eE=eg(81002),eA=eg(55870),eS=eg(42789),eI=eg(1491),eC=eg(56940);function eM(eu,ed={}){void 0!==ed.size&&(0,eI.Yf)(eu,{size:ed.size});let eg=(0,eC.ci)(eu,ed);return(0,eI.y_)(eg,ed)}function eO(eu,ed={}){let eg=eu;if(void 0!==ed.size&&((0,eI.Yf)(eg,{size:ed.size}),eg=(0,eA.f)(eg)),eg.length>1||eg[0]>1)throw new eS.yr(eg);return!!eg[0]}function eT(eu,ed={}){void 0!==ed.size&&(0,eI.Yf)(eu,{size:ed.size});let eg=(0,eC.ci)(eu,ed);return(0,eI.ly)(eg,ed)}function eP(eu,ed={}){let eg=eu;return void 0!==ed.size&&((0,eI.Yf)(eg,{size:ed.size}),eg=(0,eA.f)(eg,{dir:"right"})),new TextDecoder().decode(eg)}var eN=eg(70295),ek=eg(56304);function eR(eu,ed){let eg="string"==typeof ed?(0,eN.nr)(ed):ed,eb=(0,ew.q)(eg);if(0===(0,e_.d)(eg)&&eu.length>0)throw new em.wb;if((0,e_.d)(ed)&&32>(0,e_.d)(ed))throw new em.xB({data:"string"==typeof ed?ed:(0,eC.ci)(ed),params:eu,size:(0,e_.d)(ed)});let eE=0,eA=[];for(let ed=0;ed<eu.length;++ed){let eg=eu[ed];eb.setPosition(eE);let[em,ew]=eD(eb,eg,{staticPosition:0});eE+=ew,eA.push(em)}return eA}function eD(eu,ed,{staticPosition:eg}){let eb=(0,ek.S)(ed.type);if(eb){let[em,ew]=eb;return ej(eu,{...ed,type:ew},{length:em,staticPosition:eg})}if("tuple"===ed.type)return eH(eu,ed,{staticPosition:eg});if("address"===ed.type)return eL(eu);if("bool"===ed.type)return eF(eu);if(ed.type.startsWith("bytes"))return e$(eu,ed,{staticPosition:eg});if(ed.type.startsWith("uint")||ed.type.startsWith("int"))return eK(eu,ed);if("string"===ed.type)return eV(eu,{staticPosition:eg});throw new em.CI(ed.type,{docsPath:"/docs/contract/decodeAbiParameters"})}let eB=32,eU=32;function eL(eu){let ed=eu.readBytes(32);return[(0,eb.x)((0,eC.ci)((0,eE.T4)(ed,-20))),32]}function ej(eu,ed,{length:eg,staticPosition:em}){if(!eg){let eg=eT(eu.readBytes(eU)),eb=em+eg,ew=eb+eB;eu.setPosition(eb);let e_=eT(eu.readBytes(eB)),eE=eG(ed),eA=0,eS=[];for(let eg=0;eg<e_;++eg){eu.setPosition(ew+(eE?32*eg:eA));let[em,eb]=eD(eu,ed,{staticPosition:ew});eA+=eb,eS.push(em)}return eu.setPosition(em+32),[eS,32]}if(eG(ed)){let eb=eT(eu.readBytes(eU)),ew=em+eb,e_=[];for(let em=0;em<eg;++em){eu.setPosition(ew+32*em);let[eg]=eD(eu,ed,{staticPosition:ew});e_.push(eg)}return eu.setPosition(em+32),[e_,32]}let eb=0,ew=[];for(let e_=0;e_<eg;++e_){let[eg,e_]=eD(eu,ed,{staticPosition:em+eb});eb+=e_,ew.push(eg)}return[ew,eb]}function eF(eu){return[eO(eu.readBytes(32),{size:32}),32]}function e$(eu,ed,{staticPosition:eg}){let[em,eb]=ed.type.split("bytes");if(!eb){let ed=eT(eu.readBytes(32));eu.setPosition(eg+ed);let em=eT(eu.readBytes(32));if(0===em)return eu.setPosition(eg+32),["0x",32];let eb=eu.readBytes(em);return eu.setPosition(eg+32),[(0,eC.ci)(eb),32]}let ew=(0,eC.ci)(eu.readBytes(Number.parseInt(eb),32));return[ew,32]}function eK(eu,ed){let eg=ed.type.startsWith("int"),em=Number.parseInt(ed.type.split("int")[1]||"256"),eb=eu.readBytes(32);return[em>48?eM(eb,{signed:eg}):eT(eb,{signed:eg}),32]}function eH(eu,ed,{staticPosition:eg}){let em=0===ed.components.length||ed.components.some(({name:eu})=>!eu),eb=em?[]:{},ew=0;if(eG(ed)){let e_=eT(eu.readBytes(eU)),eE=eg+e_;for(let eg=0;eg<ed.components.length;++eg){let e_=ed.components[eg];eu.setPosition(eE+ew);let[eA,eS]=eD(eu,e_,{staticPosition:eE});ew+=eS,eb[em?eg:e_?.name]=eA}return eu.setPosition(eg+32),[eb,32]}for(let e_=0;e_<ed.components.length;++e_){let eE=ed.components[e_],[eA,eS]=eD(eu,eE,{staticPosition:eg});eb[em?e_:eE?.name]=eA,ew+=eS}return[eb,ew]}function eV(eu,{staticPosition:ed}){let eg=eT(eu.readBytes(32)),em=ed+eg;eu.setPosition(em);let eb=eT(eu.readBytes(32));if(0===eb)return eu.setPosition(ed+32),["",32];let ew=eu.readBytes(eb,32),e_=eP((0,eA.f)(ew));return eu.setPosition(ed+32),[e_,32]}function eG(eu){let{type:ed}=eu;if("string"===ed||"bytes"===ed||ed.endsWith("[]"))return!0;if("tuple"===ed)return eu.components?.some(eG);let eg=(0,ek.S)(eu.type);return!!(eg&&eG({...eu,type:eg[1]}))}},82827:function(eu,ed,eg){"use strict";eg.d(ed,{p:function(){return eS}});var em=eg(72441),eb=eg(59604),ew=eg(81002),e_=eg(85351),eE=eg(40506),eA=eg(48985);function eS(eu){let{abi:ed,data:eg}=eu,eS=(0,ew.tP)(eg,0,4);if("0x"===eS)throw new eb.wb;let eI=[...ed||[],em.Up,em.hZ],eC=eI.find(eu=>"error"===eu.type&&eS===(0,e_.C)((0,eA.t)(eu)));if(!eC)throw new eb.yP(eS,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:eC,args:"inputs"in eC&&eC.inputs&&eC.inputs.length>0?(0,eE.r)(eC.inputs,(0,ew.tP)(eg,4)):void 0,errorName:eC.name}}},44761:function(eu,ed,eg){"use strict";eg.d(ed,{F:function(){return eI}});var em=eg(59604),eb=eg(99532),ew=eg(27075),e_=eg(61392),eE=eg(40506),eA=eg(48985);let eS="/docs/contract/decodeEventLog";function eI(eu){let{abi:ed,data:eg,strict:eI,topics:eM}=eu,eO=eI??!0,[eT,...eP]=eM;if(!eT)throw new em.FM({docsPath:eS});let eN=ed.find(eu=>"event"===eu.type&&eT===(0,ew.n)((0,eA.t)(eu)));if(!(eN&&"name"in eN)||"event"!==eN.type)throw new em.lC(eT,{docsPath:eS});let{name:ek,inputs:eR}=eN,eD=eR?.some(eu=>!("name"in eu&&eu.name)),eB=eD?[]:{},eU=eR.map((eu,ed)=>[eu,ed]).filter(([eu])=>"indexed"in eu&&eu.indexed);for(let eu=0;eu<eU.length;eu++){let[ed,eg]=eU[eu],eb=eP[eu];if(!eb)throw new em.Gy({abiItem:eN,param:ed});eB[eD?eg:ed.name||eg]=eC({param:ed,value:eb})}let eL=eR.filter(eu=>!("indexed"in eu&&eu.indexed));if(eL.length>0){if(eg&&"0x"!==eg)try{let eu=(0,eE.r)(eL,eg);if(eu){if(eD)for(let ed=0;ed<eR.length;ed++)eB[ed]=eB[ed]??eu.shift();else for(let ed=0;ed<eL.length;ed++)eB[eL[ed].name]=eu[ed]}}catch(eu){if(eO){if(eu instanceof em.xB||eu instanceof e_.lQ)throw new em.SM({abiItem:eN,data:eg,params:eL,size:(0,eb.d)(eg)});throw eu}}else if(eO)throw new em.SM({abiItem:eN,data:"0x",params:eL,size:0})}return{eventName:ek,args:Object.values(eB).length>0?eB:void 0}}function eC({param:eu,value:ed}){if("string"===eu.type||"bytes"===eu.type||"tuple"===eu.type||eu.type.match(/^(.*)\[(\d+)?\]$/))return ed;let eg=(0,eE.r)([eu],ed)||[];return eg[0]}},83349:function(eu,ed,eg){"use strict";eg.d(ed,{k:function(){return eE}});var em=eg(59604),eb=eg(40506),ew=eg(2351);let e_="/docs/contract/decodeFunctionResult";function eE(eu){let{abi:ed,args:eg,functionName:eE,data:eA}=eu,eS=ed[0];if(eE){let eu=(0,ew.mE)({abi:ed,args:eg,name:eE});if(!eu)throw new em.xL(eE,{docsPath:e_});eS=eu}if("function"!==eS.type)throw new em.xL(void 0,{docsPath:e_});if(!eS.outputs)throw new em.MX(eS.name,{docsPath:e_});let eI=(0,eb.r)(eS.outputs,eA);return eI&&eI.length>1?eI:eI&&1===eI.length?eI[0]:void 0}},56304:function(eu,ed,eg){"use strict";eg.d(ed,{E:function(){return eT},S:function(){return e$}});var em=eg(59604),eb=eg(31688),ew=eg(38150),e_=eg(42789),eE=eg(95092),eA=eg(56578),eS=eg(36062),eI=eg(99532),eC=eg(81002),eM=eg(56940),eO=eg(41382);function eT(eu,ed){if(eu.length!==ed.length)throw new em.fs({expectedLength:eu.length,givenLength:ed.length});let eg=eP({params:eu,values:ed}),eb=ek(eg);return 0===eb.length?"0x":eb}function eP({params:eu,values:ed}){let eg=[];for(let em=0;em<eu.length;em++)eg.push(eN({param:eu[em],value:ed[em]}));return eg}function eN({param:eu,value:ed}){let eg=e$(eu.type);if(eg){let[em,eb]=eg;return eD(ed,{length:em,param:{...eu,type:eb}})}if("tuple"===eu.type)return eF(ed,{param:eu});if("address"===eu.type)return eR(ed);if("bool"===eu.type)return eU(ed);if(eu.type.startsWith("uint")||eu.type.startsWith("int")){let eg=eu.type.startsWith("int"),[,,em="256"]=eO.lh.exec(eu.type)??[];return eL(ed,{signed:eg,size:Number(em)})}if(eu.type.startsWith("bytes"))return eB(ed,{param:eu});if("string"===eu.type)return ej(ed);throw new em.dh(eu.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function ek(eu){let ed=0;for(let eg=0;eg<eu.length;eg++){let{dynamic:em,encoded:eb}=eu[eg];em?ed+=32:ed+=(0,eI.d)(eb)}let eg=[],em=[],eb=0;for(let ew=0;ew<eu.length;ew++){let{dynamic:e_,encoded:eE}=eu[ew];e_?(eg.push((0,eM.eC)(ed+eb,{size:32})),em.push(eE),eb+=(0,eI.d)(eE)):eg.push(eE)}return(0,eA.zo)([...eg,...em])}function eR(eu){if(!(0,eE.U)(eu))throw new eb.b({address:eu});return{dynamic:!1,encoded:(0,eS.gc)(eu.toLowerCase())}}function eD(eu,{length:ed,param:eg}){let eb=null===ed;if(!Array.isArray(eu))throw new em.hn(eu);if(!eb&&eu.length!==ed)throw new em.gr({expectedLength:ed,givenLength:eu.length,type:`${eg.type}[${ed}]`});let ew=!1,e_=[];for(let ed=0;ed<eu.length;ed++){let em=eN({param:eg,value:eu[ed]});em.dynamic&&(ew=!0),e_.push(em)}if(eb||ew){let eu=ek(e_);if(eb){let ed=(0,eM.eC)(e_.length,{size:32});return{dynamic:!0,encoded:e_.length>0?(0,eA.zo)([ed,eu]):ed}}if(ew)return{dynamic:!0,encoded:eu}}return{dynamic:!1,encoded:(0,eA.zo)(e_.map(({encoded:eu})=>eu))}}function eB(eu,{param:ed}){let[,eg]=ed.type.split("bytes"),eb=(0,eI.d)(eu);if(!eg){let ed=eu;return eb%32!=0&&(ed=(0,eS.gc)(ed,{dir:"right",size:32*Math.ceil((eu.length-2)/2/32)})),{dynamic:!0,encoded:(0,eA.zo)([(0,eS.gc)((0,eM.eC)(eb,{size:32})),ed])}}if(eb!==Number.parseInt(eg))throw new em.M4({expectedSize:Number.parseInt(eg),value:eu});return{dynamic:!1,encoded:(0,eS.gc)(eu,{dir:"right"})}}function eU(eu){if("boolean"!=typeof eu)throw new ew.G(`Invalid boolean value: "${eu}" (type: ${typeof eu}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:(0,eS.gc)((0,eM.C4)(eu))}}function eL(eu,{signed:ed,size:eg=256}){if("number"==typeof eg){let em=2n**(BigInt(eg)-(ed?1n:0n))-1n,eb=ed?-em-1n:0n;if(eu>em||eu<eb)throw new e_.J5({max:em.toString(),min:eb.toString(),signed:ed,size:eg/8,value:eu.toString()})}return{dynamic:!1,encoded:(0,eM.eC)(eu,{size:32,signed:ed})}}function ej(eu){let ed=(0,eM.$G)(eu),eg=Math.ceil((0,eI.d)(ed)/32),em=[];for(let eu=0;eu<eg;eu++)em.push((0,eS.gc)((0,eC.tP)(ed,32*eu,(eu+1)*32),{dir:"right"}));return{dynamic:!0,encoded:(0,eA.zo)([(0,eS.gc)((0,eM.eC)((0,eI.d)(ed),{size:32})),...em])}}function eF(eu,{param:ed}){let eg=!1,em=[];for(let eb=0;eb<ed.components.length;eb++){let ew=ed.components[eb],e_=Array.isArray(eu)?eb:ew.name,eE=eN({param:ew,value:eu[e_]});em.push(eE),eE.dynamic&&(eg=!0)}return{dynamic:eg,encoded:eg?ek(em):(0,eA.zo)(em.map(({encoded:eu})=>eu))}}function e$(eu){let ed=eu.match(/^(.*)\[(\d+)?\]$/);return ed?[ed[2]?Number(ed[2]):null,ed[1]]:void 0}},5668:function(eu,ed,eg){"use strict";eg.d(ed,{w:function(){return eE}});var em=eg(59604),eb=eg(56578),ew=eg(56304);let e_="/docs/contract/encodeDeployData";function eE(eu){let{abi:ed,args:eg,bytecode:eE}=eu;if(!eg||0===eg.length)return eE;let eA=ed.find(eu=>"type"in eu&&"constructor"===eu.type);if(!eA)throw new em.fM({docsPath:e_});if(!("inputs"in eA)||!eA.inputs||0===eA.inputs.length)throw new em.cO({docsPath:e_});let eS=(0,ew.E)(eA.inputs,eg);return(0,eb.SM)([eE,eS])}},93156:function(eu,ed,eg){"use strict";eg.d(ed,{R:function(){return eC}});var em=eg(56578),eb=eg(56304),ew=eg(59604),e_=eg(85351),eE=eg(48985),eA=eg(2351);let eS="/docs/contract/encodeFunctionData";function eI(eu){let{abi:ed,args:eg,functionName:em}=eu,eb=ed[0];if(em){let eu=(0,eA.mE)({abi:ed,args:eg,name:em});if(!eu)throw new ew.xL(em,{docsPath:eS});eb=eu}if("function"!==eb.type)throw new ew.xL(void 0,{docsPath:eS});return{abi:[eb],functionName:(0,e_.C)((0,eE.t)(eb))}}function eC(eu){let{args:ed}=eu,{abi:eg,functionName:ew}=1===eu.abi.length&&eu.functionName?.startsWith("0x")?eu:eI(eu),e_=eg[0],eE=ew,eA="inputs"in e_&&e_.inputs?(0,eb.E)(e_.inputs,ed??[]):void 0;return(0,em.SM)([eE,eA??"0x"])}},48985:function(eu,ed,eg){"use strict";eg.d(ed,{h:function(){return ew},t:function(){return eb}});var em=eg(59604);function eb(eu,{includeName:ed=!1}={}){if("function"!==eu.type&&"event"!==eu.type&&"error"!==eu.type)throw new em.wM(eu.type);return`${eu.name}(${ew(eu.inputs,{includeName:ed})})`}function ew(eu,{includeName:ed=!1}={}){return eu?eu.map(eu=>e_(eu,{includeName:ed})).join(ed?", ":","):""}function e_(eu,{includeName:ed}){return eu.type.startsWith("tuple")?`(${ew(eu.components,{includeName:ed})})${eu.type.slice(5)}`:eu.type+(ed&&eu.name?` ${eu.name}`:"")}},2351:function(eu,ed,eg){"use strict";eg.d(ed,{mE:function(){return eA}});var em=eg(59604),eb=eg(16463),ew=eg(95092),e_=eg(27075),eE=eg(85351);function eA(eu){let ed;let{abi:eg,args:ew=[],name:eA}=eu,eC=(0,eb.v)(eA,{strict:!1}),eM=eg.filter(eu=>eC?"function"===eu.type?(0,eE.C)(eu)===eA:"event"===eu.type&&(0,e_.n)(eu)===eA:"name"in eu&&eu.name===eA);if(0!==eM.length){if(1===eM.length)return eM[0];for(let eu of eM){if(!("inputs"in eu))continue;if(!ew||0===ew.length){if(!eu.inputs||0===eu.inputs.length)return eu;continue}if(!eu.inputs||0===eu.inputs.length||eu.inputs.length!==ew.length)continue;let eg=ew.every((ed,eg)=>{let em="inputs"in eu&&eu.inputs[eg];return!!em&&eS(ed,em)});if(eg){if(ed&&"inputs"in ed&&ed.inputs){let eg=eI(eu.inputs,ed.inputs,ew);if(eg)throw new em.S4({abiItem:eu,type:eg[0]},{abiItem:ed,type:eg[1]})}ed=eu}}return ed||eM[0]}}function eS(eu,ed){let eg=typeof eu,em=ed.type;switch(em){case"address":return(0,ew.U)(eu,{strict:!1});case"bool":return"boolean"===eg;case"function":case"string":return"string"===eg;default:if("tuple"===em&&"components"in ed)return Object.values(ed.components).every((ed,eg)=>eS(Object.values(eu)[eg],ed));if(/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(em))return"number"===eg||"bigint"===eg;if(/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(em))return"string"===eg||eu instanceof Uint8Array;if(/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(em))return Array.isArray(eu)&&eu.every(eu=>eS(eu,{...ed,type:em.replace(/(\[[0-9]{0,}\])$/,"")}));return!1}}function eI(eu,ed,eg){for(let em in eu){let eb=eu[em],e_=ed[em];if("tuple"===eb.type&&"tuple"===e_.type&&"components"in eb&&"components"in e_)return eI(eb.components,e_.components,eg[em]);let eE=[eb.type,e_.type],eA=!!(eE.includes("address")&&eE.includes("bytes20"))||!!(eE.includes("address")&&eE.includes("string")||eE.includes("address")&&eE.includes("bytes"))&&(0,ew.U)(eg[em],{strict:!1});if(eA)return eE}}},55944:function(eu,ed,eg){"use strict";eg.d(ed,{h:function(){return eS}});var em=eg(59604),eb=eg(47975),ew=eg(70295),e_=eg(13170),eE=eg(27075),eA=eg(44761);function eS(eu){let{abi:ed,args:eg,logs:eb,strict:ew=!0}=eu,e_=(()=>{if(eu.eventName)return Array.isArray(eu.eventName)?eu.eventName:[eu.eventName]})();return eb.map(eu=>{try{let em=ed.find(ed=>"event"===ed.type&&eu.topics[0]===(0,eE.n)(ed));if(!em)return null;let eb=(0,eA.F)({...eu,abi:[em],strict:ew});if(e_&&!e_.includes(eb.eventName)||!eI({args:eb.args,inputs:em.inputs,matchArgs:eg}))return null;return{...eb,...eu}}catch(eb){let ed,eg;if(eb instanceof em.lC)return null;if(eb instanceof em.SM||eb instanceof em.Gy){if(ew)return null;ed=eb.abiItem.name,eg=eb.abiItem.inputs?.some(eu=>!("name"in eu&&eu.name))}return{...eu,args:eg?[]:{},eventName:ed}}}).filter(Boolean)}function eI(eu){let{args:ed,inputs:eg,matchArgs:em}=eu;if(!em)return!0;if(!ed)return!1;function eE(eu,ed,eg){try{if("address"===eu.type)return(0,eb.E)(ed,eg);if("string"===eu.type||"bytes"===eu.type)return(0,e_.w)((0,ew.O0)(ed))===eg;return ed===eg}catch{return!1}}return Array.isArray(ed)&&Array.isArray(em)?em.every((eu,em)=>{if(null==eu)return!0;let eb=eg[em];if(!eb)return!1;let ew=Array.isArray(eu)?eu:[eu];return ew.some(eu=>eE(eb,eu,ed[em]))}):!("object"!=typeof ed||Array.isArray(ed)||"object"!=typeof em||Array.isArray(em))&&Object.entries(em).every(([eu,em])=>{if(null==em)return!0;let eb=eg.find(ed=>ed.name===eu);if(!eb)return!1;let ew=Array.isArray(em)?em:[em];return ew.some(eg=>eE(eb,eg,ed[eu]))})}},88518:function(eu,ed,eg){"use strict";eg.d(ed,{K:function(){return eI},x:function(){return eS}});var em=eg(31688),eb=eg(70295),ew=eg(13170),e_=eg(20897),eE=eg(95092);let eA=new e_.k(8192);function eS(eu,ed){if(eA.has(`${eu}.${ed}`))return eA.get(`${eu}.${ed}`);let eg=ed?`${ed}${eu.toLowerCase()}`:eu.substring(2).toLowerCase(),em=(0,ew.w)((0,eb.qX)(eg),"bytes"),e_=(ed?eg.substring(`${ed}0x`.length):eg).split("");for(let eu=0;eu<40;eu+=2)em[eu>>1]>>4>=8&&e_[eu]&&(e_[eu]=e_[eu].toUpperCase()),(15&em[eu>>1])>=8&&e_[eu+1]&&(e_[eu+1]=e_[eu+1].toUpperCase());let eE=`0x${e_.join("")}`;return eA.set(`${eu}.${ed}`,eE),eE}function eI(eu,ed){if(!(0,eE.U)(eu,{strict:!1}))throw new em.b({address:eu});return eS(eu,ed)}},95092:function(eu,ed,eg){"use strict";eg.d(ed,{U:function(){return eE}});var em=eg(20897),eb=eg(88518);let ew=/^0x[a-fA-F0-9]{40}$/,e_=new em.k(8192);function eE(eu,ed){let{strict:eg=!0}=ed??{},em=`${eu}.${eg}`;if(e_.has(em))return e_.get(em);let eE=!!ew.test(eu)&&(eu.toLowerCase()===eu||!eg||(0,eb.x)(eu)===eu);return e_.set(em,eE),eE}},47975:function(eu,ed,eg){"use strict";eg.d(ed,{E:function(){return ew}});var em=eg(31688),eb=eg(95092);function ew(eu,ed){if(!(0,eb.U)(eu,{strict:!1}))throw new em.b({address:eu});if(!(0,eb.U)(ed,{strict:!1}))throw new em.b({address:ed});return eu.toLowerCase()===ed.toLowerCase()}},19958:function(eu,ed,eg){"use strict";eg.d(ed,{z:function(){return eN}});var em=eg(88058),eb=eg(56578),ew=eg(70295),e_=eg(56940),eE=eg(38150),eA=eg(31816);function eS(eu,ed="hex"){let eg=eI(eu),em=(0,eA.q)(new Uint8Array(eg.length));return(eg.encode(em),"hex"===ed)?(0,e_.ci)(em.bytes):em.bytes}function eI(eu){return Array.isArray(eu)?eC(eu.map(eu=>eI(eu))):eM(eu)}function eC(eu){let ed=eu.reduce((eu,ed)=>eu+ed.length,0),eg=eO(ed),em=ed<=55?1+ed:1+eg+ed;return{length:em,encode(em){for(let{encode:eb}of(ed<=55?em.pushByte(192+ed):(em.pushByte(247+eg),1===eg?em.pushUint8(ed):2===eg?em.pushUint16(ed):3===eg?em.pushUint24(ed):em.pushUint32(ed)),eu))eb(em)}}}function eM(eu){let ed="string"==typeof eu?(0,ew.nr)(eu):eu,eg=eO(ed.length),em=1===ed.length&&ed[0]<128?1:ed.length<=55?1+ed.length:1+eg+ed.length;return{length:em,encode(eu){1===ed.length&&ed[0]<128?eu.pushBytes(ed):ed.length<=55?(eu.pushByte(128+ed.length),eu.pushBytes(ed)):(eu.pushByte(183+eg),1===eg?eu.pushUint8(ed.length):2===eg?eu.pushUint16(ed.length):3===eg?eu.pushUint24(ed.length):eu.pushUint32(ed.length),eu.pushBytes(ed))}}}function eO(eu){if(eu<256)return 1;if(eu<65536)return 2;if(eu<16777216)return 3;if(eu<4294967296)return 4;throw new eE.G("Length is too large.")}var eT=eg(13170);function eP(eu){let{chainId:ed,nonce:eg,to:em}=eu,eE=eu.contractAddress??eu.address,eA=(0,eT.w)((0,eb.SM)(["0x05",eS([ed?(0,e_.eC)(ed):"0x",eE,eg?(0,e_.eC)(eg):"0x"])]));return"bytes"===em?(0,ew.nr)(eA):eA}async function eN(eu){let{authorization:ed,signature:eg}=eu;return(0,em.R)({hash:eP(ed),signature:eg??ed})}},51052:function(eu,ed,eg){"use strict";eg.d(ed,{q:function(){return eb}});var em=eg(45241);function eb({chain:eu,currentChainId:ed}){if(!eu)throw new em.Bk;if(ed!==eu.id)throw new em.Yl({chain:eu,currentChainId:ed})}},58665:function(eu,ed,eg){"use strict";eg.d(ed,{L:function(){return eb}});var em=eg(45241);function eb({blockNumber:eu,chain:ed,contract:eg}){let eb=ed?.contracts?.[eg];if(!eb)throw new em.mm({chain:ed,contract:{name:eg}});if(eu&&eb.blockCreated&&eb.blockCreated>eu)throw new em.mm({blockNumber:eu,chain:ed,contract:{name:eg,blockCreated:eb.blockCreated}});return eb.address}},31816:function(eu,ed,eg){"use strict";eg.d(ed,{q:function(){return ew}});var em=eg(61392);let eb={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new em.KD({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(eu){if(eu<0||eu>this.bytes.length-1)throw new em.lQ({length:this.bytes.length,position:eu})},decrementPosition(eu){if(eu<0)throw new em.T_({offset:eu});let ed=this.position-eu;this.assertPosition(ed),this.position=ed},getReadCount(eu){return this.positionReadCount.get(eu||this.position)||0},incrementPosition(eu){if(eu<0)throw new em.T_({offset:eu});let ed=this.position+eu;this.assertPosition(ed),this.position=ed},inspectByte(eu){let ed=eu??this.position;return this.assertPosition(ed),this.bytes[ed]},inspectBytes(eu,ed){let eg=ed??this.position;return this.assertPosition(eg+eu-1),this.bytes.subarray(eg,eg+eu)},inspectUint8(eu){let ed=eu??this.position;return this.assertPosition(ed),this.bytes[ed]},inspectUint16(eu){let ed=eu??this.position;return this.assertPosition(ed+1),this.dataView.getUint16(ed)},inspectUint24(eu){let ed=eu??this.position;return this.assertPosition(ed+2),(this.dataView.getUint16(ed)<<8)+this.dataView.getUint8(ed+2)},inspectUint32(eu){let ed=eu??this.position;return this.assertPosition(ed+3),this.dataView.getUint32(ed)},pushByte(eu){this.assertPosition(this.position),this.bytes[this.position]=eu,this.position++},pushBytes(eu){this.assertPosition(this.position+eu.length-1),this.bytes.set(eu,this.position),this.position+=eu.length},pushUint8(eu){this.assertPosition(this.position),this.bytes[this.position]=eu,this.position++},pushUint16(eu){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,eu),this.position+=2},pushUint24(eu){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,eu>>8),this.dataView.setUint8(this.position+2,255&eu),this.position+=3},pushUint32(eu){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,eu),this.position+=4},readByte(){this.assertReadLimit(),this._touch();let eu=this.inspectByte();return this.position++,eu},readBytes(eu,ed){this.assertReadLimit(),this._touch();let eg=this.inspectBytes(eu);return this.position+=ed??eu,eg},readUint8(){this.assertReadLimit(),this._touch();let eu=this.inspectUint8();return this.position+=1,eu},readUint16(){this.assertReadLimit(),this._touch();let eu=this.inspectUint16();return this.position+=2,eu},readUint24(){this.assertReadLimit(),this._touch();let eu=this.inspectUint24();return this.position+=3,eu},readUint32(){this.assertReadLimit(),this._touch();let eu=this.inspectUint32();return this.position+=4,eu},get remaining(){return this.bytes.length-this.position},setPosition(eu){let ed=this.position;return this.assertPosition(eu),this.position=eu,()=>this.position=ed},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;let eu=this.getReadCount();this.positionReadCount.set(this.position,eu+1),eu>0&&this.recursiveReadCount++}};function ew(eu,{recursiveReadLimit:ed=8192}={}){let eg=Object.create(eb);return eg.bytes=eu,eg.dataView=new DataView(eu.buffer,eu.byteOffset,eu.byteLength),eg.positionReadCount=new Map,eg.recursiveReadLimit=ed,eg}},56578:function(eu,ed,eg){"use strict";function em(eu){return"string"==typeof eu[0]?ew(eu):eb(eu)}function eb(eu){let ed=0;for(let eg of eu)ed+=eg.length;let eg=new Uint8Array(ed),em=0;for(let ed of eu)eg.set(ed,em),em+=ed.length;return eg}function ew(eu){return`0x${eu.reduce((eu,ed)=>eu+ed.replace("0x",""),"")}`}eg.d(ed,{SM:function(){return ew},zo:function(){return em}})},16463:function(eu,ed,eg){"use strict";function em(eu,{strict:ed=!0}={}){return!!eu&&"string"==typeof eu&&(ed?/^0x[0-9a-fA-F]*$/.test(eu):eu.startsWith("0x"))}eg.d(ed,{v:function(){return em}})},36062:function(eu,ed,eg){"use strict";eg.d(ed,{gc:function(){return ew},vk:function(){return eb}});var em=eg(98523);function eb(eu,{dir:ed,size:eg=32}={}){return"string"==typeof eu?ew(eu,{dir:ed,size:eg}):e_(eu,{dir:ed,size:eg})}function ew(eu,{dir:ed,size:eg=32}={}){if(null===eg)return eu;let eb=eu.replace("0x","");if(eb.length>2*eg)throw new em.$s({size:Math.ceil(eb.length/2),targetSize:eg,type:"hex"});return`0x${eb["right"===ed?"padEnd":"padStart"](2*eg,"0")}`}function e_(eu,{dir:ed,size:eg=32}={}){if(null===eg)return eu;if(eu.length>eg)throw new em.$s({size:eu.length,targetSize:eg,type:"bytes"});let eb=new Uint8Array(eg);for(let em=0;em<eg;em++){let ew="right"===ed;eb[ew?em:eg-em-1]=eu[ew?em:eu.length-em-1]}return eb}},99532:function(eu,ed,eg){"use strict";eg.d(ed,{d:function(){return eb}});var em=eg(16463);function eb(eu){return(0,em.v)(eu,{strict:!1})?Math.ceil((eu.length-2)/2):eu.length}},81002:function(eu,ed,eg){"use strict";eg.d(ed,{T4:function(){return eS},p5:function(){return eI},tP:function(){return e_}});var em=eg(98523),eb=eg(16463),ew=eg(99532);function e_(eu,ed,eg,{strict:em}={}){return(0,eb.v)(eu,{strict:!1})?eI(eu,ed,eg,{strict:em}):eS(eu,ed,eg,{strict:em})}function eE(eu,ed){if("number"==typeof ed&&ed>0&&ed>(0,ew.d)(eu)-1)throw new em.mV({offset:ed,position:"start",size:(0,ew.d)(eu)})}function eA(eu,ed,eg){if("number"==typeof ed&&"number"==typeof eg&&(0,ew.d)(eu)!==eg-ed)throw new em.mV({offset:eg,position:"end",size:(0,ew.d)(eu)})}function eS(eu,ed,eg,{strict:em}={}){eE(eu,ed);let eb=eu.slice(ed,eg);return em&&eA(eb,ed,eg),eb}function eI(eu,ed,eg,{strict:em}={}){eE(eu,ed);let eb=`0x${eu.replace("0x","").slice((ed??0)*2,(eg??eu.length)*2)}`;return em&&eA(eb,ed,eg),eb}},55870:function(eu,ed,eg){"use strict";function em(eu,{dir:ed="left"}={}){let eg="string"==typeof eu?eu.replace("0x",""):eu,em=0;for(let eu=0;eu<eg.length-1&&"0"===eg["left"===ed?eu:eg.length-eu-1].toString();eu++)em++;return(eg="left"===ed?eg.slice(em):eg.slice(0,eg.length-em),"string"==typeof eu)?(1===eg.length&&"right"===ed&&(eg=`${eg}0`),`0x${eg.length%2==1?`0${eg}`:eg}`):eg}eg.d(ed,{f:function(){return em}})},1491:function(eu,ed,eg){"use strict";eg.d(ed,{H_:function(){return eA},XA:function(){return eI},Yf:function(){return eE},ly:function(){return eC},rR:function(){return eM},y_:function(){return eS}});var em=eg(42789),eb=eg(99532),ew=eg(55870),e_=eg(70295);function eE(eu,{size:ed}){if((0,eb.d)(eu)>ed)throw new em.M6({givenSize:(0,eb.d)(eu),maxSize:ed})}function eA(eu,ed){let eg="string"==typeof ed?{to:ed}:ed,em=eg.to;return"number"===em?eC(eu,eg):"bigint"===em?eS(eu,eg):"string"===em?eM(eu,eg):"boolean"===em?eI(eu,eg):(0,e_.nr)(eu,eg)}function eS(eu,ed={}){let{signed:eg}=ed;ed.size&&eE(eu,{size:ed.size});let em=BigInt(eu);if(!eg)return em;let eb=(eu.length-2)/2,ew=(1n<<8n*BigInt(eb)-1n)-1n;return em<=ew?em:em-BigInt(`0x${"f".padStart(2*eb,"f")}`)-1n}function eI(eu,ed={}){let eg=eu;if(ed.size&&(eE(eg,{size:ed.size}),eg=(0,ew.f)(eg)),"0x00"===(0,ew.f)(eg))return!1;if("0x01"===(0,ew.f)(eg))return!0;throw new em.Cd(eg)}function eC(eu,ed={}){return Number(eS(eu,ed))}function eM(eu,ed={}){let eg=(0,e_.nr)(eu);return ed.size&&(eE(eg,{size:ed.size}),eg=(0,ew.f)(eg,{dir:"right"})),new TextDecoder().decode(eg)}},70295:function(eu,ed,eg){"use strict";eg.d(ed,{O0:function(){return eS},nr:function(){return eO},qX:function(){return eP}});var em=eg(38150),eb=eg(16463),ew=eg(36062),e_=eg(1491),eE=eg(56940);let eA=new TextEncoder;function eS(eu,ed={}){return"number"==typeof eu||"bigint"==typeof eu?eT(eu,ed):"boolean"==typeof eu?eI(eu,ed):(0,eb.v)(eu)?eO(eu,ed):eP(eu,ed)}function eI(eu,ed={}){let eg=new Uint8Array(1);return(eg[0]=Number(eu),"number"==typeof ed.size)?((0,e_.Yf)(eg,{size:ed.size}),(0,ew.vk)(eg,{size:ed.size})):eg}let eC={zero:48,nine:57,A:65,F:70,a:97,f:102};function eM(eu){return eu>=eC.zero&&eu<=eC.nine?eu-eC.zero:eu>=eC.A&&eu<=eC.F?eu-(eC.A-10):eu>=eC.a&&eu<=eC.f?eu-(eC.a-10):void 0}function eO(eu,ed={}){let eg=eu;ed.size&&((0,e_.Yf)(eg,{size:ed.size}),eg=(0,ew.vk)(eg,{dir:"right",size:ed.size}));let eb=eg.slice(2);eb.length%2&&(eb=`0${eb}`);let eE=eb.length/2,eA=new Uint8Array(eE);for(let eu=0,ed=0;eu<eE;eu++){let eg=eM(eb.charCodeAt(ed++)),ew=eM(eb.charCodeAt(ed++));if(void 0===eg||void 0===ew)throw new em.G(`Invalid byte sequence ("${eb[ed-2]}${eb[ed-1]}" in "${eb}").`);eA[eu]=16*eg+ew}return eA}function eT(eu,ed){let eg=(0,eE.eC)(eu,ed);return eO(eg)}function eP(eu,ed={}){let eg=eA.encode(eu);return"number"==typeof ed.size?((0,e_.Yf)(eg,{size:ed.size}),(0,ew.vk)(eg,{dir:"right",size:ed.size})):eg}},56940:function(eu,ed,eg){"use strict";eg.d(ed,{$G:function(){return eM},C4:function(){return eA},NC:function(){return eE},ci:function(){return eS},eC:function(){return eI}});var em=eg(42789),eb=eg(36062),ew=eg(1491);let e_=Array.from({length:256},(eu,ed)=>ed.toString(16).padStart(2,"0"));function eE(eu,ed={}){return"number"==typeof eu||"bigint"==typeof eu?eI(eu,ed):"string"==typeof eu?eM(eu,ed):"boolean"==typeof eu?eA(eu,ed):eS(eu,ed)}function eA(eu,ed={}){let eg=`0x${Number(eu)}`;return"number"==typeof ed.size?((0,ew.Yf)(eg,{size:ed.size}),(0,eb.vk)(eg,{size:ed.size})):eg}function eS(eu,ed={}){let eg="";for(let ed=0;ed<eu.length;ed++)eg+=e_[eu[ed]];let em=`0x${eg}`;return"number"==typeof ed.size?((0,ew.Yf)(em,{size:ed.size}),(0,eb.vk)(em,{dir:"right",size:ed.size})):em}function eI(eu,ed={}){let eg;let{signed:ew,size:e_}=ed,eE=BigInt(eu);e_?eg=ew?(1n<<8n*BigInt(e_)-1n)-1n:2n**(8n*BigInt(e_))-1n:"number"==typeof eu&&(eg=BigInt(Number.MAX_SAFE_INTEGER));let eA="bigint"==typeof eg&&ew?-eg-1n:0;if(eg&&eE>eg||eE<eA){let ed="bigint"==typeof eu?"n":"";throw new em.J5({max:eg?`${eg}${ed}`:void 0,min:`${eA}${ed}`,signed:ew,size:e_,value:`${eu}${ed}`})}let eS=`0x${(ew&&eE<0?(1n<<BigInt(8*e_))+BigInt(eE):eE).toString(16)}`;return e_?(0,eb.vk)(eS,{size:e_}):eS}let eC=new TextEncoder;function eM(eu,ed={}){let eg=eC.encode(eu);return eS(eg,ed)}},75928:function(eu,ed,eg){"use strict";eg.d(ed,{P:function(){return e_}});var em=eg(30412),eb=eg(57733),ew=eg(5196);function e_(eu,{docsPath:ed,...eg}){let e_=(()=>{let ed=(0,ew.k)(eu,eg);return ed instanceof eb.cj?eu:ed})();return new em.cg(e_,{docsPath:ed,...eg})}},35066:function(eu,ed,eg){"use strict";eg.d(ed,{S:function(){return eS}});var em=eg(59604),eb=eg(38150),ew=eg(30412),e_=eg(66645),eE=eg(1241);let eA=3;function eS(eu,{abi:ed,address:eg,args:eS,docsPath:eI,functionName:eC,sender:eM}){let eO=eu instanceof ew.VQ?eu:eu instanceof eb.G?eu.walk(eu=>"data"in eu)||eu.walk():{},{code:eT,data:eP,details:eN,message:ek,shortMessage:eR}=eO,eD=eu instanceof em.wb?new ew.Dk({functionName:eC}):[eA,eE.XS.code].includes(eT)&&(eP||eN||ek||eR)?new ew.Lu({abi:ed,data:"object"==typeof eP?eP.data:eP,functionName:eC,message:eO instanceof e_.bs?eN:eR??ek}):eu;return new ew.uq(eD,{abi:ed,args:eS,contractAddress:eg,docsPath:eI,functionName:eC,sender:eM})}},5196:function(eu,ed,eg){"use strict";eg.d(ed,{k:function(){return ew}});var em=eg(38150),eb=eg(57733);function ew(eu,ed){let eg=(eu.details||"").toLowerCase(),ew=eu instanceof em.G?eu.walk(eu=>eu?.code===eb.M_.code):eu;return ew instanceof em.G?new eb.M_({cause:eu,message:ew.details}):eb.M_.nodeMessage.test(eg)?new eb.M_({cause:eu,message:eu.details}):eb.Hh.nodeMessage.test(eg)?new eb.Hh({cause:eu,maxFeePerGas:ed?.maxFeePerGas}):eb.G$.nodeMessage.test(eg)?new eb.G$({cause:eu,maxFeePerGas:ed?.maxFeePerGas}):eb.ZI.nodeMessage.test(eg)?new eb.ZI({cause:eu,nonce:ed?.nonce}):eb.vU.nodeMessage.test(eg)?new eb.vU({cause:eu,nonce:ed?.nonce}):eb.se.nodeMessage.test(eg)?new eb.se({cause:eu,nonce:ed?.nonce}):eb.C_.nodeMessage.test(eg)?new eb.C_({cause:eu}):eb.WF.nodeMessage.test(eg)?new eb.WF({cause:eu,gas:ed?.gas}):eb.dR.nodeMessage.test(eg)?new eb.dR({cause:eu,gas:ed?.gas}):eb.pZ.nodeMessage.test(eg)?new eb.pZ({cause:eu}):eb.cs.nodeMessage.test(eg)?new eb.cs({cause:eu,maxFeePerGas:ed?.maxFeePerGas,maxPriorityFeePerGas:ed?.maxPriorityFeePerGas}):new eb.cj({cause:eu})}},34533:function(eu,ed,eg){"use strict";eg.d(ed,{$:function(){return e_}});var em=eg(57733),eb=eg(21984),ew=eg(5196);function e_(eu,{docsPath:ed,...eg}){let e_=(()=>{let ed=(0,ew.k)(eu,eg);return ed instanceof em.cj?eu:ed})();return new eb.mk(e_,{docsPath:ed,...eg})}},20568:function(eu,ed,eg){"use strict";function em(eu,{method:ed}){let eg={};return"fallback"===eu.transport.type&&eu.transport.onResponse?.(({method:eu,response:em,status:eb,transport:ew})=>{"success"===eb&&ed===eu&&(eg[em]=ew.request)}),ed=>eg[ed]||eu.request}eg.d(ed,{g:function(){return em}})},17777:function(eu,ed,eg){"use strict";eg.d(ed,{Z:function(){return eb}});var em=eg(71906);function eb(eu){let ed=(eu.transactions??[]).map(eu=>"string"==typeof eu?eu:(0,em.Tr)(eu));return{...eu,baseFeePerGas:eu.baseFeePerGas?BigInt(eu.baseFeePerGas):null,blobGasUsed:eu.blobGasUsed?BigInt(eu.blobGasUsed):void 0,difficulty:eu.difficulty?BigInt(eu.difficulty):void 0,excessBlobGas:eu.excessBlobGas?BigInt(eu.excessBlobGas):void 0,gasLimit:eu.gasLimit?BigInt(eu.gasLimit):void 0,gasUsed:eu.gasUsed?BigInt(eu.gasUsed):void 0,hash:eu.hash?eu.hash:null,logsBloom:eu.logsBloom?eu.logsBloom:null,nonce:eu.nonce?eu.nonce:null,number:eu.number?BigInt(eu.number):null,size:eu.size?BigInt(eu.size):void 0,timestamp:eu.timestamp?BigInt(eu.timestamp):void 0,transactions:ed,totalDifficulty:eu.totalDifficulty?BigInt(eu.totalDifficulty):null}}},39022:function(eu,ed,eg){"use strict";function em(eu,{format:ed}){if(!ed)return{};let eg={};function em(ed){let eb=Object.keys(ed);for(let ew of eb)ew in eu&&(eg[ew]=eu[ew]),ed[ew]&&"object"==typeof ed[ew]&&!Array.isArray(ed[ew])&&em(ed[ew])}let eb=ed(eu||{});return em(eb),eg}eg.d(ed,{K:function(){return em}})},26402:function(eu,ed,eg){"use strict";function em(eu,{args:ed,eventName:eg}={}){return{...eu,blockHash:eu.blockHash?eu.blockHash:null,blockNumber:eu.blockNumber?BigInt(eu.blockNumber):null,logIndex:eu.logIndex?Number(eu.logIndex):null,transactionHash:eu.transactionHash?eu.transactionHash:null,transactionIndex:eu.transactionIndex?Number(eu.transactionIndex):null,...eg?{args:ed,eventName:eg}:{}}}eg.d(ed,{U:function(){return em}})},71906:function(eu,ed,eg){"use strict";eg.d(ed,{Tr:function(){return ew},c8:function(){return eb}});var em=eg(1491);let eb={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function ew(eu){let ed={...eu,blockHash:eu.blockHash?eu.blockHash:null,blockNumber:eu.blockNumber?BigInt(eu.blockNumber):null,chainId:eu.chainId?(0,em.ly)(eu.chainId):void 0,gas:eu.gas?BigInt(eu.gas):void 0,gasPrice:eu.gasPrice?BigInt(eu.gasPrice):void 0,maxFeePerBlobGas:eu.maxFeePerBlobGas?BigInt(eu.maxFeePerBlobGas):void 0,maxFeePerGas:eu.maxFeePerGas?BigInt(eu.maxFeePerGas):void 0,maxPriorityFeePerGas:eu.maxPriorityFeePerGas?BigInt(eu.maxPriorityFeePerGas):void 0,nonce:eu.nonce?(0,em.ly)(eu.nonce):void 0,to:eu.to?eu.to:null,transactionIndex:eu.transactionIndex?Number(eu.transactionIndex):null,type:eu.type?eb[eu.type]:void 0,typeHex:eu.type?eu.type:void 0,value:eu.value?BigInt(eu.value):void 0,v:eu.v?BigInt(eu.v):void 0};return eu.authorizationList&&(ed.authorizationList=e_(eu.authorizationList)),ed.yParity=(()=>{if(eu.yParity)return Number(eu.yParity);if("bigint"==typeof ed.v){if(0n===ed.v||27n===ed.v)return 0;if(1n===ed.v||28n===ed.v)return 1;if(ed.v>=35n)return ed.v%2n===0n?1:0}})(),"legacy"===ed.type&&(delete ed.accessList,delete ed.maxFeePerBlobGas,delete ed.maxFeePerGas,delete ed.maxPriorityFeePerGas,delete ed.yParity),"eip2930"===ed.type&&(delete ed.maxFeePerBlobGas,delete ed.maxFeePerGas,delete ed.maxPriorityFeePerGas),"eip1559"===ed.type&&delete ed.maxFeePerBlobGas,ed}function e_(eu){return eu.map(eu=>({address:eu.address,chainId:Number(eu.chainId),nonce:Number(eu.nonce),r:eu.r,s:eu.s,yParity:Number(eu.yParity)}))}},35183:function(eu,ed,eg){"use strict";eg.d(ed,{ew:function(){return e_},fA:function(){return eE}});var em=eg(1491),eb=eg(26402),ew=eg(71906);let e_={"0x0":"reverted","0x1":"success"};function eE(eu){let ed={...eu,blockNumber:eu.blockNumber?BigInt(eu.blockNumber):null,contractAddress:eu.contractAddress?eu.contractAddress:null,cumulativeGasUsed:eu.cumulativeGasUsed?BigInt(eu.cumulativeGasUsed):null,effectiveGasPrice:eu.effectiveGasPrice?BigInt(eu.effectiveGasPrice):null,gasUsed:eu.gasUsed?BigInt(eu.gasUsed):null,logs:eu.logs?eu.logs.map(eu=>(0,eb.U)(eu)):null,to:eu.to?eu.to:null,transactionIndex:eu.transactionIndex?(0,em.ly)(eu.transactionIndex):null,status:eu.status?e_[eu.status]:null,type:eu.type?ew.c8[eu.type]||eu.type:null};return eu.blobGasPrice&&(ed.blobGasPrice=BigInt(eu.blobGasPrice)),eu.blobGasUsed&&(ed.blobGasUsed=BigInt(eu.blobGasUsed)),ed}},61353:function(eu,ed,eg){"use strict";eg.d(ed,{tG:function(){return ew}});var em=eg(56940);let eb={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function ew(eu){let ed={};return void 0!==eu.authorizationList&&(ed.authorizationList=e_(eu.authorizationList)),void 0!==eu.accessList&&(ed.accessList=eu.accessList),void 0!==eu.blobVersionedHashes&&(ed.blobVersionedHashes=eu.blobVersionedHashes),void 0!==eu.blobs&&("string"!=typeof eu.blobs[0]?ed.blobs=eu.blobs.map(eu=>(0,em.ci)(eu)):ed.blobs=eu.blobs),void 0!==eu.data&&(ed.data=eu.data),void 0!==eu.from&&(ed.from=eu.from),void 0!==eu.gas&&(ed.gas=(0,em.eC)(eu.gas)),void 0!==eu.gasPrice&&(ed.gasPrice=(0,em.eC)(eu.gasPrice)),void 0!==eu.maxFeePerBlobGas&&(ed.maxFeePerBlobGas=(0,em.eC)(eu.maxFeePerBlobGas)),void 0!==eu.maxFeePerGas&&(ed.maxFeePerGas=(0,em.eC)(eu.maxFeePerGas)),void 0!==eu.maxPriorityFeePerGas&&(ed.maxPriorityFeePerGas=(0,em.eC)(eu.maxPriorityFeePerGas)),void 0!==eu.nonce&&(ed.nonce=(0,em.eC)(eu.nonce)),void 0!==eu.to&&(ed.to=eu.to),void 0!==eu.type&&(ed.type=eb[eu.type]),void 0!==eu.value&&(ed.value=(0,em.eC)(eu.value)),ed}function e_(eu){return eu.map(eu=>({address:eu.address,r:eu.r?(0,em.eC)(BigInt(eu.r)):eu.r,s:eu.s?(0,em.eC)(BigInt(eu.s)):eu.s,chainId:(0,em.eC)(eu.chainId),nonce:(0,em.eC)(eu.nonce),...void 0!==eu.yParity?{yParity:(0,em.eC)(eu.yParity)}:{},...void 0!==eu.v&&void 0===eu.yParity?{v:(0,em.eC)(eu.v)}:{}}))}},28986:function(eu,ed,eg){"use strict";function em(eu,ed,eg){let em=eu[ed.name];if("function"==typeof em)return em;let eb=eu[eg];return"function"==typeof eb?eb:eg=>ed(eu,eg)}eg.d(ed,{s:function(){return em}})},13170:function(eu,ed,eg){"use strict";eg.d(ed,{w:function(){return eE}});var em=eg(78831),eb=eg(16463),ew=eg(70295),e_=eg(56940);function eE(eu,ed){let eg=ed||"hex",eE=(0,em.fr)((0,eb.v)(eu,{strict:!1})?(0,ew.O0)(eu):eu);return"bytes"===eg?eE:(0,e_.NC)(eE)}},27075:function(eu,ed,eg){"use strict";eg.d(ed,{n:function(){return eb}});var em=eg(53022);let eb=em.r},85351:function(eu,ed,eg){"use strict";eg.d(ed,{C:function(){return ew}});var em=eg(81002),eb=eg(53022);let ew=eu=>(0,em.tP)((0,eb.r)(eu),0,4)},53022:function(eu,ed,eg){"use strict";eg.d(ed,{r:function(){return eC}});var em=eg(70295),eb=eg(13170);let ew=eu=>(0,eb.w)((0,em.O0)(eu));function e_(eu){return ew(eu)}var eE=eg(70958),eA=eg(38150);function eS(eu){let ed=!0,eg="",em=0,eb="",ew=!1;for(let e_=0;e_<eu.length;e_++){let eE=eu[e_];if(["(",")",","].includes(eE)&&(ed=!0),"("===eE&&em++,")"===eE&&em--,ed){if(0===em){if(" "===eE&&["event","function",""].includes(eb))eb="";else if(eb+=eE,")"===eE){ew=!0;break}continue}if(" "===eE){","!==eu[e_-1]&&","!==eg&&",("!==eg&&(eg="",ed=!1);continue}eb+=eE,eg+=eE}}if(!ew)throw new eA.G("Unable to normalize signature.");return eb}let eI=eu=>{let ed="string"==typeof eu?eu:(0,eE.t)(eu);return eS(ed)};function eC(eu){return e_(eI(eu))}},20897:function(eu,ed,eg){"use strict";eg.d(ed,{k:function(){return em}});class em extends Map{constructor(eu){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=eu}get(eu){let ed=super.get(eu);return super.has(eu)&&void 0!==ed&&(this.delete(eu),super.set(eu,ed)),ed}set(eu,ed){if(super.set(eu,ed),this.maxSize&&this.size>this.maxSize){let eu=this.keys().next().value;eu&&this.delete(eu)}return this}}},22328:function(eu,ed,eg){"use strict";eg.d(ed,{N7:function(){return e_}});let em=new Map,eb=new Map,ew=0;function e_(eu,ed,eg){let e_=++ew,eE=()=>em.get(eu)||[],eA=()=>{let ed=eE();em.set(eu,ed.filter(eu=>eu.id!==e_))},eS=()=>{let ed=eE();if(!ed.some(eu=>eu.id===e_))return;let eg=eb.get(eu);if(1===ed.length&&eg){let eu=eg();eu instanceof Promise&&eu.catch(()=>{})}eA()},eI=eE();if(em.set(eu,[...eI,{id:e_,fns:ed}]),eI&&eI.length>0)return eS;let eC={};for(let eu in ed)eC[eu]=(...ed)=>{let eg=eE();if(0!==eg.length)for(let em of eg)em.fns[eu]?.(...ed)};let eM=eg(eC);return"function"==typeof eM&&eb.set(eu,eM),eS}},73338:function(eu,ed,eg){"use strict";eg.d(ed,{$:function(){return eb}});var em=eg(16775);function eb(eu,{emitOnBegin:ed,initialWaitTime:eg,interval:eb}){let ew=!0,e_=()=>ew=!1,eE=async()=>{let eE;ed&&(eE=await eu({unpoll:e_}));let eA=await eg?.(eE)??eb;await (0,em.D)(eA);let eS=async()=>{ew&&(await eu({unpoll:e_}),await (0,em.D)(eb),eS())};eS()};return eE(),e_}},5549:function(eu,ed,eg){"use strict";eg.d(ed,{S:function(){return ew}});var em=eg(45032);let eb=new Map;function ew({fn:eu,id:ed,shouldSplitBatch:eg,wait:ew=0,sort:e_}){let eE=async()=>{let ed=eI();eA();let eg=ed.map(({args:eu})=>eu);0!==eg.length&&eu(eg).then(eu=>{e_&&Array.isArray(eu)&&eu.sort(e_);for(let eg=0;eg<ed.length;eg++){let{resolve:em}=ed[eg];em?.([eu[eg],eu])}}).catch(eu=>{for(let eg=0;eg<ed.length;eg++){let{reject:em}=ed[eg];em?.(eu)}})},eA=()=>eb.delete(ed),eS=()=>eI().map(({args:eu})=>eu),eI=()=>eb.get(ed)||[],eC=eu=>eb.set(ed,[...eI(),eu]);return{flush:eA,async schedule(eu){let{promise:ed,resolve:eb,reject:e_}=(0,em.n)(),eA=eg?.([...eS(),eu]);eA&&eE();let eM=eI().length>0;return eM?(eC({args:eu,resolve:eb,reject:e_}),ed):(eC({args:eu,resolve:eb,reject:e_}),setTimeout(eE,ew),ed)}}}},45032:function(eu,ed,eg){"use strict";function em(){let eu=()=>void 0,ed=()=>void 0,eg=new Promise((eg,em)=>{eu=eg,ed=em});return{promise:eg,resolve:eu,reject:ed}}eg.d(ed,{n:function(){return em}})},47162:function(eu,ed,eg){"use strict";eg.d(ed,{J:function(){return eb}});var em=eg(16775);function eb(eu,{delay:ed=100,retryCount:eg=2,shouldRetry:eb=()=>!0}={}){return new Promise((ew,e_)=>{let eE=async({count:eA=0}={})=>{let eS=async({error:eu})=>{let eg="function"==typeof ed?ed({count:eA,error:eu}):ed;eg&&await (0,em.D)(eg),eE({count:eA+1})};try{let ed=await eu();ew(ed)}catch(eu){if(eA<eg&&await eb({count:eA,error:eu}))return eS({error:eu});e_(eu)}};eE()})}},21405:function(eu,ed,eg){"use strict";function em(eu,{errorInstance:ed=Error("timed out"),timeout:eg,signal:em}){return new Promise((eb,ew)=>{(async()=>{let e_;try{let eE=new AbortController;eg>0&&(e_=setTimeout(()=>{em?eE.abort():ew(ed)},eg)),eb(await eu({signal:eE?.signal||null}))}catch(eu){eu?.name==="AbortError"&&ew(ed),ew(eu)}finally{clearTimeout(e_)}})()})}eg.d(ed,{F:function(){return em}})},41382:function(eu,ed,eg){"use strict";eg.d(ed,{eL:function(){return em},lh:function(){return eb}});let em=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,eb=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/},5577:function(eu,ed,eg){"use strict";eg.d(ed,{x:function(){return eE}});var em=eg(66645),eb=eg(21405),ew=eg(13583),e_=eg(74754);function eE(eu,ed={}){return{async request(eg){let{body:eE,onRequest:eA=ed.onRequest,onResponse:eS=ed.onResponse,timeout:eI=ed.timeout??1e4}=eg,eC={...ed.fetchOptions??{},...eg.fetchOptions??{}},{headers:eM,method:eO,signal:eT}=eC;try{let ed;let eg=await (0,eb.F)(async({signal:ed})=>{let eg={...eC,body:Array.isArray(eE)?(0,ew.P)(eE.map(eu=>({jsonrpc:"2.0",id:eu.id??e_.d.take(),...eu}))):(0,ew.P)({jsonrpc:"2.0",id:eE.id??e_.d.take(),...eE}),headers:{"Content-Type":"application/json",...eM},method:eO||"POST",signal:eT||(eI>0?ed:null)},em=new Request(eu,eg),eb=await eA?.(em,eg)??{...eg,url:eu},eS=await fetch(eb.url??eu,eb);return eS},{errorInstance:new em.W5({body:eE,url:eu}),timeout:eI,signal:!0});if(eS&&await eS(eg),eg.headers.get("Content-Type")?.startsWith("application/json"))ed=await eg.json();else{ed=await eg.text();try{ed=JSON.parse(ed||"{}")}catch(eu){if(eg.ok)throw eu;ed={error:ed}}}if(!eg.ok)throw new em.Gg({body:eE,details:(0,ew.P)(ed.error)||eg.statusText,headers:eg.headers,status:eg.status,url:eu});return ed}catch(ed){if(ed instanceof em.Gg||ed instanceof em.W5)throw ed;throw new em.Gg({body:eE,cause:ed,url:eu})}}}}},74754:function(eu,ed,eg){"use strict";function em(){return{current:0,take(){return this.current++},reset(){this.current=0}}}eg.d(ed,{d:function(){return eb}});let eb=em()},88058:function(eu,ed,eg){"use strict";eg.d(ed,{R:function(){return eM}});var em=eg(88518),eb=eg(13170);function ew(eu){let ed=(0,eb.w)(`0x${eu.substring(4)}`).substring(26);return(0,em.x)(`0x${ed}`)}var e_=eg(16463),eE=eg(99532),eA=eg(1491),eS=eg(56940);async function eI({hash:eu,signature:ed}){let em=(0,e_.v)(eu)?eu:(0,eS.NC)(eu),{secp256k1:eb}=await eg.e(4926).then(eg.bind(eg,54926)),ew=(()=>{if("object"==typeof ed&&"r"in ed&&"s"in ed){let{r:eu,s:eg,v:em,yParity:ew}=ed,e_=Number(ew??em),eE=eC(e_);return new eb.Signature((0,eA.y_)(eu),(0,eA.y_)(eg)).addRecoveryBit(eE)}let eu=(0,e_.v)(ed)?ed:(0,eS.NC)(ed);if(65!==(0,eE.d)(eu))throw Error("invalid signature length");let eg=(0,eA.ly)(`0x${eu.slice(130)}`),em=eC(eg);return eb.Signature.fromCompact(eu.substring(2,130)).addRecoveryBit(em)})(),eI=ew.recoverPublicKey(em.substring(2)).toHex(!1);return`0x${eI}`}function eC(eu){if(0===eu||1===eu)return eu;if(27===eu)return 0;if(28===eu)return 1;throw Error("Invalid yParityOrV value")}async function eM({hash:eu,signature:ed}){return ew(await eI({hash:eu,signature:ed}))}},59607:function(eu,ed,eg){"use strict";eg.d(ed,{mF:function(){return eI}});var em=eg(31688),eb=eg(98523),ew=eg(728),e_=eg(95092),eE=eg(56940);function eA(eu){if(eu&&0!==eu.length)return eu.reduce((eu,{slot:ed,value:eg})=>{if(66!==ed.length)throw new eb.W_({size:ed.length,targetSize:66,type:"hex"});if(66!==eg.length)throw new eb.W_({size:eg.length,targetSize:66,type:"hex"});return eu[ed]=eg,eu},{})}function eS(eu){let{balance:ed,nonce:eg,state:em,stateDiff:eb,code:e_}=eu,eS={};if(void 0!==e_&&(eS.code=e_),void 0!==ed&&(eS.balance=(0,eE.eC)(ed)),void 0!==eg&&(eS.nonce=(0,eE.eC)(eg)),void 0!==em&&(eS.state=eA(em)),void 0!==eb){if(eS.state)throw new ew.Z8;eS.stateDiff=eA(eb)}return eS}function eI(eu){if(!eu)return;let ed={};for(let{address:eg,...eb}of eu){if(!(0,e_.U)(eg,{strict:!1}))throw new em.b({address:eg});if(ed[eg])throw new ew.Nc({address:eg});ed[eg]=eS(eb)}return ed}},13583:function(eu,ed,eg){"use strict";eg.d(ed,{P:function(){return em}});let em=(eu,ed,eg)=>JSON.stringify(eu,(eu,eg)=>{let em="bigint"==typeof eg?eg.toString():eg;return"function"==typeof ed?ed(eu,em):em},eg)},86452:function(eu,ed,eg){"use strict";eg.d(ed,{F:function(){return eS}});var em=eg(6405);let eb=2n**256n-1n;var ew=eg(31688),e_=eg(57733),eE=eg(21984),eA=eg(95092);function eS(eu){let{account:ed,gasPrice:eg,maxFeePerGas:eS,maxPriorityFeePerGas:eI,to:eC}=eu,eM=ed?(0,em.T)(ed):void 0;if(eM&&!(0,eA.U)(eM.address))throw new ew.b({address:eM.address});if(eC&&!(0,eA.U)(eC))throw new ew.b({address:eC});if(void 0!==eg&&(void 0!==eS||void 0!==eI))throw new eE.xY;if(eS&&eS>eb)throw new e_.Hh({maxFeePerGas:eS});if(eI&&eS&&eI>eS)throw new e_.cs({maxFeePerGas:eS,maxPriorityFeePerGas:eI})}},61293:function(eu,ed,eg){"use strict";let em;eg.d(ed,{h:function(){return e_}});let eb=256,ew=eb;function e_(eu=11){if(!em||ew+eu>2*eb){em="",ew=0;for(let eu=0;eu<eb;eu++)em+=(256+256*Math.random()|0).toString(16).substring(1)}return em.substring(ew,ew+++eu)}},72942:function(eu,ed,eg){"use strict";eg.d(ed,{d:function(){return ew}});var em=eg(30628),eb=eg(92083);function ew(eu,ed="wei"){return(0,eb.b)(eu,em.ez[ed])}},14712:function(eu,ed,eg){"use strict";eg.d(ed,{o:function(){return ew}});var em=eg(30628),eb=eg(92083);function ew(eu,ed="wei"){return(0,eb.b)(eu,em.Zn[ed])}},92083:function(eu,ed,eg){"use strict";function em(eu,ed){let eg=eu.toString(),em=eg.startsWith("-");em&&(eg=eg.slice(1));let[eb,ew]=[(eg=eg.padStart(ed,"0")).slice(0,eg.length-ed),eg.slice(eg.length-ed)];return ew=ew.replace(/(0+)$/,""),`${em?"-":""}${eb||"0"}${ew?`.${ew}`:""}`}eg.d(ed,{b:function(){return em}})},16775:function(eu,ed,eg){"use strict";async function em(eu){return new Promise(ed=>setTimeout(ed,eu))}eg.d(ed,{D:function(){return em}})},33234:function(eu,ed,eg){"use strict";eg.d(ed,{JQ:function(){return eM}});var em=eg(84117);function eb(eu,ed,eg,em){if("function"==typeof eu.setBigUint64)return eu.setBigUint64(ed,eg,em);let eb=BigInt(32),ew=BigInt(4294967295),e_=Number(eg>>eb&ew),eE=Number(eg&ew),eA=em?4:0,eS=em?0:4;eu.setUint32(ed+eA,e_,em),eu.setUint32(ed+eS,eE,em)}function ew(eu,ed,eg){return eu&ed^~eu&eg}function e_(eu,ed,eg){return eu&ed^eu&eg^ed&eg}class eE extends em.kb{constructor(eu,ed,eg,eb){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=eu,this.outputLen=ed,this.padOffset=eg,this.isLE=eb,this.buffer=new Uint8Array(eu),this.view=(0,em.GL)(this.buffer)}update(eu){(0,em.$h)(this),eu=(0,em.O0)(eu),(0,em.gk)(eu);let{view:ed,buffer:eg,blockLen:eb}=this,ew=eu.length;for(let e_=0;e_<ew;){let eE=Math.min(eb-this.pos,ew-e_);if(eE===eb){let ed=(0,em.GL)(eu);for(;eb<=ew-e_;e_+=eb)this.process(ed,e_);continue}eg.set(eu.subarray(e_,e_+eE),this.pos),this.pos+=eE,e_+=eE,this.pos===eb&&(this.process(ed,0),this.pos=0)}return this.length+=eu.length,this.roundClean(),this}digestInto(eu){(0,em.$h)(this),(0,em.eB)(eu,this),this.finished=!0;let{buffer:ed,view:eg,blockLen:ew,isLE:e_}=this,{pos:eE}=this;ed[eE++]=128,(0,em.ru)(this.buffer.subarray(eE)),this.padOffset>ew-eE&&(this.process(eg,0),eE=0);for(let eu=eE;eu<ew;eu++)ed[eu]=0;eb(eg,ew-8,BigInt(8*this.length),e_),this.process(eg,0);let eA=(0,em.GL)(eu),eS=this.outputLen;if(eS%4)throw Error("_sha2: outputLen should be aligned to 32bit");let eI=eS/4,eC=this.get();if(eI>eC.length)throw Error("_sha2: outputLen bigger than state");for(let eu=0;eu<eI;eu++)eA.setUint32(4*eu,eC[eu],e_)}digest(){let{buffer:eu,outputLen:ed}=this;this.digestInto(eu);let eg=eu.slice(0,ed);return this.destroy(),eg}_cloneInto(eu){eu||(eu=new this.constructor),eu.set(...this.get());let{blockLen:ed,buffer:eg,length:em,finished:eb,destroyed:ew,pos:e_}=this;return eu.destroyed=ew,eu.finished=eb,eu.length=em,eu.pos=e_,em%ed&&eu.buffer.set(eg),eu}clone(){return this._cloneInto()}}let eA=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),eS=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),eI=new Uint32Array(64);class eC extends eE{constructor(eu=32){super(64,eu,8,!1),this.A=0|eA[0],this.B=0|eA[1],this.C=0|eA[2],this.D=0|eA[3],this.E=0|eA[4],this.F=0|eA[5],this.G=0|eA[6],this.H=0|eA[7]}get(){let{A:eu,B:ed,C:eg,D:em,E:eb,F:ew,G:e_,H:eE}=this;return[eu,ed,eg,em,eb,ew,e_,eE]}set(eu,ed,eg,em,eb,ew,e_,eE){this.A=0|eu,this.B=0|ed,this.C=0|eg,this.D=0|em,this.E=0|eb,this.F=0|ew,this.G=0|e_,this.H=0|eE}process(eu,ed){for(let eg=0;eg<16;eg++,ed+=4)eI[eg]=eu.getUint32(ed,!1);for(let eu=16;eu<64;eu++){let ed=eI[eu-15],eg=eI[eu-2],eb=(0,em.np)(ed,7)^(0,em.np)(ed,18)^ed>>>3,ew=(0,em.np)(eg,17)^(0,em.np)(eg,19)^eg>>>10;eI[eu]=ew+eI[eu-7]+eb+eI[eu-16]|0}let{A:eg,B:eb,C:eE,D:eA,E:eC,F:eM,G:eO,H:eT}=this;for(let eu=0;eu<64;eu++){let ed=(0,em.np)(eC,6)^(0,em.np)(eC,11)^(0,em.np)(eC,25),eP=eT+ed+ew(eC,eM,eO)+eS[eu]+eI[eu]|0,eN=(0,em.np)(eg,2)^(0,em.np)(eg,13)^(0,em.np)(eg,22),ek=eN+e_(eg,eb,eE)|0;eT=eO,eO=eM,eM=eC,eC=eA+eP|0,eA=eE,eE=eb,eb=eg,eg=eP+ek|0}eg=eg+this.A|0,eb=eb+this.B|0,eE=eE+this.C|0,eA=eA+this.D|0,eC=eC+this.E|0,eM=eM+this.F|0,eO=eO+this.G|0,eT=eT+this.H|0,this.set(eg,eb,eE,eA,eC,eM,eO,eT)}roundClean(){(0,em.ru)(eI)}destroy(){this.set(0,0,0,0,0,0,0,0),(0,em.ru)(this.buffer)}}new Uint32Array(80),new Uint32Array(80);let eM=(0,em.V1)(()=>new eC)},78831:function(eu,ed,eg){"use strict";eg.d(ed,{fr:function(){return eG}});let em=BigInt(4294967296-1),eb=BigInt(32);function ew(eu,ed=!1){return ed?{h:Number(eu&em),l:Number(eu>>eb&em)}:{h:0|Number(eu>>eb&em),l:0|Number(eu&em)}}function e_(eu,ed=!1){let eg=eu.length,em=new Uint32Array(eg),eb=new Uint32Array(eg);for(let e_=0;e_<eg;e_++){let{h:eg,l:eE}=ew(eu[e_],ed);[em[e_],eb[e_]]=[eg,eE]}return[em,eb]}let eE=(eu,ed,eg)=>eu<<eg|ed>>>32-eg,eA=(eu,ed,eg)=>ed<<eg|eu>>>32-eg,eS=(eu,ed,eg)=>ed<<eg-32|eu>>>64-eg,eI=(eu,ed,eg)=>eu<<eg-32|ed>>>64-eg;var eC=eg(84117);let eM=BigInt(0),eO=BigInt(1),eT=BigInt(2),eP=BigInt(7),eN=BigInt(256),ek=BigInt(113),eR=[],eD=[],eB=[];for(let eu=0,ed=eO,eg=1,em=0;eu<24;eu++){[eg,em]=[em,(2*eg+3*em)%5],eR.push(2*(5*em+eg)),eD.push((eu+1)*(eu+2)/2%64);let eb=eM;for(let eu=0;eu<7;eu++)(ed=(ed<<eO^(ed>>eP)*ek)%eN)&eT&&(eb^=eO<<(eO<<BigInt(eu))-eO);eB.push(eb)}let eU=e_(eB,!0),eL=eU[0],ej=eU[1],eF=(eu,ed,eg)=>eg>32?eS(eu,ed,eg):eE(eu,ed,eg),e$=(eu,ed,eg)=>eg>32?eI(eu,ed,eg):eA(eu,ed,eg);function eK(eu,ed=24){let eg=new Uint32Array(10);for(let em=24-ed;em<24;em++){for(let ed=0;ed<10;ed++)eg[ed]=eu[ed]^eu[ed+10]^eu[ed+20]^eu[ed+30]^eu[ed+40];for(let ed=0;ed<10;ed+=2){let em=(ed+8)%10,eb=(ed+2)%10,ew=eg[eb],e_=eg[eb+1],eE=eF(ew,e_,1)^eg[em],eA=e$(ew,e_,1)^eg[em+1];for(let eg=0;eg<50;eg+=10)eu[ed+eg]^=eE,eu[ed+eg+1]^=eA}let ed=eu[2],eb=eu[3];for(let eg=0;eg<24;eg++){let em=eD[eg],ew=eF(ed,eb,em),e_=e$(ed,eb,em),eE=eR[eg];ed=eu[eE],eb=eu[eE+1],eu[eE]=ew,eu[eE+1]=e_}for(let ed=0;ed<50;ed+=10){for(let em=0;em<10;em++)eg[em]=eu[ed+em];for(let em=0;em<10;em++)eu[ed+em]^=~eg[(em+2)%10]&eg[(em+4)%10]}eu[0]^=eL[em],eu[1]^=ej[em]}(0,eC.ru)(eg)}class eH extends eC.kb{constructor(eu,ed,eg,em=!1,eb=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=eu,this.suffix=ed,this.outputLen=eg,this.enableXOF=em,this.rounds=eb,(0,eC.k8)(eg),!(0<eu&&eu<200))throw Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=(0,eC.Jq)(this.state)}clone(){return this._cloneInto()}keccak(){(0,eC.Ux)(this.state32),eK(this.state32,this.rounds),(0,eC.Ux)(this.state32),this.posOut=0,this.pos=0}update(eu){(0,eC.$h)(this),eu=(0,eC.O0)(eu),(0,eC.gk)(eu);let{blockLen:ed,state:eg}=this,em=eu.length;for(let eb=0;eb<em;){let ew=Math.min(ed-this.pos,em-eb);for(let ed=0;ed<ew;ed++)eg[this.pos++]^=eu[eb++];this.pos===ed&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:eu,suffix:ed,pos:eg,blockLen:em}=this;eu[eg]^=ed,(128&ed)!=0&&eg===em-1&&this.keccak(),eu[em-1]^=128,this.keccak()}writeInto(eu){(0,eC.$h)(this,!1),(0,eC.gk)(eu),this.finish();let ed=this.state,{blockLen:eg}=this;for(let em=0,eb=eu.length;em<eb;){this.posOut>=eg&&this.keccak();let ew=Math.min(eg-this.posOut,eb-em);eu.set(ed.subarray(this.posOut,this.posOut+ew),em),this.posOut+=ew,em+=ew}return eu}xofInto(eu){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(eu)}xof(eu){return(0,eC.k8)(eu),this.xofInto(new Uint8Array(eu))}digestInto(eu){if((0,eC.eB)(eu,this),this.finished)throw Error("digest() was already called");return this.writeInto(eu),this.destroy(),eu}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,(0,eC.ru)(this.state)}_cloneInto(eu){let{blockLen:ed,suffix:eg,outputLen:em,rounds:eb,enableXOF:ew}=this;return eu||(eu=new eH(ed,eg,em,ew,eb)),eu.state32.set(this.state32),eu.pos=this.pos,eu.posOut=this.posOut,eu.finished=this.finished,eu.rounds=eb,eu.suffix=eg,eu.outputLen=em,eu.enableXOF=ew,eu.destroyed=this.destroyed,eu}}let eV=(eu,ed,eg)=>(0,eC.V1)(()=>new eH(ed,eu,eg)),eG=eV(1,136,32)},84117:function(eu,ed,eg){"use strict";eg.d(ed,{kb:function(){return eH},gk:function(){return e_},$h:function(){return eA},z3:function(){return eE},k8:function(){return ew},eB:function(){return eS},ci:function(){return eB},ru:function(){return eC},eV:function(){return eK},V1:function(){return eV},GL:function(){return eM},nr:function(){return ej},_t:function(){return eb},O6:function(){return eG},np:function(){return eO},Ux:function(){return ek},O0:function(){return e$},Jq:function(){return eI},iY:function(){return eF}});let em="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function eb(eu){return eu instanceof Uint8Array||ArrayBuffer.isView(eu)&&"Uint8Array"===eu.constructor.name}function ew(eu){if(!Number.isSafeInteger(eu)||eu<0)throw Error("positive integer expected, got "+eu)}function e_(eu,...ed){if(!eb(eu))throw Error("Uint8Array expected");if(ed.length>0&&!ed.includes(eu.length))throw Error("Uint8Array expected of length "+ed+", got length="+eu.length)}function eE(eu){if("function"!=typeof eu||"function"!=typeof eu.create)throw Error("Hash should be wrapped by utils.createHasher");ew(eu.outputLen),ew(eu.blockLen)}function eA(eu,ed=!0){if(eu.destroyed)throw Error("Hash instance has been destroyed");if(ed&&eu.finished)throw Error("Hash#digest() has already been called")}function eS(eu,ed){e_(eu);let eg=ed.outputLen;if(eu.length<eg)throw Error("digestInto() expects output buffer of length at least "+eg)}function eI(eu){return new Uint32Array(eu.buffer,eu.byteOffset,Math.floor(eu.byteLength/4))}function eC(...eu){for(let ed=0;ed<eu.length;ed++)eu[ed].fill(0)}function eM(eu){return new DataView(eu.buffer,eu.byteOffset,eu.byteLength)}function eO(eu,ed){return eu<<32-ed|eu>>>ed}let eT=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0];function eP(eu){return eu<<24&4278190080|eu<<8&16711680|eu>>>8&65280|eu>>>24&255}function eN(eu){for(let ed=0;ed<eu.length;ed++)eu[ed]=eP(eu[ed]);return eu}let ek=eT?eu=>eu:eN,eR="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,eD=Array.from({length:256},(eu,ed)=>ed.toString(16).padStart(2,"0"));function eB(eu){if(e_(eu),eR)return eu.toHex();let ed="";for(let eg=0;eg<eu.length;eg++)ed+=eD[eu[eg]];return ed}let eU={_0:48,_9:57,A:65,F:70,a:97,f:102};function eL(eu){return eu>=eU._0&&eu<=eU._9?eu-eU._0:eu>=eU.A&&eu<=eU.F?eu-(eU.A-10):eu>=eU.a&&eu<=eU.f?eu-(eU.a-10):void 0}function ej(eu){if("string"!=typeof eu)throw Error("hex string expected, got "+typeof eu);if(eR)return Uint8Array.fromHex(eu);let ed=eu.length,eg=ed/2;if(ed%2)throw Error("hex string expected, got unpadded hex of length "+ed);let em=new Uint8Array(eg);for(let ed=0,eb=0;ed<eg;ed++,eb+=2){let eg=eL(eu.charCodeAt(eb)),ew=eL(eu.charCodeAt(eb+1));if(void 0===eg||void 0===ew){let ed=eu[eb]+eu[eb+1];throw Error('hex string expected, got non-hex character "'+ed+'" at index '+eb)}em[ed]=16*eg+ew}return em}function eF(eu){if("string"!=typeof eu)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(eu))}function e$(eu){return"string"==typeof eu&&(eu=eF(eu)),e_(eu),eu}function eK(...eu){let ed=0;for(let eg=0;eg<eu.length;eg++){let em=eu[eg];e_(em),ed+=em.length}let eg=new Uint8Array(ed);for(let ed=0,em=0;ed<eu.length;ed++){let eb=eu[ed];eg.set(eb,em),em+=eb.length}return eg}class eH{}function eV(eu){let ed=ed=>eu().update(e$(ed)).digest(),eg=eu();return ed.outputLen=eg.outputLen,ed.blockLen=eg.blockLen,ed.create=()=>eu(),ed}function eG(eu=32){if(em&&"function"==typeof em.getRandomValues)return em.getRandomValues(new Uint8Array(eu));if(em&&"function"==typeof em.randomBytes)return Uint8Array.from(em.randomBytes(eu));throw Error("crypto.getRandomValues must be defined")}},45781:function(eu,ed,eg){"use strict";eg.d(ed,{o:function(){return ew}});var em=eg(36309);function eb(eu){return{address:eu.address,amount:em.xS(eu.amount),index:em.xS(eu.index),validatorIndex:em.xS(eu.validatorIndex)}}function ew(eu){return{..."bigint"==typeof eu.baseFeePerGas&&{baseFeePerGas:em.xS(eu.baseFeePerGas)},..."bigint"==typeof eu.blobBaseFee&&{blobBaseFee:em.xS(eu.blobBaseFee)},..."string"==typeof eu.feeRecipient&&{feeRecipient:eu.feeRecipient},..."bigint"==typeof eu.gasLimit&&{gasLimit:em.xS(eu.gasLimit)},..."bigint"==typeof eu.number&&{number:em.xS(eu.number)},..."bigint"==typeof eu.prevRandao&&{prevRandao:em.xS(eu.prevRandao)},..."bigint"==typeof eu.time&&{time:em.xS(eu.time)},...eu.withdrawals&&{withdrawals:eu.withdrawals.map(eb)}}}},81568:function(eu,ed,eg){"use strict";eg.d(ed,{G:function(){return ew}});let em="0.1.1";function eb(){return em}class ew extends Error{constructor(eu,ed={}){let eg=(()=>{if(ed.cause instanceof ew){if(ed.cause.details)return ed.cause.details;if(ed.cause.shortMessage)return ed.cause.shortMessage}return ed.cause&&"details"in ed.cause&&"string"==typeof ed.cause.details?ed.cause.details:ed.cause?.message?ed.cause.message:ed.details})(),em=ed.cause instanceof ew&&ed.cause.docsPath||ed.docsPath,e_="https://oxlib.sh",eE=`${e_}${em??""}`,eA=[eu||"An error occurred.",...ed.metaMessages?["",...ed.metaMessages]:[],...eg||em?["",eg?`Details: ${eg}`:void 0,em?`See: ${eE}`:void 0]:[]].filter(eu=>"string"==typeof eu).join("\n");super(eA,ed.cause?{cause:ed.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${eb()}`}),this.cause=ed.cause,this.details=eg,this.docs=eE,this.docsPath=em,this.shortMessage=eu}walk(eu){return e_(this,eu)}}function e_(eu,ed){return ed?.(eu)?eu:eu&&"object"==typeof eu&&"cause"in eu&&eu.cause?e_(eu.cause,ed):ed?null:eu}},36309:function(eu,ed,eg){"use strict";eg.d(ed,{J5:function(){return eB},$s:function(){return e$},M6:function(){return ej},mV:function(){return eF},zo:function(){return eI},O3:function(){return eC},xv:function(){return eM},xS:function(){return eO},mL:function(){return eT},Q_:function(){return eP},eh:function(){return eN},dp:function(){return eR},tP:function(){return ek},Gu:function(){return eD}});var em=eg(81568);let eb="#__bigint";function ew(eu,ed,eg){return JSON.stringify(eu,(eu,eg)=>"function"==typeof ed?ed(eu,eg):"bigint"==typeof eg?eg.toString()+eb:eg,eg)}var e_=eg(27860);let eE=new TextEncoder,eA=Array.from({length:256},(eu,ed)=>ed.toString(16).padStart(2,"0"));function eS(eu,ed={}){let{strict:eg=!1}=ed;if(!eu||"string"!=typeof eu)throw new eU(eu);if(eg&&!/^0x[0-9a-fA-F]*$/.test(eu)||!eu.startsWith("0x"))throw new eL(eu)}function eI(...eu){return`0x${eu.reduce((eu,ed)=>eu+ed.replace("0x",""),"")}`}function eC(eu,ed={}){let eg=`0x${Number(eu)}`;return"number"==typeof ed.size?(e_.Yf(eg,ed.size),eP(eg,ed.size)):eg}function eM(eu,ed={}){let eg="";for(let ed=0;ed<eu.length;ed++)eg+=eA[eu[ed]];let em=`0x${eg}`;return"number"==typeof ed.size?(e_.Yf(em,ed.size),eN(em,ed.size)):em}function eO(eu,ed={}){let eg;let{signed:em,size:eb}=ed,ew=BigInt(eu);eb?eg=em?(1n<<8n*BigInt(eb)-1n)-1n:2n**(8n*BigInt(eb))-1n:"number"==typeof eu&&(eg=BigInt(Number.MAX_SAFE_INTEGER));let e_="bigint"==typeof eg&&em?-eg-1n:0;if(eg&&ew>eg||ew<e_){let ed="bigint"==typeof eu?"n":"";throw new eB({max:eg?`${eg}${ed}`:void 0,min:`${e_}${ed}`,signed:em,size:eb,value:`${eu}${ed}`})}let eE=(em&&ew<0?(1n<<BigInt(8*eb))+BigInt(ew):ew).toString(16),eA=`0x${eE}`;return eb?eP(eA,eb):eA}function eT(eu,ed={}){return eM(eE.encode(eu),ed)}function eP(eu,ed){return e_.vk(eu,{dir:"left",size:ed})}function eN(eu,ed){return e_.vk(eu,{dir:"right",size:ed})}function ek(eu,ed,eg,em={}){let{strict:eb}=em;e_.EM(eu,ed);let ew=`0x${eu.replace("0x","").slice((ed??0)*2,(eg??eu.length)*2)}`;return eb&&e_.Ro(ew,ed,eg),ew}function eR(eu){return Math.ceil((eu.length-2)/2)}function eD(eu,ed={}){let{strict:eg=!1}=ed;try{return eS(eu,{strict:eg}),!0}catch{return!1}}class eB extends em.G{constructor({max:eu,min:ed,signed:eg,size:em,value:eb}){super(`Number \`${eb}\` is not in safe${em?` ${8*em}-bit`:""}${eg?" signed":" unsigned"} integer range ${eu?`(\`${ed}\` to \`${eu}\`)`:`(above \`${ed}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class eU extends em.G{constructor(eu){super(`Value \`${"object"==typeof eu?ew(eu):eu}\` of type \`${typeof eu}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class eL extends em.G{constructor(eu){super(`Value \`${eu}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class ej extends em.G{constructor({givenSize:eu,maxSize:ed}){super(`Size cannot exceed \`${ed}\` bytes. Given size: \`${eu}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class eF extends em.G{constructor({offset:eu,position:ed,size:eg}){super(`Slice ${"start"===ed?"starting":"ending"} at offset \`${eu}\` is out-of-bounds (size: \`${eg}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class e$ extends em.G{constructor({size:eu,targetSize:ed,type:eg}){super(`${eg.charAt(0).toUpperCase()}${eg.slice(1).toLowerCase()} size (\`${eu}\`) exceeds padding size (\`${ed}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}},27860:function(eu,ed,eg){"use strict";eg.d(ed,{EM:function(){return ew},Ro:function(){return e_},Yf:function(){return eb},vk:function(){return eE}});var em=eg(36309);function eb(eu,ed){if(em.dp(eu)>ed)throw new em.M6({givenSize:em.dp(eu),maxSize:ed})}function ew(eu,ed){if("number"==typeof ed&&ed>0&&ed>em.dp(eu)-1)throw new em.mV({offset:ed,position:"start",size:em.dp(eu)})}function e_(eu,ed,eg){if("number"==typeof ed&&"number"==typeof eg&&em.dp(eu)!==eg-ed)throw new em.mV({offset:eg,position:"end",size:em.dp(eu)})}function eE(eu,ed={}){let{dir:eg,size:eb=32}=ed;if(0===eb)return eu;let ew=eu.replace("0x","");if(ew.length>2*eb)throw new em.$s({size:Math.ceil(ew.length/2),targetSize:eb,type:"Hex"});return`0x${ew["right"===eg?"padEnd":"padStart"](2*eb,"0")}`}},83973:function(eu){"use strict";eu.exports=JSON.parse('{"GasLimitExceeded":"Exceeded the maximum amount of gas allowed to burn per contract","MethodEmptyName":"Method name is empty","WasmerCompileError":"Wasmer compilation error: {{msg}}","GuestPanic":"Smart contract panicked: {{panic_msg}}","Memory":"Error creating Wasm memory","GasExceeded":"Exceeded the prepaid gas","MethodUTF8Error":"Method name is not valid UTF8 string","BadUTF16":"String encoding is bad UTF-16 sequence","WasmTrap":"WebAssembly trap: {{msg}}","GasInstrumentation":"Gas instrumentation failed or contract has denied instructions.","InvalidPromiseIndex":"{{promise_idx}} does not correspond to existing promises","InvalidPromiseResultIndex":"Accessed invalid promise result index: {{result_idx}}","Deserialization":"Error happened while deserializing the module","MethodNotFound":"Contract method is not found","InvalidRegisterId":"Accessed invalid register id: {{register_id}}","InvalidReceiptIndex":"VM Logic returned an invalid receipt index: {{receipt_index}}","EmptyMethodName":"Method name is empty in contract call","CannotReturnJointPromise":"Returning joint promise is currently prohibited","StackHeightInstrumentation":"Stack instrumentation failed","CodeDoesNotExist":"Cannot find contract code for account {{account_id}}","MethodInvalidSignature":"Invalid method signature","IntegerOverflow":"Integer overflow happened during contract execution","MemoryAccessViolation":"MemoryAccessViolation","InvalidIteratorIndex":"Iterator index {{iterator_index}} does not exist","IteratorWasInvalidated":"Iterator {{iterator_index}} was invalidated after its creation by performing a mutable operation on trie","InvalidAccountId":"VM Logic returned an invalid account id","Serialization":"Error happened while serializing the module","CannotAppendActionToJointPromise":"Actions can only be appended to non-joint promise.","InternalMemoryDeclared":"Internal memory declaration has been found in the module","Instantiate":"Error happened during instantiation","ProhibitedInView":"{{method_name}} is not allowed in view calls","InvalidMethodName":"VM Logic returned an invalid method name","BadUTF8":"String encoding is bad UTF-8 sequence","BalanceExceeded":"Exceeded the account balance","LinkError":"Wasm contract link error: {{msg}}","InvalidPublicKey":"VM Logic provided an invalid public key","ActorNoPermission":"Actor {{actor_id}} doesn\'t have permission to account {{account_id}} to complete the action","LackBalanceForState":"The account {{account_id}} wouldn\'t have enough balance to cover storage, required to have {{amount}} yoctoNEAR more","ReceiverMismatch":"Wrong AccessKey used for transaction: transaction is sent to receiver_id={{tx_receiver}}, but is signed with function call access key that restricted to only use with receiver_id={{ak_receiver}}. Either change receiver_id in your transaction or switch to use a FullAccessKey.","CostOverflow":"Transaction gas or balance cost is too high","InvalidSignature":"Transaction is not signed with the given public key","AccessKeyNotFound":"Signer \\"{{account_id}}\\" doesn\'t have access key with the given public_key {{public_key}}","NotEnoughBalance":"Sender {{signer_id}} does not have enough balance {{#formatNear}}{{balance}}{{/formatNear}} for operation costing {{#formatNear}}{{cost}}{{/formatNear}}","NotEnoughAllowance":"Access Key {account_id}:{public_key} does not have enough balance {{#formatNear}}{{allowance}}{{/formatNear}} for transaction costing {{#formatNear}}{{cost}}{{/formatNear}}","Expired":"Transaction has expired","DeleteAccountStaking":"Account {{account_id}} is staking and can not be deleted","SignerDoesNotExist":"Signer {{signer_id}} does not exist","TriesToStake":"Account {{account_id}} tried to stake {{#formatNear}}{{stake}}{{/formatNear}}, but has staked {{#formatNear}}{{locked}}{{/formatNear}} and only has {{#formatNear}}{{balance}}{{/formatNear}}","AddKeyAlreadyExists":"The public key {{public_key}} is already used for an existing access key","InvalidSigner":"Invalid signer account ID {{signer_id}} according to requirements","CreateAccountNotAllowed":"The new account_id {{account_id}} can\'t be created by {{predecessor_id}}","RequiresFullAccess":"The transaction contains more then one action, but it was signed with an access key which allows transaction to apply only one specific action. To apply more then one actions TX must be signed with a full access key","TriesToUnstake":"Account {{account_id}} is not yet staked, but tried to unstake","InvalidNonce":"Transaction nonce {{tx_nonce}} must be larger than nonce of the used access key {{ak_nonce}}","AccountAlreadyExists":"Can\'t create a new account {{account_id}}, because it already exists","InvalidChain":"Transaction parent block hash doesn\'t belong to the current chain","AccountDoesNotExist":"Can\'t complete the action because account {{account_id}} doesn\'t exist","AccessKeyDoesNotExist":"Can\'t complete the action because access key {{public_key}} doesn\'t exist","MethodNameMismatch":"Transaction method name {{method_name}} isn\'t allowed by the access key","DeleteAccountHasRent":"Account {{account_id}} can\'t be deleted. It has {{#formatNear}}{{balance}}{{/formatNear}}, which is enough to cover the rent","DeleteAccountHasEnoughBalance":"Account {{account_id}} can\'t be deleted. It has {{#formatNear}}{{balance}}{{/formatNear}}, which is enough to cover it\'s storage","InvalidReceiver":"Invalid receiver account ID {{receiver_id}} according to requirements","DeleteKeyDoesNotExist":"Account {{account_id}} tries to remove an access key that doesn\'t exist","Timeout":"Timeout exceeded","Closed":"Connection closed","ShardCongested":"Shard {{shard_id}} rejected the transaction due to congestion level {{congestion_level}}, try again later","ShardStuck":"Shard {{shard_id}} rejected the transaction because it missed {{missed_chunks}} chunks and needs to recover before accepting new transactions, try again later"}')},64763:function(eu){"use strict";eu.exports=JSON.parse('{"schema":{"AccessKeyNotFound":{"name":"AccessKeyNotFound","subtypes":[],"props":{"account_id":"","public_key":""}},"AccountAlreadyExists":{"name":"AccountAlreadyExists","subtypes":[],"props":{"account_id":""}},"AccountDoesNotExist":{"name":"AccountDoesNotExist","subtypes":[],"props":{"account_id":""}},"ActionError":{"name":"ActionError","subtypes":["AccountAlreadyExists","AccountDoesNotExist","CreateAccountOnlyByRegistrar","CreateAccountNotAllowed","ActorNoPermission","DeleteKeyDoesNotExist","AddKeyAlreadyExists","DeleteAccountStaking","LackBalanceForState","TriesToUnstake","TriesToStake","InsufficientStake","FunctionCallError","NewReceiptValidationError","OnlyImplicitAccountCreationAllowed","DeleteAccountWithLargeState","DelegateActionInvalidSignature","DelegateActionSenderDoesNotMatchTxReceiver","DelegateActionExpired","DelegateActionAccessKeyError","DelegateActionInvalidNonce","DelegateActionNonceTooLarge"],"props":{"index":""}},"ActionsValidationError":{"name":"ActionsValidationError","subtypes":["DeleteActionMustBeFinal","TotalPrepaidGasExceeded","TotalNumberOfActionsExceeded","AddKeyMethodNamesNumberOfBytesExceeded","AddKeyMethodNameLengthExceeded","IntegerOverflow","InvalidAccountId","ContractSizeExceeded","FunctionCallMethodNameLengthExceeded","FunctionCallArgumentsLengthExceeded","UnsuitableStakingKey","FunctionCallZeroAttachedGas","DelegateActionMustBeOnlyOne","UnsupportedProtocolFeature"],"props":{}},"ActorNoPermission":{"name":"ActorNoPermission","subtypes":[],"props":{"account_id":"","actor_id":""}},"AddKeyAlreadyExists":{"name":"AddKeyAlreadyExists","subtypes":[],"props":{"account_id":"","public_key":""}},"AddKeyMethodNameLengthExceeded":{"name":"AddKeyMethodNameLengthExceeded","subtypes":[],"props":{"length":"","limit":""}},"AddKeyMethodNamesNumberOfBytesExceeded":{"name":"AddKeyMethodNamesNumberOfBytesExceeded","subtypes":[],"props":{"limit":"","total_number_of_bytes":""}},"AltBn128InvalidInput":{"name":"AltBn128InvalidInput","subtypes":[],"props":{"msg":""}},"BadUTF16":{"name":"BadUTF16","subtypes":[],"props":{}},"BadUTF8":{"name":"BadUTF8","subtypes":[],"props":{}},"BalanceExceeded":{"name":"BalanceExceeded","subtypes":[],"props":{}},"BalanceMismatchError":{"name":"BalanceMismatchError","subtypes":[],"props":{"final_accounts_balance":"","final_postponed_receipts_balance":"","forwarded_buffered_receipts_balance":"","incoming_receipts_balance":"","incoming_validator_rewards":"","initial_accounts_balance":"","initial_postponed_receipts_balance":"","new_buffered_receipts_balance":"","new_delayed_receipts_balance":"","other_burnt_amount":"","outgoing_receipts_balance":"","processed_delayed_receipts_balance":"","slashed_burnt_amount":"","tx_burnt_amount":""}},"CallIndirectOOB":{"name":"CallIndirectOOB","subtypes":[],"props":{}},"CannotAppendActionToJointPromise":{"name":"CannotAppendActionToJointPromise","subtypes":[],"props":{}},"CannotReturnJointPromise":{"name":"CannotReturnJointPromise","subtypes":[],"props":{}},"CodeDoesNotExist":{"name":"CodeDoesNotExist","subtypes":[],"props":{"account_id":""}},"CompilationError":{"name":"CompilationError","subtypes":["CodeDoesNotExist","PrepareError","WasmerCompileError"],"props":{}},"ContractSizeExceeded":{"name":"ContractSizeExceeded","subtypes":[],"props":{"limit":"","size":""}},"CostOverflow":{"name":"CostOverflow","subtypes":[],"props":{}},"CreateAccountNotAllowed":{"name":"CreateAccountNotAllowed","subtypes":[],"props":{"account_id":"","predecessor_id":""}},"CreateAccountOnlyByRegistrar":{"name":"CreateAccountOnlyByRegistrar","subtypes":[],"props":{"account_id":"","predecessor_id":"","registrar_account_id":""}},"DelegateActionExpired":{"name":"DelegateActionExpired","subtypes":[],"props":{}},"DelegateActionInvalidNonce":{"name":"DelegateActionInvalidNonce","subtypes":[],"props":{"ak_nonce":"","delegate_nonce":""}},"DelegateActionInvalidSignature":{"name":"DelegateActionInvalidSignature","subtypes":[],"props":{}},"DelegateActionMustBeOnlyOne":{"name":"DelegateActionMustBeOnlyOne","subtypes":[],"props":{}},"DelegateActionNonceTooLarge":{"name":"DelegateActionNonceTooLarge","subtypes":[],"props":{"delegate_nonce":"","upper_bound":""}},"DelegateActionSenderDoesNotMatchTxReceiver":{"name":"DelegateActionSenderDoesNotMatchTxReceiver","subtypes":[],"props":{"receiver_id":"","sender_id":""}},"DeleteAccountStaking":{"name":"DeleteAccountStaking","subtypes":[],"props":{"account_id":""}},"DeleteAccountWithLargeState":{"name":"DeleteAccountWithLargeState","subtypes":[],"props":{"account_id":""}},"DeleteActionMustBeFinal":{"name":"DeleteActionMustBeFinal","subtypes":[],"props":{}},"DeleteKeyDoesNotExist":{"name":"DeleteKeyDoesNotExist","subtypes":[],"props":{"account_id":"","public_key":""}},"DepositWithFunctionCall":{"name":"DepositWithFunctionCall","subtypes":[],"props":{}},"Deprecated":{"name":"Deprecated","subtypes":[],"props":{"method_name":""}},"Deserialization":{"name":"Deserialization","subtypes":[],"props":{}},"ECRecoverError":{"name":"ECRecoverError","subtypes":[],"props":{"msg":""}},"Ed25519VerifyInvalidInput":{"name":"Ed25519VerifyInvalidInput","subtypes":[],"props":{"msg":""}},"EmptyMethodName":{"name":"EmptyMethodName","subtypes":[],"props":{}},"Expired":{"name":"Expired","subtypes":[],"props":{}},"FunctionCallArgumentsLengthExceeded":{"name":"FunctionCallArgumentsLengthExceeded","subtypes":[],"props":{"length":"","limit":""}},"FunctionCallMethodNameLengthExceeded":{"name":"FunctionCallMethodNameLengthExceeded","subtypes":[],"props":{"length":"","limit":""}},"FunctionCallZeroAttachedGas":{"name":"FunctionCallZeroAttachedGas","subtypes":[],"props":{}},"GasExceeded":{"name":"GasExceeded","subtypes":[],"props":{}},"GasInstrumentation":{"name":"GasInstrumentation","subtypes":[],"props":{}},"GasLimitExceeded":{"name":"GasLimitExceeded","subtypes":[],"props":{}},"GenericTrap":{"name":"GenericTrap","subtypes":[],"props":{}},"GuestPanic":{"name":"GuestPanic","subtypes":[],"props":{"panic_msg":""}},"HostError":{"name":"HostError","subtypes":["BadUTF16","BadUTF8","GasExceeded","GasLimitExceeded","BalanceExceeded","EmptyMethodName","GuestPanic","IntegerOverflow","InvalidPromiseIndex","CannotAppendActionToJointPromise","CannotReturnJointPromise","InvalidPromiseResultIndex","InvalidRegisterId","IteratorWasInvalidated","MemoryAccessViolation","InvalidReceiptIndex","InvalidIteratorIndex","InvalidAccountId","InvalidMethodName","InvalidPublicKey","ProhibitedInView","NumberOfLogsExceeded","KeyLengthExceeded","ValueLengthExceeded","TotalLogLengthExceeded","NumberPromisesExceeded","NumberInputDataDependenciesExceeded","ReturnedValueLengthExceeded","ContractSizeExceeded","Deprecated","ECRecoverError","AltBn128InvalidInput","Ed25519VerifyInvalidInput"],"props":{}},"IllegalArithmetic":{"name":"IllegalArithmetic","subtypes":[],"props":{}},"IncorrectCallIndirectSignature":{"name":"IncorrectCallIndirectSignature","subtypes":[],"props":{}},"IndirectCallToNull":{"name":"IndirectCallToNull","subtypes":[],"props":{}},"Instantiate":{"name":"Instantiate","subtypes":[],"props":{}},"InsufficientStake":{"name":"InsufficientStake","subtypes":[],"props":{"account_id":"","minimum_stake":"","stake":""}},"IntegerOverflow":{"name":"IntegerOverflow","subtypes":[],"props":{}},"InternalMemoryDeclared":{"name":"InternalMemoryDeclared","subtypes":[],"props":{}},"InvalidAccessKeyError":{"name":"InvalidAccessKeyError","subtypes":["AccessKeyNotFound","ReceiverMismatch","MethodNameMismatch","RequiresFullAccess","NotEnoughAllowance","DepositWithFunctionCall"],"props":{}},"InvalidAccountId":{"name":"InvalidAccountId","subtypes":[],"props":{}},"InvalidChain":{"name":"InvalidChain","subtypes":[],"props":{}},"InvalidDataReceiverId":{"name":"InvalidDataReceiverId","subtypes":[],"props":{"account_id":""}},"InvalidIteratorIndex":{"name":"InvalidIteratorIndex","subtypes":[],"props":{"iterator_index":""}},"InvalidMethodName":{"name":"InvalidMethodName","subtypes":[],"props":{}},"InvalidNonce":{"name":"InvalidNonce","subtypes":[],"props":{"ak_nonce":"","tx_nonce":""}},"InvalidPredecessorId":{"name":"InvalidPredecessorId","subtypes":[],"props":{"account_id":""}},"InvalidPromiseIndex":{"name":"InvalidPromiseIndex","subtypes":[],"props":{"promise_idx":""}},"InvalidPromiseResultIndex":{"name":"InvalidPromiseResultIndex","subtypes":[],"props":{"result_idx":""}},"InvalidPublicKey":{"name":"InvalidPublicKey","subtypes":[],"props":{}},"InvalidReceiptIndex":{"name":"InvalidReceiptIndex","subtypes":[],"props":{"receipt_index":""}},"InvalidReceiverId":{"name":"InvalidReceiverId","subtypes":[],"props":{"account_id":""}},"InvalidRegisterId":{"name":"InvalidRegisterId","subtypes":[],"props":{"register_id":""}},"InvalidSignature":{"name":"InvalidSignature","subtypes":[],"props":{}},"InvalidSignerId":{"name":"InvalidSignerId","subtypes":[],"props":{"account_id":""}},"InvalidTxError":{"name":"InvalidTxError","subtypes":["InvalidAccessKeyError","InvalidSignerId","SignerDoesNotExist","InvalidNonce","NonceTooLarge","InvalidReceiverId","InvalidSignature","NotEnoughBalance","LackBalanceForState","CostOverflow","InvalidChain","Expired","ActionsValidation","TransactionSizeExceeded","StorageError","ShardCongested","ShardStuck"],"props":{}},"IteratorWasInvalidated":{"name":"IteratorWasInvalidated","subtypes":[],"props":{"iterator_index":""}},"KeyLengthExceeded":{"name":"KeyLengthExceeded","subtypes":[],"props":{"length":"","limit":""}},"LackBalanceForState":{"name":"LackBalanceForState","subtypes":[],"props":{"account_id":"","amount":""}},"Memory":{"name":"Memory","subtypes":[],"props":{}},"MemoryAccessViolation":{"name":"MemoryAccessViolation","subtypes":[],"props":{}},"MemoryOutOfBounds":{"name":"MemoryOutOfBounds","subtypes":[],"props":{}},"MethodEmptyName":{"name":"MethodEmptyName","subtypes":[],"props":{}},"MethodInvalidSignature":{"name":"MethodInvalidSignature","subtypes":[],"props":{}},"MethodNameMismatch":{"name":"MethodNameMismatch","subtypes":[],"props":{"method_name":""}},"MethodNotFound":{"name":"MethodNotFound","subtypes":[],"props":{}},"MethodResolveError":{"name":"MethodResolveError","subtypes":["MethodEmptyName","MethodNotFound","MethodInvalidSignature"],"props":{}},"MisalignedAtomicAccess":{"name":"MisalignedAtomicAccess","subtypes":[],"props":{}},"NonceTooLarge":{"name":"NonceTooLarge","subtypes":[],"props":{"tx_nonce":"","upper_bound":""}},"NotEnoughAllowance":{"name":"NotEnoughAllowance","subtypes":[],"props":{"account_id":"","allowance":"","cost":"","public_key":""}},"NotEnoughBalance":{"name":"NotEnoughBalance","subtypes":[],"props":{"balance":"","cost":"","signer_id":""}},"NumberInputDataDependenciesExceeded":{"name":"NumberInputDataDependenciesExceeded","subtypes":[],"props":{"limit":"","number_of_input_data_dependencies":""}},"NumberOfLogsExceeded":{"name":"NumberOfLogsExceeded","subtypes":[],"props":{"limit":""}},"NumberPromisesExceeded":{"name":"NumberPromisesExceeded","subtypes":[],"props":{"limit":"","number_of_promises":""}},"OnlyImplicitAccountCreationAllowed":{"name":"OnlyImplicitAccountCreationAllowed","subtypes":[],"props":{"account_id":""}},"PrepareError":{"name":"PrepareError","subtypes":["Serialization","Deserialization","InternalMemoryDeclared","GasInstrumentation","StackHeightInstrumentation","Instantiate","Memory","TooManyFunctions","TooManyLocals"],"props":{}},"ProhibitedInView":{"name":"ProhibitedInView","subtypes":[],"props":{"method_name":""}},"ReceiptSizeExceeded":{"name":"ReceiptSizeExceeded","subtypes":[],"props":{"limit":"","size":""}},"ReceiptValidationError":{"name":"ReceiptValidationError","subtypes":["InvalidPredecessorId","InvalidReceiverId","InvalidSignerId","InvalidDataReceiverId","ReturnedValueLengthExceeded","NumberInputDataDependenciesExceeded","ActionsValidation","ReceiptSizeExceeded"],"props":{}},"ReceiverMismatch":{"name":"ReceiverMismatch","subtypes":[],"props":{"ak_receiver":"","tx_receiver":""}},"RequiresFullAccess":{"name":"RequiresFullAccess","subtypes":[],"props":{}},"ReturnedValueLengthExceeded":{"name":"ReturnedValueLengthExceeded","subtypes":[],"props":{"length":"","limit":""}},"Serialization":{"name":"Serialization","subtypes":[],"props":{}},"ShardCongested":{"name":"ShardCongested","subtypes":[],"props":{"congestion_level":"","shard_id":""}},"ShardStuck":{"name":"ShardStuck","subtypes":[],"props":{"missed_chunks":"","shard_id":""}},"SignerDoesNotExist":{"name":"SignerDoesNotExist","subtypes":[],"props":{"signer_id":""}},"StackHeightInstrumentation":{"name":"StackHeightInstrumentation","subtypes":[],"props":{}},"StackOverflow":{"name":"StackOverflow","subtypes":[],"props":{}},"TooManyFunctions":{"name":"TooManyFunctions","subtypes":[],"props":{}},"TooManyLocals":{"name":"TooManyLocals","subtypes":[],"props":{}},"TotalLogLengthExceeded":{"name":"TotalLogLengthExceeded","subtypes":[],"props":{"length":"","limit":""}},"TotalNumberOfActionsExceeded":{"name":"TotalNumberOfActionsExceeded","subtypes":[],"props":{"limit":"","total_number_of_actions":""}},"TotalPrepaidGasExceeded":{"name":"TotalPrepaidGasExceeded","subtypes":[],"props":{"limit":"","total_prepaid_gas":""}},"TransactionSizeExceeded":{"name":"TransactionSizeExceeded","subtypes":[],"props":{"limit":"","size":""}},"TriesToStake":{"name":"TriesToStake","subtypes":[],"props":{"account_id":"","balance":"","locked":"","stake":""}},"TriesToUnstake":{"name":"TriesToUnstake","subtypes":[],"props":{"account_id":""}},"TxExecutionError":{"name":"TxExecutionError","subtypes":["ActionError","InvalidTxError"],"props":{}},"Unreachable":{"name":"Unreachable","subtypes":[],"props":{}},"UnsuitableStakingKey":{"name":"UnsuitableStakingKey","subtypes":[],"props":{"public_key":""}},"UnsupportedProtocolFeature":{"name":"UnsupportedProtocolFeature","subtypes":[],"props":{"protocol_feature":"","version":""}},"ValueLengthExceeded":{"name":"ValueLengthExceeded","subtypes":[],"props":{"length":"","limit":""}},"WasmTrap":{"name":"WasmTrap","subtypes":["Unreachable","IncorrectCallIndirectSignature","MemoryOutOfBounds","CallIndirectOOB","IllegalArithmetic","MisalignedAtomicAccess","IndirectCallToNull","StackOverflow","GenericTrap"],"props":{}},"WasmerCompileError":{"name":"WasmerCompileError","subtypes":[],"props":{"msg":""}},"Closed":{"name":"Closed","subtypes":[],"props":{}},"ServerError":{"name":"ServerError","subtypes":["TxExecutionError","Timeout","Closed"],"props":{}},"Timeout":{"name":"Timeout","subtypes":[],"props":{}}}}')},40899:function(eu){"use strict";eu.exports=JSON.parse('{"GasLimitExceeded":"Exceeded the maximum amount of gas allowed to burn per contract","MethodEmptyName":"Method name is empty","WasmerCompileError":"Wasmer compilation error: {{msg}}","GuestPanic":"Smart contract panicked: {{panic_msg}}","Memory":"Error creating Wasm memory","GasExceeded":"Exceeded the prepaid gas","MethodUTF8Error":"Method name is not valid UTF8 string","BadUTF16":"String encoding is bad UTF-16 sequence","WasmTrap":"WebAssembly trap: {{msg}}","GasInstrumentation":"Gas instrumentation failed or contract has denied instructions.","InvalidPromiseIndex":"{{promise_idx}} does not correspond to existing promises","InvalidPromiseResultIndex":"Accessed invalid promise result index: {{result_idx}}","Deserialization":"Error happened while deserializing the module","MethodNotFound":"Contract method is not found","InvalidRegisterId":"Accessed invalid register id: {{register_id}}","InvalidReceiptIndex":"VM Logic returned an invalid receipt index: {{receipt_index}}","EmptyMethodName":"Method name is empty in contract call","CannotReturnJointPromise":"Returning joint promise is currently prohibited","StackHeightInstrumentation":"Stack instrumentation failed","CodeDoesNotExist":"Cannot find contract code for account {{account_id}}","MethodInvalidSignature":"Invalid method signature","IntegerOverflow":"Integer overflow happened during contract execution","MemoryAccessViolation":"MemoryAccessViolation","InvalidIteratorIndex":"Iterator index {{iterator_index}} does not exist","IteratorWasInvalidated":"Iterator {{iterator_index}} was invalidated after its creation by performing a mutable operation on trie","InvalidAccountId":"VM Logic returned an invalid account id","Serialization":"Error happened while serializing the module","CannotAppendActionToJointPromise":"Actions can only be appended to non-joint promise.","InternalMemoryDeclared":"Internal memory declaration has been found in the module","Instantiate":"Error happened during instantiation","ProhibitedInView":"{{method_name}} is not allowed in view calls","InvalidMethodName":"VM Logic returned an invalid method name","BadUTF8":"String encoding is bad UTF-8 sequence","BalanceExceeded":"Exceeded the account balance","LinkError":"Wasm contract link error: {{msg}}","InvalidPublicKey":"VM Logic provided an invalid public key","ActorNoPermission":"Actor {{actor_id}} doesn\'t have permission to account {{account_id}} to complete the action","LackBalanceForState":"The account {{account_id}} wouldn\'t have enough balance to cover storage, required to have {{amount}} yoctoNEAR more","ReceiverMismatch":"Wrong AccessKey used for transaction: transaction is sent to receiver_id={{tx_receiver}}, but is signed with function call access key that restricted to only use with receiver_id={{ak_receiver}}. Either change receiver_id in your transaction or switch to use a FullAccessKey.","CostOverflow":"Transaction gas or balance cost is too high","InvalidSignature":"Transaction is not signed with the given public key","AccessKeyNotFound":"Signer \\"{{account_id}}\\" doesn\'t have access key with the given public_key {{public_key}}","NotEnoughBalance":"Sender {{signer_id}} does not have enough balance {{#formatNear}}{{balance}}{{/formatNear}} for operation costing {{#formatNear}}{{cost}}{{/formatNear}}","NotEnoughAllowance":"Access Key {account_id}:{public_key} does not have enough balance {{#formatNear}}{{allowance}}{{/formatNear}} for transaction costing {{#formatNear}}{{cost}}{{/formatNear}}","Expired":"Transaction has expired","DeleteAccountStaking":"Account {{account_id}} is staking and can not be deleted","SignerDoesNotExist":"Signer {{signer_id}} does not exist","TriesToStake":"Account {{account_id}} tried to stake {{#formatNear}}{{stake}}{{/formatNear}}, but has staked {{#formatNear}}{{locked}}{{/formatNear}} and only has {{#formatNear}}{{balance}}{{/formatNear}}","AddKeyAlreadyExists":"The public key {{public_key}} is already used for an existing access key","InvalidSigner":"Invalid signer account ID {{signer_id}} according to requirements","CreateAccountNotAllowed":"The new account_id {{account_id}} can\'t be created by {{predecessor_id}}","RequiresFullAccess":"The transaction contains more then one action, but it was signed with an access key which allows transaction to apply only one specific action. To apply more then one actions TX must be signed with a full access key","TriesToUnstake":"Account {{account_id}} is not yet staked, but tried to unstake","InvalidNonce":"Transaction nonce {{tx_nonce}} must be larger than nonce of the used access key {{ak_nonce}}","AccountAlreadyExists":"Can\'t create a new account {{account_id}}, because it already exists","InvalidChain":"Transaction parent block hash doesn\'t belong to the current chain","AccountDoesNotExist":"Can\'t complete the action because account {{account_id}} doesn\'t exist","AccessKeyDoesNotExist":"Can\'t complete the action because access key {{public_key}} doesn\'t exist","MethodNameMismatch":"Transaction method name {{method_name}} isn\'t allowed by the access key","DeleteAccountHasRent":"Account {{account_id}} can\'t be deleted. It has {{#formatNear}}{{balance}}{{/formatNear}}, which is enough to cover the rent","DeleteAccountHasEnoughBalance":"Account {{account_id}} can\'t be deleted. It has {{#formatNear}}{{balance}}{{/formatNear}}, which is enough to cover it\'s storage","InvalidReceiver":"Invalid receiver account ID {{receiver_id}} according to requirements","DeleteKeyDoesNotExist":"Account {{account_id}} tries to remove an access key that doesn\'t exist","Timeout":"Timeout exceeded","Closed":"Connection closed","ShardCongested":"Shard {{shard_id}} rejected the transaction due to congestion level {{congestion_level}}, try again later","ShardStuck":"Shard {{shard_id}} rejected the transaction because it missed {{missed_chunks}} chunks and needs to recover before accepting new transactions, try again later"}')},17845:function(eu){"use strict";eu.exports=JSON.parse('{"schema":{"AccessKeyNotFound":{"name":"AccessKeyNotFound","subtypes":[],"props":{"account_id":"","public_key":""}},"AccountAlreadyExists":{"name":"AccountAlreadyExists","subtypes":[],"props":{"account_id":""}},"AccountDoesNotExist":{"name":"AccountDoesNotExist","subtypes":[],"props":{"account_id":""}},"ActionError":{"name":"ActionError","subtypes":["AccountAlreadyExists","AccountDoesNotExist","CreateAccountOnlyByRegistrar","CreateAccountNotAllowed","ActorNoPermission","DeleteKeyDoesNotExist","AddKeyAlreadyExists","DeleteAccountStaking","LackBalanceForState","TriesToUnstake","TriesToStake","InsufficientStake","FunctionCallError","NewReceiptValidationError","OnlyImplicitAccountCreationAllowed","DeleteAccountWithLargeState","DelegateActionInvalidSignature","DelegateActionSenderDoesNotMatchTxReceiver","DelegateActionExpired","DelegateActionAccessKeyError","DelegateActionInvalidNonce","DelegateActionNonceTooLarge"],"props":{"index":""}},"ActionsValidationError":{"name":"ActionsValidationError","subtypes":["DeleteActionMustBeFinal","TotalPrepaidGasExceeded","TotalNumberOfActionsExceeded","AddKeyMethodNamesNumberOfBytesExceeded","AddKeyMethodNameLengthExceeded","IntegerOverflow","InvalidAccountId","ContractSizeExceeded","FunctionCallMethodNameLengthExceeded","FunctionCallArgumentsLengthExceeded","UnsuitableStakingKey","FunctionCallZeroAttachedGas","DelegateActionMustBeOnlyOne","UnsupportedProtocolFeature"],"props":{}},"ActorNoPermission":{"name":"ActorNoPermission","subtypes":[],"props":{"account_id":"","actor_id":""}},"AddKeyAlreadyExists":{"name":"AddKeyAlreadyExists","subtypes":[],"props":{"account_id":"","public_key":""}},"AddKeyMethodNameLengthExceeded":{"name":"AddKeyMethodNameLengthExceeded","subtypes":[],"props":{"length":"","limit":""}},"AddKeyMethodNamesNumberOfBytesExceeded":{"name":"AddKeyMethodNamesNumberOfBytesExceeded","subtypes":[],"props":{"limit":"","total_number_of_bytes":""}},"AltBn128InvalidInput":{"name":"AltBn128InvalidInput","subtypes":[],"props":{"msg":""}},"BadUTF16":{"name":"BadUTF16","subtypes":[],"props":{}},"BadUTF8":{"name":"BadUTF8","subtypes":[],"props":{}},"BalanceExceeded":{"name":"BalanceExceeded","subtypes":[],"props":{}},"BalanceMismatchError":{"name":"BalanceMismatchError","subtypes":[],"props":{"final_accounts_balance":"","final_postponed_receipts_balance":"","forwarded_buffered_receipts_balance":"","incoming_receipts_balance":"","incoming_validator_rewards":"","initial_accounts_balance":"","initial_postponed_receipts_balance":"","new_buffered_receipts_balance":"","new_delayed_receipts_balance":"","other_burnt_amount":"","outgoing_receipts_balance":"","processed_delayed_receipts_balance":"","slashed_burnt_amount":"","tx_burnt_amount":""}},"CallIndirectOOB":{"name":"CallIndirectOOB","subtypes":[],"props":{}},"CannotAppendActionToJointPromise":{"name":"CannotAppendActionToJointPromise","subtypes":[],"props":{}},"CannotReturnJointPromise":{"name":"CannotReturnJointPromise","subtypes":[],"props":{}},"CodeDoesNotExist":{"name":"CodeDoesNotExist","subtypes":[],"props":{"account_id":""}},"CompilationError":{"name":"CompilationError","subtypes":["CodeDoesNotExist","PrepareError","WasmerCompileError"],"props":{}},"ContractSizeExceeded":{"name":"ContractSizeExceeded","subtypes":[],"props":{"limit":"","size":""}},"CostOverflow":{"name":"CostOverflow","subtypes":[],"props":{}},"CreateAccountNotAllowed":{"name":"CreateAccountNotAllowed","subtypes":[],"props":{"account_id":"","predecessor_id":""}},"CreateAccountOnlyByRegistrar":{"name":"CreateAccountOnlyByRegistrar","subtypes":[],"props":{"account_id":"","predecessor_id":"","registrar_account_id":""}},"DelegateActionExpired":{"name":"DelegateActionExpired","subtypes":[],"props":{}},"DelegateActionInvalidNonce":{"name":"DelegateActionInvalidNonce","subtypes":[],"props":{"ak_nonce":"","delegate_nonce":""}},"DelegateActionInvalidSignature":{"name":"DelegateActionInvalidSignature","subtypes":[],"props":{}},"DelegateActionMustBeOnlyOne":{"name":"DelegateActionMustBeOnlyOne","subtypes":[],"props":{}},"DelegateActionNonceTooLarge":{"name":"DelegateActionNonceTooLarge","subtypes":[],"props":{"delegate_nonce":"","upper_bound":""}},"DelegateActionSenderDoesNotMatchTxReceiver":{"name":"DelegateActionSenderDoesNotMatchTxReceiver","subtypes":[],"props":{"receiver_id":"","sender_id":""}},"DeleteAccountStaking":{"name":"DeleteAccountStaking","subtypes":[],"props":{"account_id":""}},"DeleteAccountWithLargeState":{"name":"DeleteAccountWithLargeState","subtypes":[],"props":{"account_id":""}},"DeleteActionMustBeFinal":{"name":"DeleteActionMustBeFinal","subtypes":[],"props":{}},"DeleteKeyDoesNotExist":{"name":"DeleteKeyDoesNotExist","subtypes":[],"props":{"account_id":"","public_key":""}},"DepositWithFunctionCall":{"name":"DepositWithFunctionCall","subtypes":[],"props":{}},"Deprecated":{"name":"Deprecated","subtypes":[],"props":{"method_name":""}},"Deserialization":{"name":"Deserialization","subtypes":[],"props":{}},"ECRecoverError":{"name":"ECRecoverError","subtypes":[],"props":{"msg":""}},"Ed25519VerifyInvalidInput":{"name":"Ed25519VerifyInvalidInput","subtypes":[],"props":{"msg":""}},"EmptyMethodName":{"name":"EmptyMethodName","subtypes":[],"props":{}},"Expired":{"name":"Expired","subtypes":[],"props":{}},"FunctionCallArgumentsLengthExceeded":{"name":"FunctionCallArgumentsLengthExceeded","subtypes":[],"props":{"length":"","limit":""}},"FunctionCallMethodNameLengthExceeded":{"name":"FunctionCallMethodNameLengthExceeded","subtypes":[],"props":{"length":"","limit":""}},"FunctionCallZeroAttachedGas":{"name":"FunctionCallZeroAttachedGas","subtypes":[],"props":{}},"GasExceeded":{"name":"GasExceeded","subtypes":[],"props":{}},"GasInstrumentation":{"name":"GasInstrumentation","subtypes":[],"props":{}},"GasLimitExceeded":{"name":"GasLimitExceeded","subtypes":[],"props":{}},"GenericTrap":{"name":"GenericTrap","subtypes":[],"props":{}},"GuestPanic":{"name":"GuestPanic","subtypes":[],"props":{"panic_msg":""}},"HostError":{"name":"HostError","subtypes":["BadUTF16","BadUTF8","GasExceeded","GasLimitExceeded","BalanceExceeded","EmptyMethodName","GuestPanic","IntegerOverflow","InvalidPromiseIndex","CannotAppendActionToJointPromise","CannotReturnJointPromise","InvalidPromiseResultIndex","InvalidRegisterId","IteratorWasInvalidated","MemoryAccessViolation","InvalidReceiptIndex","InvalidIteratorIndex","InvalidAccountId","InvalidMethodName","InvalidPublicKey","ProhibitedInView","NumberOfLogsExceeded","KeyLengthExceeded","ValueLengthExceeded","TotalLogLengthExceeded","NumberPromisesExceeded","NumberInputDataDependenciesExceeded","ReturnedValueLengthExceeded","ContractSizeExceeded","Deprecated","ECRecoverError","AltBn128InvalidInput","Ed25519VerifyInvalidInput"],"props":{}},"IllegalArithmetic":{"name":"IllegalArithmetic","subtypes":[],"props":{}},"IncorrectCallIndirectSignature":{"name":"IncorrectCallIndirectSignature","subtypes":[],"props":{}},"IndirectCallToNull":{"name":"IndirectCallToNull","subtypes":[],"props":{}},"Instantiate":{"name":"Instantiate","subtypes":[],"props":{}},"InsufficientStake":{"name":"InsufficientStake","subtypes":[],"props":{"account_id":"","minimum_stake":"","stake":""}},"IntegerOverflow":{"name":"IntegerOverflow","subtypes":[],"props":{}},"InternalMemoryDeclared":{"name":"InternalMemoryDeclared","subtypes":[],"props":{}},"InvalidAccessKeyError":{"name":"InvalidAccessKeyError","subtypes":["AccessKeyNotFound","ReceiverMismatch","MethodNameMismatch","RequiresFullAccess","NotEnoughAllowance","DepositWithFunctionCall"],"props":{}},"InvalidAccountId":{"name":"InvalidAccountId","subtypes":[],"props":{}},"InvalidChain":{"name":"InvalidChain","subtypes":[],"props":{}},"InvalidDataReceiverId":{"name":"InvalidDataReceiverId","subtypes":[],"props":{"account_id":""}},"InvalidIteratorIndex":{"name":"InvalidIteratorIndex","subtypes":[],"props":{"iterator_index":""}},"InvalidMethodName":{"name":"InvalidMethodName","subtypes":[],"props":{}},"InvalidNonce":{"name":"InvalidNonce","subtypes":[],"props":{"ak_nonce":"","tx_nonce":""}},"InvalidPredecessorId":{"name":"InvalidPredecessorId","subtypes":[],"props":{"account_id":""}},"InvalidPromiseIndex":{"name":"InvalidPromiseIndex","subtypes":[],"props":{"promise_idx":""}},"InvalidPromiseResultIndex":{"name":"InvalidPromiseResultIndex","subtypes":[],"props":{"result_idx":""}},"InvalidPublicKey":{"name":"InvalidPublicKey","subtypes":[],"props":{}},"InvalidReceiptIndex":{"name":"InvalidReceiptIndex","subtypes":[],"props":{"receipt_index":""}},"InvalidReceiverId":{"name":"InvalidReceiverId","subtypes":[],"props":{"account_id":""}},"InvalidRegisterId":{"name":"InvalidRegisterId","subtypes":[],"props":{"register_id":""}},"InvalidSignature":{"name":"InvalidSignature","subtypes":[],"props":{}},"InvalidSignerId":{"name":"InvalidSignerId","subtypes":[],"props":{"account_id":""}},"InvalidTxError":{"name":"InvalidTxError","subtypes":["InvalidAccessKeyError","InvalidSignerId","SignerDoesNotExist","InvalidNonce","NonceTooLarge","InvalidReceiverId","InvalidSignature","NotEnoughBalance","LackBalanceForState","CostOverflow","InvalidChain","Expired","ActionsValidation","TransactionSizeExceeded","StorageError","ShardCongested","ShardStuck"],"props":{}},"IteratorWasInvalidated":{"name":"IteratorWasInvalidated","subtypes":[],"props":{"iterator_index":""}},"KeyLengthExceeded":{"name":"KeyLengthExceeded","subtypes":[],"props":{"length":"","limit":""}},"LackBalanceForState":{"name":"LackBalanceForState","subtypes":[],"props":{"account_id":"","amount":""}},"Memory":{"name":"Memory","subtypes":[],"props":{}},"MemoryAccessViolation":{"name":"MemoryAccessViolation","subtypes":[],"props":{}},"MemoryOutOfBounds":{"name":"MemoryOutOfBounds","subtypes":[],"props":{}},"MethodEmptyName":{"name":"MethodEmptyName","subtypes":[],"props":{}},"MethodInvalidSignature":{"name":"MethodInvalidSignature","subtypes":[],"props":{}},"MethodNameMismatch":{"name":"MethodNameMismatch","subtypes":[],"props":{"method_name":""}},"MethodNotFound":{"name":"MethodNotFound","subtypes":[],"props":{}},"MethodResolveError":{"name":"MethodResolveError","subtypes":["MethodEmptyName","MethodNotFound","MethodInvalidSignature"],"props":{}},"MisalignedAtomicAccess":{"name":"MisalignedAtomicAccess","subtypes":[],"props":{}},"NonceTooLarge":{"name":"NonceTooLarge","subtypes":[],"props":{"tx_nonce":"","upper_bound":""}},"NotEnoughAllowance":{"name":"NotEnoughAllowance","subtypes":[],"props":{"account_id":"","allowance":"","cost":"","public_key":""}},"NotEnoughBalance":{"name":"NotEnoughBalance","subtypes":[],"props":{"balance":"","cost":"","signer_id":""}},"NumberInputDataDependenciesExceeded":{"name":"NumberInputDataDependenciesExceeded","subtypes":[],"props":{"limit":"","number_of_input_data_dependencies":""}},"NumberOfLogsExceeded":{"name":"NumberOfLogsExceeded","subtypes":[],"props":{"limit":""}},"NumberPromisesExceeded":{"name":"NumberPromisesExceeded","subtypes":[],"props":{"limit":"","number_of_promises":""}},"OnlyImplicitAccountCreationAllowed":{"name":"OnlyImplicitAccountCreationAllowed","subtypes":[],"props":{"account_id":""}},"PrepareError":{"name":"PrepareError","subtypes":["Serialization","Deserialization","InternalMemoryDeclared","GasInstrumentation","StackHeightInstrumentation","Instantiate","Memory","TooManyFunctions","TooManyLocals"],"props":{}},"ProhibitedInView":{"name":"ProhibitedInView","subtypes":[],"props":{"method_name":""}},"ReceiptSizeExceeded":{"name":"ReceiptSizeExceeded","subtypes":[],"props":{"limit":"","size":""}},"ReceiptValidationError":{"name":"ReceiptValidationError","subtypes":["InvalidPredecessorId","InvalidReceiverId","InvalidSignerId","InvalidDataReceiverId","ReturnedValueLengthExceeded","NumberInputDataDependenciesExceeded","ActionsValidation","ReceiptSizeExceeded"],"props":{}},"ReceiverMismatch":{"name":"ReceiverMismatch","subtypes":[],"props":{"ak_receiver":"","tx_receiver":""}},"RequiresFullAccess":{"name":"RequiresFullAccess","subtypes":[],"props":{}},"ReturnedValueLengthExceeded":{"name":"ReturnedValueLengthExceeded","subtypes":[],"props":{"length":"","limit":""}},"Serialization":{"name":"Serialization","subtypes":[],"props":{}},"ShardCongested":{"name":"ShardCongested","subtypes":[],"props":{"congestion_level":"","shard_id":""}},"ShardStuck":{"name":"ShardStuck","subtypes":[],"props":{"missed_chunks":"","shard_id":""}},"SignerDoesNotExist":{"name":"SignerDoesNotExist","subtypes":[],"props":{"signer_id":""}},"StackHeightInstrumentation":{"name":"StackHeightInstrumentation","subtypes":[],"props":{}},"StackOverflow":{"name":"StackOverflow","subtypes":[],"props":{}},"TooManyFunctions":{"name":"TooManyFunctions","subtypes":[],"props":{}},"TooManyLocals":{"name":"TooManyLocals","subtypes":[],"props":{}},"TotalLogLengthExceeded":{"name":"TotalLogLengthExceeded","subtypes":[],"props":{"length":"","limit":""}},"TotalNumberOfActionsExceeded":{"name":"TotalNumberOfActionsExceeded","subtypes":[],"props":{"limit":"","total_number_of_actions":""}},"TotalPrepaidGasExceeded":{"name":"TotalPrepaidGasExceeded","subtypes":[],"props":{"limit":"","total_prepaid_gas":""}},"TransactionSizeExceeded":{"name":"TransactionSizeExceeded","subtypes":[],"props":{"limit":"","size":""}},"TriesToStake":{"name":"TriesToStake","subtypes":[],"props":{"account_id":"","balance":"","locked":"","stake":""}},"TriesToUnstake":{"name":"TriesToUnstake","subtypes":[],"props":{"account_id":""}},"TxExecutionError":{"name":"TxExecutionError","subtypes":["ActionError","InvalidTxError"],"props":{}},"Unreachable":{"name":"Unreachable","subtypes":[],"props":{}},"UnsuitableStakingKey":{"name":"UnsuitableStakingKey","subtypes":[],"props":{"public_key":""}},"UnsupportedProtocolFeature":{"name":"UnsupportedProtocolFeature","subtypes":[],"props":{"protocol_feature":"","version":""}},"ValueLengthExceeded":{"name":"ValueLengthExceeded","subtypes":[],"props":{"length":"","limit":""}},"WasmTrap":{"name":"WasmTrap","subtypes":["Unreachable","IncorrectCallIndirectSignature","MemoryOutOfBounds","CallIndirectOOB","IllegalArithmetic","MisalignedAtomicAccess","IndirectCallToNull","StackOverflow","GenericTrap"],"props":{}},"WasmerCompileError":{"name":"WasmerCompileError","subtypes":[],"props":{"msg":""}},"Closed":{"name":"Closed","subtypes":[],"props":{}},"ServerError":{"name":"ServerError","subtypes":["TxExecutionError","Timeout","Closed"],"props":{}},"Timeout":{"name":"Timeout","subtypes":[],"props":{}}}}')},5718:function(eu){"use strict";eu.exports=JSON.parse('{"proxyUrl":"","widgetUrl":"","polling":{"maxIterations":1000,"requestTimeout":600000,"backgroundVisibilityCheckInterval":1000,"backgroundVisibilityCheckTimeout":600000},"nearMobileWalletUrl":"near-mobile-wallet://sign"}')},38473:function(eu){"use strict";eu.exports=JSON.parse('{"proxyUrl":"https://near-mobile-signer-backend.peersyst.tech","widgetUrl":"https://near-mobile-signer-backend.peersyst.tech"}')},55335:function(eu){"use strict";eu.exports=JSON.parse('{"proxyUrl":"https://near-mobile-signer-backend_production.peersyst.tech","widgetUrl":"https://near-mobile-signer-backend_production.peersyst.tech"}')},38378:function(eu){"use strict";eu.exports=JSON.parse('{"proxyUrl":"https://near-mobile-signer-backend.peersyst.tech","widgetUrl":"https://near-mobile-signer-backend.peersyst.tech"}')},96278:function(eu){"use strict";eu.exports=JSON.parse('{"proxyUrl":"","widgetUrl":"","polling":{"maxIterations":1000,"requestTimeout":600000,"backgroundVisibilityCheckInterval":1000,"backgroundVisibilityCheckTimeout":600000},"nearMobileWalletUrl":""}')},3807:function(eu){"use strict";eu.exports=JSON.parse('{"GasLimitExceeded":"Exceeded the maximum amount of gas allowed to burn per contract","MethodEmptyName":"Method name is empty","WasmerCompileError":"Wasmer compilation error: {{msg}}","GuestPanic":"Smart contract panicked: {{panic_msg}}","Memory":"Error creating Wasm memory","GasExceeded":"Exceeded the prepaid gas","MethodUTF8Error":"Method name is not valid UTF8 string","BadUTF16":"String encoding is bad UTF-16 sequence","WasmTrap":"WebAssembly trap: {{msg}}","GasInstrumentation":"Gas instrumentation failed or contract has denied instructions.","InvalidPromiseIndex":"{{promise_idx}} does not correspond to existing promises","InvalidPromiseResultIndex":"Accessed invalid promise result index: {{result_idx}}","Deserialization":"Error happened while deserializing the module","MethodNotFound":"Contract method is not found","InvalidRegisterId":"Accessed invalid register id: {{register_id}}","InvalidReceiptIndex":"VM Logic returned an invalid receipt index: {{receipt_index}}","EmptyMethodName":"Method name is empty in contract call","CannotReturnJointPromise":"Returning joint promise is currently prohibited","StackHeightInstrumentation":"Stack instrumentation failed","CodeDoesNotExist":"Cannot find contract code for account {{account_id}}","MethodInvalidSignature":"Invalid method signature","IntegerOverflow":"Integer overflow happened during contract execution","MemoryAccessViolation":"MemoryAccessViolation","InvalidIteratorIndex":"Iterator index {{iterator_index}} does not exist","IteratorWasInvalidated":"Iterator {{iterator_index}} was invalidated after its creation by performing a mutable operation on trie","InvalidAccountId":"VM Logic returned an invalid account id","Serialization":"Error happened while serializing the module","CannotAppendActionToJointPromise":"Actions can only be appended to non-joint promise.","InternalMemoryDeclared":"Internal memory declaration has been found in the module","Instantiate":"Error happened during instantiation","ProhibitedInView":"{{method_name}} is not allowed in view calls","InvalidMethodName":"VM Logic returned an invalid method name","BadUTF8":"String encoding is bad UTF-8 sequence","BalanceExceeded":"Exceeded the account balance","LinkError":"Wasm contract link error: {{msg}}","InvalidPublicKey":"VM Logic provided an invalid public key","ActorNoPermission":"Actor {{actor_id}} doesn\'t have permission to account {{account_id}} to complete the action","LackBalanceForState":"The account {{account_id}} wouldn\'t have enough balance to cover storage, required to have {{amount}} yoctoNEAR more","ReceiverMismatch":"Wrong AccessKey used for transaction: transaction is sent to receiver_id={{tx_receiver}}, but is signed with function call access key that restricted to only use with receiver_id={{ak_receiver}}. Either change receiver_id in your transaction or switch to use a FullAccessKey.","CostOverflow":"Transaction gas or balance cost is too high","InvalidSignature":"Transaction is not signed with the given public key","AccessKeyNotFound":"Signer \\"{{account_id}}\\" doesn\'t have access key with the given public_key {{public_key}}","NotEnoughBalance":"Sender {{signer_id}} does not have enough balance {{#formatNear}}{{balance}}{{/formatNear}} for operation costing {{#formatNear}}{{cost}}{{/formatNear}}","NotEnoughAllowance":"Access Key {account_id}:{public_key} does not have enough balance {{#formatNear}}{{allowance}}{{/formatNear}} for transaction costing {{#formatNear}}{{cost}}{{/formatNear}}","Expired":"Transaction has expired","DeleteAccountStaking":"Account {{account_id}} is staking and can not be deleted","SignerDoesNotExist":"Signer {{signer_id}} does not exist","TriesToStake":"Account {{account_id}} tried to stake {{#formatNear}}{{stake}}{{/formatNear}}, but has staked {{#formatNear}}{{locked}}{{/formatNear}} and only has {{#formatNear}}{{balance}}{{/formatNear}}","AddKeyAlreadyExists":"The public key {{public_key}} is already used for an existing access key","InvalidSigner":"Invalid signer account ID {{signer_id}} according to requirements","CreateAccountNotAllowed":"The new account_id {{account_id}} can\'t be created by {{predecessor_id}}","RequiresFullAccess":"The transaction contains more then one action, but it was signed with an access key which allows transaction to apply only one specific action. To apply more then one actions TX must be signed with a full access key","TriesToUnstake":"Account {{account_id}} is not yet staked, but tried to unstake","InvalidNonce":"Transaction nonce {{tx_nonce}} must be larger than nonce of the used access key {{ak_nonce}}","AccountAlreadyExists":"Can\'t create a new account {{account_id}}, because it already exists","InvalidChain":"Transaction parent block hash doesn\'t belong to the current chain","AccountDoesNotExist":"Can\'t complete the action because account {{account_id}} doesn\'t exist","AccessKeyDoesNotExist":"Can\'t complete the action because access key {{public_key}} doesn\'t exist","MethodNameMismatch":"Transaction method name {{method_name}} isn\'t allowed by the access key","DeleteAccountHasRent":"Account {{account_id}} can\'t be deleted. It has {{#formatNear}}{{balance}}{{/formatNear}}, which is enough to cover the rent","DeleteAccountHasEnoughBalance":"Account {{account_id}} can\'t be deleted. It has {{#formatNear}}{{balance}}{{/formatNear}}, which is enough to cover it\'s storage","InvalidReceiver":"Invalid receiver account ID {{receiver_id}} according to requirements","DeleteKeyDoesNotExist":"Account {{account_id}} tries to remove an access key that doesn\'t exist","Timeout":"Timeout exceeded","Closed":"Connection closed","ShardCongested":"Shard {{shard_id}} rejected the transaction due to congestion level {{congestion_level}}, try again later","ShardStuck":"Shard {{shard_id}} rejected the transaction because it missed {{missed_chunks}} chunks and needs to recover before accepting new transactions, try again later"}')},31342:function(eu){"use strict";eu.exports=JSON.parse('{"schema":{"AccessKeyNotFound":{"name":"AccessKeyNotFound","subtypes":[],"props":{"account_id":"","public_key":""}},"AccountAlreadyExists":{"name":"AccountAlreadyExists","subtypes":[],"props":{"account_id":""}},"AccountDoesNotExist":{"name":"AccountDoesNotExist","subtypes":[],"props":{"account_id":""}},"ActionError":{"name":"ActionError","subtypes":["AccountAlreadyExists","AccountDoesNotExist","CreateAccountOnlyByRegistrar","CreateAccountNotAllowed","ActorNoPermission","DeleteKeyDoesNotExist","AddKeyAlreadyExists","DeleteAccountStaking","LackBalanceForState","TriesToUnstake","TriesToStake","InsufficientStake","FunctionCallError","NewReceiptValidationError","OnlyImplicitAccountCreationAllowed","DeleteAccountWithLargeState","DelegateActionInvalidSignature","DelegateActionSenderDoesNotMatchTxReceiver","DelegateActionExpired","DelegateActionAccessKeyError","DelegateActionInvalidNonce","DelegateActionNonceTooLarge"],"props":{"index":""}},"ActionsValidationError":{"name":"ActionsValidationError","subtypes":["DeleteActionMustBeFinal","TotalPrepaidGasExceeded","TotalNumberOfActionsExceeded","AddKeyMethodNamesNumberOfBytesExceeded","AddKeyMethodNameLengthExceeded","IntegerOverflow","InvalidAccountId","ContractSizeExceeded","FunctionCallMethodNameLengthExceeded","FunctionCallArgumentsLengthExceeded","UnsuitableStakingKey","FunctionCallZeroAttachedGas","DelegateActionMustBeOnlyOne","UnsupportedProtocolFeature"],"props":{}},"ActorNoPermission":{"name":"ActorNoPermission","subtypes":[],"props":{"account_id":"","actor_id":""}},"AddKeyAlreadyExists":{"name":"AddKeyAlreadyExists","subtypes":[],"props":{"account_id":"","public_key":""}},"AddKeyMethodNameLengthExceeded":{"name":"AddKeyMethodNameLengthExceeded","subtypes":[],"props":{"length":"","limit":""}},"AddKeyMethodNamesNumberOfBytesExceeded":{"name":"AddKeyMethodNamesNumberOfBytesExceeded","subtypes":[],"props":{"limit":"","total_number_of_bytes":""}},"AltBn128InvalidInput":{"name":"AltBn128InvalidInput","subtypes":[],"props":{"msg":""}},"BadUTF16":{"name":"BadUTF16","subtypes":[],"props":{}},"BadUTF8":{"name":"BadUTF8","subtypes":[],"props":{}},"BalanceExceeded":{"name":"BalanceExceeded","subtypes":[],"props":{}},"BalanceMismatchError":{"name":"BalanceMismatchError","subtypes":[],"props":{"final_accounts_balance":"","final_postponed_receipts_balance":"","forwarded_buffered_receipts_balance":"","incoming_receipts_balance":"","incoming_validator_rewards":"","initial_accounts_balance":"","initial_postponed_receipts_balance":"","new_buffered_receipts_balance":"","new_delayed_receipts_balance":"","other_burnt_amount":"","outgoing_receipts_balance":"","processed_delayed_receipts_balance":"","slashed_burnt_amount":"","tx_burnt_amount":""}},"CallIndirectOOB":{"name":"CallIndirectOOB","subtypes":[],"props":{}},"CannotAppendActionToJointPromise":{"name":"CannotAppendActionToJointPromise","subtypes":[],"props":{}},"CannotReturnJointPromise":{"name":"CannotReturnJointPromise","subtypes":[],"props":{}},"CodeDoesNotExist":{"name":"CodeDoesNotExist","subtypes":[],"props":{"account_id":""}},"CompilationError":{"name":"CompilationError","subtypes":["CodeDoesNotExist","PrepareError","WasmerCompileError"],"props":{}},"ContractSizeExceeded":{"name":"ContractSizeExceeded","subtypes":[],"props":{"limit":"","size":""}},"CostOverflow":{"name":"CostOverflow","subtypes":[],"props":{}},"CreateAccountNotAllowed":{"name":"CreateAccountNotAllowed","subtypes":[],"props":{"account_id":"","predecessor_id":""}},"CreateAccountOnlyByRegistrar":{"name":"CreateAccountOnlyByRegistrar","subtypes":[],"props":{"account_id":"","predecessor_id":"","registrar_account_id":""}},"DelegateActionExpired":{"name":"DelegateActionExpired","subtypes":[],"props":{}},"DelegateActionInvalidNonce":{"name":"DelegateActionInvalidNonce","subtypes":[],"props":{"ak_nonce":"","delegate_nonce":""}},"DelegateActionInvalidSignature":{"name":"DelegateActionInvalidSignature","subtypes":[],"props":{}},"DelegateActionMustBeOnlyOne":{"name":"DelegateActionMustBeOnlyOne","subtypes":[],"props":{}},"DelegateActionNonceTooLarge":{"name":"DelegateActionNonceTooLarge","subtypes":[],"props":{"delegate_nonce":"","upper_bound":""}},"DelegateActionSenderDoesNotMatchTxReceiver":{"name":"DelegateActionSenderDoesNotMatchTxReceiver","subtypes":[],"props":{"receiver_id":"","sender_id":""}},"DeleteAccountStaking":{"name":"DeleteAccountStaking","subtypes":[],"props":{"account_id":""}},"DeleteAccountWithLargeState":{"name":"DeleteAccountWithLargeState","subtypes":[],"props":{"account_id":""}},"DeleteActionMustBeFinal":{"name":"DeleteActionMustBeFinal","subtypes":[],"props":{}},"DeleteKeyDoesNotExist":{"name":"DeleteKeyDoesNotExist","subtypes":[],"props":{"account_id":"","public_key":""}},"DepositWithFunctionCall":{"name":"DepositWithFunctionCall","subtypes":[],"props":{}},"Deprecated":{"name":"Deprecated","subtypes":[],"props":{"method_name":""}},"Deserialization":{"name":"Deserialization","subtypes":[],"props":{}},"ECRecoverError":{"name":"ECRecoverError","subtypes":[],"props":{"msg":""}},"Ed25519VerifyInvalidInput":{"name":"Ed25519VerifyInvalidInput","subtypes":[],"props":{"msg":""}},"EmptyMethodName":{"name":"EmptyMethodName","subtypes":[],"props":{}},"Expired":{"name":"Expired","subtypes":[],"props":{}},"FunctionCallArgumentsLengthExceeded":{"name":"FunctionCallArgumentsLengthExceeded","subtypes":[],"props":{"length":"","limit":""}},"FunctionCallMethodNameLengthExceeded":{"name":"FunctionCallMethodNameLengthExceeded","subtypes":[],"props":{"length":"","limit":""}},"FunctionCallZeroAttachedGas":{"name":"FunctionCallZeroAttachedGas","subtypes":[],"props":{}},"GasExceeded":{"name":"GasExceeded","subtypes":[],"props":{}},"GasInstrumentation":{"name":"GasInstrumentation","subtypes":[],"props":{}},"GasLimitExceeded":{"name":"GasLimitExceeded","subtypes":[],"props":{}},"GenericTrap":{"name":"GenericTrap","subtypes":[],"props":{}},"GuestPanic":{"name":"GuestPanic","subtypes":[],"props":{"panic_msg":""}},"HostError":{"name":"HostError","subtypes":["BadUTF16","BadUTF8","GasExceeded","GasLimitExceeded","BalanceExceeded","EmptyMethodName","GuestPanic","IntegerOverflow","InvalidPromiseIndex","CannotAppendActionToJointPromise","CannotReturnJointPromise","InvalidPromiseResultIndex","InvalidRegisterId","IteratorWasInvalidated","MemoryAccessViolation","InvalidReceiptIndex","InvalidIteratorIndex","InvalidAccountId","InvalidMethodName","InvalidPublicKey","ProhibitedInView","NumberOfLogsExceeded","KeyLengthExceeded","ValueLengthExceeded","TotalLogLengthExceeded","NumberPromisesExceeded","NumberInputDataDependenciesExceeded","ReturnedValueLengthExceeded","ContractSizeExceeded","Deprecated","ECRecoverError","AltBn128InvalidInput","Ed25519VerifyInvalidInput"],"props":{}},"IllegalArithmetic":{"name":"IllegalArithmetic","subtypes":[],"props":{}},"IncorrectCallIndirectSignature":{"name":"IncorrectCallIndirectSignature","subtypes":[],"props":{}},"IndirectCallToNull":{"name":"IndirectCallToNull","subtypes":[],"props":{}},"Instantiate":{"name":"Instantiate","subtypes":[],"props":{}},"InsufficientStake":{"name":"InsufficientStake","subtypes":[],"props":{"account_id":"","minimum_stake":"","stake":""}},"IntegerOverflow":{"name":"IntegerOverflow","subtypes":[],"props":{}},"InternalMemoryDeclared":{"name":"InternalMemoryDeclared","subtypes":[],"props":{}},"InvalidAccessKeyError":{"name":"InvalidAccessKeyError","subtypes":["AccessKeyNotFound","ReceiverMismatch","MethodNameMismatch","RequiresFullAccess","NotEnoughAllowance","DepositWithFunctionCall"],"props":{}},"InvalidAccountId":{"name":"InvalidAccountId","subtypes":[],"props":{}},"InvalidChain":{"name":"InvalidChain","subtypes":[],"props":{}},"InvalidDataReceiverId":{"name":"InvalidDataReceiverId","subtypes":[],"props":{"account_id":""}},"InvalidIteratorIndex":{"name":"InvalidIteratorIndex","subtypes":[],"props":{"iterator_index":""}},"InvalidMethodName":{"name":"InvalidMethodName","subtypes":[],"props":{}},"InvalidNonce":{"name":"InvalidNonce","subtypes":[],"props":{"ak_nonce":"","tx_nonce":""}},"InvalidPredecessorId":{"name":"InvalidPredecessorId","subtypes":[],"props":{"account_id":""}},"InvalidPromiseIndex":{"name":"InvalidPromiseIndex","subtypes":[],"props":{"promise_idx":""}},"InvalidPromiseResultIndex":{"name":"InvalidPromiseResultIndex","subtypes":[],"props":{"result_idx":""}},"InvalidPublicKey":{"name":"InvalidPublicKey","subtypes":[],"props":{}},"InvalidReceiptIndex":{"name":"InvalidReceiptIndex","subtypes":[],"props":{"receipt_index":""}},"InvalidReceiverId":{"name":"InvalidReceiverId","subtypes":[],"props":{"account_id":""}},"InvalidRegisterId":{"name":"InvalidRegisterId","subtypes":[],"props":{"register_id":""}},"InvalidSignature":{"name":"InvalidSignature","subtypes":[],"props":{}},"InvalidSignerId":{"name":"InvalidSignerId","subtypes":[],"props":{"account_id":""}},"InvalidTxError":{"name":"InvalidTxError","subtypes":["InvalidAccessKeyError","InvalidSignerId","SignerDoesNotExist","InvalidNonce","NonceTooLarge","InvalidReceiverId","InvalidSignature","NotEnoughBalance","LackBalanceForState","CostOverflow","InvalidChain","Expired","ActionsValidation","TransactionSizeExceeded","StorageError","ShardCongested","ShardStuck"],"props":{}},"IteratorWasInvalidated":{"name":"IteratorWasInvalidated","subtypes":[],"props":{"iterator_index":""}},"KeyLengthExceeded":{"name":"KeyLengthExceeded","subtypes":[],"props":{"length":"","limit":""}},"LackBalanceForState":{"name":"LackBalanceForState","subtypes":[],"props":{"account_id":"","amount":""}},"Memory":{"name":"Memory","subtypes":[],"props":{}},"MemoryAccessViolation":{"name":"MemoryAccessViolation","subtypes":[],"props":{}},"MemoryOutOfBounds":{"name":"MemoryOutOfBounds","subtypes":[],"props":{}},"MethodEmptyName":{"name":"MethodEmptyName","subtypes":[],"props":{}},"MethodInvalidSignature":{"name":"MethodInvalidSignature","subtypes":[],"props":{}},"MethodNameMismatch":{"name":"MethodNameMismatch","subtypes":[],"props":{"method_name":""}},"MethodNotFound":{"name":"MethodNotFound","subtypes":[],"props":{}},"MethodResolveError":{"name":"MethodResolveError","subtypes":["MethodEmptyName","MethodNotFound","MethodInvalidSignature"],"props":{}},"MisalignedAtomicAccess":{"name":"MisalignedAtomicAccess","subtypes":[],"props":{}},"NonceTooLarge":{"name":"NonceTooLarge","subtypes":[],"props":{"tx_nonce":"","upper_bound":""}},"NotEnoughAllowance":{"name":"NotEnoughAllowance","subtypes":[],"props":{"account_id":"","allowance":"","cost":"","public_key":""}},"NotEnoughBalance":{"name":"NotEnoughBalance","subtypes":[],"props":{"balance":"","cost":"","signer_id":""}},"NumberInputDataDependenciesExceeded":{"name":"NumberInputDataDependenciesExceeded","subtypes":[],"props":{"limit":"","number_of_input_data_dependencies":""}},"NumberOfLogsExceeded":{"name":"NumberOfLogsExceeded","subtypes":[],"props":{"limit":""}},"NumberPromisesExceeded":{"name":"NumberPromisesExceeded","subtypes":[],"props":{"limit":"","number_of_promises":""}},"OnlyImplicitAccountCreationAllowed":{"name":"OnlyImplicitAccountCreationAllowed","subtypes":[],"props":{"account_id":""}},"PrepareError":{"name":"PrepareError","subtypes":["Serialization","Deserialization","InternalMemoryDeclared","GasInstrumentation","StackHeightInstrumentation","Instantiate","Memory","TooManyFunctions","TooManyLocals"],"props":{}},"ProhibitedInView":{"name":"ProhibitedInView","subtypes":[],"props":{"method_name":""}},"ReceiptSizeExceeded":{"name":"ReceiptSizeExceeded","subtypes":[],"props":{"limit":"","size":""}},"ReceiptValidationError":{"name":"ReceiptValidationError","subtypes":["InvalidPredecessorId","InvalidReceiverId","InvalidSignerId","InvalidDataReceiverId","ReturnedValueLengthExceeded","NumberInputDataDependenciesExceeded","ActionsValidation","ReceiptSizeExceeded"],"props":{}},"ReceiverMismatch":{"name":"ReceiverMismatch","subtypes":[],"props":{"ak_receiver":"","tx_receiver":""}},"RequiresFullAccess":{"name":"RequiresFullAccess","subtypes":[],"props":{}},"ReturnedValueLengthExceeded":{"name":"ReturnedValueLengthExceeded","subtypes":[],"props":{"length":"","limit":""}},"Serialization":{"name":"Serialization","subtypes":[],"props":{}},"ShardCongested":{"name":"ShardCongested","subtypes":[],"props":{"congestion_level":"","shard_id":""}},"ShardStuck":{"name":"ShardStuck","subtypes":[],"props":{"missed_chunks":"","shard_id":""}},"SignerDoesNotExist":{"name":"SignerDoesNotExist","subtypes":[],"props":{"signer_id":""}},"StackHeightInstrumentation":{"name":"StackHeightInstrumentation","subtypes":[],"props":{}},"StackOverflow":{"name":"StackOverflow","subtypes":[],"props":{}},"TooManyFunctions":{"name":"TooManyFunctions","subtypes":[],"props":{}},"TooManyLocals":{"name":"TooManyLocals","subtypes":[],"props":{}},"TotalLogLengthExceeded":{"name":"TotalLogLengthExceeded","subtypes":[],"props":{"length":"","limit":""}},"TotalNumberOfActionsExceeded":{"name":"TotalNumberOfActionsExceeded","subtypes":[],"props":{"limit":"","total_number_of_actions":""}},"TotalPrepaidGasExceeded":{"name":"TotalPrepaidGasExceeded","subtypes":[],"props":{"limit":"","total_prepaid_gas":""}},"TransactionSizeExceeded":{"name":"TransactionSizeExceeded","subtypes":[],"props":{"limit":"","size":""}},"TriesToStake":{"name":"TriesToStake","subtypes":[],"props":{"account_id":"","balance":"","locked":"","stake":""}},"TriesToUnstake":{"name":"TriesToUnstake","subtypes":[],"props":{"account_id":""}},"TxExecutionError":{"name":"TxExecutionError","subtypes":["ActionError","InvalidTxError"],"props":{}},"Unreachable":{"name":"Unreachable","subtypes":[],"props":{}},"UnsuitableStakingKey":{"name":"UnsuitableStakingKey","subtypes":[],"props":{"public_key":""}},"UnsupportedProtocolFeature":{"name":"UnsupportedProtocolFeature","subtypes":[],"props":{"protocol_feature":"","version":""}},"ValueLengthExceeded":{"name":"ValueLengthExceeded","subtypes":[],"props":{"length":"","limit":""}},"WasmTrap":{"name":"WasmTrap","subtypes":["Unreachable","IncorrectCallIndirectSignature","MemoryOutOfBounds","CallIndirectOOB","IllegalArithmetic","MisalignedAtomicAccess","IndirectCallToNull","StackOverflow","GenericTrap"],"props":{}},"WasmerCompileError":{"name":"WasmerCompileError","subtypes":[],"props":{"msg":""}},"Closed":{"name":"Closed","subtypes":[],"props":{}},"ServerError":{"name":"ServerError","subtypes":["TxExecutionError","Timeout","Closed"],"props":{}},"Timeout":{"name":"Timeout","subtypes":[],"props":{}}}}')},49234:function(eu){"use strict";eu.exports=JSON.parse('{"aes-128-ecb":{"cipher":"AES","key":128,"iv":0,"mode":"ECB","type":"block"},"aes-192-ecb":{"cipher":"AES","key":192,"iv":0,"mode":"ECB","type":"block"},"aes-256-ecb":{"cipher":"AES","key":256,"iv":0,"mode":"ECB","type":"block"},"aes-128-cbc":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes-192-cbc":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes-256-cbc":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes128":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes192":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes256":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes-128-cfb":{"cipher":"AES","key":128,"iv":16,"mode":"CFB","type":"stream"},"aes-192-cfb":{"cipher":"AES","key":192,"iv":16,"mode":"CFB","type":"stream"},"aes-256-cfb":{"cipher":"AES","key":256,"iv":16,"mode":"CFB","type":"stream"},"aes-128-cfb8":{"cipher":"AES","key":128,"iv":16,"mode":"CFB8","type":"stream"},"aes-192-cfb8":{"cipher":"AES","key":192,"iv":16,"mode":"CFB8","type":"stream"},"aes-256-cfb8":{"cipher":"AES","key":256,"iv":16,"mode":"CFB8","type":"stream"},"aes-128-cfb1":{"cipher":"AES","key":128,"iv":16,"mode":"CFB1","type":"stream"},"aes-192-cfb1":{"cipher":"AES","key":192,"iv":16,"mode":"CFB1","type":"stream"},"aes-256-cfb1":{"cipher":"AES","key":256,"iv":16,"mode":"CFB1","type":"stream"},"aes-128-ofb":{"cipher":"AES","key":128,"iv":16,"mode":"OFB","type":"stream"},"aes-192-ofb":{"cipher":"AES","key":192,"iv":16,"mode":"OFB","type":"stream"},"aes-256-ofb":{"cipher":"AES","key":256,"iv":16,"mode":"OFB","type":"stream"},"aes-128-ctr":{"cipher":"AES","key":128,"iv":16,"mode":"CTR","type":"stream"},"aes-192-ctr":{"cipher":"AES","key":192,"iv":16,"mode":"CTR","type":"stream"},"aes-256-ctr":{"cipher":"AES","key":256,"iv":16,"mode":"CTR","type":"stream"},"aes-128-gcm":{"cipher":"AES","key":128,"iv":12,"mode":"GCM","type":"auth"},"aes-192-gcm":{"cipher":"AES","key":192,"iv":12,"mode":"GCM","type":"auth"},"aes-256-gcm":{"cipher":"AES","key":256,"iv":12,"mode":"GCM","type":"auth"}}')},40026:function(eu){"use strict";eu.exports=JSON.parse('{"sha224WithRSAEncryption":{"sign":"rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"RSA-SHA224":{"sign":"ecdsa/rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"sha256WithRSAEncryption":{"sign":"rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"RSA-SHA256":{"sign":"ecdsa/rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"sha384WithRSAEncryption":{"sign":"rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"RSA-SHA384":{"sign":"ecdsa/rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"sha512WithRSAEncryption":{"sign":"rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA512":{"sign":"ecdsa/rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA1":{"sign":"rsa","hash":"sha1","id":"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{"sign":"ecdsa","hash":"sha1","id":""},"sha256":{"sign":"ecdsa","hash":"sha256","id":""},"sha224":{"sign":"ecdsa","hash":"sha224","id":""},"sha384":{"sign":"ecdsa","hash":"sha384","id":""},"sha512":{"sign":"ecdsa","hash":"sha512","id":""},"DSA-SHA":{"sign":"dsa","hash":"sha1","id":""},"DSA-SHA1":{"sign":"dsa","hash":"sha1","id":""},"DSA":{"sign":"dsa","hash":"sha1","id":""},"DSA-WITH-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-WITH-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-WITH-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-WITH-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-RIPEMD160":{"sign":"dsa","hash":"rmd160","id":""},"ripemd160WithRSA":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"RSA-RIPEMD160":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"md5WithRSAEncryption":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"},"RSA-MD5":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"}}')},39167:function(eu){"use strict";eu.exports=JSON.parse('{"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}')},23418:function(eu){"use strict";eu.exports=JSON.parse('{"modp1":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},"modp2":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},"modp5":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},"modp14":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},"modp15":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},"modp16":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},"modp17":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},"modp18":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}')},40763:function(eu){"use strict";eu.exports={i8:"6.6.1"}},85944:function(eu){"use strict";eu.exports=JSON.parse('{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","306":"(Unused)","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I\'m a teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Unordered Collection","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"}')},24111:function(eu){"use strict";eu.exports=JSON.parse('{"GasLimitExceeded":"Exceeded the maximum amount of gas allowed to burn per contract","MethodEmptyName":"Method name is empty","WasmerCompileError":"Wasmer compilation error: {{msg}}","GuestPanic":"Smart contract panicked: {{panic_msg}}","Memory":"Error creating Wasm memory","GasExceeded":"Exceeded the prepaid gas","MethodUTF8Error":"Method name is not valid UTF8 string","BadUTF16":"String encoding is bad UTF-16 sequence","WasmTrap":"WebAssembly trap: {{msg}}","GasInstrumentation":"Gas instrumentation failed or contract has denied instructions.","InvalidPromiseIndex":"{{promise_idx}} does not correspond to existing promises","InvalidPromiseResultIndex":"Accessed invalid promise result index: {{result_idx}}","Deserialization":"Error happened while deserializing the module","MethodNotFound":"Contract method is not found","InvalidRegisterId":"Accessed invalid register id: {{register_id}}","InvalidReceiptIndex":"VM Logic returned an invalid receipt index: {{receipt_index}}","EmptyMethodName":"Method name is empty in contract call","CannotReturnJointPromise":"Returning joint promise is currently prohibited","StackHeightInstrumentation":"Stack instrumentation failed","CodeDoesNotExist":"Cannot find contract code for account {{account_id}}","MethodInvalidSignature":"Invalid method signature","IntegerOverflow":"Integer overflow happened during contract execution","MemoryAccessViolation":"MemoryAccessViolation","InvalidIteratorIndex":"Iterator index {{iterator_index}} does not exist","IteratorWasInvalidated":"Iterator {{iterator_index}} was invalidated after its creation by performing a mutable operation on trie","InvalidAccountId":"VM Logic returned an invalid account id","Serialization":"Error happened while serializing the module","CannotAppendActionToJointPromise":"Actions can only be appended to non-joint promise.","InternalMemoryDeclared":"Internal memory declaration has been found in the module","Instantiate":"Error happened during instantiation","ProhibitedInView":"{{method_name}} is not allowed in view calls","InvalidMethodName":"VM Logic returned an invalid method name","BadUTF8":"String encoding is bad UTF-8 sequence","BalanceExceeded":"Exceeded the account balance","LinkError":"Wasm contract link error: {{msg}}","InvalidPublicKey":"VM Logic provided an invalid public key","ActorNoPermission":"Actor {{actor_id}} doesn\'t have permission to account {{account_id}} to complete the action","LackBalanceForState":"The account {{account_id}} wouldn\'t have enough balance to cover storage, required to have {{amount}} yoctoNEAR more","ReceiverMismatch":"Wrong AccessKey used for transaction: transaction is sent to receiver_id={{tx_receiver}}, but is signed with function call access key that restricted to only use with receiver_id={{ak_receiver}}. Either change receiver_id in your transaction or switch to use a FullAccessKey.","CostOverflow":"Transaction gas or balance cost is too high","InvalidSignature":"Transaction is not signed with the given public key","AccessKeyNotFound":"Signer \\"{{account_id}}\\" doesn\'t have access key with the given public_key {{public_key}}","NotEnoughBalance":"Sender {{signer_id}} does not have enough balance {{#formatNear}}{{balance}}{{/formatNear}} for operation costing {{#formatNear}}{{cost}}{{/formatNear}}","NotEnoughAllowance":"Access Key {account_id}:{public_key} does not have enough balance {{#formatNear}}{{allowance}}{{/formatNear}} for transaction costing {{#formatNear}}{{cost}}{{/formatNear}}","Expired":"Transaction has expired","DeleteAccountStaking":"Account {{account_id}} is staking and can not be deleted","SignerDoesNotExist":"Signer {{signer_id}} does not exist","TriesToStake":"Account {{account_id}} tried to stake {{#formatNear}}{{stake}}{{/formatNear}}, but has staked {{#formatNear}}{{locked}}{{/formatNear}} and only has {{#formatNear}}{{balance}}{{/formatNear}}","AddKeyAlreadyExists":"The public key {{public_key}} is already used for an existing access key","InvalidSigner":"Invalid signer account ID {{signer_id}} according to requirements","CreateAccountNotAllowed":"The new account_id {{account_id}} can\'t be created by {{predecessor_id}}","RequiresFullAccess":"The transaction contains more then one action, but it was signed with an access key which allows transaction to apply only one specific action. To apply more then one actions TX must be signed with a full access key","TriesToUnstake":"Account {{account_id}} is not yet staked, but tried to unstake","InvalidNonce":"Transaction nonce {{tx_nonce}} must be larger than nonce of the used access key {{ak_nonce}}","AccountAlreadyExists":"Can\'t create a new account {{account_id}}, because it already exists","InvalidChain":"Transaction parent block hash doesn\'t belong to the current chain","AccountDoesNotExist":"Can\'t complete the action because account {{account_id}} doesn\'t exist","AccessKeyDoesNotExist":"Can\'t complete the action because access key {{public_key}} doesn\'t exist","MethodNameMismatch":"Transaction method name {{method_name}} isn\'t allowed by the access key","DeleteAccountHasRent":"Account {{account_id}} can\'t be deleted. It has {{#formatNear}}{{balance}}{{/formatNear}}, which is enough to cover the rent","DeleteAccountHasEnoughBalance":"Account {{account_id}} can\'t be deleted. It has {{#formatNear}}{{balance}}{{/formatNear}}, which is enough to cover it\'s storage","InvalidReceiver":"Invalid receiver account ID {{receiver_id}} according to requirements","DeleteKeyDoesNotExist":"Account {{account_id}} tries to remove an access key that doesn\'t exist","Timeout":"Timeout exceeded","Closed":"Connection closed","ShardCongested":"Shard {{shard_id}} rejected the transaction due to congestion level {{congestion_level}}, try again later","ShardStuck":"Shard {{shard_id}} rejected the transaction because it missed {{missed_chunks}} chunks and needs to recover before accepting new transactions, try again later"}')},10965:function(eu){"use strict";eu.exports=JSON.parse('{"schema":{"AccessKeyNotFound":{"name":"AccessKeyNotFound","subtypes":[],"props":{"account_id":"","public_key":""}},"AccountAlreadyExists":{"name":"AccountAlreadyExists","subtypes":[],"props":{"account_id":""}},"AccountDoesNotExist":{"name":"AccountDoesNotExist","subtypes":[],"props":{"account_id":""}},"ActionError":{"name":"ActionError","subtypes":["AccountAlreadyExists","AccountDoesNotExist","CreateAccountOnlyByRegistrar","CreateAccountNotAllowed","ActorNoPermission","DeleteKeyDoesNotExist","AddKeyAlreadyExists","DeleteAccountStaking","LackBalanceForState","TriesToUnstake","TriesToStake","InsufficientStake","FunctionCallError","NewReceiptValidationError","OnlyImplicitAccountCreationAllowed","DeleteAccountWithLargeState","DelegateActionInvalidSignature","DelegateActionSenderDoesNotMatchTxReceiver","DelegateActionExpired","DelegateActionAccessKeyError","DelegateActionInvalidNonce","DelegateActionNonceTooLarge"],"props":{"index":""}},"ActionsValidationError":{"name":"ActionsValidationError","subtypes":["DeleteActionMustBeFinal","TotalPrepaidGasExceeded","TotalNumberOfActionsExceeded","AddKeyMethodNamesNumberOfBytesExceeded","AddKeyMethodNameLengthExceeded","IntegerOverflow","InvalidAccountId","ContractSizeExceeded","FunctionCallMethodNameLengthExceeded","FunctionCallArgumentsLengthExceeded","UnsuitableStakingKey","FunctionCallZeroAttachedGas","DelegateActionMustBeOnlyOne","UnsupportedProtocolFeature"],"props":{}},"ActorNoPermission":{"name":"ActorNoPermission","subtypes":[],"props":{"account_id":"","actor_id":""}},"AddKeyAlreadyExists":{"name":"AddKeyAlreadyExists","subtypes":[],"props":{"account_id":"","public_key":""}},"AddKeyMethodNameLengthExceeded":{"name":"AddKeyMethodNameLengthExceeded","subtypes":[],"props":{"length":"","limit":""}},"AddKeyMethodNamesNumberOfBytesExceeded":{"name":"AddKeyMethodNamesNumberOfBytesExceeded","subtypes":[],"props":{"limit":"","total_number_of_bytes":""}},"AltBn128InvalidInput":{"name":"AltBn128InvalidInput","subtypes":[],"props":{"msg":""}},"BadUTF16":{"name":"BadUTF16","subtypes":[],"props":{}},"BadUTF8":{"name":"BadUTF8","subtypes":[],"props":{}},"BalanceExceeded":{"name":"BalanceExceeded","subtypes":[],"props":{}},"BalanceMismatchError":{"name":"BalanceMismatchError","subtypes":[],"props":{"final_accounts_balance":"","final_postponed_receipts_balance":"","forwarded_buffered_receipts_balance":"","incoming_receipts_balance":"","incoming_validator_rewards":"","initial_accounts_balance":"","initial_postponed_receipts_balance":"","new_buffered_receipts_balance":"","new_delayed_receipts_balance":"","other_burnt_amount":"","outgoing_receipts_balance":"","processed_delayed_receipts_balance":"","slashed_burnt_amount":"","tx_burnt_amount":""}},"CallIndirectOOB":{"name":"CallIndirectOOB","subtypes":[],"props":{}},"CannotAppendActionToJointPromise":{"name":"CannotAppendActionToJointPromise","subtypes":[],"props":{}},"CannotReturnJointPromise":{"name":"CannotReturnJointPromise","subtypes":[],"props":{}},"CodeDoesNotExist":{"name":"CodeDoesNotExist","subtypes":[],"props":{"account_id":""}},"CompilationError":{"name":"CompilationError","subtypes":["CodeDoesNotExist","PrepareError","WasmerCompileError"],"props":{}},"ContractSizeExceeded":{"name":"ContractSizeExceeded","subtypes":[],"props":{"limit":"","size":""}},"CostOverflow":{"name":"CostOverflow","subtypes":[],"props":{}},"CreateAccountNotAllowed":{"name":"CreateAccountNotAllowed","subtypes":[],"props":{"account_id":"","predecessor_id":""}},"CreateAccountOnlyByRegistrar":{"name":"CreateAccountOnlyByRegistrar","subtypes":[],"props":{"account_id":"","predecessor_id":"","registrar_account_id":""}},"DelegateActionExpired":{"name":"DelegateActionExpired","subtypes":[],"props":{}},"DelegateActionInvalidNonce":{"name":"DelegateActionInvalidNonce","subtypes":[],"props":{"ak_nonce":"","delegate_nonce":""}},"DelegateActionInvalidSignature":{"name":"DelegateActionInvalidSignature","subtypes":[],"props":{}},"DelegateActionMustBeOnlyOne":{"name":"DelegateActionMustBeOnlyOne","subtypes":[],"props":{}},"DelegateActionNonceTooLarge":{"name":"DelegateActionNonceTooLarge","subtypes":[],"props":{"delegate_nonce":"","upper_bound":""}},"DelegateActionSenderDoesNotMatchTxReceiver":{"name":"DelegateActionSenderDoesNotMatchTxReceiver","subtypes":[],"props":{"receiver_id":"","sender_id":""}},"DeleteAccountStaking":{"name":"DeleteAccountStaking","subtypes":[],"props":{"account_id":""}},"DeleteAccountWithLargeState":{"name":"DeleteAccountWithLargeState","subtypes":[],"props":{"account_id":""}},"DeleteActionMustBeFinal":{"name":"DeleteActionMustBeFinal","subtypes":[],"props":{}},"DeleteKeyDoesNotExist":{"name":"DeleteKeyDoesNotExist","subtypes":[],"props":{"account_id":"","public_key":""}},"DepositWithFunctionCall":{"name":"DepositWithFunctionCall","subtypes":[],"props":{}},"Deprecated":{"name":"Deprecated","subtypes":[],"props":{"method_name":""}},"Deserialization":{"name":"Deserialization","subtypes":[],"props":{}},"ECRecoverError":{"name":"ECRecoverError","subtypes":[],"props":{"msg":""}},"Ed25519VerifyInvalidInput":{"name":"Ed25519VerifyInvalidInput","subtypes":[],"props":{"msg":""}},"EmptyMethodName":{"name":"EmptyMethodName","subtypes":[],"props":{}},"Expired":{"name":"Expired","subtypes":[],"props":{}},"FunctionCallArgumentsLengthExceeded":{"name":"FunctionCallArgumentsLengthExceeded","subtypes":[],"props":{"length":"","limit":""}},"FunctionCallMethodNameLengthExceeded":{"name":"FunctionCallMethodNameLengthExceeded","subtypes":[],"props":{"length":"","limit":""}},"FunctionCallZeroAttachedGas":{"name":"FunctionCallZeroAttachedGas","subtypes":[],"props":{}},"GasExceeded":{"name":"GasExceeded","subtypes":[],"props":{}},"GasInstrumentation":{"name":"GasInstrumentation","subtypes":[],"props":{}},"GasLimitExceeded":{"name":"GasLimitExceeded","subtypes":[],"props":{}},"GenericTrap":{"name":"GenericTrap","subtypes":[],"props":{}},"GuestPanic":{"name":"GuestPanic","subtypes":[],"props":{"panic_msg":""}},"HostError":{"name":"HostError","subtypes":["BadUTF16","BadUTF8","GasExceeded","GasLimitExceeded","BalanceExceeded","EmptyMethodName","GuestPanic","IntegerOverflow","InvalidPromiseIndex","CannotAppendActionToJointPromise","CannotReturnJointPromise","InvalidPromiseResultIndex","InvalidRegisterId","IteratorWasInvalidated","MemoryAccessViolation","InvalidReceiptIndex","InvalidIteratorIndex","InvalidAccountId","InvalidMethodName","InvalidPublicKey","ProhibitedInView","NumberOfLogsExceeded","KeyLengthExceeded","ValueLengthExceeded","TotalLogLengthExceeded","NumberPromisesExceeded","NumberInputDataDependenciesExceeded","ReturnedValueLengthExceeded","ContractSizeExceeded","Deprecated","ECRecoverError","AltBn128InvalidInput","Ed25519VerifyInvalidInput"],"props":{}},"IllegalArithmetic":{"name":"IllegalArithmetic","subtypes":[],"props":{}},"IncorrectCallIndirectSignature":{"name":"IncorrectCallIndirectSignature","subtypes":[],"props":{}},"IndirectCallToNull":{"name":"IndirectCallToNull","subtypes":[],"props":{}},"Instantiate":{"name":"Instantiate","subtypes":[],"props":{}},"InsufficientStake":{"name":"InsufficientStake","subtypes":[],"props":{"account_id":"","minimum_stake":"","stake":""}},"IntegerOverflow":{"name":"IntegerOverflow","subtypes":[],"props":{}},"InternalMemoryDeclared":{"name":"InternalMemoryDeclared","subtypes":[],"props":{}},"InvalidAccessKeyError":{"name":"InvalidAccessKeyError","subtypes":["AccessKeyNotFound","ReceiverMismatch","MethodNameMismatch","RequiresFullAccess","NotEnoughAllowance","DepositWithFunctionCall"],"props":{}},"InvalidAccountId":{"name":"InvalidAccountId","subtypes":[],"props":{}},"InvalidChain":{"name":"InvalidChain","subtypes":[],"props":{}},"InvalidDataReceiverId":{"name":"InvalidDataReceiverId","subtypes":[],"props":{"account_id":""}},"InvalidIteratorIndex":{"name":"InvalidIteratorIndex","subtypes":[],"props":{"iterator_index":""}},"InvalidMethodName":{"name":"InvalidMethodName","subtypes":[],"props":{}},"InvalidNonce":{"name":"InvalidNonce","subtypes":[],"props":{"ak_nonce":"","tx_nonce":""}},"InvalidPredecessorId":{"name":"InvalidPredecessorId","subtypes":[],"props":{"account_id":""}},"InvalidPromiseIndex":{"name":"InvalidPromiseIndex","subtypes":[],"props":{"promise_idx":""}},"InvalidPromiseResultIndex":{"name":"InvalidPromiseResultIndex","subtypes":[],"props":{"result_idx":""}},"InvalidPublicKey":{"name":"InvalidPublicKey","subtypes":[],"props":{}},"InvalidReceiptIndex":{"name":"InvalidReceiptIndex","subtypes":[],"props":{"receipt_index":""}},"InvalidReceiverId":{"name":"InvalidReceiverId","subtypes":[],"props":{"account_id":""}},"InvalidRegisterId":{"name":"InvalidRegisterId","subtypes":[],"props":{"register_id":""}},"InvalidSignature":{"name":"InvalidSignature","subtypes":[],"props":{}},"InvalidSignerId":{"name":"InvalidSignerId","subtypes":[],"props":{"account_id":""}},"InvalidTxError":{"name":"InvalidTxError","subtypes":["InvalidAccessKeyError","InvalidSignerId","SignerDoesNotExist","InvalidNonce","NonceTooLarge","InvalidReceiverId","InvalidSignature","NotEnoughBalance","LackBalanceForState","CostOverflow","InvalidChain","Expired","ActionsValidation","TransactionSizeExceeded","StorageError","ShardCongested","ShardStuck"],"props":{}},"IteratorWasInvalidated":{"name":"IteratorWasInvalidated","subtypes":[],"props":{"iterator_index":""}},"KeyLengthExceeded":{"name":"KeyLengthExceeded","subtypes":[],"props":{"length":"","limit":""}},"LackBalanceForState":{"name":"LackBalanceForState","subtypes":[],"props":{"account_id":"","amount":""}},"Memory":{"name":"Memory","subtypes":[],"props":{}},"MemoryAccessViolation":{"name":"MemoryAccessViolation","subtypes":[],"props":{}},"MemoryOutOfBounds":{"name":"MemoryOutOfBounds","subtypes":[],"props":{}},"MethodEmptyName":{"name":"MethodEmptyName","subtypes":[],"props":{}},"MethodInvalidSignature":{"name":"MethodInvalidSignature","subtypes":[],"props":{}},"MethodNameMismatch":{"name":"MethodNameMismatch","subtypes":[],"props":{"method_name":""}},"MethodNotFound":{"name":"MethodNotFound","subtypes":[],"props":{}},"MethodResolveError":{"name":"MethodResolveError","subtypes":["MethodEmptyName","MethodNotFound","MethodInvalidSignature"],"props":{}},"MisalignedAtomicAccess":{"name":"MisalignedAtomicAccess","subtypes":[],"props":{}},"NonceTooLarge":{"name":"NonceTooLarge","subtypes":[],"props":{"tx_nonce":"","upper_bound":""}},"NotEnoughAllowance":{"name":"NotEnoughAllowance","subtypes":[],"props":{"account_id":"","allowance":"","cost":"","public_key":""}},"NotEnoughBalance":{"name":"NotEnoughBalance","subtypes":[],"props":{"balance":"","cost":"","signer_id":""}},"NumberInputDataDependenciesExceeded":{"name":"NumberInputDataDependenciesExceeded","subtypes":[],"props":{"limit":"","number_of_input_data_dependencies":""}},"NumberOfLogsExceeded":{"name":"NumberOfLogsExceeded","subtypes":[],"props":{"limit":""}},"NumberPromisesExceeded":{"name":"NumberPromisesExceeded","subtypes":[],"props":{"limit":"","number_of_promises":""}},"OnlyImplicitAccountCreationAllowed":{"name":"OnlyImplicitAccountCreationAllowed","subtypes":[],"props":{"account_id":""}},"PrepareError":{"name":"PrepareError","subtypes":["Serialization","Deserialization","InternalMemoryDeclared","GasInstrumentation","StackHeightInstrumentation","Instantiate","Memory","TooManyFunctions","TooManyLocals"],"props":{}},"ProhibitedInView":{"name":"ProhibitedInView","subtypes":[],"props":{"method_name":""}},"ReceiptSizeExceeded":{"name":"ReceiptSizeExceeded","subtypes":[],"props":{"limit":"","size":""}},"ReceiptValidationError":{"name":"ReceiptValidationError","subtypes":["InvalidPredecessorId","InvalidReceiverId","InvalidSignerId","InvalidDataReceiverId","ReturnedValueLengthExceeded","NumberInputDataDependenciesExceeded","ActionsValidation","ReceiptSizeExceeded"],"props":{}},"ReceiverMismatch":{"name":"ReceiverMismatch","subtypes":[],"props":{"ak_receiver":"","tx_receiver":""}},"RequiresFullAccess":{"name":"RequiresFullAccess","subtypes":[],"props":{}},"ReturnedValueLengthExceeded":{"name":"ReturnedValueLengthExceeded","subtypes":[],"props":{"length":"","limit":""}},"Serialization":{"name":"Serialization","subtypes":[],"props":{}},"ShardCongested":{"name":"ShardCongested","subtypes":[],"props":{"congestion_level":"","shard_id":""}},"ShardStuck":{"name":"ShardStuck","subtypes":[],"props":{"missed_chunks":"","shard_id":""}},"SignerDoesNotExist":{"name":"SignerDoesNotExist","subtypes":[],"props":{"signer_id":""}},"StackHeightInstrumentation":{"name":"StackHeightInstrumentation","subtypes":[],"props":{}},"StackOverflow":{"name":"StackOverflow","subtypes":[],"props":{}},"TooManyFunctions":{"name":"TooManyFunctions","subtypes":[],"props":{}},"TooManyLocals":{"name":"TooManyLocals","subtypes":[],"props":{}},"TotalLogLengthExceeded":{"name":"TotalLogLengthExceeded","subtypes":[],"props":{"length":"","limit":""}},"TotalNumberOfActionsExceeded":{"name":"TotalNumberOfActionsExceeded","subtypes":[],"props":{"limit":"","total_number_of_actions":""}},"TotalPrepaidGasExceeded":{"name":"TotalPrepaidGasExceeded","subtypes":[],"props":{"limit":"","total_prepaid_gas":""}},"TransactionSizeExceeded":{"name":"TransactionSizeExceeded","subtypes":[],"props":{"limit":"","size":""}},"TriesToStake":{"name":"TriesToStake","subtypes":[],"props":{"account_id":"","balance":"","locked":"","stake":""}},"TriesToUnstake":{"name":"TriesToUnstake","subtypes":[],"props":{"account_id":""}},"TxExecutionError":{"name":"TxExecutionError","subtypes":["ActionError","InvalidTxError"],"props":{}},"Unreachable":{"name":"Unreachable","subtypes":[],"props":{}},"UnsuitableStakingKey":{"name":"UnsuitableStakingKey","subtypes":[],"props":{"public_key":""}},"UnsupportedProtocolFeature":{"name":"UnsupportedProtocolFeature","subtypes":[],"props":{"protocol_feature":"","version":""}},"ValueLengthExceeded":{"name":"ValueLengthExceeded","subtypes":[],"props":{"length":"","limit":""}},"WasmTrap":{"name":"WasmTrap","subtypes":["Unreachable","IncorrectCallIndirectSignature","MemoryOutOfBounds","CallIndirectOOB","IllegalArithmetic","MisalignedAtomicAccess","IndirectCallToNull","StackOverflow","GenericTrap"],"props":{}},"WasmerCompileError":{"name":"WasmerCompileError","subtypes":[],"props":{"msg":""}},"Closed":{"name":"Closed","subtypes":[],"props":{}},"ServerError":{"name":"ServerError","subtypes":["TxExecutionError","Timeout","Closed"],"props":{}},"Timeout":{"name":"Timeout","subtypes":[],"props":{}}}}')},68675:function(eu){"use strict";eu.exports=JSON.parse('{"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}')}}]);